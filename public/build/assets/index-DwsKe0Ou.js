import{G as je,X as ot,am as El,S as nt,an as qa,ao as xa,ap as jl,D as pa,N as Xt,Q as ll,aq as Yl,ar as al,as as zl,at as Nl,au as Ll,aa as wt,ab as _t,av as Ql,ac as Ma,R as ka,d as gt,aw as Da,a3 as Va,ax as Oa,ay as nl,az as Pa,aA as gl,aB as Ta,aC as Vt,O as Ha,aD as Yt,aE as yl,aF as qt,L as $a,I as Ul,ad as Kl,k as Fa,l as Ba,i as Aa,H as ol,z as Zl,aG as ne,aH as Wl,aI as Ia,aJ as Xl,aK as Jl,aL as Gl,c as Ee,aM as Ra,aN as ea,aO as Mt,aP as Ea,a5 as ja,_ as Ya,C as bl,aQ as Ft,aR as ta,al as za,aS as Na,aT as la,aU as aa,aV as Sl,h as La,aW as Qa,aX as wl,aY as Jt,aZ as _l,a_ as Ua,A as zt,m as Ka,r as rl,ae as Za,a$ as Wa,b0 as Cl,af as Xa,b1 as Ja,b2 as ql,U as Ga,V as en,b3 as tn,ai as ln,b4 as an,b5 as nn,b6 as xl,$ as pl,b7 as on,a6 as Ml,a4 as kl,b8 as na}from"./id-CgCjB2Kz.js";import{r as L,I as ul,J as il,o as sl,g as ze,h as f,n as Qe,K as rn,c as h,w as ge,U as cl,b as Dt,V as un,W as sn,f as oa,j as ra,T as mt,z as Gt,k as bt,l as ft,y as Dl,X as cn}from"./vendor1-iYlYwA4d.js";const xo=je({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:l}){const o=ze(),r=L(null);let a=0;const d=[];function i(q){const x=typeof q=="boolean"?q:e.noErrorFocus!==!0,p=++a,C=(k,m)=>{l(`validation${k===!0?"Success":"Error"}`,m)},U=k=>{const m=k.validate();return typeof m.then=="function"?m.then(P=>({valid:P,comp:k}),P=>({valid:!1,comp:k,err:P})):Promise.resolve({valid:m,comp:k})};return(e.greedy===!0?Promise.all(d.map(U)).then(k=>k.filter(m=>m.valid!==!0)):d.reduce((k,m)=>k.then(()=>U(m).then(P=>{if(P.valid===!1)return Promise.reject(P)})),Promise.resolve()).catch(k=>[k])).then(k=>{if(k===void 0||k.length===0)return p===a&&C(!0),!0;if(p===a){const{comp:m,err:P}=k[0];if(P!==void 0&&console.error(P),C(!1,m),x===!0){const K=k.find(({comp:oe})=>typeof oe.focus=="function"&&El(oe.$)===!1);K!==void 0&&K.comp.focus()}}return!1})}function v(){a++,d.forEach(q=>{typeof q.resetValidation=="function"&&q.resetValidation()})}function b(q){q!==void 0&&nt(q);const x=a+1;i().then(p=>{x===a&&p===!0&&(e.onSubmit!==void 0?l("submit",q):q!==void 0&&q.target!==void 0&&typeof q.target.submit=="function"&&q.target.submit())})}function u(q){q!==void 0&&nt(q),l("reset"),Qe(()=>{v(),e.autofocus===!0&&e.noResetFocus!==!0&&y()})}function y(){qa(()=>{if(r.value===null)return;const q=r.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||r.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||r.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(r.value.querySelectorAll("[tabindex]"),x=>x.tabIndex!==-1);q!=null&&q.focus({preventScroll:!0})})}rn(xa,{bindComponent(q){d.push(q)},unbindComponent(q){const x=d.indexOf(q);x!==-1&&d.splice(x,1)}});let D=!1;return ul(()=>{D=!0}),il(()=>{D===!0&&e.autofocus===!0&&y()}),sl(()=>{e.autofocus===!0&&y()}),Object.assign(o.proxy,{validate:i,resetValidation:v,submit:b,reset:u,focus:y,getValidationComponents:()=>d}),()=>f("form",{class:"q-form",ref:r,onSubmit:b,onReset:u},ot(t.default))}}),dn=()=>{const e=ll();Object.keys(e.props.errors)[0]&&setTimeout(()=>{const l=document.querySelector(".q-field--error input");l&&(l.scrollIntoView({behavior:"smooth",block:"center"}),l.focus())},0)};function po(e){const{form:t,url:l}=e;t.clearErrors(),t.post(l,{preserveScroll:!0,onSuccess:o=>{},onError:o=>{dn(),!(!o||typeof o.message!="string"||o.message.length===0)&&Xt.create({message:o.message,icon:"info",color:"negative",actions:[{icon:"close",color:"white",round:!0,dense:!0}]})}})}function Mo(e){const{message:t,url:l,fetchItemsCallback:o,loading:r}=e;pa.create({title:"Konfirmasi",icon:"question",message:t,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{r.value=!0,jl.post(l).then(a=>{Xt.create(a.data.message),o()}).finally(()=>{r.value=!1}).catch(a=>{let d="";a.response.data&&a.response.data.message?d=a.response.data.message:a.message&&(d=a.message),d.length>0&&Xt.create({message:d,color:"red"}),console.log(a)})})}function ko(e){const{pagination:t,props:l,rows:o,url:r,loading:a,filter:d}=e;let i=l?l.pagination:t.value,v={page:i.page,per_page:i.rowsPerPage,order_by:i.sortBy,order_type:i.descending?"desc":"asc",filter:d};a.value=!0,jl.get(r,{params:v}).then(b=>{o.value=b.data.data,t.value.page=b.data.current_page,t.value.rowsPerPage=b.data.per_page,t.value.rowsNumber=b.data.total,l&&(t.value.sortBy=l.pagination.sortBy,t.value.descending=l.pagination.descending)}).finally(()=>{a.value=!1})}const Do=(...e)=>{let l=ll().url;return l.indexOf("?")===-1?{}:(l=l.substring(l.indexOf("?")+1),Object.assign(Object.fromEntries(new URLSearchParams(l)),...e))};function Vo(e){const t=ll();return Array.isArray(e)||(e=[e]),e.includes(t.props.auth.user.role)}async function Oo(e){const t=e.getNativeElement();t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.focus())}const fn=je({name:"QField",inheritAttrs:!1,props:{...al,tag:{type:String,default:"label"}},emits:Yl,setup(){return zl(Nl({tagProp:!0}))}}),vn={xs:8,sm:10,md:14,lg:20,xl:24},mn=je({name:"QChip",props:{...wt,...Ll,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:l}){const{proxy:{$q:o}}=ze(),r=_t(e,o),a=Ql(e,vn),d=h(()=>e.selected===!0||e.icon!==void 0),i=h(()=>e.selected===!0?e.iconSelected||o.iconSet.chip.selected:e.icon),v=h(()=>e.iconRemove||o.iconSet.chip.remove),b=h(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),u=h(()=>{const C=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(C?` text-${C} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(b.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(r.value===!0?" q-chip--dark q-dark":"")}),y=h(()=>{const C=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},U={...C,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||o.lang.label.remove};return{chip:C,remove:U}});function D(C){C.keyCode===13&&q(C)}function q(C){e.disable||(l("update:selected",!e.selected),l("click",C))}function x(C){(C.keyCode===void 0||C.keyCode===13)&&(nt(C),e.disable===!1&&(l("update:modelValue",!1),l("remove")))}function p(){const C=[];b.value===!0&&C.push(f("div",{class:"q-focus-helper"})),d.value===!0&&C.push(f(gt,{class:"q-chip__icon q-chip__icon--left",name:i.value}));const U=e.label!==void 0?[f("div",{class:"ellipsis"},[e.label])]:void 0;return C.push(f("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Da(t.default,U))),e.iconRight&&C.push(f(gt,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&C.push(f(gt,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:v.value,...y.value.remove,onClick:x,onKeyup:x})),C}return()=>{if(e.modelValue===!1)return;const C={class:u.value,style:a.value};return b.value===!0&&Object.assign(C,y.value.chip,{onClick:q,onKeyup:D}),Ma("div",C,p(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[ka,e.ripple]])}}});let It=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,It=e.scrollLeft>=0,e.remove()}const et=1e3,hn=["start","center","end","start-force","center-force","end-force"],ua=Array.prototype.filter,gn=window.getComputedStyle(document.body).overflowAnchor===void 0?Va:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const l=e.children||[];ua.call(l,r=>r.dataset&&r.dataset.qVsAnchor!==void 0).forEach(r=>{delete r.dataset.qVsAnchor});const o=l[t];o&&o.dataset&&(o.dataset.qVsAnchor="")}))};function kt(e,t){return e+t}function Nt(e,t,l,o,r,a,d,i){const v=e===window?document.scrollingElement||document.documentElement:e,b=r===!0?"offsetWidth":"offsetHeight",u={scrollStart:0,scrollViewSize:-d-i,scrollMaxSize:0,offsetStart:-d,offsetEnd:-i};if(r===!0?(e===window?(u.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,u.scrollViewSize+=document.documentElement.clientWidth):(u.scrollStart=v.scrollLeft,u.scrollViewSize+=v.clientWidth),u.scrollMaxSize=v.scrollWidth,a===!0&&(u.scrollStart=(It===!0?u.scrollMaxSize-u.scrollViewSize:0)-u.scrollStart)):(e===window?(u.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,u.scrollViewSize+=document.documentElement.clientHeight):(u.scrollStart=v.scrollTop,u.scrollViewSize+=v.clientHeight),u.scrollMaxSize=v.scrollHeight),l!==null)for(let y=l.previousElementSibling;y!==null;y=y.previousElementSibling)y.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetStart+=y[b]);if(o!==null)for(let y=o.nextElementSibling;y!==null;y=y.nextElementSibling)y.classList.contains("q-virtual-scroll--skip")===!1&&(u.offsetEnd+=y[b]);if(t!==e){const y=v.getBoundingClientRect(),D=t.getBoundingClientRect();r===!0?(u.offsetStart+=D.left-y.left,u.offsetEnd-=D.width):(u.offsetStart+=D.top-y.top,u.offsetEnd-=D.height),e!==window&&(u.offsetStart+=u.scrollStart),u.offsetEnd+=u.scrollMaxSize-u.offsetStart}return u}function Vl(e,t,l,o){t==="end"&&(t=(e===window?document.body:e)[l===!0?"scrollWidth":"scrollHeight"]),e===window?l===!0?(o===!0&&(t=(It===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):l===!0?(o===!0&&(t=(It===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function Ot(e,t,l,o){if(l>=o)return 0;const r=t.length,a=Math.floor(l/et),d=Math.floor((o-1)/et)+1;let i=e.slice(a,d).reduce(kt,0);return l%et!==0&&(i-=t.slice(a*et,l).reduce(kt,0)),o%et!==0&&o!==r&&(i-=t.slice(o,d*et).reduce(kt,0)),i}const ia={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},sa=Object.keys(ia),el={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...ia};function ca({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:l,virtualScrollItemSizeComputed:o}){const r=ze(),{props:a,emit:d,proxy:i}=r,{$q:v}=i;let b,u,y,D=[],q;const x=L(0),p=L(0),C=L({}),U=L(null),W=L(null),k=L(null),m=L({from:0,to:0}),P=h(()=>a.tableColspan!==void 0?a.tableColspan:100);o===void 0&&(o=h(()=>a.virtualScrollItemSize));const K=h(()=>o.value+";"+a.virtualScrollHorizontal),oe=h(()=>K.value+";"+a.virtualScrollSliceRatioBefore+";"+a.virtualScrollSliceRatioAfter);ge(oe,()=>{ie()}),ge(K,te);function te(){de(u,!0)}function He(w){de(w===void 0?u:w)}function fe(w,T){const A=t();if(A==null||A.nodeType===8)return;const J=Nt(A,l(),U.value,W.value,a.virtualScrollHorizontal,v.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd);y!==J.scrollViewSize&&ie(J.scrollViewSize),Se(A,J,Math.min(e.value-1,Math.max(0,parseInt(w,10)||0)),0,hn.indexOf(T)!==-1?T:u!==-1&&w>u?"end":"start")}function ue(){const w=t();if(w==null||w.nodeType===8)return;const T=Nt(w,l(),U.value,W.value,a.virtualScrollHorizontal,v.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd),A=e.value-1,J=T.scrollMaxSize-T.offsetStart-T.offsetEnd-p.value;if(b===T.scrollStart)return;if(T.scrollMaxSize<=0){Se(w,T,0,0);return}y!==T.scrollViewSize&&ie(T.scrollViewSize),Ce(m.value.from);const le=Math.floor(T.scrollMaxSize-Math.max(T.scrollViewSize,T.offsetEnd)-Math.min(q[A],T.scrollViewSize/2));if(le>0&&Math.ceil(T.scrollStart)>=le){Se(w,T,A,T.scrollMaxSize-T.offsetEnd-D.reduce(kt,0));return}let Q=0,z=T.scrollStart-T.offsetStart,se=z;if(z<=J&&z+T.scrollViewSize>=x.value)z-=x.value,Q=m.value.from,se=z;else for(let E=0;z>=D[E]&&Q<A;E++)z-=D[E],Q+=et;for(;z>0&&Q<A;)z-=q[Q],z>-T.scrollViewSize?(Q++,se=z):se=q[Q]+z;Se(w,T,Q,se)}function Se(w,T,A,J,le){const Q=typeof le=="string"&&le.indexOf("-force")!==-1,z=Q===!0?le.replace("-force",""):le,se=z!==void 0?z:"start";let E=Math.max(0,A-C.value[se]),xe=E+C.value.total;xe>e.value&&(xe=e.value,E=Math.max(0,xe-C.value.total)),b=T.scrollStart;const ae=E!==m.value.from||xe!==m.value.to;if(ae===!1&&z===void 0){Me(A);return}const{activeElement:ye}=document,ke=k.value;ae===!0&&ke!==null&&ke!==ye&&ke.contains(ye)===!0&&(ke.addEventListener("focusout",Ve),setTimeout(()=>{ke!==null&&ke.removeEventListener("focusout",Ve)})),gn(ke,A-E);const Ye=z!==void 0?q.slice(E,A).reduce(kt,0):0;if(ae===!0){const Ie=xe>=m.value.from&&E<=m.value.to?m.value.to:xe;m.value={from:E,to:Ie},x.value=Ot(D,q,0,E),p.value=Ot(D,q,xe,e.value),requestAnimationFrame(()=>{m.value.to!==xe&&b===T.scrollStart&&(m.value={from:m.value.from,to:xe},p.value=Ot(D,q,xe,e.value))})}requestAnimationFrame(()=>{if(b!==T.scrollStart)return;ae===!0&&Ce(E);const Ie=q.slice(E,A).reduce(kt,0),Te=Ie+T.offsetStart+x.value,qe=Te+q[A];let Je=Te+J;if(z!==void 0){const rt=Ie-Ye,Ne=T.scrollStart+rt;Je=Q!==!0&&Ne<Te&&qe<Ne+T.scrollViewSize?Ne:z==="end"?qe-T.scrollViewSize:Te-(z==="start"?0:Math.round((T.scrollViewSize-q[A])/2))}b=Je,Vl(w,Je,a.virtualScrollHorizontal,v.lang.rtl),Me(A)})}function Ce(w){const T=k.value;if(T){const A=ua.call(T.children,E=>E.classList&&E.classList.contains("q-virtual-scroll--skip")===!1),J=A.length,le=a.virtualScrollHorizontal===!0?E=>E.getBoundingClientRect().width:E=>E.offsetHeight;let Q=w,z,se;for(let E=0;E<J;){for(z=le(A[E]),E++;E<J&&A[E].classList.contains("q-virtual-scroll--with-prev")===!0;)z+=le(A[E]),E++;se=z-q[Q],se!==0&&(q[Q]+=se,D[Math.floor(Q/et)]+=se),Q++}}}function Ve(){k.value!==null&&k.value!==void 0&&k.value.focus()}function de(w,T){const A=1*o.value;(T===!0||Array.isArray(q)===!1)&&(q=[]);const J=q.length;q.length=e.value;for(let Q=e.value-1;Q>=J;Q--)q[Q]=A;const le=Math.floor((e.value-1)/et);D=[];for(let Q=0;Q<=le;Q++){let z=0;const se=Math.min((Q+1)*et,e.value);for(let E=Q*et;E<se;E++)z+=q[E];D.push(z)}u=-1,b=void 0,x.value=Ot(D,q,0,m.value.from),p.value=Ot(D,q,m.value.to,e.value),w>=0?(Ce(m.value.from),Qe(()=>{fe(w)})):Oe()}function ie(w){if(w===void 0&&typeof window<"u"){const z=t();z!=null&&z.nodeType!==8&&(w=Nt(z,l(),U.value,W.value,a.virtualScrollHorizontal,v.lang.rtl,a.virtualScrollStickySizeStart,a.virtualScrollStickySizeEnd).scrollViewSize)}y=w;const T=parseFloat(a.virtualScrollSliceRatioBefore)||0,A=parseFloat(a.virtualScrollSliceRatioAfter)||0,J=1+T+A,le=w===void 0||w<=0?1:Math.ceil(w/o.value),Q=Math.max(1,le,Math.ceil((a.virtualScrollSliceSize>0?a.virtualScrollSliceSize:10)/J));C.value={total:Math.ceil(Q*J),start:Math.ceil(Q*T),center:Math.ceil(Q*(.5+T)),end:Math.ceil(Q*(1+T)),view:le}}function ve(w,T){const A=a.virtualScrollHorizontal===!0?"width":"height",J={["--q-virtual-scroll-item-"+A]:o.value+"px"};return[w==="tbody"?f(w,{class:"q-virtual-scroll__padding",key:"before",ref:U},[f("tr",[f("td",{style:{[A]:`${x.value}px`,...J},colspan:P.value})])]):f(w,{class:"q-virtual-scroll__padding",key:"before",ref:U,style:{[A]:`${x.value}px`,...J}}),f(w,{class:"q-virtual-scroll__content",key:"content",ref:k,tabindex:-1},T.flat()),w==="tbody"?f(w,{class:"q-virtual-scroll__padding",key:"after",ref:W},[f("tr",[f("td",{style:{[A]:`${p.value}px`,...J},colspan:P.value})])]):f(w,{class:"q-virtual-scroll__padding",key:"after",ref:W,style:{[A]:`${p.value}px`,...J}})]}function Me(w){u!==w&&(a.onVirtualScroll!==void 0&&d("virtualScroll",{index:w,from:m.value.from,to:m.value.to-1,direction:w<u?"decrease":"increase",ref:i}),u=w)}ie();const Oe=Oa(ue,v.platform.is.ios===!0?120:35);cl(()=>{ie()});let Ae=!1;return ul(()=>{Ae=!0}),il(()=>{if(Ae!==!0)return;const w=t();b!==void 0&&w!==void 0&&w!==null&&w.nodeType!==8?Vl(w,b,a.virtualScrollHorizontal,v.lang.rtl):fe(u)}),Dt(()=>{Oe.cancel()}),Object.assign(i,{scrollTo:fe,reset:te,refresh:He}),{virtualScrollSliceRange:m,virtualScrollSliceSizeComputed:C,setVirtualScrollSize:ie,onVirtualScrollEvt:Oe,localResetVirtualScroll:de,padVirtualScroll:ve,scrollTo:fe,reset:te,refresh:He}}const Ol=e=>["add","add-unique","toggle"].includes(e),yn=".*+?^${}()|[]\\",bn=Object.keys(al);function Lt(e,t){if(typeof e=="function")return e;const l=e!==void 0?e:t;return o=>o!==null&&typeof o=="object"&&l in o?o[l]:o}const Sn=je({name:"QSelect",inheritAttrs:!1,props:{...el,...nl,...al,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Ol},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:el.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...Yl,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:t,emit:l}){const{proxy:o}=ze(),{$q:r}=o,a=L(!1),d=L(!1),i=L(-1),v=L(""),b=L(!1),u=L(!1);let y=null,D=null,q,x,p,C=null,U,W,k,m;const P=L(null),K=L(null),oe=L(null),te=L(null),He=L(null),fe=Pa(e),ue=Ta(S),Se=h(()=>e.options.length),Ce=h(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Ve,virtualScrollSliceSizeComputed:de,localResetVirtualScroll:ie,padVirtualScroll:ve,onVirtualScrollEvt:Me,scrollTo:Oe,setVirtualScrollSize:Ae}=ca({virtualScrollLength:Se,getVirtualScrollTarget:ct,getVirtualScrollEl:Ge,virtualScrollItemSizeComputed:Ce}),w=Nl(),T=h(()=>{const s=e.mapOptions===!0&&e.multiple!==!0,$=e.modelValue!==void 0&&(e.modelValue!==null||s===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0){const F=e.mapOptions===!0&&q!==void 0?q:[],G=$.map(be=>I(be,F));return e.modelValue===null&&s===!0?G.filter(be=>be!==null):G}return $}),A=h(()=>{const s={};return bn.forEach($=>{const F=e[$];F!==void 0&&(s[$]=F)}),s}),J=h(()=>e.optionsDark===null?w.isDark.value:e.optionsDark),le=h(()=>gl(T.value)),Q=h(()=>{let s="q-field__input q-placeholder col";return e.hideSelected===!0||T.value.length===0?[s,e.inputClass]:(s+=" q-field__input--padding",e.inputClass===void 0?s:[s,e.inputClass])}),z=h(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),se=h(()=>Se.value===0),E=h(()=>T.value.map(s=>pe.value(s)).join(", ")),xe=h(()=>e.displayValue!==void 0?e.displayValue:E.value),ae=h(()=>e.optionsHtml===!0?()=>!0:s=>s!=null&&s.html===!0),ye=h(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||T.value.some(ae.value))),ke=h(()=>w.focused.value===!0?e.tabindex:-1),Ye=h(()=>{const s={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":a.value===!0?"true":"false","aria-controls":`${w.targetUid.value}_lb`};return i.value>=0&&(s["aria-activedescendant"]=`${w.targetUid.value}_${i.value}`),s}),Ie=h(()=>({id:`${w.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Te=h(()=>T.value.map((s,$)=>({index:$,opt:s,html:ae.value(s),selected:!0,removeAtIndex:tt,toggleOption:Re,tabindex:ke.value}))),qe=h(()=>{if(Se.value===0)return[];const{from:s,to:$}=Ve.value;return e.options.slice(s,$).map((F,G)=>{const be=Ue.value(F)===!0,he=Z(F)===!0,Be=s+G,De={clickable:!0,active:he,activeClass:Ne.value,manualFocus:!0,focused:!1,disable:be,tabindex:-1,dense:e.optionsDense,dark:J.value,role:"option","aria-selected":he===!0?"true":"false",id:`${w.targetUid.value}_${Be}`,onClick:()=>{Re(F)}};return be!==!0&&(i.value===Be&&(De.focused=!0),r.platform.is.desktop===!0&&(De.onMousemove=()=>{a.value===!0&&_(Be)})),{index:Be,opt:F,html:ae.value(F),label:pe.value(F),selected:De.active,focused:De.focused,toggleOption:Re,setOptionIndex:_,itemProps:De}})}),Je=h(()=>e.dropdownIcon!==void 0?e.dropdownIcon:r.iconSet.arrow.dropdown),rt=h(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Ne=h(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),Pe=h(()=>Lt(e.optionValue,"value")),pe=h(()=>Lt(e.optionLabel,"label")),Ue=h(()=>Lt(e.optionDisable,"disable")),We=h(()=>T.value.map(Pe.value)),ut=h(()=>{const s={onInput:S,onChange:ue,onKeydown:Fe,onKeyup:j,onKeypress:me,onFocus:ce,onClick($){x===!0&&qt($)}};return s.onCompositionstart=s.onCompositionupdate=s.onCompositionend=ue,s});ge(T,s=>{q=s,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&w.innerLoading.value!==!0&&(d.value!==!0&&a.value!==!0||le.value!==!0)&&(p!==!0&&Ct(),(d.value===!0||a.value===!0)&&Y(""))},{immediate:!0}),ge(()=>e.fillInput,Ct),ge(a,Et),ge(Se,Ca);function Xe(s){return e.emitValue===!0?Pe.value(s):s}function Le(s){if(s!==-1&&s<T.value.length)if(e.multiple===!0){const $=e.modelValue.slice();l("remove",{index:s,value:$.splice(s,1)[0]}),l("update:modelValue",$)}else l("update:modelValue",null)}function tt(s){Le(s),w.focus()}function lt(s,$){const F=Xe(s);if(e.multiple!==!0){e.fillInput===!0&&R(pe.value(s),!0,!0),l("update:modelValue",F);return}if(T.value.length===0){l("add",{index:0,value:F}),l("update:modelValue",e.multiple===!0?[F]:F);return}if($===!0&&Z(s)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const G=e.modelValue.slice();l("add",{index:G.length,value:F}),G.push(F),l("update:modelValue",G)}function Re(s,$){if(w.editable.value!==!0||s===void 0||Ue.value(s)===!0)return;const F=Pe.value(s);if(e.multiple!==!0){$!==!0&&(R(e.fillInput===!0?pe.value(s):"",!0,!0),Ke()),K.value!==null&&K.value.focus(),(T.value.length===0||Vt(Pe.value(T.value[0]),F)!==!0)&&l("update:modelValue",e.emitValue===!0?F:s);return}if((x!==!0||b.value===!0)&&w.focus(),ce(),T.value.length===0){const he=e.emitValue===!0?F:s;l("add",{index:0,value:he}),l("update:modelValue",e.multiple===!0?[he]:he);return}const G=e.modelValue.slice(),be=We.value.findIndex(he=>Vt(he,F));if(be!==-1)l("remove",{index:be,value:G.splice(be,1)[0]});else{if(e.maxValues!==void 0&&G.length>=e.maxValues)return;const he=e.emitValue===!0?F:s;l("add",{index:G.length,value:he}),G.push(he)}l("update:modelValue",G)}function _(s){if(r.platform.is.desktop!==!0)return;const $=s!==-1&&s<Se.value?s:-1;i.value!==$&&(i.value=$)}function M(s=1,$){if(a.value===!0){let F=i.value;do F=yl(F+s,-1,Se.value-1);while(F!==-1&&F!==i.value&&Ue.value(e.options[F])===!0);i.value!==F&&(_(F),Oe(F),$!==!0&&e.useInput===!0&&e.fillInput===!0&&H(F>=0?pe.value(e.options[F]):U,!0))}}function I(s,$){const F=G=>Vt(Pe.value(G),s);return e.options.find(F)||$.find(F)||s}function Z(s){const $=Pe.value(s);return We.value.find(F=>Vt(F,$))!==void 0}function ce(s){e.useInput===!0&&K.value!==null&&(s===void 0||K.value===s.target&&s.target.value===E.value)&&K.value.select()}function $e(s){$a(s,27)===!0&&a.value===!0&&(qt(s),Ke(),Ct()),l("keyup",s)}function j(s){const{value:$}=s.target;if(s.keyCode!==void 0){$e(s);return}if(s.target.value="",y!==null&&(clearTimeout(y),y=null),D!==null&&(clearTimeout(D),D=null),Ct(),typeof $=="string"&&$.length!==0){const F=$.toLocaleLowerCase(),G=he=>{const Be=e.options.find(De=>he.value(De).toLocaleLowerCase()===F);return Be===void 0?!1:(T.value.indexOf(Be)===-1?Re(Be):Ke(),!0)},be=he=>{G(Pe)!==!0&&(G(pe)===!0||he===!0||Y($,!0,()=>be(!0)))};be()}else w.clearValue(s)}function me(s){l("keypress",s)}function Fe(s){if(l("keydown",s),Ha(s)===!0)return;const $=v.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),F=s.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(i.value!==-1||$===!0);if(s.keyCode===27){Yt(s);return}if(s.keyCode===9&&F===!1){N();return}if(s.target===void 0||s.target.id!==w.targetUid.value||w.editable.value!==!0)return;if(s.keyCode===40&&w.innerLoading.value!==!0&&a.value===!1){nt(s),re();return}if(s.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&v.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Le(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&l("update:modelValue",null);return}(s.keyCode===35||s.keyCode===36)&&(typeof v.value!="string"||v.value.length===0)&&(nt(s),i.value=-1,M(s.keyCode===36?1:-1,e.multiple)),(s.keyCode===33||s.keyCode===34)&&de.value!==void 0&&(nt(s),i.value=Math.max(-1,Math.min(Se.value,i.value+(s.keyCode===33?-1:1)*de.value.view)),M(s.keyCode===33?1:-1,e.multiple)),(s.keyCode===38||s.keyCode===40)&&(nt(s),M(s.keyCode===38?-1:1,e.multiple));const G=Se.value;if((k===void 0||m<Date.now())&&(k=""),G>0&&e.useInput!==!0&&s.key!==void 0&&s.key.length===1&&s.altKey===!1&&s.ctrlKey===!1&&s.metaKey===!1&&(s.keyCode!==32||k.length!==0)){a.value!==!0&&re(s);const be=s.key.toLocaleLowerCase(),he=k.length===1&&k[0]===be;m=Date.now()+1500,he===!1&&(nt(s),k+=be);const Be=new RegExp("^"+k.split("").map(jt=>yn.indexOf(jt)!==-1?"\\"+jt:jt).join(".*"),"i");let De=i.value;if(he===!0||De<0||Be.test(pe.value(e.options[De]))!==!0)do De=yl(De+1,-1,G-1);while(De!==i.value&&(Ue.value(e.options[De])===!0||Be.test(pe.value(e.options[De]))!==!0));i.value!==De&&Qe(()=>{_(De),Oe(De),De>=0&&e.useInput===!0&&e.fillInput===!0&&H(pe.value(e.options[De]),!0)});return}if(!(s.keyCode!==13&&(s.keyCode!==32||e.useInput===!0||k!=="")&&(s.keyCode!==9||F===!1))){if(s.keyCode!==9&&nt(s),i.value!==-1&&i.value<G){Re(e.options[i.value]);return}if($===!0){const be=(he,Be)=>{if(Be){if(Ol(Be)!==!0)return}else Be=e.newValueMode;if(R("",e.multiple!==!0,!0),he==null)return;(Be==="toggle"?Re:lt)(he,Be==="add-unique"),e.multiple!==!0&&(K.value!==null&&K.value.focus(),Ke())};if(e.onNewValue!==void 0?l("newValue",v.value,be):be(v.value),e.multiple!==!0)return}a.value===!0?N():w.innerLoading.value!==!0&&re()}}function Ge(){return x===!0?He.value:oe.value!==null&&oe.value.contentEl!==null?oe.value.contentEl:void 0}function ct(){return Ge()}function at(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?Te.value.map(s=>t["selected-item"](s)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?Te.value.map((s,$)=>f(mn,{key:"option-"+$,removable:w.editable.value===!0&&Ue.value(s.opt)!==!0,dense:!0,textColor:e.color,tabindex:ke.value,onRemove(){s.removeAtIndex($)}},()=>f("span",{class:"ellipsis",[s.html===!0?"innerHTML":"textContent"]:pe.value(s.opt)}))):[f("span",{[ye.value===!0?"innerHTML":"textContent"]:xe.value})]}function dt(){if(se.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:v.value}):void 0;const s=t.option!==void 0?t.option:F=>f(Aa,{key:F.index,...F.itemProps},()=>f(Fa,()=>f(Ba,()=>f("span",{[F.html===!0?"innerHTML":"textContent"]:F.label}))));let $=ve("div",qe.value.map(s));return t["before-options"]!==void 0&&($=t["before-options"]().concat($)),ol(t["after-options"],$)}function yt(s,$){const F=$===!0?{...Ye.value,...w.splitAttrs.attributes.value}:void 0,G={ref:$===!0?K:void 0,key:"i_t",class:Q.value,style:e.inputStyle,value:v.value!==void 0?v.value:"",type:"search",...F,id:$===!0?w.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":s===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ut.value};return s!==!0&&x===!0&&(Array.isArray(G.class)===!0?G.class=[...G.class,"no-pointer-events"]:G.class+=" no-pointer-events"),f("input",G)}function S(s){y!==null&&(clearTimeout(y),y=null),D!==null&&(clearTimeout(D),D=null),!(s&&s.target&&s.target.qComposing===!0)&&(H(s.target.value||""),p=!0,U=v.value,w.focused.value!==!0&&(x!==!0||b.value===!0)&&w.focus(),e.onFilter!==void 0&&(y=setTimeout(()=>{y=null,Y(v.value)},e.inputDebounce)))}function H(s,$){v.value!==s&&(v.value=s,$===!0||e.inputDebounce===0||e.inputDebounce==="0"?l("inputValue",s):D=setTimeout(()=>{D=null,l("inputValue",s)},e.inputDebounce))}function R(s,$,F){p=F!==!0,e.useInput===!0&&(H(s,!0),($===!0||F!==!0)&&(U=s),$!==!0&&Y(s))}function Y(s,$,F){if(e.onFilter===void 0||$!==!0&&w.focused.value!==!0)return;w.innerLoading.value===!0?l("filterAbort"):(w.innerLoading.value=!0,u.value=!0),s!==""&&e.multiple!==!0&&T.value.length!==0&&p!==!0&&s===pe.value(T.value[0])&&(s="");const G=setTimeout(()=>{a.value===!0&&(a.value=!1)},10);C!==null&&clearTimeout(C),C=G,l("filter",s,(be,he)=>{($===!0||w.focused.value===!0)&&C===G&&(clearTimeout(C),typeof be=="function"&&be(),u.value=!1,Qe(()=>{w.innerLoading.value=!1,w.editable.value===!0&&($===!0?a.value===!0&&Ke():a.value===!0?Et(!0):a.value=!0),typeof he=="function"&&Qe(()=>{he(o)}),typeof F=="function"&&Qe(()=>{F(o)})}))},()=>{w.focused.value===!0&&C===G&&(clearTimeout(C),w.innerLoading.value=!1,u.value=!1),a.value===!0&&(a.value=!1)})}function X(){return f(Ul,{ref:oe,class:z.value,style:e.popupContentStyle,modelValue:a.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&se.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:J.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:rt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Ie.value,onScrollPassive:Me,onBeforeShow:vl,onBeforeHide:we,onShow:n},dt)}function we(s){ml(s),N()}function n(){Ae()}function c(s){qt(s),K.value!==null&&K.value.focus(),b.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function g(s){qt(s),Qe(()=>{b.value=!1})}function V(){const s=[f(fn,{class:`col-auto ${w.fieldClass.value}`,...A.value,for:w.targetUid.value,dark:J.value,square:!0,loading:u.value,itemAligned:!1,filled:!0,stackLabel:v.value.length!==0,...w.splitAttrs.listeners.value,onFocus:c,onBlur:g},{...t,rawControl:()=>w.getControl(!0),before:void 0,after:void 0})];return a.value===!0&&s.push(f("div",{ref:He,class:z.value+" scroll",style:e.popupContentStyle,...Ie.value,onClick:Yt,onScrollPassive:Me},dt())),f(Kl,{ref:te,modelValue:d.value,position:e.useInput===!0?"top":void 0,transitionShow:W,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:vl,onBeforeHide:O,onHide:ee,onShow:B},()=>f("div",{class:"q-select__dialog"+(J.value===!0?" q-select__dialog--dark q-dark":"")+(b.value===!0?" q-select__dialog--focused":"")},s))}function O(s){ml(s),te.value!==null&&te.value.__updateRefocusTarget(w.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),w.focused.value=!1}function ee(s){Ke(),w.focused.value===!1&&l("blur",s),Ct()}function B(){const s=document.activeElement;(s===null||s.id!==w.targetUid.value)&&K.value!==null&&K.value!==s&&K.value.focus(),Ae()}function N(){d.value!==!0&&(i.value=-1,a.value===!0&&(a.value=!1),w.focused.value===!1&&(C!==null&&(clearTimeout(C),C=null),w.innerLoading.value===!0&&(l("filterAbort"),w.innerLoading.value=!1,u.value=!1)))}function re(s){w.editable.value===!0&&(x===!0?(w.onControlFocusin(s),d.value=!0,Qe(()=>{w.focus()})):w.focus(),e.onFilter!==void 0?Y(v.value):(se.value!==!0||t["no-option"]!==void 0)&&(a.value=!0))}function Ke(){d.value=!1,N()}function Ct(){e.useInput===!0&&R(e.multiple!==!0&&e.fillInput===!0&&T.value.length!==0&&pe.value(T.value[0])||"",!0,!0)}function Et(s){let $=-1;if(s===!0){if(T.value.length!==0){const F=Pe.value(T.value[0]);$=e.options.findIndex(G=>Vt(Pe.value(G),F))}ie($)}_($)}function Ca(s,$){a.value===!0&&w.innerLoading.value===!1&&(ie(-1,!0),Qe(()=>{a.value===!0&&w.innerLoading.value===!1&&(s>$?ie():Et(!0))}))}function fl(){d.value===!1&&oe.value!==null&&oe.value.updatePosition()}function vl(s){s!==void 0&&qt(s),l("popupShow",s),w.hasPopupOpen=!0,w.onControlFocusin(s)}function ml(s){s!==void 0&&qt(s),l("popupHide",s),w.hasPopupOpen=!1,w.onControlFocusout(s)}function hl(){x=r.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||se.value===!1:!0),W=r.platform.is.ios===!0&&x===!0&&e.useInput===!0?"fade":e.transitionShow}return un(hl),sn(fl),hl(),Dt(()=>{y!==null&&clearTimeout(y),D!==null&&clearTimeout(D)}),Object.assign(o,{showPopup:re,hidePopup:Ke,removeAtIndex:Le,add:lt,toggleOption:Re,getOptionIndex:()=>i.value,setOptionIndex:_,moveOptionSelection:M,filter:Y,updateMenuPosition:fl,updateInputValue:R,isOptionSelected:Z,getEmittingOptionValue:Xe,isOptionDisabled:(...s)=>Ue.value.apply(null,s)===!0,getOptionValue:(...s)=>Pe.value.apply(null,s),getOptionLabel:(...s)=>pe.value.apply(null,s)}),Object.assign(w,{innerValue:T,fieldClass:h(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:P,targetRef:K,hasValue:le,showPopup:re,floatingLabel:h(()=>e.hideSelected!==!0&&le.value===!0||typeof v.value=="number"||v.value.length!==0||gl(e.displayValue)),getControlChild:()=>{if(w.editable.value!==!1&&(d.value===!0||se.value!==!0||t["no-option"]!==void 0))return x===!0?V():X();w.hasPopupOpen===!0&&(w.hasPopupOpen=!1)},controlEvents:{onFocusin(s){w.onControlFocusin(s)},onFocusout(s){w.onControlFocusout(s,()=>{Ct(),N()})},onClick(s){if(Yt(s),x!==!0&&a.value===!0){N(),K.value!==null&&K.value.focus();return}re(s)}},getControl:s=>{const $=at(),F=s===!0||d.value!==!0||x!==!0;if(e.useInput===!0)$.push(yt(s,F));else if(w.editable.value===!0){const be=F===!0?Ye.value:void 0;$.push(f("input",{ref:F===!0?K:void 0,key:"d_t",class:"q-select__focus-target",id:F===!0?w.targetUid.value:void 0,value:xe.value,readonly:!0,"data-autofocus":s===!0||e.autofocus===!0||void 0,...be,onKeydown:Fe,onKeyup:$e,onKeypress:me})),F===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&$.push(f("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:j}))}if(fe.value!==void 0&&e.disable!==!0&&We.value.length!==0){const be=We.value.map(he=>f("option",{value:he,selected:!0}));$.push(f("select",{class:"hidden",name:fe.value,multiple:e.multiple},be))}const G=e.useInput===!0||F!==!0?void 0:w.splitAttrs.attributes.value;return f("div",{class:"q-field__native row items-center",...G,...w.splitAttrs.listeners.value},$)},getInnerAppend:()=>e.loading!==!0&&u.value!==!0&&e.hideDropdownIcon!==!0?[f(gt,{class:"q-select__dropdown-icon"+(a.value===!0?" rotate-180":""),name:Je.value})]:null}),zl(w)}}),Po={__name:"LocaleNumberInput",props:{modelValue:{type:Number,required:!0,default:0},label:{type:String,default:""},locale:{type:String,default:"id-ID"},outlined:{type:Boolean,default:!1},allowNegative:{type:Boolean,default:!1},maxDecimals:{type:Number,default:0},lazyRules:{type:String},disable:{type:Boolean,default:!1},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},rules:{type:Array,default:[]}},emits:["update:modelValue"],setup(e,{emit:t}){const l=e,o=t,r=L(""),a=x=>{const C=new Intl.NumberFormat(x).format(123456789e-2),[U,W]=C.split("."),k=W?C[C.indexOf(W[0])]:".",m=C[U.length]===","?",":".";return{decimalSeparator:k,thousandSeparator:m}},{decimalSeparator:d,thousandSeparator:i}=a(l.locale),v=x=>{let p=x;return(p==null||isNaN(p))&&(p=0),new Intl.NumberFormat(l.locale,{minimumFractionDigits:l.maxDecimals,maximumFractionDigits:l.maxDecimals}).format(p)};r.value=v(l.modelValue),ge(()=>l.modelValue,x=>{r.value=v(x)},{immediate:!0});const b=x=>{const p=l.allowNegative?/^-?[0-9]+([.,][0-9]*)?$/:/^[0-9]+([.,][0-9]*)?$/,C=x.replace(/[^0-9.,-]+/g,"").replace(new RegExp(`\\${i}`,"g"),"").replace(new RegExp(`\\${d}`,"g"),".");if(!p.test(C))return l.modelValue||0;const U=parseFloat(C);return isNaN(U)?0:parseFloat(U.toFixed(l.maxDecimals))},u=()=>{const x=b(r.value);o("update:modelValue",x)},y=x=>{r.value=x,u()},D=()=>{r.value=v(b(r.value)),u()},q=x=>{const p=["Backspace","Delete","Tab","ArrowLeft","ArrowRight","Home","End"];x.ctrlKey||x.metaKey||x.key>="0"&&x.key<="9"||(x.key===d||x.key===i)&&!r.value.includes(d)||l.allowNegative&&x.key==="-"&&x.target.selectionStart===0||p.includes(x.key)||x.preventDefault()};return(x,p)=>(ra(),oa(Zl,{"model-value":r.value,label:l.label,outlined:l.outlined,"onUpdate:modelValue":y,onBlur:D,onKeydown:q,"lazy-rules":e.lazyRules,disable:e.disable,error:e.error,rules:e.rules,"error-message":e.errorMessage},null,8,["model-value","label","outlined","lazy-rules","disable","error","rules","error-message"]))}};function wn(){let e=Object.create(null);return{getCache:(t,l)=>e[t]===void 0?e[t]=typeof l=="function"?l():l:e[t],setCache(t,l){e[t]=l},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const ht=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function _n(e,t,l){return Object.prototype.toString.call(e)==="[object Date]"&&(l=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),pn(dl(e,t,l))}function Pl(e,t,l){return fa(xn(e,t,l))}function Cn(e){return qn(e)===0}function Bt(e,t){return t<=6?31:t<=11||Cn(e)?30:29}function qn(e){const t=ht.length;let l=ht[0],o,r,a,d,i;if(e<l||e>=ht[t-1])throw new Error("Invalid Jalaali year "+e);for(i=1;i<t&&(o=ht[i],r=o-l,!(e<o));i+=1)l=o;return d=e-l,r-d<6&&(d=d-r+_e(r+4,33)*33),a=Ze(Ze(d+1,33)-1,4),a===-1&&(a=4),a}function da(e,t){const l=ht.length,o=e+621;let r=-14,a=ht[0],d,i,v,b,u;if(e<a||e>=ht[l-1])throw new Error("Invalid Jalaali year "+e);for(u=1;u<l&&(d=ht[u],i=d-a,!(e<d));u+=1)r=r+_e(i,33)*8+_e(Ze(i,33),4),a=d;b=e-a,r=r+_e(b,33)*8+_e(Ze(b,33)+3,4),Ze(i,33)===4&&i-b===4&&(r+=1);const y=_e(o,4)-_e((_e(o,100)+1)*3,4)-150,D=20+r-y;return t||(i-b<6&&(b=b-i+_e(i+4,33)*33),v=Ze(Ze(b+1,33)-1,4),v===-1&&(v=4)),{leap:v,gy:o,march:D}}function xn(e,t,l){const o=da(e,!0);return dl(o.gy,3,o.march)+(t-1)*31-_e(t,7)*(t-7)+l-1}function pn(e){const t=fa(e).gy;let l=t-621,o,r,a;const d=da(l,!1),i=dl(t,3,d.march);if(a=e-i,a>=0){if(a<=185)return r=1+_e(a,31),o=Ze(a,31)+1,{jy:l,jm:r,jd:o};a-=186}else l-=1,a+=179,d.leap===1&&(a+=1);return r=7+_e(a,30),o=Ze(a,30)+1,{jy:l,jm:r,jd:o}}function dl(e,t,l){let o=_e((e+_e(t-8,6)+100100)*1461,4)+_e(153*Ze(t+9,12)+2,5)+l-34840408;return o=o-_e(_e(e+100100+_e(t-8,6),100)*3,4)+752,o}function fa(e){let t=4*e+139361631;t=t+_e(_e(4*e+183187720,146097)*3,4)*4-3908;const l=_e(Ze(t,1461),4)*5+308,o=_e(Ze(l,153),5)+1,r=Ze(_e(l,153),12)+1;return{gy:_e(t,1461)-100100+_e(8-r,6),gm:r,gd:o}}function _e(e,t){return~~(e/t)}function Ze(e,t){return e-~~(e/t)*t}const Mn=["gregorian","persian"],Rt={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Mn.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},va=["update:modelValue"];function it(e){return e.year+"/"+ne(e.month)+"/"+ne(e.day)}function ma(e,t){const l=h(()=>e.disable!==!0&&e.readonly!==!0),o=h(()=>l.value===!0?0:-1),r=h(()=>{const i=[];return e.color!==void 0&&i.push(`bg-${e.color}`),e.textColor!==void 0&&i.push(`text-${e.textColor}`),i.join(" ")});function a(){return e.locale!==void 0?{...t.lang.date,...e.locale}:t.lang.date}function d(i){const v=new Date,b=i===!0?null:0;if(e.calendar==="persian"){const u=_n(v);return{year:u.jy,month:u.jm,day:u.jd}}return{year:v.getFullYear(),month:v.getMonth()+1,day:v.getDate(),hour:b,minute:b,second:b,millisecond:b}}return{editable:l,tabindex:o,headerClass:r,getLocale:a,getCurrentDate:d}}const ha=864e5,kn=36e5,tl=6e4,ga="YYYY-MM-DDTHH:mm:ss.SSSZ",Dn=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Vn=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Qt={};function On(e,t){const l="("+t.days.join("|")+")",o=e+l;if(Qt[o]!==void 0)return Qt[o];const r="("+t.daysShort.join("|")+")",a="("+t.months.join("|")+")",d="("+t.monthsShort.join("|")+")",i={};let v=0;const b=e.replace(Vn,y=>{switch(v++,y){case"YY":return i.YY=v,"(-?\\d{1,2})";case"YYYY":return i.YYYY=v,"(-?\\d{1,4})";case"M":return i.M=v,"(\\d{1,2})";case"Mo":return i.M=v++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return i.M=v,"(\\d{2})";case"MMM":return i.MMM=v,d;case"MMMM":return i.MMMM=v,a;case"D":return i.D=v,"(\\d{1,2})";case"Do":return i.D=v++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return i.D=v,"(\\d{2})";case"H":return i.H=v,"(\\d{1,2})";case"HH":return i.H=v,"(\\d{2})";case"h":return i.h=v,"(\\d{1,2})";case"hh":return i.h=v,"(\\d{2})";case"m":return i.m=v,"(\\d{1,2})";case"mm":return i.m=v,"(\\d{2})";case"s":return i.s=v,"(\\d{1,2})";case"ss":return i.s=v,"(\\d{2})";case"S":return i.S=v,"(\\d{1})";case"SS":return i.S=v,"(\\d{2})";case"SSS":return i.S=v,"(\\d{3})";case"A":return i.A=v,"(AM|PM)";case"a":return i.a=v,"(am|pm)";case"aa":return i.aa=v,"(a\\.m\\.|p\\.m\\.)";case"ddd":return r;case"dddd":return l;case"Q":case"d":case"E":return"(\\d{1})";case"do":return v++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return v++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return v++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return i.Z=v,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return i.ZZ=v,"(Z|[+-]\\d{2}\\d{2})";case"X":return i.X=v,"(-?\\d+)";case"x":return i.x=v,"(-?\\d{4,})";default:return v--,y[0]==="["&&(y=y.substring(1,y.length-1)),y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),u={map:i,regex:new RegExp("^"+b)};return Qt[o]=u,u}function ya(e,t){return e!==void 0?e:t!==void 0?t.date:Ia.date}function Tl(e,t=""){const l=e>0?"-":"+",o=Math.abs(e),r=Math.floor(o/60),a=o%60;return l+ne(r)+t+ne(a)}function Tt(e,t,l,o,r){const a={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(r!==void 0&&Object.assign(a,r),e==null||e===""||typeof e!="string")return a;t===void 0&&(t=ga);const d=ya(l,Wl.props),i=d.months,v=d.monthsShort,{regex:b,map:u}=On(t,d),y=e.match(b);if(y===null)return a;let D="";if(u.X!==void 0||u.x!==void 0){const q=parseInt(y[u.X!==void 0?u.X:u.x],10);if(isNaN(q)===!0||q<0)return a;const x=new Date(q*(u.X!==void 0?1e3:1));a.year=x.getFullYear(),a.month=x.getMonth()+1,a.day=x.getDate(),a.hour=x.getHours(),a.minute=x.getMinutes(),a.second=x.getSeconds(),a.millisecond=x.getMilliseconds()}else{if(u.YYYY!==void 0)a.year=parseInt(y[u.YYYY],10);else if(u.YY!==void 0){const q=parseInt(y[u.YY],10);a.year=q<0?q:2e3+q}if(u.M!==void 0){if(a.month=parseInt(y[u.M],10),a.month<1||a.month>12)return a}else u.MMM!==void 0?a.month=v.indexOf(y[u.MMM])+1:u.MMMM!==void 0&&(a.month=i.indexOf(y[u.MMMM])+1);if(u.D!==void 0){if(a.day=parseInt(y[u.D],10),a.year===null||a.month===null||a.day<1)return a;const q=o!=="persian"?new Date(a.year,a.month,0).getDate():Bt(a.year,a.month);if(a.day>q)return a}u.H!==void 0?a.hour=parseInt(y[u.H],10)%24:u.h!==void 0&&(a.hour=parseInt(y[u.h],10)%12,(u.A&&y[u.A]==="PM"||u.a&&y[u.a]==="pm"||u.aa&&y[u.aa]==="p.m.")&&(a.hour+=12),a.hour=a.hour%24),u.m!==void 0&&(a.minute=parseInt(y[u.m],10)%60),u.s!==void 0&&(a.second=parseInt(y[u.s],10)%60),u.S!==void 0&&(a.millisecond=parseInt(y[u.S],10)*10**(3-y[u.S].length)),(u.Z!==void 0||u.ZZ!==void 0)&&(D=u.Z!==void 0?y[u.Z].replace(":",""):y[u.ZZ],a.timezoneOffset=(D[0]==="+"?-1:1)*(60*D.slice(1,3)+1*D.slice(3,5)))}return a.dateHash=ne(a.year,6)+"/"+ne(a.month)+"/"+ne(a.day),a.timeHash=ne(a.hour)+":"+ne(a.minute)+":"+ne(a.second)+D,a}function Ut(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const l=new Date(t.getFullYear(),0,4);l.setDate(l.getDate()-(l.getDay()+6)%7+3);const o=t.getTimezoneOffset()-l.getTimezoneOffset();t.setHours(t.getHours()-o);const r=(t-l)/(ha*7);return 1+Math.floor(r)}function st(e,t,l){const o=new Date(e),r=`set${l===!0?"UTC":""}`;switch(t){case"year":case"years":o[`${r}Month`](0);case"month":case"months":o[`${r}Date`](1);case"day":case"days":case"date":o[`${r}Hours`](0);case"hour":case"hours":o[`${r}Minutes`](0);case"minute":case"minutes":o[`${r}Seconds`](0);case"second":case"seconds":o[`${r}Milliseconds`](0)}return o}function Ht(e,t,l){return(e.getTime()-e.getTimezoneOffset()*tl-(t.getTime()-t.getTimezoneOffset()*tl))/l}function ba(e,t,l="days"){const o=new Date(e),r=new Date(t);switch(l){case"years":case"year":return o.getFullYear()-r.getFullYear();case"months":case"month":return(o.getFullYear()-r.getFullYear())*12+o.getMonth()-r.getMonth();case"days":case"day":case"date":return Ht(st(o,"day"),st(r,"day"),ha);case"hours":case"hour":return Ht(st(o,"hour"),st(r,"hour"),kn);case"minutes":case"minute":return Ht(st(o,"minute"),st(r,"minute"),tl);case"seconds":case"second":return Ht(st(o,"second"),st(r,"second"),1e3)}}function Kt(e){return ba(e,st(e,"year"),"days")+1}function xt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const Hl={YY(e,t,l){const o=this.YYYY(e,t,l)%100;return o>=0?ne(o):"-"+ne(Math.abs(o))},YYYY(e,t,l){return l??e.getFullYear()},M(e){return e.getMonth()+1},Mo(e){return xt(e.getMonth()+1)},MM(e){return ne(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return xt(this.Q(e))},D(e){return e.getDate()},Do(e){return xt(e.getDate())},DD(e){return ne(e.getDate())},DDD(e){return Kt(e)},DDDo(e){return xt(Kt(e))},DDDD(e){return ne(Kt(e),3)},d(e){return e.getDay()},do(e){return xt(e.getDay())},dd(e,t){return t.days[e.getDay()].slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Ut(e)},wo(e){return xt(Ut(e))},ww(e){return ne(Ut(e))},H(e){return e.getHours()},HH(e){return ne(e.getHours())},h(e){const t=e.getHours();return t===0?12:t>12?t%12:t},hh(e){return ne(this.h(e))},m(e){return e.getMinutes()},mm(e){return ne(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return ne(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return ne(Math.floor(e.getMilliseconds()/10))},SSS(e){return ne(e.getMilliseconds(),3)},A(e){return e.getHours()<12?"AM":"PM"},a(e){return e.getHours()<12?"am":"pm"},aa(e){return e.getHours()<12?"a.m.":"p.m."},Z(e,t,l,o){const r=o??e.getTimezoneOffset();return Tl(r,":")},ZZ(e,t,l,o){const r=o??e.getTimezoneOffset();return Tl(r)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Sa(e,t,l,o,r){if(e!==0&&!e||e===1/0||e===-1/0)return;const a=new Date(e);if(isNaN(a))return;t===void 0&&(t=ga);const d=ya(l,Wl.props);return t.replace(Dn,(i,v)=>i in Hl?Hl[i](a,d,o,r):v===void 0?i:v.split("\\]").join("]"))}const St=20,Pn=["Calendar","Years","Months"],$l=e=>Pn.includes(e),Zt=e=>/^-?[\d]+\/[0-1]\d$/.test(e),pt=" â€” ";function vt(e){return e.year+"/"+ne(e.month)}const Tn=je({name:"QDate",props:{...Rt,...nl,...wt,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...Rt.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Zt},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Zt},navigationMaxYearMonth:{type:String,validator:Zt},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:$l}},emits:[...va,"rangeStart","rangeEnd","navigation"],setup(e,{slots:t,emit:l}){const{proxy:o}=ze(),{$q:r}=o,a=_t(e,r),{getCache:d}=wn(),{tabindex:i,headerClass:v,getLocale:b,getCurrentDate:u}=ma(e,r);let y;const D=Xl(e),q=Gl(D),x=L(null),p=L(tt()),C=L(b()),U=h(()=>tt()),W=h(()=>b()),k=h(()=>u()),m=L(Re(p.value,C.value)),P=L(e.defaultView),K=h(()=>r.lang.rtl===!0?"right":"left"),oe=L(K.value),te=L(K.value),He=m.value.year,fe=L(He-He%St-(He<0?St:0)),ue=L(null),Se=h(()=>{const n=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${n} q-date--${n}-${e.minimal===!0?"minimal":"standard"}`+(a.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),Ce=h(()=>e.color||"primary"),Ve=h(()=>e.textColor||"white"),de=h(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),ie=h(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),ve=h(()=>ie.value.filter(n=>typeof n=="string").map(n=>lt(n,p.value,C.value)).filter(n=>n.dateHash!==null&&n.day!==null&&n.month!==null&&n.year!==null)),Me=h(()=>{const n=c=>lt(c,p.value,C.value);return ie.value.filter(c=>Jl(c)===!0&&c.from!==void 0&&c.to!==void 0).map(c=>({from:n(c.from),to:n(c.to)})).filter(c=>c.from.dateHash!==null&&c.to.dateHash!==null&&c.from.dateHash<c.to.dateHash)}),Oe=h(()=>e.calendar!=="persian"?n=>new Date(n.year,n.month-1,n.day):n=>{const c=Pl(n.year,n.month,n.day);return new Date(c.gy,c.gm-1,c.gd)}),Ae=h(()=>e.calendar==="persian"?it:(n,c,g)=>Sa(new Date(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond),c===void 0?p.value:c,g===void 0?C.value:g,n.year,n.timezoneOffset)),w=h(()=>ve.value.length+Me.value.reduce((n,c)=>n+1+ba(Oe.value(c.to),Oe.value(c.from)),0)),T=h(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(ue.value!==null){const g=ue.value.init,V=Oe.value(g);return C.value.daysShort[V.getDay()]+", "+C.value.monthsShort[g.month-1]+" "+g.day+pt+"?"}if(w.value===0)return pt;if(w.value>1)return`${w.value} ${C.value.pluralDay}`;const n=ve.value[0],c=Oe.value(n);return isNaN(c.valueOf())===!0?pt:C.value.headerTitle!==void 0?C.value.headerTitle(c,n):C.value.daysShort[c.getDay()]+", "+C.value.monthsShort[n.month-1]+" "+n.day}),A=h(()=>ve.value.concat(Me.value.map(c=>c.from)).sort((c,g)=>c.year-g.year||c.month-g.month)[0]),J=h(()=>ve.value.concat(Me.value.map(c=>c.to)).sort((c,g)=>g.year-c.year||g.month-c.month)[0]),le=h(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(w.value===0)return pt;if(w.value>1){const n=A.value,c=J.value,g=C.value.monthsShort;return g[n.month-1]+(n.year!==c.year?" "+n.year+pt+g[c.month-1]+" ":n.month!==c.month?pt+g[c.month-1]:"")+" "+c.year}return ve.value[0].year}),Q=h(()=>{const n=[r.iconSet.datetime.arrowLeft,r.iconSet.datetime.arrowRight];return r.lang.rtl===!0?n.reverse():n}),z=h(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):C.value.firstDayOfWeek),se=h(()=>{const n=C.value.daysShort,c=z.value;return c>0?n.slice(c,7).concat(n.slice(0,c)):n}),E=h(()=>{const n=m.value;return e.calendar!=="persian"?new Date(n.year,n.month,0).getDate():Bt(n.year,n.month)}),xe=h(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),ae=h(()=>{if(e.navigationMinYearMonth===void 0)return null;const n=e.navigationMinYearMonth.split("/");return{year:parseInt(n[0],10),month:parseInt(n[1],10)}}),ye=h(()=>{if(e.navigationMaxYearMonth===void 0)return null;const n=e.navigationMaxYearMonth.split("/");return{year:parseInt(n[0],10),month:parseInt(n[1],10)}}),ke=h(()=>{const n={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return ae.value!==null&&ae.value.year>=m.value.year&&(n.year.prev=!1,ae.value.year===m.value.year&&ae.value.month>=m.value.month&&(n.month.prev=!1)),ye.value!==null&&ye.value.year<=m.value.year&&(n.year.next=!1,ye.value.year===m.value.year&&ye.value.month<=m.value.month&&(n.month.next=!1)),n}),Ye=h(()=>{const n={};return ve.value.forEach(c=>{const g=vt(c);n[g]===void 0&&(n[g]=[]),n[g].push(c.day)}),n}),Ie=h(()=>{const n={};return Me.value.forEach(c=>{const g=vt(c.from),V=vt(c.to);if(n[g]===void 0&&(n[g]=[]),n[g].push({from:c.from.day,to:g===V?c.to.day:void 0,range:c}),g<V){let O;const{year:ee,month:B}=c.from,N=B<12?{year:ee,month:B+1}:{year:ee+1,month:1};for(;(O=vt(N))<=V;)n[O]===void 0&&(n[O]=[]),n[O].push({from:void 0,to:O===V?c.to.day:void 0,range:c}),N.month++,N.month>12&&(N.year++,N.month=1)}}),n}),Te=h(()=>{if(ue.value===null)return;const{init:n,initHash:c,final:g,finalHash:V}=ue.value,[O,ee]=c<=V?[n,g]:[g,n],B=vt(O),N=vt(ee);if(B!==qe.value&&N!==qe.value)return;const re={};return B===qe.value?(re.from=O.day,re.includeFrom=!0):re.from=1,N===qe.value?(re.to=ee.day,re.includeTo=!0):re.to=E.value,re}),qe=h(()=>vt(m.value)),Je=h(()=>{const n={};if(e.options===void 0){for(let g=1;g<=E.value;g++)n[g]=!0;return n}const c=typeof e.options=="function"?e.options:g=>e.options.includes(g);for(let g=1;g<=E.value;g++){const V=qe.value+"/"+ne(g);n[g]=c(V)}return n}),rt=h(()=>{const n={};if(e.events===void 0)for(let c=1;c<=E.value;c++)n[c]=!1;else{const c=typeof e.events=="function"?e.events:g=>e.events.includes(g);for(let g=1;g<=E.value;g++){const V=qe.value+"/"+ne(g);n[g]=c(V)===!0&&xe.value(V)}}return n}),Ne=h(()=>{let n,c;const{year:g,month:V}=m.value;if(e.calendar!=="persian")n=new Date(g,V-1,1),c=new Date(g,V-1,0).getDate();else{const O=Pl(g,V,1);n=new Date(O.gy,O.gm-1,O.gd);let ee=V-1,B=g;ee===0&&(ee=12,B--),c=Bt(B,ee)}return{days:n.getDay()-z.value-1,endDay:c}}),Pe=h(()=>{const n=[],{days:c,endDay:g}=Ne.value,V=c<0?c+7:c;if(V<6)for(let B=g-V;B<=g;B++)n.push({i:B,fill:!0});const O=n.length;for(let B=1;B<=E.value;B++){const N={i:B,event:rt.value[B],classes:[]};Je.value[B]===!0&&(N.in=!0,N.flat=!0),n.push(N)}if(Ye.value[qe.value]!==void 0&&Ye.value[qe.value].forEach(B=>{const N=O+B-1;Object.assign(n[N],{selected:!0,unelevated:!0,flat:!1,color:Ce.value,textColor:Ve.value})}),Ie.value[qe.value]!==void 0&&Ie.value[qe.value].forEach(B=>{if(B.from!==void 0){const N=O+B.from-1,re=O+(B.to||E.value)-1;for(let Ke=N;Ke<=re;Ke++)Object.assign(n[Ke],{range:B.range,unelevated:!0,color:Ce.value,textColor:Ve.value});Object.assign(n[N],{rangeFrom:!0,flat:!1}),B.to!==void 0&&Object.assign(n[re],{rangeTo:!0,flat:!1})}else if(B.to!==void 0){const N=O+B.to-1;for(let re=O;re<=N;re++)Object.assign(n[re],{range:B.range,unelevated:!0,color:Ce.value,textColor:Ve.value});Object.assign(n[N],{flat:!1,rangeTo:!0})}else{const N=O+E.value-1;for(let re=O;re<=N;re++)Object.assign(n[re],{range:B.range,unelevated:!0,color:Ce.value,textColor:Ve.value})}}),Te.value!==void 0){const B=O+Te.value.from-1,N=O+Te.value.to-1;for(let re=B;re<=N;re++)n[re].color=Ce.value,n[re].editRange=!0;Te.value.includeFrom===!0&&(n[B].editRangeFrom=!0),Te.value.includeTo===!0&&(n[N].editRangeTo=!0)}m.value.year===k.value.year&&m.value.month===k.value.month&&(n[O+k.value.day-1].today=!0);const ee=n.length%7;if(ee>0){const B=7-ee;for(let N=1;N<=B;N++)n.push({i:N,fill:!0})}return n.forEach(B=>{let N="q-date__calendar-item ";B.fill===!0?N+="q-date__calendar-item--fill":(N+=`q-date__calendar-item--${B.in===!0?"in":"out"}`,B.range!==void 0&&(N+=` q-date__range${B.rangeTo===!0?"-to":B.rangeFrom===!0?"-from":""}`),B.editRange===!0&&(N+=` q-date__edit-range${B.editRangeFrom===!0?"-from":""}${B.editRangeTo===!0?"-to":""}`),(B.range!==void 0||B.editRange===!0)&&(N+=` text-${B.color}`)),B.classes=N}),n}),pe=h(()=>e.disable===!0?{"aria-disabled":"true"}:{});ge(()=>e.modelValue,n=>{if(y===n)y=0;else{const c=Re(p.value,C.value);me(c.year,c.month,c)}}),ge(P,()=>{x.value!==null&&o.$el.contains(document.activeElement)===!0&&x.value.focus()}),ge(()=>m.value.year+"|"+m.value.month,()=>{l("navigation",{year:m.value.year,month:m.value.month})}),ge(U,n=>{S(n,C.value,"mask"),p.value=n}),ge(W,n=>{S(p.value,n,"locale"),C.value=n});function Ue(){const{year:n,month:c,day:g}=k.value,V={...m.value,year:n,month:c,day:g},O=Ye.value[vt(V)];(O===void 0||O.includes(V.day)===!1)&&dt(V),Xe(V.year,V.month)}function We(n){$l(n)===!0&&(P.value=n)}function ut(n,c){["month","year"].includes(n)&&(n==="month"?M:I)(c===!0?-1:1)}function Xe(n,c){P.value="Calendar",me(n,c)}function Le(n,c){if(e.range===!1||!n){ue.value=null;return}const g=Object.assign({...m.value},n),V=c!==void 0?Object.assign({...m.value},c):g;ue.value={init:g,initHash:it(g),final:V,finalHash:it(V)},Xe(g.year,g.month)}function tt(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function lt(n,c,g){return Tt(n,c,g,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Re(n,c){const g=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(g.length===0)return _();const V=g[g.length-1],O=lt(V.from!==void 0?V.from:V,n,c);return O.dateHash===null?_():O}function _(){let n,c;if(e.defaultYearMonth!==void 0){const g=e.defaultYearMonth.split("/");n=parseInt(g[0],10),c=parseInt(g[1],10)}else{const g=k.value!==void 0?k.value:u();n=g.year,c=g.month}return{year:n,month:c,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:n+"/"+ne(c)+"/01"}}function M(n){let c=m.value.year,g=Number(m.value.month)+n;g===13?(g=1,c++):g===0&&(g=12,c--),me(c,g),de.value===!0&&Ge("month")}function I(n){const c=Number(m.value.year)+n;me(c,m.value.month),de.value===!0&&Ge("year")}function Z(n){me(n,m.value.month),P.value=e.defaultView==="Years"?"Months":"Calendar",de.value===!0&&Ge("year")}function ce(n){me(m.value.year,n),P.value="Calendar",de.value===!0&&Ge("month")}function $e(n,c){const g=Ye.value[c];(g!==void 0&&g.includes(n.day)===!0?yt:dt)(n)}function j(n){return{year:n.year,month:n.month,day:n.day}}function me(n,c,g){if(ae.value!==null&&n<=ae.value.year&&((c<ae.value.month||n<ae.value.year)&&(c=ae.value.month),n=ae.value.year),ye.value!==null&&n>=ye.value.year&&((c>ye.value.month||n>ye.value.year)&&(c=ye.value.month),n=ye.value.year),g!==void 0){const{hour:O,minute:ee,second:B,millisecond:N,timezoneOffset:re,timeHash:Ke}=g;Object.assign(m.value,{hour:O,minute:ee,second:B,millisecond:N,timezoneOffset:re,timeHash:Ke})}const V=n+"/"+ne(c)+"/01";V!==m.value.dateHash&&(oe.value=m.value.dateHash<V==(r.lang.rtl!==!0)?"left":"right",n!==m.value.year&&(te.value=oe.value),Qe(()=>{fe.value=n-n%St-(n<0?St:0),Object.assign(m.value,{year:n,month:c,day:1,dateHash:V})}))}function Fe(n,c,g){const V=n!==null&&n.length===1&&e.multiple===!1?n[0]:n;y=V;const{reason:O,details:ee}=ct(c,g);l("update:modelValue",V,O,ee)}function Ge(n){const c=ve.value[0]!==void 0&&ve.value[0].dateHash!==null?{...ve.value[0]}:{...m.value};Qe(()=>{c.year=m.value.year,c.month=m.value.month;const g=e.calendar!=="persian"?new Date(c.year,c.month,0).getDate():Bt(c.year,c.month);c.day=Math.min(Math.max(1,c.day),g);const V=at(c);y=V;const{details:O}=ct("",c);l("update:modelValue",V,n,O)})}function ct(n,c){return c.from!==void 0?{reason:`${n}-range`,details:{...j(c.target),from:j(c.from),to:j(c.to)}}:{reason:`${n}-day`,details:j(c)}}function at(n,c,g){return n.from!==void 0?{from:Ae.value(n.from,c,g),to:Ae.value(n.to,c,g)}:Ae.value(n,c,g)}function dt(n){let c;if(e.multiple===!0)if(n.from!==void 0){const g=it(n.from),V=it(n.to),O=ve.value.filter(B=>B.dateHash<g||B.dateHash>V),ee=Me.value.filter(({from:B,to:N})=>N.dateHash<g||B.dateHash>V);c=O.concat(ee).concat(n).map(B=>at(B))}else{const g=ie.value.slice();g.push(at(n)),c=g}else c=at(n);Fe(c,"add",n)}function yt(n){if(e.noUnset===!0)return;let c=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const g=at(n);n.from!==void 0?c=e.modelValue.filter(V=>V.from!==void 0?V.from!==g.from&&V.to!==g.to:!0):c=e.modelValue.filter(V=>V!==g),c.length===0&&(c=null)}Fe(c,"remove",n)}function S(n,c,g){const V=ve.value.concat(Me.value).map(O=>at(O,n,c)).filter(O=>O.from!==void 0?O.from.dateHash!==null&&O.to.dateHash!==null:O.dateHash!==null);l("update:modelValue",(e.multiple===!0?V:V[0])||null,g)}function H(){if(e.minimal!==!0)return f("div",{class:"q-date__header "+v.value},[f("div",{class:"relative-position"},[f(mt,{name:"q-transition--fade"},()=>f("div",{key:"h-yr-"+le.value,class:"q-date__header-subtitle q-date__header-link "+(P.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:i.value,...d("vY",{onClick(){P.value="Years"},onKeyup(n){n.keyCode===13&&(P.value="Years")}})},[le.value]))]),f("div",{class:"q-date__header-title relative-position flex no-wrap"},[f("div",{class:"relative-position col"},[f(mt,{name:"q-transition--fade"},()=>f("div",{key:"h-sub"+T.value,class:"q-date__header-title-label q-date__header-link "+(P.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:i.value,...d("vC",{onClick(){P.value="Calendar"},onKeyup(n){n.keyCode===13&&(P.value="Calendar")}})},[T.value]))]),e.todayBtn===!0?f(Ee,{class:"q-date__header-today self-start",icon:r.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:i.value,onClick:Ue}):null])])}function R({label:n,type:c,key:g,dir:V,goTo:O,boundaries:ee,cls:B}){return[f("div",{class:"row items-center q-date__arrow"},[f(Ee,{round:!0,dense:!0,size:"sm",flat:!0,icon:Q.value[0],tabindex:i.value,disable:ee.prev===!1,...d("go-#"+c,{onClick(){O(-1)}})})]),f("div",{class:"relative-position overflow-hidden flex flex-center"+B},[f(mt,{name:"q-transition--jump-"+V},()=>f("div",{key:g},[f(Ee,{flat:!0,dense:!0,noCaps:!0,label:n,tabindex:i.value,...d("view#"+c,{onClick:()=>{P.value=c}})})]))]),f("div",{class:"row items-center q-date__arrow"},[f(Ee,{round:!0,dense:!0,size:"sm",flat:!0,icon:Q.value[1],tabindex:i.value,disable:ee.next===!1,...d("go+#"+c,{onClick(){O(1)}})})])]}const Y={Calendar:()=>[f("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[f("div",{class:"q-date__navigation row items-center no-wrap"},R({label:C.value.months[m.value.month-1],type:"Months",key:m.value.month,dir:oe.value,goTo:M,boundaries:ke.value.month,cls:" col"}).concat(R({label:m.value.year,type:"Years",key:m.value.year,dir:te.value,goTo:I,boundaries:ke.value.year,cls:""}))),f("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},se.value.map(n=>f("div",{class:"q-date__calendar-item"},[f("div",n)]))),f("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[f(mt,{name:"q-transition--slide-"+oe.value},()=>f("div",{key:qe.value,class:"q-date__calendar-days fit"},Pe.value.map(n=>f("div",{class:n.classes},[n.in===!0?f(Ee,{class:n.today===!0?"q-date__today":"",dense:!0,flat:n.flat,unelevated:n.unelevated,color:n.color,textColor:n.textColor,label:n.i,tabindex:i.value,...d("day#"+n.i,{onClick:()=>{X(n.i)},onMouseover:()=>{we(n.i)}})},n.event!==!1?()=>f("div",{class:"q-date__event bg-"+n.event}):null):f("div",""+n.i)]))))])])],Months(){const n=m.value.year===k.value.year,c=V=>ae.value!==null&&m.value.year===ae.value.year&&ae.value.month>V||ye.value!==null&&m.value.year===ye.value.year&&ye.value.month<V,g=C.value.monthsShort.map((V,O)=>{const ee=m.value.month===O+1;return f("div",{class:"q-date__months-item flex flex-center"},[f(Ee,{class:n===!0&&k.value.month===O+1?"q-date__today":null,flat:ee!==!0,label:V,unelevated:ee,color:ee===!0?Ce.value:null,textColor:ee===!0?Ve.value:null,tabindex:i.value,disable:c(O+1),...d("month#"+O,{onClick:()=>{ce(O+1)}})})])});return e.yearsInMonthView===!0&&g.unshift(f("div",{class:"row no-wrap full-width"},[R({label:m.value.year,type:"Years",key:m.value.year,dir:te.value,goTo:I,boundaries:ke.value.year,cls:" col"})])),f("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},g)},Years(){const n=fe.value,c=n+St,g=[],V=O=>ae.value!==null&&ae.value.year>O||ye.value!==null&&ye.value.year<O;for(let O=n;O<=c;O++){const ee=m.value.year===O;g.push(f("div",{class:"q-date__years-item flex flex-center"},[f(Ee,{key:"yr"+O,class:k.value.year===O?"q-date__today":null,flat:!ee,label:O,dense:!0,unelevated:ee,color:ee===!0?Ce.value:null,textColor:ee===!0?Ve.value:null,tabindex:i.value,disable:V(O),...d("yr#"+O,{onClick:()=>{Z(O)}})})]))}return f("div",{class:"q-date__view q-date__years flex flex-center"},[f("div",{class:"col-auto"},[f(Ee,{round:!0,dense:!0,flat:!0,icon:Q.value[0],tabindex:i.value,disable:V(n),...d("y-",{onClick:()=>{fe.value-=St}})})]),f("div",{class:"q-date__years-content col self-stretch row items-center"},g),f("div",{class:"col-auto"},[f(Ee,{round:!0,dense:!0,flat:!0,icon:Q.value[1],tabindex:i.value,disable:V(c),...d("y+",{onClick:()=>{fe.value+=St}})})])])}};function X(n){const c={...m.value,day:n};if(e.range===!1){$e(c,qe.value);return}if(ue.value===null){const g=Pe.value.find(O=>O.fill!==!0&&O.i===n);if(e.noUnset!==!0&&g.range!==void 0){yt({target:c,from:g.range.from,to:g.range.to});return}if(g.selected===!0){yt(c);return}const V=it(c);ue.value={init:c,initHash:V,final:c,finalHash:V},l("rangeStart",j(c))}else{const g=ue.value.initHash,V=it(c),O=g<=V?{from:ue.value.init,to:c}:{from:c,to:ue.value.init};ue.value=null,dt(g===V?c:{target:c,...O}),l("rangeEnd",{from:j(O.from),to:j(O.to)})}}function we(n){if(ue.value!==null){const c={...m.value,day:n};Object.assign(ue.value,{final:c,finalHash:it(c)})}}return Object.assign(o,{setToday:Ue,setView:We,offsetCalendar:ut,setCalendarTo:Xe,setEditingRange:Le}),()=>{const n=[f("div",{class:"q-date__content col relative-position"},[f(mt,{name:"q-transition--fade"},Y[P.value])])],c=ot(t.default);return c!==void 0&&n.push(f("div",{class:"q-date__actions"},c)),e.name!==void 0&&e.disable!==!0&&q(n,"push"),f("div",{class:Se.value,...pe.value},[H(),f("div",{ref:x,class:"q-date__main col column",tabindex:-1},n)])}}}),Fl=je({name:"QPopupProxy",props:{...Ra,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:t,emit:l,attrs:o}){const{proxy:r}=ze(),{$q:a}=r,d=L(!1),i=L(null),v=h(()=>parseInt(e.breakpoint,10)),{canShow:b}=ea({showing:d});function u(){return a.screen.width<v.value||a.screen.height<v.value?"dialog":"menu"}const y=L(u()),D=h(()=>y.value==="menu"?{maxHeight:"99vh"}:{});ge(()=>u(),p=>{d.value!==!0&&(y.value=p)});function q(p){d.value=!0,l("show",p)}function x(p){d.value=!1,y.value=u(),l("hide",p)}return Object.assign(r,{show(p){b(p)===!0&&i.value.show(p)},hide(p){i.value.hide(p)},toggle(p){i.value.toggle(p)}}),Mt(r,"currentComponent",()=>({type:y.value,ref:i.value})),()=>{const p={ref:i,...D.value,...o,onShow:q,onHide:x};let C;return y.value==="dialog"?C=Kl:(C=Ul,Object.assign(p,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),f(C,p,t.default)}}});function Hn(e,t){return e.hour!==null&&e.minute===null?"minute":"hour"}function $n(){const e=new Date;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}const Fn=je({name:"QTime",props:{...wt,...nl,...Rt,modelValue:{required:!0,validator:e=>typeof e=="string"||e===null},mask:{...Rt.mask,default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:va,setup(e,{slots:t,emit:l}){const o=ze(),{$q:r}=o.proxy,a=_t(e,r),{tabindex:d,headerClass:i,getLocale:v,getCurrentDate:b}=ma(e,r),u=Xl(e),y=Gl(u);let D,q;const x=L(null),p=h(()=>le()),C=h(()=>v()),U=h(()=>Q()),W=Tt(e.modelValue,p.value,C.value,e.calendar,U.value),k=L(Hn(W)),m=L(W),P=L(W.hour===null||W.hour<12),K=h(()=>`q-time q-time--${e.landscape===!0?"landscape":"portrait"}`+(a.value===!0?" q-time--dark q-dark":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-time--readonly":"")+(e.bordered===!0?" q-time--bordered":"")+(e.square===!0?" q-time--square no-border-radius":"")+(e.flat===!0?" q-time--flat no-shadow":"")),oe=h(()=>{const _=m.value;return{hour:_.hour===null?"--":te.value===!0?ne(_.hour):String(P.value===!0?_.hour===0?12:_.hour:_.hour>12?_.hour-12:_.hour),minute:_.minute===null?"--":ne(_.minute),second:_.second===null?"--":ne(_.second)}}),te=h(()=>e.format24h!==null?e.format24h:r.lang.date.format24h),He=h(()=>{const _=k.value==="hour",M=_===!0?12:60,I=m.value[k.value];let ce=`rotate(${Math.round(I*(360/M))-180}deg) translateX(-50%)`;return _===!0&&te.value===!0&&m.value.hour>=12&&(ce+=" scale(.7)"),{transform:ce}}),fe=h(()=>m.value.hour!==null),ue=h(()=>fe.value===!0&&m.value.minute!==null),Se=h(()=>e.hourOptions!==void 0?_=>e.hourOptions.includes(_):e.options!==void 0?_=>e.options(_,null,null):null),Ce=h(()=>e.minuteOptions!==void 0?_=>e.minuteOptions.includes(_):e.options!==void 0?_=>e.options(m.value.hour,_,null):null),Ve=h(()=>e.secondOptions!==void 0?_=>e.secondOptions.includes(_):e.options!==void 0?_=>e.options(m.value.hour,m.value.minute,_):null),de=h(()=>{if(Se.value===null)return null;const _=T(0,11,Se.value),M=T(12,11,Se.value);return{am:_,pm:M,values:_.values.concat(M.values)}}),ie=h(()=>Ce.value!==null?T(0,59,Ce.value):null),ve=h(()=>Ve.value!==null?T(0,59,Ve.value):null),Me=h(()=>{switch(k.value){case"hour":return de.value;case"minute":return ie.value;case"second":return ve.value}}),Oe=h(()=>{let _,M,I=0,Z=1;const ce=Me.value!==null?Me.value.values:void 0;k.value==="hour"?te.value===!0?(_=0,M=23):(_=0,M=11,P.value===!1&&(I=12)):(_=0,M=55,Z=5);const $e=[];for(let j=_,me=_;j<=M;j+=Z,me++){const Fe=j+I,Ge=ce!==void 0&&ce.includes(Fe)===!1,ct=k.value==="hour"&&j===0?te.value===!0?"00":"12":j;$e.push({val:Fe,index:me,disable:Ge,label:ct})}return $e}),Ae=h(()=>[[Ea,E,void 0,{stop:!0,prevent:!0,mouse:!0}]]);ge(()=>e.modelValue,_=>{const M=Tt(_,p.value,C.value,e.calendar,U.value);(M.dateHash!==m.value.dateHash||M.timeHash!==m.value.timeHash)&&(m.value=M,M.hour===null?k.value="hour":P.value=M.hour<12)}),ge([p,C],()=>{Qe(()=>{tt()})});function w(){const _={...b(),...$n()};tt(_),Object.assign(m.value,_),k.value="hour"}function T(_,M,I){const Z=Array.apply(null,{length:M+1}).map((ce,$e)=>{const j=$e+_;return{index:j,val:I(j)===!0}}).filter(ce=>ce.val===!0).map(ce=>ce.index);return{min:Z[0],max:Z[Z.length-1],values:Z,threshold:M+1}}function A(_,M,I){const Z=Math.abs(_-M);return Math.min(Z,I-Z)}function J(_,{min:M,max:I,values:Z,threshold:ce}){if(_===M)return M;if(_<M||_>I)return A(_,M,ce)<=A(_,I,ce)?M:I;const $e=Z.findIndex(Fe=>_<=Fe),j=Z[$e-1],me=Z[$e];return _-j<=me-_?j:me}function le(){return e.calendar!=="persian"&&e.mask!==null?e.mask:`HH:mm${e.withSeconds===!0?":ss":""}`}function Q(){if(typeof e.defaultDate!="string"){const _=b(!0);return _.dateHash=it(_),_}return Tt(e.defaultDate,"YYYY/MM/DD",void 0,e.calendar)}function z(){return El(o)===!0||Me.value!==null&&(Me.value.values.length===0||k.value==="hour"&&te.value!==!0&&de.value[P.value===!0?"am":"pm"].values.length===0)}function se(){const _=x.value,{top:M,left:I,width:Z}=_.getBoundingClientRect(),ce=Z/2;return{top:M+ce,left:I+ce,dist:ce*.7}}function E(_){if(z()!==!0){if(_.isFirst===!0){D=se(),q=ae(_.evt,D);return}q=ae(_.evt,D,q),_.isFinal===!0&&(D=!1,q=null,xe())}}function xe(){k.value==="hour"?k.value="minute":e.withSeconds&&k.value==="minute"&&(k.value="second")}function ae(_,M,I){const Z=ja(_),ce=Math.abs(Z.top-M.top),$e=Math.sqrt(Math.pow(Math.abs(Z.top-M.top),2)+Math.pow(Math.abs(Z.left-M.left),2));let j,me=Math.asin(ce/$e)*(180/Math.PI);if(Z.top<M.top?me=M.left<Z.left?90-me:270+me:me=M.left<Z.left?me+90:270-me,k.value==="hour"){if(j=me/30,de.value!==null){const Fe=te.value!==!0?P.value===!0:de.value.am.values.length!==0&&de.value.pm.values.length!==0?$e>=M.dist:de.value.am.values.length!==0;j=J(j+(Fe===!0?0:12),de.value[Fe===!0?"am":"pm"])}else j=Math.round(j),te.value===!0?$e<M.dist?j<12&&(j+=12):j===12&&(j=0):P.value===!0&&j===12?j=0:P.value===!1&&j!==12&&(j+=12);te.value===!0&&(P.value=j<12)}else j=Math.round(me/6)%60,k.value==="minute"&&ie.value!==null?j=J(j,ie.value):k.value==="second"&&ve.value!==null&&(j=J(j,ve.value));return I!==j&&Ue[k.value](j),j}const ye={hour(){k.value="hour"},minute(){k.value="minute"},second(){k.value="second"}};function ke(_){_.keyCode===13&&We()}function Ye(_){_.keyCode===13&&ut()}function Ie(_){z()!==!0&&(r.platform.is.desktop!==!0&&ae(_,se()),xe())}function Te(_){z()!==!0&&ae(_,se())}function qe(_){if(_.keyCode===13)k.value="hour";else if([37,39].includes(_.keyCode)){const M=_.keyCode===37?-1:1;if(de.value!==null){const I=te.value===!0?de.value.values:de.value[P.value===!0?"am":"pm"].values;if(I.length===0)return;if(m.value.hour===null)Ne(I[0]);else{const Z=(I.length+I.indexOf(m.value.hour)+M)%I.length;Ne(I[Z])}}else{const I=te.value===!0?24:12,Z=te.value!==!0&&P.value===!1?12:0,ce=m.value.hour===null?-M:m.value.hour;Ne(Z+(24+ce+M)%I)}}}function Je(_){if(_.keyCode===13)k.value="minute";else if([37,39].includes(_.keyCode)){const M=_.keyCode===37?-1:1;if(ie.value!==null){const I=ie.value.values;if(I.length===0)return;if(m.value.minute===null)Pe(I[0]);else{const Z=(I.length+I.indexOf(m.value.minute)+M)%I.length;Pe(I[Z])}}else{const I=m.value.minute===null?-M:m.value.minute;Pe((60+I+M)%60)}}}function rt(_){if(_.keyCode===13)k.value="second";else if([37,39].includes(_.keyCode)){const M=_.keyCode===37?-1:1;if(ve.value!==null){const I=ve.value.values;if(I.length===0)return;if(m.value.seconds===null)pe(I[0]);else{const Z=(I.length+I.indexOf(m.value.second)+M)%I.length;pe(I[Z])}}else{const I=m.value.second===null?-M:m.value.second;pe((60+I+M)%60)}}}function Ne(_){m.value.hour!==_&&(m.value.hour=_,Le())}function Pe(_){m.value.minute!==_&&(m.value.minute=_,Le())}function pe(_){m.value.second!==_&&(m.value.second=_,Le())}const Ue={hour:Ne,minute:Pe,second:pe};function We(){P.value===!1&&(P.value=!0,m.value.hour!==null&&(m.value.hour-=12,Le()))}function ut(){P.value===!0&&(P.value=!1,m.value.hour!==null&&(m.value.hour+=12,Le()))}function Xe(_){const M=e.modelValue;k.value!==_&&M!==void 0&&M!==null&&M!==""&&typeof M!="string"&&(k.value=_)}function Le(){if(Se.value!==null&&Se.value(m.value.hour)!==!0){m.value=Tt(),Xe("hour");return}if(Ce.value!==null&&Ce.value(m.value.minute)!==!0){m.value.minute=null,m.value.second=null,Xe("minute");return}if(e.withSeconds===!0&&Ve.value!==null&&Ve.value(m.value.second)!==!0){m.value.second=null,Xe("second");return}m.value.hour===null||m.value.minute===null||e.withSeconds===!0&&m.value.second===null||tt()}function tt(_){const M=Object.assign({...m.value},_),I=e.calendar==="persian"?ne(M.hour)+":"+ne(M.minute)+(e.withSeconds===!0?":"+ne(M.second):""):Sa(new Date(M.year,M.month===null?null:M.month-1,M.day,M.hour,M.minute,M.second,M.millisecond),p.value,C.value,M.year,M.timezoneOffset);M.changed=I!==e.modelValue,l("update:modelValue",I,M)}function lt(){const _=[f("div",{class:"q-time__link "+(k.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:d.value,onClick:ye.hour,onKeyup:qe},oe.value.hour),f("div",":"),f("div",fe.value===!0?{class:"q-time__link "+(k.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:d.value,onKeyup:Je,onClick:ye.minute}:{class:"q-time__link"},oe.value.minute)];e.withSeconds===!0&&_.push(f("div",":"),f("div",ue.value===!0?{class:"q-time__link "+(k.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:d.value,onKeyup:rt,onClick:ye.second}:{class:"q-time__link"},oe.value.second));const M=[f("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},_)];return te.value===!1&&M.push(f("div",{class:"q-time__header-ampm column items-between no-wrap"},[f("div",{class:"q-time__link "+(P.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:d.value,onClick:We,onKeyup:ke},"AM"),f("div",{class:"q-time__link "+(P.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:d.value,onClick:ut,onKeyup:Ye},"PM")])),f("div",{class:"q-time__header flex flex-center no-wrap "+i.value},M)}function Re(){const _=m.value[k.value];return f("div",{class:"q-time__content col relative-position"},[f(mt,{name:"q-transition--scale"},()=>f("div",{key:"clock"+k.value,class:"q-time__container-parent absolute-full"},[f("div",{ref:x,class:"q-time__container-child fit overflow-hidden"},[Gt(f("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:Ie,onMousedown:Te},[f("div",{class:"q-time__clock-circle fit"},[f("div",{class:"q-time__clock-pointer"+(m.value[k.value]===null?" hidden":e.color!==void 0?` text-${e.color}`:""),style:He.value}),Oe.value.map(M=>f("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${M.index}`+(M.val===_?" q-time__clock-position--active "+i.value:M.disable===!0?" q-time__clock-position--disable":"")},[f("span",M.label)]))])]),Ae.value)])])),e.nowBtn===!0?f(Ee,{class:"q-time__now-button absolute",icon:r.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:e.color,textColor:e.textColor,tabindex:d.value,onClick:w}):null])}return o.proxy.setNow=w,()=>{const _=[Re()],M=ot(t.default);return M!==void 0&&_.push(f("div",{class:"q-time__actions"},M)),e.name!==void 0&&e.disable!==!0&&y(_,"push"),f("div",{class:K.value,tabindex:-1},[lt(),f("div",{class:"q-time__main col overflow-auto"},_)])}}}),Bn={class:"row items-center justify-end"},An={class:"row items-center justify-end"},In={__name:"DateTimePicker",props:{modelValue:{type:String,required:!0},label:{type:String,default:""},readonly:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},rules:{type:Array,default:[]},mask:{type:String,default:"####-##-## ##:##"}},emits:["update:modelValue"],setup(e,{emit:t}){const l=e,o=t,r=L(""),a=L("00:00");ge(()=>l.modelValue,v=>{const[b,u]=v.split(" ");r.value=b||"",a.value=u||""});const d=L(l.modelValue),i=()=>{let v="";r.value&&a.value?v=`${r.value} ${a.value}`:r.value&&(v=`${r.value} 00:00`),o("update:modelValue",v),d.value=v};return(v,b)=>(ra(),oa(Zl,{modelValue:d.value,"onUpdate:modelValue":b[2]||(b[2]=u=>d.value=u),label:l.label,readonly:l.readonly,disable:l.disable,error:l.error,rules:[...l.rules],"error-message":e.errorMessage,mask:l.mask},{append:bt(()=>[ft(gt,{name:"event",class:"cursor-pointer"},{default:bt(()=>[ft(Fl,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:bt(()=>[ft(Tn,{modelValue:r.value,"onUpdate:modelValue":[b[0]||(b[0]=u=>r.value=u),i],mask:"YYYY-MM-DD"},{default:bt(()=>[Dl("div",Bn,[Gt(ft(Ee,{label:"Close",color:"primary",flat:""},null,512),[[bl]])])]),_:1},8,["modelValue"])]),_:1})]),_:1}),ft(gt,{name:"access_time",class:"cursor-pointer"},{default:bt(()=>[ft(Fl,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:bt(()=>[ft(Fn,{modelValue:a.value,"onUpdate:modelValue":[b[1]||(b[1]=u=>a.value=u),i],mask:"HH:mm",format24h:""},{default:bt(()=>[Dl("div",An,[Gt(ft(Ee,{label:"Close",color:"primary",flat:""},null,512),[[bl]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label","readonly","disable","error","rules","error-message","mask"]))}},To=Ya(In,[["__scopeId","data-v-81d91b46"]]),Ho=je({name:"QInnerLoading",props:{...wt,...Ft,showing:Boolean,color:String,size:{type:[String,Number],default:"42px"},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:t}){const l=ze(),o=_t(e,l.proxy.$q),{transitionProps:r,transitionStyle:a}=ta(e),d=h(()=>"q-inner-loading q--avoid-card-border absolute-full column flex-center"+(o.value===!0?" q-inner-loading--dark":"")),i=h(()=>"q-inner-loading__label"+(e.labelClass!==void 0?` ${e.labelClass}`:""));function v(){const u=[f(za,{size:e.size,color:e.color})];return e.label!==void 0&&u.push(f("div",{class:i.value,style:e.labelStyle},[e.label])),u}function b(){return e.showing===!0?f("div",{class:d.value,style:a.value},t.default!==void 0?t.default():v()):null}return()=>f(mt,r.value,b)}}),$o=je({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const l=ze(),o=h(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return f("td",{class:o.value},ot(t.default));const r=l.vnode.key,a=(e.props.colsMap!==void 0?e.props.colsMap[r]:null)||e.props.col;if(a===void 0)return;const{row:d}=e.props;return f("td",{class:o.value+a.__tdClass(d),style:a.__tdStyle(d)},ot(t.default))}}}),Fo=je({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:t}){const l=h(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>f("tr",{class:l.value},ot(t.default))}}),Rn=je({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:l}){const o=ze(),{proxy:{$q:r}}=o,a=d=>{l("click",d)};return()=>{if(e.props===void 0)return f("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:a},ot(t.default));let d,i;const v=o.vnode.key;if(v){if(d=e.props.colsMap[v],d===void 0)return}else d=e.props.col;if(d.sortable===!0){const u=d.align==="right"?"unshift":"push";i=Na(t.default,[]),i[u](f(gt,{class:d.__iconClass,name:r.iconSet.table.arrowUp}))}else i=ot(t.default);const b={class:d.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:d.headerStyle,onClick:u=>{d.sortable===!0&&e.props.sort(d),a(u)}};return f("th",b,i)}}}),En=["horizontal","vertical","cell","none"],jn=je({name:"QMarkupTable",props:{...wt,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>En.includes(e)}},setup(e,{slots:t}){const l=ze(),o=_t(e,l.proxy.$q),r=h(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(o.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>f("div",{class:r.value},[f("table",{class:"q-table"},ot(t.default))])}});function wa(e,t){return f("div",e,[f("table",{class:"q-table"},t)])}const Yn={list:La,table:jn},zn=["list","table","__qtable"],Nn=je({name:"QVirtualScroll",props:{...el,type:{type:String,default:"list",validator:e=>zn.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:la},setup(e,{slots:t,attrs:l}){let o;const r=L(null),a=h(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:d,localResetVirtualScroll:i,padVirtualScroll:v,onVirtualScrollEvt:b}=ca({virtualScrollLength:a,getVirtualScrollTarget:x,getVirtualScrollEl:q}),u=h(()=>{if(a.value===0)return[];const W=(k,m)=>({index:d.value.from+m,item:k});return e.itemsFn===void 0?e.items.slice(d.value.from,d.value.to).map(W):e.itemsFn(d.value.from,d.value.to-d.value.from).map(W)}),y=h(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),D=h(()=>e.scrollTarget!==void 0?{}:{tabindex:0});ge(a,()=>{i()}),ge(()=>e.scrollTarget,()=>{C(),p()});function q(){return r.value.$el||r.value}function x(){return o}function p(){o=aa(q(),e.scrollTarget),o.addEventListener("scroll",b,Sl.passive)}function C(){o!==void 0&&(o.removeEventListener("scroll",b,Sl.passive),o=void 0)}function U(){let W=v(e.type==="list"?"div":"tbody",u.value.map(t.default));return t.before!==void 0&&(W=t.before().concat(W)),ol(t.after,W)}return cl(()=>{i()}),sl(()=>{p()}),il(()=>{p()}),ul(()=>{C()}),Dt(()=>{C()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?wa({ref:r,class:"q-table__middle "+y.value},U()):f(Yn[e.type],{...l,ref:r,class:[l.class,y.value],...D.value},U)}}}),Ln={xs:2,sm:4,md:6,lg:10,xl:14};function Bl(e,t,l){return{transform:t===!0?`translateX(${l.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const Qn=je({name:"QLinearProgress",props:{...wt,...Ll,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:l}=ze(),o=_t(e,l.$q),r=Ql(e,Ln),a=h(()=>e.indeterminate===!0||e.query===!0),d=h(()=>e.reverse!==e.query),i=h(()=>({...r.value!==null?r.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),v=h(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),b=h(()=>Bl(e.buffer!==void 0?e.buffer:1,d.value,l.$q)),u=h(()=>`with${e.instantFeedback===!0?"out":""}-transition`),y=h(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${u.value} q-linear-progress__track--${o.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),D=h(()=>Bl(a.value===!0?1:e.value,d.value,l.$q)),q=h(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${u.value} q-linear-progress__model--${a.value===!0?"in":""}determinate`),x=h(()=>({width:`${e.value*100}%`})),p=h(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${u.value}`);return()=>{const C=[f("div",{class:y.value,style:b.value}),f("div",{class:q.value,style:D.value})];return e.stripe===!0&&a.value===!1&&C.push(f("div",{class:p.value,style:x.value})),f("div",{class:v.value,style:i.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},ol(t.default,C))}}});let Pt=0;const Un={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Kn=["update:fullscreen","fullscreen"];function Zn(){const e=ze(),{props:t,emit:l,proxy:o}=e;let r,a,d;const i=L(!1);Qa(e)===!0&&ge(()=>o.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&u()}),ge(()=>t.fullscreen,y=>{i.value!==y&&v()}),ge(i,y=>{l("update:fullscreen",y),l("fullscreen",y)});function v(){i.value===!0?u():b()}function b(){i.value!==!0&&(i.value=!0,d=o.$el.parentNode,d.replaceChild(a,o.$el),document.body.appendChild(o.$el),Pt++,Pt===1&&document.body.classList.add("q-body--fullscreen-mixin"),r={handler:u},wl.add(r))}function u(){i.value===!0&&(r!==void 0&&(wl.remove(r),r=void 0),d.replaceChild(o.$el,a),i.value=!1,Pt=Math.max(0,Pt-1),Pt===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),o.$el.scrollIntoView!==void 0&&setTimeout(()=>{o.$el.scrollIntoView()})))}return cl(()=>{a=document.createElement("span")}),sl(()=>{t.fullscreen===!0&&b()}),Dt(u),Object.assign(o,{toggleFullscreen:v,setFullscreen:b,exitFullscreen:u}),{inFullscreen:i,toggleFullscreen:v}}function Wn(e,t){return new Date(e)-new Date(t)}const Xn={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function Jn(e,t,l,o){const r=h(()=>{const{sortBy:i}=t.value;return i&&l.value.find(v=>v.name===i)||null}),a=h(()=>e.sortMethod!==void 0?e.sortMethod:(i,v,b)=>{const u=l.value.find(q=>q.name===v);if(u===void 0||u.field===void 0)return i;const y=b===!0?-1:1,D=typeof u.field=="function"?q=>u.field(q):q=>q[u.field];return i.sort((q,x)=>{let p=D(q),C=D(x);return u.rawSort!==void 0?u.rawSort(p,C,q,x)*y:p==null?-1*y:C==null?1*y:u.sort!==void 0?u.sort(p,C,q,x)*y:Jt(p)===!0&&Jt(C)===!0?(p-C)*y:_l(p)===!0&&_l(C)===!0?Wn(p,C)*y:typeof p=="boolean"&&typeof C=="boolean"?(p-C)*y:([p,C]=[p,C].map(U=>(U+"").toLocaleString().toLowerCase()),p<C?-1*y:p===C?0:y)})});function d(i){let v=e.columnSortOrder;if(Jl(i)===!0)i.sortOrder&&(v=i.sortOrder),i=i.name;else{const y=l.value.find(D=>D.name===i);y!==void 0&&y.sortOrder&&(v=y.sortOrder)}let{sortBy:b,descending:u}=t.value;b!==i?(b=i,u=v==="da"):e.binaryStateSort===!0?u=!u:u===!0?v==="ad"?b=null:u=!1:v==="ad"?u=!0:b=null,o({sortBy:b,descending:u,page:1})}return{columnToSort:r,computedSortMethod:a,sort:d}}const Gn={filter:[String,Object],filterMethod:Function};function eo(e,t){const l=h(()=>e.filterMethod!==void 0?e.filterMethod:(o,r,a,d)=>{const i=r?r.toLowerCase():"";return o.filter(v=>a.some(b=>{const u=d(b,v)+"";return(u==="undefined"||u==="null"?"":u.toLowerCase()).indexOf(i)!==-1}))});return ge(()=>e.filter,()=>{Qe(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:l}}function to(e,t){for(const l in t)if(t[l]!==e[l])return!1;return!0}function Al(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const lo={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function ao(e,t){const{props:l,emit:o}=e,r=L(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:l.rowsPerPageOptions.length!==0?l.rowsPerPageOptions[0]:5},l.pagination)),a=h(()=>{const u=l["onUpdate:pagination"]!==void 0?{...r.value,...l.pagination}:r.value;return Al(u)}),d=h(()=>a.value.rowsNumber!==void 0);function i(u){v({pagination:u,filter:l.filter})}function v(u={}){Qe(()=>{o("request",{pagination:u.pagination||a.value,filter:u.filter||l.filter,getCellValue:t})})}function b(u,y){const D=Al({...a.value,...u});if(to(a.value,D)===!0){d.value===!0&&y===!0&&i(D);return}if(d.value===!0){i(D);return}l.pagination!==void 0&&l["onUpdate:pagination"]!==void 0?o("update:pagination",D):r.value=D}return{innerPagination:r,computedPagination:a,isServerSide:d,requestServerInteraction:v,setPagination:b}}function no(e,t,l,o,r,a){const{props:d,emit:i,proxy:{$q:v}}=e,b=h(()=>o.value===!0?l.value.rowsNumber||0:a.value),u=h(()=>{const{page:m,rowsPerPage:P}=l.value;return(m-1)*P}),y=h(()=>{const{page:m,rowsPerPage:P}=l.value;return m*P}),D=h(()=>l.value.page===1),q=h(()=>l.value.rowsPerPage===0?1:Math.max(1,Math.ceil(b.value/l.value.rowsPerPage))),x=h(()=>y.value===0?!0:l.value.page>=q.value),p=h(()=>(d.rowsPerPageOptions.includes(t.value.rowsPerPage)?d.rowsPerPageOptions:[t.value.rowsPerPage].concat(d.rowsPerPageOptions)).map(P=>({label:P===0?v.lang.table.allRows:""+P,value:P})));ge(q,(m,P)=>{if(m===P)return;const K=l.value.page;m&&!K?r({page:1}):m<K&&r({page:m})});function C(){r({page:1})}function U(){const{page:m}=l.value;m>1&&r({page:m-1})}function W(){const{page:m,rowsPerPage:P}=l.value;y.value>0&&m*P<b.value&&r({page:m+1})}function k(){r({page:q.value})}return d["onUpdate:pagination"]!==void 0&&i("update:pagination",{...l.value}),{firstRowIndex:u,lastRowIndex:y,isFirstPage:D,isLastPage:x,pagesNumber:q,computedRowsPerPageOptions:p,computedRowsNumber:b,firstPage:C,prevPage:U,nextPage:W,lastPage:k}}const oo={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},ro=["update:selected","selection"];function uo(e,t,l,o){const r=h(()=>{const x={};return e.selected.map(o.value).forEach(p=>{x[p]=!0}),x}),a=h(()=>e.selection!=="none"),d=h(()=>e.selection==="single"),i=h(()=>e.selection==="multiple"),v=h(()=>l.value.length!==0&&l.value.every(x=>r.value[o.value(x)]===!0)),b=h(()=>v.value!==!0&&l.value.some(x=>r.value[o.value(x)]===!0)),u=h(()=>e.selected.length);function y(x){return r.value[x]===!0}function D(){t("update:selected",[])}function q(x,p,C,U){t("selection",{rows:p,added:C,keys:x,evt:U});const W=d.value===!0?C===!0?p:[]:C===!0?e.selected.concat(p):e.selected.filter(k=>x.includes(o.value(k))===!1);t("update:selected",W)}return{hasSelectionMode:a,singleSelection:d,multipleSelection:i,allRowsSelected:v,someRowsSelected:b,rowsSelectedNumber:u,isRowSelected:y,clearSelection:D,updateSelection:q}}function Il(e){return Array.isArray(e)?e.slice():[]}const io={expanded:Array},so=["update:expanded"];function co(e,t){const l=L(Il(e.expanded));ge(()=>e.expanded,d=>{l.value=Il(d)});function o(d){return l.value.includes(d)}function r(d){e.expanded!==void 0?t("update:expanded",d):l.value=d}function a(d,i){const v=l.value.slice(),b=v.indexOf(d);i===!0?b===-1&&(v.push(d),r(v)):b!==-1&&(v.splice(b,1),r(v))}return{isRowExpanded:o,setExpanded:r,updateExpanded:a}}const fo={visibleColumns:Array};function vo(e,t,l){const o=h(()=>{if(e.columns!==void 0)return e.columns;const i=e.rows[0];return i!==void 0?Object.keys(i).map(v=>({name:v,label:v.toUpperCase(),field:v,align:Jt(i[v])?"right":"left",sortable:!0})):[]}),r=h(()=>{const{sortBy:i,descending:v}=t.value;return(e.visibleColumns!==void 0?o.value.filter(u=>u.required===!0||e.visibleColumns.includes(u.name)===!0):o.value).map(u=>{const y=u.align||"right",D=`text-${y}`;return{...u,align:y,__iconClass:`q-table__sort-icon q-table__sort-icon--${y}`,__thClass:D+(u.headerClasses!==void 0?" "+u.headerClasses:"")+(u.sortable===!0?" sortable":"")+(u.name===i?` sorted ${v===!0?"sort-desc":""}`:""),__tdStyle:u.style!==void 0?typeof u.style!="function"?()=>u.style:u.style:()=>null,__tdClass:u.classes!==void 0?typeof u.classes!="function"?()=>D+" "+u.classes:q=>D+" "+u.classes(q):()=>D}})}),a=h(()=>{const i={};return r.value.forEach(v=>{i[v.name]=v}),i}),d=h(()=>e.tableColspan!==void 0?e.tableColspan:r.value.length+(l.value===!0?1:0));return{colList:o,computedCols:r,computedColsMap:a,computedColspan:d}}const $t="q-table__bottom row items-center",_a={};sa.forEach(e=>{_a[e]={}});const Bo=je({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},..._a,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...wt,...Un,...fo,...Gn,...lo,...io,...oo,...Xn},emits:["request","virtualScroll",...Kn,...so,...ro],setup(e,{slots:t,emit:l}){const o=ze(),{proxy:{$q:r}}=o,a=_t(e,r),{inFullscreen:d,toggleFullscreen:i}=Zn(),v=h(()=>typeof e.rowKey=="function"?e.rowKey:S=>S[e.rowKey]),b=L(null),u=L(null),y=h(()=>e.grid!==!0&&e.virtualScroll===!0),D=h(()=>" q-table__card"+(a.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),q=h(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":D.value)+(a.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(d.value===!0?" fullscreen scroll":"")),x=h(()=>q.value+(e.loading===!0?" q-table--loading":""));ge(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+q.value,()=>{y.value===!0&&u.value!==null&&u.value.reset()});const{innerPagination:p,computedPagination:C,isServerSide:U,requestServerInteraction:W,setPagination:k}=ao(o,_),{computedFilterMethod:m}=eo(e,k),{isRowExpanded:P,setExpanded:K,updateExpanded:oe}=co(e,l),te=h(()=>{let S=e.rows;if(U.value===!0||S.length===0)return S;const{sortBy:H,descending:R}=C.value;return e.filter&&(S=m.value(S,e.filter,w.value,_)),J.value!==null&&(S=le.value(e.rows===S?S.slice():S,H,R)),S}),He=h(()=>te.value.length),fe=h(()=>{let S=te.value;if(U.value===!0)return S;const{rowsPerPage:H}=C.value;return H!==0&&(z.value===0&&e.rows!==S?S.length>se.value&&(S=S.slice(0,se.value)):S=S.slice(z.value,se.value)),S}),{hasSelectionMode:ue,singleSelection:Se,multipleSelection:Ce,allRowsSelected:Ve,someRowsSelected:de,rowsSelectedNumber:ie,isRowSelected:ve,clearSelection:Me,updateSelection:Oe}=uo(e,l,fe,v),{colList:Ae,computedCols:w,computedColsMap:T,computedColspan:A}=vo(e,C,ue),{columnToSort:J,computedSortMethod:le,sort:Q}=Jn(e,C,Ae,k),{firstRowIndex:z,lastRowIndex:se,isFirstPage:E,isLastPage:xe,pagesNumber:ae,computedRowsPerPageOptions:ye,computedRowsNumber:ke,firstPage:Ye,prevPage:Ie,nextPage:Te,lastPage:qe}=no(o,p,C,U,k,He),Je=h(()=>fe.value.length===0),rt=h(()=>{const S={};return sa.forEach(H=>{S[H]=e[H]}),S.virtualScrollItemSize===void 0&&(S.virtualScrollItemSize=e.dense===!0?28:48),S});function Ne(){y.value===!0&&u.value.reset()}function Pe(){if(e.grid===!0)return yt();const S=e.hideHeader!==!0?ce:null;if(y.value===!0){const R=t["top-row"],Y=t["bottom-row"],X={default:we=>ut(we.item,t.body,we.index)};if(R!==void 0){const we=f("tbody",R({cols:w.value}));X.before=S===null?()=>we:()=>[S()].concat(we)}else S!==null&&(X.before=S);return Y!==void 0&&(X.after=()=>f("tbody",Y({cols:w.value}))),f(Nn,{ref:u,class:e.tableClass,style:e.tableStyle,...rt.value,scrollTarget:e.virtualScrollTarget,items:fe.value,type:"__qtable",tableColspan:A.value,onVirtualScroll:Ue},X)}const H=[Xe()];return S!==null&&H.unshift(S()),wa({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},H)}function pe(S,H){if(u.value!==null){u.value.scrollTo(S,H);return}S=parseInt(S,10);const R=b.value.querySelector(`tbody tr:nth-of-type(${S+1})`);if(R!==null){const Y=b.value.querySelector(".q-table__middle.scroll"),X=R.offsetTop-e.virtualScrollStickySizeStart,we=X<Y.scrollTop?"decrease":"increase";Y.scrollTop=X,l("virtualScroll",{index:S,from:0,to:p.value.rowsPerPage-1,direction:we})}}function Ue(S){l("virtualScroll",S)}function We(){return[f(Qn,{class:"q-table__linear-progress",color:e.color,dark:a.value,indeterminate:!0,trackColor:"transparent"})]}function ut(S,H,R){const Y=v.value(S),X=ve(Y);if(H!==void 0)return H(Le({key:Y,row:S,pageIndex:R,__trClass:X?"selected":""}));const we=t["body-cell"],n=w.value.map(g=>{const V=t[`body-cell-${g.name}`],O=V!==void 0?V:we;return O!==void 0?O(tt({key:Y,row:S,pageIndex:R,col:g})):f("td",{class:g.__tdClass(S),style:g.__tdStyle(S)},_(g,S))});if(ue.value===!0){const g=t["body-selection"],V=g!==void 0?g(lt({key:Y,row:S,pageIndex:R})):[f(zt,{modelValue:X,color:e.color,dark:a.value,dense:e.dense,"onUpdate:modelValue":(O,ee)=>{Oe([Y],[S],O,ee)}})];n.unshift(f("td",{class:"q-table--col-auto-width"},V))}const c={key:Y,class:{selected:X}};return e.onRowClick!==void 0&&(c.class["cursor-pointer"]=!0,c.onClick=g=>{l("rowClick",g,S,R)}),e.onRowDblclick!==void 0&&(c.class["cursor-pointer"]=!0,c.onDblclick=g=>{l("rowDblclick",g,S,R)}),e.onRowContextmenu!==void 0&&(c.class["cursor-pointer"]=!0,c.onContextmenu=g=>{l("rowContextmenu",g,S,R)}),f("tr",c,n)}function Xe(){const S=t.body,H=t["top-row"],R=t["bottom-row"];let Y=fe.value.map((X,we)=>ut(X,S,we));return H!==void 0&&(Y=H({cols:w.value}).concat(Y)),R!==void 0&&(Y=Y.concat(R({cols:w.value}))),f("tbody",Y)}function Le(S){return Re(S),S.cols=S.cols.map(H=>Mt({...H},"value",()=>_(H,S.row))),S}function tt(S){return Re(S),Mt(S,"value",()=>_(S.col,S.row)),S}function lt(S){return Re(S),S}function Re(S){Object.assign(S,{cols:w.value,colsMap:T.value,sort:Q,rowIndex:z.value+S.pageIndex,color:e.color,dark:a.value,dense:e.dense}),ue.value===!0&&Mt(S,"selected",()=>ve(S.key),(H,R)=>{Oe([S.key],[S.row],H,R)}),Mt(S,"expand",()=>P(S.key),H=>{oe(S.key,H)})}function _(S,H){const R=typeof S.field=="function"?S.field(H):H[S.field];return S.format!==void 0?S.format(R,H):R}const M=h(()=>({pagination:C.value,pagesNumber:ae.value,isFirstPage:E.value,isLastPage:xe.value,firstPage:Ye,prevPage:Ie,nextPage:Te,lastPage:qe,inFullscreen:d.value,toggleFullscreen:i}));function I(){const S=t.top,H=t["top-left"],R=t["top-right"],Y=t["top-selection"],X=ue.value===!0&&Y!==void 0&&ie.value>0,we="q-table__top relative-position row items-center";if(S!==void 0)return f("div",{class:we},[S(M.value)]);let n;if(X===!0?n=Y(M.value).slice():(n=[],H!==void 0?n.push(f("div",{class:"q-table__control"},[H(M.value)])):e.title&&n.push(f("div",{class:"q-table__control"},[f("div",{class:["q-table__title",e.titleClass]},e.title)]))),R!==void 0&&(n.push(f("div",{class:"q-table__separator col"})),n.push(f("div",{class:"q-table__control"},[R(M.value)]))),n.length!==0)return f("div",{class:we},n)}const Z=h(()=>de.value===!0?null:Ve.value);function ce(){const S=$e();return e.loading===!0&&t.loading===void 0&&S.push(f("tr",{class:"q-table__progress"},[f("th",{class:"relative-position",colspan:A.value},We())])),f("thead",S)}function $e(){const S=t.header,H=t["header-cell"];if(S!==void 0)return S(j({header:!0})).slice();const R=w.value.map(Y=>{const X=t[`header-cell-${Y.name}`],we=X!==void 0?X:H,n=j({col:Y});return we!==void 0?we(n):f(Rn,{key:Y.name,props:n},()=>Y.label)});if(Se.value===!0&&e.grid!==!0)R.unshift(f("th",{class:"q-table--col-auto-width"}," "));else if(Ce.value===!0){const Y=t["header-selection"],X=Y!==void 0?Y(j({})):[f(zt,{color:e.color,modelValue:Z.value,dark:a.value,dense:e.dense,"onUpdate:modelValue":me})];R.unshift(f("th",{class:"q-table--col-auto-width"},X))}return[f("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},R)]}function j(S){return Object.assign(S,{cols:w.value,sort:Q,colsMap:T.value,color:e.color,dark:a.value,dense:e.dense}),Ce.value===!0&&Mt(S,"selected",()=>Z.value,me),S}function me(S){de.value===!0&&(S=!1),Oe(fe.value.map(v.value),fe.value,S)}const Fe=h(()=>{const S=[e.iconFirstPage||r.iconSet.table.firstPage,e.iconPrevPage||r.iconSet.table.prevPage,e.iconNextPage||r.iconSet.table.nextPage,e.iconLastPage||r.iconSet.table.lastPage];return r.lang.rtl===!0?S.reverse():S});function Ge(){if(e.hideBottom===!0)return;if(Je.value===!0){if(e.hideNoData===!0)return;const R=e.loading===!0?e.loadingLabel||r.lang.table.loading:e.filter?e.noResultsLabel||r.lang.table.noResults:e.noDataLabel||r.lang.table.noData,Y=t["no-data"],X=Y!==void 0?[Y({message:R,icon:r.iconSet.table.warning,filter:e.filter})]:[f(gt,{class:"q-table__bottom-nodata-icon",name:r.iconSet.table.warning}),R];return f("div",{class:$t+" q-table__bottom--nodata"},X)}const S=t.bottom;if(S!==void 0)return f("div",{class:$t},[S(M.value)]);const H=e.hideSelectedBanner!==!0&&ue.value===!0&&ie.value>0?[f("div",{class:"q-table__control"},[f("div",[(e.selectedRowsLabel||r.lang.table.selectedRecords)(ie.value)])])]:[];if(e.hidePagination!==!0)return f("div",{class:$t+" justify-end"},at(H));if(H.length!==0)return f("div",{class:$t},H)}function ct(S){k({page:1,rowsPerPage:S.value})}function at(S){let H;const{rowsPerPage:R}=C.value,Y=e.paginationLabel||r.lang.table.pagination,X=t.pagination,we=e.rowsPerPageOptions.length>1;if(S.push(f("div",{class:"q-table__separator col"})),we===!0&&S.push(f("div",{class:"q-table__control"},[f("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||r.lang.table.recordsPerPage]),f(Sn,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:R,options:ye.value,displayValue:R===0?r.lang.table.allRows:R,dark:a.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":ct})])),X!==void 0)H=X(M.value);else if(H=[f("span",R!==0?{class:"q-table__bottom-item"}:{},[R?Y(z.value+1,Math.min(se.value,ke.value),ke.value):Y(1,He.value,ke.value)])],R!==0&&ae.value>1){const n={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(n.size="sm"),ae.value>2&&H.push(f(Ee,{key:"pgFirst",...n,icon:Fe.value[0],disable:E.value,onClick:Ye})),H.push(f(Ee,{key:"pgPrev",...n,icon:Fe.value[1],disable:E.value,onClick:Ie}),f(Ee,{key:"pgNext",...n,icon:Fe.value[2],disable:xe.value,onClick:Te})),ae.value>2&&H.push(f(Ee,{key:"pgLast",...n,icon:Fe.value[3],disable:xe.value,onClick:qe}))}return S.push(f("div",{class:"q-table__control"},H)),S}function dt(){const S=e.gridHeader===!0?[f("table",{class:"q-table"},[ce()])]:e.loading===!0&&t.loading===void 0?We():void 0;return f("div",{class:"q-table__middle"},S)}function yt(){const S=t.item!==void 0?t.item:H=>{const R=H.cols.map(X=>f("div",{class:"q-table__grid-item-row"},[f("div",{class:"q-table__grid-item-title"},[X.label]),f("div",{class:"q-table__grid-item-value"},[X.value])]));if(ue.value===!0){const X=t["body-selection"],we=X!==void 0?X(H):[f(zt,{modelValue:H.selected,color:e.color,dark:a.value,dense:e.dense,"onUpdate:modelValue":(n,c)=>{Oe([H.key],[H.row],n,c)}})];R.unshift(f("div",{class:"q-table__grid-item-row"},we),f(Ka,{dark:a.value}))}const Y={class:["q-table__grid-item-card"+D.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(Y.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(Y.onClick=X=>{l("RowClick",X,H.row,H.pageIndex)}),e.onRowDblclick!==void 0&&(Y.onDblclick=X=>{l("RowDblclick",X,H.row,H.pageIndex)})),f("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(H.selected===!0?" q-table__grid-item--selected":"")},[f("div",Y,R)])};return f("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},fe.value.map((H,R)=>S(Le({key:v.value(H),row:H,pageIndex:R}))))}return Object.assign(o.proxy,{requestServerInteraction:W,setPagination:k,firstPage:Ye,prevPage:Ie,nextPage:Te,lastPage:qe,isRowSelected:ve,clearSelection:Me,isRowExpanded:P,setExpanded:K,sort:Q,resetVirtualScroll:Ne,scrollTo:pe,getCellValue:_}),Ua(o.proxy,{filteredSortedRows:()=>te.value,computedRows:()=>fe.value,computedRowsNumber:()=>ke.value}),()=>{const S=[I()],H={ref:b,class:x.value};return e.grid===!0?S.push(dt()):Object.assign(H,{class:[H.class,e.cardClass],style:e.cardStyle}),S.push(Pe(),Ge()),e.loading===!0&&t.loading!==void 0&&S.push(t.loading()),f("div",H,S)}}});function Ao(e,t){const l=[];for(let o=e;o<=t;o++)l.push({value:o,label:o});return l}function Io(){return[{value:1,label:"Januari"},{value:2,label:"Februari"},{value:3,label:"Maret"},{value:4,label:"April"},{value:5,label:"Mei"},{value:6,label:"Juni"},{value:7,label:"Juli"},{value:8,label:"Agustus"},{value:9,label:"September"},{value:10,label:"Oktober"},{value:11,label:"November"},{value:12,label:"Desember"}]}function Ro(e){return Object.entries(e).map(([t,l])=>({value:t,label:l}))}const Eo=(e,t=0,l="id-ID")=>{let o=e;return(o==null||isNaN(o))&&(o=0),new Intl.NumberFormat(l,{minimumFractionDigits:t,maximumFractionDigits:t}).format(o)};function jo(e){return e>0?"+":""}function mo(e,t="DD/MM/YYYY HH:mm:ss",l="id-ID"){let o;if(e instanceof Date)o=e;else if(typeof e=="string")o=new Date(e);else throw new Error("val must be string or Date object");return rl(o).format(t)}function Yo(e,t="YYYY-MM-DD HH:mm:ss"){return mo(e,t)}function zo(e){return rl(e).fromNow()}function No(){return new Date().getFullYear()}function Lo(){return new Date().getMonth()+1}const Qo=je({name:"QTooltip",inheritAttrs:!1,props:{...Ja,...Xa,...Ft,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...Ft.transitionShow,default:"jump-down"},transitionHide:{...Ft.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Cl},self:{type:String,default:"top middle",validator:Cl},offset:{type:Array,default:()=>[14,14],validator:Wa},scrollTarget:la,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Za],setup(e,{slots:t,emit:l,attrs:o}){let r,a;const d=ze(),{proxy:{$q:i}}=d,v=L(null),b=L(!1),u=h(()=>ql(e.anchor,i.lang.rtl)),y=h(()=>ql(e.self,i.lang.rtl)),D=h(()=>e.persistent!==!0),{registerTick:q,removeTick:x}=Ga(),{registerTimeout:p}=en(),{transitionProps:C,transitionStyle:U}=ta(e),{localScrollTarget:W,changeScrollEvent:k,unconfigureScrollTarget:m}=tn(e,Ae),{anchorEl:P,canShow:K,anchorEvents:oe}=ea({showing:b,configureAnchorEl:Oe}),{show:te,hide:He}=ln({showing:b,canShow:K,handleShow:Ce,handleHide:Ve,hideOnRouteChange:D,processOnMount:!0});Object.assign(oe,{delayShow:ve,delayHide:Me});const{showPortal:fe,hidePortal:ue,renderPortal:Se}=an(d,v,T,"tooltip");if(i.platform.is.mobile===!0){const A={anchorEl:P,innerRef:v,onClickOutside(le){return He(le),le.target.classList.contains("q-dialog__backdrop")&&nt(le),!0}},J=h(()=>e.modelValue===null&&e.persistent!==!0&&b.value===!0);ge(J,le=>{(le===!0?nn:xl)(A)}),Dt(()=>{xl(A)})}function Ce(A){fe(),q(()=>{a=new MutationObserver(()=>ie()),a.observe(v.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),ie(),Ae()}),r===void 0&&(r=ge(()=>i.screen.width+"|"+i.screen.height+"|"+e.self+"|"+e.anchor+"|"+i.lang.rtl,ie)),p(()=>{fe(!0),l("show",A)},e.transitionDuration)}function Ve(A){x(),ue(),de(),p(()=>{ue(!0),l("hide",A)},e.transitionDuration)}function de(){a!==void 0&&(a.disconnect(),a=void 0),r!==void 0&&(r(),r=void 0),m(),pl(oe,"tooltipTemp")}function ie(){on({targetEl:v.value,offset:e.offset,anchorEl:P.value,anchorOrigin:u.value,selfOrigin:y.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ve(A){if(i.platform.is.mobile===!0){Ml(),document.body.classList.add("non-selectable");const J=P.value,le=["touchmove","touchcancel","touchend","click"].map(Q=>[J,Q,"delayHide","passiveCapture"]);kl(oe,"tooltipTemp",le)}p(()=>{te(A)},e.delay)}function Me(A){i.platform.is.mobile===!0&&(pl(oe,"tooltipTemp"),Ml(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),p(()=>{He(A)},e.hideDelay)}function Oe(){if(e.noParentEvent===!0||P.value===null)return;const A=i.platform.is.mobile===!0?[[P.value,"touchstart","delayShow","passive"]]:[[P.value,"mouseenter","delayShow","passive"],[P.value,"mouseleave","delayHide","passive"]];kl(oe,"anchor",A)}function Ae(){if(P.value!==null||e.scrollTarget!==void 0){W.value=aa(P.value,e.scrollTarget);const A=e.noParentEvent===!0?ie:He;k(W.value,A)}}function w(){return b.value===!0?f("div",{...o,ref:v,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,U.value],role:"tooltip"},ot(t.default)):null}function T(){return f(mt,C.value,w)}return Dt(de),Object.assign(d.proxy,{updatePosition:ie}),Se}});class Wt{constructor(t,l,o){this.name=t,this.definition=l,this.bindings=l.bindings??{},this.wheres=l.wheres??{},this.config=o}get template(){const t=`${this.origin}/${this.definition.uri}`.replace(/\/+$/,"");return t===""?"/":t}get origin(){return this.config.absolute?this.definition.domain?`${this.config.url.match(/^\w+:\/\//)[0]}${this.definition.domain}${this.config.port?`:${this.config.port}`:""}`:this.config.url:""}get parameterSegments(){var t;return((t=this.template.match(/{[^}?]+\??}/g))==null?void 0:t.map(l=>({name:l.replace(/{|\??}/g,""),required:!/\?}$/.test(l)})))??[]}matchesUrl(t){if(!this.definition.methods.includes("GET"))return!1;const l=this.template.replace(/[.*+$()[\]]/g,"\\$&").replace(/(\/?){([^}?]*)(\??)}/g,(d,i,v,b)=>{var y;const u=`(?<${v}>${((y=this.wheres[v])==null?void 0:y.replace(/(^\^)|(\$$)/g,""))||"[^/?]+"})`;return b?`(${i}${u})?`:`${i}${u}`}).replace(/^\w+:\/\//,""),[o,r]=t.replace(/^\w+:\/\//,"").split("?"),a=new RegExp(`^${l}/?$`).exec(o)??new RegExp(`^${l}/?$`).exec(decodeURI(o));if(a){for(const d in a.groups)a.groups[d]=typeof a.groups[d]=="string"?decodeURIComponent(a.groups[d]):a.groups[d];return{params:a.groups,query:na.parse(r)}}return!1}compile(t){return this.parameterSegments.length?this.template.replace(/{([^}?]+)(\??)}/g,(o,r,a)=>{if(!a&&[null,void 0].includes(t[r]))throw new Error(`Ziggy error: '${r}' parameter is required for route '${this.name}'.`);if(this.wheres[r]&&!new RegExp(`^${a?`(${this.wheres[r]})?`:this.wheres[r]}$`).test(t[r]??""))throw new Error(`Ziggy error: '${r}' parameter '${t[r]}' does not match required format '${this.wheres[r]}' for route '${this.name}'.`);return encodeURI(t[r]??"").replace(/%7C/g,"|").replace(/%25/g,"%").replace(/\$/g,"%24")}).replace(this.config.absolute?/(\.[^/]+?)(\/\/)/:/(^)(\/\/)/,"$1/").replace(/\/+$/,""):this.template}}class ho extends String{constructor(t,l,o=!0,r){if(super(),this._config=r??(typeof Ziggy<"u"?Ziggy:globalThis==null?void 0:globalThis.Ziggy),this._config={...this._config,absolute:o},t){if(!this._config.routes[t])throw new Error(`Ziggy error: route '${t}' is not in the route list.`);this._route=new Wt(t,this._config.routes[t],this._config),this._params=this._parse(l)}}toString(){const t=Object.keys(this._params).filter(l=>!this._route.parameterSegments.some(({name:o})=>o===l)).filter(l=>l!=="_query").reduce((l,o)=>({...l,[o]:this._params[o]}),{});return this._route.compile(this._params)+na.stringify({...t,...this._params._query},{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(l,o)=>typeof l=="boolean"?Number(l):o(l)})}_unresolve(t){t?this._config.absolute&&t.startsWith("/")&&(t=this._location().host+t):t=this._currentUrl();let l={};const[o,r]=Object.entries(this._config.routes).find(([a,d])=>l=new Wt(a,d,this._config).matchesUrl(t))||[void 0,void 0];return{name:o,...l,route:r}}_currentUrl(){const{host:t,pathname:l,search:o}=this._location();return(this._config.absolute?t+l:l.replace(this._config.url.replace(/^\w*:\/\/[^/]+/,""),"").replace(/^\/+/,"/"))+o}current(t,l){const{name:o,params:r,query:a,route:d}=this._unresolve();if(!t)return o;const i=new RegExp(`^${t.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(o);if([null,void 0].includes(l)||!i)return i;const v=new Wt(o,d,this._config);l=this._parse(l,v);const b={...r,...a};if(Object.values(l).every(y=>!y)&&!Object.values(b).some(y=>y!==void 0))return!0;const u=(y,D)=>Object.entries(y).every(([q,x])=>Array.isArray(x)&&Array.isArray(D[q])?x.every(p=>D[q].includes(p)):typeof x=="object"&&typeof D[q]=="object"&&x!==null&&D[q]!==null?u(x,D[q]):D[q]==x);return u(l,b)}_location(){var r,a,d;const{host:t="",pathname:l="",search:o=""}=typeof window<"u"?window.location:{};return{host:((r=this._config.location)==null?void 0:r.host)??t,pathname:((a=this._config.location)==null?void 0:a.pathname)??l,search:((d=this._config.location)==null?void 0:d.search)??o}}get params(){const{params:t,query:l}=this._unresolve();return{...t,...l}}get routeParams(){return this._unresolve().params}get queryParams(){return this._unresolve().query}has(t){return this._config.routes.hasOwnProperty(t)}_parse(t={},l=this._route){t??(t={}),t=["string","number"].includes(typeof t)?[t]:t;const o=l.parameterSegments.filter(({name:r})=>!this._config.defaults[r]);return Array.isArray(t)?t=t.reduce((r,a,d)=>o[d]?{...r,[o[d].name]:a}:typeof a=="object"?{...r,...a}:{...r,[a]:""},{}):o.length===1&&!t[o[0].name]&&(t.hasOwnProperty(Object.values(l.bindings)[0])||t.hasOwnProperty("id"))&&(t={[o[0].name]:t}),{...this._defaults(l),...this._substituteBindings(t,l)}}_defaults(t){return t.parameterSegments.filter(({name:l})=>this._config.defaults[l]).reduce((l,{name:o},r)=>({...l,[o]:this._config.defaults[o]}),{})}_substituteBindings(t,{bindings:l,parameterSegments:o}){return Object.entries(t).reduce((r,[a,d])=>{if(!d||typeof d!="object"||Array.isArray(d)||!o.some(({name:i})=>i===a))return{...r,[a]:d};if(!d.hasOwnProperty(l[a]))if(d.hasOwnProperty("id"))l[a]="id";else throw new Error(`Ziggy error: object passed as '${a}' parameter is missing route model binding key '${l[a]}'.`);return{...r,[a]:d[l[a]]}},{})}valueOf(){return this.toString()}}function go(e,t,l,o){const r=new ho(e,t,l,o);return e?r.toString():r}const Uo={install(e,t){const l=(o,r,a,d=t)=>go(o,r,a,d);parseInt(e.version)>2?(e.config.globalProperties.route=l,e.provide("route",l)):e.mixin({methods:{route:l}})}};var At={exports:{}},yo=At.exports,Rl;function bo(){return Rl||(Rl=1,function(e,t){(function(l,o){e.exports=o()})(yo,function(){return function(l,o,r){l=l||{};var a=o.prototype,d={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(b,u,y,D){return a.fromToBase(b,u,y,D)}r.en.relativeTime=d,a.fromToBase=function(b,u,y,D,q){for(var x,p,C,U=y.$locale().relativeTime||d,W=l.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],k=W.length,m=0;m<k;m+=1){var P=W[m];P.d&&(x=D?r(b).diff(y,P.d,!0):y.diff(b,P.d,!0));var K=(l.rounding||Math.round)(Math.abs(x));if(C=x>0,K<=P.r||!P.r){K<=1&&m>0&&(P=W[m-1]);var oe=U[P.l];q&&(K=q(""+K)),p=typeof oe=="string"?oe.replace("%d",K):oe(K,u,P.l,C);break}}if(u)return p;var te=C?U.future:U.past;return typeof te=="function"?te(p):te.replace("%s",p)},a.to=function(b,u){return i(b,u,this,!0)},a.from=function(b,u){return i(b,u,this)};var v=function(b){return b.$u?r.utc():r()};a.toNow=function(b){return this.to(v(this),b)},a.fromNow=function(b){return this.from(v(this),b)}}})}(At)),At.exports}var So=bo();const Ko=cn(So);function wo(e,t){var r,a,d,i;const l=(a=(r=t==null?void 0:t.props)==null?void 0:r.auth)==null?void 0:a.user,o=((i=(d=t==null?void 0:t.props)==null?void 0:d.auth)==null?void 0:i.permissions)||[];return l!=null&&l.is_root?!0:o.includes(e)}function _o(){return()=>{window.history.length>1&&window.history.back()}}const Zo={install(e){e.config.globalProperties.$can=function(t){return wo(t,this.$page)},e.config.globalProperties.$goBack=_o(),e.config.globalProperties.$dayjs=rl,e.config.globalProperties.$config=window.CONFIG,e.config.globalProperties.$CONSTANTS=window.CONSTANTS}};export{Rn as A,mn as B,Ko as C,To as D,Zo as G,xo as Q,Uo as Z,Po as _,Sn as a,ko as b,Ao as c,Io as d,Bo as e,Fo as f,Do as g,po as h,$o as i,Eo as j,Vo as k,Mo as l,Ho as m,mo as n,zo as o,jo as p,Ro as q,It as r,Oo as s,Yo as t,wn as u,No as v,Lo as w,Fl as x,Tn as y,Qo as z};
