import{_ as ft,r as L,c as h,o as b,a as e,w as a,b as l,Q as ie,d as te,e as v,F as H,f as C,g as U,h as $,i as se,t as r,u as t,j as K,k as mt,l as Gt,T as je,m as bo,n as ke,p as Re,q as Q,s as Fe,v as Rt,x as q,y as le,z as A,A as $t,B as ce,C as Oe,D as J,E as Xe,G as tt,H as W,I as _t,J as be,K as $e,L as We,M as Ie,N as Ue,O as he,P as Ae,R as Z,S as Ye,U as Je,V as Te,W as Me,X as qe,Y as ye,Z as F,$ as _e,a0 as Qe,a1 as De,a2 as ee,a3 as M,a4 as ne,a5 as re,a6 as Ge,a7 as Ee,a8 as Be,a9 as Ne,aa as vo,ab as dl,ac as ka,ad as ht,ae as Xt,af as fe,ag as $a,ah as yo,ai as _o,aj as Ct,ak as gt,al as ul,am as fl,an as wo,ao as ko,ap as $o,aq as ho,ar as wt,as as xo,at as So,au as ml,av as Dt,aw as cl,ax as ql,ay as Vo,az as Yt,aA as Cl,aB as qo,aC as Tl,aD as Co,aE as ha,aF as To,aG as Po,aH as Io,aI as vl,aJ as yl,aK as Oo,aL as xa,aM as st,aN as Zt,aO as el,aP as Bt,aQ as Ft,aR as Pt,aS as It,aT as Ke,aU as Pl,aV as zt,aW as Il,aX as ot,aY as tl,aZ as kt,a_ as Ut,a$ as _l,b0 as Lt,b1 as Do,b2 as Ro,b3 as Sa,b4 as Uo,b5 as Ao,b6 as Mo,b7 as jo,b8 as Ol,b9 as Eo,ba as No,bb as Bo,bc as Fo,bd as Va,be as lt,bf as zo,bg as Dl,bh as Lo,bi as Ho,bj as Yo,bk as Ko,bl as Qo,bm as Wo,bn as Jo,bo as ge,bp as Qt,bq as at,br as Go,bs as Xo,bt as Zo,bu as qa,bv as Wt,bw as ll,bx as Nt,by as Tt,bz as xt,bA as gl,bB as en,bC as tn,bD as ln,bE as an,bF as on,bG as nn,bH as Mt,bI as jt,bJ as Et,bK as wl,bL as sn,bM as Ca,bN as rn,bO as dn,bP as un,bQ as mn,bR as Ta,bS as cn,bT as pn,bU as fn,bV as Vt,bW as gn,bX as bn,bY as vn,bZ as yn,b_ as _n,b$ as wn,c0 as kn,c1 as $n,c2 as hn}from"./BaseGuestLayout-CEERFFu_.js";const xn={},Sn={class:"row"};function Vn(m,n){const u=L("i-head"),o=L("authenticated-layout");return b(),h(H,null,[e(u,{title:"About"}),e(o,null,{title:a(()=>n[0]||(n[0]=[v("About")])),default:a(()=>[l("div",Sn,[e(ie,{class:"col q-pa-md q-ma-md",square:"",flat:"",bordered:""},{default:a(()=>[e(te,null,{default:a(()=>n[1]||(n[1]=[l("div",{class:"q-mb-md text-h4"},"About",-1),l("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Autem soluta, accusamus placeat eius eligendi perferendis quisquam veritatis iste debitis laboriosam facere et aliquam quos beatae illo distinctio rerum eos! Expedita, voluptatem. Aut nihil deleniti magni fuga eius labore aliquam nulla quod ullam sunt amet eum asperiores, harum unde eligendi tempore sapiente. Placeat sed, dignissimos voluptatum perspiciatis saepe aspernatur, maxime est, ipsam quas nobis cumque sunt labore molestias? Amet in sed ullam recusandae, nostrum dicta facilis blanditiis incidunt quae commodi soluta id impedit vel fugit illo, molestias reiciendis, provident nam molestiae! Ipsam, hic. Facere aut quisquam praesentium enim illum, pariatur nam.",-1),l("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, cum nulla. Ut eligendi tenetur aliquam cum mollitia repellat voluptas, fugiat doloremque sunt commodi enim excepturi distinctio id sapiente incidunt ipsam asperiores cupiditate, labore libero! Ad facere magni cumque perspiciatis, adipisci possimus pariatur quo nobis minus, est enim similique quaerat vel asperiores ipsam harum et, totam fugit.",-1),l("p",null,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Suscipit aspernatur maxime consectetur, consequatur excepturi facilis praesentium rem placeat sapiente, maiores doloribus modi voluptate. Unde autem dolor officiis numquam incidunt quasi aspernatur nam dolores ratione quidem recusandae, nulla qui provident molestias odit nemo praesentium quas voluptatem aliquid perferendis, iste veritatis vitae. Dolor, eligendi quidem distinctio asperiores doloremque culpa corporis quibusdam earum ex laudantium iure officia ullam nostrum maxime voluptatum laboriosam impedit labore illum. Culpa, veniam dolor odio ad eius nisi, aspernatur quia veritatis blanditiis repellat id minima deserunt beatae?",-1)])),_:1})]),_:1})])]),_:1})],64)}const qn=ft(xn,[["render",Vn]]),Cn=Object.freeze(Object.defineProperty({__proto__:null,default:qn},Symbol.toStringTag,{value:"Module"})),Tn={class:"q-ma-md"},Pn={key:0},In={__name:"Autocomplete1",setup(m){const n=C(null),u=C([]);let o=null;const s=(i,p)=>{if(i.length<2){p(()=>{u.value=[]});return}o&&clearTimeout(o),o=setTimeout(()=>{mt.get(`/web-api/customers?q=${i}`).then(c=>{const d=c.data.data.map(f=>({label:`${f.username} - ${f.name}`,value:f.id,data:f}));p(()=>{u.value=d})}).catch(c=>{console.error("Gagal mengambil data pelanggan:",c),p(()=>{u.value=[]})})})};return(i,p)=>{const c=L("guest-layout");return b(),U(c,null,{default:a(()=>[l("div",Tn,[e(se,{class:"full-width",modelValue:n.value,"onUpdate:modelValue":p[0]||(p[0]=d=>n.value=d),"use-input":"",label:"Cari Pelanggan",options:u.value,onFilter:s,hint:"Ketik minimal 2 karakter untuk mencari",clearable:""},null,8,["modelValue","options"]),n.value?(b(),h("div",Pn," Saldo: Rp. "+r(t(K)(n.value.data.balance)),1)):$("",!0)])]),_:1})}}},On=Object.freeze(Object.defineProperty({__proto__:null,default:In},Symbol.toStringTag,{value:"Module"})),Dn={style:{"margin-left":"-10px"}},al={__name:"StandardCheckBox",props:{modelValue:{type:Boolean,required:!0},disable:{type:Boolean,default:!1},label:{type:String,default:""}},emits:["update:modelValue"],setup(m,{emit:n}){const u=m,o=n;return(s,i)=>(b(),h("div",Dn,[e(Gt,{class:"full-width q-pl-none","model-value":u.modelValue,disable:u.disable,label:u.label,"onUpdate:modelValue":i[0]||(i[0]=p=>o("update:modelValue",p))},null,8,["model-value","disable","label"])]))}};function bl(m){return m instanceof File||m instanceof Blob||m instanceof FileList&&m.length>0||m instanceof FormData&&Array.from(m.values()).some(n=>bl(n))||typeof m=="object"&&m!==null&&Object.values(m).some(n=>bl(n))}function kl(m,n=null){const u=je(m,n);let o=p=>p,s=null;const i={transform:p=>c=>(o=c,p),submit:p=>(c,d,f={})=>{u.wasSuccessful=!1,u.recentlySuccessful=!1,u.clearErrors(),clearTimeout(s),f.onBefore&&f.onBefore(),u.processing=!0,f.onStart&&f.onStart();const y=o(u.data());axios[c](d,y,{headers:{"Content-Type":bl(y)?"multipart/form-data":"application/json"},onUploadProgress:_=>{u.progress=_,f.onProgress&&f.onProgress(_)}}).then(_=>{u.processing=!1,u.progress=null,u.clearErrors(),u.wasSuccessful=!0,u.recentlySuccessful=!0,s=setTimeout(()=>u.recentlySuccessful=!1,2e3),f.onSuccess&&f.onSuccess(_.data),u.defaults(bo(u.data())),u.isDirty=!1}).catch(_=>{var g;u.processing=!1,u.progress=null,u.clearErrors(),((g=_.response)==null?void 0:g.status)===422&&Object.keys(_.response.data.errors).forEach(V=>{u.setError(V,_.response.data.errors[V][0])}),f.onError&&f.onError(_)}).finally(()=>{u.processing=!1,u.progress=null,f.onFinish&&f.onFinish()})}};return new Proxy(u,{get:(p,c,d)=>Object.keys(i).indexOf(c)<0?p[c]:i[c](d)})}const Rn={class:"column"},Un={class:"row"},An={class:"flex justify-center"},Mn={__name:"Login",setup(m){let n=kl({username:window.CONFIG.APP_DEMO?"admin":"",password:window.CONFIG.APP_DEMO?"12345":"",remember:!0});const u=()=>Fe({form:n,url:route("admin.auth.login"),onSuccess:()=>{n.processing=!0,window.location.href=route("admin.dashboard")}}),o=C(!1);return(s,i)=>{const p=L("i-head"),c=L("guest-layout");return b(),h(H,null,[e(p,{title:"Login"}),e(c,null,{default:a(()=>[e(ke,{class:"row justify-center items-center"},{default:a(()=>[l("div",Rn,[l("div",Un,[e(Re,{class:"q-gutter-md",onSubmit:Q(u,["prevent"])},{default:a(()=>[e(ie,{square:"",bordered:"",flat:"",class:"q-pa-md"},{default:a(()=>[e(te,{class:"text-center"},{default:a(()=>[l("div",An,[e(Rt,{size:"80px"},{default:a(()=>[e(q,{name:"badge",color:"primary"})]),_:1})]),i[4]||(i[4]=l("h6",{class:"q-my-sm text-primary"},"Login Staff",-1))]),_:1}),e(te,null,{default:a(()=>[e(le,{modelValue:t(n).username,"onUpdate:modelValue":i[0]||(i[0]=d=>t(n).username=d),modelModifiers:{trim:!0},label:"Username","lazy-rules":"",error:!!t(n).errors.username,autocomplete:"username","error-message":t(n).errors.username,disable:t(n).processing,rules:[d=>d&&d.length>0||"Masukkan Username"],"hide-bottom-space":"","data-test":"username"},{append:a(()=>[e(q,{name:"person"})]),_:1},8,["modelValue","error","error-message","disable","rules"]),e(le,{modelValue:t(n).password,"onUpdate:modelValue":i[2]||(i[2]=d=>t(n).password=d),type:o.value?"text":"password",label:"Kata Sandi",error:!!t(n).errors.password,autocomplete:"current-password","error-message":t(n).errors.password,"lazy-rules":"",disable:t(n).processing,rules:[d=>d&&d.length>0||"Masukkan kata sandi"],"hide-bottom-space":"","data-test":"password"},{append:a(()=>[e(A,{dense:"",flat:"",round:"",onClick:i[1]||(i[1]=d=>o.value=!o.value)},{default:a(()=>[e(q,{name:o.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","error","error-message","disable","rules"]),e(al,{class:"q-mt-sm",modelValue:t(n).remember,"onUpdate:modelValue":i[3]||(i[3]=d=>t(n).remember=d),disable:t(n).processing,label:"Ingat saya di perangkat ini"},null,8,["modelValue","disable"])]),_:1}),e($t,null,{default:a(()=>[e(A,{icon:"login",type:"submit",color:"primary",class:"full-width",label:"Login",disable:t(n).processing,loading:t(n).loading,"data-test":"submit"},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},jn=Object.freeze(Object.defineProperty({__proto__:null,default:Mn},Symbol.toStringTag,{value:"Module"})),En={class:"q-gutter-sm"},Nn={class:"col col-md-6 q-pa-xs"},Bn={class:"detail q-mt-md"},Fn={key:0},zn={class:"text-bold"},Rl="Tutup Sesi Kasir",Ln={__name:"Close",setup(m){const n=ce(),u=je({closing_notes:n.props.data.closing_notes,closing_balance:parseFloat(n.props.data.closing_balance)}),o=()=>Fe({form:u,url:route("admin.cashier-session.close",{id:n.props.data.id})});return(s,i)=>{const p=L("i-head"),c=L("authenticated-layout");return b(),h(H,null,[e(p,{title:Rl}),e(c,null,{title:a(()=>[v(r(Rl))]),"left-button":a(()=>[l("div",En,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=d=>s.$inertia.get(s.route("admin.cashier-session.index")))})])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",Nn,[e(Re,{class:"row",onSubmit:Q(o,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[J(l("input",{type:"hidden",name:"id","onUpdate:modelValue":i[1]||(i[1]=d=>t(u).id=d)},null,512),[[Xe,t(u).id]]),e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[l("table",Bn,[l("tbody",null,[l("tr",null,[i[4]||(i[4]=l("td",{style:{width:"130px"}},"Session ID",-1)),i[5]||(i[5]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,r(t(n).props.data.id),1)]),l("tr",null,[i[6]||(i[6]=l("td",null,"Terminal",-1)),i[7]||(i[7]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.cashier_terminal.name),1)]),l("tr",null,[i[8]||(i[8]=l("td",null,"Kasir",-1)),i[9]||(i[9]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.user.username)+" - "+r(t(n).props.data.user.name),1)]),l("tr",null,[i[10]||(i[10]=l("td",null,"Saldo Awal",-1)),i[11]||(i[11]=l("td",null,":",-1)),l("td",null,r(t(tt)(t(n).props.data.opening_balance)),1)]),t(n).props.data.opening_notes?(b(),h("tr",Fn,[i[12]||(i[12]=l("td",null,"Catatan Buka",-1)),i[13]||(i[13]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.opening_notes),1)])):$("",!0),l("tr",null,[i[14]||(i[14]=l("td",null,"Total Penjualan",-1)),i[15]||(i[15]=l("td",null,":",-1)),l("td",null,r(t(tt)(t(n).props.data.total_sales)),1)]),l("tr",null,[i[16]||(i[16]=l("td",null,"Total Pemasukan",-1)),i[17]||(i[17]=l("td",null,":",-1)),l("td",null,r(t(tt)(t(n).props.data.total_income)),1)]),l("tr",null,[i[18]||(i[18]=l("td",null,"Total Pengeluaran",-1)),i[19]||(i[19]=l("td",null,":",-1)),l("td",null,r(t(tt)(t(n).props.data.total_expense)),1)]),l("tr",null,[i[21]||(i[21]=l("td",null,"Saldo Akhir",-1)),i[22]||(i[22]=l("td",null,":",-1)),l("td",null,[l("div",zn,r(t(tt)(t(n).props.data.closing_balance)),1),i[20]||(i[20]=l("div",{class:"text-red"}," Pastikan saldo akhir sesuai dengan jumlah uang di laci! ",-1))])])])]),e(le,{modelValue:t(u).closing_notes,"onUpdate:modelValue":i[2]||(i[2]=d=>t(u).closing_notes=d),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Catatan",disable:t(u).processing,error:!!t(u).errors.closing_notes,"error-message":t(u).errors.closing_notes,rules:[],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(A,{type:"submit",label:"Tutup",icon:"logout",color:"primary",disable:t(u).processing},null,8,["disable"]),e(A,{label:"Batal",icon:"cancel",disable:t(u).processing,onClick:i[3]||(i[3]=d=>t(W).get(s.route("admin.cashier-session.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Hn=Object.freeze(Object.defineProperty({__proto__:null,default:Ln},Symbol.toStringTag,{value:"Module"})),Yn={class:"detail"},Kn={key:0},Qn={key:1},Wn={key:0},Jn={key:0},Gn={colspan:"100%"},Xn={class:"q-my-md"},Zn={key:4},es={colspan:"100%"},ts={key:5},ls={colspan:"100%"},Pa={__name:"MainInfoTab",setup(m){const n=ce();return(u,o)=>(b(),h("table",Yn,[l("tbody",null,[o[27]||(o[27]=l("tr",null,[l("td",{colspan:"3"},[l("div",{class:"text-bold text-grey-8"},"Info Sesi")])],-1)),l("tr",null,[o[1]||(o[1]=l("td",{style:{width:"130px"}},"Session ID",-1)),o[2]||(o[2]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,r(t(n).props.data.id),1)]),l("tr",null,[o[3]||(o[3]=l("td",null,"Terminal",-1)),o[4]||(o[4]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.cashier_terminal.name),1)]),l("tr",null,[o[5]||(o[5]=l("td",null,"Kasir",-1)),o[6]||(o[6]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.user.username)+" - "+r(t(n).props.data.user.name),1)]),l("tr",null,[o[7]||(o[7]=l("td",null,"Status",-1)),o[8]||(o[8]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.is_closed?"Ditutup":"Aktif"),1)]),o[28]||(o[28]=l("tr",null,[l("td",{colspan:"100%"},[l("div",{class:"q-mt-sm text-grey-8"},"Info Buka Sesi")])],-1)),l("tr",null,[o[9]||(o[9]=l("td",null,"Saldo Awal",-1)),o[10]||(o[10]=l("td",null,":",-1)),l("td",null,r(t(tt)(t(n).props.data.opening_balance)),1)]),t(n).props.data.opening_notes?(b(),h("tr",Kn,[o[11]||(o[11]=l("td",null,"Catatan",-1)),o[12]||(o[12]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.opening_notes),1)])):$("",!0),o[29]||(o[29]=l("tr",null,[l("td",{colspan:"100%"},[l("div",{class:"q-mt-sm text-grey-8"},"Rincian Pendapatan & Kas")])],-1)),l("tr",null,[o[13]||(o[13]=l("td",null,"Total Penjualan",-1)),o[14]||(o[14]=l("td",null,":",-1)),l("td",null,r(t(tt)(t(n).props.data.total_sales)),1)]),l("tr",null,[o[15]||(o[15]=l("td",null,"Total Pemasukan",-1)),o[16]||(o[16]=l("td",null,":",-1)),l("td",null,r(t(tt)(t(n).props.data.total_income)),1)]),l("tr",null,[o[17]||(o[17]=l("td",null,"Total Pengeluaran",-1)),o[18]||(o[18]=l("td",null,":",-1)),l("td",null,r(t(tt)(t(n).props.data.total_expense)),1)]),t(n).props.data.is_closed?$("",!0):(b(),h("tr",Qn,[o[19]||(o[19]=l("td",null,"Saldo Aktual",-1)),o[20]||(o[20]=l("td",null,":",-1)),l("td",null,r(t(tt)(t(n).props.data.opening_balance+(t(n).props.data.total_income-t(n).props.data.total_expense))),1)])),t(n).props.data.is_closed?(b(),h(H,{key:2},[o[25]||(o[25]=l("tr",null,[l("td",{colspan:"100%"},[l("div",{class:"q-mt-sm text-grey-8"},"Info Tutup Sesi")])],-1)),l("tr",null,[o[21]||(o[21]=l("td",null,"Saldo Akhir",-1)),o[22]||(o[22]=l("td",null,":",-1)),l("td",null,r(t(tt)(t(n).props.data.closing_balance)),1)]),t(n).props.data.closing_notes?(b(),h("tr",Wn,[o[23]||(o[23]=l("td",null,"Catatan",-1)),o[24]||(o[24]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.closing_notes),1)])):$("",!0)],64)):$("",!0),u.$can("admin.cashier-session.close")?(b(),h(H,{key:3},[t(n).props.data.is_closed?$("",!0):(b(),h("tr",Jn,[l("td",Gn,[l("div",Xn,[e(A,{class:"full-width",color:"accent",icon:"logout",onClick:o[0]||(o[0]=s=>u.$inertia.get(u.route("admin.cashier-session.close",{id:t(n).props.data.id})))},{default:a(()=>o[26]||(o[26]=[v(" Tutup Sesi Kasir ")])),_:1})])])]))],64)):$("",!0),o[30]||(o[30]=l("tr",null,[l("td",{colspan:"3"},[l("div",{class:"text-bold text-grey-8 q-mt-md"},"Info Rekaman")])],-1)),t(n).props.data.created_at?(b(),h("tr",Zn,[l("td",es," Dibuat "+r(t(_t)(t(n).props.data.created_at))+" oleh "+r(t(n).props.data.creator.name)+" ("+r(t(be)(t(n).props.data.created_at))+") ",1)])):$("",!0),t(n).props.data.updated_at?(b(),h("tr",ts,[l("td",ls," Diperbarui "+r(t(_t)(t(n).props.data.updated_at))+" oleh "+r(t(n).props.data.updater.name)+" ("+r(t(be)(t(n).props.data.updated_at))+") ",1)])):$("",!0)])]))}},as=Object.freeze(Object.defineProperty({__proto__:null,default:Pa},Symbol.toStringTag,{value:"Module"})),os={class:"q-gutter-sm"},ns={class:"col col-md-6 q-pa-xs"},ss={class:"row"},Ul="Rincian Sesi Kasir",rs={__name:"Detail",setup(m){return C("main"),(n,u)=>{const o=L("i-head"),s=L("authenticated-layout");return b(),h(H,null,[e(o,{title:Ul}),e(s,null,{title:a(()=>[v(r(Ul))]),"left-button":a(()=>[l("div",os,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:u[0]||(u[0]=i=>n.$inertia.get(n.route("admin.cashier-session.index")))})])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",ns,[l("div",ss,[e(ie,{square:"",flat:"",bordered:"",class:"col q-pa-sm q-pt-md"},{default:a(()=>[e(Pa)]),_:1})])])]),_:1})]),_:1})],64)}}},is=Object.freeze(Object.defineProperty({__proto__:null,default:rs},Symbol.toStringTag,{value:"Module"})),ds={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},us={class:"q-pa-xs"},ms={class:"full-width row flex-center text-grey-8 q-gutter-sm"},cs={class:"flex justify-end"},Al="Sesi Kasir",ps={__name:"Index",setup(m){const n=$e(),u=C(!1),o=C([]),s=C(!0),i=C(null),p=C(null),c=We(p),d=Ie({search:"",status:"all",...Ue()}),f=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),y=[{name:"id",label:"Sesi",field:"id",align:"left",sortable:!0},{name:"opening_info",label:"Buka Sesi",field:"opening_info",sortable:!1,align:"left"},{name:"closing_info",label:"Tutup Sesi",field:"closing_info",sortable:!1,align:"left"},{name:"action",align:"right"}],_=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"closed",label:"Selesai"}];he(()=>{V()});const g=P=>Ge({message:`Hapus Sesi: ${P.cashier_terminal.name} - ${P.user.username}?`,url:route("admin.cashier-session.delete",P.id),fetchItemsCallback:V,loading:s}),V=(P=null)=>{Ae({pagination:f,filter:d,props:P,rows:o,url:route("admin.cashier-session.data"),loading:s,tableRef:i})},S=()=>V(),k=P=>W.get(route("admin.cashier-session.detail",{id:P.id})),E=Z(()=>n.screen.gt.sm?y:y.filter(P=>P.name==="id"||P.name==="action"));return(P,w)=>{const D=L("i-head"),B=L("authenticated-layout");return b(),h(H,null,[e(D,{title:Al}),e(B,null,Ye({title:a(()=>[v(r(Al))]),"right-button":a(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:w[0]||(w[0]=x=>u.value=!u.value)},null,8,["icon"]),P.$can("admin.cashier-session.open")?(b(),U(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:w[1]||(w[1]=x=>t(W).get(P.route("admin.cashier-session.open")))})):$("",!0)]),default:a(()=>[l("div",us,[e(Te,{class:"full-height-table",style:Me({height:t(c)}),ref_key:"tableRef",ref:i,flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:f.value,"onUpdate:pagination":w[5]||(w[5]=x=>f.value=x),filter:d.search,loading:s.value,columns:E.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:V,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:x,message:T,filter:O})=>[l("div",ms,[l("span",null,r(T)+" "+r(O?" with term "+O:""),1)])]),body:a(x=>[e(qe,{props:x,class:ye(["cursor-pointer",x.row.is_closed?"":"bg-yellow-3"]),onClick:T=>k(x.row)},{default:a(()=>[e(F,{key:"id",props:x,class:"wrap-column"},{default:a(()=>[l("div",null,[e(q,{class:"inline-icon",name:"tag"}),v(" SessionID: "+r(x.row.id),1)]),l("div",null,[e(q,{class:"inline-icon",name:"point_of_sale"}),v(" "+r(x.row.cashier_terminal.name),1)]),l("div",null,[e(q,{class:"inline-icon",name:"person"}),v(" "+r(x.row.user.username)+" - "+r(x.row.user.name),1)])]),_:2},1032,["props"]),e(F,{key:"opening_info",props:x},{default:a(()=>[l("div",null,[e(q,{class:"inline-icon",name:"calendar_clock"}),v(" "+r(x.row.opened_at?t(be)(x.row.opened_at):"-"),1)]),l("div",null,[e(q,{class:"inline-icon",name:"money"}),v(" "+r(t(tt)(x.row.opening_balance)),1)]),x.row.opening_notes?(b(),U(_e,{key:0,text:x.row.opening_notes,icon:"notes"},null,8,["text"])):$("",!0)]),_:2},1032,["props"]),e(F,{key:"closing_info",props:x},{default:a(()=>[l("div",null,[e(q,{class:"inline-icon",name:"calendar_clock"}),v(" "+r(x.row.closed_at?t(be)(x.row.closed_at):"-"),1)]),l("div",null,[e(q,{class:"inline-icon",name:"money"}),v(" "+r(t(tt)(x.row.closing_balance)),1)]),x.row.closing_notes?(b(),U(_e,{key:0,text:x.row.closing_notes,icon:"notes"},null,8,["text"])):$("",!0)]),_:2},1032,["props"]),e(F,{key:"action",props:x},{default:a(()=>[l("div",cs,[P.$can("admin.cashier-session.close")||P.$can("admin.cashier-session.delete")?(b(),U(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:w[4]||(w[4]=Q(()=>{},["stop"]))},{default:a(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(De,{style:{width:"200px"}},{default:a(()=>[P.$can("admin.cashier-session.close")?J((b(),U(ee,{key:0,disable:x.row.is_closed,clickable:"",onClick:Q(T=>t(W).get(P.route("admin.cashier-session.close",x.row.id)),["stop"])},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"logout"})]),_:1}),e(M,null,{default:a(()=>w[6]||(w[6]=[v("Tutup Sesi Kasir")])),_:1})]),_:2},1032,["disable","onClick"])),[[ne],[re]]):$("",!0),P.$can("admin.cashier-session.delete")?J((b(),U(ee,{key:1,onClick:Q(T=>g(x.row),["stop"]),clickable:""},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(M,null,{default:a(()=>w[7]||(w[7]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):$("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[u.value?{name:"header",fn:a(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:a(()=>[l("div",ds,[e(se,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:d.status,"onUpdate:modelValue":[w[2]||(w[2]=x=>d.status=x),S],options:_,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(le,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":w[3]||(w[3]=x=>d.search=x),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},fs=Object.freeze(Object.defineProperty({__proto__:null,default:ps},Symbol.toStringTag,{value:"Module"})),gs={class:"q-gutter-sm"},bs={class:"col col-md-6 q-pa-xs"},Ml="Buka Sesi Kasir",vs={__name:"Open",setup(m){const n=ce(),u=je({cashier_terminal_id:n.props.data.cashier_terminal_id,opening_balance:parseFloat(n.props.data.opening_balance),opening_notes:n.props.data.opening_notes}),o=[...n.props.cashier_terminals.map(i=>({value:i.id,label:i.name,balance:parseFloat(i.finance_account.balance)}))],s=()=>Fe({form:u,url:route("admin.cashier-session.open")});return Be(()=>u.cashier_terminal_id,i=>{if(i){const p=o.find(c=>c.value===i);p&&(u.opening_balance=p.balance)}else u.opening_balance=0}),(i,p)=>{const c=L("i-head"),d=L("authenticated-layout");return b(),h(H,null,[e(c,{title:Ml}),e(d,null,{title:a(()=>[v(r(Ml))]),"left-button":a(()=>[l("div",gs,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:p[0]||(p[0]=f=>i.$inertia.get(i.route("admin.cashier-session.index")))})])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",bs,[e(Re,{class:"row",onSubmit:Q(s,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[J(l("input",{type:"hidden",name:"id","onUpdate:modelValue":p[1]||(p[1]=f=>t(u).id=f)},null,512),[[Xe,t(u).id]]),e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[e(se,{class:"custom-select",modelValue:t(u).cashier_terminal_id,"onUpdate:modelValue":p[2]||(p[2]=f=>t(u).cashier_terminal_id=f),label:"Terminal Kasir",options:o,"map-options":"","emit-value":"",errorMessage:t(u).errors.cashier_terminal_id,error:!!t(u).errors.cashier_terminal_id,disable:t(u).processing,"hide-bottom-space":""},null,8,["modelValue","errorMessage","error","disable"]),e(Ne,{modelValue:t(u).opening_balance,"onUpdate:modelValue":p[3]||(p[3]=f=>t(u).opening_balance=f),label:"Saldo Buka Sesi",lazyRules:"",disable:t(u).processing,error:!!t(u).errors.opening_balance,errorMessage:t(u).errors.opening_balance,rules:[],readonly:"","hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),p[6]||(p[6]=l("div",{class:"q-my-sm text-red"}," Pastikan saldo awal sesuai dengan jumlah uang di laci! ",-1)),e(le,{modelValue:t(u).opening_notes,"onUpdate:modelValue":p[4]||(p[4]=f=>t(u).opening_notes=f),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Catatan",disable:t(u).processing,error:!!t(u).errors.opening_notes,"error-message":t(u).errors.opening_notes,rules:[],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(A,{type:"submit",label:"Buka Sesi",icon:"login",color:"primary",disable:t(u).processing},null,8,["disable"]),e(A,{label:"Batal",icon:"cancel",disable:t(u).processing,onClick:p[5]||(p[5]=f=>t(W).get(i.route("admin.cashier-session.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},ys=Object.freeze(Object.defineProperty({__proto__:null,default:vs},Symbol.toStringTag,{value:"Module"}));let _s=0;const ws=["click","keydown"],ks={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${_s++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function $s(m,n,u,o){const s=vo(ka,dl);if(s===dl)return console.error("QTab/QRouteTab component needs to be child of QTabs"),dl;const{proxy:i}=ht(),p=C(null),c=C(null),d=C(null),f=Z(()=>m.disable===!0||m.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},m.ripple===!0?{}:m.ripple)),y=Z(()=>s.currentModel.value===m.name),_=Z(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(y.value===!0?" q-tab--active"+(s.tabProps.value.activeClass?" "+s.tabProps.value.activeClass:"")+(s.tabProps.value.activeColor?` text-${s.tabProps.value.activeColor}`:"")+(s.tabProps.value.activeBgColor?` bg-${s.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(m.icon&&m.label&&s.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(m.noCaps===!0||s.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(m.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),g=Z(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(s.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(m.contentClass!==void 0?` ${m.contentClass}`:"")),V=Z(()=>m.disable===!0||s.hasFocus.value===!0||y.value===!1&&s.hasActiveTab.value===!0?-1:m.tabindex||0);function S(D,B){if(B!==!0&&p.value!==null&&p.value.focus(),m.disable!==!0){s.updateModel({name:m.name}),u("click",D);return}}function k(D){yo(D,[13,32])?S(D,!0):_o(D)!==!0&&D.keyCode>=35&&D.keyCode<=40&&D.altKey!==!0&&D.metaKey!==!0&&s.onKbdNavigate(D.keyCode,i.$el)===!0&&Ct(D),u("keydown",D)}function E(){const D=s.tabProps.value.narrowIndicator,B=[],x=fe("div",{ref:d,class:["q-tab__indicator",s.tabProps.value.indicatorClass]});m.icon!==void 0&&B.push(fe(q,{class:"q-tab__icon",name:m.icon})),m.label!==void 0&&B.push(fe("div",{class:"q-tab__label"},m.label)),m.alert!==!1&&B.push(m.alertIcon!==void 0?fe(q,{class:"q-tab__alert-icon",color:m.alert!==!0?m.alert:void 0,name:m.alertIcon}):fe("div",{class:"q-tab__alert"+(m.alert!==!0?` text-${m.alert}`:"")})),D===!0&&B.push(x);const T=[fe("div",{class:"q-focus-helper",tabindex:-1,ref:p}),fe("div",{class:g.value},$a(n.default,B))];return D===!1&&T.push(x),T}const P={name:Z(()=>m.name),rootRef:c,tabIndicatorRef:d,routeData:o};Xt(()=>{s.unregisterTab(P)}),he(()=>{s.registerTab(P)});function w(D,B){const x={ref:c,class:_.value,tabindex:V.value,role:"tab","aria-selected":y.value===!0?"true":"false","aria-disabled":m.disable===!0?"true":void 0,onClick:S,onKeydown:k,...B};return J(fe(D,x,E()),[[ne,f.value]])}return{renderTab:w,$tabs:s}}const ct=gt({name:"QTab",props:ks,emits:ws,setup(m,{slots:n,emit:u}){const{renderTab:o}=$s(m,n,u);return()=>o("div")}});function hs(m,n,u){const o=u===!0?["left","right"]:["top","bottom"];return`absolute-${n===!0?o[0]:o[1]}${m?` text-${m}`:""}`}const xs=["left","center","right","justify"],ol=gt({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:m=>xs.includes(m)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(m,{slots:n,emit:u}){const{proxy:o}=ht(),{$q:s}=o,{registerTick:i}=ul(),{registerTick:p}=ul(),{registerTick:c}=ul(),{registerTimeout:d,removeTimeout:f}=fl(),{registerTimeout:y,removeTimeout:_}=fl(),g=C(null),V=C(null),S=C(m.modelValue),k=C(!1),E=C(!0),P=C(!1),w=C(!1),D=[],B=C(0),x=C(!1);let T=null,O=null,N;const j=Z(()=>({activeClass:m.activeClass,activeColor:m.activeColor,activeBgColor:m.activeBgColor,indicatorClass:hs(m.indicatorColor,m.switchIndicator,m.vertical),narrowIndicator:m.narrowIndicator,inlineLabel:m.inlineLabel,noCaps:m.noCaps})),I=Z(()=>{const oe=B.value,me=S.value;for(let ve=0;ve<oe;ve++)if(D[ve].name.value===me)return!0;return!1}),G=Z(()=>`q-tabs__content--align-${k.value===!0?"left":w.value===!0?"justify":m.align}`),de=Z(()=>`q-tabs row no-wrap items-center q-tabs--${k.value===!0?"":"not-"}scrollable q-tabs--${m.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${m.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${m.mobileArrows===!0?"":"out"}-arrows`+(m.dense===!0?" q-tabs--dense":"")+(m.shrink===!0?" col-shrink":"")+(m.stretch===!0?" self-stretch":"")),R=Z(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+G.value+(m.contentClass!==void 0?` ${m.contentClass}`:"")),z=Z(()=>m.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),X=Z(()=>m.vertical!==!0&&s.lang.rtl===!0),Ce=Z(()=>wo===!1&&X.value===!0);Be(X,bt),Be(()=>m.modelValue,oe=>{ae({name:oe,setCurrent:!0,skipEmit:!0})}),Be(()=>m.outsideArrows,Ve);function ae({name:oe,setCurrent:me,skipEmit:ve}){S.value!==oe&&(ve!==!0&&m["onUpdate:modelValue"]!==void 0&&u("update:modelValue",oe),(me===!0||m["onUpdate:modelValue"]===void 0)&&(rt(S.value,oe),S.value=oe))}function Ve(){i(()=>{ze({width:g.value.offsetWidth,height:g.value.offsetHeight})})}function ze(oe){if(z.value===void 0||V.value===null)return;const me=oe[z.value.container],ve=Math.min(V.value[z.value.scroll],Array.prototype.reduce.call(V.value.children,(He,Pe)=>He+(Pe[z.value.content]||0),0)),Le=me>0&&ve>me;k.value=Le,Le===!0&&p(bt),w.value=me<parseInt(m.breakpoint,10)}function rt(oe,me){const ve=oe!=null&&oe!==""?D.find(He=>He.name.value===oe):null,Le=me!=null&&me!==""?D.find(He=>He.name.value===me):null;if(Ht===!0)Ht=!1;else if(ve&&Le){const He=ve.tabIndicatorRef.value,Pe=Le.tabIndicatorRef.value;T!==null&&(clearTimeout(T),T=null),He.style.transition="none",He.style.transform="none",Pe.style.transition="none",Pe.style.transform="none";const Se=He.getBoundingClientRect(),et=Pe.getBoundingClientRect();Pe.style.transform=m.vertical===!0?`translate3d(0,${Se.top-et.top}px,0) scale3d(1,${et.height?Se.height/et.height:1},1)`:`translate3d(${Se.left-et.left}px,0,0) scale3d(${et.width?Se.width/et.width:1},1,1)`,c(()=>{T=setTimeout(()=>{T=null,Pe.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",Pe.style.transform="none"},70)})}Le&&k.value===!0&&nt(Le.rootRef.value)}function nt(oe){const{left:me,width:ve,top:Le,height:He}=V.value.getBoundingClientRect(),Pe=oe.getBoundingClientRect();let Se=m.vertical===!0?Pe.top-Le:Pe.left-me;if(Se<0){V.value[m.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(Se),bt();return}Se+=m.vertical===!0?Pe.height-He:Pe.width-ve,Se>0&&(V.value[m.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(Se),bt())}function bt(){const oe=V.value;if(oe===null)return;const me=oe.getBoundingClientRect(),ve=m.vertical===!0?oe.scrollTop:Math.abs(oe.scrollLeft);X.value===!0?(E.value=Math.ceil(ve+me.width)<oe.scrollWidth-1,P.value=ve>0):(E.value=ve>0,P.value=m.vertical===!0?Math.ceil(ve+me.height)<oe.scrollHeight:Math.ceil(ve+me.width)<oe.scrollWidth)}function ue(oe){O!==null&&clearInterval(O),O=setInterval(()=>{it(oe)===!0&&we()},5)}function Y(){ue(Ce.value===!0?Number.MAX_SAFE_INTEGER:0)}function xe(){ue(Ce.value===!0?0:Number.MAX_SAFE_INTEGER)}function we(){O!==null&&(clearInterval(O),O=null)}function pe(oe,me){const ve=Array.prototype.filter.call(V.value.children,et=>et===me||et.matches&&et.matches(".q-tab.q-focusable")===!0),Le=ve.length;if(Le===0)return;if(oe===36)return nt(ve[0]),ve[0].focus(),!0;if(oe===35)return nt(ve[Le-1]),ve[Le-1].focus(),!0;const He=oe===(m.vertical===!0?38:37),Pe=oe===(m.vertical===!0?40:39),Se=He===!0?-1:Pe===!0?1:void 0;if(Se!==void 0){const et=X.value===!0?-1:1,ut=ve.indexOf(me)+Se*et;return ut>=0&&ut<Le&&(nt(ve[ut]),ve[ut].focus({preventScroll:!0})),!0}}const Ze=Z(()=>Ce.value===!0?{get:oe=>Math.abs(oe.scrollLeft),set:(oe,me)=>{oe.scrollLeft=-me}}:m.vertical===!0?{get:oe=>oe.scrollTop,set:(oe,me)=>{oe.scrollTop=me}}:{get:oe=>oe.scrollLeft,set:(oe,me)=>{oe.scrollLeft=me}});function it(oe){const me=V.value,{get:ve,set:Le}=Ze.value;let He=!1,Pe=ve(me);const Se=oe<Pe?-1:1;return Pe+=Se*5,Pe<0?(He=!0,Pe=0):(Se===-1&&Pe<=oe||Se===1&&Pe>=oe)&&(He=!0,Pe=oe),Le(me,Pe),bt(),He}function dt(oe,me){for(const ve in oe)if(oe[ve]!==me[ve])return!1;return!0}function sl(){let oe=null,me={matchedLen:0,queryDiff:9999,hrefLen:0};const ve=D.filter(Se=>Se.routeData!==void 0&&Se.routeData.hasRouterLink.value===!0),{hash:Le,query:He}=o.$route,Pe=Object.keys(He).length;for(const Se of ve){const et=Se.routeData.exact.value===!0;if(Se.routeData[et===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:ut,query:rl,matched:fo,href:go}=Se.routeData.resolvedLink.value,il=Object.keys(rl).length;if(et===!0){if(ut!==Le||il!==Pe||dt(He,rl)===!1)continue;oe=Se.name.value;break}if(ut!==""&&ut!==Le||il!==0&&dt(rl,He)===!1)continue;const vt={matchedLen:fo.length,queryDiff:Pe-il,hrefLen:go.length-ut.length};if(vt.matchedLen>me.matchedLen){oe=Se.name.value,me=vt;continue}else if(vt.matchedLen!==me.matchedLen)continue;if(vt.queryDiff<me.queryDiff)oe=Se.name.value,me=vt;else if(vt.queryDiff!==me.queryDiff)continue;vt.hrefLen>me.hrefLen&&(oe=Se.name.value,me=vt)}if(oe===null&&D.some(Se=>Se.routeData===void 0&&Se.name.value===S.value)===!0){Ht=!1;return}ae({name:oe,setCurrent:!0})}function uo(oe){if(f(),x.value!==!0&&g.value!==null&&oe.target&&typeof oe.target.closest=="function"){const me=oe.target.closest(".q-tab");me&&g.value.contains(me)===!0&&(x.value=!0,k.value===!0&&nt(me))}}function mo(){d(()=>{x.value=!1},30)}function At(){xl.avoidRouteWatcher===!1?y(sl):_()}function hl(){if(N===void 0){const oe=Be(()=>o.$route.fullPath,At);N=()=>{oe(),N=void 0}}}function co(oe){D.push(oe),B.value++,Ve(),oe.routeData===void 0||o.$route===void 0?y(()=>{if(k.value===!0){const me=S.value,ve=me!=null&&me!==""?D.find(Le=>Le.name.value===me):null;ve&&nt(ve.rootRef.value)}}):(hl(),oe.routeData.hasRouterLink.value===!0&&At())}function po(oe){D.splice(D.indexOf(oe),1),B.value--,Ve(),N!==void 0&&oe.routeData!==void 0&&(D.every(me=>me.routeData===void 0)===!0&&N(),At())}const xl={currentModel:S,tabProps:j,hasFocus:x,hasActiveTab:I,registerTab:co,unregisterTab:po,verifyRouteModel:At,updateModel:ae,onKbdNavigate:pe,avoidRouteWatcher:!1};xo(ka,xl);function Sl(){T!==null&&clearTimeout(T),we(),N!==void 0&&N()}let Vl,Ht;return Xt(Sl),ko(()=>{Vl=N!==void 0,Sl()}),$o(()=>{Vl===!0&&(hl(),Ht=!0,At()),Ve()}),()=>fe("div",{ref:g,class:de.value,role:"tablist",onFocusin:uo,onFocusout:mo},[fe(ho,{onResize:ze}),fe("div",{ref:V,class:R.value,onScroll:bt},wt(n.default)),fe(q,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(E.value===!0?"":" q-tabs__arrow--faded"),name:m.leftIcon||s.iconSet.tabs[m.vertical===!0?"up":"left"],onMousedownPassive:Y,onTouchstartPassive:Y,onMouseupPassive:we,onMouseleavePassive:we,onTouchendPassive:we}),fe(q,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(P.value===!0?"":" q-tabs__arrow--faded"),name:m.rightIcon||s.iconSet.tabs[m.vertical===!0?"down":"right"],onMousedownPassive:xe,onTouchstartPassive:xe,onMouseupPassive:we,onMouseleavePassive:we,onTouchendPassive:we})])}});function Ss(m){const n=[.06,6,50];return typeof m=="string"&&m.length&&m.split(":").forEach((u,o)=>{const s=parseFloat(u);s&&(n[o]=s)}),n}const Vs=So({name:"touch-swipe",beforeMount(m,{value:n,arg:u,modifiers:o}){if(o.mouse!==!0&&Dt.has.touch!==!0)return;const s=o.mouseCapture===!0?"Capture":"",i={handler:n,sensitivity:Ss(u),direction:ql(o),noop:Vo,mouseStart(p){Tl(p,i)&&Co(p)&&(Yt(i,"temp",[[document,"mousemove","move",`notPassive${s}`],[document,"mouseup","end","notPassiveCapture"]]),i.start(p,!0))},touchStart(p){if(Tl(p,i)){const c=p.target;Yt(i,"temp",[[c,"touchmove","move","notPassiveCapture"],[c,"touchcancel","end","notPassiveCapture"],[c,"touchend","end","notPassiveCapture"]]),i.start(p)}},start(p,c){Dt.is.firefox===!0&&cl(m,!0);const d=Cl(p);i.event={x:d.left,y:d.top,time:Date.now(),mouse:c===!0,dir:!1}},move(p){if(i.event===void 0)return;if(i.event.dir!==!1){Ct(p);return}const c=Date.now()-i.event.time;if(c===0)return;const d=Cl(p),f=d.left-i.event.x,y=Math.abs(f),_=d.top-i.event.y,g=Math.abs(_);if(i.event.mouse!==!0){if(y<i.sensitivity[1]&&g<i.sensitivity[1]){i.end(p);return}}else if(window.getSelection().toString()!==""){i.end(p);return}else if(y<i.sensitivity[2]&&g<i.sensitivity[2])return;const V=y/c,S=g/c;i.direction.vertical===!0&&y<g&&y<100&&S>i.sensitivity[0]&&(i.event.dir=_<0?"up":"down"),i.direction.horizontal===!0&&y>g&&g<100&&V>i.sensitivity[0]&&(i.event.dir=f<0?"left":"right"),i.direction.up===!0&&y<g&&_<0&&y<100&&S>i.sensitivity[0]&&(i.event.dir="up"),i.direction.down===!0&&y<g&&_>0&&y<100&&S>i.sensitivity[0]&&(i.event.dir="down"),i.direction.left===!0&&y>g&&f<0&&g<100&&V>i.sensitivity[0]&&(i.event.dir="left"),i.direction.right===!0&&y>g&&f>0&&g<100&&V>i.sensitivity[0]&&(i.event.dir="right"),i.event.dir!==!1?(Ct(p),i.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),qo(),i.styleCleanup=k=>{i.styleCleanup=void 0,document.body.classList.remove("non-selectable");const E=()=>{document.body.classList.remove("no-pointer-events--children")};k===!0?setTimeout(E,50):E()}),i.handler({evt:p,touch:i.event.mouse!==!0,mouse:i.event.mouse,direction:i.event.dir,duration:c,distance:{x:y,y:g}})):i.end(p)},end(p){i.event!==void 0&&(ml(i,"temp"),Dt.is.firefox===!0&&cl(m,!1),i.styleCleanup!==void 0&&i.styleCleanup(!0),p!==void 0&&i.event.dir!==!1&&Ct(p),i.event=void 0)}};if(m.__qtouchswipe=i,o.mouse===!0){const p=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";Yt(i,"main",[[m,"mousedown","mouseStart",`passive${p}`]])}Dt.has.touch===!0&&Yt(i,"main",[[m,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[m,"touchmove","noop","notPassiveCapture"]])},updated(m,n){const u=m.__qtouchswipe;u!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&u.end(),u.handler=n.value),u.direction=ql(n.modifiers))},beforeUnmount(m){const n=m.__qtouchswipe;n!==void 0&&(ml(n,"main"),ml(n,"temp"),Dt.is.firefox===!0&&cl(m,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete m.__qtouchswipe)}}),qs={name:{required:!0},disable:Boolean},jl={setup(m,{slots:n}){return()=>fe("div",{class:"q-panel scroll",role:"tabpanel"},wt(n.default))}},Cs={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Ts=["update:modelValue","beforeTransition","transition"];function Ps(){const{props:m,emit:n,proxy:u}=ht(),{getCache:o}=Po(),{registerTimeout:s}=fl();let i,p;const c=C(null),d=C(null);function f(z){const X=m.vertical===!0?"up":"left";N((u.$q.lang.rtl===!0?-1:1)*(z.direction===X?1:-1))}const y=Z(()=>[[Vs,f,void 0,{horizontal:m.vertical!==!0,vertical:m.vertical,mouse:!0}]]),_=Z(()=>m.transitionPrev||`slide-${m.vertical===!0?"down":"right"}`),g=Z(()=>m.transitionNext||`slide-${m.vertical===!0?"up":"left"}`),V=Z(()=>`--q-transition-duration: ${m.transitionDuration}ms`),S=Z(()=>typeof m.modelValue=="string"||typeof m.modelValue=="number"?m.modelValue:String(m.modelValue)),k=Z(()=>({include:m.keepAliveInclude,exclude:m.keepAliveExclude,max:m.keepAliveMax})),E=Z(()=>m.keepAliveInclude!==void 0||m.keepAliveExclude!==void 0);Be(()=>m.modelValue,(z,X)=>{const Ce=B(z)===!0?x(z):-1;p!==!0&&O(Ce===-1?0:Ce<x(X)?-1:1),c.value!==Ce&&(c.value=Ce,n("beforeTransition",z,X),s(()=>{n("transition",z,X)},m.transitionDuration))});function P(){N(1)}function w(){N(-1)}function D(z){n("update:modelValue",z)}function B(z){return z!=null&&z!==""}function x(z){return i.findIndex(X=>X.props.name===z&&X.props.disable!==""&&X.props.disable!==!0)}function T(){return i.filter(z=>z.props.disable!==""&&z.props.disable!==!0)}function O(z){const X=z!==0&&m.animated===!0&&c.value!==-1?"q-transition--"+(z===-1?_.value:g.value):null;d.value!==X&&(d.value=X)}function N(z,X=c.value){let Ce=X+z;for(;Ce!==-1&&Ce<i.length;){const ae=i[Ce];if(ae!==void 0&&ae.props.disable!==""&&ae.props.disable!==!0){O(z),p=!0,n("update:modelValue",ae.props.name),setTimeout(()=>{p=!1});return}Ce+=z}m.infinite===!0&&i.length!==0&&X!==-1&&X!==i.length&&N(z,z===-1?i.length:-1)}function j(){const z=x(m.modelValue);return c.value!==z&&(c.value=z),!0}function I(){const z=B(m.modelValue)===!0&&j()&&i[c.value];return m.keepAlive===!0?[fe(Io,k.value,[fe(E.value===!0?o(S.value,()=>({...jl,name:S.value})):jl,{key:S.value,style:V.value},()=>z)])]:[fe("div",{class:"q-panel scroll",style:V.value,key:S.value,role:"tabpanel"},[z])]}function G(){if(i.length!==0)return m.animated===!0?[fe(ha,{name:d.value},I)]:I()}function de(z){return i=To(wt(z.default,[])).filter(X=>X.props!==null&&X.props.slot===void 0&&B(X.props.name)===!0),i.length}function R(){return i}return Object.assign(u,{next:P,previous:w,goTo:D}),{panelIndex:c,panelDirectives:y,updatePanelsList:de,updatePanelIndex:j,getPanelContent:G,getEnabledPanels:T,getPanels:R,isValidPanelName:B,keepAliveProps:k,needsUniqueKeepAliveWrapper:E,goToPanelByOffset:N,goToPanel:D,nextPanel:P,previousPanel:w}}const pt=gt({name:"QTabPanel",props:qs,setup(m,{slots:n}){return()=>fe("div",{class:"q-tab-panel",role:"tabpanel"},wt(n.default))}}),nl=gt({name:"QTabPanels",props:{...Cs,...vl},emits:Ts,setup(m,{slots:n}){const u=ht(),o=yl(m,u.proxy.$q),{updatePanelsList:s,getPanelContent:i,panelDirectives:p}=Ps(),c=Z(()=>"q-tab-panels q-panel-parent"+(o.value===!0?" q-tab-panels--dark q-dark":""));return()=>(s(n),Oo("div",{class:c.value},i(),"pan",m.swipeable,()=>p.value))}}),Is={class:"detail"},Os={colspan:"3"},Ds={class:"text-bold text-grey-8"},Rs={key:0},Us={colspan:"100%"},As={key:1},Ms={colspan:"100%"},Ia={__name:"MainInfoTab",setup(m){const n=ce();return(u,o)=>(b(),h("table",Is,[l("tbody",null,[l("tr",null,[l("td",Os,[l("div",Ds,[o[1]||(o[1]=v(" Info Terminal Kasir ")),e(A,{icon:"edit",size:"sm",dense:"",flat:"",rounded:"",class:"q-ml-sm",color:"grey",onClick:o[0]||(o[0]=s=>u.$inertia.get(u.route("admin.cashier-terminal.edit",{id:t(n).props.data.id})))})])])]),l("tr",null,[o[2]||(o[2]=l("td",{style:{width:"120px"}},"Nama",-1)),o[3]||(o[3]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,r(t(n).props.data.name),1)]),l("tr",null,[o[4]||(o[4]=l("td",null,"Lokasi",-1)),o[5]||(o[5]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.location),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"Akun Keuangan",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.finance_account.name),1)]),l("tr",null,[o[8]||(o[8]=l("td",null,"Saldo",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,r(t(tt)(t(n).props.data.finance_account.balance)),1)]),l("tr",null,[o[10]||(o[10]=l("td",null,"Catatan",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.notes),1)]),l("tr",null,[o[12]||(o[12]=l("td",null,"Status",-1)),o[13]||(o[13]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),o[14]||(o[14]=l("tr",null,[l("td",{colspan:"3"},[l("div",{class:"text-bold text-grey-8 q-mt-md"},"Info Rekaman")])],-1)),t(n).props.data.created_at?(b(),h("tr",Rs,[l("td",Us," Dibuat "+r(t(_t)(t(n).props.data.created_at))+" oleh "+r(t(n).props.data.creator.name)+" ("+r(t(be)(t(n).props.data.created_at))+") ",1)])):$("",!0),t(n).props.data.updated_at?(b(),h("tr",As,[l("td",Ms," Diperbarui "+r(t(_t)(t(n).props.data.updated_at))+" oleh "+r(t(n).props.data.updater.name)+" ("+r(t(be)(t(n).props.data.updated_at))+") ",1)])):$("",!0)])]))}},js=Object.freeze(Object.defineProperty({__proto__:null,default:Ia},Symbol.toStringTag,{value:"Module"})),Es={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ns={class:"text-bold"},Oa={__name:"SessionHistoryTab",setup(m){const n=ce(),u=C([]),o=C(!0),s=Ie({customer_id:n.props.data.id,...Ue()}),i=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),p=[{name:"id",label:"Trx",field:"id",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah",field:"amount",align:"right"}];he(()=>{c()});const c=(y=null)=>Ae({pagination:i,filter:s,props:y,rows:u,url:route("admin.customer-wallet-transaction.data"),loading:o}),d=$e(),f=Z(()=>d.screen.gt.sm?p:p.filter(y=>y.name==="id"));return(y,_)=>(b(),U(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":_[0]||(_[0]=g=>i.value=g),filter:s.search,loading:o.value,columns:f.value,rows:u.value,"rows-per-page-options":[10,25,50],onRequest:c,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:g,message:V,filter:S})=>[l("div",Es,[l("span",null,r(V)+" "+r(S?" with term "+S:""),1)])]),body:a(g=>[e(qe,{props:g,class:"cursor-pointer",onClick:Q(V=>t(W).get(y.route("admin.customer-wallet-transaction.detail",{id:g.row.id})),["stop"])},{default:a(()=>[e(F,{key:"id",props:g},{default:a(()=>[l("div",Ns,[e(q,{class:"inline-icon",name:"tag"}),v(" "+r(g.row.formatted_id),1)]),l("div",null,[e(q,{class:"inline-icon",name:"calendar_clock"}),v(" "+r(t(be)(g.row.datetime)),1)]),t(d).screen.lt.md?(b(),h(H,{key:0},[l("div",{class:ye(["text-bold",g.row.amount<0?"text-red":"text-green"])},[e(q,{name:"money",class:"inline-icon"}),v(" "+r(t(xa)(g.row.amount)),1)],2),l("div",null,[e(_e,{text:g.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])],64)):$("",!0),l("div",null,[e(st,{size:"xs",color:g.row.amount>0?"green":"red"},{default:a(()=>[e(q,{name:"category"}),v(" "+r(g.row.type_label),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(F,{key:"notes",props:g,class:"wrap-column"},{default:a(()=>[e(_e,{text:g.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(F,{key:"amount",props:g},{default:a(()=>[l("div",{class:ye(g.row.amount<0?"text-red-10":g.row.amount>0?"text-green-10":"")},r(t(Zt)(g.row.amount)),3)]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},Bs=Object.freeze(Object.defineProperty({__proto__:null,default:Oa},Symbol.toStringTag,{value:"Module"})),Fs={class:"q-gutter-sm"},zs={class:"col col-lg-6 q-pa-xs"},Ls={class:"row"},El="Rincian Terminal Kasir",Hs={__name:"Detail",setup(m){const n=C("main");return(u,o)=>{const s=L("i-head"),i=L("authenticated-layout");return b(),h(H,null,[e(s,{title:El}),e(i,null,{title:a(()=>[v(r(El))]),"left-button":a(()=>[l("div",Fs,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=p=>u.$inertia.get(u.route("admin.cashier-terminal.index")))})])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",zs,[l("div",Ls,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ol,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=p=>n.value=p),align:"left"},{default:a(()=>[e(ct,{name:"main",label:"Info Utama"}),e(ct,{name:"session-history",label:"Riwayat Sesi Kasir"})]),_:1},8,["modelValue"]),e(nl,{modelValue:n.value,"onUpdate:modelValue":o[2]||(o[2]=p=>n.value=p)},{default:a(()=>[e(pt,{name:"main"},{default:a(()=>[e(Ia)]),_:1}),e(pt,{name:"session-history",class:"q-pa-xs"},{default:a(()=>[e(Oa)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},Ys=Object.freeze(Object.defineProperty({__proto__:null,default:Hs},Symbol.toStringTag,{value:"Module"})),Ks={class:"q-gutter-sm"},Qs={class:"col col-md-6 q-pa-xs"},Ws={key:0,class:"q-my-xs text-grey-8"},Js={__name:"Editor",setup(m){const n=ce(),u=(n.props.data.id?"Edit":"Tambah")+" Pelanggan",o=je({id:n.props.data.id,name:n.props.data.name,finance_account_id:n.props.data.finance_account_id??"new",location:n.props.data.location,active:!!n.props.data.active,notes:n.props.data.notes}),s=[{value:"new",label:"Buat Baru (Otomatis)"},...n.props.finance_accounts.map(p=>({value:p.id,label:p.name}))],i=()=>Fe({form:o,url:route("admin.cashier-terminal.save")});return(p,c)=>{const d=L("i-head"),f=L("authenticated-layout");return b(),h(H,null,[e(d,{title:u}),e(f,null,{title:a(()=>[v(r(u))]),"left-button":a(()=>[l("div",Ks,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=y=>p.$inertia.get(p.route("admin.cashier-terminal.index")))})])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",Qs,[e(Re,{class:"row",onSubmit:Q(i,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[J(l("input",{type:"hidden",name:"id","onUpdate:modelValue":c[1]||(c[1]=y=>t(o).id=y)},null,512),[[Xe,t(o).id]]),e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[e(le,{modelValue:t(o).name,"onUpdate:modelValue":c[2]||(c[2]=y=>t(o).name=y),modelModifiers:{trim:!0},label:"Nama",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(se,{class:"custom-select",modelValue:t(o).finance_account_id,"onUpdate:modelValue":c[3]||(c[3]=y=>t(o).finance_account_id=y),label:"Akun Kas",options:s,"map-options":"","emit-value":"",errorMessage:t(o).errors.finance_account_id,error:!!t(o).errors.finance_account_id,disable:t(o).processing,"hide-bottom-space":""},null,8,["modelValue","errorMessage","error","disable"]),t(o).finance_account_id==="new"?(b(),h("div",Ws,[c[8]||(c[8]=v(" Akun keuangan akan dibuat ")),t(o).name?(b(),h(H,{key:0},[v(" dengan nama Kas "+r(t(o).name),1)],64)):$("",!0)])):$("",!0),e(le,{modelValue:t(o).location,"onUpdate:modelValue":c[4]||(c[4]=y=>t(o).location=y),modelModifiers:{trim:!0},label:"Lokasi",error:!!t(o).errors.location,disable:t(o).processing,"error-message":t(o).errors.location,rules:[],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(le,{modelValue:t(o).notes,"onUpdate:modelValue":c[5]||(c[5]=y=>t(o).notes=y),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Catatan",disable:t(o).processing,error:!!t(o).errors.notes,"error-message":t(o).errors.notes,rules:[],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(al,{modelValue:t(o).active,"onUpdate:modelValue":c[6]||(c[6]=y=>t(o).active=y),label:"Aktif",disable:t(o).processing},null,8,["modelValue","disable"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(A,{type:"submit",label:"Simpan",icon:"save",color:"primary",disable:t(o).processing},null,8,["disable"]),e(A,{label:"Batal",icon:"cancel",disable:t(o).processing,onClick:c[7]||(c[7]=y=>t(W).get(p.route("admin.cashier-terminal.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Gs=Object.freeze(Object.defineProperty({__proto__:null,default:Js},Symbol.toStringTag,{value:"Module"})),Xs={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Zs={class:"q-pa-xs"},er={class:"full-width row flex-center text-grey-8 q-gutter-sm"},tr={class:"flex justify-end"},Nl="Terminal Kasir",lr={__name:"Index",setup(m){const n=$e(),u=C(!1),o=C([]),s=C(!0),i=C(null),p=C(null),c=We(p),d=Ie({search:"",status:"active",...Ue()}),f=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:n.screen.lt.md?"Item":"Nama",field:"name",align:"left",sortable:!0},{name:"finance_account_id",label:"Akun Kas",field:"finance_account_id",sortable:!1,align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}],_=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];he(()=>{V()});const g=P=>Ge({message:`Hapus Terminal Kasir ${P.name}?`,url:route("admin.cashier-terminal.delete",P.id),fetchItemsCallback:V,loading:s}),V=(P=null)=>{Ae({pagination:f,filter:d,props:P,rows:o,url:route("admin.cashier-terminal.data"),loading:s,tableRef:i})},S=()=>V(),k=P=>W.get(route("admin.cashier-terminal.detail",{id:P.id})),E=Z(()=>n.screen.gt.sm?y:y.filter(P=>P.name==="name"||P.name==="finance_account_id"||P.name==="action"));return(P,w)=>{const D=L("i-head"),B=L("authenticated-layout");return b(),h(H,null,[e(D,{title:Nl}),e(B,null,Ye({title:a(()=>[v(r(Nl))]),"right-button":a(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:w[0]||(w[0]=x=>u.value=!u.value)},null,8,["icon"]),P.$can("admin.cashier-terminal.add")?(b(),U(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:w[1]||(w[1]=x=>t(W).get(P.route("admin.cashier-terminal.add")))})):$("",!0)]),default:a(()=>[l("div",Zs,[e(Te,{class:"full-height-table",style:Me({height:t(c)}),ref_key:"tableRef",ref:i,flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:f.value,"onUpdate:pagination":w[5]||(w[5]=x=>f.value=x),filter:d.search,loading:s.value,columns:E.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:V,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:x,message:T,filter:O})=>[l("div",er,[l("span",null,r(T)+" "+r(O?" with term "+O:""),1)])]),body:a(x=>[e(qe,{props:x,class:ye([x.row.active?"":"bg-red-1","cursor-pointer"]),onClick:T=>k(x.row)},{default:a(()=>[e(F,{key:"name",props:x,class:"wrap-column"},{default:a(()=>[l("div",null,[e(q,{name:"wallet"}),v(" "+r(x.row.name),1)]),l("div",null,[e(q,{name:"home_pin"}),v(" "+r(x.row.location),1)]),t(n).screen.lt.md?(b(),U(_e,{key:0,text:x.row.notes,icon:"notes"},null,8,["text"])):$("",!0)]),_:2},1032,["props"]),e(F,{key:"finance_account_id",props:x},{default:a(()=>[l("div",null,[e(q,{name:"wallet"}),v(" "+r(x.row.finance_account.name),1)]),l("div",null,[e(q,{name:"money"}),v(" "+r(t(tt)(x.row.finance_account.balance)),1)])]),_:2},1032,["props"]),e(F,{key:"notes",props:x},{default:a(()=>[e(_e,{text:x.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(F,{key:"action",props:x},{default:a(()=>[l("div",tr,[P.$can("admin.cashier-terminal.edit")||P.$can("admin.cashier-terminal.delete")?(b(),U(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:w[4]||(w[4]=Q(()=>{},["stop"]))},{default:a(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(De,{style:{width:"200px"}},{default:a(()=>[P.$can("admin.cashier-terminal.edit")?J((b(),U(ee,{key:0,clickable:"",onClick:Q(T=>t(W).get(P.route("admin.cashier-terminal.edit",x.row.id)),["stop"])},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(M,null,{default:a(()=>w[6]||(w[6]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),P.$can("admin.cashier-terminal.delete")?J((b(),U(ee,{key:1,onClick:Q(T=>g(x.row),["stop"]),clickable:""},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(M,null,{default:a(()=>w[7]||(w[7]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):$("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[u.value?{name:"header",fn:a(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:a(()=>[l("div",Xs,[e(se,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:d.status,"onUpdate:modelValue":[w[2]||(w[2]=x=>d.status=x),S],options:_,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(le,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":w[3]||(w[3]=x=>d.search=x),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},ar=Object.freeze(Object.defineProperty({__proto__:null,default:lr},Symbol.toStringTag,{value:"Module"})),Da={__name:"CompanyInfoForm",setup(m){const n=C(),u=ce(),o=kl({name:u.props.data.name,phone:u.props.data.phone,address:u.props.data.address}),s=()=>Fe({form:o,url:route("admin.company-profile.edit"),onSuccess:i=>{o.name=i.data.name,o.phone=i.data.phone,o.address=i.data.address}});return(i,p)=>(b(),U(Re,{class:"row",onSubmit:Q(s,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[e(ie,{flat:"",bordered:"",square:"",class:"col"},{default:a(()=>[e(te,null,{default:a(()=>[p[3]||(p[3]=l("div",{class:"text-subtitle1 q-my-xs"},"Profil Perusahaan",-1)),p[4]||(p[4]=l("p",{class:"text-caption text-grey-9"},"Perbarui profil perusahaan.",-1)),e(le,{ref_key:"nameInputRef",ref:n,modelValue:t(o).name,"onUpdate:modelValue":p[0]||(p[0]=c=>t(o).name=c),modelModifiers:{trim:!0},label:"Nama Perusahaan",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.name,"error-message":t(o).errors.name,rules:[c=>c&&c.length>0||"Nama perusahaan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(le,{modelValue:t(o).phone,"onUpdate:modelValue":p[1]||(p[1]=c=>t(o).phone=c),modelModifiers:{trim:!0},label:"No Telepon",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.phone,"error-message":t(o).errors.phone,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(le,{type:"textarea",counter:"",autogrow:"",maxlength:"200",modelValue:t(o).address,"onUpdate:modelValue":p[2]||(p[2]=c=>t(o).address=c),modelModifiers:{trim:!0},label:"Alamat",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.address,"error-message":t(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,null,{default:a(()=>[e(A,{icon:"save",type:"submit",color:"primary",label:"Simpan",disable:t(o).processing,loading:t(o).processing},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},or=Object.freeze(Object.defineProperty({__proto__:null,default:Da},Symbol.toStringTag,{value:"Module"})),nr={class:"q-pa-xs"},sr={class:"row justify-center"},rr={class:"col col-md-6"},Bl="Profil Perusahaan",ir={__name:"Edit",setup(m){return(n,u)=>{const o=L("i-head"),s=L("authenticated-layout");return b(),h(H,null,[e(o,{title:Bl}),e(s,null,{title:a(()=>[v(r(Bl))]),default:a(()=>[l("div",nr,[l("div",sr,[l("div",rr,[e(Da)])])])]),_:1})],64)}}},dr=Object.freeze(Object.defineProperty({__proto__:null,default:ir},Symbol.toStringTag,{value:"Module"})),ur={class:"q-gutter-sm"},mr={class:"col col-md-6 q-pa-xs"},cr={class:"row"},pr={class:"detail"},fr={key:0},gr={key:1},br={key:0},vr={key:1},yr={colspan:"3",class:"bg-white"},Fl="Rincian Konfirmasi Top Up",_r={__name:"Detail",setup(m){const n=ce();return(u,o)=>{const s=L("i-head"),i=L("i-link"),p=L("my-link"),c=L("authenticated-layout");return b(),h(H,null,[e(s,{title:Fl}),e(c,{"show-drawer-button":!1},{"left-button":a(()=>[l("div",ur,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=d=>u.$inertia.get(u.route("admin.customer-wallet-transaction-confirmation.index")))})])]),title:a(()=>[l("span",{class:"text-subtitle2"},r(Fl))]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",mr,[l("div",cr,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,null,{default:a(()=>[o[23]||(o[23]=l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Rincian Konfirmasi ",-1)),l("table",pr,[l("tbody",null,[l("tr",null,[o[1]||(o[1]=l("td",{style:{width:"110px"}},"Kode Trx",-1)),o[2]||(o[2]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,r(t(n).props.data.formatted_id),1)]),l("tr",null,[o[3]||(o[3]=l("td",null,"Waktu",-1)),o[4]||(o[4]=l("td",null,":",-1)),l("td",null,r(t(be)(t(n).props.data.datetime)),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"Pelanggan",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,[l("div",null,[e(q,{name:"person",class:"inline-icon"}),v(" "+r(t(n).props.data.customer.username),1)]),l("div",null,[e(q,{name:"person",class:"inline-icon"}),v(" "+r(t(n).props.data.customer.name),1)]),t(n).props.data.customer.phone?(b(),h("div",fr,[e(q,{name:"phone",class:"inline-icon"}),v(" "+r(t(n).props.data.customer.phone),1)])):$("",!0),t(n).props.data.customer.address?(b(),h("div",gr,[e(q,{name:"home_pin",class:"inline-icon"}),v(" "+r(t(n).props.data.customer.address),1)])):$("",!0),l("div",null,[e(i,{href:u.route("admin.customer.detail",{id:t(n).props.data.customer_id})},{default:a(()=>o[5]||(o[5]=[v("Lihat Rincian Pelanggan")])),_:1},8,["href"])])])]),l("tr",null,[o[10]||(o[10]=l("td",null,"Akun Tujuan",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,[e(p,{href:u.route("admin.finance-account.detail",{id:t(n).props.data.finance_account.id})},{default:a(()=>[v(r(t(n).props.data.finance_account.name),1)]),_:1},8,["href"]),o[9]||(o[9]=l("br",null,null,-1)),t(n).props.data.finance_account.type==="bank"?(b(),h(H,{key:0},[v(" Rek "+r(t(n).props.data.finance_account.bank)+" an "+r(t(n).props.data.finance_account.holder)+" ",1),o[8]||(o[8]=l("br",null,null,-1)),v(" "+r(t(n).props.data.finance_account.number),1)],64)):$("",!0)])]),l("tr",null,[o[12]||(o[12]=l("td",null,"Jumlah",-1)),o[13]||(o[13]=l("td",null,":",-1)),l("td",null,"Rp. "+r(t(K)(t(n).props.data.amount)),1)]),l("tr",null,[o[14]||(o[14]=l("td",null,"Status",-1)),o[15]||(o[15]=l("td",null,":",-1)),l("td",null,r(u.$CONSTANTS.CUSTOMER_WALLET_TRANSACTION_CONFIRMATION_STATUSES[t(n).props.data.status]),1)]),l("tr",null,[o[16]||(o[16]=l("td",null,"Catatan",-1)),o[17]||(o[17]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.notes),1)]),t(n).props.data.creator?(b(),h("tr",br,[o[18]||(o[18]=l("td",null,"Dibuat",-1)),o[19]||(o[19]=l("td",null,":",-1)),l("td",null,r(t(be)(t(n).props.data.created_at))+" oleh "+r(t(n).props.data.creator.name),1)])):$("",!0),t(n).props.data.updater?(b(),h("tr",vr,[o[20]||(o[20]=l("td",null,"Diperbarui",-1)),o[21]||(o[21]=l("td",null,":",-1)),l("td",null,r(t(be)(t(n).props.data.updated_at))+" oleh "+r(t(n).props.data.updater.name),1)])):$("",!0),t(n).props.data.image_path?(b(),h(H,{key:2},[o[22]||(o[22]=l("tr",null,[l("td",null,"Lampiran"),l("td",null,":"),l("td")],-1)),l("tr",null,[l("td",yr,[e(el,{src:`/${t(n).props.data.image_path}`,class:"q-mt-none",style:Me([{"max-width":"500px"},{border:"1px solid #ddd"}])},null,8,["src"])])])],64)):$("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},wr=Object.freeze(Object.defineProperty({__proto__:null,default:_r},Symbol.toStringTag,{value:"Module"})),kr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},$r={class:"q-pa-xs"},hr={class:"flex justify-end no-wrap"},zl="Konfirmasi Top Up Wallet",xr={__name:"Index",setup(m){const n=$e(),u=C(!1),o=C([]),s=C(!0),i=C(null),p=C(null),c=We(p),d=C(null),f=C(!1),y=Bt(),_=Ft(),g=[{label:"Semua Tahun",value:"all"},...Pt(y-2,y).reverse()],V=[{value:"all",label:"Semua Bulan"},...It()],S=[{value:"all",label:"Semua Status"},...Ke(window.CONSTANTS.CUSTOMER_WALLET_TRANSACTION_CONFIRMATION_STATUSES)],k=Ie({search:"",year:y,month:_,status:"all",...Ue()}),E=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!1}),P=[{name:"datetime",label:"Tanggal",field:"datetime",align:"left",sortable:!0},{name:"finance_account_id",label:"Bank Tujuan",field:"finance_account_id",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"status",label:"Status",field:"status",align:"center"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",label:"Aksi",field:"action",align:"center"}];he(()=>{w()});const w=(j=null)=>{Ae({pagination:E,filter:k,props:j,rows:o,url:route("admin.customer-wallet-transaction-confirmation.data"),loading:s,tableRef:i})},D=()=>{w()},B=Z(()=>n.screen.gt.sm?P:P.filter(j=>["datetime","action"].includes(j.name)));Be(()=>k.year,j=>{j===null&&(k.month=null)});const x=j=>Il({message:`Setujui konfirmasi transaksi #${j.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",j.id),fetchItemsCallback:w,loading:s,data:{id:j.id,action:"accept"}}),T=j=>Il({message:`Tolak konfirmasi transaksi #${j.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",j.id),fetchItemsCallback:w,loading:s,data:{id:j.id,action:"reject"}}),O=j=>Ge({message:`Hapus konfirmasi transaksi ${j.formatted_id}?`,url:route("admin.customer-wallet-transaction-confirmation.delete",j.id),fetchItemsCallback:w,loading:s}),N=j=>{d.value=j,f.value=!0};return(j,I)=>{const G=L("i-head"),de=L("authenticated-layout");return b(),h(H,null,[e(G,{title:zl}),e(de,null,Ye({title:a(()=>[v(r(zl))]),"right-button":a(()=>[e(A,{class:"q-ml-sm",icon:u.value?"filter_alt_off":"filter_alt",color:"grey",flat:"",rounded:"",dense:"",onClick:I[0]||(I[0]=R=>u.value=!u.value)},null,8,["icon"])]),default:a(()=>[l("div",$r,[e(Te,{ref_key:"tableRef",ref:i,class:"full-height-table",style:Me({height:t(c)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:E.value,"onUpdate:pagination":I[6]||(I[6]=R=>E.value=R),filter:k.search,loading:s.value,columns:B.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:w,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),body:a(R=>[e(qe,{props:R,class:"cursor-pointer",onClick:Q(z=>t(W).get(j.route("admin.customer-wallet-transaction-confirmation.detail",{id:R.row.id})),["stop"])},{default:a(()=>[e(F,{key:"datetime",props:R,class:"wrap-column"},{default:a(()=>[l("div",null,[e(q,{class:"inline-icon",name:"tag"}),v(" "+r(R.row.formatted_id),1)]),l("div",null,[e(q,{name:"calendar_clock",class:"inline-icon"}),v(" "+r(t(be)(R.row.datetime)),1)]),t(n).screen.gt.sm?$("",!0):(b(),h(H,{key:0},[e(_e,{icon:"account_balance",text:R.row.finance_account.name},null,8,["text"]),l("div",null,[e(q,{name:"person",class:"inline-icon"}),v(" "+r(R.row.customer.username)+" - "+r(R.row.customer.name),1)]),l("div",null,[e(q,{name:"money",class:"inline-icon"}),v(" Rp. "+r(t(K)(R.row.amount)),1)]),R.row.notes?(b(),U(_e,{key:0,icon:"notes",text:R.row.notes},null,8,["text"])):$("",!0),l("div",null,[e(Pl,{status:R.row.status},null,8,["status"])])],64))]),_:2},1032,["props"]),e(F,{key:"finance_account_id",props:R},{default:a(()=>[v(r(R.row.finance_account.name),1),I[8]||(I[8]=l("br",null,null,-1)),v(" "+r(R.row.finance_account.bank)+" "+r(R.row.finance_account.number)+" an. "+r(R.row.finance_account.holder),1)]),_:2},1032,["props"]),e(F,{key:"amount",props:R,style:{"text-align":"right"}},{default:a(()=>[v(r(t(K)(R.row.amount)),1)]),_:2},1032,["props"]),e(F,{key:"status",props:R,class:"text-center"},{default:a(()=>[e(Pl,{status:R.row.status},null,8,["status"])]),_:2},1032,["props"]),e(F,{key:"notes",props:R,class:"word-wrap"},{default:a(()=>[e(_e,{icon:"notes",text:R.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(F,{key:"action",props:R,class:"text-center"},{default:a(()=>[l("div",hr,[e(A,{icon:"image",color:"primary",dense:"",flat:"",disable:R.row.image_path===null||R.row.image_path==="",onClick:Q(z=>N(R.row.image_path),["stop"])},{default:a(()=>[R.row.image_path!=null?(b(),U(zt,{key:0},{default:a(()=>I[9]||(I[9]=[v(" Lihat Bukti ")])),_:1})):$("",!0)]),_:2},1032,["disable","onClick"]),j.$can("admin.customer-wallet-transaction-confirmation:accept")||j.$can("admin.customer-wallet-transaction-confirmation:deny")||j.$can("admin.customer-wallet-transaction-confirmation.delete")?(b(),U(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:I[5]||(I[5]=Q(()=>{},["stop"]))},{default:a(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(De,{style:{width:"200px"}},{default:a(()=>[j.$can("admin.customer-wallet-transaction-confirmation:accept")?J((b(),U(ee,{key:0,onClick:Q(z=>x(R.row),["stop"]),clickable:"",disable:R.row.status!=="pending"},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"check"})]),_:1}),e(M,null,{default:a(()=>I[10]||(I[10]=[v("Setujui")])),_:1})]),_:2},1032,["onClick","disable"])),[[ne],[re]]):$("",!0),j.$can("admin.customer-wallet-transaction-confirmation:deny")?J((b(),U(ee,{key:1,onClick:Q(z=>T(R.row),["stop"]),clickable:"",disable:R.row.status!=="pending"},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"cancel"})]),_:1}),e(M,null,{default:a(()=>I[11]||(I[11]=[v("Tolak")])),_:1})]),_:2},1032,["onClick","disable"])),[[ne],[re]]):$("",!0),e(ot),j.$can("admin.customer-wallet-transaction-confirmation.delete")?J((b(),U(ee,{key:2,onClick:Q(z=>O(R.row),["stop"]),clickable:""},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(M,null,{default:a(()=>I[12]||(I[12]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):$("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"]),e(tl,{modelValue:f.value,"onUpdate:modelValue":I[7]||(I[7]=R=>f.value=R),imageUrl:`/${d.value}`},null,8,["modelValue","imageUrl"])])]),_:2},[u.value?{name:"header",fn:a(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:a(()=>[l("div",kr,[e(se,{modelValue:k.year,"onUpdate:modelValue":[I[1]||(I[1]=R=>k.year=R),D],options:g,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),k.year!=="all"?(b(),U(se,{key:0,modelValue:k.month,"onUpdate:modelValue":[I[2]||(I[2]=R=>k.month=R),D],options:V,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:k.year===null},null,8,["modelValue","disable"])):$("",!0),e(se,{modelValue:k.status,"onUpdate:modelValue":[I[3]||(I[3]=R=>k.status=R),D],options:S,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(le,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:k.search,"onUpdate:modelValue":I[4]||(I[4]=R=>k.search=R),placeholder:"Cari...",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Sr=Object.freeze(Object.defineProperty({__proto__:null,default:xr},Symbol.toStringTag,{value:"Module"}));function Ra(m,n=!1){const u=m.map(p=>({value:p.id,label:p.username+" - "+p.name})),o=n?[{value:"all",label:"Semua"},...u]:u,s=C([...o]);return{filteredCustomers:s,filterCustomersFn:(p,c)=>{c(()=>{s.value=o.filter(d=>d.label.toLowerCase().includes(p.toLowerCase()))})},customers:o}}const Vr={class:"col col-md-6 q-pa-xs"},Ll="Penyesuaian Saldo Dompet Pelanggan",qr={__name:"Adjustment",setup(m){const n=ce(),{filteredCustomers:u,filterCustomersFn:o}=Ra(n.props.customers,!1),s=je({customer_id:null,old_balance:0,new_balance:0,notes:""}),i=()=>s.amount=s.new_balance-s.old_balance;Be(()=>s.customer_id,async d=>{if(!d){s.old_balance=0,s.new_balance=0,i();return}s.processing=!0;try{const f=await axios.get(route("admin.customer.balance",{id:d}));s.new_balance=s.old_balance=f.data.balance}catch(f){console.error("Gagal mengambil saldo:",f),s.old_balance=0,s.new_balance=0}s.processing=!1,i()});const p=Z(()=>s.new_balance-s.old_balance),c=()=>Fe({form:s,url:route("admin.customer-wallet-transaction.adjustment")});return(d,f)=>{const y=L("i-head"),_=L("authenticated-layout");return b(),h(H,null,[e(y,{title:Ll}),e(_,null,{title:a(()=>[v(r(Ll))]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",Vr,[e(Re,{class:"row",onSubmit:Q(c,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[e(se,{class:"custom-select",modelValue:t(s).customer_id,"onUpdate:modelValue":f[0]||(f[0]=g=>t(s).customer_id=g),label:"Pelanggan","use-input":"","input-debounce":"300",clearable:"",options:t(u),"map-options":"","emit-value":"",errorMessage:t(s).errors.customer_id,onFilter:t(o),error:!!t(s).errors.customer_id,disable:t(s).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(ee,null,{default:a(()=>[e(M,null,{default:a(()=>f[6]||(f[6]=[v("Pelanggan tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(Ne,{modelValue:t(s).old_balance,"onUpdate:modelValue":f[1]||(f[1]=g=>t(s).old_balance=g),label:"Saldo Tercatat",readonly:"",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.balance,errorMessage:t(s).errors.balance},null,8,["modelValue","disable","error","errorMessage"]),e(Ne,{modelValue:t(s).new_balance,"onUpdate:modelValue":f[2]||(f[2]=g=>t(s).new_balance=g),label:"Saldo Seharusnya",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.new_balance,errorMessage:t(s).errors.new_balance},null,8,["modelValue","disable","error","errorMessage"]),e(Ne,{modelValue:p.value,"onUpdate:modelValue":f[3]||(f[3]=g=>p.value=g),label:"Selisih",readonly:"",lazyRules:"",disable:t(s).processing},null,8,["modelValue","disable"]),e(le,{modelValue:t(s).notes,"onUpdate:modelValue":f[4]||(f[4]=g=>t(s).notes=g),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,rules:[g=>g&&g.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(A,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:f[5]||(f[5]=g=>t(W).get(d.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Cr=Object.freeze(Object.defineProperty({__proto__:null,default:qr},Symbol.toStringTag,{value:"Module"})),Tr={class:"q-gutter-sm"},Pr={class:"col col-md-6 q-pa-xs"},Ir={class:"row"},Or={class:"detail"},Dr={key:0},Rr={key:1},Ur={key:0},Ar={key:1},Mr={colspan:"3",class:"bg-white"},Hl="Rincian Transaksi",jr={__name:"Detail",setup(m){const n=ce();return(u,o)=>{const s=L("i-head"),i=L("i-link"),p=L("authenticated-layout");return b(),h(H,null,[e(s,{title:Hl}),e(p,null,{"left-button":a(()=>[l("div",Tr,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=c=>u.$goBack())})])]),title:a(()=>[v(r(Hl))]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",Pr,[l("div",Ir,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,null,{default:a(()=>[o[19]||(o[19]=l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Rincian Transaksi Wallet ",-1)),l("table",Or,[l("tbody",null,[l("tr",null,[o[1]||(o[1]=l("td",{style:{width:"110px"}},"Kode Trx",-1)),o[2]||(o[2]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,r(t(n).props.data.formatted_id),1)]),l("tr",null,[o[3]||(o[3]=l("td",null,"Waktu",-1)),o[4]||(o[4]=l("td",null,":",-1)),l("td",null,r(t(be)(t(n).props.data.datetime)),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"Pelanggan",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,[l("div",null,[e(q,{name:"person",class:"inline-icon"}),v(" "+r(t(n).props.data.customer.username),1)]),l("div",null,[e(q,{name:"person",class:"inline-icon"}),v(" "+r(t(n).props.data.customer.name),1)]),t(n).props.data.customer.phone?(b(),h("div",Dr,[e(q,{name:"phone",class:"inline-icon"}),v(" "+r(t(n).props.data.customer.phone),1)])):$("",!0),t(n).props.data.customer.address?(b(),h("div",Rr,[e(q,{name:"home_pin",class:"inline-icon"}),v(" "+r(t(n).props.data.customer.address),1)])):$("",!0),l("div",null,[e(i,{href:u.route("admin.customer.detail",{id:t(n).props.data.customer_id})},{default:a(()=>o[5]||(o[5]=[v("Lihat Rincian Pelanggan")])),_:1},8,["href"])])])]),l("tr",null,[o[8]||(o[8]=l("td",null,"Jenis Transaksi",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,r(u.$CONSTANTS.CUSTOMER_WALLET_TRANSACTION_TYPES[t(n).props.data.type]),1)]),l("tr",null,[o[10]||(o[10]=l("td",null,"Jumlah",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",{class:ye(t(n).props.data.amount>0?"text-positive":"text-negative")},r(t(kt)(t(n).props.data.amount))+"Rp. "+r(t(K)(Math.abs(t(n).props.data.amount))),3)]),l("tr",null,[o[12]||(o[12]=l("td",null,"Catatan",-1)),o[13]||(o[13]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.notes),1)]),t(n).props.data.creator?(b(),h("tr",Ur,[o[14]||(o[14]=l("td",null,"Dibuat",-1)),o[15]||(o[15]=l("td",null,":",-1)),l("td",null,r(t(be)(t(n).props.data.created_at))+" oleh "+r(t(n).props.data.creator.name),1)])):$("",!0),t(n).props.data.updater?(b(),h("tr",Ar,[o[16]||(o[16]=l("td",null,"Diperbarui",-1)),o[17]||(o[17]=l("td",null,":",-1)),l("td",null,r(t(be)(t(n).props.data.updated_at))+" oleh "+r(t(n).props.data.updater.name),1)])):$("",!0),t(n).props.data.image_path?(b(),h(H,{key:2},[o[18]||(o[18]=l("tr",null,[l("td",null,"Lampiran"),l("td",null,":"),l("td")],-1)),l("tr",null,[l("td",Mr,[e(el,{src:`/${t(n).props.data.image_path}`,class:"q-mt-none",style:Me([{"max-width":"500px"},{border:"1px solid #ddd"}])},null,8,["src"])])])],64)):$("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Er=Object.freeze(Object.defineProperty({__proto__:null,default:jr},Symbol.toStringTag,{value:"Module"})),Nr={class:"q-gutter-sm"},Br={class:"col col-md-6 q-pa-xs"},Fr={__name:"Editor",setup(m){var f;const n=ce(),u=(n.props.data.id?"Edit":"Catat")+" Transaksi Dompet Pelanggan",{filteredCustomers:o,filterCustomersFn:s}=Ra(n.props.customers,!1),i=[{label:"Deposit (+)",value:"deposit"},{label:"Penarikan (-)",value:"withdrawal"}],p=n.props.finance_accounts.map(y=>({label:y.name,value:y.id})),c=je({id:n.props.data.id,customer_id:n.props.data.customer_id,finance_account_id:n.props.data.finance_account_id,type:n.props.data.type,datetime:new Date(n.props.data.datetime),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount),image_path:((f=n.props.data)==null?void 0:f.image_path)??"",image:null}),d=()=>{Lt(c,{datetime:"YYYY-MM-DD HH:mm:ss"}),Fe({form:c,url:route("admin.customer-wallet-transaction.save")})};return(y,_)=>{const g=L("i-head"),V=L("authenticated-layout");return b(),h(H,null,[e(g,{title:u}),e(V,null,{title:a(()=>[v(r(u))]),"left-button":a(()=>[l("div",Nr,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:_[0]||(_[0]=S=>y.$inertia.get(y.route("admin.customer-wallet-transaction.index")))})])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",Br,[e(Re,{class:"row",onSubmit:Q(d,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[J(l("input",{type:"hidden",name:"id","onUpdate:modelValue":_[1]||(_[1]=S=>t(c).id=S)},null,512),[[Xe,t(c).id]]),e(Ut,{autofocus:"",modelValue:t(c).datetime,"onUpdate:modelValue":_[2]||(_[2]=S=>t(c).datetime=S),label:"Tanggal",error:!!t(c).errors.datetime,disable:t(c).processing,"hide-bottom-space":""},null,8,["modelValue","error","disable"]),e(se,{class:"custom-select",modelValue:t(c).customer_id,"onUpdate:modelValue":_[3]||(_[3]=S=>t(c).customer_id=S),label:"Pelanggan","use-input":"","input-debounce":"300",clearable:"",options:t(o),"map-options":"","emit-value":"",errorMessage:t(c).errors.customer_id,onFilter:t(s),error:!!t(c).errors.customer_id,disable:t(c).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(ee,null,{default:a(()=>[e(M,null,{default:a(()=>_[10]||(_[10]=[v("Pelanggan tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(se,{modelValue:t(c).type,"onUpdate:modelValue":_[4]||(_[4]=S=>t(c).type=S),label:"Jenis",options:i,"map-options":"","emit-value":"",error:!!t(c).errors.type,disable:t(c).processing,errorMessage:t(c).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(se,{modelValue:t(c).finance_account_id,"onUpdate:modelValue":_[5]||(_[5]=S=>t(c).finance_account_id=S),label:t(c).type=="deposit"?"Kas Tujuan":"Kas Asal",options:t(p),"map-options":"","emit-value":"",error:!!t(c).errors.finance_account_id,disable:t(c).processing,errorMessage:t(c).errors.finance_account_id,"hide-bottom-space":""},null,8,["modelValue","label","options","error","disable","errorMessage"]),e(Ne,{modelValue:t(c).amount,"onUpdate:modelValue":_[6]||(_[6]=S=>t(c).amount=S),label:"Jumlah",lazyRules:"",disable:t(c).processing,error:!!t(c).errors.amount,errorMessage:t(c).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(le,{modelValue:t(c).notes,"onUpdate:modelValue":_[7]||(_[7]=S=>t(c).notes=S),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(c).processing,error:!!t(c).errors.notes,"error-message":t(c).errors.notes,rules:[S=>S&&S.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(_l,{modelValue:t(c).image,"onUpdate:modelValue":_[8]||(_[8]=S=>t(c).image=S),"initial-image-path":t(c).image_path,disabled:t(c).processing,error:!!t(c).errors.image||!!t(c).errors.image_path,"error-message":t(c).errors.image||t(c).errors.image_path},null,8,["modelValue","initial-image-path","disabled","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(A,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(c).processing},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",disable:t(c).processing,onClick:_[9]||(_[9]=S=>t(W).get(y.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},zr=Object.freeze(Object.defineProperty({__proto__:null,default:Fr},Symbol.toStringTag,{value:"Module"})),Lr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Hr={class:"q-pa-xs"},Yr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Kr={key:0},Qr={class:"flex justify-end no-wrap"},Yl="Transaksi Dompet Pelanggan",Wr={__name:"Index",setup(m){const n=$e(),u=C(!1),o=C([]),s=C(!0),i=C(null),p=C(null),c=We(p),d=new Date().getFullYear(),f=new Date().getMonth()+1,y=[{label:"Semua Tahun",value:"all"},{label:`${d}`,value:d},...Pt(d-2,d-1).reverse()],_=[{value:"all",label:"Semua Bulan"},...It()],g=Ie({search:"",year:d,month:f,...Ue()}),V=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!0}),S=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"customer",label:"Pelanggan",field:"customer",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];he(()=>{E()});const k=T=>Ge({message:`Hapus transaksi #${T.formatted_id}? Seluruh akun terkait akan di refund dan rekaman akan dihapus.`,url:route("admin.customer-wallet-transaction.delete",T.id),fetchItemsCallback:E,loading:s}),E=(T=null)=>{Ae({pagination:V,filter:g,props:T,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:s,tableRef:i})},P=()=>{E()},w=Z(()=>n.screen.gt.sm?S:S.filter(T=>T.name==="datetime"||T.name==="action"));Be(()=>g.year,T=>{T===null&&(g.month=null)});const D=C(null),B=C(!1),x=T=>{D.value=T,B.value=!0};return(T,O)=>{const N=L("i-head"),j=L("authenticated-layout");return b(),h(H,null,[e(N,{title:Yl}),e(j,null,Ye({title:a(()=>[v(r(Yl))]),"right-button":a(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:O[0]||(O[0]=I=>u.value=!u.value)},null,8,["icon"]),T.$can("admin.customer-wallet-transaction.add")?(b(),U(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:O[1]||(O[1]=I=>t(W).get(T.route("admin.customer-wallet-transaction.add")))})):$("",!0)]),default:a(()=>[l("div",Hr,[e(Te,{ref_key:"tableRef",ref:i,style:Me({height:t(c)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:V.value,"onUpdate:pagination":O[6]||(O[6]=I=>V.value=I),filter:g.search,loading:s.value,columns:w.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:E,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:I,message:G,filter:de})=>[l("div",Yr,[l("span",null,r(G)+" "+r(de?" with term "+de:""),1)])]),body:a(I=>[e(qe,{props:I,class:"cursor-pointer",onClick:Q(G=>t(W).get(T.route("admin.customer-wallet-transaction.detail",{id:I.row.id})),["stop"])},{default:a(()=>[e(F,{key:"datetime",props:I,class:"wrap-column"},{default:a(()=>[l("div",null,[e(q,{name:"tag",class:"inline-icon"}),v(" "+r(I.row.formatted_id),1)]),l("div",null,[e(q,{name:"calendar_clock",class:"inline-icon"}),v(" "+r(t(be)(I.row.datetime)),1)]),I.row.finance_account?(b(),h("div",Kr,[e(q,{name:"wallet",class:"inline-icon"}),v(" "+r(I.row.finance_account?I.row.finance_account.name:"-"),1)])):$("",!0),t(n).screen.gt.sm?$("",!0):(b(),h(H,{key:1},[e(_e,{icon:"person",text:I.row.customer.username+" - "+I.row.customer.name},null,8,["text"]),l("div",{class:ye([I.row.amount>0?"text-positive":"text-negative","text-bold"])},[e(q,{name:"money",class:"inline-icon"}),v(" "+r(t(kt)(I.row.amount))+"Rp. "+r(t(K)(Math.abs(I.row.amount))),1)],2),e(_e,{text:I.row.notes,icon:"notes",class:"text-grey-8"},null,8,["text"]),l("div",null,[e(st,null,{default:a(()=>[v(r(I.row.type_label),1)]),_:2},1024)])],64))]),_:2},1032,["props"]),e(F,{key:"customer",props:I},{default:a(()=>[e(_e,{text:I.row.customer.username+" - "+I.row.customer.name},null,8,["text"])]),_:2},1032,["props"]),e(F,{key:"notes",props:I},{default:a(()=>[e(_e,{text:I.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(F,{key:"amount",props:I,style:{"text-align":"right"}},{default:a(()=>[v(r(t(Zt)(I.row.amount)),1)]),_:2},1032,["props"]),e(F,{key:"action",props:I},{default:a(()=>[l("div",Qr,[e(A,{icon:"image",color:"primary",dense:"",flat:"",disable:I.row.image_path===null||I.row.image_path==="",onClick:Q(G=>x(I.row.image_path),["stop"])},{default:a(()=>[I.row.image_path!=null?(b(),U(zt,{key:0},{default:a(()=>O[8]||(O[8]=[v(" Lihat Bukti ")])),_:1})):$("",!0)]),_:2},1032,["disable","onClick"]),T.$can("admin.customer-wallet-transaction.delete")?(b(),U(A,{key:0,icon:"more_vert",rounded:"",dense:"",flat:"",onClick:O[5]||(O[5]=Q(()=>{},["stop"]))},{default:a(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(De,{style:{width:"200px"}},{default:a(()=>[T.$can("admin.customer-wallet-transaction.delete")?J((b(),U(ee,{key:0,onClick:Q(G=>k(I.row),["stop"]),clickable:""},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(M,null,{default:a(()=>O[9]||(O[9]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):$("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])]),e(tl,{modelValue:B.value,"onUpdate:modelValue":O[7]||(O[7]=I=>B.value=I),imageUrl:`/${D.value}`},null,8,["modelValue","imageUrl"])]),_:2},[u.value?{name:"header",fn:a(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:a(()=>[l("div",Lr,[e(se,{modelValue:g.year,"onUpdate:modelValue":[O[2]||(O[2]=I=>g.year=I),P],options:y,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(se,{modelValue:g.month,"onUpdate:modelValue":[O[3]||(O[3]=I=>g.month=I),P],options:_,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:g.year===null},null,8,["modelValue","disable"]),e(le,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:g.search,"onUpdate:modelValue":O[4]||(O[4]=I=>g.search=I),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Jr=Object.freeze(Object.defineProperty({__proto__:null,default:Wr},Symbol.toStringTag,{value:"Module"})),Gr={class:"detail"},Xr={colspan:"3"},Zr={class:"text-bold text-grey-8"},ei={key:0},ti={key:1},li={class:"text-grey-8"},ai={key:2},oi={class:"text-grey-8"},Ua={__name:"MainInfoTab",setup(m){const n=ce();return(u,o)=>(b(),h("table",Gr,[l("tbody",null,[l("tr",null,[l("td",Xr,[l("div",Zr,[o[1]||(o[1]=v(" Info Pelanggan ")),u.$can("admin.customer.edit")?(b(),U(A,{key:0,icon:"edit",size:"sm",dense:"",flat:"",rounded:"",class:"q-ml-sm",color:"grey",onClick:o[0]||(o[0]=s=>u.$inertia.get(u.route("admin.customer.edit",{id:t(n).props.data.id})))})):$("",!0)])])]),l("tr",null,[o[2]||(o[2]=l("td",{style:{width:"120px"}},"Username",-1)),o[3]||(o[3]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,r(t(n).props.data.username),1)]),l("tr",null,[o[4]||(o[4]=l("td",null,"Jenis",-1)),o[5]||(o[5]=l("td",null,":",-1)),l("td",null,r(u.$CONSTANTS.CUSTOMER_TYPES[t(n).props.data.type]),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"Nama",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.name),1)]),l("tr",null,[o[8]||(o[8]=l("td",null,"No. Telepon",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.phone?t(n).props.data.phone:"-"),1)]),l("tr",null,[o[10]||(o[10]=l("td",null,"Alamat",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.address?t(n).props.data.address:"-"),1)]),l("tr",null,[o[12]||(o[12]=l("td",null,"Saldo Wallet",-1)),o[13]||(o[13]=l("td",null,":",-1)),l("td",null,"Rp. "+r(t(K)(t(n).props.data.balance)),1)]),l("tr",null,[o[14]||(o[14]=l("td",null,"Status",-1)),o[15]||(o[15]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),o[25]||(o[25]=l("tr",null,[l("td",{colspan:"3"},[l("div",{class:"text-bold text-grey-8 q-mt-md"},"Info Akun")])],-1)),t(n).props.data.created_at?(b(),h("tr",ei,[o[16]||(o[16]=l("td",null,"Dibuat",-1)),o[17]||(o[17]=l("td",null,":",-1)),l("td",null,r(t(_t)(t(n).props.data.created_at))+" oleh "+r(t(n).props.data.creator.name)+" ("+r(t(be)(t(n).props.data.created_at))+") ",1)])):$("",!0),t(n).props.data.updated_at?(b(),h("tr",ti,[o[18]||(o[18]=l("td",null,"Diperbarui",-1)),o[19]||(o[19]=l("td",null,":",-1)),l("td",null,r(t(_t)(t(n).props.data.updated_at))+" oleh "+r(t(n).props.data.updater.name)+" ("+r(t(be)(t(n).props.data.updated_at))+") ",1)])):$("",!0),l("tr",null,[o[20]||(o[20]=l("td",null,"Terakhir login",-1)),o[21]||(o[21]=l("td",null,":",-1)),l("td",null,[v(r(t(n).props.data.last_login_datetime?t(be)(t(n).props.data.last_login_datetime):"Belum pernah login")+" ",1),l("span",li,"("+r(t(_t)(t(n).props.data.last_login_datetime))+")",1)])]),t(n).props.data.last_activity_datetime?(b(),h("tr",ai,[o[23]||(o[23]=l("td",null,"Aktifitas Terakhir",-1)),o[24]||(o[24]=l("td",null,":",-1)),l("td",null,[v(r(t(be)(t(n).props.data.last_activity_datetime))+" ",1),l("span",oi,[v("("+r(t(_t)(t(n).props.data.last_activity_datetime))+")",1),o[22]||(o[22]=l("br",null,null,-1)),v(r(t(n).props.data.last_activity_description),1)])])])):$("",!0)])]))}},ni=Object.freeze(Object.defineProperty({__proto__:null,default:Ua},Symbol.toStringTag,{value:"Module"})),si={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ri={class:"text-bold"},Aa={__name:"WalletHistoryTab",setup(m){const n=ce(),u=C([]),o=C(!0),s=Ie({customer_id:n.props.data.id,...Ue()}),i=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),p=[{name:"id",label:"Trx",field:"id",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah",field:"amount",align:"right"}];he(()=>{c()});const c=(y=null)=>Ae({pagination:i,filter:s,props:y,rows:u,url:route("admin.customer-wallet-transaction.data"),loading:o}),d=$e(),f=Z(()=>d.screen.gt.sm?p:p.filter(y=>y.name==="id"));return(y,_)=>(b(),U(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":_[0]||(_[0]=g=>i.value=g),filter:s.search,loading:o.value,columns:f.value,rows:u.value,"rows-per-page-options":[10,25,50],onRequest:c,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:g,message:V,filter:S})=>[l("div",si,[l("span",null,r(V)+" "+r(S?" with term "+S:""),1)])]),body:a(g=>[e(qe,{props:g,class:"cursor-pointer",onClick:Q(V=>t(W).get(y.route("admin.customer-wallet-transaction.detail",{id:g.row.id})),["stop"])},{default:a(()=>[e(F,{key:"id",props:g},{default:a(()=>[l("div",ri,[e(q,{class:"inline-icon",name:"tag"}),v(" "+r(g.row.formatted_id),1)]),l("div",null,[e(q,{class:"inline-icon",name:"calendar_clock"}),v(" "+r(t(be)(g.row.datetime)),1)]),t(d).screen.lt.md?(b(),h(H,{key:0},[l("div",{class:ye(["text-bold",g.row.amount<0?"text-red":"text-green"])},[e(q,{name:"money",class:"inline-icon"}),v(" "+r(t(xa)(g.row.amount)),1)],2),l("div",null,[e(_e,{text:g.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])],64)):$("",!0),l("div",null,[e(st,{size:"xs",color:g.row.amount>0?"green":"red"},{default:a(()=>[e(q,{name:"category"}),v(" "+r(g.row.type_label),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(F,{key:"notes",props:g,class:"wrap-column"},{default:a(()=>[e(_e,{text:g.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(F,{key:"amount",props:g},{default:a(()=>[l("div",{class:ye(g.row.amount<0?"text-red-10":g.row.amount>0?"text-green-10":"")},r(t(Zt)(g.row.amount)),3)]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},ii=Object.freeze(Object.defineProperty({__proto__:null,default:Aa},Symbol.toStringTag,{value:"Module"})),di={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ui={class:"text-bold"},mi={class:"text-bold"},ci={key:0},Ma={__name:"OrderHistoryTab",setup(m){const n=ce(),u=C([]),o=C(!0),s=Ie({customer_id:n.props.data.id,...Ue()}),i=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),p=[{name:"id",label:"Trx",field:"id",align:"left"},{name:"grand_total",label:"Total",field:"grand_total",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}];he(()=>{c()});const c=(y=null)=>Ae({pagination:i,filter:s,props:y,rows:u,url:route("admin.sales-order.data",{customer_id:n.props.data.id,filter:{status:["closed","canceled"]}}),loading:o}),d=$e(),f=Z(()=>d.screen.gt.sm?p:p.filter(y=>y.name==="id"));return(y,_)=>(b(),U(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":_[0]||(_[0]=g=>i.value=g),filter:s.search,loading:o.value,columns:f.value,rows:u.value,"rows-per-page-options":[10,25,50],onRequest:c,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:g,message:V,filter:S})=>[l("div",di,[l("span",null,r(V)+" "+r(S?" with term "+S:""),1)])]),body:a(g=>[e(qe,{props:g,class:"cursor-pointer",onClick:Q(V=>t(W).get(y.route("admin.sales-order.detail",{id:g.row.id})),["stop"])},{default:a(()=>[e(F,{key:"id",props:g},{default:a(()=>[l("div",ui,[e(q,{class:"inline-icon",name:"tag"}),v(" "+r(g.row.formatted_id),1)]),l("div",null,[e(q,{class:"inline-icon",name:"calendar_clock"}),v(" "+r(t(be)(g.row.datetime)),1)]),t(d).screen.lt.md?(b(),h(H,{key:0},[l("div",mi,[e(q,{name:"money",class:"inline-icon"}),v(" Rp. "+r(t(K)(g.row.grand_total)),1)]),g.row.notes?(b(),h("div",ci,[e(_e,{text:g.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])):$("",!0)],64)):$("",!0),l("div",null,[e(st,{color:g.row.status=="closed"?"green":"red"},{default:a(()=>[v(r(y.$CONSTANTS.SALES_ORDER_STATUSES[g.row.status]),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(F,{key:"grand_total",props:g},{default:a(()=>[l("div",null,r(t(K)(g.row.grand_total)),1)]),_:2},1032,["props"]),e(F,{key:"notes",props:g,class:"wrap-column"},{default:a(()=>[e(_e,{text:g.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},pi=Object.freeze(Object.defineProperty({__proto__:null,default:Ma},Symbol.toStringTag,{value:"Module"})),fi={class:"q-gutter-sm"},gi={class:"col col-lg-6 q-pa-xs"},bi={class:"row"},Kl="Rincian Pelanggan",vi={__name:"Detail",setup(m){ce();const n=C("main");return $e(),(u,o)=>{const s=L("i-head"),i=L("authenticated-layout");return b(),h(H,null,[e(s,{title:Kl}),e(i,null,{title:a(()=>[v(r(Kl))]),"left-button":a(()=>[l("div",fi,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=p=>u.$inertia.get(u.route("admin.customer.index")))})])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",gi,[l("div",bi,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ol,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=p=>n.value=p),align:"left"},{default:a(()=>[e(ct,{name:"main",label:"Info Utama"}),e(ct,{name:"history",label:"Riwayat Wallet"}),e(ct,{name:"order-history",label:"Riwayat Order"})]),_:1},8,["modelValue"]),e(nl,{modelValue:n.value,"onUpdate:modelValue":o[2]||(o[2]=p=>n.value=p)},{default:a(()=>[e(pt,{name:"main"},{default:a(()=>[e(Ua)]),_:1}),e(pt,{name:"history",class:"q-pa-xs"},{default:a(()=>[e(Aa)]),_:1}),e(pt,{name:"order-history",class:"q-pa-xs"},{default:a(()=>[e(Ma)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},yi=Object.freeze(Object.defineProperty({__proto__:null,default:vi},Symbol.toStringTag,{value:"Module"})),_i={class:"q-gutter-sm"},wi={class:"col col-md-6 q-pa-xs"},ki={__name:"Editor",setup(m){const n=ce(),u=(n.props.data.id?"Edit":"Tambah")+" Pelanggan",o=je({id:n.props.data.id,username:n.props.data.username,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,active:!!n.props.data.active,password:n.props.data.password,type:n.props.data.type}),s=Ke(window.CONSTANTS.CUSTOMER_TYPES),i=()=>Fe({form:o,url:route("admin.customer."+(n.props.data.id?"edit":"add"),{id:o.id})});return(p,c)=>{const d=L("i-head"),f=L("authenticated-layout");return b(),h(H,null,[e(d,{title:u}),e(f,null,{title:a(()=>[v(r(u))]),"left-button":a(()=>[l("div",_i,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=y=>p.$inertia.get(p.route("admin.customer.index")))})])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",wi,[e(Re,{class:"row",onSubmit:Q(i,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[J(l("input",{type:"hidden",name:"id","onUpdate:modelValue":c[1]||(c[1]=y=>t(o).id=y)},null,512),[[Xe,t(o).id]]),e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[e(le,{modelValue:t(o).username,"onUpdate:modelValue":c[2]||(c[2]=y=>t(o).username=y),modelModifiers:{trim:!0},label:"Username",error:!!t(o).errors.username,disable:t(o).processing,"error-message":t(o).errors.username,rules:[y=>y&&y.length>0||"Username harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(le,{modelValue:t(o).name,"onUpdate:modelValue":c[3]||(c[3]=y=>t(o).name=y),modelModifiers:{trim:!0},label:"Nama Pelanggan",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(se,{modelValue:t(o).type,"onUpdate:modelValue":c[4]||(c[4]=y=>t(o).type=y),label:"Jenis Akun",options:t(s),"map-options":"","emit-value":"","lazy-rules":"",disable:t(o).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!t(o).errors.type,"error-message":t(o).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"]),e(le,{modelValue:t(o).phone,"onUpdate:modelValue":c[5]||(c[5]=y=>t(o).phone=y),modelModifiers:{trim:!0},type:"text",label:"No HP",disable:t(o).processing,error:!!t(o).errors.phone,"error-message":t(o).errors.phone,rules:[y=>y&&y.length>0||"No HP harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(le,{modelValue:t(o).address,"onUpdate:modelValue":c[6]||(c[6]=y=>t(o).address=y),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Alamat",disable:t(o).processing,error:!!t(o).errors.address,"error-message":t(o).errors.address,rules:[y=>y&&y.length>0||"Alamat harus diisi."],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(le,{autocomplete:"","aria-autocomplete":"none",modelValue:t(o).password,"onUpdate:modelValue":c[7]||(c[7]=y=>t(o).password=y),type:"password",label:t(o).id?"Kata Sandi (Isi jika ingin mengganti)":"Kata Sandi Baru (Wajib diisi)",disable:t(o).processing,error:!!t(o).errors.password,"error-message":t(o).errors.password,"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","label","disable","error","error-message"]),e(al,{modelValue:t(o).active,"onUpdate:modelValue":c[8]||(c[8]=y=>t(o).active=y),label:"Aktif",disable:t(o).processing},null,8,["modelValue","disable"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(A,{type:"submit",label:"Simpan",icon:"save",color:"primary",disable:t(o).processing},null,8,["disable"]),e(A,{label:"Batal",icon:"cancel",disable:t(o).processing,onClick:c[9]||(c[9]=y=>t(W).get(p.route("admin.customer.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},$i=Object.freeze(Object.defineProperty({__proto__:null,default:ki},Symbol.toStringTag,{value:"Module"}));function Ot(m,n,u,o){const s=[];return m.forEach(i=>{o(i)===!0?s.push(i):n.push({failedPropValidation:u,file:i})}),s}function Kt(m){m&&m.dataTransfer&&(m.dataTransfer.dropEffect="copy"),Ct(m)}const hi={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},xi=["rejected"];function Si({editable:m,dnd:n,getFileInput:u,addFilesToQueue:o}){const{props:s,emit:i,proxy:p}=ht(),c=C(null),d=Z(()=>s.accept!==void 0?s.accept.split(",").map(w=>(w=w.trim(),w==="*"?"*/":(w.endsWith("/*")&&(w=w.slice(0,w.length-1)),w.toUpperCase()))):null),f=Z(()=>parseInt(s.maxFiles,10)),y=Z(()=>parseInt(s.maxTotalSize,10));function _(w){if(m.value)if(w!==Object(w)&&(w={target:null}),w.target!==null&&w.target.matches('input[type="file"]')===!0)w.clientX===0&&w.clientY===0&&Do(w);else{const D=u();D&&D!==w.target&&D.click(w)}}function g(w){m.value&&w&&o(null,w)}function V(w,D,B,x){let T=Array.from(D||w.target.files);const O=[],N=()=>{O.length!==0&&i("rejected",O)};if(s.accept!==void 0&&d.value.indexOf("*/")===-1&&(T=Ot(T,O,"accept",j=>d.value.some(I=>j.type.toUpperCase().startsWith(I)||j.name.toUpperCase().endsWith(I))),T.length===0))return N();if(s.maxFileSize!==void 0){const j=parseInt(s.maxFileSize,10);if(T=Ot(T,O,"max-file-size",I=>I.size<=j),T.length===0)return N()}if(s.multiple!==!0&&T.length!==0&&(T=[T[0]]),T.forEach(j=>{j.__key=j.webkitRelativePath+j.lastModified+j.name+j.size}),x===!0){const j=B.map(I=>I.__key);T=Ot(T,O,"duplicate",I=>j.includes(I.__key)===!1)}if(T.length===0)return N();if(s.maxTotalSize!==void 0){let j=x===!0?B.reduce((I,G)=>I+G.size,0):0;if(T=Ot(T,O,"max-total-size",I=>(j+=I.size,j<=y.value)),T.length===0)return N()}if(typeof s.filter=="function"){const j=s.filter(T);T=Ot(T,O,"filter",I=>j.includes(I))}if(s.maxFiles!==void 0){let j=x===!0?B.length:0;if(T=Ot(T,O,"max-files",()=>(j++,j<=f.value)),T.length===0)return N()}if(N(),T.length!==0)return T}function S(w){Kt(w),n.value!==!0&&(n.value=!0)}function k(w){Ct(w),(w.relatedTarget!==null||Dt.is.safari!==!0?w.relatedTarget!==c.value:document.elementsFromPoint(w.clientX,w.clientY).includes(c.value)===!1)===!0&&(n.value=!1)}function E(w){Kt(w);const D=w.dataTransfer.files;D.length!==0&&o(null,D),n.value=!1}function P(w){if(n.value===!0)return fe("div",{ref:c,class:`q-${w}__dnd absolute-full`,onDragenter:Kt,onDragover:Kt,onDragleave:k,onDrop:E})}return Object.assign(p,{pickFiles:_,addFiles:g}),{pickFiles:_,addFiles:g,onDragover:S,onDragleave:k,processFiles:V,getDndNode:P,maxFilesNumber:f,maxTotalSizeNumber:y}}const ja=gt({name:"QFile",inheritAttrs:!1,props:{...Uo,...Sa,...hi,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Ro,...xi],setup(m,{slots:n,emit:u,attrs:o}){const{proxy:s}=ht(),i=Ao(),p=C(null),c=C(!1),d=Mo(m),{pickFiles:f,onDragover:y,onDragleave:_,processFiles:g,getDndNode:V}=Si({editable:i.editable,dnd:c,getFileInput:de,addFilesToQueue:R}),S=jo(m),k=Z(()=>Object(m.modelValue)===m.modelValue?"length"in m.modelValue?Array.from(m.modelValue):[m.modelValue]:[]),E=Z(()=>Ol(k.value)),P=Z(()=>k.value.map(ae=>ae.name).join(", ")),w=Z(()=>Eo(k.value.reduce((ae,Ve)=>ae+Ve.size,0))),D=Z(()=>({totalSize:w.value,filesNumber:k.value.length,maxFiles:m.maxFiles})),B=Z(()=>({tabindex:-1,type:"file",title:"",accept:m.accept,capture:m.capture,name:d.value,...o,id:i.targetUid.value,disabled:i.editable.value!==!0})),x=Z(()=>"q-file q-field--auto-height"+(c.value===!0?" q-file--dnd":"")),T=Z(()=>m.multiple===!0&&m.append===!0);function O(ae){const Ve=k.value.slice();Ve.splice(ae,1),j(Ve)}function N(ae){const Ve=k.value.indexOf(ae);Ve!==-1&&O(Ve)}function j(ae){u("update:modelValue",m.multiple===!0?ae:ae[0])}function I(ae){ae.keyCode===13&&Fo(ae)}function G(ae){(ae.keyCode===13||ae.keyCode===32)&&f(ae)}function de(){return p.value}function R(ae,Ve){const ze=g(ae,Ve,k.value,T.value),rt=de();rt!=null&&(rt.value=""),ze!==void 0&&((m.multiple===!0?m.modelValue&&ze.every(nt=>k.value.includes(nt)):m.modelValue===ze[0])||j(T.value===!0?k.value.concat(ze):ze))}function z(){return[fe("input",{class:[m.inputClass,"q-file__filler"],style:m.inputStyle})]}function X(){if(n.file!==void 0)return k.value.length===0?z():k.value.map((Ve,ze)=>n.file({index:ze,file:Ve,ref:this}));if(n.selected!==void 0)return k.value.length===0?z():n.selected({files:k.value,ref:this});if(m.useChips===!0)return k.value.length===0?z():k.value.map((Ve,ze)=>fe(Va,{key:"file-"+ze,removable:i.editable.value,dense:!0,textColor:m.color,tabindex:m.tabindex,onRemove:()=>{O(ze)}},()=>fe("span",{class:"ellipsis",textContent:Ve.name})));const ae=m.displayValue!==void 0?m.displayValue:P.value;return ae.length!==0?[fe("div",{class:m.inputClass,style:m.inputStyle,textContent:ae})]:z()}function Ce(){const ae={ref:p,...B.value,...S.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:R};return m.multiple===!0&&(ae.multiple=!0),fe("input",ae)}return Object.assign(i,{fieldClass:x,emitValue:j,hasValue:E,inputRef:p,innerValue:k,floatingLabel:Z(()=>E.value===!0||Ol(m.displayValue)),computedCounter:Z(()=>{if(m.counterLabel!==void 0)return m.counterLabel(D.value);const ae=m.maxFiles;return`${k.value.length}${ae!==void 0?" / "+ae:""} (${w.value})`}),getControlChild:()=>V("file"),getControl:()=>{const ae={ref:i.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:m.tabindex};return i.editable.value===!0&&Object.assign(ae,{onDragover:y,onDragleave:_,onKeydown:I,onKeyup:G}),fe("div",ae,[Ce()].concat(X()))}}),Object.assign(s,{removeAtIndex:O,removeFile:N,getNativeElement:()=>p.value}),No(s,"nativeEl",()=>p.value),Bo(i)}}),Jt=gt({name:"QBanner",props:{...vl,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(m,{slots:n}){const{proxy:{$q:u}}=ht(),o=yl(m,u),s=Z(()=>"q-banner row items-center"+(m.dense===!0?" q-banner--dense":"")+(o.value===!0?" q-banner--dark q-dark":"")+(m.rounded===!0?" rounded-borders":"")),i=Z(()=>`q-banner__actions row items-center justify-end col-${m.inlineActions===!0?"auto":"all"}`);return()=>{const p=[fe("div",{class:"q-banner__avatar col-auto row items-center self-start"},wt(n.avatar)),fe("div",{class:"q-banner__content col text-body2"},wt(n.default))],c=wt(n.action);return c!==void 0&&p.push(fe("div",{class:i.value},c)),fe("div",{class:s.value+(m.inlineActions===!1&&c!==void 0?" q-banner--top-padding":""),role:"alert"},p)}}}),Vi={class:"q-gutter-sm"},qi={class:"col col-md-6 q-pa-xs"},Ql="Import Pelanggan",Ci={__name:"Import",setup(m){const n=je({csv_file:null}),u=()=>{n.post(route("admin.customer.import"),{onSuccess:()=>{n.reset()},onError:()=>{Oe()},onFinish:()=>{n.clearErrors()}})};return(o,s)=>{const i=L("i-head"),p=L("authenticated-layout");return b(),h(H,null,[e(i,{title:Ql}),e(p,{"show-drawer-button":!1},{title:a(()=>[v(r(Ql))]),"left-button":a(()=>[l("div",Vi,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=c=>o.$goBack())})])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",qi,[e(Re,{class:"row",onSubmit:Q(u,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[s[3]||(s[3]=l("div",{class:"text-subtitle1 q-pt-lg"},"Unggah File Impor",-1)),s[4]||(s[4]=l("div",{class:"text-caption text-grey"}," Unggah file CSV untuk mengimpor data pelanggan. Pastikan format kolom sesuai dengan template yang disediakan. ",-1)),e(ja,{modelValue:t(n).csv_file,"onUpdate:modelValue":s[1]||(s[1]=c=>t(n).csv_file=c),accept:".csv",label:"Pilih file CSV",error:!!t(n).errors.csv_file,"error-message":t(n).errors.csv_file,disable:t(n).processing,"hide-bottom-space":"",class:"q-mt-md"},null,8,["modelValue","error","error-message","disable"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(A,{icon:"upload",type:"submit",label:"Import Data",color:"primary",disable:t(n).processing||!t(n).csv_file,loading:t(n).processing},null,8,["disable","loading"]),e(A,{icon:"cancel",label:"Batal",disable:t(n).processing,onClick:s[2]||(s[2]=c=>o.$goBack())},null,8,["disable"])]),_:1}),o.$page.props.flash.success?(b(),U(Jt,{key:0,class:"bg-positive text-white q-mt-md"},{default:a(()=>[v(r(o.$page.props.flash.success),1)]),_:1})):$("",!0),o.$page.props.flash.error?(b(),U(Jt,{key:1,class:"bg-negative text-white q-mt-md"},{default:a(()=>[v(r(o.$page.props.flash.error),1)]),_:1})):$("",!0)]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Ti=Object.freeze(Object.defineProperty({__proto__:null,default:Ci},Symbol.toStringTag,{value:"Module"})),Pi={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Ii={class:"q-pa-xs"},Oi={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Di={class:"flex justify-end"},Wl="Pelanggan",Ri={__name:"Index",setup(m){const n=$e(),u=C(!1),o=C([]),s=C(!0),i=C(null),p=C(null),c=We(p),d=Ie({search:"",status:"active",...Ue()}),f=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"username",label:n.screen.lt.md?"Pelanggan":"Kode",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right"},{name:"phone",label:"No HP",field:"phone",align:"left"},{name:"address",label:"Alamat",field:"address",align:"left"},{name:"action",align:"right"}],_=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];he(()=>{V()});const g=P=>Ge({message:`Hapus Pelanggan ${P.name}?`,url:route("admin.customer.delete",P.id),fetchItemsCallback:V,loading:s}),V=(P=null)=>{Ae({pagination:f,filter:d,props:P,rows:o,url:route("admin.customer.data"),loading:s,tableRef:i})},S=()=>V(),k=P=>W.get(route("admin.customer.detail",{id:P.id})),E=Z(()=>n.screen.gt.sm?y:y.filter(P=>P.name==="username"||P.name==="action"));return(P,w)=>{const D=L("i-head"),B=L("authenticated-layout");return b(),h(H,null,[e(D,{title:Wl}),e(B,null,Ye({title:a(()=>[v(r(Wl))]),"right-button":a(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:w[0]||(w[0]=x=>u.value=!u.value)},null,8,["icon"]),P.$can("admin.customer.add")?(b(),U(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:w[1]||(w[1]=x=>t(W).get(P.route("admin.customer.add")))})):$("",!0),P.$can("admin.customer.import")?(b(),U(A,{key:1,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:w[3]||(w[3]=Q(()=>{},["stop"])),class:"q-ml-sm"},{default:a(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(De,{style:{width:"200px"}},{default:a(()=>[P.$can("admin.customer.import")?J((b(),U(ee,{key:0,clickable:"",onClick:w[2]||(w[2]=Q(x=>t(W).get(P.route("admin.customer.import")),["stop"]))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"csv"})]),_:1}),e(M,null,{default:a(()=>w[8]||(w[8]=[v("Import")])),_:1})]),_:1})),[[ne],[re]]):$("",!0)]),_:1})]),_:1})]),_:1})):$("",!0)]),default:a(()=>[l("div",Ii,[e(Te,{class:"full-height-table",style:Me({height:t(c)}),ref_key:"tableRef",ref:i,flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:f.value,"onUpdate:pagination":w[7]||(w[7]=x=>f.value=x),filter:d.search,loading:s.value,columns:E.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:V,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:x,message:T,filter:O})=>[l("div",Oi,[l("span",null,r(T)+" "+r(O?" with term "+O:""),1)])]),body:a(x=>[e(qe,{props:x,class:ye([x.row.active?"":"bg-red-1","cursor-pointer"]),onClick:T=>k(x.row)},{default:a(()=>[e(F,{key:"username",props:x,class:"wrap-column"},{default:a(()=>[l("div",null,[t(n).screen.lt.md?(b(),U(q,{key:0,name:"person"})):$("",!0),v(" "+r(x.row.username),1)]),t(n).screen.lt.md?(b(),h(H,{key:0},[l("div",null,[t(n).screen.lt.md?(b(),U(q,{key:0,name:"person"})):$("",!0),v(" "+r(x.row.name),1)]),l("div",null,[e(q,{name:"phone"}),v(" "+r(x.row.phone),1)]),e(_e,{text:x.row.address,icon:"home_pin"},null,8,["text"]),l("div",null,[e(q,{name:"wallet"}),v(" Rp. "+r(t(K)(x.row.balance)),1)])],64)):$("",!0)]),_:2},1032,["props"]),e(F,{key:"name",props:x},{default:a(()=>[v(r(x.row.name),1)]),_:2},1032,["props"]),e(F,{key:"balance",props:x},{default:a(()=>[v(r(t(K)(x.row.balance)),1)]),_:2},1032,["props"]),e(F,{key:"phone",props:x},{default:a(()=>[v(r(x.row.phone),1)]),_:2},1032,["props"]),e(F,{key:"address",props:x},{default:a(()=>[e(_e,{text:x.row.address},null,8,["text"])]),_:2},1032,["props"]),e(F,{key:"action",props:x},{default:a(()=>[l("div",Di,[P.$can("admin.customer.add")||P.$can("admin.customer.edit")||P.$can("admin.customer.delete")?(b(),U(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:w[6]||(w[6]=Q(()=>{},["stop"]))},{default:a(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(De,{style:{width:"200px"}},{default:a(()=>[P.$can("admin.customer.edit")?J((b(),U(ee,{key:0,clickable:"",onClick:Q(T=>t(W).get(P.route("admin.customer.edit",x.row.id)),["stop"])},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(M,null,{default:a(()=>w[9]||(w[9]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),P.$can("admin.customer.delete")?J((b(),U(ee,{key:1,onClick:Q(T=>g(x.row),["stop"]),clickable:""},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(M,null,{default:a(()=>w[10]||(w[10]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):$("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[u.value?{name:"header",fn:a(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:a(()=>[l("div",Pi,[e(se,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:d.status,"onUpdate:modelValue":[w[4]||(w[4]=x=>d.status=x),S],options:_,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(le,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":w[5]||(w[5]=x=>d.search=x),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Ui=Object.freeze(Object.defineProperty({__proto__:null,default:Ri},Symbol.toStringTag,{value:"Module"})),Ai={class:"q-pb-sm"},Mi={class:"row q-col-gutter-sm"},ji={class:"row items-center no-wrap"},Ei={class:"q-ml-md"},Ni={class:"text-subtitle2 text-grey-8"},Bi={class:"text-h6 text-weight-bold"},Ea={__name:"ActualSummaryCard",props:{dashboardData:{type:Object,required:!0}},setup(m){const n=m,u=Z(()=>[{label:"Total Pelanggan Aktif",value:n.dashboardData.summary.total_active_customer,icon:"groups",color:"primary",bgColor:"#e3f2fd"},{label:"Total Saldo Wallet",value:K(n.dashboardData.summary.total_wallet_balance),icon:"account_balance_wallet",color:"orange-9",bgColor:"#fff3e0"},{label:"Total Penjualan",value:K(n.dashboardData.summary.total_sales),icon:"shopping_cart",color:"green-7",bgColor:"#e8f5e9"},{label:"Total Transaksi",value:K(n.dashboardData.summary.total_transactions),icon:"swap_horiz",color:"purple-8",bgColor:"#f3e5f5"}]);return(o,s)=>(b(),h("div",Ai,[s[0]||(s[0]=l("div",{class:"text-h6 text-bold text-grey-8 q-mb-sm"},"Ringkasan Statistik",-1)),l("div",Mi,[(b(!0),h(H,null,lt(u.value,(i,p)=>(b(),h("div",{key:p,class:"col-12 col-md-6"},[e(ie,{square:"",bordered:"",flat:"",class:"q-pa-md",style:{width:"100%"}},{default:a(()=>[l("div",ji,[e(Rt,{icon:i.icon,color:i.color,"text-color":i.bgColor},null,8,["icon","color","text-color"]),l("div",Ei,[l("div",Ni,r(i.label),1),l("div",Bi,r(i.value),1)])])]),_:2},1024)]))),128))])]))}},Fi=Object.freeze(Object.defineProperty({__proto__:null,default:Ea},Symbol.toStringTag,{value:"Module"})),zi={class:"row q-col-gutter-sm q-pb-sm"},Li={class:"col-md-6 col-12"},Hi={class:"col-md-6 col-12"},Yi={__name:"ChartCard",props:{dashboardData:{type:Object,required:!0}},setup(m){zo([Lo,Ho,Yo,Ko,Qo,Wo,Jo]);const n=m,u=["#82B1FF","#4DB6AC","#FFB74D","#9575CD"],o=Z(()=>({title:{text:"Penjualan Bulanan",left:"center"},tooltip:{trigger:"axis",formatter:function(i){let p=i[0].name+"<br/>";return i.forEach(function(c){p+=c.marker+" "+c.seriesName+": "+K(c.value)+"<br/>"}),p}},xAxis:{type:"category",data:n.dashboardData.monthly_sales.labels,axisLabel:{color:"#616161"}},yAxis:{type:"value",axisLabel:{formatter:i=>K(i),color:"#616161"}},series:[{name:"Penjualan",type:"bar",data:n.dashboardData.monthly_sales.data,itemStyle:{borderRadius:[5,5,0,0],color:u[0]}}]})),s=Z(()=>({title:{text:"Distribusi Jenis Transaksi",left:"center"},tooltip:{trigger:"item",formatter:function(i){return i.name+"<br/>"+i.seriesName+": "+K(i.value)+" ("+i.percent+"%)"}},legend:{orient:"vertical",left:"left",textStyle:{color:"#616161"}},series:[{name:"Jumlah Transaksi",type:"pie",radius:["40%","70%"],data:n.dashboardData.transaction_type_distribution,itemStyle:{borderRadius:5,borderColor:"#fff",borderWidth:2,color:i=>u[i.dataIndex%u.length]},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}));return(i,p)=>(b(),h("div",zi,[l("div",Li,[e(ie,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:a(()=>[p[0]||(p[0]=l("div",{class:"text-h6 q-pb-sm"},"Penjualan Bulanan",-1)),e(t(Dl),{class:"chart",option:o.value,autoresize:""},null,8,["option"])]),_:1})]),l("div",Hi,[e(ie,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:a(()=>[p[1]||(p[1]=l("div",{class:"text-h6 q-pb-sm"},"Distribusi Transaksi",-1)),e(t(Dl),{class:"chart",option:s.value,autoresize:""},null,8,["option"])]),_:1})])]))}},Na=ft(Yi,[["__scopeId","data-v-b9cdf915"]]),Ki=Object.freeze(Object.defineProperty({__proto__:null,default:Na},Symbol.toStringTag,{value:"Module"})),Qi={class:"row q-col-gutter-sm q-pb-sm"},Wi={class:"col-md-6 col-12"},Ji={class:"col-md-6 col-12"},Ba={__name:"TopCard",props:{dashboardData:{type:Object,required:!0}},setup(m){return(n,u)=>(b(),h("div",Qi,[l("div",Wi,[e(ie,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:a(()=>[u[0]||(u[0]=l("div",{class:"text-h6 q-mb-sm"},"Top 5 Pembelian Pelanggan",-1)),e(De,{separator:""},{default:a(()=>[(b(!0),h(H,null,lt(m.dashboardData.top_customers_sales,(o,s)=>(b(),U(ee,{key:s},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(Rt,{color:"primary","text-color":"white",size:"sm"},{default:a(()=>[v(r(s+1),1)]),_:2},1024)]),_:2},1024),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>[v(r(o.name),1)]),_:2},1024)]),_:2},1024),e(M,{side:""},{default:a(()=>[e(ge,{class:"text-primary"},{default:a(()=>[v(r(t(K)(o.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),l("div",Ji,[e(ie,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:a(()=>[u[1]||(u[1]=l("div",{class:"text-h6 q-mb-sm"},"Top 5 Top Up Pelanggan",-1)),e(De,{separator:""},{default:a(()=>[(b(!0),h(H,null,lt(m.dashboardData.top_customers_topup,(o,s)=>(b(),U(ee,{key:s},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(Rt,{color:"green-7","text-color":"white",size:"sm"},{default:a(()=>[v(r(s+1),1)]),_:2},1024)]),_:2},1024),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>[v(r(o.name),1)]),_:2},1024)]),_:2},1024),e(M,{side:""},{default:a(()=>[e(ge,{class:"text-green-7"},{default:a(()=>[v(r(t(K)(o.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]))}},Gi=Object.freeze(Object.defineProperty({__proto__:null,default:Ba},Symbol.toStringTag,{value:"Module"})),Xi={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Zi={class:"q-pa-xs"},ed={class:"q-pa-none"},Jl="Dashboard",td={__name:"Index",setup(m){const n=ce(),u=C({summary:{total_active_customer:n.props.data.active_customer_count,total_sales:155e5,total_transactions:1250,total_wallet_balance:n.props.data.total_customer_balance,total_topup:75e6,total_purchase:85e6,total_withdrawal:65e6},top_customers_sales:[{name:"Wildan Medina",value:1822e3},{name:"Syafiq",value:1754500},{name:"Umar",value:1534e3},{name:"Fauzan",value:1212e3},{name:"Rizky",value:981500}],top_customers_topup:[{name:"Abdullah",value:175e4},{name:"Abdurrahman",value:15e5},{name:"Zayd",value:125e4},{name:"Syafiq",value:8e5},{name:"Umar",value:65e4}],monthly_sales:{labels:["Jan","Feb","Mar","Apr","Mei","Jun"],data:[14123e3,21344e3,15155e3,17128e3,12557e3,12723e3]},transaction_type_distribution:[{value:500,name:"Deposit"},{value:350,name:"Purchase"},{value:200,name:"Withdrawal"},{value:200,name:"Refund"}]}),o=C(!1),s=C(Ue().month??"this_month"),i=C([{value:"this_month",label:"Bulan Ini"},{value:"prev_month",label:"1 Bulan Sebelumnya"},{value:"prev_2month",label:"2 Bulan Sebelumnya"},{value:"prev_3month",label:"3 Bulan Sebelumnya"}]),p=()=>{W.visit(route("admin.dashboard",{month:s.value}))};return(c,d)=>{const f=L("i-head"),y=L("authenticated-layout");return b(),h(H,null,[e(f,{title:Jl}),e(y,null,Ye({title:a(()=>[v(r(Jl))]),"right-button":a(()=>[e(A,{class:"q-ml-sm",icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:d[0]||(d[0]=_=>o.value=!o.value)},null,8,["icon"])]),default:a(()=>[l("div",Zi,[l("div",ed,[e(Ea,{dashboardData:u.value},null,8,["dashboardData"])]),e(Na,{dashboardData:u.value},null,8,["dashboardData"]),e(Ba,{dashboardData:u.value},null,8,["dashboardData"])])]),_:2},[o.value?{name:"header",fn:a(()=>[e(Je,{class:"filter-bar"},{default:a(()=>[l("div",Xi,[e(se,{class:"custom-select col-12",style:{"min-width":"150px"},modelValue:s.value,"onUpdate:modelValue":[d[1]||(d[1]=_=>s.value=_),p],options:i.value,label:"Bulan",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue","options"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},ld=Object.freeze(Object.defineProperty({__proto__:null,default:td},Symbol.toStringTag,{value:"Module"})),ad={class:"row"},od={class:"row q-col-gutter-sm"},nd={class:"col-sm-6 col-xs-12"},sd={class:"col-sm-6 col-xs-12"},rd={class:"col-md-3 col-sm-6 col-xs-12"},id={class:"col-md-3 col-sm-6 col-xs-12"},dd={class:"col-md-3 col-sm-6 col-xs-12"},ud={class:"col-md-3 col-sm-6 col-xs-12"};const md={__name:"SummaryCard",setup(m){const n=ce(),u=(o,s)=>{const p={...{order_status:"all",service_status:"all",repair_status:"all",payment_status:"all",search:""},...s};localStorage.setItem("fixsync.service-orders.filter",JSON.stringify(p)),W.visit(o,{data:p})};return(o,s)=>(b(),h("div",ad,[e(ie,{class:"bg-transparent no-shadow no-border col",bordered:""},{default:a(()=>[e(te,{class:"q-pa-none"},{default:a(()=>[l("div",od,[l("div",nd,[e(ee,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:s[0]||(s[0]=i=>o.$inertia.visit(o.route("admin.customer.index",{status:"active"})))},{default:a(()=>[e(M,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(q,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(M,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ge,{class:"text-white text-h6 text-weight-bolder"},{default:a(()=>[v(r(t(n).props.data.active_customer_count),1)]),_:1}),e(ge,null,{default:a(()=>s[5]||(s[5]=[v("Pelanggan Aktif")])),_:1})]),_:1})]),_:1})]),l("div",sd,[e(ee,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:s[1]||(s[1]=i=>o.$inertia.visit(o.route("admin.customer.index",{status:"active"})))},{default:a(()=>[e(M,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(q,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(M,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ge,{class:"text-white text-h6 text-weight-bolder"},{default:a(()=>[v(r(o.$page.props.data.active_user_count),1)]),_:1}),e(ge,null,{default:a(()=>s[6]||(s[6]=[v("Pengguna Aktif")])),_:1})]),_:1})]),_:1})]),l("div",rd,[e(ee,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:a(()=>[e(M,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(q,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(M,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ge,{class:"text-white text-weight-bold"},{default:a(()=>[v(" Rp. "+r(t(K)(o.$page.props.data.total_finance_account_balance)),1)]),_:1}),e(ge,null,{default:a(()=>s[7]||(s[7]=[v("Total Saldo Koperasi")])),_:1})]),_:1})]),_:1})]),l("div",id,[e(ee,{style:"background-color: #dc3545",class:"q-pa-none"},{default:a(()=>[e(M,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(q,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(M,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ge,{class:"text-white text-weight-bold"},{default:a(()=>[v(" Rp. "+r(t(K)(o.$page.props.data.total_customer_balance)),1)]),_:1}),e(ge,null,{default:a(()=>s[8]||(s[8]=[v("Total Saldo Pelanggan")])),_:1})]),_:1})]),_:1})]),l("div",dd,[e(ee,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:a(()=>[e(M,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(q,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(M,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ge,{class:"text-white text-weight-bold"},{default:a(()=>[v(" Rp. "+r(t(K)(o.$page.props.data.total_customer_debt)),1)]),_:1}),e(ge,null,{default:a(()=>s[9]||(s[9]=[v("Total Utang Pelanggan")])),_:1})]),_:1})]),_:1})]),l("div",ud,[e(ee,{style:"background-color: #dc3545",class:"q-pa-none"},{default:a(()=>[e(M,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(q,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(M,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ge,{class:"text-white text-weight-bold"},{default:a(()=>[v(" Rp. "+r(t(K)(o.$page.props.data.total_customer_credit)),1)]),_:1}),e(ge,null,{default:a(()=>s[10]||(s[10]=[v("Total Piutang Pelanggan")])),_:1})]),_:1})]),_:1})]),$("",!0),$("",!0),$("",!0)])]),_:1})]),_:1})]))}},cd=Object.freeze(Object.defineProperty({__proto__:null,default:md},Symbol.toStringTag,{value:"Module"})),pd={class:"detail"},Fa={__name:"MainInfoTab",setup(m){const n=ce();return(u,o)=>(b(),h("table",pd,[l("tbody",null,[l("tr",null,[o[0]||(o[0]=l("td",{style:{width:"170px"}},"Nama",-1)),o[1]||(o[1]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,r(t(n).props.data.name),1)]),l("tr",null,[o[2]||(o[2]=l("td",null,"Jenis",-1)),o[3]||(o[3]=l("td",null,":",-1)),l("td",null,r(u.$CONSTANTS.FINANCE_ACCOUNT_TYPES[t(n).props.data.type]),1)]),t(n).props.data.type=="bank"?(b(),h(H,{key:0},[l("tr",null,[o[4]||(o[4]=l("td",null,"Bank",-1)),o[5]||(o[5]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.bank),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"No. Rek",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.number),1)]),l("tr",null,[o[8]||(o[8]=l("td",null,"Atas Nama",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.holder),1)])],64)):$("",!0),l("tr",null,[o[10]||(o[10]=l("td",null,"Saldo",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,"Rp. "+r(t(K)(t(n).props.data.balance)),1)]),l("tr",null,[o[12]||(o[12]=l("td",null,"Status",-1)),o[13]||(o[13]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),l("tr",null,[o[14]||(o[14]=l("td",null,"Catatan",-1)),o[15]||(o[15]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.notes),1)]),o[22]||(o[22]=l("tr",null,[l("td",{colspan:"3",class:"text-bold text-grey-9"},[l("div",{class:"q-mt-sm"},"Opsi Lanjutan")])],-1)),l("tr",null,[o[16]||(o[16]=l("td",null,"Tampilkan di Penjualan",-1)),o[17]||(o[17]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.show_in_pos_payment?"Ya":"Tidak"),1)]),l("tr",null,[o[18]||(o[18]=l("td",null,"Tampilkan di Pembelian",-1)),o[19]||(o[19]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.show_in_purchasing?"Ya":"Tidak"),1)]),l("tr",null,[o[20]||(o[20]=l("td",null,"Tampilkan di Wallet",-1)),o[21]||(o[21]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.has_wallet_access?"Ya":"Tidak"),1)])])]))}},fd=Object.freeze(Object.defineProperty({__proto__:null,default:Fa},Symbol.toStringTag,{value:"Module"})),gd={class:"full-width row flex-center text-grey-8 q-gutter-sm"},bd={class:"flex q-gutter-sm"},vd={key:0},za={__name:"HistoryTab",setup(m){const n=ce(),u=$e(),o=C(null),s=C([]),i=C(!0),p=Ie({...Ue()}),c=We(null,117),d=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),f=[{name:"id",label:"ID",field:"id",align:"left"},{name:"datetime",label:"Waktu",field:"datetime",align:"left"},{name:"type",label:"Jenis Trx",field:"type",align:"center"},{name:"amount",label:"Jumlah",field:"amount",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}],y=Z(()=>u.screen.gt.sm?f:f.filter(g=>g.name==="id"));he(()=>{_()});const _=(g=null)=>Ae({pagination:d,filter:p,props:g,rows:s,url:route("admin.finance-transaction.data",{filter:{account_id:n.props.data.id}}),loading:i,tableRef:o});return(g,V)=>(b(),U(Te,{ref_key:"tableRef",ref:o,flat:"",bordered:"",square:"",style:Me({height:t(c)}),color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",pagination:d.value,"onUpdate:pagination":V[0]||(V[0]=S=>d.value=S),filter:p.search,loading:i.value,columns:y.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:_,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({message:S,filter:k})=>[l("div",gd,[l("span",null,r(S)+" "+r(k?" with term "+k:""),1)])]),body:a(S=>[e(qe,{props:S},{default:a(()=>[e(F,{key:"id",props:S},{default:a(()=>[l("div",bd,[l("div",null,[t(u).screen.lt.md?(b(),U(q,{key:0,name:"tag",class:"inline-icon"})):$("",!0),v(" "+r(S.row.formatted_id),1)])]),t(u).screen.lt.md?(b(),h(H,{key:0},[l("div",null,[e(q,{name:"calendar_clock",class:"inline-icon"}),v(" "+r(t(be)(S.row.datetime)),1)]),S.row.creator?(b(),h("div",vd,[e(q,{name:"person",class:"inline-icon"}),v(" "+r(S.row.creator.username),1)])):$("",!0),l("div",{class:ye([S.row.amount>0?"text-green":"text-red","text-bold"])},[e(q,{class:"inline-icon",name:"money"}),v(" "+r(t(kt)(S.row.amount))+"Rp. "+r(t(K)(Math.abs(S.row.amount))),1)],2),l("div",null,[e(st,{color:S.row.amount>0?"green":"red"},{default:a(()=>[v(r(g.$CONSTANTS.FINANCE_TRANSACTION_TYPES[S.row.type]),1)]),_:2},1032,["color"])]),e(_e,{text:S.row.notes,icon:"notes",class:"text-grey-8"},null,8,["text"])],64)):$("",!0)]),_:2},1032,["props"]),e(F,{key:"datetime",props:S},{default:a(()=>[v(r(t(be)(S.row.datetime)),1)]),_:2},1032,["props"]),e(F,{key:"type",props:S},{default:a(()=>[e(st,{color:S.row.amount>0?"green":"red"},{default:a(()=>[v(r(g.$CONSTANTS.FINANCE_TRANSACTION_TYPES[S.row.type]),1)]),_:2},1032,["color"])]),_:2},1032,["props"]),e(F,{key:"amount",props:S,class:ye(S.row.amount>0?"text-green":"text-red")},{default:a(()=>[v(r(t(kt)(S.row.amount)+t(K)(Math.abs(S.row.amount))),1)]),_:2},1032,["props","class"]),e(F,{key:"notes",props:S},{default:a(()=>[e(_e,{text:S.row.notes,icon:g.notes},null,8,["text","icon"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"]))}},yd=Object.freeze(Object.defineProperty({__proto__:null,default:za},Symbol.toStringTag,{value:"Module"})),_d={class:"q-gutter-sm"},wd={class:"q-gutter-sm"},kd={class:"col q-pa-xs"},$d={class:"row"},Gl="Rincian Akun",hd={__name:"Detail",setup(m){const n=ce(),u=C("main");return(o,s)=>{const i=L("i-head"),p=L("authenticated-layout");return b(),h(H,null,[e(i,{title:Gl}),e(p,null,{title:a(()=>[v(r(Gl))]),"left-button":a(()=>[l("div",_d,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=c=>o.$inertia.get(o.route("admin.finance-account.index")))})])]),"right-button":a(()=>[l("div",wd,[o.$can("admin.finance-account.edit")?(b(),U(A,{key:0,icon:"edit",size:"sm",dense:"",flat:"",rounded:"",color:"grey",onClick:s[1]||(s[1]=c=>t(W).get(o.route("admin.finance-account.edit",{id:t(n).props.data.id})))})):$("",!0)])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",kd,[l("div",$d,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ol,{modelValue:u.value,"onUpdate:modelValue":s[2]||(s[2]=c=>u.value=c),align:"left"},{default:a(()=>[e(ct,{name:"main",label:"Info Akun"}),e(ct,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(nl,{modelValue:u.value,"onUpdate:modelValue":s[3]||(s[3]=c=>u.value=c)},{default:a(()=>[e(pt,{name:"main"},{default:a(()=>[e(Fa)]),_:1}),e(pt,{name:"history",class:"q-pa-xs"},{default:a(()=>[e(za)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},xd=Object.freeze(Object.defineProperty({__proto__:null,default:hd},Symbol.toStringTag,{value:"Module"})),Sd={style:{"margin-left":"-10px"}},qt={__name:"CheckBox",props:{modelValue:{type:[Boolean,Array],default:!1},label:{type:String,default:""},disable:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(m){return(n,u)=>(b(),h("div",Sd,[e(Gt,{class:"full-width q-pl-none","model-value":m.modelValue,"onUpdate:modelValue":u[0]||(u[0]=o=>n.$emit("update:modelValue",o)),disable:m.disable,label:m.label},null,8,["model-value","disable","label"])]))}},Vd={class:"q-gutter-sm"},qd={class:"col col-md-6 q-pa-xs"},Cd={__name:"Editor",setup(m){const n=ce(),u=(n.props.data.id?"Edit":"Tambah")+" Akun / Kas",o=je({id:n.props.data.id,name:n.props.data.name,type:n.props.data.type,bank:n.props.data.bank,number:n.props.data.number,holder:n.props.data.holder,balance:parseFloat(n.props.data.balance),active:!!n.props.data.active,has_wallet_access:!!n.props.data.has_wallet_access,show_in_pos_payment:!!n.props.data.show_in_pos_payment,show_in_purchasing_payment:!!n.props.data.show_in_purchasing_payment,notes:n.props.data.notes}),s=Ke(window.CONSTANTS.FINANCE_ACCOUNT_TYPES),i=()=>Fe({form:o,url:route("admin.finance-account.save")}),p=c=>{c==="cashier_cash"&&(o.show_in_pos_payment=!0)};return he(()=>{p(o.type)}),Be(()=>o.type,c=>{p(c)}),(c,d)=>{const f=L("i-head"),y=L("authenticated-layout");return b(),h(H,null,[e(f,{title:u}),e(y,null,{title:a(()=>[v(r(u))]),"left-button":a(()=>[l("div",Vd,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=_=>c.$inertia.get(c.route("admin.finance-account.index")))})])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",qd,[e(Re,{class:"row",onSubmit:Q(i,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[J(l("input",{type:"hidden",name:"id","onUpdate:modelValue":d[1]||(d[1]=_=>t(o).id=_)},null,512),[[Xe,t(o).id]]),e(le,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":d[2]||(d[2]=_=>t(o).name=_),modelModifiers:{trim:!0},label:"Nama Akun","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(se,{modelValue:t(o).type,"onUpdate:modelValue":d[3]||(d[3]=_=>t(o).type=_),label:"Jenis Akun",options:t(s),"map-options":"","emit-value":"",error:!!t(o).errors.type,disable:t(o).processing,"hide-bottom-space":""},null,8,["modelValue","options","error","disable"]),t(o).type=="bank"?(b(),h(H,{key:0},[e(le,{modelValue:t(o).bank,"onUpdate:modelValue":d[4]||(d[4]=_=>t(o).bank=_),modelModifiers:{trim:!0},label:"Nama Bank","lazy-rules":"",error:!!t(o).errors.bank,disable:t(o).processing,"error-message":t(o).errors.bank,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(le,{modelValue:t(o).number,"onUpdate:modelValue":d[5]||(d[5]=_=>t(o).number=_),modelModifiers:{trim:!0},label:"Nomor Rekening","lazy-rules":"",error:!!t(o).errors.number,disable:t(o).processing,"error-message":t(o).errors.number,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(le,{modelValue:t(o).holder,"onUpdate:modelValue":d[6]||(d[6]=_=>t(o).holder=_),modelModifiers:{trim:!0},label:"Pemilik Rekening","lazy-rules":"",error:!!t(o).errors.holder,disable:t(o).processing,"error-message":t(o).errors.holder,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"])],64)):$("",!0),e(Ne,{modelValue:t(o).balance,"onUpdate:modelValue":d[7]||(d[7]=_=>t(o).balance=_),label:"Saldo",lazyRules:"",disable:t(o).processing,"allow-negative":!0,error:!!t(o).errors.balance,errorMessage:t(o).errors.balance,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(le,{modelValue:t(o).notes,"onUpdate:modelValue":d[8]||(d[8]=_=>t(o).notes=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.notes,"error-message":t(o).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(qt,{modelValue:t(o).active,"onUpdate:modelValue":d[9]||(d[9]=_=>t(o).active=_),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"]),d[14]||(d[14]=l("div",{class:"text-subtitle2 text-bold text-grey-8 q-pt-md"}," Opsi Lanjutan ",-1)),e(qt,{modelValue:t(o).show_in_pos_payment,"onUpdate:modelValue":d[10]||(d[10]=_=>t(o).show_in_pos_payment=_),disable:t(o).processing||t(o).type=="cashier_cash",label:"Tampilkan di Pembayaran Penjualan"},null,8,["modelValue","disable"]),e(qt,{modelValue:t(o).show_in_purchasing_payment,"onUpdate:modelValue":d[11]||(d[11]=_=>t(o).show_in_purchasing_payment=_),disable:t(o).processing,label:"Tampilkan di Pembayaran Pembelian"},null,8,["modelValue","disable"]),e(qt,{modelValue:t(o).has_wallet_access,"onUpdate:modelValue":d[12]||(d[12]=_=>t(o).has_wallet_access=_),disable:t(o).processing,label:"Tampilkan di Konfirmasi Topup Wallet"},null,8,["modelValue","disable"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(A,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:d[13]||(d[13]=_=>t(W).get(c.route("admin.finance-account.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Td=Object.freeze(Object.defineProperty({__proto__:null,default:Cd},Symbol.toStringTag,{value:"Module"})),Pd={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Id={class:"q-pa-xs"},Od={class:"q-my-sm text-subtitle"},Dd={class:"text-bold text-grey-8"},Rd={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ud={class:"text-bold text-grey-9"},Ad={class:"text-grey-9"},Md={key:0},jd={key:1},Ed={key:0},Nd={class:"flex justify-end"},Xl="Akun Kas",Bd={__name:"Index",setup(m){const n=ce(),u=$e(),o=C(!1),s=C([]),i=C(null),p=C(null),c=We(p,117),d=C(!0),f=Ie({search:"",status:"active",type:"all",...Ue()}),y=n.props.totalBalance,_=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),g=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"type",label:"Jenis Akun",field:"type",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right",sortable:!0},{name:"action",align:"right"}],V=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],S=[{value:"all",label:"Semua"},...Ke(window.CONSTANTS.FINANCE_ACCOUNT_TYPES)];he(()=>{E()});const k=B=>Ge({message:`Hapus Akun ${B.name}?`,url:route("admin.finance-account.delete",B.id),fetchItemsCallback:E,loading:d}),E=(B=null)=>{Ae({pagination:_,filter:f,props:B,rows:s,url:route("admin.finance-account.data"),loading:d,tableRef:i})},P=()=>E(),w=B=>W.get(route("admin.finance-account.detail",{id:B.id})),D=Z(()=>u.screen.gt.sm?g:g.filter(B=>B.name==="name"||B.name==="action"));return(B,x)=>{const T=L("i-head"),O=L("authenticated-layout");return b(),h(H,null,[e(T,{title:Xl}),e(O,null,Ye({title:a(()=>[v(r(Xl))]),"right-button":a(()=>[e(A,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:x[0]||(x[0]=N=>o.value=!o.value)},null,8,["icon"]),B.$can("admin.finance-account.add")?(b(),U(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:x[1]||(x[1]=N=>t(W).get(B.route("admin.finance-account.add")))})):$("",!0)]),default:a(()=>[l("div",Id,[e(ie,{class:"full-width q-pa-sm q-mb-xs",flat:"",bordered:"",square:""},{default:a(()=>[l("div",Od,[x[7]||(x[7]=v(" Total Saldo Akun Aktif: ")),l("span",Dd,"Rp. "+r(t(K)(t(y))),1)])]),_:1}),e(Te,{ref_key:"tableRef",ref:i,class:"full-height-table",style:Me({height:t(c)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:_.value,"onUpdate:pagination":x[6]||(x[6]=N=>_.value=N),filter:f.search,loading:d.value,columns:D.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:E,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:N,message:j,filter:I})=>[l("div",Rd,[l("span",null,r(j)+" "+r(I?" with term "+I:""),1)])]),body:a(N=>[e(qe,{props:N,class:ye([N.row.active?"":"bg-red-1","cursor-pointer"]),onClick:j=>w(N.row)},{default:a(()=>[e(F,{key:"name",props:N,class:"wrap-column"},{default:a(()=>[l("div",Ud,r(N.row.name),1),l("div",Ad,[N.row.type=="bank"?(b(),h("div",Md,[e(q,{name:"wallet",class:"inline-icon"}),v(" Rekening "+r(N.row.bank??"-")+" "+r(N.row.number??"-")+" a.n. "+r(N.row.holder??"-"),1)])):$("",!0),N.row.notes?(b(),h("div",jd,[e(q,{name:"notes"}),v(" "+r(N.row.notes),1)])):$("",!0)]),t(u).screen.lt.md?(b(),h("div",Ed,[e(q,{name:"money",class:"inline-icon"}),v(" Rp. "+r(t(K)(N.row.balance)),1)])):$("",!0)]),_:2},1032,["props"]),e(F,{key:"type",props:N},{default:a(()=>[v(r(B.$CONSTANTS.FINANCE_ACCOUNT_TYPES[N.row.type]),1)]),_:2},1032,["props"]),e(F,{key:"balance",props:N},{default:a(()=>[v(r(t(K)(N.row.balance)),1)]),_:2},1032,["props"]),e(F,{key:"action",props:N},{default:a(()=>[l("div",Nd,[B.$can("admin.finance-account.add")||B.$can("admin.finance-account.edit")||B.$can("admin.finance-account.delete")?(b(),U(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:x[5]||(x[5]=Q(()=>{},["stop"]))},{default:a(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(De,{style:{width:"200px"}},{default:a(()=>[B.$can("admin.finance-account.add")?J((b(),U(ee,{key:0,clickable:"",onClick:Q(j=>t(W).get(B.route("admin.finance-account.duplicate",N.row.id)),["stop"])},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"file_copy"})]),_:1}),e(M,null,{default:a(()=>x[8]||(x[8]=[v(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),B.$can("admin.finance-account.edit")?J((b(),U(ee,{key:1,clickable:"",onClick:Q(j=>t(W).get(B.route("admin.finance-account.edit",N.row.id)),["stop"])},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(M,null,{default:a(()=>x[9]||(x[9]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),B.$can("admin.finance-account.delete")?J((b(),U(ee,{key:2,onClick:Q(j=>k(N.row),["stop"]),clickable:""},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(M,null,{default:a(()=>x[10]||(x[10]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):$("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[o.value?{name:"header",fn:a(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:a(()=>[l("div",Pd,[e(se,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:f.type,"onUpdate:modelValue":[x[2]||(x[2]=N=>f.type=N),P],options:S,label:"Jenis Akun",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:f.status,"onUpdate:modelValue":[x[3]||(x[3]=N=>f.status=N),P],options:V,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(le,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:f.search,"onUpdate:modelValue":x[4]||(x[4]=N=>f.search=N),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Fd=Object.freeze(Object.defineProperty({__proto__:null,default:Bd},Symbol.toStringTag,{value:"Module"})),zd={class:"q-gutter-sm"},Ld={class:"col col-md-6 q-pa-xs"},Hd={class:"row"},Yd={class:"detail"},Kd={key:0},Qd={key:1},Wd={key:2},Jd={key:3},Gd={colspan:"3",class:"bg-white"},Zl="Rincian Transaksi",Xd={__name:"Detail",setup(m){const n=ce();return(u,o)=>{const s=L("i-head"),i=L("authenticated-layout");return b(),h(H,null,[e(s,{title:Zl}),e(i,{"show-drawer-button":!1},{"left-button":a(()=>[l("div",zd,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=p=>u.$inertia.get(u.route("admin.finance-transaction.index")))})])]),title:a(()=>[l("span",{class:"text-subtitle2"},r(Zl))]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",Ld,[l("div",Hd,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,null,{default:a(()=>[o[19]||(o[19]=l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Rincian Transaksi Keuangan ",-1)),l("table",Yd,[l("tbody",null,[l("tr",null,[o[1]||(o[1]=l("td",{style:{width:"110px"}},"Kode Trx",-1)),o[2]||(o[2]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,r(t(n).props.data.formatted_id),1)]),l("tr",null,[o[3]||(o[3]=l("td",null,"Tanggal",-1)),o[4]||(o[4]=l("td",null,":",-1)),l("td",null,r(t(be)(t(n).props.data.datetime)),1)]),t(n).props.data.account?(b(),h("tr",Kd,[o[6]||(o[6]=l("td",null,"Akun",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,[v(r(t(n).props.data.account.name)+" ",1),t(n).props.data.account.type==="bank"?(b(),h(H,{key:0},[v(" Rek "+r(t(n).props.data.account.bank)+" an "+r(t(n).props.data.account.holder)+" ",1),o[5]||(o[5]=l("br",null,null,-1)),v(" "+r(t(n).props.data.account.number),1)],64)):$("",!0)])])):$("",!0),t(n).props.data.type?(b(),h("tr",Qd,[o[8]||(o[8]=l("td",null,"Jenis",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,r(u.$CONSTANTS.FINANCE_TRANSACTION_TYPES[t(n).props.data.type]),1)])):$("",!0),l("tr",null,[o[10]||(o[10]=l("td",null,"Jumlah",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,r(t(kt)(t(n).props.data.amount))+" Rp. "+r(t(K)(Math.abs(t(n).props.data.amount))),1)]),l("tr",null,[o[12]||(o[12]=l("td",null,"Catatan",-1)),o[13]||(o[13]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.notes),1)]),t(n).props.data.creator?(b(),h("tr",Wd,[o[14]||(o[14]=l("td",null,"Dibuat",-1)),o[15]||(o[15]=l("td",null,":",-1)),l("td",null,r(t(be)(t(n).props.data.created_at))+" oleh "+r(t(n).props.data.creator.name),1)])):$("",!0),t(n).props.data.updater?(b(),h("tr",Jd,[o[16]||(o[16]=l("td",null,"Diperbarui",-1)),o[17]||(o[17]=l("td",null,":",-1)),l("td",null,r(t(be)(t(n).props.data.updated_at))+" oleh "+r(t(n).props.data.updater.name),1)])):$("",!0),t(n).props.data.image_path?(b(),h(H,{key:4},[o[18]||(o[18]=l("tr",null,[l("td",null,"Lampiran"),l("td",null,":"),l("td")],-1)),l("tr",null,[l("td",Gd,[e(el,{src:`/${t(n).props.data.image_path}`,class:"q-mt-none",style:Me([{"max-width":"500px"},{border:"1px solid #ddd"}])},null,8,["src"])])])],64)):$("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Zd=Object.freeze(Object.defineProperty({__proto__:null,default:Xd},Symbol.toStringTag,{value:"Module"})),eu={class:"q-gutter-sm"},tu={class:"col col-md-6 q-pa-xs"},lu={__name:"Editor",setup(m){var c;const n=ce(),u=(n.props.data.id?"Edit":"Catat")+" Transaksi Keuangan",o=n.props.accounts.map(d=>({label:d.name,value:d.id})),s=[{label:"Pemasukan (+)",value:"income"},{label:"Pengeluaran (-)",value:"expense"},{label:"Transfer",value:"transfer"}],i=je({id:n.props.data.id,account_id:n.props.data.account_id,to_account_id:n.props.data.to_account_id??null,type:n.props.data.type,datetime:new Date(n.props.data.datetime),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount),image_path:((c=n.props.data)==null?void 0:c.image_path)??"",image:null}),p=()=>{Lt(i,{datetime:"YYYY-MM-DD HH:mm:ss"}),Fe({form:i,url:route("admin.finance-transaction.save")})};return(d,f)=>{const y=L("i-head"),_=L("authenticated-layout");return b(),h(H,null,[e(y,{title:u}),e(_,null,{title:a(()=>[v(r(u))]),"left-button":a(()=>[l("div",eu,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:f[0]||(f[0]=g=>d.$inertia.get(d.route("admin.finance-transaction.index")))})])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",tu,[e(Re,{class:"row",onSubmit:Q(p,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[J(l("input",{type:"hidden",name:"id","onUpdate:modelValue":f[1]||(f[1]=g=>t(i).id=g)},null,512),[[Xe,t(i).id]]),e(Ut,{modelValue:t(i).datetime,"onUpdate:modelValue":f[2]||(f[2]=g=>t(i).datetime=g),label:"Waktu",error:!!t(i).errors.datetime,disable:t(i).processing,errorMessage:t(i).errors.datetime,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(se,{autofocus:"",modelValue:t(i).type,"onUpdate:modelValue":f[3]||(f[3]=g=>t(i).type=g),label:"Jenis Transaksi",options:s,"map-options":"","emit-value":"",error:!!t(i).errors.type,disable:t(i).processing,errorMessage:t(i).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(se,{class:"custom-select",modelValue:t(i).account_id,"onUpdate:modelValue":f[4]||(f[4]=g=>t(i).account_id=g),label:t(i).type=="transfer"?"Akun Asal":"Akun",options:t(o),"map-options":"","emit-value":"",errorMessage:t(i).errors.account_id,error:!!t(i).errors.account_id,disable:t(i).processing,"hide-bottom-space":""},null,8,["modelValue","label","options","errorMessage","error","disable"]),t(i).type=="transfer"?(b(),U(se,{key:0,class:"custom-select",modelValue:t(i).to_account_id,"onUpdate:modelValue":f[5]||(f[5]=g=>t(i).to_account_id=g),label:"Akun Tujuan",options:t(o),"map-options":"","emit-value":"",errorMessage:t(i).errors.to_account_id,error:!!t(i).errors.to_account_id,disable:t(i).processing,"hide-bottom-space":""},null,8,["modelValue","options","errorMessage","error","disable"])):$("",!0),e(Ne,{modelValue:t(i).amount,"onUpdate:modelValue":f[6]||(f[6]=g=>t(i).amount=g),label:"Jumlah",lazyRules:"",disable:t(i).processing,error:!!t(i).errors.amount,errorMessage:t(i).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(le,{modelValue:t(i).notes,"onUpdate:modelValue":f[7]||(f[7]=g=>t(i).notes=g),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(i).processing,error:!!t(i).errors.notes,"error-message":t(i).errors.notes,rules:[g=>g&&g.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(_l,{modelValue:t(i).image,"onUpdate:modelValue":f[8]||(f[8]=g=>t(i).image=g),"initial-image-path":t(i).image_path,disabled:t(i).processing,error:!!t(i).errors.image||!!t(i).errors.image_path,"error-message":t(i).errors.image||t(i).errors.image_path},null,8,["modelValue","initial-image-path","disabled","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(A,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(i).processing},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",disable:t(i).processing,onClick:f[9]||(f[9]=g=>t(W).get(d.route("admin.finance-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},au=Object.freeze(Object.defineProperty({__proto__:null,default:lu},Symbol.toStringTag,{value:"Module"})),ou={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},nu={class:"q-pa-xs"},su={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ru={class:"text-grey-8"},iu={class:"text-bold text-grey-8"},du={class:"flex justify-end no-wrap"},ea="Transaksi Kas",uu={__name:"Index",setup(m){const n=ce(),u=$e(),o=C(!1),s=C([]),i=C(!0),p=C(null),c=C(null),d=We(c),f=Bt(),y=Ft(),_=[{label:"Semua",value:"all"},...n.props.accounts.map(j=>({label:j.name,value:j.id}))],g=[{label:"Semua Tahun",value:"all"},{label:`${f}`,value:f},...Pt(f-2,f-1).reverse()],V=[{value:"all",label:"Semua Bulan"},...It()],S=[{value:"all",label:"Semua"},...Ke(window.CONSTANTS.FINANCE_TRANSACTION_TYPES)],k=Ie({search:"",type:"all",account_id:"all",year:f,month:y,...Ue()}),E=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),P=[{name:"id",label:u.screen.lt.md?"Item":"Kode Trx",field:"id",align:"left",sortable:!0},{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"type",label:"Jenis",field:"type",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}];he(()=>{D()});const w=j=>Ge({message:`Penghapusan transaksi keuangan bisa mengakibatkan data yang saling berkaitan di modul lain tidak konsisten. Anda setuju untuk menghapus transaksi ${j.formatted_id}?`,url:route("admin.finance-transaction.delete",j.id),fetchItemsCallback:D,loading:i}),D=(j=null)=>{Ae({pagination:E,filter:k,props:j,rows:s,url:route("admin.finance-transaction.data"),loading:i,tableRef:p})},B=()=>{D()},x=Z(()=>u.screen.gt.sm?P:P.filter(j=>j.name==="id"||j.name==="action"));Be(()=>k.year,j=>{j===null&&(k.month=null)});const T=C(null),O=C(!1),N=j=>{T.value=j,O.value=!0};return(j,I)=>{const G=L("i-head"),de=L("authenticated-layout");return b(),h(H,null,[e(G,{title:ea}),e(de,null,Ye({title:a(()=>[v(r(ea))]),"right-button":a(()=>[e(A,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:I[0]||(I[0]=R=>o.value=!o.value)},null,8,["icon"]),j.$can("admin.finance-transaction.add")?(b(),U(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:I[1]||(I[1]=R=>t(W).get(j.route("admin.finance-transaction.add")))})):$("",!0)]),default:a(()=>[l("div",nu,[e(Te,{ref_key:"tableRef",ref:p,style:Me({height:t(d)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:E.value,"onUpdate:pagination":I[8]||(I[8]=R=>E.value=R),filter:k.search,loading:i.value,columns:x.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:D,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:R,message:z,filter:X})=>[l("div",su,[l("span",null,r(z)+" "+r(X?" with term "+X:""),1)])]),body:a(R=>[e(qe,{props:R,class:"cursor-pointer",onClick:Q(z=>t(W).get(j.route("admin.finance-transaction.detail",{id:R.row.id})),["stop"])},{default:a(()=>[e(F,{key:"id",props:R},{default:a(()=>[l("div",null,[t(u).screen.lt.md?(b(),U(q,{key:0,class:"inline-icon",name:"tag"})):$("",!0),v(" "+r(R.row.formatted_id),1)]),t(u).screen.lt.md?(b(),h(H,{key:0},[l("div",ru,[e(q,{class:"inline-icon",name:"calendar_clock"}),v(" "+r(t(be)(R.row.datetime)),1)]),l("div",iu,[e(q,{name:"wallet",class:"inline-icon"}),v(" "+r(R.row.account.name),1)]),l("div",{class:ye(["text-bold",R.row.amount<0?"text-red":"text-green"])},[e(q,{name:"money",class:"inline-icon"}),v(" "+r(t(kt)(R.row.amount)+"Rp."+t(K)(Math.abs(R.row.amount))),1)],2),R.row.notes?(b(),U(_e,{key:0,icon:"notes",text:R.row.notes,class:"text-grey-8"},null,8,["text"])):$("",!0),e(st,{color:R.row.amount>0?"green":"red"},{default:a(()=>[v(r(R.row.type_label),1)]),_:2},1032,["color"])],64)):$("",!0)]),_:2},1032,["props"]),e(F,{key:"datetime",props:R,class:"wrap-column"},{default:a(()=>[v(r(t(be)(R.row.datetime)),1)]),_:2},1032,["props"]),e(F,{key:"account",props:R},{default:a(()=>{var z;return[v(r((z=R.row.account)==null?void 0:z.name),1)]}),_:2},1032,["props"]),e(F,{key:"type",props:R},{default:a(()=>[v(r(j.$CONSTANTS.FINANCE_TRANSACTION_TYPES[R.row.type]),1)]),_:2},1032,["props"]),e(F,{key:"amount",props:R,style:{"text-align":"right"}},{default:a(()=>[v(r(t(Zt)(R.row.amount)),1)]),_:2},1032,["props"]),e(F,{key:"notes",props:R,class:"wrap-column"},{default:a(()=>[v(r(R.row.notes),1)]),_:2},1032,["props"]),e(F,{key:"action",props:R},{default:a(()=>[l("div",du,[e(A,{icon:"image",color:"primary",dense:"",flat:"",disable:R.row.image_path===null||R.row.image_path==="",onClick:Q(z=>N(R.row.image_path),["stop"])},{default:a(()=>[R.row.image_path!=null?(b(),U(zt,{key:0},{default:a(()=>I[10]||(I[10]=[v(" Lihat Bukti ")])),_:1})):$("",!0)]),_:2},1032,["disable","onClick"]),j.$can("admin.finance-transaction.delete")?(b(),U(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:I[7]||(I[7]=Q(()=>{},["stop"]))},{default:a(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(De,{style:{width:"200px"}},{default:a(()=>[j.$can("admin.finance-transaction.delete")?J((b(),U(ee,{key:0,onClick:Q(z=>w(R.row),["stop"]),clickable:""},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(M,null,{default:a(()=>I[11]||(I[11]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):$("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])]),e(tl,{modelValue:O.value,"onUpdate:modelValue":I[9]||(I[9]=R=>O.value=R),imageUrl:`/${T.value}`},null,8,["modelValue","imageUrl"])]),_:2},[o.value?{name:"header",fn:a(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:c},{default:a(()=>[l("div",ou,[e(se,{modelValue:k.year,"onUpdate:modelValue":[I[2]||(I[2]=R=>k.year=R),B],options:g,label:"Tahun",dense:"",outlined:"",class:"custom-select col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),k.year!="all"?(b(),U(se,{key:0,modelValue:k.month,"onUpdate:modelValue":[I[3]||(I[3]=R=>k.month=R),B],options:V,label:"Bulan",dense:"",outlined:"",class:"custom-select col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:k.year===null},null,8,["modelValue","disable"])):$("",!0),e(se,{modelValue:k.type,"onUpdate:modelValue":[I[4]||(I[4]=R=>k.type=R),B],options:S,label:"Jenis",dense:"",class:"custom-select col-xs-6 col-sm-2","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{modelValue:k.account_id,"onUpdate:modelValue":[I[5]||(I[5]=R=>k.account_id=R),B],label:"Akun",options:_,"map-options":"","emit-value":"",class:"custom-select col-xs-6 col-sm-2",outlined:"",dense:""},null,8,["modelValue"]),e(le,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:k.search,"onUpdate:modelValue":I[6]||(I[6]=R=>k.search=R),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},mu=Object.freeze(Object.defineProperty({__proto__:null,default:uu},Symbol.toStringTag,{value:"Module"})),cu={class:"q-gutter-sm"},pu={class:"col col-md-6 q-pa-xs"},fu={__name:"Editor",setup(m){const n=ce(),u=(n.props.data.id?"Edit":"Tambah")+" Kategori Operasional",o=je({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description}),s=()=>Fe({form:o,url:route("admin.operational-cost-category.save")});return(i,p)=>{const c=L("i-head"),d=L("authenticated-layout");return b(),h(H,null,[e(c,{title:u}),e(d,null,{title:a(()=>[v(r(u))]),"left-button":a(()=>[l("div",cu,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:p[0]||(p[0]=f=>i.$goBack())})])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",pu,[e(Re,{class:"row",onSubmit:Q(s,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[J(l("input",{type:"hidden",name:"id","onUpdate:modelValue":p[1]||(p[1]=f=>t(o).id=f)},null,512),[[Xe,t(o).id]]),e(le,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":p[2]||(p[2]=f=>t(o).name=f),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[f=>f&&f.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(le,{modelValue:t(o).description,"onUpdate:modelValue":p[3]||(p[3]=f=>t(o).description=f),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.description,"error-message":t(o).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(A,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:p[4]||(p[4]=f=>t(o).reset())},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},gu=Object.freeze(Object.defineProperty({__proto__:null,default:fu},Symbol.toStringTag,{value:"Module"})),bu={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},vu={class:"q-pa-xs"},yu={class:"full-width row flex-center text-grey-8 q-gutter-sm"},_u={key:0,class:"text-grey-8"},wu={class:"flex justify-end"},ta="Kategori Biaya Operasional",ku={__name:"Index",setup(m){const n=$e(),u=C(!1),o=C([]),s=C(!0),i=C(null),p=C(null),c=We(p),d=Ie({search:"",...Ue()}),f=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];he(()=>{g()});const _=S=>Ge({message:`Hapus Kategori Biaya ${S.name}?`,url:route("admin.operational-cost-category.delete",S.id),fetchItemsCallback:g,loading:s}),g=(S=null)=>{Ae({pagination:f,filter:d,props:S,rows:o,url:route("admin.operational-cost-category.data"),loading:s,tableRef:i})},V=Z(()=>n.screen.gt.sm?y:y.filter(S=>S.name==="name"||S.name==="action"));return(S,k)=>{const E=L("i-head"),P=L("authenticated-layout");return b(),h(H,null,[e(E,{title:ta}),e(P,null,Ye({title:a(()=>[v(r(ta))]),"right-button":a(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:k[0]||(k[0]=w=>u.value=!u.value)},null,8,["icon"]),S.$can("admin.operational-cost-category.add")?(b(),U(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:k[1]||(k[1]=w=>t(W).get(S.route("admin.operational-cost-category.add")))})):$("",!0)]),default:a(()=>[l("div",vu,[e(Te,{ref_key:"tableRef",ref:i,class:"full-height-table",style:Me({height:t(c)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:f.value,"onUpdate:pagination":k[4]||(k[4]=w=>f.value=w),filter:d.search,loading:s.value,columns:V.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:g,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:w,message:D,filter:B})=>[l("div",yu,[l("span",null,r(D)+" "+r(B?" with term "+B:""),1)])]),body:a(w=>[e(qe,{props:w},{default:a(()=>[e(F,{key:"name",props:w,class:"wrap-column"},{default:a(()=>[v(r(w.row.name)+" ",1),t(n).screen.gt.sm?$("",!0):(b(),h(H,{key:0},[w.row.description?(b(),h("div",_u,[e(q,{name:"description"}),v(" "+r(w.row.description),1)])):$("",!0)],64))]),_:2},1032,["props"]),e(F,{key:"description",props:w,class:"wrap-column"},{default:a(()=>[v(r(w.row.description),1)]),_:2},1032,["props"]),e(F,{key:"action",props:w},{default:a(()=>[l("div",wu,[S.$can("admin.operational-cost-category.add")||S.$can("admin.operational-cost-category.edit")||S.$can("admin.operational-cost-category.delete")?(b(),U(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:k[3]||(k[3]=Q(()=>{},["stop"]))},{default:a(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(De,{style:{width:"200px"}},{default:a(()=>[S.$can("admin.operational-cost-category.add")?J((b(),U(ee,{key:0,clickable:"",onClick:Q(D=>t(W).get(S.route("admin.operational-cost-category.duplicate",w.row.id)),["stop"])},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"file_copy"})]),_:1}),e(M,null,{default:a(()=>k[5]||(k[5]=[v("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),S.$can("admin.operational-cost-category.edit")?J((b(),U(ee,{key:1,clickable:"",onClick:Q(D=>t(W).get(S.route("admin.operational-cost-category.edit",w.row.id)),["stop"])},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(M,null,{default:a(()=>k[6]||(k[6]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),S.$can("admin.operational-cost-category.delete")?J((b(),U(ee,{key:2,onClick:Q(D=>_(w.row),["stop"]),clickable:""},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(M,null,{default:a(()=>k[7]||(k[7]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):$("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[u.value?{name:"header",fn:a(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:a(()=>[l("div",bu,[e(le,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":k[2]||(k[2]=w=>d.search=w),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},$u=Object.freeze(Object.defineProperty({__proto__:null,default:ku},Symbol.toStringTag,{value:"Module"})),hu={class:"q-gutter-sm"},xu={class:"col col-md-6 q-pa-xs"},Su={class:"row"},Vu={class:"detail"},qu={key:0},Cu={key:1},Tu={key:2},Pu={key:3},Iu={colspan:"3",class:"bg-white"},la="Rincian Biaya Operasional",Ou={__name:"Detail",setup(m){const n=ce();return(u,o)=>{const s=L("i-head"),i=L("authenticated-layout");return b(),h(H,null,[e(s,{title:la}),e(i,{"show-drawer-button":!1},{"left-button":a(()=>[l("div",hu,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=p=>u.$inertia.get(u.route("admin.operational-cost.index")))})])]),title:a(()=>[l("span",{class:"text-subtitle2"},r(la))]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",xu,[l("div",Su,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,null,{default:a(()=>[o[21]||(o[21]=l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Rincian Biaya Operasional ",-1)),l("table",Vu,[l("tbody",null,[l("tr",null,[o[1]||(o[1]=l("td",{style:{width:"110px"}},"ID",-1)),o[2]||(o[2]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,r(t(n).props.data.id),1)]),l("tr",null,[o[3]||(o[3]=l("td",null,"Tanggal",-1)),o[4]||(o[4]=l("td",null,":",-1)),l("td",null,r(t(Qt)(t(n).props.data.date)),1)]),t(n).props.data.finance_account?(b(),h("tr",qu,[o[6]||(o[6]=l("td",null,"Akun",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,[v(r(t(n).props.data.finance_account.name)+" ",1),t(n).props.data.finance_account.type==="bank"?(b(),h(H,{key:0},[v(" Rek "+r(t(n).props.data.finance_account.bank)+" an "+r(t(n).props.data.finance_account.holder)+" ",1),o[5]||(o[5]=l("br",null,null,-1)),v(" "+r(t(n).props.data.finance_account.number),1)],64)):$("",!0)])])):$("",!0),t(n).props.data.category?(b(),h("tr",Cu,[o[8]||(o[8]=l("td",null,"Kategori",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.category.name),1)])):$("",!0),l("tr",null,[o[10]||(o[10]=l("td",null,"Deskripsi",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.description),1)]),l("tr",null,[o[12]||(o[12]=l("td",null,"Jumlah",-1)),o[13]||(o[13]=l("td",null,":",-1)),l("td",null,"Rp. "+r(t(K)(t(n).props.data.amount)),1)]),l("tr",null,[o[14]||(o[14]=l("td",null,"Catatan",-1)),o[15]||(o[15]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.notes),1)]),t(n).props.data.creator?(b(),h("tr",Tu,[o[16]||(o[16]=l("td",null,"Dibuat",-1)),o[17]||(o[17]=l("td",null,":",-1)),l("td",null,r(t(be)(t(n).props.data.created_at))+" oleh "+r(t(n).props.data.creator.name),1)])):$("",!0),t(n).props.data.updater?(b(),h("tr",Pu,[o[18]||(o[18]=l("td",null,"Diperbarui",-1)),o[19]||(o[19]=l("td",null,":",-1)),l("td",null,r(t(be)(t(n).props.data.updated_at))+" oleh "+r(t(n).props.data.updater.name),1)])):$("",!0),t(n).props.data.image_path?(b(),h(H,{key:4},[o[20]||(o[20]=l("tr",null,[l("td",null,"Lampiran"),l("td",null,":"),l("td")],-1)),l("tr",null,[l("td",Iu,[e(el,{src:`/${t(n).props.data.image_path}`,class:"q-mt-none",style:Me([{"max-width":"500px"},{border:"1px solid #ddd"}])},null,8,["src"])])])],64)):$("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Du=Object.freeze(Object.defineProperty({__proto__:null,default:Ou},Symbol.toStringTag,{value:"Module"})),Ru={class:"row items-center justify-end"},Uu={__name:"DatePicker",props:{modelValue:{type:[Date,null],required:!1,default:null},label:String,readonly:Boolean,disable:Boolean,error:Boolean,errorMessage:String,rules:{type:Array,default:()=>[]},minDate:{type:[Date,null],default:null},maxDate:{type:[Date,null],default:null},displayFormat:{type:String,default:"DD/MM/YYYY"}},emits:["update:modelValue"],setup(m,{emit:n}){const u=m,o=n,s=C(""),i=C(""),p=f=>{let y=!0;const _=u.minDate?at.formatDate(u.minDate,"YYYY/MM/DD"):null,g=u.maxDate?at.formatDate(u.maxDate,"YYYY/MM/DD"):null;return _&&(y=y&&at.isBetweenDates(f,_,"2999/01/01",{inclusiveFrom:!0})),g&&(y=y&&at.isBetweenDates(f,"1900/01/01",g,{inclusiveTo:!0})),y},c=Z(()=>[f=>!!f||"Tanggal harus diisi",f=>{const y=at.extractDate(f,u.displayFormat);if(!y)return"Format tanggal tidak valid";y.setHours(0,0,0,0);const _=u.minDate?new Date(u.minDate):null;_&&_.setHours(0,0,0,0);const g=u.maxDate?new Date(u.maxDate):null;return g&&g.setHours(0,0,0,0),_&&y<_?`Tanggal tidak boleh kurang dari ${at.formatDate(u.minDate,u.displayFormat)}`:g&&y>g?`Tanggal tidak boleh lebih dari ${at.formatDate(u.maxDate,u.displayFormat)}`:(o("update:modelValue",y),!0)}]);Be(()=>u.modelValue,f=>{f instanceof Date?(i.value=at.formatDate(f,"YYYY/MM/DD"),s.value=at.formatDate(f,u.displayFormat)):(i.value="",s.value="")},{immediate:!0});const d=f=>{const y=f!==null?new Date(f):null;o("update:modelValue",y),s.value=y?at.formatDate(y,u.displayFormat):null};return(f,y)=>(b(),U(le,{modelValue:s.value,"onUpdate:modelValue":y[1]||(y[1]=_=>s.value=_),label:u.label,readonly:u.readonly,disable:u.disable,error:u.error,"error-message":u.errorMessage,mask:u.displayFormat.replaceAll("D","#").replaceAll("M","#").replaceAll("Y","#"),rules:c.value},{append:a(()=>[e(q,{name:"event",class:"cursor-pointer"},{default:a(()=>[e(Go,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Xo,{modelValue:i.value,"onUpdate:modelValue":[y[0]||(y[0]=_=>i.value=_),d],options:p},{default:a(()=>[l("div",Ru,[J(e(A,{label:"Close",color:"primary",flat:""},null,512),[[re]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label","readonly","disable","error","error-message","mask","rules"]))}},La=ft(Uu,[["__scopeId","data-v-38faf9a9"]]);function Ha(m,n=!1){const u=m.map(p=>({value:p.id,label:p.name})),o=n?[{value:"all",label:"Semua"},...u]:u,s=C([...o]);return{filteredCostCategories:s,filterCostCategory:(p,c)=>{const d=p.toLowerCase();c(()=>{s.value=o.filter(f=>f.label.toLowerCase().includes(d))})},costCategoryOptions:o}}const Au={class:"q-gutter-sm"},Mu={class:"col col-md-6 q-pa-xs"},ju={__name:"Editor",setup(m){var _;const n=ce(),u=(n.props.data.id?"Edit":"Tambah")+" Biaya Operasional",{costCategoryOptions:o}=Ha(n.props.categories),s=n.props.finance_accounts.map(g=>({label:g.name,value:g.id})),i=C(o),p=C([...i.value]),c=je({id:n.props.data.id,finance_account_id:n.props.data.finance_account_id??null,category_id:n.props.data.category_id??null,date:new Date(n.props.data.date),description:n.props.data.description,notes:n.props.data.notes,amount:parseFloat(n.props.data.amount),image_path:((_=n.props.data)==null?void 0:_.image_path)??null,image:null}),d=()=>{Lt(c,{date:"YYYY-MM-DD"}),Fe({form:c,url:route("admin.operational-cost.save")})},f=(g,V)=>{V(()=>{p.value=i.value.filter(S=>S.label.toLowerCase().includes(g.toLowerCase()))})},y=()=>{c.image_path=null};return(g,V)=>{const S=L("i-head"),k=L("authenticated-layout");return b(),h(H,null,[e(S,{title:u}),e(k,null,{title:a(()=>[v(r(u))]),"left-button":a(()=>[l("div",Au,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:V[0]||(V[0]=E=>g.$inertia.get(g.route("admin.operational-cost.index")))})])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",Mu,[e(Re,{class:"row",onSubmit:Q(d,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[J(l("input",{type:"hidden",name:"id","onUpdate:modelValue":V[1]||(V[1]=E=>t(c).id=E)},null,512),[[Xe,t(c).id]]),e(se,{autofocus:"",modelValue:t(c).category_id,"onUpdate:modelValue":V[2]||(V[2]=E=>t(c).category_id=E),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:p.value,"map-options":"","emit-value":"",onFilter:f,error:!!t(c).errors.category_id,disable:t(c).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(ee,null,{default:a(()=>[e(M,null,{default:a(()=>V[10]||(V[10]=[v("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","error","disable"]),e(La,{modelValue:t(c).date,"onUpdate:modelValue":V[3]||(V[3]=E=>t(c).date=E),label:"Tanggal",error:!!t(c).errors.date,disable:t(c).processing,"hide-bottom-space":""},null,8,["modelValue","error","disable"]),e(le,{modelValue:t(c).description,"onUpdate:modelValue":V[4]||(V[4]=E=>t(c).description=E),modelModifiers:{trim:!0},label:"Deskripsi","lazy-rules":"",error:!!t(c).errors.description,disable:t(c).processing,"error-message":t(c).errors.description,rules:[E=>E&&E.length>0||"Deskripsi harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Ne,{modelValue:t(c).amount,"onUpdate:modelValue":V[5]||(V[5]=E=>t(c).amount=E),label:"Jumlah",lazyRules:"",disable:t(c).processing,error:!!t(c).errors.amount,errorMessage:t(c).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(se,{class:"custom-select",modelValue:t(c).finance_account_id,"onUpdate:modelValue":V[6]||(V[6]=E=>t(c).finance_account_id=E),label:"Sumber Dana",options:t(s),"map-options":"","emit-value":"",clearable:"",errorMessage:t(c).errors.finance_account_id,error:!!t(c).errors.finance_account_id,disable:t(c).processing,"hide-bottom-space":""},null,8,["modelValue","options","errorMessage","error","disable"]),e(le,{modelValue:t(c).notes,"onUpdate:modelValue":V[7]||(V[7]=E=>t(c).notes=E),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(c).processing,error:!!t(c).errors.notes,"error-message":t(c).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(_l,{modelValue:t(c).image,"onUpdate:modelValue":V[8]||(V[8]=E=>t(c).image=E),"initial-image-path":t(c).image_path,disabled:t(c).processing,error:!!t(c).errors.image||!!t(c).errors.image_path,"error-message":t(c).errors.image||t(c).errors.image_path,onImageCleared:y},null,8,["modelValue","initial-image-path","disabled","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(A,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(c).processing},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",disable:t(c).processing,onClick:V[9]||(V[9]=E=>t(W).get(g.route("admin.operational-cost.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Eu=Object.freeze(Object.defineProperty({__proto__:null,default:ju},Symbol.toStringTag,{value:"Module"})),Nu={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Bu={class:"q-pa-xs"},Fu={class:"full-width row flex-center text-grey-8 q-gutter-sm"},zu={key:0},Lu={key:1},Hu={key:0},Yu={class:"flex justify-end no-wrap"},aa="Biaya Operasional",Ku={__name:"Index",setup(m){const n=ce(),u=$e(),o=C(!1),s=C(null),i=C(null),p=We(i),c=C(null),d=C(!1),f=C([]),y=C(!0),_=new Date().getFullYear(),g=new Date().getMonth()+1,V=[{label:"Semua Tahun",value:null},{label:`${_}`,value:_},...Pt(_-2,_-1).reverse()],S=[{value:null,label:"Semua Bulan"},...It()],{costCategoryOptions:k}=Ha(n.props.categories),E=[{value:"all",label:"Semua"},{value:null,label:"Tanpa Kategori"},...k],{accountOptions:P}=Zo(n.props.finance_accounts),w=[{value:"all",label:"Semua"},{value:null,label:"Tidak Diset"},...P],D=Ie({search:"",category_id:"all",year:_,month:g,...Ue()}),B=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),x=[{name:"id",label:u.screen.lt.md?"Item":"ID",field:"id",align:"left",sortable:!0},{name:"date",label:"Tanggal",field:"date",align:"left",sortable:!0},{name:"account_id",label:"Akun",field:"account_id",align:"left",sortable:!0},{name:"category_id",label:"Kategori",field:"category_id",align:"left",sortable:!0},{name:"description",label:"Deskripsi",field:"description",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right",sortable:!0},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}];he(()=>{O()});const T=G=>Ge({message:`Hapus Biaya ${G.description}?`,url:route("admin.operational-cost.delete",G.id),fetchItemsCallback:O,loading:y}),O=(G=null)=>{Ae({pagination:B,filter:D,props:G,rows:f,url:route("admin.operational-cost.data"),loading:y,tableRef:s})},N=()=>{O()},j=Z(()=>u.screen.gt.sm?x:x.filter(G=>G.name==="id"||G.name==="action"));Be(()=>D.year,G=>{G===null&&(D.month=null)});const I=G=>{c.value=G,d.value=!0};return(G,de)=>{const R=L("i-head"),z=L("authenticated-layout");return b(),h(H,null,[e(R,{title:aa}),e(z,null,Ye({title:a(()=>[v(r(aa))]),"right-button":a(()=>[e(A,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:de[0]||(de[0]=X=>o.value=!o.value)},null,8,["icon"]),G.$can("admin.operational-cost.add")?(b(),U(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:de[1]||(de[1]=X=>t(W).get(G.route("admin.operational-cost.add")))})):$("",!0)]),default:a(()=>[l("div",Bu,[e(Te,{ref_key:"tableRef",ref:s,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:B.value,"onUpdate:pagination":de[8]||(de[8]=X=>B.value=X),filter:D.search,loading:y.value,columns:j.value,rows:f.value,"rows-per-page-options":[10,25,50],style:Me({height:t(p)}),onRequest:O,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:X,message:Ce,filter:ae})=>[l("div",Fu,[l("span",null,r(Ce)+" "+r(ae?" with term "+ae:""),1)])]),body:a(X=>[e(qe,{props:X,class:"cursor-pointer",onClick:Q(Ce=>t(W).get(G.route("admin.operational-cost.detail",{id:X.row.id})),["stop"])},{default:a(()=>[e(F,{key:"id",props:X,class:"wrap-column"},{default:a(()=>[t(u).screen.gt.sm?$("",!0):(b(),h(H,{key:0},[v(" ID: ")],64)),v(" "+r(X.row.id)+" ",1),t(u).screen.gt.sm?$("",!0):(b(),h(H,{key:1},[l("div",null,[e(q,{name:"calendar_clock",class:"inline-icon"}),v(" "+r(t(Qt)(X.row.date)),1)]),X.row.finance_account?(b(),h("div",zu,[e(q,{name:"wallet",class:"inline-icon"}),v(" "+r(X.row.finance_account.name),1)])):$("",!0),X.row.category?(b(),h("div",Lu,[e(q,{name:"category",class:"inline-icon"}),v(" "+r(X.row.category.name),1)])):$("",!0),e(_e,{icon:"description",text:X.row.description,class:"inline-icon"},null,8,["text"]),l("div",null,[e(q,{name:"money",class:"inline-icon"}),v(" Rp. "+r(t(K)(X.row.amount)),1)]),e(_e,{icon:"notes",text:X.row.notes,class:"inline-icon text-grey-9"},null,8,["text"])],64))]),_:2},1032,["props"]),e(F,{key:"date",props:X,class:"wrap-column"},{default:a(()=>[v(r(t(Qt)(X.row.date)),1)]),_:2},1032,["props"]),e(F,{key:"account_id",props:X,class:"wrap-column"},{default:a(()=>[v(r(X.row.finance_account?X.row.finance_account.name:""),1)]),_:2},1032,["props"]),e(F,{key:"category_id",props:X},{default:a(()=>[X.row.category?(b(),h("div",Hu,r(X.row.category.name),1)):$("",!0)]),_:2},1032,["props"]),e(F,{key:"description",props:X},{default:a(()=>[e(_e,{text:X.row.description,"max-length":50},null,8,["text"])]),_:2},1032,["props"]),e(F,{key:"amount",props:X},{default:a(()=>[v(r(t(K)(X.row.amount)),1)]),_:2},1032,["props"]),e(F,{key:"notes",props:X},{default:a(()=>[e(_e,{text:X.row.notes,"max-length":50},null,8,["text"])]),_:2},1032,["props"]),e(F,{key:"action",props:X},{default:a(()=>[l("div",Yu,[e(A,{icon:"image",color:"primary",dense:"",flat:"",disable:X.row.image_path===null||X.row.image_path==="",onClick:Q(Ce=>I(X.row.image_path),["stop"])},{default:a(()=>[X.row.image_path!=null?(b(),U(zt,{key:0},{default:a(()=>de[10]||(de[10]=[v(" Lihat Bukti ")])),_:1})):$("",!0)]),_:2},1032,["disable","onClick"]),G.$can("admin.operational-cost.add")||G.$can("admin.operational-cost.edit")||G.$can("admin.operational-cost.delete")?(b(),U(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:de[7]||(de[7]=Q(()=>{},["stop"]))},{default:a(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(De,{style:{width:"200px"}},{default:a(()=>[G.$can("admin.operational-cost.add")?J((b(),U(ee,{key:0,clickable:"",onClick:Q(Ce=>t(W).get(G.route("admin.operational-cost.duplicate",X.row.id)),["stop"])},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"file_copy"})]),_:1}),e(M,null,{default:a(()=>de[11]||(de[11]=[v(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),G.$can("admin.operational-cost.edit")?J((b(),U(ee,{key:1,clickable:"",onClick:Q(Ce=>t(W).get(G.route("admin.operational-cost.edit",X.row.id)),["stop"])},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(M,null,{default:a(()=>de[12]||(de[12]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),G.$can("admin.operational-cost.delete")?J((b(),U(ee,{key:2,onClick:Q(Ce=>T(X.row),["stop"]),clickable:""},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(M,null,{default:a(()=>de[13]||(de[13]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):$("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])]),e(tl,{modelValue:d.value,"onUpdate:modelValue":de[9]||(de[9]=X=>d.value=X),imageUrl:`/${c.value}`},null,8,["modelValue","imageUrl"])]),_:2},[o.value?{name:"header",fn:a(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:i},{default:a(()=>[l("div",Nu,[e(se,{modelValue:D.year,"onUpdate:modelValue":[de[2]||(de[2]=X=>D.year=X),N],options:V,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(se,{modelValue:D.month,"onUpdate:modelValue":[de[3]||(de[3]=X=>D.month=X),N],options:S,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:D.year===null},null,8,["modelValue","disable"]),e(se,{modelValue:D.category_id,"onUpdate:modelValue":[de[4]||(de[4]=X=>D.category_id=X),N],options:E,label:"Kategori",dense:"",class:"custom-select col-xs-12 col-sm-3","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{modelValue:D.finance_account_id,"onUpdate:modelValue":[de[5]||(de[5]=X=>D.finance_account_id=X),N],options:w,label:"Akun Kas",dense:"",class:"custom-select col-xs-12 col-sm-3","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(le,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:D.search,"onUpdate:modelValue":de[6]||(de[6]=X=>D.search=X),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Qu=Object.freeze(Object.defineProperty({__proto__:null,default:Ku},Symbol.toStringTag,{value:"Module"})),Wu={class:"q-gutter-sm"},Ju={class:"col col-md-6 q-pa-xs"},Gu={__name:"Editor",setup(m){const n=$e(),u=ce(),o=(u.props.data.id?"Edit":"Tambah")+" Kategori Produk",s=je({id:u.props.data.id,name:u.props.data.name,description:u.props.data.description}),i=()=>Fe({form:s,url:route("admin.product-category.save")});return(p,c)=>{const d=L("i-head"),f=L("authenticated-layout");return b(),h(H,null,[e(d,{title:o}),e(f,{"show-drawer-button":!t(n).screen.lt.md},Ye({title:a(()=>[v(r(o))]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",Ju,[e(Re,{class:"row",onSubmit:Q(i,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[J(l("input",{type:"hidden",name:"id","onUpdate:modelValue":c[1]||(c[1]=y=>t(s).id=y)},null,512),[[Xe,t(s).id]]),e(le,{autofocus:"",modelValue:t(s).name,"onUpdate:modelValue":c[2]||(c[2]=y=>t(s).name=y),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!t(s).errors.name,disable:t(s).processing,"error-message":t(s).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(le,{modelValue:t(s).description,"onUpdate:modelValue":c[3]||(c[3]=y=>t(s).description=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.description,"error-message":t(s).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(A,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing,loading:t(s).processing},null,8,["disable","loading"]),e(A,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:c[4]||(c[4]=y=>t(s).reset())},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:2},[t(n).screen.lt.md?{name:"left-button",fn:a(()=>[l("div",Wu,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=y=>p.$goBack())})])]),key:"0"}:void 0]),1032,["show-drawer-button"])],64)}}},Xu=Object.freeze(Object.defineProperty({__proto__:null,default:Gu},Symbol.toStringTag,{value:"Module"})),Zu={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},em={class:"q-pa-xs"},tm={class:"full-width row flex-center text-grey-8 q-gutter-sm"},lm={key:0,class:"text-grey-8"},am={class:"flex justify-end"},oa="Kategori Produk",om={__name:"Index",setup(m){const n=$e(),u=C(!1),o=C([]),s=C(!0),i=C(null),p=C(null),c=We(p),d=Ie({search:"",...Ue()}),f=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];he(()=>{g()});const _=S=>Ge({message:`Hapus Kategori ${S.name}?`,url:route("admin.product-category.delete",S.id),fetchItemsCallback:g,loading:s}),g=(S=null)=>{Ae({pagination:f,filter:d,props:S,rows:o,url:route("admin.product-category.data"),loading:s,tableRef:i})},V=Z(()=>n.screen.gt.sm?y:y.filter(S=>S.name==="name"||S.name==="action"));return(S,k)=>{const E=L("i-head"),P=L("authenticated-layout");return b(),h(H,null,[e(E,{title:oa}),e(P,null,Ye({title:a(()=>[v(r(oa))]),"right-button":a(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:k[0]||(k[0]=w=>u.value=!u.value)},null,8,["icon"]),S.$can("admin.product-category.add")?(b(),U(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:k[1]||(k[1]=w=>t(W).get(S.route("admin.product-category.add")))})):$("",!0)]),default:a(()=>[l("div",em,[e(Te,{ref_key:"tableRef",ref:i,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:f.value,"onUpdate:pagination":k[4]||(k[4]=w=>f.value=w),filter:d.search,loading:s.value,columns:V.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Me({height:t(c)}),onRequest:g,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:w,message:D,filter:B})=>[l("div",tm,[l("span",null,r(D)+" "+r(B?" with term "+B:""),1)])]),body:a(w=>[e(qe,{props:w},{default:a(()=>[e(F,{key:"name",props:w,class:"wrap-column"},{default:a(()=>[v(r(w.row.name)+" ",1),t(n).screen.gt.sm?$("",!0):(b(),h(H,{key:0},[w.row.description?(b(),h("div",lm,[e(q,{name:"description"}),v(" "+r(w.row.description),1)])):$("",!0)],64))]),_:2},1032,["props"]),e(F,{key:"description",props:w,class:"wrap-column"},{default:a(()=>[v(r(w.row.description),1)]),_:2},1032,["props"]),e(F,{key:"action",props:w},{default:a(()=>[l("div",am,[S.$can("admin.product-category.add")||S.$can("admin.product-category.edit")||S.$can("admin.product-category.delete")?(b(),U(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:k[3]||(k[3]=Q(()=>{},["stop"]))},{default:a(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(De,{style:{width:"200px"}},{default:a(()=>[S.$can("admin.product-category.add")?J((b(),U(ee,{key:0,clickable:"",onClick:Q(D=>t(W).get(S.route("admin.product-category.duplicate",w.row.id)),["stop"])},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"file_copy"})]),_:1}),e(M,null,{default:a(()=>k[5]||(k[5]=[v("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),S.$can("admin.product-category.edit")?J((b(),U(ee,{key:1,clickable:"",onClick:Q(D=>t(W).get(S.route("admin.product-category.edit",w.row.id)),["stop"])},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(M,null,{default:a(()=>k[6]||(k[6]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),S.$can("admin.product-category.delete")?J((b(),U(ee,{key:2,onClick:Q(D=>_(w.row),["stop"]),clickable:""},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(M,null,{default:a(()=>k[7]||(k[7]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):$("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[u.value?{name:"header",fn:a(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:a(()=>[l("div",Zu,[e(le,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":k[2]||(k[2]=w=>d.search=w),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},nm=Object.freeze(Object.defineProperty({__proto__:null,default:om},Symbol.toStringTag,{value:"Module"})),sm={class:"detail"},rm={key:0},im={key:1},dm={key:2},um={class:"detail"},mm={class:"detail"},cm={key:0},pm={key:0},fm={key:0},gm={key:0},bm={class:"detail"},Ya={__name:"MainInfoTab",props:{product:{type:Object,required:!0}},setup(m){const n=m;$e();const u=o=>`${o>0?K((o-n.product.cost)/o*100,2):0}%`;return(o,s)=>{const i=L("i-link");return b(),h("div",null,[s[42]||(s[42]=l("div",{class:"text-subtitle1 text-bold text-grey-9"},"Info Produk",-1)),l("table",sm,[l("tbody",null,[l("tr",null,[s[0]||(s[0]=l("td",{style:{width:"120px"}},"ID",-1)),s[1]||(s[1]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,r(m.product.formatted_id),1)]),l("tr",null,[s[2]||(s[2]=l("td",null,"Nama Produk",-1)),s[3]||(s[3]=l("td",null,":",-1)),l("td",null,r(m.product.name),1)]),l("tr",null,[s[4]||(s[4]=l("td",null,"Barcode",-1)),s[5]||(s[5]=l("td",null,":",-1)),l("td",null,r(m.product.barcode),1)]),l("tr",null,[s[6]||(s[6]=l("td",null,"Jenis Produk",-1)),s[7]||(s[7]=l("td",null,":",-1)),l("td",null,r(o.$CONSTANTS.PRODUCT_TYPES[m.product.type]),1)]),l("tr",null,[s[8]||(s[8]=l("td",null,"Kategori",-1)),s[9]||(s[9]=l("td",null,":",-1)),l("td",null,r(m.product.category?m.product.category.name:"--Tidak memiliki kategori--"),1)]),o.$can("admin.product:view-supplier")?(b(),h("tr",rm,[s[10]||(s[10]=l("td",null,"Supplier",-1)),s[11]||(s[11]=l("td",null,":",-1)),l("td",null,[m.product.supplier?(b(),U(i,{key:0,href:o.route("admin.supplier.detail",{id:m.product.supplier.id})},{default:a(()=>[v(r(m.product.supplier.name),1)]),_:1},8,["href"])):(b(),h(H,{key:1},[v(r("--Tidak memiliki supplier--"))],64))])])):$("",!0),l("tr",null,[s[12]||(s[12]=l("td",null,"Status",-1)),s[13]||(s[13]=l("td",null,":",-1)),l("td",null,r(m.product.active?"Aktif":"Tidak Aktif"),1)]),m.product.created_at?(b(),h("tr",im,[s[15]||(s[15]=l("td",null,"Dibuat Oleh",-1)),s[16]||(s[16]=l("td",null,":",-1)),l("td",null,[m.product.creator?(b(),h(H,{key:0},[e(i,{href:o.route("admin.user.detail",{id:m.product.creator})},{default:a(()=>[v(r(m.product.creator.username),1)]),_:1},8,["href"]),s[14]||(s[14]=v(" - "))],64)):$("",!0),v(" "+r(t(be)(m.product.created_at)),1)])])):$("",!0),m.product.updater?(b(),h("tr",dm,[s[18]||(s[18]=l("td",null,"Diperbarui oleh",-1)),s[19]||(s[19]=l("td",null,":",-1)),l("td",null,[m.product.updater?(b(),h(H,{key:0},[e(i,{href:o.route("admin.user.detail",{id:m.product.updater})},{default:a(()=>[v(r(m.product.updater.username),1)]),_:1},8,["href"]),s[17]||(s[17]=v(" - "))],64)):$("",!0),v(" "+r(t(be)(m.product.updated_at)),1)])])):$("",!0)])]),s[43]||(s[43]=l("div",{class:"text-subtitle1 q-pt-lg text-bold text-grey-9"}," Info Inventori ",-1)),l("table",um,[l("tbody",null,[l("tr",null,[s[20]||(s[20]=l("td",{style:{width:"120px"}},"Stok",-1)),s[21]||(s[21]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,r(t(K)(m.product.stock))+" "+r(m.product.uom),1)]),l("tr",null,[s[22]||(s[22]=l("td",null,"Stok Minimum",-1)),s[23]||(s[23]=l("td",null,":",-1)),l("td",null,r(t(K)(m.product.min_stock))+" "+r(m.product.uom),1)]),l("tr",null,[s[24]||(s[24]=l("td",null,"Stok Maksimum",-1)),s[25]||(s[25]=l("td",null,":",-1)),l("td",null,r(t(K)(m.product.max_stock))+" "+r(m.product.uom),1)]),l("tr",null,[s[26]||(s[26]=l("td",null,"Barcode",-1)),s[27]||(s[27]=l("td",null,":",-1)),l("td",null,r(m.product.barcode),1)])])]),s[44]||(s[44]=l("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"},"Info Harga",-1)),l("table",mm,[l("tbody",null,[l("tr",null,[s[28]||(s[28]=l("td",null,"Opsi Harga",-1)),s[29]||(s[29]=l("td",null,":",-1)),l("td",null,r(m.product.price_editable?"Dapat":"Tidak dapat")+" diubah saat penjualan. ",1)]),o.$can("admin.product:view-cost")?(b(),h("tr",cm,[s[30]||(s[30]=l("td",{style:{width:"120px"}},"Harga Beli",-1)),s[31]||(s[31]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,"Rp. "+r(t(K)(m.product.cost)),1)])):$("",!0),l("tr",null,[s[32]||(s[32]=l("td",null,"Harga Eceran",-1)),s[33]||(s[33]=l("td",null,":",-1)),l("td",null,[v(" Rp. "+r(t(K)(m.product.price))+" ",1),o.$can("admin.product:view-cost")?(b(),h("span",pm," ("+r(u(m.product.price))+") ",1)):$("",!0)])]),l("tr",null,[s[34]||(s[34]=l("td",null,"Harga Partai",-1)),s[35]||(s[35]=l("td",null,":",-1)),l("td",null,[v(" Rp. "+r(t(K)(m.product.price_2))+" ",1),o.$can("admin.product:view-cost")?(b(),h("span",fm," ("+r(u(m.product.price_2))+") ",1)):$("",!0)])]),l("tr",null,[s[36]||(s[36]=l("td",null,"Harga Grosir",-1)),s[37]||(s[37]=l("td",null,":",-1)),l("td",null,[v(" Rp. "+r(t(K)(m.product.price_3))+" ",1),o.$can("admin.product:view-cost")?(b(),h("span",gm," ("+r(u(m.product.price_3))+") ",1)):$("",!0)])])])]),s[45]||(s[45]=l("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Deskripsi & Catatan ",-1)),l("table",bm,[l("tbody",null,[l("tr",null,[s[38]||(s[38]=l("td",{style:{width:"120px"}},"Deskirpsi",-1)),s[39]||(s[39]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,r(m.product.description),1)]),l("tr",null,[s[40]||(s[40]=l("td",null,"Catatan",-1)),s[41]||(s[41]=l("td",null,":",-1)),l("td",null,r(m.product.notes),1)])])])])}}},vm=Object.freeze(Object.defineProperty({__proto__:null,default:Ya},Symbol.toStringTag,{value:"Module"})),ym={class:"full-width row flex-center text-grey-8 q-gutter-sm"},_m={key:0},Ka={__name:"StockHistoryTab",props:{productId:{type:[String,Number],required:!0}},setup(m){const n=m,u=$e(),o=C([]),s=C(!0),i=Ie({...Ue()}),p=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"created_at",descending:!0});let c=[{name:"id",label:u.screen.lt.sm?"Item":"#",field:"id",align:"left",sortable:!0},{name:"created_at",label:"Waktu",field:"created_at",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"left",sortable:!0},{name:"quantity_before",label:"Qty Awal",field:"quantity_before",align:"right"},{name:"quantity_after",label:"Qty Akhir",field:"quantity_after",align:"right"},{name:"quantity",label:"Selisih",field:"quantity",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}];he(()=>{d()});const d=(y=null)=>Ae({pagination:p,filter:i,props:y,rows:o,url:route("admin.stock-movement.data",{product_id:n.productId}),loading:s}),f=Z(()=>u.screen.gt.sm?c:c.filter(y=>y.name==="id"||y.name==="quantity"));return(y,_)=>(b(),U(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:p.value,"onUpdate:pagination":_[0]||(_[0]=g=>p.value=g),filter:i.search,loading:s.value,columns:f.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:d,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:g,message:V,filter:S})=>[l("div",ym,[l("span",null,r(V)+" "+r(S?" with term "+S:""),1)])]),body:a(g=>[e(qe,{props:g},{default:a(()=>[e(F,{key:"id",props:g},{default:a(()=>[l("div",null,[t(u).screen.lt.sm?(b(),h(H,{key:0},[l("div",null,[e(st,null,{default:a(()=>[v(r(y.$CONSTANTS.STOCK_MOVEMENT_REF_TYPES[g.row.ref_type]),1)]),_:2},1024)]),e(q,{class:"inline-icon",name:"tag"})],64)):$("",!0),v(" "+r(g.row.formatted_id),1)]),t(u).screen.lt.sm?(b(),h(H,{key:0},[l("div",null,[e(q,{name:"calendar_clock",class:"inline-icon"}),v(" "+r(t(be)(g.row.created_at)),1)]),l("div",{class:ye(g.row.quantity>0?"text-positive":"text-negative")},[e(q,{class:"inline-icon",name:"compare_arrows"}),v(" "+r(t(K)(g.row.quantity_before))+" "+r(g.row.uom)+"  "+r(t(K)(g.row.quantity_after))+" "+r(g.row.uom),1)],2),e(_e,{text:g.row.notes,icon:"notes",class:"text-grey-8"},null,8,["text"])],64)):$("",!0)]),_:2},1032,["props"]),e(F,{key:"created_at",props:g},{default:a(()=>[v(r(t(be)(g.row.created_at)),1)]),_:2},1032,["props"]),e(F,{key:"type",props:g},{default:a(()=>[v(r(y.$CONSTANTS.STOCK_MOVEMENT_REF_TYPES[g.row.ref_type])+" ",1),g.row.ref?(b(),h("span",_m,r(g.row.ref),1)):$("",!0)]),_:2},1032,["props"]),e(F,{key:"quantity_before",props:g},{default:a(()=>[v(r(t(K)(g.row.quantity_before))+" "+r(g.row.uom),1)]),_:2},1032,["props"]),e(F,{key:"quantity_after",props:g},{default:a(()=>[v(r(t(K)(g.row.quantity_after))+" "+r(g.row.uom),1)]),_:2},1032,["props"]),e(F,{key:"quantity",props:g,class:ye(g.row.quantity>0?"text-positive":"text-negative")},{default:a(()=>[v(r(t(K)(g.row.quantity))+" "+r(g.row.uom),1)]),_:2},1032,["props","class"]),e(F,{key:"notes",props:g},{default:a(()=>[e(_e,{text:g.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},wm=Object.freeze(Object.defineProperty({__proto__:null,default:Ka},Symbol.toStringTag,{value:"Module"})),km={class:"q-gutter-sm"},$m={class:"q-gutter-sm"},hm={class:"row justify-center"},xm={class:"col col-lg-6 q-pa-xs"},Sm={class:"row"},Vm={__name:"Detail",setup(m){const n=ce(),u=`Rincian Produk #${n.props.data.id}`,o=C("main");return(s,i)=>{const p=L("i-head"),c=L("authenticated-layout");return b(),h(H,null,[e(p,{title:u}),e(c,{"show-drawer-button":!1},{title:a(()=>[v(r(u))]),"left-button":a(()=>[l("div",km,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=d=>s.$goBack())})])]),"right-button":a(()=>[l("div",$m,[s.$can("admin.product.edit")?(b(),U(A,{key:0,icon:"edit",size:"sm",dense:"",flat:"",rounded:"",color:"grey",onClick:i[1]||(i[1]=d=>t(W).get(s.route("admin.product.edit",{id:t(n).props.data.id})))})):$("",!0)])]),default:a(()=>[l("div",hm,[l("div",xm,[l("div",Sm,[e(ie,{square:"",flat:"",bordered:"",class:"q-card col"},{default:a(()=>[e(ol,{modelValue:o.value,"onUpdate:modelValue":i[2]||(i[2]=d=>o.value=d),align:"left"},{default:a(()=>[e(ct,{name:"main",label:"Info Utama"}),e(ct,{name:"history",label:"Riwayat Stok"})]),_:1},8,["modelValue"]),e(nl,{modelValue:o.value,"onUpdate:modelValue":i[3]||(i[3]=d=>o.value=d)},{default:a(()=>[e(pt,{name:"main"},{default:a(()=>[e(Ya,{product:t(n).props.data},null,8,["product"])]),_:1}),e(pt,{name:"history",class:"q-pa-xs"},{default:a(()=>[e(Ka,{"product-id":t(n).props.data.id},null,8,["product-id"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])])]),_:1})],64)}}},qm=Object.freeze(Object.defineProperty({__proto__:null,default:Vm},Symbol.toStringTag,{value:"Module"}));function Qa(m,n=!1){const u=m.map(p=>({value:p.id,label:p.name})),o=n?[{value:"all",label:"Semua"},...u]:u,s=C([...o]);return{filteredCategories:s,filterCategories:(p,c)=>{const d=p.toLowerCase();c(()=>{s.value=o.filter(f=>f.label.toLowerCase().includes(d))})},categories:o}}function $l(m,n=!1){const u=m.map(p=>({value:p.id,label:"#"+p.id+" - "+p.name})),o=n?[{value:"all",label:"Semua"},...u]:u,s=C([...o]);return{filteredSuppliers:s,filterSupplierFn:(p,c)=>{c(()=>{s.value=o.filter(d=>d.label.toLowerCase().includes(p.toLowerCase()))})},suppliers:o}}const Cm={class:"q-gutter-sm"},Tm={class:"col col-md-6 q-pa-xs"},Pm={__name:"Editor",setup(m){const n=ce(),u=(n.props.data.id?"Edit":"Tambah")+" Produk",o=Ke(window.CONSTANTS.PRODUCT_TYPES),s=je({id:n.props.data.id,category_id:n.props.data.category_id,supplier_id:n.props.data.supplier_id,type:n.props.data.type||"",name:n.props.data.name||"",barcode:n.props.data.barcode||"",description:n.props.data.description||"",stock:parseFloat(n.props.data.stock)||0,min_stock:parseFloat(n.props.data.min_stock)||0,max_stock:parseFloat(n.props.data.max_stock)||0,uom:n.props.data.uom||"",cost:parseFloat(n.props.data.cost)||0,price:parseFloat(n.props.data.price)||0,price_2:parseFloat(n.props.data.price_2)||0,price_3:parseFloat(n.props.data.price_3)||0,active:!!n.props.data.active,price_editable:!!n.props.data.price_editable,notes:n.props.data.notes||""}),i=()=>Fe({form:s,url:route("admin.product.save")}),{filteredCategories:p,filterCategories:c}=Qa(n.props.categories),{filteredSuppliers:d,filterSuppliers:f}=$l(n.props.suppliers),y=Z(()=>s.price>0?(s.price-s.cost)/s.price*100:0);return(_,g)=>{const V=L("i-head"),S=L("authenticated-layout");return b(),h(H,null,[e(V,{title:u}),e(S,{"show-drawer-button":!1},{title:a(()=>[v(r(u))]),"left-button":a(()=>[l("div",Cm,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:g[0]||(g[0]=k=>_.$goBack())})])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",Tm,[e(Re,{class:"row",onSubmit:Q(i,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[J(l("input",{type:"hidden",name:"id","onUpdate:modelValue":g[1]||(g[1]=k=>t(s).id=k)},null,512),[[Xe,t(s).id]]),g[23]||(g[23]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Utama",-1)),e(se,{autofocus:"",modelValue:t(s).type,"onUpdate:modelValue":g[2]||(g[2]=k=>t(s).type=k),class:"custom-select",options:t(o),label:"Jenis","map-options":"","emit-value":"","hide-bottom-space":""},null,8,["modelValue","options"]),e(le,{modelValue:t(s).name,"onUpdate:modelValue":g[3]||(g[3]=k=>t(s).name=k),modelModifiers:{trim:!0},label:"Nama Produk","lazy-rules":"",error:!!t(s).errors.name,disable:t(s).processing,"error-message":t(s).errors.name,rules:[k=>k&&k.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(le,{modelValue:t(s).description,"onUpdate:modelValue":g[4]||(g[4]=k=>t(s).description=k),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.description,"error-message":t(s).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(se,{modelValue:t(s).category_id,"onUpdate:modelValue":g[5]||(g[5]=k=>t(s).category_id=k),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:t(p),"map-options":"","emit-value":"",onFilter:t(c),"option-label":"label","option-value":"value",error:!!t(s).errors.category_id,disable:t(s).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(ee,null,{default:a(()=>[e(M,null,{default:a(()=>g[21]||(g[21]=[v("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),_.$can("admin.product:view-supplier")?(b(),U(se,{key:0,modelValue:t(s).supplier_id,"onUpdate:modelValue":g[6]||(g[6]=k=>t(s).supplier_id=k),label:"Supplier","use-input":"","input-debounce":"300",clearable:"",options:t(d),"map-options":"","emit-value":"",onFilter:t(f),"option-label":"label","option-value":"value",error:!!t(s).errors.supplier_id,disable:t(s).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(ee,null,{default:a(()=>[e(M,null,{default:a(()=>g[22]||(g[22]=[v("Supplier tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"])):$("",!0),e(qt,{modelValue:t(s).active,"onUpdate:modelValue":g[7]||(g[7]=k=>t(s).active=k),disable:t(s).processing,label:"Aktif"},null,8,["modelValue","disable"]),g[24]||(g[24]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Inventori",-1)),e(le,{modelValue:t(s).barcode,"onUpdate:modelValue":g[8]||(g[8]=k=>t(s).barcode=k),modelModifiers:{trim:!0},label:"Barcode","lazy-rules":"",error:!!t(s).errors.barcode,disable:t(s).processing,"error-message":t(s).errors.barcode,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(le,{modelValue:t(s).uom,"onUpdate:modelValue":g[9]||(g[9]=k=>t(s).uom=k),modelModifiers:{trim:!0},label:"Satuan","lazy-rules":"",error:!!t(s).errors.uom,disable:t(s).processing,"error-message":t(s).errors.uom,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(Ne,{modelValue:t(s).stock,"onUpdate:modelValue":g[10]||(g[10]=k=>t(s).stock=k),label:"Stok",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.stock,errorMessage:t(s).errors.stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Ne,{modelValue:t(s).min_stock,"onUpdate:modelValue":g[11]||(g[11]=k=>t(s).min_stock=k),label:"Stok Minimum",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.min_stock,errorMessage:t(s).errors.min_stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Ne,{modelValue:t(s).max_stock,"onUpdate:modelValue":g[12]||(g[12]=k=>t(s).max_stock=k),label:"Stok Maksimum",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.max_stock,errorMessage:t(s).errors.max_stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),g[25]||(g[25]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Harga",-1)),e(qt,{modelValue:t(s).price_editable,"onUpdate:modelValue":g[13]||(g[13]=k=>t(s).price_editable=k),disable:t(s).processing,label:"Harga bisa diubah saat penjualan"},null,8,["modelValue","disable"]),_.$can("admin.product:view-cost")?(b(),U(Ne,{key:1,modelValue:t(s).cost,"onUpdate:modelValue":g[14]||(g[14]=k=>t(s).cost=k),label:"Modal / Harga Beli (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.cost,errorMessage:t(s).errors.cost,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"])):$("",!0),e(Ne,{modelValue:t(s).price,"onUpdate:modelValue":g[15]||(g[15]=k=>t(s).price=k),label:"Harga Eceran (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.price,errorMessage:t(s).errors.price,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Ne,{modelValue:t(s).price_2,"onUpdate:modelValue":g[16]||(g[16]=k=>t(s).price_2=k),label:"Harga Partai (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.price_2,errorMessage:t(s).errors.price_2,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Ne,{modelValue:t(s).price_3,"onUpdate:modelValue":g[17]||(g[17]=k=>t(s).price_3=k),label:"Harga Grosir (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.price_3,errorMessage:t(s).errors.price_3,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),_.$can("admin.product:view-cost")?(b(),U(Ne,{key:2,modelValue:y.value,"onUpdate:modelValue":g[18]||(g[18]=k=>y.value=k),label:"Margin (%)",lazyRules:"",disable:t(s).processing,maxDecimals:2,"hide-bottom-space":""},null,8,["modelValue","disable"])):$("",!0),g[26]||(g[26]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Lainnya",-1)),e(le,{modelValue:t(s).notes,"onUpdate:modelValue":g[19]||(g[19]=k=>t(s).notes=k),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(A,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:g[20]||(g[20]=k=>_.$goBack())},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Im=Object.freeze(Object.defineProperty({__proto__:null,default:Pm},Symbol.toStringTag,{value:"Module"})),Om={class:"q-gutter-sm"},Dm={class:"col col-md-6 q-pa-xs"},na="Import Produk",Rm={__name:"Import",setup(m){const n=je({csv_file:null}),u=()=>{n.post(route("admin.product.import"),{onSuccess:()=>{n.reset()},onError:()=>{Oe()},onFinish:()=>{n.clearErrors()}})};return(o,s)=>{const i=L("i-head"),p=L("authenticated-layout");return b(),h(H,null,[e(i,{title:na}),e(p,{"show-drawer-button":!1},{title:a(()=>[v(r(na))]),"left-button":a(()=>[l("div",Om,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=c=>o.$goBack())})])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",Dm,[e(Re,{class:"row",onSubmit:Q(u,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[s[3]||(s[3]=l("div",{class:"text-subtitle1 q-pt-lg"},"Unggah File Impor",-1)),s[4]||(s[4]=l("div",{class:"text-caption text-grey"}," Unggah file CSV untuk mengimpor data produk. Pastikan format kolom sesuai dengan template yang disediakan. ",-1)),e(ja,{modelValue:t(n).csv_file,"onUpdate:modelValue":s[1]||(s[1]=c=>t(n).csv_file=c),accept:".csv",label:"Pilih file CSV",error:!!t(n).errors.csv_file,"error-message":t(n).errors.csv_file,disable:t(n).processing,"hide-bottom-space":"",class:"q-mt-md"},null,8,["modelValue","error","error-message","disable"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(A,{icon:"upload",type:"submit",label:"Import Data",color:"primary",disable:t(n).processing||!t(n).csv_file,loading:t(n).processing},null,8,["disable","loading"]),e(A,{icon:"cancel",label:"Batal",disable:t(n).processing,onClick:s[2]||(s[2]=c=>o.$goBack())},null,8,["disable"])]),_:1}),o.$page.props.flash.success?(b(),U(Jt,{key:0,class:"bg-positive text-white q-mt-md"},{default:a(()=>[v(r(o.$page.props.flash.success),1)]),_:1})):$("",!0),o.$page.props.flash.error?(b(),U(Jt,{key:1,class:"bg-negative text-white q-mt-md"},{default:a(()=>[v(r(o.$page.props.flash.error),1)]),_:1})):$("",!0)]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Um=Object.freeze(Object.defineProperty({__proto__:null,default:Rm},Symbol.toStringTag,{value:"Module"})),Am={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Mm={class:"q-pa-xs"},jm={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Em={key:0},Nm={key:1},Bm={class:"flex justify-end"},Fm={key:0},zm={key:1},Lm={key:0},sa="Produk",Hm={__name:"Index",setup(m){const n=ce(),u=C(null),o=C(null),s=We(o),i=C(!1),p=[{value:"all",label:"Semua"},...Ke(window.CONSTANTS.PRODUCT_TYPES)],c=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],d=[{value:"all",label:"Semua"},{value:"ready",label:"Tersedia"},{value:"out",label:"Kosong"},{value:"low",label:"Stok Rendah"},{value:"over",label:"Stok Berlebih"}],f=$e(),y=C(!1),_=C([]),g=C(!0),V=Ie({type:"all",category_id:"all",supplier_id:"all",status:"active",stock_status:"all",search:"",...Ue()}),S=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1});let k=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"cost",label:"Modal",field:"cost",align:"right"},{name:"price",label:"Harga",field:"price",align:"right"},{name:"action",align:"right"}];he(()=>{const I=new URLSearchParams(window.location.search).get("page");I&&(S.value.page=parseInt(I)),P()});const E=j=>Ge({message:`Hapus Produk ${j.name}?`,url:route("admin.product.delete",j.id),fetchItemsCallback:P,loading:g}),P=(j=null)=>{Ae({pagination:S,filter:V,props:j,rows:_,url:route("admin.product.data"),loading:g,tableRef:u})},w=()=>{P()},{filteredCategories:D,filterCategories:B}=Qa(n.props.categories,!0),{filteredSuppliers:x,filterSuppliers:T}=$l(n.props.suppliers,!0),O=Z(()=>{let j=[...k];return i.value||j.splice(2,1),f.screen.gt.sm?j:j.filter(I=>I.name==="name"||I.name==="action")}),N=j=>{console.log(window.location.href),W.get(route("admin.product.detail",j.row.id))};return(j,I)=>{const G=L("i-head"),de=L("authenticated-layout");return b(),h(H,null,[e(G,{title:sa}),e(de,null,Ye({title:a(()=>[v(r(sa))]),"right-button":a(()=>[e(A,{icon:y.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:I[0]||(I[0]=R=>y.value=!y.value)},null,8,["icon"]),j.$can("admin.product.add")?(b(),U(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:I[1]||(I[1]=R=>t(W).get(j.route("admin.product.add")))})):$("",!0),j.$can("admin.product.import")||j.$can("admin.product:view-cost")?(b(),U(A,{key:1,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:I[4]||(I[4]=Q(()=>{},["stop"])),class:"q-ml-sm"},{default:a(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(De,{style:{width:"200px"}},{default:a(()=>[j.$can("admin.product.import")?J((b(),U(ee,{key:0,clickable:"",onClick:I[2]||(I[2]=R=>i.value=!i.value)},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:i.value?"visibility":"visibility_off"},null,8,["name"])]),_:1}),e(M,null,{default:a(()=>[v(r(i.value?"Sembunyikan":"Tampilkan")+" Modal",1)]),_:1})]),_:1})),[[ne],[re]]):$("",!0),j.$can("admin.product.import")?J((b(),U(ee,{key:1,clickable:"",onClick:I[3]||(I[3]=Q(R=>t(W).get(j.route("admin.product.import")),["stop"]))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"csv"})]),_:1}),e(M,null,{default:a(()=>I[13]||(I[13]=[v("Import")])),_:1})]),_:1})),[[ne],[re]]):$("",!0)]),_:1})]),_:1})]),_:1})):$("",!0)]),default:a(()=>[l("div",Mm,[e(Te,{ref_key:"tableRef",ref:u,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:S.value,"onUpdate:pagination":I[12]||(I[12]=R=>S.value=R),filter:V.search,loading:g.value,columns:O.value,rows:_.value,"rows-per-page-options":[10,25,50],style:Me({height:t(s)}),onRequest:P,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:R,message:z,filter:X})=>[l("div",jm,[l("span",null,r(z)+" "+r(X?" with term "+X:""),1)])]),header:a(R=>[e(qe,{props:R},{default:a(()=>[e(Wt,{"auto-width":""}),(b(!0),h(H,null,lt(R.cols,z=>(b(),U(Wt,{key:z.name,props:R},{default:a(()=>[v(r(z.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(R=>[e(qe,{props:R,class:ye({inactive:!R.row.active})},{default:a(()=>[e(F,{"auto-width":""},{default:a(()=>[e(A,{size:"sm",flat:"",round:"",dense:"",onClick:Q(z=>R.expand=!R.expand,["prevent"]),icon:R.expand?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["onClick","icon"])]),_:2},1024),e(F,{key:"name",props:R,class:"wrap-column cursor-pointer",onClick:z=>N(R)},{default:a(()=>[v(r(R.row.name)+" ",1),t(f).screen.gt.sm?$("",!0):(b(),h(H,{key:0},[R.row.type=="stocked"?(b(),h("div",Em,[e(q,{name:"cycle"}),v(" Stok: "+r(t(K)(R.row.stock))+" "+r(R.row.uom),1)])):$("",!0),i.value?(b(),h("div",Nm,[e(q,{name:"money"}),v(" Modal: Rp. "+r(t(K)(R.row.cost)),1)])):$("",!0),l("div",null,[e(q,{name:"sell"}),v(" Harga: Rp. "+r(t(K)(R.row.price)),1)])],64))]),_:2},1032,["props","onClick"]),e(F,{key:"stock",props:R,class:ye(["wrap-column",{"low-stock":R.row.type=="stocked"&&(Number(R.row.stock)==0||Number(R.row.stock)<Number(R.row.min_stock)),"over-stock":R.row.type=="stocked"&&Number(R.row.max_stock)&&Number(R.row.stock)>Number(R.row.max_stock)}])},{default:a(()=>[v(r(R.row.type=="stocked"?t(K)(R.row.stock)+" "+R.row.uom:"-"),1)]),_:2},1032,["props","class"]),(b(),U(F,{key:"cost",props:R,class:"wrap-column"},{default:a(()=>[v(r(t(K)(R.row.cost)),1)]),_:2},1032,["props"])),e(F,{key:"price",props:R,class:"wrap-column"},{default:a(()=>[v(r(t(K)(R.row.price)),1)]),_:2},1032,["props"]),e(F,{key:"action",props:R},{default:a(()=>[l("div",Bm,[j.$can("admin.product.add")||j.$can("admin.product.edit")||j.$can("admin.product.delete")?(b(),U(A,{key:0,icon:"more_vert",rounded:"",dense:"",flat:"",onClick:I[11]||(I[11]=Q(()=>{},["stop"]))},{default:a(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(De,{style:{width:"175px"}},{default:a(()=>[j.$can("admin.product.add")?J((b(),U(ee,{key:0,clickable:"",onClick:Q(z=>t(W).get(j.route("admin.product.duplicate",R.row.id)),["stop"])},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"file_copy"})]),_:1}),e(M,null,{default:a(()=>I[14]||(I[14]=[v("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),j.$can("admin.product.edit")?J((b(),U(ee,{key:1,clickable:"",onClick:Q(z=>t(W).get(j.route("admin.product.edit",R.row.id)),["stop"])},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(M,null,{default:a(()=>I[15]||(I[15]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),j.$can("admin.product.delete")?J((b(),U(ee,{key:2,onClick:Q(z=>E(R.row),["stop"]),clickable:""},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(M,null,{default:a(()=>I[16]||(I[16]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):$("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class"]),J(e(qe,{props:R},{default:a(()=>[e(F,{colspan:"100%"},{default:a(()=>[R.row.barcode?(b(),h("div",Fm,[e(q,{class:"inline-icon",name:"barcode"}),v(" Barcode: "+r(R.row.barcode),1)])):$("",!0),R.row.category_id?(b(),h("div",zm,[e(q,{name:"category",class:"inline-icon"}),v(" Kategori: "+r(R.row.category.name),1)])):$("",!0),j.$can("admin.product:view-supplier")?(b(),h(H,{key:2},[R.row.supplier_id?(b(),h("div",Lm,[e(q,{name:"local_shipping",class:"inline-icon"}),v(" Supplier: "+r(R.row.supplier.name),1)])):$("",!0)],64)):$("",!0),R.row.description?(b(),U(_e,{key:3,text:R.row.description,icon:"notes","max-length":200},null,8,["text"])):$("",!0),R.row.notes?(b(),U(_e,{key:4,text:R.row.notes,icon:"notes","max-length":200},null,8,["text"])):$("",!0)]),_:2},1024)]),_:2},1032,["props"]),[[qa,R.expand]])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[y.value?{name:"header",fn:a(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:o},{default:a(()=>[l("div",Am,[e(se,{modelValue:V.type,"onUpdate:modelValue":[I[5]||(I[5]=R=>V.type=R),w],class:"custom-select col-xs-4 col-sm-2",options:p,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{modelValue:V.status,"onUpdate:modelValue":[I[6]||(I[6]=R=>V.status=R),w],class:"custom-select col-xs-4 col-sm-2",options:c,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{modelValue:V.stock_status,"onUpdate:modelValue":[I[7]||(I[7]=R=>V.stock_status=R),w],class:"custom-select col-xs-4 col-sm-2",options:d,label:"Status Stok",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{modelValue:V.category_id,"onUpdate:modelValue":[I[8]||(I[8]=R=>V.category_id=R),w],label:"Kategori",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:t(D),"map-options":"",dense:"","emit-value":"",onFilter:t(B),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),j.$can("admin.product:view-supplier")?(b(),U(se,{key:0,modelValue:V.supplier_id,"onUpdate:modelValue":[I[9]||(I[9]=R=>V.supplier_id=R),w],label:"Pemasok",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:t(x),"map-options":"",dense:"","emit-value":"",onFilter:t(T),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"])):$("",!0),e(le,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:V.search,"onUpdate:modelValue":I[10]||(I[10]=R=>V.search=R),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Ym=Object.freeze(Object.defineProperty({__proto__:null,default:Hm},Symbol.toStringTag,{value:"Module"}));function Km(){const m=C(new Date);let n=null;const u=()=>{m.value=new Date};return he(()=>{n=setInterval(u,1e3)}),ll(()=>{n&&clearInterval(n)}),{currentDateTime:m}}const Qm={class:"text-grey-8"},Wa={__name:"DigitalClock",setup(m){const{currentDateTime:n}=Km();return(u,o)=>(b(),h("div",Qm,r(t(be)(t(n))),1))}},Wm={class:"row q-col-gutter-md items-center q-px-md q-py-sm"},Jm={class:"col-12 col-sm-6 col-md-4"},Gm={class:"text-bold"},Xm={key:0,class:"col-12 col-md-4 text-center"},Zm={class:"text-h6 text-weight-bold text-grey-8"},ec={key:0,class:"text-subtitle2 text-weight-bold text-grey-8"},tc={key:1,class:"text-subtitle2 text-weight-bold text-grey-8"},lc={class:"text-weight-bold"},Ja={__name:"TransactionHeader",props:{user:{type:Object,required:!0},company:{type:Object,required:!0}},emits:["edit-supplier"],setup(m){return(n,u)=>(b(),h("div",Wm,[l("div",Jm,[l("div",Gm,[u[1]||(u[1]=v(" Info Supplier ")),e(A,{icon:"edit",flat:"",rounded:"",dense:"",color:"grey",size:"sm",onClick:u[0]||(u[0]=o=>n.$emit("edit-supplier"))})]),u[2]||(u[2]=l("div",{class:"text-grey-8 text-italic"},"Supplier belum dipilih.",-1))]),n.$q.screen.gt.sm?(b(),h("div",Xm,[l("div",Zm,r(m.company.name),1),m.company.address?(b(),h("div",ec,r(m.company.address),1)):$("",!0),m.company.phone?(b(),h("div",tc,r(m.company.phone),1)):$("",!0)])):$("",!0),l("div",{class:ye(["col-12 col-sm-6 col-md-4",n.$q.screen.gt.sm?"text-right":""])},[l("div",lc,r(m.user.username)+" - "+r(m.user.name),1),e(Wa)],2)]))}},ac=Object.freeze(Object.defineProperty({__proto__:null,default:Ja},Symbol.toStringTag,{value:"Module"})),oc={class:"text-weight-medium"},nc={class:"text-caption text-grey-6"},sc={class:"text-weight-medium"},rc={class:"text-weight-bold text-primary"},Ga={__name:"ItemsListTable",props:{items:{type:Array,required:!0},columns:{type:Array,required:!0}},emits:["update-quantity","remove-item"],setup(m){return(n,u)=>(b(),U(Te,{dense:"",rows:m.items,columns:m.columns,"row-key":"id",flat:"",square:"",bordered:"",class:"bg-grey-1 pos-table q-pa-none col","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48},{header:a(o=>[e(qe,{props:o,class:"bg-grey-4"},{default:a(()=>[(b(!0),h(H,null,lt(o.cols,s=>(b(),U(Wt,{key:s.name,props:o,class:"text-weight-bold text-grey-8"},{default:a(()=>[v(r(s.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(o=>[e(qe,{props:o,class:"hover-highlight"},{default:a(()=>[e(F,{key:"name",props:o,class:"text-left"},{default:a(()=>[l("div",oc,r(o.row.name),1),l("div",nc," Barcode: "+r(o.row.barcode),1)]),_:2},1032,["props"]),e(F,{key:"price",props:o,class:"text-center"},{default:a(()=>[l("div",sc,[e(Ne,{"model-value":o.row.price,dense:"",style:{width:"80px","text-align":"right"}},null,8,["model-value"])])]),_:2},1032,["props"]),e(F,{key:"quantity",props:o,class:"text-center"},{default:a(()=>[e(Ne,{"model-value":o.row.quantity,dense:"",style:{width:"80px","text-align":"right"},"onUpdate:modelValue":s=>n.$emit("update-quantity",{id:o.row.id,value:s}),onKeyup:u[0]||(u[0]=Nt(s=>s.target.blur(),["enter"]))},null,8,["model-value","onUpdate:modelValue"])]),_:2},1032,["props"]),e(F,{key:"subtotal",props:o,class:"text-center"},{default:a(()=>[l("div",rc," Rp. "+r(t(K)(o.row.price*o.row.quantity)),1)]),_:2},1032,["props"]),e(F,{key:"action",props:o,class:"text-center"},{default:a(()=>[e(A,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:s=>n.$emit("remove-item",o.row)},{default:a(()=>[e(zt,null,{default:a(()=>u[1]||(u[1]=[v("Hapus Item")])),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]))}},ic=Object.freeze(Object.defineProperty({__proto__:null,default:Ga},Symbol.toStringTag,{value:"Module"})),dc={class:"column"},uc={class:"row justify-end items-center q-gutter-sm"},mc={class:"text-h4 text-weight-bold text-primary"},cc={class:"text-caption text-grey-6 q-mt-xs text-right"},pc={class:"q-py-sm"},fc={class:"q-py-sm"},Xa={__name:"TransactionSummary",props:{subtotal:{type:Number,required:!0},itemCount:{type:Number,required:!0},barcode:{type:String,required:!0},isProcessing:{type:Boolean,default:!1},formProcessing:{type:Boolean,default:!1}},emits:["update:barcode","add-item","process-payment"],setup(m,{expose:n}){const u=C(null);he(()=>{o()});const o=()=>{Tt(()=>{u.value&&u.value.focus()})};return n({focusOnBarcodeInput:o}),(s,i)=>(b(),h("div",dc,[l("div",uc,[i[3]||(i[3]=l("span",{class:"text-weight-bold text-grey-8"},"GRAND TOTAL: Rp.",-1)),l("span",mc,r(t(K)(m.subtotal)),1)]),l("div",cc,r(m.itemCount)+" item(s) ",1),l("div",pc,[e(le,{ref_key:"barcodeInputRef",ref:u,"model-value":m.barcode,"onUpdate:modelValue":i[0]||(i[0]=p=>s.$emit("update:barcode",p)),placeholder:"<Input Barcode>",outlined:"",square:"",class:"col bg-white",onKeyup:i[1]||(i[1]=Nt(p=>s.$emit("add-item"),["enter"])),loading:m.isProcessing,clearable:"",autofocus:""},{prepend:a(()=>[e(q,{name:"qr_code_scanner"})]),_:1},8,["model-value","loading"])]),l("div",fc,[e(A,{class:"full-width",label:"Bayar",color:"primary",icon:"payment",onClick:i[2]||(i[2]=p=>s.$emit("process-payment")),disable:m.itemCount===0,loading:m.formProcessing},null,8,["disable","loading"])])]))}},gc=Object.freeze(Object.defineProperty({__proto__:null,default:Xa},Symbol.toStringTag,{value:"Module"})),bc={class:"q-ml-sm"},Za={__name:"ConfirmDeleteDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,default:null}},emits:["update:modelValue","confirm"],setup(m){return(n,u)=>(b(),U(xt,{"model-value":m.modelValue,"onUpdate:modelValue":u[1]||(u[1]=o=>n.$emit("update:modelValue",o)),persistent:""},{default:a(()=>[e(ie,null,{default:a(()=>[e(te,{class:"row items-center"},{default:a(()=>{var o;return[e(Rt,{icon:"delete",color:"negative","text-color":"white"}),l("span",bc,'Hapus item "'+r((o=m.item)==null?void 0:o.name)+'"?',1)]}),_:1}),e($t,{align:"right"},{default:a(()=>[J(e(A,{flat:"",label:"Batal",color:"primary"},null,512),[[re]]),J(e(A,{flat:"",label:"Hapus",color:"negative",onClick:u[0]||(u[0]=o=>n.$emit("confirm"))},null,512),[[re]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},vc=Object.freeze(Object.defineProperty({__proto__:null,default:Za},Symbol.toStringTag,{value:"Module"})),eo={__name:"SupplierEditorDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","save"],setup(m,{emit:n}){const u=n,o=C(""),s=C(""),i=()=>{u("save",{name:o.value,address:s.value})};return(p,c)=>(b(),U(xt,{"model-value":m.modelValue,"onUpdate:modelValue":c[2]||(c[2]=d=>p.$emit("update:modelValue",d)),persistent:""},{default:a(()=>[e(ie,{style:{width:"400px"}},{default:a(()=>[e(te,{class:"q-py-none q-pt-lg"},{default:a(()=>c[3]||(c[3]=[l("div",{class:"text-bold text-grey-8"},"Edit Info Supplier",-1)])),_:1}),e(te,null,{default:a(()=>[e(le,{modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=d=>o.value=d),label:"Nama Supplier"},null,8,["modelValue"]),e(le,{modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=d=>s.value=d),label:"Alamat",type:"textarea",autogrow:"",counter:"",maxlength:"200",class:"q-mt-md"},null,8,["modelValue"])]),_:1}),e($t,{align:"right"},{default:a(()=>[J(e(A,{flat:"",label:"Batal",color:"primary"},null,512),[[re]]),J(e(A,{flat:"",label:"Simpan",color:"primary",onClick:i},null,512),[[re]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},yc=Object.freeze(Object.defineProperty({__proto__:null,default:eo},Symbol.toStringTag,{value:"Module"})),_c={class:"q-gutter-sm"},wc={class:"row col **grow**"},kc={class:"col-12 q-pa-sm column"},$c={class:"row"},hc={class:"col-xs-12 col-md-8 q-pa-sm"},xc={class:"col-md-4 col-xs-12 q-pa-sm"},Sc={__name:"Editor",setup(m){const n=$e(),u=ce(),o=C(null),s=je({id:null,formatted_id:"Diisi Otomatis",customer_name:"Pelanggan Umum",datetime:gl().format("YYYY-MM-DD HH:mm:ss"),status:"pending",payment_status:"unpaid",items:[],subtotal:0,tax:0,total:0,notes:""}),i=C(""),p=C(!1),c=C(!1),d=C(null),f=C(!1),y=[{name:"name",required:!0,label:"Item Information",align:"left",field:"name",sortable:!1,style:"width: 300px"},{name:"price",label:"Harga",align:"center",field:"price",sortable:!1,style:"width: 120px"},{name:"quantity",label:"Quantity",align:"center",field:"quantity",sortable:!1,style:"width: 100px"},{name:"subtotal",label:"SubTotal",align:"center",sortable:!1,style:"width: 140px"},{name:"action",label:"Action",align:"center",sortable:!1,style:"width: 80px"}],_=Z(()=>{const P=s.items.reduce((w,D)=>w+D.price*D.quantity,0);return s.subtotal=P,s.total=P+s.tax,P}),g=async()=>{if(!i.value.trim()){n.notify({message:"Silakan masukkan barcode",color:"warning",position:"bottom"});return}let P=1,w=i.value.trim(),D=null;const B=w.split("*");if(B.length===3){const T=parseInt(B[0]),O=parseFloat(B[2]);!isNaN(T)&&T>0?P=T:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"bottom"}),!isNaN(O)&&O>=0?D=O:n.notify({message:"Harga tidak valid. Menggunakan harga produk default.",color:"warning",position:"bottom"}),w=B[1]}else if(B.length===2){const T=parseInt(B[0]);!isNaN(T)&&T>0?P=T:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"bottom"}),w=B[1]}const x=s.items.findIndex(T=>T.barcode===w);if(x!==-1)s.items[x].quantity+=P,n.notify({message:`Quantity ${s.items[x].name} bertambah ${P}`,color:"positive",position:"bottom"});else{p.value=!0;try{await new Promise(N=>setTimeout(N,300));const O={...{id:Date.now(),name:`Item ${w}`,barcode:w,price:D!==null?D:Math.floor(Math.random()*5e4)+1e4},quantity:P};s.items.push(O),n.notify({message:`${O.name} berhasil ditambahkan`,color:"positive",position:"bottom",icon:"add_shopping_cart"})}catch(T){console.error("Error fetching item:",T),n.notify({message:"Item tidak ditemukan atau gagal menambahkan item",color:"negative",position:"bottom"})}finally{p.value=!1}}i.value="",await Tt(),o.value.focusOnBarcodeInput()},V=P=>{d.value=P,c.value=!0},S=()=>{if(d.value){const P=s.items.findIndex(w=>w.id===d.value.id);if(P!==-1){const w=s.items.splice(P,1)[0];n.notify({message:`${w.name} dihapus dari keranjang`,color:"info",position:"bottom",icon:"remove_shopping_cart"})}d.value=null}},k=(P,w)=>{const D=s.items.find(B=>B.id===P);D&&w>0&&(D.quantity=parseInt(w)||1)},E=()=>{if(s.items.length===0){n.notify({message:"Tidak ada item dalam keranjang",color:"warning",position:"bottom"});return}s.datetime=gl().format("YYYY-MM-DD HH:mm:ss"),s.status="completed",s.payment_status="paid",Fe({form:s,url:route("admin.transaction.save"),onSuccess:()=>{n.notify({message:"Transaksi berhasil disimpan",color:"positive",position:"bottom",icon:"check_circle"}),s.reset(),s.items=[]}})};return(P,w)=>{const D=L("i-head"),B=L("authenticated-layout");return b(),h(H,null,[e(D,{title:"Order Pembelian"}),e(B,null,{title:a(()=>w[8]||(w[8]=[v("Order Pembelian")])),"left-button":a(()=>[l("div",_c,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:w[0]||(w[0]=x=>t(W).get(P.route("admin.purchase-order.index")))})])]),default:a(()=>[e(ke,{class:"bg-grey-2 q-pa-sm column fit"},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"full-width col column"},{default:a(()=>[e(Ja,{user:t(u).props.auth.user,company:t(u).props.company,onEditSupplier:w[1]||(w[1]=x=>f.value=!0)},null,8,["user","company"]),l("div",wc,[l("div",kc,[e(Ga,{items:t(s).items,columns:y,onUpdateQuantity:w[2]||(w[2]=({id:x,value:T})=>k(x,T)),onRemoveItem:V},null,8,["items"])])]),l("div",$c,[l("div",hc,[e(le,{modelValue:t(s).notes,"onUpdate:modelValue":w[3]||(w[3]=x=>t(s).notes=x),type:"textarea",placeholder:"Tambahkan catatan transaksi...",square:"",outlined:"",class:"bg-white",rows:3,counter:"",maxlength:"200",error:!!t(s).errors.notes,"error-message":t(s).errors.notes,style:{"margin-bottom":"16px"},"hide-bottom-space":""},{prepend:a(()=>[e(q,{name:"note"})]),_:1},8,["modelValue","error","error-message"])]),l("div",xc,[e(Xa,{ref_key:"transactionSummaryRef",ref:o,barcode:i.value,"onUpdate:barcode":w[4]||(w[4]=x=>i.value=x),subtotal:_.value,"item-count":t(s).items.length,"is-processing":p.value,"form-processing":t(s).processing,onAddItem:w[5]||(w[5]=x=>g(i.value)),onProcessPayment:E},null,8,["barcode","subtotal","item-count","is-processing","form-processing"])])])]),_:1}),e(Za,{modelValue:c.value,"onUpdate:modelValue":w[6]||(w[6]=x=>c.value=x),item:d.value,onConfirm:S},null,8,["modelValue","item"]),e(eo,{modelValue:f.value,"onUpdate:modelValue":w[7]||(w[7]=x=>f.value=x)},null,8,["modelValue"])]),_:1})]),_:1})],64)}}},Vc=ft(Sc,[["__scopeId","data-v-4d8fff94"]]),qc=Object.freeze(Object.defineProperty({__proto__:null,default:Vc},Symbol.toStringTag,{value:"Module"})),Cc={class:"col col-md-6 q-pa-xs"},Tc={__name:"Editor_v1",setup(m){const n=ce(),u=(n.props.data.id?"Edit":"Tambah")+" Order Pembelian",{filteredSuppliers:o,filterSupplierFn:s}=$l(n.props.suppliers,!1),i=Ke(window.CONSTANTS.PURCHASE_ORDER_STATUSES),p=Ke(window.CONSTANTS.PURCHASE_ORDER_PAYMENT_STATUSES),c=Ke(window.CONSTANTS.PURCHASE_ORDER_DELIVERY_STATUSES),d=je({id:n.props.data.id,formatted_id:n.props.data.formatted_id??"Diisi Otomatis",supplier_id:n.props.data.supplier_id,datetime:gl(n.props.data.datetime).format("YYYY-MM-DD HH:mm:ss"),status:n.props.data.status,payment_status:n.props.data.payment_status,delivery_status:n.props.data.delivery_status,total:parseFloat(n.props.data.total),total_paid:parseFloat(n.props.data.total_paid),notes:n.props.data.notes}),f=()=>Fe({form:d,url:route("admin.purchase-order.save")});return(y,_)=>{const g=L("i-head"),V=L("authenticated-layout");return b(),h(H,null,[e(g,{title:u}),e(V,null,{title:a(()=>[v(r(u))]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",Cc,[e(Re,{class:"row",onSubmit:Q(f,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[J(l("input",{type:"hidden",name:"id","onUpdate:modelValue":_[0]||(_[0]=S=>t(d).id=S)},null,512),[[Xe,t(d).id]]),e(le,{modelValue:t(d).formatted_id,"onUpdate:modelValue":_[1]||(_[1]=S=>t(d).formatted_id=S),modelModifiers:{trim:!0},label:"ID Order",readonly:"","hide-bottom-space":""},null,8,["modelValue"]),e(Ut,{modelValue:t(d).datetime,"onUpdate:modelValue":_[2]||(_[2]=S=>t(d).datetime=S),label:"Waktu",error:!!t(d).errors.datetime,disable:t(d).processing},null,8,["modelValue","error","disable"]),e(se,{modelValue:t(d).status,"onUpdate:modelValue":_[3]||(_[3]=S=>t(d).status=S),label:"Status Order",options:t(i),"map-options":"","emit-value":"",error:!!t(d).errors.status,disable:t(d).processing,errorMessage:t(d).errors.status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(se,{modelValue:t(d).payment_status,"onUpdate:modelValue":_[4]||(_[4]=S=>t(d).payment_status=S),label:"Status Pembayaran",options:t(p),"map-options":"","emit-value":"",error:!!t(d).errors.payment_status,disable:t(d).processing,errorMessage:t(d).errors.payment_status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(se,{modelValue:t(d).delivery_status,"onUpdate:modelValue":_[5]||(_[5]=S=>t(d).delivery_status=S),label:"Status Pengiriman",options:t(c),"map-options":"","emit-value":"",error:!!t(d).errors.delivery_status,disable:t(d).processing,errorMessage:t(d).errors.delivery_status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(se,{modelValue:t(d).supplier_id,"onUpdate:modelValue":_[6]||(_[6]=S=>t(d).supplier_id=S),label:"Pemasok","use-input":"","input-debounce":"300",clearable:"",options:t(o),"map-options":"","emit-value":"",errorMessage:t(d).errors.supplier_id,onFilter:t(s),error:!!t(d).errors.supplier_id,disable:t(d).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(ee,null,{default:a(()=>[e(M,null,{default:a(()=>_[9]||(_[9]=[v("Pemasok tidak ditemukan.")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(A,{dense:"",icon:"add",type:"button",color:"primary",disable:t(d).processing,label:"Pemasok Baru"},null,8,["disable"]),e(le,{modelValue:t(d).notes,"onUpdate:modelValue":_[7]||(_[7]=S=>t(d).notes=S),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(d).processing,error:!!t(d).errors.notes,"error-message":t(d).errors.notes,rules:[S=>S&&S.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(A,{icon:"create",type:"submit",label:"Buat Order",color:"primary",disable:t(d).processing},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",disable:t(d).processing,onClick:_[8]||(_[8]=S=>t(W).get(y.route("admin.purchase-order.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Pc=Object.freeze(Object.defineProperty({__proto__:null,default:Tc},Symbol.toStringTag,{value:"Module"})),Ic={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Oc={class:"q-pa-xs"},Dc={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Rc={key:0},Uc={key:0},Ac={key:1},Mc={class:"flex justify-end"},ra="Order Pembelian",jc={__name:"Index",setup(m){const n=$e(),u=C(!1),o=C([]),s=C(!0),i=C(null),p=C(null),c=We(p),d=Bt(),f=Ft(),y=[{label:"Semua Tahun",value:"all"},{label:`${d}`,value:d},...Pt(d-2,d-1).reverse()],_=[{value:"all",label:"Semua Bulan"},...It()],g=Ie({search:"",category_id:"all",year:d,month:f,...Ue()}),V=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),S=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];he(()=>{E()});const k=D=>Ge({message:`Hapus transaksi #-${D.id}?`,url:route("admin.purchase-order.delete",D.id),fetchItemsCallback:E,loading:s}),E=(D=null)=>{Ae({pagination:V,filter:g,props:D,rows:o,url:route("admin.purchase-order.data"),loading:s,tableRef:i})},P=()=>{E()},w=Z(()=>n.screen.gt.sm?S:S.filter(D=>D.name==="datetime"||D.name==="action"));return Be(()=>g.year,D=>{D===null&&(g.month=null)}),(D,B)=>{const x=L("i-head"),T=L("authenticated-layout");return b(),h(H,null,[e(x,{title:ra}),e(T,null,Ye({title:a(()=>[v(r(ra))]),"right-button":a(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:B[0]||(B[0]=O=>u.value=!u.value)},null,8,["icon"]),e(A,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:B[1]||(B[1]=O=>t(W).get(D.route("admin.purchase-order.add")))})]),default:a(()=>[l("div",Oc,[e(Te,{ref_key:"tableRef",ref:i,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:V.value,"onUpdate:pagination":B[6]||(B[6]=O=>V.value=O),filter:g.search,loading:s.value,columns:w.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Me({height:t(c)}),onRequest:E,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:O,message:N,filter:j})=>[l("div",Dc,[l("span",null,r(N)+" "+r(j?" with term "+j:""),1)])]),body:a(O=>[e(qe,{props:O},{default:a(()=>[e(F,{key:"datetime",props:O,class:"wrap-column"},{default:a(()=>[l("div",null,[v(" #"+r(O.row.id)+" - ",1),e(q,{name:"calendar_today"}),v(" "+r(O.row.datetime),1)]),e(st,null,{default:a(()=>[e(q,{name:"category"}),v(" "+r(O.row.type_label),1)]),_:2},1024),O.row.ref_type?(b(),h("div",Rc,[e(q,{name:"link"}),v(" "+r(O.row.ref_type_label)+" #"+r(O.row.ref_id),1)])):$("",!0),t(n).screen.gt.sm?$("",!0):(b(),h(H,{key:1},[O.row.notes?(b(),h("div",Uc,[e(q,{name:"notes"}),v(" "+r(O.row.notes),1)])):$("",!0),O.row.category?(b(),h("div",Ac,[e(q,{name:"category"}),v(" "+r(O.row.category.name),1)])):$("",!0),l("div",null,[e(q,{name:"money"}),v(" Rp. "+r(t(kt)(O.row.amount)+t(K)(O.row.amount)),1)])],64))]),_:2},1032,["props"]),e(F,{key:"account",props:O},{default:a(()=>{var N;return[v(r((N=O.row.account)==null?void 0:N.name),1)]}),_:2},1032,["props"]),e(F,{key:"notes",props:O},{default:a(()=>[v(r(O.row.notes),1)]),_:2},1032,["props"]),e(F,{key:"amount",props:O,style:{"text-align":"right"}},{default:a(()=>[v(r(t(kt)(O.row.amount)+t(K)(O.row.amount)),1)]),_:2},1032,["props"]),e(F,{key:"action",props:O},{default:a(()=>[l("div",Mc,[e(A,{icon:"more_vert",dense:"",flat:"",rounded:"",onClick:B[5]||(B[5]=Q(()=>{},["stop"]))},{default:a(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(De,{style:{width:"200px"}},{default:a(()=>[J((b(),U(ee,{onClick:Q(N=>k(O.row),["stop"]),clickable:""},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(M,null,{default:a(()=>B[7]||(B[7]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[u.value?{name:"header",fn:a(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:a(()=>[l("div",Ic,[e(se,{modelValue:g.year,"onUpdate:modelValue":[B[2]||(B[2]=O=>g.year=O),P],options:y,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(se,{modelValue:g.month,"onUpdate:modelValue":[B[3]||(B[3]=O=>g.month=O),P],options:_,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:g.year===null},null,8,["modelValue","disable"]),e(le,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:g.search,"onUpdate:modelValue":B[4]||(B[4]=O=>g.search=O),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Ec=Object.freeze(Object.defineProperty({__proto__:null,default:jc},Symbol.toStringTag,{value:"Module"})),Nc={class:"q-gutter-sm"},Bc={class:"col col-lg-6 q-pa-xs",align:"center"},Fc={class:"bg-blue-4 q-pa-xs"},zc={class:"text-subtitle1 text-bold text-grey-10"},Lc={class:"text-caption text-grey-8"},Hc={class:"col-12 col-sm-6"},Yc={class:"full-width"},Kc={class:"text-bold"},Qc={class:"col-12 col-sm-6",align:"left"},Wc={class:"full-width"};const Jc={key:1},Gc={class:"full-width",style:{"border-collapse":"collapse"}},Xc={class:"q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Zc={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},ep={class:"text-center q-pa-sm",style:{"border-bottom":"1px solid #eee"}},tp={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},lp={key:0},ap={class:"col-12 col-sm-6"},op={class:"text-body2 text-grey-7 text-italic"},np={class:"col-12 col-sm-6"},sp={class:"row justify-end q-gutter-y-xs"},rp={class:"col-12 row justify-between"},ip={class:"text-subtitle2 text-bold"},dp={class:"full-width",style:{"border-collapse":"collapse"}},up={class:"q-pa-sm",style:{"border-bottom":"1px solid #eee"}},mp={class:"q-pa-sm",style:{"border-bottom":"1px solid #eee"}},cp={class:"text-left q-pa-sm",style:{"border-bottom":"1px solid #eee"}},pp={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},fp={key:0},gp={class:"text-right q-pa-sm"},bp={class:"text-right q-pa-sm"},ia="Rincian Penjualan",vp={__name:"Detail",setup(m){const u=ce().props.data,o=u.grand_total-u.total_paid,s=()=>{window.print()};return(i,p)=>{const c=L("i-head"),d=L("authenticated-layout");return b(),h(H,null,[e(c,{title:ia}),e(d,{"show-drawer-button":!0},{title:a(()=>[l("div",{class:"row items-center q-gutter-x-sm"},[l("span",null,r(ia))])]),"left-button":a(()=>[l("div",Nc,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:p[0]||(p[0]=f=>t(W).get(i.route("admin.sales-order.index")))})])]),"right-button":a(()=>[e(A,{icon:"print",dense:"",color:"primary",flat:"",rounded:"",onClick:p[1]||(p[1]=f=>s())}),e(A,{class:"q-ml-sm",icon:"add",dense:"",color:"primary",rounded:"",onClick:p[2]||(p[2]=f=>t(W).get(i.route("admin.sales-order.add")))})]),default:a(()=>[e(ke,{class:"row justify-center print-visible"},{default:a(()=>[l("div",Bc,[e(ie,{square:"",flat:"",bordered:"",class:"full-width",style:{"max-width":"1024px"}},{default:a(()=>[e(te,{class:"q-pa-none"},{default:a(()=>[l("div",Fc,[l("div",zc," INVOICE #"+r(t(u).formatted_id),1),l("div",Lc,[v(" Kasir: "+r(t(u).cashier.username)+" - "+r(t(u).cashier.name)+" | "+r(t(be)(t(u).datetime))+" ",1),t(u).cashier_session?(b(),h(H,{key:0},[v(" | Session ID: "+r(t(u).cashier_session.id)+" | Terminal: "+r(t(u).cashier_session.cashier_terminal.name),1)],64)):$("",!0)])])]),_:1}),e(ot),e(te,{class:"row q-col-gutter-sm q-pa-sm",align:"left"},{default:a(()=>{var f,y,_;return[l("div",Hc,[p[3]||(p[3]=l("div",{class:"text-subtitle2 text-bold text-grey-8"}," Info Pelanggan ",-1)),l("table",Yc,[l("tbody",null,[l("tr",null,[l("td",Kc,r(((f=t(u).customer)==null?void 0:f.name)||"-"),1)]),l("tr",null,[l("td",null,r(((y=t(u).customer)==null?void 0:y.address)||"-"),1)]),l("tr",null,[l("td",null,r(((_=t(u).customer)==null?void 0:_.phone_number)||"-"),1)])])])]),l("div",Qc,[p[14]||(p[14]=l("div",{class:"text-subtitle2 text-bold text-grey-8"},"Info Order",-1)),l("table",Wc,[l("tbody",null,[l("tr",null,[p[4]||(p[4]=l("td",{class:"text-grey-7",style:{width:"130px"}},"Waktu",-1)),p[5]||(p[5]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,r(t(be)(t(u).datetime)),1)]),l("tr",null,[p[6]||(p[6]=l("td",{class:"text-grey-7"},"Status Order",-1)),p[7]||(p[7]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,r(i.$CONSTANTS.SALES_ORDER_STATUSES[t(u).status]),1)]),l("tr",null,[p[8]||(p[8]=l("td",{class:"text-grey-7"},"Status Pembayaran",-1)),p[9]||(p[9]=l("td",null,":",-1)),l("td",null,r(i.$CONSTANTS.SALES_ORDER_PAYMENT_STATUSES[t(u).payment_status]),1)]),$("",!0),t(u).due_date?(b(),h("tr",Jc,[p[12]||(p[12]=l("td",{class:"text-grey-7"},"Jatuh Tempo",-1)),p[13]||(p[13]=l("td",null,":",-1)),l("td",null,r(t(Qt)(t(u).due_date)),1)])):$("",!0)])])])]}),_:1}),e(ot),e(te,{class:"q-pa-sm"},{default:a(()=>[l("table",Gc,[p[16]||(p[16]=l("thead",{class:"text-grey-8"},[l("tr",null,[l("th",{class:"text-left q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Item "),l("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Harga (Rp) "),l("th",{class:"text-center q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Jumlah "),l("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Total (Rp) ")])],-1)),l("tbody",null,[(b(!0),h(H,null,lt(t(u).details,f=>(b(),h("tr",{key:f.id},[l("td",Xc,r(f.product_name),1),l("td",Zc,r(t(K)(f.price)),1),l("td",ep,r(f.quantity),1),l("td",tp,r(t(K)(f.subtotal_price)),1)]))),128)),t(u).details.length==0?(b(),h("tr",lp,p[15]||(p[15]=[l("td",{colspan:"4",class:"text-center text-grey"}," Belum ada item ",-1)]))):$("",!0)])])]),_:1}),e(ot),e(te,{class:"row",align:"left"},{default:a(()=>[l("div",ap,[p[17]||(p[17]=l("div",{class:"text-subtitle2 text-bold text-grey-8 q-mb-xs"}," Catatan: ",-1)),l("div",op,r(t(u).notes?t(u).notes:"-"),1)]),l("div",np,[l("div",sp,[l("div",rp,[p[18]||(p[18]=l("div",{class:"text-subtitle2 text-grey-7"},"Grand Total (Rp)",-1)),l("div",ip,r(t(K)(t(u).grand_total)),1)])])])]),_:1})]),_:1}),e(ie,{square:"",flat:"",bordered:"",class:"full-width q-mt-sm",style:{"max-width":"1024px"}},{default:a(()=>[e(te,{class:"q-pa-none"},{default:a(()=>p[19]||(p[19]=[l("div",{class:"bg-yellow-4 q-pa-xs"},[l("div",{class:"text-subtitle1 text-bold text-grey-8"},"PEMBAYARAN")],-1)])),_:1}),e(ot),e(te,{class:"q-pa-sm"},{default:a(()=>[l("table",dp,[p[23]||(p[23]=l("thead",{class:"text-grey-8"},[l("tr",null,[l("th",{class:"text-left q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," ID "),l("th",{class:"text-left q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Waktu "),l("th",{class:"text-left q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Jenis "),l("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Jumlah (Rp) ")])],-1)),l("tbody",null,[(b(!0),h(H,null,lt(t(u).payments,f=>(b(),h("tr",{key:f.id},[l("td",up,r(f.id),1),l("td",mp,r(t(be)(f.created_at)),1),l("td",cp,r(i.$CONSTANTS.SALES_ORDER_PAYMENT_TYPES[f.type]),1),l("td",pp,r(t(K)(f.amount)),1)]))),128)),t(u).payments.length==0?(b(),h("tr",fp,p[20]||(p[20]=[l("td",{colspan:"100%",class:"text-center text-grey"}," Belum ada item ",-1)]))):$("",!0)]),l("tfoot",null,[l("tr",null,[p[21]||(p[21]=l("th",{class:"text-right q-pa-sm",colspan:"3"},"Total Dibayar",-1)),l("th",gp,r(t(K)(t(u).total_paid)),1)]),l("tr",null,[p[22]||(p[22]=l("th",{class:"text-right q-pa-sm",colspan:"3"},"Sisa Tagihan",-1)),l("th",bp,r(t(K)(o)),1)])])])]),_:1})]),_:1})])]),_:1})]),_:1})],64)}}},yp=ft(vp,[["__scopeId","data-v-96304280"]]),_p=Object.freeze(Object.defineProperty({__proto__:null,default:yp},Symbol.toStringTag,{value:"Module"})),wp={class:"text-weight-medium"},kp={class:"text-caption text-grey-6"},$p={class:"column items-end"},hp={class:"text-caption text-grey-6 text-italic"},to={__name:"ItemsListTable",props:{items:{type:Array,required:!0},isProcessing:{type:Boolean,default:!1}},emits:["update-quantity","remove-item","edit-item"],setup(m){const n=$e(),u=We(null,n.screen.lt.sm?395:310),o=[{name:"name",required:!0,label:"Item",align:"left",field:"name",sortable:!1},{name:"subtotal_price",label:"Sub Total (Rp.)",align:"right",sortable:!1},{name:"action",label:"",align:"right",sortable:!1}];return(s,i)=>(b(),U(Te,{dense:"",rows:m.items,columns:o,"row-key":"id",flat:"",square:"",bordered:"",class:"full-height-table","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48,style:Me({height:t(u)})},{header:a(p=>[e(qe,{props:p,class:"bg-grey-4"},{default:a(()=>[(b(!0),h(H,null,lt(p.cols,c=>(b(),U(Wt,{key:c.name,props:p,class:"text-weight-bold text-grey-8"},{default:a(()=>[v(r(c.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(p=>[e(qe,{props:p,class:"hover-highlight"},{default:a(()=>[e(F,{key:"name",props:p,class:"text-left"},{default:a(()=>[l("div",wp,r(p.row.product_name),1),l("div",kp,r(p.row.product_barcode),1),p.row.notes?(b(),U(_e,{key:0,text:p.row.notes,icon:"notes",class:"text-grey-6"},null,8,["text"])):$("",!0)]),_:2},1032,["props"]),e(F,{key:"subtotal_price",props:p,class:"text-right"},{default:a(()=>[l("div",$p,[l("div",null,r(t(K)(p.row.subtotal_price)),1),l("div",hp,r(t(K)(p.row.quantity))+" x Rp. "+r(t(K)(p.row.price)),1)])]),_:2},1032,["props"]),e(F,{key:"action",props:p,class:"text-right",style:{width:"5%"}},{default:a(()=>[e(A,{icon:"edit",color:"grey",flat:"",round:"",size:"sm",onClick:c=>s.$emit("edit-item",p.row),disable:m.isProcessing},null,8,["onClick","disable"]),e(A,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:c=>s.$emit("remove-item",p.row),disable:m.isProcessing},null,8,["onClick","disable"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","style"]))}},xp=Object.freeze(Object.defineProperty({__proto__:null,default:to},Symbol.toStringTag,{value:"Module"})),Sp=gt({name:"QBtnToggle",props:{...Sa,modelValue:{required:!0},options:{type:Array,required:!0,validator:m=>m.every(n=>("label"in n||"icon"in n||"slot"in n)&&"value"in n)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(m,{slots:n,emit:u}){const o=Z(()=>m.options.find(g=>g.value===m.modelValue)!==void 0),s=Z(()=>({type:"hidden",name:m.name,value:m.modelValue})),i=ln(s),p=Z(()=>en(m)),c=Z(()=>({rounded:m.rounded,dense:m.dense,...p.value})),d=Z(()=>m.options.map((g,V)=>{const{attrs:S,value:k,slot:E,...P}=g;return{slot:E,props:{key:V,"aria-pressed":k===m.modelValue?"true":"false",...S,...P,...c.value,disable:m.disable===!0||P.disable===!0,color:k===m.modelValue?y(P,"toggleColor"):y(P,"color"),textColor:k===m.modelValue?y(P,"toggleTextColor"):y(P,"textColor"),noCaps:y(P,"noCaps")===!0,noWrap:y(P,"noWrap")===!0,size:y(P,"size"),padding:y(P,"padding"),ripple:y(P,"ripple"),stack:y(P,"stack")===!0,stretch:y(P,"stretch")===!0,onClick(w){f(k,g,w)}}}}));function f(g,V,S){m.readonly!==!0&&(m.modelValue===g?m.clearable===!0&&(u("update:modelValue",null,null),u("clear")):u("update:modelValue",g,V),u("click",S))}function y(g,V){return g[V]===void 0?m[V]:g[V]}function _(){const g=d.value.map(V=>fe(A,V.props,V.slot!==void 0?n[V.slot]:void 0));return m.name!==void 0&&m.disable!==!0&&o.value===!0&&i(g,"push"),$a(n.default,g)}return()=>fe(tn,{class:"q-btn-toggle",...p.value,rounded:m.rounded,stretch:m.stretch,glossy:m.glossy,spread:m.spread},_)}}),Vp={key:0,class:"text-center q-mb-md text-grey-8"},qp={class:"text-subtitle2 text-weight-medium"},Cp={class:"text-h5 text-center text-primary q-pb-md"},Tp={class:"q-mb-md flex flex-center"},Pp={key:1},Ip={class:"col-6"},Op={class:"col-6"},Dp={class:"row"},Rp={class:"text-center q-mt-md"},Up={key:0,class:"text-h6 text-negative text-weight-bold"},Ap={key:1,class:"text-h6 text-green-8 text-weight-bold"},Mp={key:2,class:"text-h6 text-positive text-weight-bold"},jp={key:2},Ep={class:"text-h6 text-negative text-center"},Np={key:3},lo={__name:"PaymentDialog",props:{modelValue:{type:Boolean,required:!0},form:{type:Object,required:!0},customer:{type:Object,required:!1},total:{type:Number,required:!0}},emits:["update:modelValue","accepted"],setup(m,{emit:n}){const u=m,o=n,s=ce(),i=C(!1),p=C("cash"),c=C(new Date),d=C(null),f=Ie([{id:"cash",amount:0}]),y=Z(()=>[{label:"Tunai",value:"cash"},...u.customer?[{label:"Wallet",value:"wallet"}]:[],...s.props.accounts.map(O=>({label:O.name+" - "+O.number,value:O.id}))]),_=Z(()=>f.reduce((O,N)=>O+(N.amount||0),0)),g=Z(()=>u.total-_.value),V=Z(()=>{if(!u.customer)return!0;const O=f.find(j=>j.id==="wallet");return(O?O.amount:0)<=u.customer.balance}),S=new Date,k=at.addToDate(new Date,{days:30}),E=Z(()=>[O=>!!O||"Tanggal jatuh tempo harus diisi",O=>at.isBetweenDates(O,S,k,{inclusiveFrom:!0,inclusiveTo:!0})?!0:"Tanggal tidak boleh kurang dari hari ini dan lebih dari 30 hari dari sekarang."]),P=Z(()=>{if(p.value==="debt")return!!u.customer&&E.value.every(G=>G(c.value)===!0);const O=V.value,N=f.some(G=>(G.amount||0)>0),j=f.every(G=>(G.amount||0)>=0),I=g.value<=0;return O&&N&&j&&I}),w=()=>{f.length<3&&f.push({id:"cash",amount:0})},D=O=>{if(f.length>1){const N=f.findIndex(j=>j.id===O);N!==-1&&f.splice(N,1)}},B=O=>{p.value=O,c.value=new Date,f.splice(0,f.length),O==="cash"&&(f.splice(0,f.length,{id:"cash",amount:u.total}),Tt(()=>{d.value&&d.value.length>0&&(d.value[0].focus(),d.value[0].select())}))},x=()=>{if(!P.value)return;i.value=!0;let O={total:u.total,is_debt:p.value==="debt"};if(p.value==="debt")O.due_date=at.formatDate(c.value,"YYYY-MM-DD"),O.payments=[];else{const N=_.value,j=N>u.total?N-u.total:0,I=g.value>0?g.value:0;O.payments=f,O.remaining_debt=I,O.change=j}o("accepted",O),i.value=!1},T=()=>{B("cash"),Tt(()=>{})};return(O,N)=>(b(),U(xt,{"model-value":m.modelValue,"onUpdate:modelValue":N[3]||(N[3]=j=>O.$emit("update:modelValue",j)),onBeforeShow:T},{default:a(()=>[e(ie,{style:{"min-width":"300px"}},{default:a(()=>[e(te,null,{default:a(()=>N[4]||(N[4]=[l("div",{class:"text-subtitle1 text-bold text-center"}," Rincian Pembayaran ",-1)])),_:1}),e(te,{class:"q-pt-none"},{default:a(()=>[m.customer?(b(),h("div",Vp,[l("div",qp,[v(" Username: "+r(m.customer.username)+" ",1),N[5]||(N[5]=l("br",null,null,-1)),v(" Nama: "+r(m.customer.name),1),N[6]||(N[6]=l("br",null,null,-1)),v(" Saldo: Rp. "+r(t(K)(m.customer.balance)),1)])])):$("",!0),l("div",Cp," Total: Rp. "+r(t(K)(m.total)),1),l("div",Tp,[e(t(Sp),{modelValue:p.value,"onUpdate:modelValue":[N[0]||(N[0]=j=>p.value=j),B],options:[{label:"Tunai",value:"cash",slot:"cash",color:"green"},{label:"Tempo",value:"debt",slot:"debt",disable:!m.customer,color:"red"}],flat:"",spread:"",class:"bg-grey-2"},null,8,["modelValue","options"])]),p.value==="cash"?(b(),h("div",Pp,[(b(!0),h(H,null,lt(f,(j,I)=>(b(),h("div",{key:j.id,class:"row q-col-gutter-sm q-mb-sm"},[l("div",Ip,[e(t(se),{modelValue:j.id,"onUpdate:modelValue":G=>j.id=G,options:y.value,label:"Metode Pembayaran",outlined:!0,"emit-value":"","map-options":"",dense:"",class:"custom-select",disable:i.value,"hide-bottom-space":""},null,8,["modelValue","onUpdate:modelValue","options","disable"])]),l("div",Op,[e(Ne,{modelValue:j.amount,"onUpdate:modelValue":G=>j.amount=G,label:"Jumlah",outlined:!0,dense:"",disable:i.value,error:j.id==="wallet"&&!V.value,"error-message":j.id==="wallet"&&!V.value?"Saldo tidak cukup!":"","hide-bottom-space":"",ref_for:!0,ref:I===0?"firstPaymentInputRef":null},Ye({_:2},[f.length>1?{name:"append",fn:a(()=>[e(q,{size:"xs",name:"close",class:"cursor-pointer",onClick:G=>D(j.id)},null,8,["onClick"])]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","disable","error","error-message"])])]))),128)),l("div",Dp,[e(A,{disable:!(f.length<3&&g.value>0),flat:"",dense:"",icon:"add",label:"Tambah Pembayaran",onClick:w,size:"sm"},null,8,["disable"])]),l("div",Rp,[g.value>0?(b(),h("div",Up," Sisa Tagihan: Rp. "+r(t(K)(g.value)),1)):g.value<0?(b(),h("div",Ap," Kembalian: Rp. "+r(t(K)(Math.abs(g.value))),1)):(b(),h("div",Mp," Tagihan Terbayar "))])])):p.value==="debt"&&m.customer?(b(),h("div",jp,[e(La,{outlined:"",modelValue:c.value,"onUpdate:modelValue":N[1]||(N[1]=j=>c.value=j),label:"Tanggal Jatuh Tempo",hint:"Pilih tanggal jatuh tempo pembayaran utang",class:"q-mb-md","min-date":t(S),"max-date":t(k),rules:E.value},null,8,["modelValue","min-date","max-date","rules"]),l("div",Ep," Total Utang: Rp. "+r(t(K)(m.total)),1)])):p.value==="debt"&&!m.customer?(b(),h("div",Np,N[7]||(N[7]=[l("div",{class:"text-center text-negative text-h6"}," Tidak dapat mencatat utang tanpa memilih pelanggan. ",-1)]))):$("",!0)]),_:1}),e($t,{align:"center",class:"q-mb-sm"},{default:a(()=>[e(A,{flat:"",label:"Batal",color:"grey",onClick:N[2]||(N[2]=j=>O.$emit("update:modelValue",!1))}),e(A,{label:p.value==="debt"?"Catat Utang":"Bayar",color:"positive",onClick:x,disable:i.value||!P.value,loading:i.value},null,8,["label","disable","loading"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Bp=Object.freeze(Object.defineProperty({__proto__:null,default:lo},Symbol.toStringTag,{value:"Module"})),Fp={class:"row items-center no-wrap"},zp={class:"col-auto"},Lp={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Hp={__name:"ProductBrowserDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","product-selected"],setup(m,{emit:n}){const u=m,o=n,s=C(null),i=C([]),p=C(!0),c=Ie({search:"",status:"active",...Ue()}),d=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),f=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"price",label:"Harga",field:"price",align:"right"}],y=Z(()=>f);he(()=>{_()});const _=()=>{u.modelValue!==!1&&g()},g=(k=null)=>{p.value=!0,Ae({pagination:d,filter:c,props:k,rows:i,url:route("admin.product.data"),loading:p,tableRef:s})},V=()=>{_()},S=k=>{o("product-selected",k),setTimeout(()=>{o("update:modelValue",!1)},100)};return Be(()=>u.modelValue,(k,E)=>{E===!0&&k===!1&&(c.search=""),k===!0&&g()}),(k,E)=>(b(),U(xt,{"model-value":m.modelValue,"onUpdate:modelValue":E[3]||(E[3]=P=>k.$emit("update:modelValue",P)),maximized:k.$q.screen.lt.sm},{default:a(()=>[e(ie,{class:"column fit"},{default:a(()=>[e(te,{class:"q-py-sm"},{default:a(()=>[l("div",Fp,[E[4]||(E[4]=l("div",{class:"col text-subtitle text-grey-8 text-bold"},"Cari Produk",-1)),l("div",zp,[e(A,{flat:"",round:"",size:"sm",icon:"close",onClick:E[0]||(E[0]=P=>k.$emit("update:modelValue",!1))})])])]),_:1}),e(te,{class:ye(["q-py-sm",k.$q.screen.lt.sm?"q-px-xs":""])},{default:a(()=>[e(le,{autofocus:"",outlined:"",dense:"",debounce:"300",modelValue:c.search,"onUpdate:modelValue":[E[1]||(E[1]=P=>c.search=P),V],placeholder:"Cari produk berdasarkan nama atau barcode",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["class"]),e(te,{class:ye(["q-py-xs col",k.$q.screen.lt.sm?"q-px-xs":""])},{default:a(()=>[e(Te,{ref_key:"tableRef",ref:s,flat:"",class:"fit full-height-table",square:"",bordered:"",dense:"",color:"primary","row-key":"id",pagination:d.value,"onUpdate:pagination":E[2]||(E[2]=P=>d.value=P),filter:c.search,loading:p.value,columns:y.value,rows:i.value,"rows-per-page-options":[10,25,50],onRequest:g,"binary-state-sort":"","no-data-label":"Tidak ada produk ditemukan","virtual-scroll":!0,"rows-per-page-label":null},{"no-data":a(({icon:P,message:w,filter:D})=>[l("div",Lp,[l("span",null,r(w),1)])]),body:a(P=>[e(qe,{tabindex:"0",props:P,class:ye([{inactive:!P.row.active},"cursor-pointer"]),onClick:w=>S(P.row),onKeydown:[Nt(Q(w=>S(P.row),["prevent","stop"]),["enter"]),Nt(Q(w=>S(P.row),["prevent"]),["space"])]},{default:a(()=>[e(F,{key:"name",props:P,class:"wrap-column"},{default:a(()=>[e(_e,{text:P.row.name},null,8,["text"]),P.row.description?(b(),U(_e,{key:0,text:P.row.description,"max-length":50,class:"text-grey-6"},null,8,["text"])):$("",!0)]),_:2},1032,["props"]),e(F,{key:"stock",props:P,class:"wrap-column text-right"},{default:a(()=>[v(r(P.row.type=="stocked"?t(K)(P.row.stock)+" "+P.row.uom:"-"),1)]),_:2},1032,["props"]),e(F,{key:"price",props:P,class:"wrap-column text-right"},{default:a(()=>[v(" Rp. "+r(t(K)(P.row.price)),1)]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick","onKeydown"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1},8,["class"])]),_:1})]),_:1},8,["model-value","maximized"]))}},Yp={class:"row items-center no-wrap"},Kp={class:"col-auto"},ao={__name:"ItemEditorDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,required:!1},isProcessing:{type:Boolean,required:!1}},emits:["update:modelValue","save"],setup(m,{expose:n,emit:u}){const o=m,s=u,i=()=>{s("save")},p=Z(()=>o.item.quantity*o.item.price),c=y=>{y.stopPropagation(),y.preventDefault()},d=y=>{o.modelValue&&(y.key==="Enter"?(i(),c(y)):y.key==="Escape"&&(s("update:modelValue",!1),c(y)))};return he(()=>{window.addEventListener("keydown",d)}),ll(()=>{window.removeEventListener("keydown",d)}),n({getCurrentItem:()=>o.item}),(y,_)=>(b(),U(xt,{"model-value":m.modelValue,"onUpdate:modelValue":_[6]||(_[6]=g=>y.$emit("update:modelValue",g))},{default:a(()=>[e(ie,null,{default:a(()=>[e(te,{class:"q-py-sm"},{default:a(()=>[l("div",Yp,[_[7]||(_[7]=l("div",{class:"col text-subtite text-bold text-grey-8"},"Edit Item",-1)),l("div",Kp,[e(A,{flat:"",size:"sm",round:"",icon:"close",onClick:_[0]||(_[0]=g=>y.$emit("update:modelValue",!1))})])])]),_:1}),e(te,{class:"q-py-sm"},{default:a(()=>[e(le,{modelValue:m.item.product_name,"onUpdate:modelValue":_[1]||(_[1]=g=>m.item.product_name=g),label:"Produk","hide-bottom-space":"",readonly:"",disable:m.isProcessing},null,8,["modelValue","disable"]),e(Ne,{modelValue:m.item.quantity,"onUpdate:modelValue":_[2]||(_[2]=g=>m.item.quantity=g),label:"Kwantitas","hide-bottom-space":"",autofocus:"",disable:m.isProcessing},null,8,["modelValue","disable"]),e(Ne,{modelValue:m.item.price,"onUpdate:modelValue":_[3]||(_[3]=g=>m.item.price=g),label:"Harga",readonly:!m.item.price_editable,"hide-bottom-space":"",disable:m.isProcessing},null,8,["modelValue","readonly","disable"]),e(Ne,{modelValue:p.value,"onUpdate:modelValue":_[4]||(_[4]=g=>p.value=g),label:"Subtotal","hide-bottom-space":"",readonly:""},null,8,["modelValue"]),e(le,{modelValue:m.item.notes,"onUpdate:modelValue":_[5]||(_[5]=g=>m.item.notes=g),label:"Catatan",autogrow:"",type:"textarea",counter:"",maxlength:"50","hide-bottom-space":"",clearable:""},null,8,["modelValue"])]),_:1}),e($t,{align:"right"},{default:a(()=>[J(e(A,{flat:"",label:"Batal",color:"primary",disable:m.isProcessing},null,8,["disable"]),[[re]]),J(e(A,{flat:"",label:"Simpan",color:"primary",onClick:i,disable:m.isProcessing},null,8,["disable"]),[[re]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Qp=Object.freeze(Object.defineProperty({__proto__:null,default:ao},Symbol.toStringTag,{value:"Module"})),Wp={key:0,class:"q-select__selected-item"},Jp={__name:"CustomerAutocomplete",props:{modelValue:{type:[Object],default:null},class:{type:String,default:""},label:{type:String,default:"Cari Pelanggan"},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},disable:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},minLength:{type:Number,default:0},initialData:{type:Object,default:null,required:!1}},emits:["update:modelValue","customerSelected"],setup(m,{expose:n,emit:u}){const o=C(null),s=m,i=u,p=C([]);let c=null;const d=C(s.modelValue);he(()=>{s.initialData&&(d.value=s.initialData)}),Be(d,_=>{i("update:modelValue",_),i("customerSelected",_)}),Be(()=>s.modelValue,_=>{d.value=_}),n({focus:()=>{o.value&&o.value.focus()}});const y=(_,g)=>{if(_.length<s.minLength){g(()=>{p.value=[]});return}c&&clearTimeout(c),c=setTimeout(()=>{mt.get(`/web-api/customers?q=${_}`).then(V=>{g(()=>{p.value=V.data.data})}).catch(V=>{console.error("Gagal mengambil data pelanggan:",V),g(()=>{p.value=[]})})},500)};return(_,g)=>(b(),U(se,{class:ye(m.class),ref_key:"qSelectRef",ref:o,modelValue:d.value,"onUpdate:modelValue":g[0]||(g[0]=V=>d.value=V),"use-input":"","input-debounce":"0",label:m.label,options:p.value,onFilter:y,clearable:"",error:m.error,behavior:"menu","error-message":m.errorMessage,disable:m.disable,"hide-bottom-space":"",outlined:m.outlined,style:{"min-width":"150px !important"},"option-value":"id","option-label":"name"},{option:a(V=>[e(ee,an(on(V.itemProps)),{default:a(()=>[e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>[v(r(V.opt.name),1)]),_:2},1024),e(ge,{caption:""},{default:a(()=>[e(q,{name:"person",size:"14px"}),v(" "+r(V.opt.username),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),"selected-item":a(V=>[V.opt?(b(),h("div",Wp,r(V.opt.name)+" ("+r(V.opt.username)+") ",1)):$("",!0)]),_:1},8,["class","modelValue","label","options","error","error-message","disable","outlined"]))}},Gp={__name:"HelpDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(m,{emit:n}){return(u,o)=>(b(),U(xt,{"model-value":m.modelValue,"onUpdate:modelValue":o[0]||(o[0]=s=>u.$emit("update:modelValue",s))},{default:a(()=>[e(ie,{style:{"min-width":"300px"}},{default:a(()=>[e(te,{class:"q-py-none q-pt-md"},{default:a(()=>o[1]||(o[1]=[l("div",{class:"text-bold text-grey-8"},"Bantuan",-1)])),_:1}),e(te,null,{default:a(()=>o[2]||(o[2]=[l("table",{style:{width:"100%"},class:"info-table"},[l("thead",null,[l("tr",null,[l("th",null,"Shortcut"),l("th",null,"Aksi")])]),l("tbody",null,[l("tr",null,[l("td",null,"F1"),l("td",null,"Dialog Bantuan")]),l("tr",null,[l("td",null,"F2"),l("td",null,"Aktifkan Input Barcode")]),l("tr",null,[l("td",null,"F3"),l("td",null,"Pilih Pelanggan")]),l("tr",null,[l("td",null,"F4"),l("td",null,"Gabung / pisahkan item saat input")])])],-1)])),_:1}),e($t,{align:"center"},{default:a(()=>[J(e(A,{dense:"",label:"Tutup"},null,512),[[re]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},oo=ft(Gp,[["__scopeId","data-v-ed1bbfe5"]]),Xp=Object.freeze(Object.defineProperty({__proto__:null,default:oo},Symbol.toStringTag,{value:"Module"}));function Zp(m){const n=C(!1),u=()=>{const i=m.value||document.documentElement;i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.msRequestFullscreen&&i.msRequestFullscreen()},o=()=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},s=()=>{n.value?o():u()};return nn(()=>{const i=()=>{n.value=!!document.fullscreenElement};return document.addEventListener("fullscreenchange",i),document.addEventListener("webkitfullscreenchange",i),document.addEventListener("mozfullscreenchange",i),document.addEventListener("MSFullscreenChange",i),()=>{document.removeEventListener("fullscreenchange",i),document.removeEventListener("webkitfullscreenchange",i),document.removeEventListener("mozfullscreenchange",i),document.removeEventListener("MSFullscreenChange",i)}}),{isFullscreen:n,requestFullscreen:u,exitFullscreen:o,toggleFullscreen:s}}const ef={class:"row items-center no-wrap"},tf={class:"col text-subtite text-bold text-grey-8"},lf={class:"col-auto"},no={__name:"OrderInfoDialog",props:{modelValue:{type:Boolean,required:!0},data:{type:Object,required:!1},isProcessing:{type:Boolean,required:!1}},emits:["update:modelValue","save"],setup(m,{expose:n,emit:u}){const o=m,s=u,i=()=>{s("save")},p=f=>{f.stopPropagation(),f.preventDefault()},c=f=>{o.modelValue&&(f.key==="Enter"?(i(),p(f)):f.key==="Escape"&&(s("update:modelValue",!1),p(f)))};return he(()=>{window.addEventListener("keydown",c)}),ll(()=>{window.removeEventListener("keydown",c)}),n({getCurrentItem:()=>o.item}),(f,y)=>(b(),U(xt,{"model-value":m.modelValue,"onUpdate:modelValue":y[4]||(y[4]=_=>f.$emit("update:modelValue",_))},{default:a(()=>[e(ie,null,{default:a(()=>[e(te,{class:"q-py-sm"},{default:a(()=>[l("div",ef,[l("div",tf," Edit "+r(m.data.formatted_id),1),l("div",lf,[e(A,{flat:"",size:"sm",round:"",icon:"close",onClick:y[0]||(y[0]=_=>f.$emit("update:modelValue",!1))})])])]),_:1}),e(te,{class:"q-py-sm"},{default:a(()=>[e(Ut,{modelValue:m.data.datetime,"onUpdate:modelValue":y[1]||(y[1]=_=>m.data.datetime=_),label:"Waktu","hide-bottom-space":"",disable:m.isProcessing,autofocus:""},null,8,["modelValue","disable"]),e(le,{modelValue:f.$CONSTANTS.SALES_ORDER_STATUSES[m.data.status],"onUpdate:modelValue":y[2]||(y[2]=_=>f.$CONSTANTS.SALES_ORDER_STATUSES[m.data.status]=_),label:"Status","hide-bottom-space":"",readonly:"",disable:m.isProcessing},null,8,["modelValue","disable"]),e(le,{modelValue:m.data.notes,"onUpdate:modelValue":y[3]||(y[3]=_=>m.data.notes=_),label:"Catatan",autogrow:"",type:"textarea",counter:"",maxlength:"50","hide-bottom-space":"",clearable:""},null,8,["modelValue"])]),_:1}),e($t,{align:"right"},{default:a(()=>[J(e(A,{flat:"",label:"Batal",color:"primary",disable:m.isProcessing},null,8,["disable"]),[[re]]),J(e(A,{flat:"",label:"Simpan",color:"primary",onClick:i,disable:m.isProcessing},null,8,["disable"]),[[re]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},af=Object.freeze(Object.defineProperty({__proto__:null,default:no},Symbol.toStringTag,{value:"Module"})),of={key:0},nf={style:{float:"right"}},sf={key:1},rf={style:{float:"right"}},df={key:2},uf={style:{float:"right"}},mf={key:3},cf={style:{float:"right"}},pf={style:{float:"right"}},ff={class:"q-gutter-sm"},gf={class:"q-my-md"},bf={__name:"SuccessDialog",props:{modelValue:{type:Boolean,required:!0},order:{type:Object,required:!0},total:{type:Number,required:!0},customer:{type:[Object],required:!1},payment:{type:[Object],required:!1}},emits:["update:modelValue"],setup(m,{emit:n}){const u=C(null),o=()=>{var s;(s=u.value)==null||s.focus()};return(s,i)=>(b(),U(xt,{"model-value":m.modelValue,"onUpdate:modelValue":i[0]||(i[0]=p=>s.$emit("update:modelValue",p)),onBeforeShow:o,persistent:""},{default:a(()=>[e(ie,{style:{"min-width":"300px"}},{default:a(()=>[e(te,{class:"q-py-none q-pt-md"},{default:a(()=>i[1]||(i[1]=[l("div",{class:"text-bold text-grey-8 text-h6",align:"center"},"Sukses",-1)])),_:1}),e(te,{align:"center"},{default:a(()=>[i[22]||(i[22]=l("div",{class:"q-mb-md"},"Transaksi Berhasil",-1)),l("table",null,[l("tbody",null,[l("tr",null,[i[2]||(i[2]=l("td",null,"ID",-1)),i[3]||(i[3]=l("td",null,":",-1)),l("td",null,r(m.order.formatted_id),1)]),m.customer?(b(),h("tr",of,[i[5]||(i[5]=l("td",{style:{"vertical-align":"top"}},"Pelanggan",-1)),i[6]||(i[6]=l("td",{style:{"vertical-align":"top"}},":",-1)),l("td",null,[v(r(m.customer.name)+" ",1),i[4]||(i[4]=l("br",null,null,-1)),v(r(m.customer.username),1)])])):$("",!0),l("tr",null,[i[8]||(i[8]=l("td",null,"Total",-1)),i[9]||(i[9]=l("td",null,":",-1)),l("td",null,[i[7]||(i[7]=v(" Rp. ")),l("div",nf,r(t(K)(m.payment.total)),1)])]),m.payment.cash_amount?(b(),h("tr",sf,[i[11]||(i[11]=l("td",null,"Tunai",-1)),i[12]||(i[12]=l("td",null,":",-1)),l("td",null,[i[10]||(i[10]=v(" Rp. ")),l("div",rf,r(t(K)(m.payment.cash_amount)),1)])])):$("",!0),m.payment.wallet_amount?(b(),h("tr",df,[i[14]||(i[14]=l("td",null,"Wallet",-1)),i[15]||(i[15]=l("td",null,":",-1)),l("td",null,[i[13]||(i[13]=v(" Rp. ")),l("div",uf,r(t(K)(m.payment.wallet_amount)),1)])])):$("",!0),m.payment.remaining_debt?(b(),h("tr",mf,[i[17]||(i[17]=l("td",null,"Piutang",-1)),i[18]||(i[18]=l("td",null,":",-1)),l("td",null,[i[16]||(i[16]=v(" Rp. ")),l("span",cf,r(t(K)(m.payment.remaining_debt)),1)])])):$("",!0),l("tr",null,[i[20]||(i[20]=l("td",null,"Kembalian",-1)),i[21]||(i[21]=l("td",null,":",-1)),l("td",null,[i[19]||(i[19]=v(" Rp. ")),l("div",pf,r(t(K)(m.payment.change)),1)])])])])]),_:1}),e($t,{align:"center"},{default:a(()=>[l("div",ff,[e(A,{autofocus:"",label:"Cetak Struk",icon:"print",ref_key:"printButtonRef",ref:u,color:"green"},null,512),e(A,{label:"Transaksi Baru",icon:"edit",color:"primary"})]),l("div",gf,[e(A,{label:"Kembali ke daftar transaksi",icon:"arrow_back"})])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},so=ft(bf,[["__scopeId","data-v-79f1f7a4"]]),vf=Object.freeze(Object.defineProperty({__proto__:null,default:so},Symbol.toStringTag,{value:"Module"})),yf={class:"q-gutter-sm"},_f={class:"row items-center"},wf={class:"text-weight-bold"},kf={class:"row q-col-gutter-none full-width"},$f={class:"col-sm-6 col-12 col"},hf={class:"row full-width"},xf={class:"text-grey q-mt-xs q-ml-sm"},Sf={class:"col-sm-6 col-12"},Vf={class:"row q-ml-sm items-end"},qf={class:"row col grow"},Cf={class:"col-12 q-pa-sm column"},Tf={class:"row items-start q-col-gutter-none q-px-sm",style:{"max-height":"80px"}},Pf={key:0,class:"col"},If={class:"text-caption text-grey-6 q-mt-xs"},Of={key:0,class:"text-caption text-grey-8 q-mt-xs"},Df={class:"text-italic"},Rf={key:1,class:"col"},Uf={class:"q-pa-sm q-pb-none text-grey-8"},Af={class:"col"},Mf={class:"row no-wrap items-start justify-between",style:{background:"#eee",padding:"10px",border:"1px solid #ddd"}},jf={class:"text-h4 text-weight-bold"},Ef={class:"row q-px-sm q-pb-none q-py-sm q-col-gutter-sm"},Nf={class:"col q-py-sm"},Bf={class:"q-py-sm"},Ff={__name:"Editor",setup(m){const n=$e(),u=ce(),o=C(!0),s=C(null),i=C(null),p=C(null),c=C(!1),d=C(null),f=C(null),{isFullscreen:y,toggleFullscreen:_}=Zp(f),g=u.props.data.formatted_id,V=C(u.props.data.customer),S=C(null),k=C(""),E=C(!1),P=C(!1),w=C(!1),D=C(!1),B=C(!1),x=C(!1),T=C(null),O=Ie({id:u.props.data.id,formatted_id:u.props.data.formatted_id,customer_id:u.props.data.customer_id,datetime:new Date(u.props.data.datetime),status:u.props.data.status,payment_status:u.props.data.payment_status,delivery_status:u.props.data.delivery_status,notes:u.props.data.notes,items:u.props.data.details??[]}),N=Z(()=>O.items.reduce((ue,Y)=>ue+Y.price*Y.quantity,0)),j=()=>{var ue;_(),y.value||(ue=d==null?void 0:d.value)==null||ue.hideDrawer()},I=ue=>isNaN(ue)||ue<=0?(Mt("Kuantitas tidak valid.","top"),!1):!0,G=ue=>isNaN(ue)||ue<0?(Mt("Harga tidak valid.","top"),!1):!0,de=ue=>!ue||ue.length==0?(Mt("Barcode tidak valid.","top"),!1):!0,R=ue=>{k.value.endsWith("*")?k.value+=ue.name:k.value=ue.name},z=async()=>{const ue=k.value.trim();if(ue.length===0){w.value=!0;return}const Y=ue.split("*");let xe=1,we="",pe=null;if(Y.length===1)we=Y[0];else if(Y.length<=3)xe=parseInt(Y[0]),we=Y[1],Y.length===3&&(pe=parseFloat(Y[2]));else{Mt("Input tidak valid.","top");return}if(we.length===0){w.value=!0;return}!de(we)&&!I(xe)&&!G(pe)||(E.value=!0,await mt.post(route("admin.sales-order.add-item"),{order_id:O.id,product_code:we,qty:xe,price:pe,merge:o.value}).then(Ze=>{const it=Ze.data.data.item;let dt=-1;Ze.data.data.mergeItem&&(dt=O.items.findIndex(sl=>sl.id===it.id)),dt===-1?O.items.push(it):O.items[dt]=it,k.value="",pe!==null&&pe!==parseFloat(it.price)&&Mt("Harga tidak dapat diubah!","top")}).catch(Ze=>{var it,dt;jt((dt=(it=Ze.response)==null?void 0:it.data)==null?void 0:dt.message,"top"),console.error("Gagal mengambil data produk:",Ze)}),E.value=!1,Tt(()=>{var Ze;(Ze=s.value)==null||Ze.focus()}))},X=ue=>{T.value=Object.create(ue),D.value=!0},Ce=ue=>{n.dialog({title:"Hapus Item",message:`Apakah Anda yakin akan menghapus item ${ue.product_name}?`,cancel:{label:"Batal",color:"grey"},ok:{label:"Hapus",color:"negative"},persistent:!0}).onOk(()=>{E.value=!0,mt.post(route("admin.sales-order.remove-item"),{id:ue.id}).then(()=>{const Y=O.items.findIndex(xe=>xe.id===ue.id);Y!==-1&&(O.items.splice(Y,1)[0],Et("Item telah dihapus","top"))}).catch(Y=>{var xe,we;jt(((we=(xe=Y==null?void 0:Y.response)==null?void 0:xe.data)==null?void 0:we.message)??"Terdapat kesalahan saat menghapus item!","top"),console.error(Y)}).finally(()=>{E.value=!1})})},ae=()=>{E.value=!0;const ue=i.value.getCurrentItem(),Y={id:ue.id,qty:ue.quantity};ue.price_editable&&(Y.price=ue.price),ue.notes&&(Y.notes=ue.notes),mt.post(route("admin.sales-order.update-item"),Y).then(xe=>{const we=xe.data.data,pe=O.items.findIndex(Ze=>Ze.id===we.id);pe!==-1&&(O.items[pe]=we,Et("Item telah diperbarui","top"))}).catch(xe=>{var we,pe;jt(((pe=(we=xe==null?void 0:xe.response)==null?void 0:we.data)==null?void 0:pe.message)??"Terdapat kesalahan saat menyimpan!","top"),console.error(xe)}).finally(()=>{E.value=!1})};he(()=>{const ue=Y=>{Y.key==="F1"?(Y.preventDefault(),c.value=!0):Y.key==="F2"?(Y.preventDefault(),s.value.focus()):Y.key==="F3"?(Y.preventDefault(),p.value.focus()):Y.key==="F4"?(Y.preventDefault(),o.value=!o.value):Y.key==="F10"?(Y.preventDefault(),P.value=!0):Y.key==="F11"&&(Y.preventDefault(),j())};document.addEventListener("keydown",ue),ll(()=>{document.removeEventListener("keydown",ue)}),Tt(()=>{var Y;(Y=d==null?void 0:d.value)==null||Y.hideDrawer()})});const Ve=ue=>{V.value=ue,O.customer_id=ue==null?void 0:ue.id,ze(),Tt(()=>{var Y;(Y=s.value)==null||Y.focus()})},ze=()=>{E.value=!0;const ue={id:O.id,customer_id:O.customer_id,datetime:sn(O.datetime),notes:O.notes};mt.post(route("admin.sales-order.update"),ue).then(Y=>{const xe=Y.data.data.id;O.customer_id=xe.customer_id}).catch(Y=>{var xe,we;jt(((we=(xe=Y==null?void 0:Y.response)==null?void 0:xe.data)==null?void 0:we.message)??"Terdapat kesalahan saat menyimpan!","top"),console.error(Y)}).finally(()=>{E.value=!1})},rt=ue=>{if(O.items.length===0){Et("Item masih kosong","top");return}const Y={id:O.id,...ue};console.log(ue),E.value=!0,mt.post(route("admin.sales-order.close"),Y).then(xe=>{Et("Transaksi selesai"),W.visit(route("admin.sales-order.detail",{id:O.id}))}).catch(xe=>{var we,pe;jt((pe=(we=xe.response)==null?void 0:we.data)==null?void 0:pe.message),console.error(xe)}).finally(()=>{E.value=!1})},nt=()=>{wl.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${O.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{mt.post(route("admin.sales-order.cancel",{id:O.id}),{id:O.id}).then(()=>{Et("Transaksi telah dibatalkan."),W.visit(route("admin.sales-order.detail",{id:O.id}))}).catch(ue=>{var xe,we;const Y=((we=(xe=ue.response)==null?void 0:xe.data)==null?void 0:we.message)||"Terjadi kesalahan saat membatalkan transaksi.";n.notify({message:Y,color:"warning",position:"bottom"}),console.error(ue)})})},bt=()=>{W.visit(route("admin.sales-order.detail",{id:O.id}),{target:"_blank"})};return(ue,Y)=>{const xe=L("i-head"),we=L("authenticated-layout");return b(),h(H,null,[e(xe,{title:t(g)},null,8,["title"]),e(we,{ref_key:"authLayoutRef",ref:d,"show-drawer-button":!0},{title:a(()=>[v(r(t(g)),1)]),"left-button":a(()=>[l("div",yf,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:Y[0]||(Y[0]=pe=>t(W).get(ue.route("admin.sales-order.index")))})])]),"right-button":a(()=>[l("div",_f,[t(n).screen.gt.sm?(b(),h(H,{key:0},[l("div",wf,r(t(u).props.auth.user.username),1),Y[22]||(Y[22]=l("div",{class:"q-mx-sm"},"|",-1)),l("div",null,[e(Wa)])],64)):$("",!0),$("",!0)])]),default:a(()=>[e(ke,{class:"bg-grey-2 q-pa-none column fit"},{default:a(()=>[e(ie,{square:"",flat:"",class:"full-width col column q-pb-none"},{default:a(()=>[l("div",kf,[l("div",$f,[l("div",hf,[e(Jp,{ref_key:"customerAutocompleteRef",ref:p,class:"custom-select full-width col col-12 bg-white q-pa-sm",modelValue:V.value,"onUpdate:modelValue":Y[2]||(Y[2]=pe=>V.value=pe),label:"Pelanggan",disable:E.value,onCustomerSelected:Ve,"min-length":1,outlined:"",autofocus:""},null,8,["modelValue","disable"]),l("div",xf," Saldo: "+r(V.value?"Rp. "+t(K)(V.value?V.value.balance:0):"Tidak tersedia"),1)])]),l("div",Sf,[e(le,{ref_key:"userInputRef",ref:s,modelValue:k.value,"onUpdate:modelValue":Y[5]||(Y[5]=pe=>k.value=pe),onKeyup:Y[6]||(Y[6]=Nt(Q(pe=>z(),["prevent"]),["enter"])),loading:E.value,disable:E.value,placeholder:"Qty * Kode / Barcode * Harga",class:"col col-12 q-pa-sm bg-white",outlined:"",clearable:""},{prepend:a(()=>[e(q,{name:"search",onClick:Y[3]||(Y[3]=pe=>w.value=!0),class:"cursor-pointer"})]),append:a(()=>{var pe;return[((pe=k.value)==null?void 0:pe.length)>0?(b(),U(q,{key:0,name:"send",onClick:Y[4]||(Y[4]=Ze=>z()),class:"cursor-pointer q-ml-md"})):$("",!0)]}),_:1},8,["modelValue","loading","disable"]),l("div",Vf,[e(qt,{class:"col",modelValue:o.value,"onUpdate:modelValue":Y[7]||(Y[7]=pe=>o.value=pe),label:"Gabungkan item",disable:E.value},null,8,["modelValue","disable"])])])]),l("div",qf,[l("div",Cf,[e(to,{items:O.items,onUpdateQuantity:Y[8]||(Y[8]=({id:pe,value:Ze})=>ue.updateQuantity(pe,Ze)),onRemoveItem:Ce,onEditItem:X,"is-processing":E.value},null,8,["items","is-processing"])])]),l("div",Tf,[t(n).screen.gt.sm?(b(),h("div",Pf,[l("div",If,r(O.items.length)+" item(s) ",1),O.notes?(b(),h("div",Of,[Y[23]||(Y[23]=l("div",{class:"text-bold"},"Catatan:",-1)),l("div",Df,[e(_e,{text:O.notes},null,8,["text"])])])):$("",!0)])):$("",!0),t(n).screen.gt.sm?(b(),h("div",Rf,[l("div",Uf,[l("div",null,"#: "+r(O.formatted_id),1),l("div",null,r(t(be)(O.datetime)),1)])])):$("",!0),l("div",Af,[l("div",Mf,[Y[25]||(Y[25]=l("span",{class:"text-grey-8 text-subtitle-2 text-bold"},"TOTAL",-1)),l("span",jf,[Y[24]||(Y[24]=l("sup",{style:{"font-size":"13px"}},"Rp.",-1)),v(" "+r(t(K)(N.value)),1)])])])]),l("div",Ef,[l("div",Nf,[e(A,{class:"full-width q-py-none",label:"Bayar",color:"primary",icon:"payment",onClick:Y[9]||(Y[9]=pe=>P.value=!0),disable:E.value||O.items.length===0||O.status!=="draft",loading:E.value},null,8,["disable","loading"])]),l("div",Bf,[e(A,{class:"q-py-none",icon:"more_vert",color:"grey",onClick:Y[13]||(Y[13]=Q(()=>{},["stop"])),style:{width:"10px"}},{default:a(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(De,{style:{width:"200px"}},{default:a(()=>[J((b(),U(ee,{clickable:"",onClick:Y[10]||(Y[10]=Q(pe=>B.value=!0,["stop"]))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(M,null,{default:a(()=>Y[26]||(Y[26]=[v("Edit Rincian")])),_:1})]),_:1})),[[ne],[re]]),J((b(),U(ee,{clickable:"",onClick:Y[11]||(Y[11]=Q(pe=>bt(),["stop"]))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"preview"})]),_:1}),e(M,null,{default:a(()=>Y[27]||(Y[27]=[v("Pratinjau")])),_:1})]),_:1})),[[ne],[re]]),J((b(),U(ee,{clickable:"",onClick:Y[12]||(Y[12]=Q(pe=>nt(),["stop"]))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"cancel",color:"negative"})]),_:1}),e(M,{class:"text-negative"},{default:a(()=>Y[28]||(Y[28]=[v(" Batalkan ")])),_:1})]),_:1})),[[ne],[re]]),e(ot)]),_:1})]),_:1})]),_:1})])])]),_:1}),e(ao,{ref_key:"itemEditorRef",ref:i,modelValue:D.value,"onUpdate:modelValue":Y[14]||(Y[14]=pe=>D.value=pe),item:T.value,onSave:Y[15]||(Y[15]=pe=>ae()),"is-processing":E.value},null,8,["modelValue","item","is-processing"]),e(lo,{modelValue:P.value,"onUpdate:modelValue":Y[16]||(Y[16]=pe=>P.value=pe),onAccepted:rt,form:O,customer:V.value,total:N.value,accounts:t(u).props.accounts},null,8,["modelValue","form","customer","total","accounts"]),e(Hp,{modelValue:w.value,"onUpdate:modelValue":Y[17]||(Y[17]=pe=>w.value=pe),onProductSelected:R},null,8,["modelValue"]),e(no,{modelValue:B.value,"onUpdate:modelValue":Y[18]||(Y[18]=pe=>B.value=pe),data:O,onSave:Y[19]||(Y[19]=pe=>ze()),"is-processing":E.value},null,8,["modelValue","data","is-processing"]),e(oo,{modelValue:c.value,"onUpdate:modelValue":Y[20]||(Y[20]=pe=>c.value=pe)},null,8,["modelValue"]),e(so,{modelValue:x.value,"onUpdate:modelValue":Y[21]||(Y[21]=pe=>x.value=pe),order:O,customer:V.value,total:N.value,payment:S.value},null,8,["modelValue","order","customer","total","payment"])]),_:1})]),_:1},512)],64)}}},zf=Object.freeze(Object.defineProperty({__proto__:null,default:Ff},Symbol.toStringTag,{value:"Module"})),Lf={__name:"SalesOrderStatusChip",props:{status:{type:String,required:!0}},setup(m){const n=window.CONSTANTS.SALES_ORDER_STATUSES,u={draft:"orange",closed:"green",canceled:"red"};return(o,s)=>(b(),U(Ca,{status:m.status,statuses:t(n),colors:u},null,8,["status","statuses"]))}},Hf={__name:"SalesOrderPaymentStatusChip",props:{status:{type:String,required:!0}},setup(m){const n=window.CONSTANTS.SALES_ORDER_PAYMENT_STATUSES,u={unpaid:"red",fully_paid:"green",partially_paid:"orange",refunded:"black"};return(o,s)=>(b(),U(Ca,{status:m.status,statuses:t(n),colors:u},null,8,["status","statuses"]))}};const Yf={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Kf={class:"q-pa-xs"},Qf={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Wf={key:0},Jf={key:1},Gf={key:0},Xf={class:"flex justify-end"},da="Penjualan",Zf={__name:"Index",setup(m){const n=$e(),u=C(!1),o=C([]),s=C(!0),i=C(null),p=C(null),c=We(p),d=Bt(),f=Ft(),y=[{label:"Semua Tahun",value:"all"},{label:`${d}`,value:d},...Pt(d-2,d-1).reverse()],_=[{value:"all",label:"Semua Bulan"},...It()],g=[{value:"all",label:"Semua Status"},...Ke(window.CONSTANTS.SALES_ORDER_STATUSES)],V=[{value:"all",label:"Semua Status"},...Ke(window.CONSTANTS.SALES_ORDER_PAYMENT_STATUSES)],S=[{value:"all",label:"Semua Status"},...Ke(window.CONSTANTS.SALES_ORDER_DELIVERY_STATUSES)],k=Ie({search:"",year:d,month:f,status:"all",payment_status:"all",delivery_status:"all",...Ue()}),E=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),P=[{name:"id",label:"Info Order",field:"id",align:"left",sortable:!0},{name:"customer_id",label:"Pelanggan",field:"customer_id",align:"left"},{name:"total",label:"Total",field:"total",align:"right"},{name:"action",align:"right"}];he(()=>{O()});const w=I=>{if(I.status=="draft"){D(I);return}B(I)},D=I=>{W.get(route("admin.sales-order.edit",I.id))},B=I=>{W.get(route("admin.sales-order.detail",I.id))},x=I=>{wl.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${I.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{mt.post(route("admin.sales-order.cancel",{id:I.id}),{id:I.id}).then(G=>{const de=G.data.data,R=o.value.findIndex(z=>z.id===de.id);if(R===-1){console.warn("Item tidak ditemukan di tabel.");return}o.value[R].status="canceled",n.notify({message:G.data.message,position:"bottom"})}).catch(G=>{var R,z;const de=((z=(R=G.response)==null?void 0:R.data)==null?void 0:z.message)||"Terjadi kesalahan saat membatalkan transaksi.";n.notify({message:de,color:"warning",position:"bottom"}),console.error(G)})})},T=I=>Ge({title:"Konfirmasi Penghapusan",message:`Hapus transaksi #${I.formatted_id}?`,url:route("admin.sales-order.delete",I.id),fetchItemsCallback:O,loading:s}),O=(I=null)=>{Ae({pagination:E,filter:k,props:I,rows:o,url:route("admin.sales-order.data"),loading:s,tableRef:i})},N=()=>{O()},j=Z(()=>n.screen.gt.sm?P:P.filter(I=>I.name==="id"||I.name==="action"));return Be(()=>k.year,I=>{I===null&&(k.month=null)}),(I,G)=>{const de=L("i-head"),R=L("authenticated-layout");return b(),h(H,null,[e(de,{title:da}),e(R,null,Ye({title:a(()=>[v(r(da))]),"right-button":a(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:G[0]||(G[0]=z=>u.value=!u.value)},null,8,["icon"]),e(A,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:G[1]||(G[1]=z=>t(W).get(I.route("admin.sales-order.add")))})]),default:a(()=>[l("div",Kf,[e(Te,{ref_key:"tableRef",ref:i,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:E.value,"onUpdate:pagination":G[11]||(G[11]=z=>E.value=z),filter:k.search,loading:s.value,columns:j.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Me({height:t(c)}),onRequest:O,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:z,message:X,filter:Ce})=>[l("div",Qf,[l("span",null,r(X)+" "+r(Ce?" with term "+Ce:""),1)])]),body:a(z=>[e(qe,{props:z,class:"cursor-pointer",onClick:Q(X=>w(z.row),["prevent"])},{default:a(()=>[e(F,{key:"id",props:z,class:"wrap-column"},{default:a(()=>[l("div",null,[e(q,{name:"tag"}),v(" "+r(z.row.formatted_id),1)]),l("div",null,[e(q,{class:"inline-icon",name:"calendar_today"}),v(r(t(be)(z.row.datetime)),1)]),t(n).screen.gt.sm?$("",!0):(b(),h(H,{key:0},[z.row.customer?(b(),h("div",Wf,[e(q,{name:"person"}),e(rn,{href:I.route("admin.customer.detail",{id:z.row.customer.id}),onClick:G[8]||(G[8]=Q(()=>{},["stop"]))},{default:a(()=>[v(r(z.row.customer.username)+" - "+r(z.row.customer.name),1)]),_:2},1032,["href"])])):$("",!0),l("div",null,"Rp. "+r(t(K)(z.row.grand_total)),1),z.row.notes?(b(),h("div",Jf,[e(q,{name:"notes"}),v(" "+r(z.row.notes),1)])):$("",!0)],64)),l("div",null,[e(Lf,{status:z.row.status},null,8,["status"]),e(Hf,{status:z.row.payment_status},null,8,["status"]),$("",!0)])]),_:2},1032,["props"]),e(F,{key:"customer_id",props:z},{default:a(()=>[z.row.customer?(b(),h("div",Gf,[e(q,{name:"person",class:"inline-icon"}),v(" "+r(z.row.customer_username)+" - "+r(z.row.customer_name)+" ",1),G[12]||(G[12]=l("br",null,null,-1)),e(q,{name:"phone",class:"inline-icon"}),v(" "+r(z.row.customer_phone)+" ",1),G[13]||(G[13]=l("br",null,null,-1)),e(q,{name:"home_pin",class:"inline-icon"}),v(" "+r(z.row.customer_address),1)])):$("",!0)]),_:2},1032,["props"]),e(F,{key:"total",props:z},{default:a(()=>[v(r(t(K)(z.row.grand_total)),1)]),_:2},1032,["props"]),e(F,{key:"action",props:z,onClick:G[10]||(G[10]=Q(()=>{},["stop"]))},{default:a(()=>[l("div",Xf,[I.$can("admin.sales-order.detail")||I.$can("admin.sales-order.edit")||I.$can("admin.sales-order.cancel")||I.$can("admin.sales-order.delete")?(b(),U(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:G[9]||(G[9]=Q(()=>{},["stop"]))},{default:a(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(De,{style:{width:"200px"}},{default:a(()=>[z.row.status!="draft"&&I.$can("admin.sales-order.detail")?J((b(),U(ee,{key:0,onClick:Q(X=>B(z.row),["stop"]),clickable:""},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"visibility"})]),_:1}),e(M,null,{default:a(()=>G[14]||(G[14]=[v(" Lihat ")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),I.$can("admin.sales-order.edit")?J((b(),U(ee,{key:1,onClick:Q(X=>D(z.row),["stop"]),clickable:""},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(M,null,{default:a(()=>[v(r(z.row.status=="draft"?"Edit":"Reopen"),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),z.row.status=="draft"&&I.$can("admin.sales-order.cancel")?J((b(),U(ee,{key:2,onClick:Q(X=>x(z.row),["stop"]),clickable:""},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"cancel"})]),_:1}),e(M,null,{default:a(()=>G[15]||(G[15]=[v(" Batalkan ")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),e(ot),I.$can("admin.sales-order.delete")?J((b(),U(ee,{key:3,onClick:Q(X=>T(z.row),["stop"]),clickable:""},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(M,null,{default:a(()=>G[16]||(G[16]=[v(" Hapus ")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):$("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[u.value?{name:"header",fn:a(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:a(()=>[l("div",Yf,[e(se,{modelValue:k.year,"onUpdate:modelValue":[G[2]||(G[2]=z=>k.year=z),N],options:y,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),k.year!="all"?(b(),U(se,{key:0,modelValue:k.month,"onUpdate:modelValue":[G[3]||(G[3]=z=>k.month=z),N],options:_,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:k.year===null},null,8,["modelValue","disable"])):$("",!0),e(se,{modelValue:k.status,"onUpdate:modelValue":[G[4]||(G[4]=z=>k.status=z),N],options:g,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(se,{modelValue:k.payment_status,"onUpdate:modelValue":[G[5]||(G[5]=z=>k.payment_status=z),N],options:V,label:"Status Pembayaran",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),$("",!0),e(le,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:k.search,"onUpdate:modelValue":G[7]||(G[7]=z=>k.search=z),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},eg=Object.freeze(Object.defineProperty({__proto__:null,default:Zf},Symbol.toStringTag,{value:"Module"})),tg={class:"q-gutter-sm"},lg={class:"col col-md-6 q-pa-xs"},ag={key:0},og={class:"text-bold"},ng={key:0},sg={class:"text-caption text-grey-8"},rg={key:1},ua="Buat Penyesuaian Stok",ig={__name:"Create",setup(m){const u=ce().props.products,o=C([]),s=je({type:"stock_opname",datetime:new Date,notes:null,product_ids:[]}),i=[{name:"name",label:"Nama Produk",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"center",sortable:!1,format:(y,_)=>K(y)+" "+_.uom}],p=Ke(window.CONSTANTS.STOCK_ADJUSTMENT_TYPES),c=()=>{s.product_ids=o.value.map(y=>y.id),Lt(s,{datetime:"YYYY-MM-DD HH:mm:ss"}),Fe({form:s,url:route("admin.stock-adjustment.create")})},d=$e(),f=Z(()=>d.screen.gt.sm?i:i.filter(y=>y.name==="name"));return(y,_)=>{const g=L("i-head"),V=L("authenticated-layout");return b(),h(H,null,[e(g,{title:ua}),e(V,{"show-drawer-button":!1},{title:a(()=>[v(r(ua))]),"left-button":a(()=>[l("div",tg,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:_[0]||(_[0]=S=>t(W).get(y.route("admin.stock-adjustment.index")))})])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",lg,[e(Re,{class:"row",onSubmit:Q(c,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-sm"},{default:a(()=>[_[6]||(_[6]=l("div",{class:"text-subtitle2"},[l("b",null,"Info Penyesuaian Stok")],-1)),e(Ut,{modelValue:t(s).datetime,"onUpdate:modelValue":_[1]||(_[1]=S=>t(s).datetime=S),label:"Waktu",error:!!t(s).errors.datetime,disable:t(s).processing,"error-message":t(s).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(se,{modelValue:t(s).type,"onUpdate:modelValue":_[2]||(_[2]=S=>t(s).type=S),options:t(p),label:"Jenis Penyesuaian",class:"custom-select",error:!!t(s).errors.type,disable:t(s).processing,"map-options":"","emit-value":"","error-message":t(s).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","error-message"]),e(le,{modelValue:t(s).notes,"onUpdate:modelValue":_[3]||(_[3]=S=>t(s).notes=S),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,null,{default:a(()=>[_[7]||(_[7]=l("div",{class:"text-subtitle2"},[l("b",null,"Pilih Produk")],-1)),e(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:f.value,rows:t(u),"binary-state-sort":"","hide-pagination":!0,dense:"","rows-per-page-options":[0],selection:"multiple",selected:o.value,"onUpdate:selected":_[4]||(_[4]=S=>o.value=S)},{"body-cell-name":a(S=>[e(F,{props:S},{default:a(()=>[t(d).screen.lt.md?(b(),h("div",ag,[l("div",og,r(S.row.name),1),S.row.category?(b(),h("div",ng,r(S.row.category.name),1)):$("",!0),l("div",sg,r(t(K)(S.row.stock))+" "+r(S.row.uom),1)])):(b(),h("div",rg,r(S.row.name),1))]),_:2},1032,["props"])]),_:1},8,["columns","rows","selected"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(A,{icon:"play_arrow",type:"submit",label:"Lanjutkan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:_[5]||(_[5]=S=>t(W).get(y.route("admin.stock-adjustment.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},dg=Object.freeze(Object.defineProperty({__proto__:null,default:ig},Symbol.toStringTag,{value:"Module"})),ug={class:"q-gutter-sm"},mg={class:"row justify-center"},cg={class:"col col-lg-8 q-pa-sm"},pg={class:"row"},fg={class:"detail"},gg={key:0},bg={key:1},vg={class:"text-grey-9"},yg={__name:"Detail",setup(m){const n=ce(),u=`Rincian Penyesuaian Stok #${n.props.data.id}`,o=n.props.details,s=[{name:"no",label:"#",field:"no",align:"left"},{name:"product_name",label:"Nama Produk",field:"product_name",align:"left"},{name:"uom",label:"Satuan",field:"uom",align:"left"},{name:"old_quantity",label:"Stok Lama",field:"old_quantity",align:"right",format:c=>K(c)},{name:"new_quantity",label:"Stok Baru",field:"new_quantity",align:"right",format:c=>K(c)},{name:"balance",label:"Selisih Stok",field:"balance",align:"right",format:c=>K(c)},{name:"cost_balance",label:"Selisih Modal",field:"cost_balance",align:"right"},{name:"price_balance",label:"Selisih Harga",field:"price_balance",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}],i=$e(),p=Z(()=>i.screen.gt.sm?s:s.filter(c=>c.name==="no"));return(c,d)=>{const f=L("i-head"),y=L("i-link"),_=L("authenticated-layout");return b(),h(H,null,[e(f,{title:u}),e(_,{"show-drawer-button":!1},{title:a(()=>[v(r(u))]),"left-button":a(()=>[l("div",ug,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=g=>c.$inertia.get(c.route("admin.stock-adjustment.index")))})])]),default:a(()=>[l("div",mg,[l("div",cg,[l("div",pg,[e(ie,{square:"",flat:"",bordered:"",class:"q-card col"},{default:a(()=>[e(te,null,{default:a(()=>[d[21]||(d[21]=l("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Penyesuaian Stok ",-1)),l("table",fg,[l("tbody",null,[l("tr",null,[d[1]||(d[1]=l("td",{style:{width:"120px"}},"ID",-1)),d[2]||(d[2]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,"# "+r(t(n).props.data.id),1)]),l("tr",null,[d[3]||(d[3]=l("td",null,"Jenis",-1)),d[4]||(d[4]=l("td",null,":",-1)),l("td",null,r(c.$CONSTANTS.STOCK_ADJUSTMENT_TYPES[t(n).props.data.type]),1)]),l("tr",null,[d[5]||(d[5]=l("td",null,"Status",-1)),d[6]||(d[6]=l("td",null,":",-1)),l("td",null,r(c.$CONSTANTS.STOCK_ADJUSTMENT_STATUSES[t(n).props.data.status]),1)]),l("tr",null,[d[7]||(d[7]=l("td",null,"Waktu",-1)),d[8]||(d[8]=l("td",null,":",-1)),l("td",null,r(c.$dayjs(t(n).props.data.datetime).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)]),t(n).props.data.created_at?(b(),h("tr",gg,[d[10]||(d[10]=l("td",null,"Dibuat Oleh",-1)),d[11]||(d[11]=l("td",null,":",-1)),l("td",null,[t(n).props.data.created_by?(b(),h(H,{key:0},[e(y,{href:c.route("admin.user.detail",{id:t(n).props.data.created_by})},{default:a(()=>[v(r(t(n).props.data.created_by.username)+" - "+r(t(n).props.data.created_by.name),1)]),_:1},8,["href"]),d[9]||(d[9]=v(" - "))],64)):$("",!0),v(" "+r(c.$dayjs(new Date(t(n).props.data.created_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):$("",!0),t(n).props.data.updated_at?(b(),h("tr",bg,[d[13]||(d[13]=l("td",null,"Diperbarui oleh",-1)),d[14]||(d[14]=l("td",null,":",-1)),l("td",null,[t(n).props.data.updated_by?(b(),h(H,{key:0},[e(y,{href:c.route("admin.user.detail",{id:t(n).props.data.updated_by})},{default:a(()=>[v(r(t(n).props.data.updated_by.username)+" - "+r(t(n).props.data.updated_by.name),1)]),_:1},8,["href"]),d[12]||(d[12]=v(" - "))],64)):$("",!0),v(" "+r(c.$dayjs(new Date(t(n).props.data.updated_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):$("",!0),l("tr",null,[d[15]||(d[15]=l("td",null,"Total Modal",-1)),d[16]||(d[16]=l("td",null,":",-1)),l("td",null,[l("div",{class:ye(t(n).props.data.total_cost<0?"text-red-10":t(n).props.data.total_cost>0?"text-green-10":"")}," Rp. "+r(t(K)(t(n).props.data.total_cost)),3)])]),l("tr",null,[d[17]||(d[17]=l("td",null,"Total Harga",-1)),d[18]||(d[18]=l("td",null,":",-1)),l("td",null,[l("div",{class:ye(t(n).props.data.total_price<0?"text-red-10":t(n).props.data.total_price>0?"text-green-10":"")}," Rp. "+r(t(K)(t(n).props.data.total_price)),3)])]),l("tr",null,[d[19]||(d[19]=l("td",null,"Catatan",-1)),d[20]||(d[20]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.notes),1)])])])]),_:1}),e(te,null,{default:a(()=>[d[26]||(d[26]=l("div",{class:"text-subtitle1 text-bold text-grey-9 q-pt-md"}," Rincian ",-1)),e(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",dense:"",columns:p.value,rows:t(o),"hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-no":a(g=>[e(F,{props:g},{default:a(()=>[t(i).screen.lt.md?(b(),h(H,{key:1},[l("div",vg,[l("b",null,"#"+r(g.rowIndex+1),1),v(" - "+r(g.row.product_name),1)]),l("div",null,[v(" Stok Lama: "+r(t(K)(g.row.old_quantity))+" "+r(g.row.uom),1),d[23]||(d[23]=l("br",null,null,-1)),v(" Stok Baru: "+r(t(K)(g.row.new_quantity))+" "+r(g.row.uom),1),d[24]||(d[24]=l("br",null,null,-1)),l("div",{class:ye(g.row.balance<0?"text-red-10":g.row.balance>0?"text-green-10":"")},[v(" Selisih: "+r((g.row.balance>0?"+":"")+t(K)(g.row.balance))+" "+r(g.row.uom),1),d[22]||(d[22]=l("br",null,null,-1)),v(" (Rp. "+r(t(K)(g.row.subtotal_cost))+" / Rp. "+r(t(K)(g.row.subtotal_price))+") ",1)],2),d[25]||(d[25]=l("br",null,null,-1)),v(" "+r(g.row.notes),1)])],64)):(b(),h(H,{key:0},[v(r(g.rowIndex+1),1)],64))]),_:2},1032,["props"])]),"body-cell-balance":a(g=>[e(F,{props:g},{default:a(()=>[l("div",{class:ye(g.row.balance<0?"text-red-10":g.row.balance>0?"text-green-10":"")},r((g.row.balance>0?"+":"")+t(K)(g.row.balance)),3)]),_:2},1032,["props"])]),"body-cell-cost_balance":a(g=>[e(F,{props:g},{default:a(()=>[l("div",{class:ye(g.row.balance<0?"text-red-10":g.row.balance>0?"text-green-10":"")},r(t(K)(g.row.subtotal_cost)),3)]),_:2},1032,["props"])]),"body-cell-price_balance":a(g=>[e(F,{props:g},{default:a(()=>[l("div",{class:ye(g.row.balance<0?"text-red-10":g.row.balance>0?"text-green-10":"")},r(t(K)(g.row.subtotal_price)),3)]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1})]),_:1})])])])]),_:1})],64)}}},_g=Object.freeze(Object.defineProperty({__proto__:null,default:yg},Symbol.toStringTag,{value:"Module"})),wg={class:"q-gutter-sm"},kg={class:"col col-md-6 q-pa-xs"},$g={class:"text-bold"},hg={key:0},xg={class:"text-caption text-grey-8"},ma="Penyesuaian Stok",Sg={__name:"Editor",setup(m){const n=ce(),u=je({id:n.props.item.id,type:n.props.item.type,datetime:new Date(n.props.item.datetime),notes:n.props.item.notes,action:"save",details:[]}),o=Ke(window.CONSTANTS.STOCK_ADJUSTMENT_TYPES),s=n.props.details,i=f=>{const y=()=>{u.action=f,u.details=s.map(_=>({id:_.id,new_quantity:_.new_quantity})),Lt(u,{datetime:"YYYY-MM-DD HH:mm:ss"}),Fe({form:u,url:route("admin.stock-adjustment.save")})};f==="close"||f==="cancel"?wl.create({title:"Konfirmasi",message:"Aksi ini tidak dapat dibatalkan, apakah Anda yakin?",cancel:!0,persistent:!0}).onOk(()=>{y()}).onCancel(()=>{}):y()},p=[{name:"product_name",label:"Nama Produk",field:"product_name",align:"left",sortable:!0},{name:"uom",label:"Satuan",field:"uom",align:"center"},{name:"old_quantity",label:"Tercatat",field:"old_quantity",align:"right",format:f=>K(f)},{name:"new_quantity",label:"Aktual",field:"new_quantity",align:"right",format:f=>K(f)},{name:"balance",label:"Selisih",field:"balance",align:"right",format:(f,y)=>K(y.new_quantity-y.old_quantity)}],c=$e(),d=Z(()=>c.screen.gt.sm?p:p.filter(f=>f.name==="product_name"||f.name==="new_quantity"));return(f,y)=>{const _=L("i-head"),g=L("authenticated-layout");return b(),h(H,null,[e(_,{title:ma}),e(g,{"show-drawer-button":!1},{title:a(()=>[v(r(ma))]),"left-button":a(()=>[l("div",wg,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:y[0]||(y[0]=V=>f.$inertia.get(f.route("admin.stock-adjustment.index")))})])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",kg,[e(Re,{class:"row",onSubmit:Q(i,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,null,{default:a(()=>y[8]||(y[8]=[l("div",{class:"text-subtitle1"},"Info Penyesuaian",-1)])),_:1}),e(te,{class:"q-pt-none"},{default:a(()=>[J(l("input",{type:"hidden",name:"id","onUpdate:modelValue":y[1]||(y[1]=V=>t(u).id=V)},null,512),[[Xe,t(u).id]]),e(Ut,{modelValue:t(u).datetime,"onUpdate:modelValue":y[2]||(y[2]=V=>t(u).datetime=V),label:"Waktu",error:!!t(u).errors.datetime,disable:t(u).processing,"error-message":t(u).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(se,{modelValue:t(u).type,"onUpdate:modelValue":y[3]||(y[3]=V=>t(u).type=V),options:t(o),label:"Jenis Penyesuaian",class:"custom-select",error:!!t(u).errors.type,disable:t(u).processing,"map-options":"","emit-value":"","error-message":t(u).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","error-message"]),e(le,{modelValue:t(u).notes,"onUpdate:modelValue":y[4]||(y[4]=V=>t(u).notes=V),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(u).processing,error:!!t(u).errors.notes,"error-message":t(u).errors.notes,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,null,{default:a(()=>[e(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:d.value,rows:t(s),"binary-state-sort":"","hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-product_name":a(V=>[e(F,{props:V},{default:a(()=>[l("div",$g,r(V.row.product_name),1),t(c).screen.lt.md?(b(),h("div",hg,[l("div",xg,[v(" Tercatat: "+r(t(K)(V.row.old_quantity))+" ",1),y[9]||(y[9]=l("br",null,null,-1)),v(" Selisih: "+r(t(K)(V.row.new_quantity-V.row.old_quantity)),1)])])):$("",!0)]),_:2},1032,["props"])]),"body-cell-new_quantity":a(V=>[e(F,{props:V},{default:a(()=>[e(le,{modelValue:V.row[V.col.name],"onUpdate:modelValue":S=>V.row[V.col.name]=S,modelModifiers:{number:!0},"input-class":"text-right",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(A,{icon:"save",onClick:y[5]||(y[5]=V=>i("save")),label:"Simpan",color:"primary",disable:t(u).processing},null,8,["disable"]),e(A,{icon:"done_all",onClick:y[6]||(y[6]=V=>i("close")),label:"Selesaikan",color:"green",disable:t(u).processing},null,8,["disable"]),e(A,{icon:"close",onClick:y[7]||(y[7]=V=>i("cancel")),label:"Batalkan",color:"red",disable:t(u).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Vg=Object.freeze(Object.defineProperty({__proto__:null,default:Sg},Symbol.toStringTag,{value:"Module"})),qg={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Cg={class:"q-pa-xs"},Tg={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Pg={key:0,class:"flex q-gutter-xs"},Ig={class:"flex q-col-gutter-xs"},Og={key:0},Dg={key:1},Rg={class:"flex justify-end"},ca="Penyesuaian Stok",Ug={__name:"Index",setup(m){const n=C([]),u=C(!0),o=C(!1),s=C(null),i=C(null),p=We(i),c=Ie({search:"",status:"all",type:"all",...Ue()}),d=[{value:"all",label:"Semua"},...Ke(window.CONSTANTS.STOCK_ADJUSTMENT_STATUSES)],f=[{value:"all",label:"Semua"},...Ke(window.CONSTANTS.STOCK_ADJUSTMENT_TYPES)],y=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),_=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"status",label:"Status",field:"status",align:"center",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!1},{name:"total_cost",label:"Total Modal",field:"total_cost",align:"right",sortable:!1},{name:"total_price",label:"Total Harga",field:"total_price",align:"right",sortable:!1},{name:"notes",label:"Notes",field:"notes",align:"left",sortable:!1},{name:"action",align:"right"}];he(()=>{V()});const g=w=>Ge({message:`Hapus Transaksi #${w.id}?`,url:route("admin.stock-adjustment.delete",w.id),fetchItemsCallback:V,loading:u}),V=(w=null)=>Ae({pagination:y,filter:c,props:w,rows:n,url:route("admin.stock-adjustment.data"),loading:u,tableRef:s}),S=()=>{V()},k=w=>{w.status=="draft"?W.get(route("admin.stock-adjustment.editor",w.id)):W.get(route("admin.stock-adjustment.detail",w.id))},E=$e(),P=Z(()=>E.screen.gt.sm?_:_.filter(w=>w.name==="id"||w.name==="action"));return(w,D)=>{const B=L("i-head"),x=L("authenticated-layout");return b(),h(H,null,[e(B,{title:ca}),e(x,null,Ye({"right-button":a(()=>[e(A,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:D[0]||(D[0]=T=>o.value=!o.value)},null,8,["icon"]),w.$can("admin.stock-adjustment.add")?(b(),U(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:D[1]||(D[1]=T=>t(W).get(w.route("admin.stock-adjustment.create")))})):$("",!0)]),title:a(()=>[v(r(ca))]),default:a(()=>[l("div",Cg,[e(Te,{ref_key:"tableRef",ref:s,flat:"",bordered:"",square:"",color:"primary",class:"full-height-table stock-adjustment-list","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":D[6]||(D[6]=T=>y.value=T),filter:c.search,loading:u.value,columns:P.value,rows:n.value,"rows-per-page-options":[10,25,50],style:Me({height:t(p)}),onRequest:V,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:T,message:O,filter:N})=>[l("div",Tg,[l("span",null,r(O)+" "+r(N?" with term "+N:""),1)])]),body:a(T=>[e(qe,{props:T,onClick:O=>k(T.row),class:"cursor-pointer"},{default:a(()=>[e(F,{key:"id",props:T},{default:a(()=>[t(E).screen.lt.md?(b(),h(H,{key:1},[l("div",Ig,[l("div",null,"#"+r(T.row.formatted_id),1),l("div",null,[e(q,{name:"history"}),v(" "+r(w.$dayjs(new Date(T.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),e(Va,{dense:"",size:"sm",color:T.row.status==="draft"?"orange":T.row.status==="closed"?"green":T.row.status==="canceled"?"red":"",icon:T.row.status==="draft"?"emergency":T.row.status==="closed"?"check":T.row.status==="canceled"?"close":""},{default:a(()=>[v(r(w.$CONSTANTS.STOCK_ADJUSTMENT_STATUSES[T.row.status]),1)]),_:2},1032,["color","icon"])]),l("div",null,[e(q,{name:"category"}),v(" "+r(w.$CONSTANTS.STOCK_ADJUSTMENT_TYPES[T.row.type]),1)]),T.row.created_by?(b(),h("div",Og,[e(q,{name:"person"}),D[7]||(D[7]=v(" Dibuat: ")),l("b",null,r(T.row.created_by.username),1),e(q,{name:"history"}),v(" "+r(w.$dayjs(new Date(T.row.created_at)).format("DD/MM/YYYY HH:mm")),1)])):$("",!0),T.row.updated_by?(b(),h("div",Dg,[e(q,{name:"person"}),D[8]||(D[8]=v(" Diperbarui: ")),l("b",null,r(T.row.updated_by.username),1),e(q,{name:"history"}),v(" "+r(w.$dayjs(new Date(T.row.updated_at)).format("DD/MM/YYYY HH:mm")),1)])):$("",!0),l("div",{class:ye(T.row.total_cost<0?"text-red-10":T.row.total_cost>0?"text-green-10":"")},[e(q,{name:"money"}),v(" Rp. "+r(t(K)(T.row.total_cost))+" / Rp. "+r(t(K)(T.row.total_price)),1)],2)],64)):(b(),h("div",Pg," #"+r(T.row.formatted_id),1))]),_:2},1032,["props"]),e(F,{key:"datetime",props:T},{default:a(()=>[v(r(w.$dayjs(new Date(T.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),_:2},1032,["props"]),e(F,{key:"status",props:T,class:"text-center"},{default:a(()=>[v(r(w.$CONSTANTS.STOCK_ADJUSTMENT_STATUSES[T.row.status]),1)]),_:2},1032,["props"]),e(F,{key:"type",props:T},{default:a(()=>[v(r(w.$CONSTANTS.STOCK_ADJUSTMENT_TYPES[T.row.type]),1)]),_:2},1032,["props"]),e(F,{key:"total_cost",props:T},{default:a(()=>[l("div",{class:ye(T.row.total_cost<0?"text-red-10":T.row.total_cost>0?"text-green-10":"")},r(t(K)(T.row.total_cost)),3)]),_:2},1032,["props"]),e(F,{key:"total_price",props:T},{default:a(()=>[l("div",{class:ye(T.row.total_price<0?"text-red-10":T.row.total_price>0?"text-green-10":"")},r(t(K)(T.row.total_price)),3)]),_:2},1032,["props"]),e(F,{key:"notes",props:T},{default:a(()=>[v(r(T.row.notes),1)]),_:2},1032,["props"]),e(F,{key:"action",props:T},{default:a(()=>[l("div",Rg,[w.$can("admin.stock-adjustment.delete")?(b(),U(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:D[5]||(D[5]=Q(()=>{},["stop"]))},{default:a(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(De,{style:{width:"200px"}},{default:a(()=>[w.$can("admin.stock-adjustment.delete")?J((b(),U(ee,{key:0,onClick:Q(O=>g(T.row),["stop"]),clickable:""},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(M,null,{default:a(()=>D[9]||(D[9]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):$("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[o.value?{name:"header",fn:a(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:i},{default:a(()=>[l("div",qg,[e(se,{modelValue:c.status,"onUpdate:modelValue":[D[2]||(D[2]=T=>c.status=T),S],options:d,label:"Status",dense:"","map-options":"",class:"custom-select col-xs-12 col-sm-2","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{modelValue:c.type,"onUpdate:modelValue":[D[3]||(D[3]=T=>c.type=T),S],options:f,label:"Jenis",dense:"",class:"custom-select col-xs-12 col-sm-2","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(le,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:c.search,"onUpdate:modelValue":D[4]||(D[4]=T=>c.search=T),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Ag=Object.freeze(Object.defineProperty({__proto__:null,default:Ug},Symbol.toStringTag,{value:"Module"})),Mg={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},jg={class:"q-pa-xs"},Eg={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ng={key:0},pa="Riwayat Stok",Bg={__name:"Index",setup(m){ce();const n=C(null),u=C(null),o=We(u),s=Bt();Ft();const i=[{label:"Semua Tahun",value:"all"},{label:`${s}`,value:s},...Pt(s-2,s-1).reverse()],p=[{value:"all",label:"Semua Bulan"},...It()],c=[{value:"all",label:"Semua"},...Ke(window.CONSTANTS.STOCK_MOVEMENT_REF_TYPES)],d=$e(),f=C(!1),y=C([]),_=C(!0),g=Ie({type:"all",search:"",...Ue()}),V=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"created_at",descending:!0});let S=[{name:"id",label:d.screen.lt.sm?"Item":"#",field:"id",align:"left",sortable:!0},{name:"created_at",label:"Waktu",field:"created_at",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"left",sortable:!0},{name:"product",label:"Produk",field:"product",align:"left"},{name:"quantity_before",label:"Qty Awal",field:"quantity_before",align:"right"},{name:"quantity_after",label:"Qty Akhir",field:"quantity_after",align:"right"},{name:"quantity",label:"Selisih",field:"quantity",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}];he(()=>{const D=new URLSearchParams(window.location.search).get("page");D&&(V.value.page=parseInt(D)),k()});const k=(w=null)=>{Ae({pagination:V,filter:g,props:w,rows:y,url:route("admin.stock-movement.data"),loading:_,tableRef:n})},E=()=>{k()},P=Z(()=>{let w=[...S];return d.screen.gt.sm?w:w.filter(D=>D.name==="id"||D.name==="quantity")});return(w,D)=>{const B=L("i-head"),x=L("authenticated-layout");return b(),h(H,null,[e(B,{title:pa}),e(x,null,Ye({title:a(()=>[v(r(pa))]),"right-button":a(()=>[e(A,{icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:D[0]||(D[0]=T=>f.value=!f.value)},null,8,["icon"])]),default:a(()=>[l("div",jg,[e(Te,{ref_key:"tableRef",ref:n,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:V.value,"onUpdate:pagination":D[5]||(D[5]=T=>V.value=T),filter:g.search,loading:_.value,columns:P.value,rows:y.value,"rows-per-page-options":[10,25,50],style:Me({height:t(o)}),onRequest:k,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:T,message:O,filter:N})=>[l("div",Eg,[l("span",null,r(O)+" "+r(N?" with term "+N:""),1)])]),body:a(T=>[e(qe,{props:T},{default:a(()=>[e(F,{key:"id",props:T},{default:a(()=>[l("div",null,[t(d).screen.lt.sm?(b(),h(H,{key:0},[l("div",null,[e(st,null,{default:a(()=>[v(r(w.$CONSTANTS.STOCK_MOVEMENT_REF_TYPES[T.row.ref_type]),1)]),_:2},1024)]),e(q,{class:"inline-icon",name:"tag"})],64)):$("",!0),v(" "+r(T.row.formatted_id),1)]),t(d).screen.lt.sm?(b(),h(H,{key:0},[l("div",null,[e(q,{name:"calendar_clock",class:"inline-icon"}),v(" "+r(t(be)(T.row.created_at)),1)]),l("div",null,[e(q,{name:"token",class:"inline-icon"}),v(" "+r(T.row.product.name),1)]),l("div",{class:ye(T.row.quantity>0?"text-positive":"text-negative")},[e(q,{class:"inline-icon",name:"compare_arrows"}),v(" "+r(t(K)(T.row.quantity_before))+" "+r(T.row.uom)+"  "+r(t(K)(T.row.quantity_after))+" "+r(T.row.uom),1)],2),e(_e,{text:T.row.notes,icon:"notes",class:"text-grey-8"},null,8,["text"])],64)):$("",!0)]),_:2},1032,["props"]),e(F,{key:"created_at",props:T},{default:a(()=>[v(r(t(be)(T.row.created_at)),1)]),_:2},1032,["props"]),e(F,{key:"type",props:T},{default:a(()=>[v(r(w.$CONSTANTS.STOCK_MOVEMENT_REF_TYPES[T.row.ref_type])+" ",1),T.row.ref?(b(),h("span",Ng,r(T.row.ref),1)):$("",!0)]),_:2},1032,["props"]),e(F,{key:"product",props:T},{default:a(()=>[v(r(T.row.product.name),1)]),_:2},1032,["props"]),e(F,{key:"quantity_before",props:T},{default:a(()=>[v(r(t(K)(T.row.quantity_before))+" "+r(T.row.uom),1)]),_:2},1032,["props"]),e(F,{key:"quantity_after",props:T},{default:a(()=>[v(r(t(K)(T.row.quantity_after))+" "+r(T.row.uom),1)]),_:2},1032,["props"]),e(F,{key:"quantity",props:T,class:ye(T.row.quantity>0?"text-positive":"text-negative")},{default:a(()=>[v(r(t(K)(T.row.quantity))+" "+r(T.row.uom),1)]),_:2},1032,["props","class"]),e(F,{key:"notes",props:T},{default:a(()=>[e(_e,{text:T.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[f.value?{name:"header",fn:a(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:u},{default:a(()=>[l("div",Mg,[e(se,{modelValue:g.year,"onUpdate:modelValue":[D[1]||(D[1]=T=>g.year=T),E],options:i,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),g.year!="all"?(b(),U(se,{key:0,modelValue:g.month,"onUpdate:modelValue":[D[2]||(D[2]=T=>g.month=T),E],options:p,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:g.year===null},null,8,["modelValue","disable"])):$("",!0),e(se,{modelValue:g.ref_type,"onUpdate:modelValue":[D[3]||(D[3]=T=>g.ref_type=T),E],options:c,label:"Jenis",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(le,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:g.search,"onUpdate:modelValue":D[4]||(D[4]=T=>g.search=T),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Fg=Object.freeze(Object.defineProperty({__proto__:null,default:Bg},Symbol.toStringTag,{value:"Module"})),zg={class:"q-gutter-sm"},Lg={class:"q-gutter-sm"},Hg={class:"col col-md-6 q-pa-xs"},Yg={class:"row"},Kg={class:"detail"},fa="Rincian Pemasok",Qg={__name:"Detail",setup(m){const n=ce();return(u,o)=>{const s=L("i-head"),i=L("authenticated-layout");return b(),h(H,null,[e(s,{title:fa}),e(i,{"show-drawer-button":!1},{title:a(()=>[v(r(fa))]),"left-button":a(()=>[l("div",zg,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=p=>u.$goBack())})])]),"right-button":a(()=>[l("div",Lg,[u.$can("admin.supplier.edit")?(b(),U(A,{key:0,icon:"edit",dense:"",color:"grey",size:"sm",rounded:"",flat:"",onClick:o[1]||(o[1]=p=>t(W).get(u.route("admin.supplier.edit",{id:t(n).props.data.id})))})):$("",!0)])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",Hg,[l("div",Yg,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,null,{default:a(()=>[o[14]||(o[14]=l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Info Pemasok ",-1)),l("table",Kg,[l("tbody",null,[l("tr",null,[o[2]||(o[2]=l("td",{style:{width:"70px"}},"Nama",-1)),o[3]||(o[3]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,r(t(n).props.data.name),1)]),l("tr",null,[o[4]||(o[4]=l("td",null,"Telepon",-1)),o[5]||(o[5]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.phone),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"Alamat",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.address),1)]),l("tr",null,[o[8]||(o[8]=l("td",null,"No. Rek",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.bank_account_number),1)]),l("tr",null,[o[10]||(o[10]=l("td",null,"Alamat Retur",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.return_address),1)]),l("tr",null,[o[12]||(o[12]=l("td",null,"Status",-1)),o[13]||(o[13]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Wg=Object.freeze(Object.defineProperty({__proto__:null,default:Qg},Symbol.toStringTag,{value:"Module"})),Jg={class:"q-gutter-sm"},Gg={class:"col col-md-6 q-pa-xs"},Xg={style:{"margin-left":"-10px"}},Zg={__name:"Editor",setup(m){const n=ce(),u=(n.props.data.id?"Edit":"Tambah")+" Pemasok",o=kl({id:n.props.data.id,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,bank_account_number:n.props.data.bank_account_number,return_address:n.props.data.return_address,active:!!n.props.data.active}),s=()=>Fe({form:o,url:route("admin.supplier.save")});return(i,p)=>{const c=L("i-head"),d=L("authenticated-layout");return b(),h(H,null,[e(c,{title:u}),e(d,{"show-drawer-button":!1},{title:a(()=>[v(r(u))]),"left-button":a(()=>[l("div",Jg,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:p[0]||(p[0]=f=>i.$goBack())})])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",Gg,[e(Re,{class:"row",onSubmit:Q(s,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,null,{default:a(()=>p[9]||(p[9]=[l("div",{class:"text-subtitle1"},"Info Supplier",-1)])),_:1}),e(te,{class:"q-pt-none"},{default:a(()=>[J(l("input",{type:"hidden",name:"id","onUpdate:modelValue":p[1]||(p[1]=f=>t(o).id=f)},null,512),[[Xe,t(o).id]]),e(le,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":p[2]||(p[2]=f=>t(o).name=f),modelModifiers:{trim:!0},label:"Nama","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[f=>f&&f.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(le,{modelValue:t(o).phone,"onUpdate:modelValue":p[3]||(p[3]=f=>t(o).phone=f),modelModifiers:{trim:!0},type:"text",label:"No HP","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.phone,"error-message":t(o).errors.phone,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(le,{modelValue:t(o).address,"onUpdate:modelValue":p[4]||(p[4]=f=>t(o).address=f),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.address,"error-message":t(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(le,{modelValue:t(o).bank_account_number,"onUpdate:modelValue":p[5]||(p[5]=f=>t(o).bank_account_number=f),modelModifiers:{trim:!0},type:"text",label:"No Rek","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.bank_account_number,"error-message":t(o).errors.bank_account_number,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(le,{modelValue:t(o).return_address,"onUpdate:modelValue":p[6]||(p[6]=f=>t(o).return_address=f),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat Return","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.return_address,"error-message":t(o).errors.return_address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),l("div",Xg,[e(Gt,{class:"full-width q-pl-none",modelValue:t(o).active,"onUpdate:modelValue":p[7]||(p[7]=f=>t(o).active=f),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"])])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(A,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:p[8]||(p[8]=f=>i.$goBack())},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},eb=Object.freeze(Object.defineProperty({__proto__:null,default:Zg},Symbol.toStringTag,{value:"Module"})),tb={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},lb={class:"q-pa-xs"},ab={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ob={class:"flex justify-end"},ga="Pemasok",nb={__name:"Index",setup(m){const n=$e(),u=C(!1),o=C([]),s=C(!0),i=C(null),p=C(null),c=We(p),d=Ie({search:"",status:"active",...Ue()}),f=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"phone",label:"No HP",field:"phone",align:"left",sortable:!0},{name:"address",label:"Alamat",field:"address",align:"left",sortable:!0},{name:"bank_account_number",label:"No Rek",field:"bank_account_number",align:"left",sortable:!0},{name:"action",align:"right"}],_=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];he(()=>{V()});const g=P=>Ge({message:`Hapus pemasok ${P.name}?`,url:route("admin.supplier.delete",P.id),fetchItemsCallback:V,loading:s}),V=(P=null)=>{Ae({pagination:f,filter:d,props:P,rows:o,url:route("admin.supplier.data"),loading:s,tableRef:i})},S=()=>V(),k=P=>W.get(route("admin.supplier.detail",{id:P.id})),E=Z(()=>n.screen.gt.sm?y:y.filter(P=>P.name==="name"||P.name==="action"));return(P,w)=>{const D=L("i-head"),B=L("authenticated-layout");return b(),h(H,null,[e(D,{title:ga}),e(B,null,Ye({title:a(()=>[v(r(ga))]),"right-button":a(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:w[0]||(w[0]=x=>u.value=!u.value)},null,8,["icon"]),P.$can("admin.supplier.add")?(b(),U(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:w[1]||(w[1]=x=>t(W).get(P.route("admin.supplier.add")))})):$("",!0)]),default:a(()=>[l("div",lb,[e(Te,{class:"full-height-table",ref_key:"tableRef",ref:i,s:"",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:f.value,"onUpdate:pagination":w[5]||(w[5]=x=>f.value=x),filter:d.search,loading:s.value,columns:E.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Me({height:t(c)}),onRequest:V,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:x,message:T,filter:O})=>[l("div",ab,[l("span",null,r(T)+" "+r(O?" with term "+O:""),1)])]),body:a(x=>[e(qe,{props:x,class:ye([x.row.active?"":"bg-red-1","cursor-pointer"]),onClick:T=>k(x.row)},{default:a(()=>[e(F,{key:"name",props:x,class:"wrap-column"},{default:a(()=>[l("div",null,[t(n).screen.lt.md?(b(),U(q,{key:0,name:"person"})):$("",!0),v(" "+r(x.row.name),1)]),t(n).screen.lt.md?(b(),h(H,{key:0},[l("div",null,[e(q,{name:"phone"}),v(" "+r(x.row.phone),1)]),l("div",null,[e(q,{name:"credit_card"}),v(" "+r(x.row.bank_account_number),1)]),l("div",null,[e(q,{name:"home_pin"}),v(" "+r(x.row.address),1)])],64)):$("",!0)]),_:2},1032,["props"]),e(F,{key:"phone",props:x},{default:a(()=>[v(r(x.row.phone),1)]),_:2},1032,["props"]),e(F,{key:"address",props:x},{default:a(()=>[v(r(x.row.address),1)]),_:2},1032,["props"]),e(F,{key:"bank_account_number",props:x},{default:a(()=>[v(r(x.row.bank_account_number),1)]),_:2},1032,["props"]),e(F,{key:"action",props:x},{default:a(()=>[l("div",ob,[P.$can("admin.supplier.add")||P.$can("admin.supplier.edit")||P.$can("admin.supplier.delete")?(b(),U(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:w[4]||(w[4]=Q(()=>{},["stop"]))},{default:a(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(De,{style:{width:"200px"}},{default:a(()=>[P.$can("admin.supplier.add")?J((b(),U(ee,{key:0,clickable:"",onClick:Q(T=>t(W).get(P.route("admin.supplier.duplicate",x.row.id)),["stop"])},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"file_copy"})]),_:1}),e(M,null,{default:a(()=>w[6]||(w[6]=[v(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),P.$can("admin.supplier.edit")?J((b(),U(ee,{key:1,clickable:"",onClick:Q(T=>t(W).get(P.route("admin.supplier.edit",x.row.id)),["stop"])},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(M,null,{default:a(()=>w[7]||(w[7]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),P.$can("admin.supplier.delete")?J((b(),U(ee,{key:2,onClick:Q(T=>g(x.row),["stop"]),clickable:""},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(M,null,{default:a(()=>w[8]||(w[8]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):$("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[u.value?{name:"header",fn:a(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:a(()=>[l("div",tb,[e(se,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:d.status,"onUpdate:modelValue":[w[2]||(w[2]=x=>d.status=x),S],options:_,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(le,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":w[3]||(w[3]=x=>d.search=x),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},sb=Object.freeze(Object.defineProperty({__proto__:null,default:nb},Symbol.toStringTag,{value:"Module"})),ro={__name:"UpdatePasswordForm",setup(m){const n=C(!1),u=C(null),o=C(null),s=je({current_password:"",password:"",password_confirmation:""}),i=()=>{s.clearErrors(),s.post(route("admin.user-profile.update-password"),{preserveScroll:!0,onSuccess:()=>s.reset(),onError:()=>{s.errors.password&&(s.reset("password","password_confirmation"),u.value.focus()),s.errors.current_password&&(s.reset("current_password"),o.value.focus())}})};return(p,c)=>(b(),U(Re,{class:"row",onSubmit:Q(i,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,null,{default:a(()=>[c[6]||(c[6]=l("div",{class:"text-h6 q-my-xs text-subtitle1"},"Perbarui Kata Sandi",-1)),c[7]||(c[7]=l("p",{class:"text-caption text-grey-9"}," Pastikan akun anda menggunakan kata sandi yang kuat agar akun tetap aman. ",-1)),e(le,{modelValue:t(s).current_password,"onUpdate:modelValue":c[1]||(c[1]=d=>t(s).current_password=d),type:n.value?"text":"password",label:"Kata Sandi Sekarang",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.current_password,"error-message":t(s).errors.current_password,rules:[d=>d&&d.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:a(()=>[e(A,{dense:"",flat:"",round:"",onClick:c[0]||(c[0]=d=>n.value=!n.value)},{default:a(()=>[e(q,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(le,{modelValue:t(s).password,"onUpdate:modelValue":c[3]||(c[3]=d=>t(s).password=d),type:n.value?"text":"password",label:"Kata Sandi Baru",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.password,"error-message":t(s).errors.password,rules:[d=>d&&d.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:a(()=>[e(A,{dense:"",flat:"",round:"",onClick:c[2]||(c[2]=d=>n.value=!n.value)},{default:a(()=>[e(q,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(le,{modelValue:t(s).password_confirmation,"onUpdate:modelValue":c[5]||(c[5]=d=>t(s).password_confirmation=d),type:n.value?"text":"password",label:"Konfirmasi Kata Sandi",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.password_confirmation,"error-message":t(s).errors.password_confirmation,rules:[d=>d&&d.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:a(()=>[e(A,{dense:"",flat:"",round:"",onClick:c[4]||(c[4]=d=>n.value=!n.value)},{default:a(()=>[e(q,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"])]),_:1}),e(te,null,{default:a(()=>[e(A,{type:"submit",label:"Perbarui Kata Sandi",color:"primary",icon:"save",disable:t(s).processing,loading:t(s).processing},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},rb=Object.freeze(Object.defineProperty({__proto__:null,default:ro},Symbol.toStringTag,{value:"Module"})),io={__name:"UpdateProfileInformationForm",setup(m){const u=ce().props.auth.user,o=je({name:u.name,username:u.username,type:window.CONSTANTS.USER_TYPES[u.type]}),s=()=>Fe({form:o,url:route("admin.user-profile.update")});return(i,p)=>(b(),U(Re,{class:"row",onSubmit:Q(s,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,null,{default:a(()=>[p[3]||(p[3]=l("div",{class:"text-h6 q-my-xs text-subtitle1"},"Profil Saya",-1)),p[4]||(p[4]=l("p",{class:"text-caption text-grey-9"},"Perbarui profil anda.",-1)),e(le,{modelValue:t(o).username,"onUpdate:modelValue":p[0]||(p[0]=c=>t(o).username=c),label:"ID Pengguna",disable:t(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"]),e(le,{modelValue:t(o).name,"onUpdate:modelValue":p[1]||(p[1]=c=>t(o).name=c),modelModifiers:{trim:!0},label:"Nama",disable:t(o).processing,error:!!t(o).errors.name,"error-message":t(o).errors.name,rules:[c=>c&&c.length>0||"Name harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(le,{modelValue:t(o).type,"onUpdate:modelValue":p[2]||(p[2]=c=>t(o).type=c),label:"Jenis Akun",disable:t(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"])]),_:1}),e(te,null,{default:a(()=>[e(A,{type:"submit",label:"Perbarui Profil Saya",icon:"save",color:"primary",disable:t(o).processing,loading:t(o).processing},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},ib=Object.freeze(Object.defineProperty({__proto__:null,default:io},Symbol.toStringTag,{value:"Module"})),db={class:"q-pa-xs"},ub={class:"row justify-center"},mb={class:"col col-md-6"},ba="Profil Saya",cb={__name:"Edit",setup(m){return(n,u)=>{const o=L("i-head"),s=L("authenticated-layout");return b(),h(H,null,[e(o,{title:ba}),e(s,null,{title:a(()=>[v(r(ba))]),default:a(()=>[l("div",db,[l("div",ub,[l("div",mb,[e(io,{class:"q-mb-md"}),e(ro)])])])]),_:1})],64)}}},pb=Object.freeze(Object.defineProperty({__proto__:null,default:cb},Symbol.toStringTag,{value:"Module"})),fb={class:"q-gutter-sm"},gb={class:"q-gutter-sm"},bb={class:"col col-md-6 q-pa-xs"},vb={class:"row"},yb={class:"detail"},_b={key:0},wb={key:1,class:"text-grey-8 text-italic"},kb={key:2},$b={class:"text-subtitle2 text-bold text-grey-8 q-mt-xs"},hb={key:3,class:"text-grey-8 text-italic"},va="Rincian Role Pengguna",xb={__name:"Detail",setup(m){const n=ce(),u=Z(()=>{const o={};return n.props.data.permissions&&n.props.data.permissions.forEach(s=>{const i=s.category;o[i]||(o[i]=[]),o[i].push(s)}),o});return(o,s)=>{const i=L("i-head"),p=L("authenticated-layout");return b(),h(H,null,[e(i,{title:va}),e(p,{"show-drawer-button":!0},{title:a(()=>[v(r(va))]),"left-button":a(()=>[l("div",fb,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=c=>o.$goBack())})])]),"right-button":a(()=>[l("div",gb,[e(A,{icon:"edit",dense:"",color:"grey",size:"sm",rounded:"",flat:"",onClick:s[1]||(s[1]=c=>t(W).get(o.route("admin.user-role.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",bb,[l("div",vb,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,null,{default:a(()=>[s[6]||(s[6]=l("div",{class:"text-subtitle1 text-bold text-grey-8"},"Info Role",-1)),l("table",yb,[l("tbody",null,[l("tr",null,[s[2]||(s[2]=l("td",{style:{width:"100px"}},"Nama Role",-1)),s[3]||(s[3]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,r(t(n).props.data.name),1)]),l("tr",null,[s[4]||(s[4]=l("td",null,"Deskripsi",-1)),s[5]||(s[5]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.description),1)])])]),s[7]||(s[7]=l("div",{class:"text-subtitle1 text-bold text-grey-8 q-mt-md"}," Daftar Pengguna ",-1)),t(n).props.data.users.length>0?(b(),h("div",_b,[(b(!0),h(H,null,lt(t(n).props.data.users,c=>(b(),h("div",null,"  "+r(c.username)+" - "+r(c.name),1))),256))])):(b(),h("div",wb," Belum ada akun pengguna yang terdaftar. ")),s[8]||(s[8]=l("div",{class:"text-subtitle1 text-bold text-grey-8 q-mt-md"}," Daftar Hak Akses ",-1)),t(n).props.data.permissions.length>0?(b(),h("div",kb,[(b(!0),h(H,null,lt(u.value,(c,d)=>(b(),h("div",{key:d},[l("div",$b,r(d),1),(b(!0),h(H,null,lt(c,f=>(b(),h("div",{key:f.id},"  "+r(f.label),1))),128))]))),128))])):(b(),h("div",hb," Belum ada hak akses yang ditetapkan. "))]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Sb=Object.freeze(Object.defineProperty({__proto__:null,default:xb},Symbol.toStringTag,{value:"Module"})),Vb={class:"q-gutter-sm"},qb={class:"col col-md-6 q-pa-xs"},Cb={class:"text-subtitle2 text-bold text-grey-8 q-mt-md q-mb-sm"},Tb={__name:"Editor",setup(m){const n=ce(),u=(n.props.data.id?"Edit":"Tambah")+" Peran Pengguna",o=je({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description,permissions:n.props.data.permissions?n.props.data.permissions.map(p=>p.id):[]}),s=()=>Fe({form:o,url:route("admin.user-role.save")}),i=Z(()=>{const p={};return n.props.permissions&&n.props.permissions.forEach(c=>{const d=c.category;p[d]||(p[d]=[]),p[d].push(c)}),p});return(p,c)=>{const d=L("i-head"),f=L("authenticated-layout");return b(),h(H,null,[e(d,{title:u}),e(f,{"show-drawer-button":!0},{title:a(()=>[v(r(u))]),"left-button":a(()=>[l("div",Vb,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=y=>p.$goBack())})])]),"right-button":a(()=>[e(A,{icon:"save",label:"Simpan",color:"primary",disable:t(o).processing,size:"sm",dense:"",class:"custom-dense",onClick:Q(s,["prevent"])},null,8,["disable"])]),default:a(()=>[e(ke,{class:"row justify-center"},{default:a(()=>[l("div",qb,[e(Re,{class:"row",onSubmit:Q(s,["prevent"]),onValidationError:t(Oe)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[J(l("input",{type:"hidden",name:"id","onUpdate:modelValue":c[1]||(c[1]=y=>t(o).id=y)},null,512),[[Xe,t(o).id]]),e(le,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":c[2]||(c[2]=y=>t(o).name=y),modelModifiers:{trim:!0},label:"Nama Role","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(le,{modelValue:t(o).description,"onUpdate:modelValue":c[3]||(c[3]=y=>t(o).description=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.description,"error-message":t(o).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),(b(!0),h(H,null,lt(i.value,(y,_)=>(b(),h("div",{key:_},[l("div",Cb,r(_),1),(b(!0),h(H,null,lt(y,g=>(b(),h("div",{key:g.id},[e(Gt,{class:"q-ma-none q-pa-none list-checkbox",modelValue:t(o).permissions,"onUpdate:modelValue":V=>t(o).permissions=V,val:g.id,label:g.label,color:"primary"},null,8,["modelValue","onUpdate:modelValue","val","label"])]))),128))]))),128))]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Pb=ft(Tb,[["__scopeId","data-v-c97e395c"]]),Ib=Object.freeze(Object.defineProperty({__proto__:null,default:Pb},Symbol.toStringTag,{value:"Module"})),Ob={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Db={class:"q-pa-xs"},Rb={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ub={class:"flex justify-end"},ya="Role Pengguna",Ab={__name:"Index",setup(m){const n=$e(),u=C(!1),o=C([]),s=C(!0),i=C(null),p=C(null),c=We(p),d=Ie({search:"",...Ue()}),f=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:"Nama Role",field:"name",align:"left",sortable:!0},{name:"action",align:"right"}];he(()=>{g()});const _=k=>Ge({message:`Hapus role ${k.name}?`,url:route("admin.user-role.delete",k.id),fetchItemsCallback:g,loading:s}),g=(k=null)=>{Ae({pagination:f,filter:d,props:k,rows:o,url:route("admin.user-role.data"),loading:s,tableRef:i})},V=k=>W.get(route("admin.user-role.detail",{id:k.id})),S=Z(()=>n.screen.gt.sm?y:y.filter(k=>k.name==="name"||k.name==="action"));return(k,E)=>{const P=L("i-head"),w=L("authenticated-layout");return b(),h(H,null,[e(P,{title:ya}),e(w,null,Ye({title:a(()=>[v(r(ya))]),"right-button":a(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:E[0]||(E[0]=D=>u.value=!u.value)},null,8,["icon"]),k.$can("admin.user-role.add")?(b(),U(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:E[1]||(E[1]=D=>t(W).get(k.route("admin.user-role.add")))})):$("",!0)]),default:a(()=>[l("div",Db,[e(Te,{class:"full-height-table",ref_key:"tableRef",ref:i,s:"",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:f.value,"onUpdate:pagination":E[4]||(E[4]=D=>f.value=D),filter:d.search,loading:s.value,columns:S.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Me({height:t(c)}),onRequest:g,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:D,message:B,filter:x})=>[l("div",Rb,[l("span",null,r(B)+" "+r(x?" with term "+x:""),1)])]),body:a(D=>[e(qe,{props:D,class:"cursor-pointer",onClick:B=>V(D.row)},{default:a(()=>[e(F,{key:"name",props:D,class:"wrap-column"},{default:a(()=>[l("div",null,[t(n).screen.lt.md?(b(),U(q,{key:0,name:"person"})):$("",!0),v(" "+r(D.row.name),1)])]),_:2},1032,["props"]),e(F,{key:"action",props:D},{default:a(()=>[l("div",Ub,[k.$can("admin.user-role.add")||k.$can("admin.user-role.edit")||k.$can("admin.user-role.delete")?(b(),U(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:E[3]||(E[3]=Q(()=>{},["stop"]))},{default:a(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(De,{style:{width:"200px"}},{default:a(()=>[k.$can("admin.user-role.add")?J((b(),U(ee,{key:0,clickable:"",onClick:Q(B=>t(W).get(k.route("admin.user-role.duplicate",D.row.id)),["stop"])},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"file_copy"})]),_:1}),e(M,null,{default:a(()=>E[5]||(E[5]=[v(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),k.$can("admin.user-role.edit")?J((b(),U(ee,{key:1,clickable:"",onClick:Q(B=>t(W).get(k.route("admin.user-role.edit",D.row.id)),["stop"])},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(M,null,{default:a(()=>E[6]||(E[6]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),k.$can("admin.user-role.delete")?J((b(),U(ee,{key:2,onClick:Q(B=>_(D.row),["stop"]),clickable:""},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(M,null,{default:a(()=>E[7]||(E[7]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):$("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[u.value?{name:"header",fn:a(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:a(()=>[l("div",Ob,[e(le,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":E[2]||(E[2]=D=>d.search=D),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Mb=Object.freeze(Object.defineProperty({__proto__:null,default:Ab},Symbol.toStringTag,{value:"Module"})),jb={class:"q-gutter-sm"},Eb={class:"q-gutter-sm"},Nb={class:"row justify-center"},Bb={class:"col col-md-6 q-pa-xs"},Fb={class:"row"},zb={class:"detail"},Lb={key:0},Hb={key:1},_a="Rincian Pengguna",Yb={__name:"Detail",setup(m){const n=ce();return(u,o)=>{const s=L("i-head"),i=L("authenticated-layout");return b(),h(H,null,[e(s,{title:_a}),e(i,{"show-drawer-button":!1},{title:a(()=>[v(r(_a))]),"left-button":a(()=>[l("div",jb,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=p=>u.$inertia.get(u.route("admin.user.index")))})])]),"right-button":a(()=>[l("div",Eb,[u.$can("admin.user.edit")?(b(),U(A,{key:0,icon:"edit",dense:"",rounded:"",flat:"",size:"sm",color:"grey",onClick:o[1]||(o[1]=p=>u.$inertia.get(u.route("admin.user.edit",{id:t(n).props.data.id})))})):$("",!0)])]),default:a(()=>[l("div",Nb,[l("div",Bb,[l("div",Fb,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,null,{default:a(()=>[o[19]||(o[19]=l("div",{class:"text-subtitle1 text-bold text-grey-9"}," Profil Pengguna ",-1)),l("table",zb,[l("tbody",null,[l("tr",null,[o[2]||(o[2]=l("td",{style:{width:"125px"}},"ID Pengguna",-1)),o[3]||(o[3]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,r(t(n).props.data.username),1)]),l("tr",null,[o[4]||(o[4]=l("td",null,"Nama Pengguna",-1)),o[5]||(o[5]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.name),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"Jenis Akun",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,r(u.$CONSTANTS.USER_TYPES[t(n).props.data.type]),1)]),l("tr",null,[o[8]||(o[8]=l("td",null,"Peran",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.roles.map(p=>p.name).join(",")),1)]),l("tr",null,[o[10]||(o[10]=l("td",null,"Dibuat",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,r(t(be)(t(n).props.data.created_at)),1)]),t(n).props.data.updated_at?(b(),h("tr",Lb,[o[12]||(o[12]=l("td",null,"Diperbarui",-1)),o[13]||(o[13]=l("td",null,":",-1)),l("td",null,r(t(be)(t(n).props.data.updated_at)),1)])):$("",!0),l("tr",null,[o[14]||(o[14]=l("td",null,"Terakhir login",-1)),o[15]||(o[15]=l("td",null,":",-1)),l("td",null,r(t(n).props.data.last_login_datetime?u.$dayjs(t(n).props.data.last_login_datetime).format("DD MMMM YYYY HH:mm:ss"):"Belum pernah login"),1)]),t(n).props.data.last_activity_datetime?(b(),h("tr",Hb,[o[17]||(o[17]=l("td",null,"Aktifitas Terakhir",-1)),o[18]||(o[18]=l("td",null,":",-1)),l("td",null,[v(r(u.$dayjs(t(n).props.data.last_activity_datetime).format("DD MMMM YYYY HH:mm:ss"))+" ",1),o[16]||(o[16]=l("br",null,null,-1)),v(r(t(n).props.data.last_activity_description),1)])])):$("",!0)])])]),_:1})]),_:1})])])])]),_:1})],64)}}},Kb=Object.freeze(Object.defineProperty({__proto__:null,default:Yb},Symbol.toStringTag,{value:"Module"}));function Qb(m){return new RegExp("^(?=.{3,16}$)(?![_-])(?!.*[_-]{2})[a-zA-Z0-9_-]+(?<![_-])$").test(m)}const Wb={class:"q-gutter-sm"},Jb={class:"row justify-center"},Gb={class:"col col-md-6 q-pa-xs"},Xb={__name:"Editor",setup(m){const n=Ke(window.CONSTANTS.USER_TYPES),u=ce(),o=u.props.roles,s=u.props.data.id?"Edit Pengguna":"Tambah Pengguna",i=je({id:u.props.data.id,name:u.props.data.name,username:u.props.data.username,password:"",type:u.props.data.type?u.props.data.type:n[0].value,active:!!u.props.data.active,roles:u.props.data.roles??[]}),p=()=>Fe({form:i,url:route("admin.user.save")});return(c,d)=>{const f=L("i-head"),y=L("authenticated-layout");return b(),h(H,null,[e(f,{title:t(s)},null,8,["title"]),e(y,{"show-drawer-button":!1},{title:a(()=>[v(r(t(s)),1)]),"left-button":a(()=>[l("div",Wb,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=_=>c.$goBack())})])]),default:a(()=>[l("div",Jb,[l("div",Gb,[e(Re,{class:"row",onSubmit:Q(p,["prevent"])},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[J(l("input",{type:"hidden",name:"id","onUpdate:modelValue":d[1]||(d[1]=_=>t(i).id=_)},null,512),[[Xe,t(i).id]]),e(le,{modelValue:t(i).name,"onUpdate:modelValue":d[2]||(d[2]=_=>t(i).name=_),modelModifiers:{trim:!0},label:"Nama",error:!!t(i).errors.name,disable:t(i).processing,"error-message":t(i).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(le,{modelValue:t(i).username,"onUpdate:modelValue":d[3]||(d[3]=_=>t(i).username=_),modelModifiers:{trim:!0},type:"text",label:"ID Pengguna","lazy-rules":"",disable:t(i).processing,error:!!t(i).errors.username,"error-message":t(i).errors.username,rules:[_=>_&&_.length>0||"ID Pengguna harus diisi.",_=>t(Qb)(_)||"ID Pengguna tidak valid."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(le,{modelValue:t(i).password,"onUpdate:modelValue":d[4]||(d[4]=_=>t(i).password=_),type:"password",label:"Kata Sandi","lazy-rules":"",disable:t(i).processing,error:!!t(i).errors.password,"error-message":t(i).errors.password,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(se,{modelValue:t(i).type,"onUpdate:modelValue":d[5]||(d[5]=_=>t(i).type=_),label:"Jenis Akun",options:t(n),"map-options":"","emit-value":"","lazy-rules":"",disable:t(i).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!t(i).errors.type,"error-message":t(i).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"]),e(se,{modelValue:t(i).roles,"onUpdate:modelValue":d[6]||(d[6]=_=>t(i).roles=_),label:"Peran",options:t(o),"option-value":"id","option-label":"name","map-options":"","emit-value":"",multiple:"","lazy-rules":"","use-chips":"",disable:t(i).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!t(i).errors.roles,"error-message":t(i).errors.roles,"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"]),e(al,{modelValue:t(i).active,"onUpdate:modelValue":d[7]||(d[7]=_=>t(i).active=_),disable:t(i).processing,label:"Aktif"},null,8,["modelValue","disable"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(A,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(i).processing,onClick:p},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",class:"text-black",disable:t(i).processing,onClick:d[8]||(d[8]=_=>c.$goBack())},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})],64)}}},Zb=Object.freeze(Object.defineProperty({__proto__:null,default:Xb},Symbol.toStringTag,{value:"Module"})),e1={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},t1={class:"q-pa-xs"},l1={class:"full-width row flex-center text-grey-8 q-gutter-sm"},a1={class:"elipsis",style:{"max-width":"200px"}},o1={class:"flex justify-end"},wa="Pengguna",n1={__name:"Index",setup(m){const n=[{value:"all",label:"Semua"},...Ke(window.CONSTANTS.USER_TYPES)],u=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],o=ce(),s=$e(),i=o.props.auth.user,p=C([]),c=C(!0),d=C(!1),f=Ie({role:"all",status:"active",search:""}),y=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"username",descending:!1}),_=[{name:"username",label:"ID Pengguna",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"role",label:"Hak Akses",field:"role",align:"center",sortable:!0},{name:"action",align:"right"}];he(()=>{V()});const g=()=>V(),V=(B=null)=>Ae({pagination:y,props:B,rows:p,loading:c,filter:f,url:route("admin.user.data"),tableRef:P}),S=B=>Ge({url:route("admin.user.delete",B.id),message:`Hapus pengguna ${B.username}?`,fetchItemsCallback:V,loading:c}),k=Z(()=>s.screen.gt.sm?_:_.filter(B=>B.name==="username"||B.name==="action")),E=B=>W.get(route("admin.user.detail",B.id)),P=C(null),w=C(null),D=We(w);return(B,x)=>{const T=L("i-head"),O=L("authenticated-layout");return b(),h(H,null,[e(T,{title:wa}),e(O,null,Ye({title:a(()=>[v(r(wa))]),"right-button":a(()=>[e(A,{icon:d.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:x[0]||(x[0]=N=>d.value=!d.value)},null,8,["icon"]),B.$can("admin.user.add")?(b(),U(A,{key:0,icon:"add",dense:"",rounded:"",color:"primary",class:"q-ml-sm",onClick:x[1]||(x[1]=N=>t(W).get(B.route("admin.user.add")))})):$("",!0)]),default:a(()=>[l("div",t1,[e(Te,{ref_key:"tableRef",ref:P,class:"full-height-table",style:Me({height:t(D)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":x[6]||(x[6]=N=>y.value=N),filter:f.search,loading:c.value,columns:k.value,rows:p.value,"rows-per-page-options":[10,25,50],onRequest:V,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:N,message:j,term:I})=>[l("div",l1,[l("span",null,r(j)+" "+r(I?" with term "+I:""),1)])]),body:a(N=>[e(qe,{props:N,class:ye([N.row.active?"":"bg-red-1","cursor-pointer"]),onClick:j=>E(N.row)},{default:a(()=>[e(F,{key:"username",props:N},{default:a(()=>[l("div",null,[t(s).screen.gt.sm?$("",!0):(b(),h(H,{key:0},[e(q,{name:"person",class:"inline-icon"}),x[7]||(x[7]=v(" Username: "))],64)),v(" "+r(N.row.username),1)]),t(s).screen.gt.sm?$("",!0):(b(),h(H,{key:0},[l("div",null,[e(q,{name:"person",class:"inline-icon"}),v(" Nama: "+r(N.row.name),1)]),l("div",a1,[e(q,{name:"group",class:"inline-icon"}),x[8]||(x[8]=v(" Jenis Akun: ")),l("span",null,r(B.$CONSTANTS.USER_TYPES[N.row.type]),1)]),l("div",null,[e(q,{name:"group",class:"inline-icon"}),v(" Peran: "+r(N.row.roles.map(j=>j.name).join(",")),1)])],64))]),_:2},1032,["props"]),e(F,{key:"name",props:N},{default:a(()=>[v(r(N.row.name),1)]),_:2},1032,["props"]),e(F,{key:"role",props:N,align:"center"},{default:a(()=>[l("span",null,r(B.$CONSTANTS.USER_TYPES[N.row.type]),1)]),_:2},1032,["props"]),e(F,{key:"action",props:N},{default:a(()=>[l("div",o1,[B.$can("admin.user.add")||B.$can("admin.user.edit")||B.$can("admin.user.delete")?(b(),U(A,{key:0,disable:N.row.id==t(i).id||N.row.username=="admin",icon:"more_vert",dense:"",flat:"",rounded:"",onClick:x[5]||(x[5]=Q(()=>{},["stop"]))},{default:a(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(De,{style:{width:"200px"}},{default:a(()=>[B.$can("admin.user.add")?J((b(),U(ee,{key:0,clickable:"",onClick:Q(j=>t(W).get(B.route("admin.user.duplicate",N.row.id)),["stop"])},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"file_copy"})]),_:1}),e(M,null,{default:a(()=>x[9]||(x[9]=[v(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),B.$can("admin.user.edit")?J((b(),U(ee,{key:1,clickable:"",onClick:Q(j=>t(W).get(B.route("admin.user.edit",N.row.id)),["stop"])},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(M,null,{default:a(()=>x[10]||(x[10]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0),B.$can("admin.user.delete")?J((b(),U(ee,{key:2,onClick:Q(j=>S(N.row),["stop"]),clickable:""},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(M,null,{default:a(()=>x[11]||(x[11]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["disable"])):$("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[d.value?{name:"header",fn:a(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:w},{default:a(()=>[l("div",e1,[e(se,{modelValue:f.type,"onUpdate:modelValue":[x[2]||(x[2]=N=>f.type=N),g],class:"custom-select col-xs-12 col-sm-2",options:n,label:"Jenis Akun",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(se,{modelValue:f.status,"onUpdate:modelValue":[x[3]||(x[3]=N=>f.status=N),g],class:"custom-select col-xs-12 col-sm-2",options:u,label:"Status",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(le,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:f.search,"onUpdate:modelValue":x[4]||(x[4]=N=>f.search=N),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},s1=Object.freeze(Object.defineProperty({__proto__:null,default:n1},Symbol.toStringTag,{value:"Module"})),r1=gt({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(m,{slots:n,emit:u}){let o=!1,s,i,p=null,c=null,d,f;function y(){s&&s(),s=null,o=!1,p!==null&&(clearTimeout(p),p=null),c!==null&&(clearTimeout(c),c=null),i!==void 0&&i.removeEventListener("transitionend",d),d=null}function _(k,E,P){E!==void 0&&(k.style.height=`${E}px`),k.style.transition=`height ${m.duration}ms cubic-bezier(.25, .8, .50, 1)`,o=!0,s=P}function g(k,E){k.style.overflowY=null,k.style.height=null,k.style.transition=null,y(),E!==f&&u(E)}function V(k,E){let P=0;i=k,o===!0?(y(),P=k.offsetHeight===k.scrollHeight?0:void 0):(f="hide",k.style.overflowY="hidden"),_(k,P,E),p=setTimeout(()=>{p=null,k.style.height=`${k.scrollHeight}px`,d=w=>{c=null,(Object(w)!==w||w.target===k)&&g(k,"show")},k.addEventListener("transitionend",d),c=setTimeout(d,m.duration*1.1)},100)}function S(k,E){let P;i=k,o===!0?y():(f="show",k.style.overflowY="hidden",P=k.scrollHeight),_(k,P,E),p=setTimeout(()=>{p=null,k.style.height=0,d=w=>{c=null,(Object(w)!==w||w.target===k)&&g(k,"hide")},k.addEventListener("transitionend",d),c=setTimeout(d,m.duration*1.1)},100)}return Xt(()=>{o===!0&&y()}),()=>fe(ha,{css:!1,appear:m.appear,onEnter:V,onLeave:S},n.default)}}),St=dn({}),i1=Object.keys(Ta),yt=gt({name:"QExpansionItem",props:{...Ta,...mn,...vl,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...un,"click","afterShow","afterHide"],setup(m,{slots:n,emit:u}){const{proxy:{$q:o}}=ht(),s=yl(m,o),i=C(m.modelValue!==null?m.modelValue:m.defaultOpened),p=C(null),c=cn(),{show:d,hide:f,toggle:y}=pn({showing:i});let _,g;const V=Z(()=>`q-expansion-item q-item-type q-expansion-item--${i.value===!0?"expanded":"collapsed"} q-expansion-item--${m.popup===!0?"popup":"standard"}`),S=Z(()=>m.contentInsetLevel===void 0?null:{["padding"+(o.lang.rtl===!0?"Right":"Left")]:m.contentInsetLevel*56+"px"}),k=Z(()=>m.disable!==!0&&(m.href!==void 0||m.to!==void 0&&m.to!==null&&m.to!=="")),E=Z(()=>{const ae={};return i1.forEach(Ve=>{ae[Ve]=m[Ve]}),ae}),P=Z(()=>k.value===!0||m.expandIconToggle!==!0),w=Z(()=>m.expandedIcon!==void 0&&i.value===!0?m.expandedIcon:m.expandIcon||o.iconSet.expansionItem[m.denseToggle===!0?"denseIcon":"icon"]),D=Z(()=>m.disable!==!0&&(k.value===!0||m.expandIconToggle===!0)),B=Z(()=>({expanded:i.value===!0,detailsId:c.value,toggle:y,show:d,hide:f})),x=Z(()=>{const ae=m.toggleAriaLabel!==void 0?m.toggleAriaLabel:o.lang.label[i.value===!0?"collapse":"expand"](m.label);return{role:"button","aria-expanded":i.value===!0?"true":"false","aria-controls":c.value,"aria-label":ae}});Be(()=>m.group,ae=>{g!==void 0&&g(),ae!==void 0&&G()});function T(ae){k.value!==!0&&y(ae),u("click",ae)}function O(ae){ae.keyCode===13&&N(ae,!0)}function N(ae,Ve){Ve!==!0&&p.value!==null&&p.value.focus(),y(ae),Ct(ae)}function j(){u("afterShow")}function I(){u("afterHide")}function G(){_===void 0&&(_=fn()),i.value===!0&&(St[m.group]=_);const ae=Be(i,ze=>{ze===!0?St[m.group]=_:St[m.group]===_&&delete St[m.group]}),Ve=Be(()=>St[m.group],(ze,rt)=>{rt===_&&ze!==void 0&&ze!==_&&f()});g=()=>{ae(),Ve(),St[m.group]===_&&delete St[m.group],g=void 0}}function de(){const ae={class:[`q-focusable relative-position cursor-pointer${m.denseToggle===!0&&m.switchToggleSide===!0?" items-end":""}`,m.expandIconClass],side:m.switchToggleSide!==!0,avatar:m.switchToggleSide},Ve=[fe(q,{class:"q-expansion-item__toggle-icon"+(m.expandedIcon===void 0&&i.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:w.value})];return D.value===!0&&(Object.assign(ae,{tabindex:0,...x.value,onClick:N,onKeyup:O}),Ve.unshift(fe("div",{ref:p,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),fe(M,ae,()=>Ve)}function R(){let ae;return n.header!==void 0?ae=[].concat(n.header(B.value)):(ae=[fe(M,()=>[fe(ge,{lines:m.labelLines},()=>m.label||""),m.caption?fe(ge,{lines:m.captionLines,caption:!0},()=>m.caption):null])],m.icon&&ae[m.switchToggleSide===!0?"push":"unshift"](fe(M,{side:m.switchToggleSide===!0,avatar:m.switchToggleSide!==!0},()=>fe(q,{name:m.icon})))),m.disable!==!0&&m.hideExpandIcon!==!0&&ae[m.switchToggleSide===!0?"unshift":"push"](de()),ae}function z(){const ae={ref:"item",style:m.headerStyle,class:m.headerClass,dark:s.value,disable:m.disable,dense:m.dense,insetLevel:m.headerInsetLevel};return P.value===!0&&(ae.clickable=!0,ae.onClick=T,Object.assign(ae,k.value===!0?E.value:x.value)),fe(ee,ae,R)}function X(){return J(fe("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:S.value,id:c.value},wt(n.default)),[[qa,i.value]])}function Ce(){const ae=[z(),fe(r1,{duration:m.duration,onShow:j,onHide:I},X)];return m.expandSeparator===!0&&ae.push(fe(ot,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:s.value}),fe(ot,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:s.value})),ae}return m.group!==void 0&&G(),Xt(()=>{g!==void 0&&g()}),()=>fe("div",{class:V.value},[fe("div",{class:"q-expansion-item__container relative-position"},Ce())])}}),d1={class:"absolute-top",style:{height:"50px","border-bottom":"1px solid #ddd","align-items":"center","justify-content":"center"}},u1={style:{width:"100%",padding:"8px",display:"flex","justify-content":"space-between"}},m1={class:"text-bold"},c1={class:"text-grey-8 text-caption"},p1={class:"absolute-bottom text-grey-6 q-pa-md"},pl="amanah-pos.layout.left-drawer-open",f1={__name:"AuthenticatedLayout",props:{showDrawerButton:{type:Boolean,default:!0}},setup(m,{expose:n}){const u=$e(),o=ce(),s=C(JSON.parse(localStorage.getItem(pl))),i=C(!1),p=()=>s.value=!s.value,c=()=>{s.value=!1};return Be(s,d=>{localStorage.setItem(pl,d)}),he(()=>{s.value=JSON.parse(localStorage.getItem(pl)),u.screen.lt.md&&(s.value=!1)}),n({hideDrawer:c}),(d,f)=>(b(),U(kn,{view:"lHh LpR lFf"},{default:a(()=>[e(gn,null,{default:a(()=>[e(Je,{class:"bg-grey-1 text-black toolbar-scrolled"},{default:a(()=>[m.showDrawerButton&&!s.value?(b(),U(A,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:p},{default:a(()=>[e(q,{class:"material-symbols-outlined"},{default:a(()=>f[25]||(f[25]=[v("dock_to_right")])),_:1})]),_:1})):$("",!0),Vt(d.$slots,"left-button",{},void 0,!0),e(bn,{style:{"font-size":"16px"}},{default:a(()=>[Vt(d.$slots,"title",{},()=>[v(r(d.$config.APP_NAME),1)],!0)]),_:3}),Vt(d.$slots,"right-button",{},void 0,!0)]),_:3}),Vt(d.$slots,"header",{},void 0,!0)]),_:3}),e(vn,{breakpoint:768,modelValue:s.value,"onUpdate:modelValue":f[24]||(f[24]=y=>s.value=y),bordered:"",class:"bg-grey-2",style:{color:"#444"}},{default:a(()=>[l("div",d1,[l("div",u1,[e(yn,{modelValue:i.value,"onUpdate:modelValue":f[2]||(f[2]=y=>i.value=y),class:ye(["profile-btn text-bold",{"profile-btn-active":i.value}]),flat:"",label:t(o).props.company.name,style:{"justify-content":"space-between","flex-grow":"1",overflow:"hidden"}},{default:a(()=>[e(De,{id:"profile-btn-popup",style:{color:"#444"}},{default:a(()=>[e(ee,null,{default:a(()=>[e(Rt,{style:{"margin-left":"-15px"}},{default:a(()=>[e(q,{name:"person"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>[l("div",m1,r(t(o).props.auth.user.name),1),l("div",c1,[v(r(d.$CONSTANTS.USER_TYPES[t(o).props.auth.user.type])+" ",1),f[26]||(f[26]=l("br",null,null,-1)),v(" "+r(t(o).props.company.name),1)])]),_:1})]),_:1})]),_:1}),e(ot),J((b(),U(ee,{class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/settings/profile"),onClick:f[0]||(f[0]=y=>t(W).get(d.route("admin.profile.edit")))},{default:a(()=>[e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>[e(q,{name:"manage_accounts",class:"q-mr-sm"}),f[27]||(f[27]=v(" Profil Saya"))]),_:1})]),_:1})]),_:1},8,["active"])),[[re],[ne]]),d.$can("admin.company-profile.edit")?J((b(),U(ee,{key:0,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/settings/company-profile"),onClick:f[1]||(f[1]=y=>t(W).get(d.route("admin.company-profile.edit")))},{default:a(()=>[e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>[e(q,{name:"home_work",class:"q-mr-sm"}),f[28]||(f[28]=v(" Profil Perusahaan"))]),_:1})]),_:1})]),_:1},8,["active"])),[[re],[ne]]):$("",!0),e(ot),J((b(),U(ee,{clickable:"",style:{color:"inherit"},href:d.route("admin.auth.logout")},{default:a(()=>[e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>[e(q,{name:"logout",class:"q-mr-sm"}),f[29]||(f[29]=v(" Keluar"))]),_:1})]),_:1})]),_:1},8,["href"])),[[re],[ne]])]),_:1})]),_:1},8,["modelValue","label","class"]),s.value?(b(),U(A,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:p},{default:a(()=>[e(q,{name:"dock_to_right"})]),_:1})):$("",!0)])]),e(_n,{style:{height:"calc(100% - 50px)","margin-top":"50px"}},{default:a(()=>[e(De,{id:"main-nav",style:{"margin-bottom":"50px"}},{default:a(()=>[J((b(),U(ee,{clickable:"",active:d.$page.url.startsWith("/admin/dashboard"),onClick:f[3]||(f[3]=y=>t(W).get(d.route("admin.dashboard")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"dashboard"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[30]||(f[30]=[v("Dashboard")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]),d.$can("admin.sales-order.index")||d.$can("admin.customer.index")?(b(),U(yt,{key:0,icon:"storefront",label:"Penjualan","default-opened":d.$page.url.startsWith("/admin/sales-orders")||d.$page.url.startsWith("/admin/customers")},{default:a(()=>[d.$can("admin.sales-order.index")?J((b(),U(ee,{key:0,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/sales-orders"),onClick:f[4]||(f[4]=y=>t(W).get(d.route("admin.sales-order.index")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"shopping_cart"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[31]||(f[31]=[v("Penjualan")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):$("",!0),d.$can("admin.customer.index")?J((b(),U(ee,{key:1,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/customers"),onClick:f[5]||(f[5]=y=>t(W).get(d.route("admin.customer.index")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"people"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[32]||(f[32]=[v("Pelanggan")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):$("",!0)]),_:1},8,["default-opened"])):$("",!0),d.$can("admin.purchase-order.index")||d.$can("admin.supplier.index")?(b(),U(yt,{key:1,icon:"local_shipping",label:"Pembelian","default-opened":d.$page.url.startsWith("/admin/purchase-orders")||d.$page.url.startsWith("/admin/suppliers")},{default:a(()=>[d.$can("admin.purchase-order.index")?J((b(),U(ee,{key:0,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/purchase-orders"),onClick:f[6]||(f[6]=y=>t(W).get(d.route("admin.purchase-order.index")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"shopping_cart"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[33]||(f[33]=[v("Pembelian")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):$("",!0),d.$can("admin.supplier.index")?J((b(),U(ee,{key:1,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/suppliers"),onClick:f[7]||(f[7]=y=>t(W).get(d.route("admin.supplier.index")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"people"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[34]||(f[34]=[v("Pemasok")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):$("",!0)]),_:1},8,["default-opened"])):$("",!0),d.$can("admin.product.index")||d.$can("admin.product-category.index")||d.$can("admin.stock-adjustment.index")||d.$can("admin.stock-movement.index")?(b(),U(yt,{key:2,icon:"inventory_2",label:"Inventori","default-opened":d.$page.url.startsWith("/admin/products")||d.$page.url.startsWith("/admin/product-categories")||d.$page.url.startsWith("/admin/stock-adjustments")||d.$page.url.startsWith("/admin/stock-movements")},{default:a(()=>[d.$can("admin.stock-adjustment.index")?J((b(),U(ee,{key:0,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/stock-adjustments"),onClick:f[8]||(f[8]=y=>t(W).get(d.route("admin.stock-adjustment.index")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"swap_vert"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[35]||(f[35]=[v("Penyesuaian Stok")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):$("",!0),d.$can("admin.stock-movement.index")?J((b(),U(ee,{key:1,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/stock-movements"),onClick:f[9]||(f[9]=y=>t(W).get(d.route("admin.stock-movement.index")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"timeline"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[36]||(f[36]=[v("Riwayat Stok")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):$("",!0),d.$can("admin.product.index")?J((b(),U(ee,{key:2,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/products"),onClick:f[10]||(f[10]=y=>t(W).get(d.route("admin.product.index")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"box"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[37]||(f[37]=[v("Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):$("",!0),d.$can("admin.product-category.index")?J((b(),U(ee,{key:3,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/product-categories"),onClick:f[11]||(f[11]=y=>t(W).get(d.route("admin.product-category.index")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"category"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[38]||(f[38]=[v("Kategori Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):$("",!0)]),_:1},8,["default-opened"])):$("",!0),d.$can("admin.cashier-session.index")||d.$can("admin.cashier-terminal.index")?(b(),U(yt,{key:3,icon:"point_of_sale",label:"Kasir","default-opened":d.$page.url.startsWith("/admin/cashier-terminals")||d.$page.url.startsWith("/admin/cashier-session")},{default:a(()=>[d.$can("admin.cashier-session.index")?J((b(),U(ee,{key:0,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/cashier-sessions"),onClick:f[12]||(f[12]=y=>t(W).get(d.route("admin.cashier-session.index")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"tv_signin"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[39]||(f[39]=[v("Sesi Kasir")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):$("",!0),d.$can("admin.cashier-terminal.index")?J((b(),U(ee,{key:1,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/cashier-terminals"),onClick:f[13]||(f[13]=y=>t(W).get(d.route("admin.cashier-terminal.index")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"point_of_sale"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[40]||(f[40]=[v("Terminal Kasir")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):$("",!0)]),_:1},8,["default-opened"])):$("",!0),d.$can("admin.customer-wallet-transaction-confirmation.index")||d.$can("admin.customer-wallet-transaction.index")?(b(),U(yt,{key:4,icon:"wallet",label:"Wallet","default-opened":d.$page.url.startsWith("/admin/customer-wallet-transactions")||d.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations")},{default:a(()=>[d.$can("admin.customer-wallet-transaction-confirmation.index")?J((b(),U(ee,{key:0,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations"),onClick:f[14]||(f[14]=y=>t(W).get(d.route("admin.customer-wallet-transaction-confirmation.index")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"add_task"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[41]||(f[41]=[v("Konfirmasi Top Up")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):$("",!0),d.$can("admin.customer-wallet-transaction.index")?J((b(),U(ee,{key:1,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/customer-wallet-transactions"),onClick:f[15]||(f[15]=y=>t(W).get(d.route("admin.customer-wallet-transaction.index")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"moving"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[42]||(f[42]=[v("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):$("",!0)]),_:1},8,["default-opened"])):$("",!0),d.$can("admin.finance-transaction.index")||d.$can("admin.finance-account.index")?(b(),U(yt,{key:5,icon:"finance",label:"Keuangan","default-opened":d.$page.url.startsWith("/admin/finance-accounts")||d.$page.url.startsWith("/admin/finance-transactions")},{default:a(()=>[d.$can("admin.finance-transaction.index")?J((b(),U(ee,{key:0,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/finance-transactions"),onClick:f[16]||(f[16]=y=>t(W).get(d.route("admin.finance-transaction.index")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"moving"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[43]||(f[43]=[v("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):$("",!0),d.$can("admin.finance-account.index")?J((b(),U(ee,{key:1,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/finance-accounts"),onClick:f[17]||(f[17]=y=>t(W).get(d.route("admin.finance-account.index")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"groups_2"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[44]||(f[44]=[v("Akun Kas")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):$("",!0)]),_:1},8,["default-opened"])):$("",!0),d.$can("admin.operational-cost.index")||d.$can("admin.operational-cost-category.index")?(b(),U(yt,{key:6,icon:"paid",label:"Operasional","default-opened":d.$page.url.startsWith("/admin/operational-costs")||d.$page.url.startsWith("/admin/operational-cost-categories")},{default:a(()=>[d.$can("admin.operational-cost.index")?J((b(),U(ee,{key:0,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/operational-costs"),onClick:f[18]||(f[18]=y=>t(W).get(d.route("admin.operational-cost.index")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"request_quote"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[45]||(f[45]=[v("Biaya Operasional")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):$("",!0),d.$can("admin.operational-cost-category.index")?J((b(),U(ee,{key:1,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/operational-cost-categories"),onClick:f[19]||(f[19]=y=>t(W).get(d.route("admin.operational-cost-category.index")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"category"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[46]||(f[46]=[v("Kategori")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):$("",!0)]),_:1},8,["default-opened"])):$("",!0),e(yt,{icon:"settings",label:"Pengaturan","default-opened":d.$page.url.startsWith("/admin/settings")},{default:a(()=>[d.$can("admin.user.index")?J((b(),U(ee,{key:0,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/settings/users"),onClick:f[20]||(f[20]=y=>t(W).get(d.route("admin.user.index")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"person"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[47]||(f[47]=[v("Pengguna")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):$("",!0),d.$can("admin.user-role.index")?J((b(),U(ee,{key:1,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/settings/user-roles"),onClick:f[21]||(f[21]=y=>t(W).get(d.route("admin.user-role.index")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"group"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[48]||(f[48]=[v("Role Pengguna")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):$("",!0),J((b(),U(ee,{class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/settings/profile"),onClick:f[22]||(f[22]=y=>t(W).get(d.route("admin.user-profile.edit")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"manage_accounts"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[49]||(f[49]=[v("Profil Saya")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]),d.$can("admin.company-profile.edit")?J((b(),U(ee,{key:2,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/settings/company-profile"),onClick:f[23]||(f[23]=y=>t(W).get(d.route("admin.company-profile.edit")))},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"apartment"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[50]||(f[50]=[v("Profil Perusahaan")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):$("",!0)]),_:1},8,["default-opened"]),J((b(),U(ee,{clickable:"",style:{color:"inherit"},href:d.route("admin.auth.logout")},{default:a(()=>[e(M,{avatar:""},{default:a(()=>[e(q,{name:"logout"})]),_:1}),e(M,null,{default:a(()=>[e(ge,null,{default:a(()=>f[51]||(f[51]=[v("Logout")])),_:1})]),_:1})]),_:1},8,["href"])),[[re],[ne]]),l("div",p1,"  2025 - "+r(d.$config.APP_NAME+" v"+d.$config.APP_VERSION_STR),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(wn,{class:"bg-grey-1"},{default:a(()=>[e(ke,null,{default:a(()=>[Vt(d.$slots,"default",{},void 0,!0)]),_:3})]),_:3}),Vt(d.$slots,"footer",{},void 0,!0)]),_:3}))}},g1=ft(f1,[["__scopeId","data-v-83b5d7bb"]]),b1={__name:"GuestLayout",setup(m){return(n,u)=>(b(),U($n,null,{default:a(()=>[Vt(n.$slots,"default")]),_:3}))}};hn({layouts:{authenticated:g1,guest:b1},pagesGlob:Object.assign({"./pages/About.vue":Cn,"./pages/_examples/Autocomplete1.vue":On,"./pages/auth/Login.vue":jn,"./pages/cashier-session/Close.vue":Hn,"./pages/cashier-session/Detail.vue":is,"./pages/cashier-session/Index.vue":fs,"./pages/cashier-session/Open.vue":ys,"./pages/cashier-session/detail/MainInfoTab.vue":as,"./pages/cashier-terminal/Detail.vue":Ys,"./pages/cashier-terminal/Editor.vue":Gs,"./pages/cashier-terminal/Index.vue":ar,"./pages/cashier-terminal/detail/MainInfoTab.vue":js,"./pages/cashier-terminal/detail/SessionHistoryTab.vue":Bs,"./pages/company-profile/Edit.vue":dr,"./pages/company-profile/partials/CompanyInfoForm.vue":or,"./pages/customer-wallet-transaction-confirmation/Detail.vue":wr,"./pages/customer-wallet-transaction-confirmation/Index.vue":Sr,"./pages/customer-wallet-transaction/Adjustment.vue":Cr,"./pages/customer-wallet-transaction/Detail.vue":Er,"./pages/customer-wallet-transaction/Editor.vue":zr,"./pages/customer-wallet-transaction/Index.vue":Jr,"./pages/customer/Detail.vue":yi,"./pages/customer/Editor.vue":$i,"./pages/customer/Import.vue":Ti,"./pages/customer/Index.vue":Ui,"./pages/customer/detail/MainInfoTab.vue":ni,"./pages/customer/detail/OrderHistoryTab.vue":pi,"./pages/customer/detail/WalletHistoryTab.vue":ii,"./pages/dashboard/Index.vue":ld,"./pages/dashboard/cards/ActualSummaryCard.vue":Fi,"./pages/dashboard/cards/ChartCard.vue":Ki,"./pages/dashboard/cards/SummaryCard.vue":cd,"./pages/dashboard/cards/TopCard.vue":Gi,"./pages/finance-account/Detail.vue":xd,"./pages/finance-account/Editor.vue":Td,"./pages/finance-account/Index.vue":Fd,"./pages/finance-account/detail/HistoryTab.vue":yd,"./pages/finance-account/detail/MainInfoTab.vue":fd,"./pages/finance-transaction/Detail.vue":Zd,"./pages/finance-transaction/Editor.vue":au,"./pages/finance-transaction/Index.vue":mu,"./pages/operational-cost-category/Editor.vue":gu,"./pages/operational-cost-category/Index.vue":$u,"./pages/operational-cost/Detail.vue":Du,"./pages/operational-cost/Editor.vue":Eu,"./pages/operational-cost/Index.vue":Qu,"./pages/product-category/Editor.vue":Xu,"./pages/product-category/Index.vue":nm,"./pages/product/Detail.vue":qm,"./pages/product/Editor.vue":Im,"./pages/product/Import.vue":Um,"./pages/product/Index.vue":Ym,"./pages/product/detail/MainInfoTab.vue":vm,"./pages/product/detail/StockHistoryTab.vue":wm,"./pages/purchase-order/Editor.vue":qc,"./pages/purchase-order/Editor_v1.vue":Pc,"./pages/purchase-order/Index.vue":Ec,"./pages/purchase-order/editor/ConfirmDeleteDialog.vue":vc,"./pages/purchase-order/editor/ItemsListTable.vue":ic,"./pages/purchase-order/editor/SupplierEditorDialog.vue":yc,"./pages/purchase-order/editor/TransactionHeader.vue":ac,"./pages/purchase-order/editor/TransactionSummary.vue":gc,"./pages/sales-order/Detail.vue":_p,"./pages/sales-order/Editor.vue":zf,"./pages/sales-order/Index.vue":eg,"./pages/sales-order/editor/HelpDialog.vue":Xp,"./pages/sales-order/editor/ItemEditorDialog.vue":Qp,"./pages/sales-order/editor/ItemsListTable.vue":xp,"./pages/sales-order/editor/OrderInfoDialog.vue":af,"./pages/sales-order/editor/PaymentDialog.vue":Bp,"./pages/sales-order/editor/SuccessDialog.vue":vf,"./pages/stock-adjustment/Create.vue":dg,"./pages/stock-adjustment/Detail.vue":_g,"./pages/stock-adjustment/Editor.vue":Vg,"./pages/stock-adjustment/Index.vue":Ag,"./pages/stock-movement/Index.vue":Fg,"./pages/supplier/Detail.vue":Wg,"./pages/supplier/Editor.vue":eb,"./pages/supplier/Index.vue":sb,"./pages/user-profile/Edit.vue":pb,"./pages/user-profile/partials/UpdatePasswordForm.vue":rb,"./pages/user-profile/partials/UpdateProfileInformationForm.vue":ib,"./pages/user-role/Detail.vue":Sb,"./pages/user-role/Editor.vue":Ib,"./pages/user-role/Index.vue":Mb,"./pages/user/Detail.vue":Kb,"./pages/user/Editor.vue":Zb,"./pages/user/Index.vue":s1})});
