import{_ as ft,Q as de,a as te,b as se,f as F,c as dt,d as St,T as Ce,e as xe,g as Pe,h as Ne,i as mt,j as C,k as X,l as I,m as gt,n as fe,s as Ue,u as we,o as je,p as It,q as Ot,r as bt,t as _t,v as Re,w as Ie,x as Oe,y as Ae,z as ke,A as ve,B as L,C as Je,D as ot,L as Ye,E as na,F as He,G as Te,H as Z,I as sa,J as N,R as oe,K as ue,M as We,N as Fe,O as Ee,P as wl,S as qe,U as Y,V as st,W as xt,X as rt,Y as Ua,Z as et,$ as Ke,a0 as Dt,a1 as Aa,a2 as kl,a3 as hl,a4 as ht,a5 as jt,a6 as Ht,a7 as Sl,a8 as $l,a9 as Vt,aa as xl,ab as Bt,ac as kt,ad as Lt,ae as ra,af as Vl,ag as Tt,ah as ia,ai as Cl,aj as ua,ak as ql,al as Tl,am as Pl,an as Da,ao as ja,ap as Nl,aq as me,ar as Il,as as Ol,at as Ml,au as Pt,av as Rl,aw as vt,ax as Yt,ay as da,az as Ba,aA as El,aB as Ul,aC as Al,aD as La,aE as Dl,aF as jl,aG as Bl,aH as Ll,aI as zl,aJ as Hl,aK as Fl,aL as Yl,aM as Kl,aN as Ql,aO as Wl,aP as Jl}from"./BaseGuestLayout-CSXpt429.js";import{r as H,f as O,j as w,k as e,l as a,m as l,p as b,F as W,q as $,v as D,x as z,y as u,u as t,z as J,A as Me,o as ye,c as ee,w as Ve,B as Be,C as Le,D as K,E as Qe,h as pe,i as Gl,g as Ct,b as Mt,G as Xl,H as Zl,I as eo,T as za,K as to,J as _e,L as nt,M as Ha,N as Fa,O as $t,n as Rt,P as ao,Q as lt}from"./vendor1-DHVJnoe5.js";import{bT as lo,eC as Nt}from"./vendor2-Cbh-CLSD.js";import{i as oo,a as no,b as so,c as ro,d as io,e as uo,f as mo}from"./vendor3-Brm-UOXT.js";const co={},po={class:"row"};function fo(c,n){const f=H("i-head"),o=H("authenticated-layout");return w(),O(W,null,[e(f,{title:"About"}),e(o,null,{title:a(()=>n[0]||(n[0]=[b("About")])),default:a(()=>[l("div",po,[e(de,{class:"col q-pa-md q-ma-md",square:"",flat:"",bordered:""},{default:a(()=>[e(te,null,{default:a(()=>n[1]||(n[1]=[l("div",{class:"q-mb-md text-h4"},"About",-1),l("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Autem soluta, accusamus placeat eius eligendi perferendis quisquam veritatis iste debitis laboriosam facere et aliquam quos beatae illo distinctio rerum eos! Expedita, voluptatem. Aut nihil deleniti magni fuga eius labore aliquam nulla quod ullam sunt amet eum asperiores, harum unde eligendi tempore sapiente. Placeat sed, dignissimos voluptatum perspiciatis saepe aspernatur, maxime est, ipsam quas nobis cumque sunt labore molestias? Amet in sed ullam recusandae, nostrum dicta facilis blanditiis incidunt quae commodi soluta id impedit vel fugit illo, molestias reiciendis, provident nam molestiae! Ipsam, hic. Facere aut quisquam praesentium enim illum, pariatur nam.",-1),l("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, cum nulla. Ut eligendi tenetur aliquam cum mollitia repellat voluptas, fugiat doloremque sunt commodi enim excepturi distinctio id sapiente incidunt ipsam asperiores cupiditate, labore libero! Ad facere magni cumque perspiciatis, adipisci possimus pariatur quo nobis minus, est enim similique quaerat vel asperiores ipsam harum et, totam fugit.",-1),l("p",null,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Suscipit aspernatur maxime consectetur, consequatur excepturi facilis praesentium rem placeat sapiente, maiores doloribus modi voluptate. Unde autem dolor officiis numquam incidunt quasi aspernatur nam dolores ratione quidem recusandae, nulla qui provident molestias odit nemo praesentium quas voluptatem aliquid perferendis, iste veritatis vitae. Dolor, eligendi quidem distinctio asperiores doloremque culpa corporis quibusdam earum ex laudantium iure officia ullam nostrum maxime voluptatum laboriosam impedit labore illum. Culpa, veniam dolor odio ad eius nisi, aspernatur quia veritatis blanditiis repellat id minima deserunt beatae?",-1)])),_:1})]),_:1})])]),_:1})],64)}const go=ft(co,[["render",fo]]),bo=Object.freeze(Object.defineProperty({__proto__:null,default:go},Symbol.toStringTag,{value:"Module"})),_o={class:"q-ma-md"},vo={key:0},yo={__name:"Autocomplete1",setup(c){const n=$(null),f=$([]);let o=null;const s=(p,r)=>{if(p.length<2){r(()=>{f.value=[]});return}o&&clearTimeout(o),o=setTimeout(()=>{dt.get(`/web-api/customers?q=${p}`).then(i=>{const m=i.data.data.map(y=>({label:`${y.username} - ${y.name}`,value:y.id,data:y}));r(()=>{f.value=m})}).catch(i=>{console.error("Gagal mengambil data pelanggan:",i),r(()=>{f.value=[]})})})};return(p,r)=>{const i=H("guest-layout");return w(),D(i,null,{default:a(()=>[l("div",_o,[e(se,{class:"full-width",modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=m=>n.value=m),"use-input":"",label:"Cari Pelanggan",options:f.value,onFilter:s,hint:"Ketik minimal 2 karakter untuk mencari",clearable:""},null,8,["modelValue","options"]),n.value?(w(),O("div",vo," Saldo: Rp. "+u(t(F)(n.value.data.balance)),1)):z("",!0)])]),_:1})}}},wo=Object.freeze(Object.defineProperty({__proto__:null,default:yo},Symbol.toStringTag,{value:"Module"})),ko={style:{"margin-left":"-10px"}},Kt={__name:"StandardCheckBox",props:{modelValue:{type:Boolean,required:!0},disable:{type:Boolean,default:!1},label:{type:String,default:""}},emits:["update:modelValue"],setup(c,{emit:n}){const f=c,o=n;return(s,p)=>(w(),O("div",ko,[e(St,{class:"full-width q-pl-none","model-value":f.modelValue,disable:f.disable,label:f.label,"onUpdate:modelValue":p[0]||(p[0]=r=>o("update:modelValue",r))},null,8,["model-value","disable","label"])]))}},ho={class:"column"},So={class:"row"},$o={class:"flex justify-center"},xo={__name:"Login",setup(c){let n=Ce({username:window.CONFIG.APP_DEMO?"admin":"",password:window.CONFIG.APP_DEMO?"12345":"",remember:!0});const f=()=>Ne({form:n,url:route("admin.auth.login")}),o=$(!1);return(s,p)=>{const r=H("i-head"),i=H("guest-layout");return w(),O(W,null,[e(r,{title:"Login"}),e(i,null,{default:a(()=>[e(xe,{class:"row justify-center items-center"},{default:a(()=>[l("div",ho,[l("div",So,[e(Pe,{class:"q-gutter-md",onSubmit:J(f,["prevent"])},{default:a(()=>[e(de,{square:"",bordered:"",flat:"",class:"q-pa-md"},{default:a(()=>[e(te,{class:"text-center"},{default:a(()=>[l("div",$o,[e(mt,{size:"80px"},{default:a(()=>[e(C,{name:"badge",color:"primary"})]),_:1})]),p[4]||(p[4]=l("h6",{class:"q-my-sm text-primary"},"Login Staff",-1))]),_:1}),e(te,null,{default:a(()=>[e(X,{modelValue:t(n).username,"onUpdate:modelValue":p[0]||(p[0]=m=>t(n).username=m),modelModifiers:{trim:!0},label:"Username","lazy-rules":"",error:!!t(n).errors.username,autocomplete:"username","error-message":t(n).errors.username,disable:t(n).processing,rules:[m=>m&&m.length>0||"Masukkan Username"],"hide-bottom-space":""},{append:a(()=>[e(C,{name:"person"})]),_:1},8,["modelValue","error","error-message","disable","rules"]),e(X,{modelValue:t(n).password,"onUpdate:modelValue":p[2]||(p[2]=m=>t(n).password=m),type:o.value?"text":"password",label:"Kata Sandi",error:!!t(n).errors.password,autocomplete:"current-password","error-message":t(n).errors.password,"lazy-rules":"",disable:t(n).processing,rules:[m=>m&&m.length>0||"Masukkan kata sandi"],"hide-bottom-space":""},{append:a(()=>[e(I,{dense:"",flat:"",round:"",onClick:p[1]||(p[1]=m=>o.value=!o.value)},{default:a(()=>[e(C,{name:o.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","error","error-message","disable","rules"]),e(Kt,{class:"q-mt-sm",modelValue:t(n).remember,"onUpdate:modelValue":p[3]||(p[3]=m=>t(n).remember=m),disable:t(n).processing,label:"Ingat saya di perangkat ini"},null,8,["modelValue","disable"])]),_:1}),e(gt,null,{default:a(()=>[e(I,{icon:"login",type:"submit",color:"primary",class:"full-width",label:"Login",disable:t(n).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Vo=Object.freeze(Object.defineProperty({__proto__:null,default:xo},Symbol.toStringTag,{value:"Module"})),Ya={__name:"CompanyInfoForm",setup(c){const n=$(),f=fe(),o=Ce({name:f.props.data.name,phone:f.props.data.phone,address:f.props.data.address}),s=()=>Ne({form:o,url:route("admin.company-profile.update")});return(p,r)=>(w(),D(Pe,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(Ue)},{default:a(()=>[e(de,{flat:"",bordered:"",square:"",class:"col"},{default:a(()=>[e(te,null,{default:a(()=>[r[3]||(r[3]=l("div",{class:"text-subtitle1 q-my-xs"},"Profil Maqsof",-1)),r[4]||(r[4]=l("p",{class:"text-caption text-grey-9"},"Perbarui profil koperasi.",-1)),e(X,{ref_key:"nameInputRef",ref:n,modelValue:t(o).name,"onUpdate:modelValue":r[0]||(r[0]=i=>t(o).name=i),modelModifiers:{trim:!0},label:"Nama Koperasi",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.name,"error-message":t(o).errors.name,rules:[i=>i&&i.length>0||"Nama Koperasi harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(X,{modelValue:t(o).phone,"onUpdate:modelValue":r[1]||(r[1]=i=>t(o).phone=i),modelModifiers:{trim:!0},label:"No Telepon",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.phone,"error-message":t(o).errors.phone,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(X,{type:"textarea",counter:"",autogrow:"",maxlength:"200",modelValue:t(o).address,"onUpdate:modelValue":r[2]||(r[2]=i=>t(o).address=i),modelModifiers:{trim:!0},label:"Alamat",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.address,"error-message":t(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,null,{default:a(()=>[e(I,{icon:"save",type:"submit",color:"primary",label:"Simpan",disable:t(o).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},Co=Object.freeze(Object.defineProperty({__proto__:null,default:Ya},Symbol.toStringTag,{value:"Module"})),qo={class:"q-pa-sm"},To={class:"row justify-center"},Po={class:"col col-lg-6"},ma="Profil Maqsof",No={__name:"Edit",setup(c){return(n,f)=>{const o=H("i-head"),s=H("authenticated-layout");return w(),O(W,null,[e(o,{title:ma}),e(s,null,{title:a(()=>[b(u(ma))]),default:a(()=>[l("div",qo,[l("div",To,[l("div",Po,[e(Ya)])])])]),_:1})],64)}}},Io=Object.freeze(Object.defineProperty({__proto__:null,default:No},Symbol.toStringTag,{value:"Module"})),Oo={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Mo={class:"q-pa-sm"},Ro={class:"flex justify-end"},ca="Konfirmasi Top Up Wallet",Eo={__name:"Index",setup(c){const n=we(),f=$(!1),o=$([]),s=$(!0),p=$(null),r=$(null),i=je(r),m=$(null),y=$(!1),_=It(),k=Ot(),d=[{label:"Semua Tahun",value:"all"},...bt(_-2,_).reverse()],v=[{value:"all",label:"Semua Bulan"},..._t()],x=[{value:"all",label:"Semua Status"},...Re(window.CONSTANTS.CUSTOMER_WALLET_TRANSACTION_CONFIRMATION_STATUSES)],g=Me({search:"",year:_,month:k,status:"all",...Ie()}),j=$({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!1}),q=[{name:"datetime",label:"Tanggal",field:"datetime",align:"left",sortable:!0},{name:"finance_account_id",label:"Bank Tujuan",field:"finance_account_id",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"status",label:"Status",field:"status",align:"center"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",label:"Aksi",field:"action",align:"center"}];ye(()=>{h()});const h=(E=null)=>{Oe({pagination:j,filter:g,props:E,rows:o,url:route("admin.customer-wallet-transaction-confirmation.data"),loading:s,tableRef:p})},T=()=>{h()},P=ee(()=>n.screen.gt.sm?q:q.filter(E=>["datetime","action"].includes(E.name)));Ve(()=>g.year,E=>{E===null&&(g.month=null)});const V=E=>sa({message:`Setujui konfirmasi transaksi #${E.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",E.id),fetchItemsCallback:h,loading:s,data:{id:E.id,action:"accept"}}),R=E=>sa({message:`Tolak konfirmasi transaksi #${E.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",E.id),fetchItemsCallback:h,loading:s,data:{id:E.id,action:"reject"}}),S=E=>Fe({message:`Hapus konfirmasi transaksi #${E.id}?`,url:route("admin.customer-wallet-transaction-confirmation.delete",E.id),fetchItemsCallback:h,loading:s});return(E,Q)=>{const A=H("i-head"),ae=H("authenticated-layout");return w(),O(W,null,[e(A,{title:ca}),e(ae,null,Be({title:a(()=>[b(u(ca))]),"right-button":a(()=>[e(I,{class:"q-ml-sm",icon:f.value?"filter_alt_off":"filter_alt",color:"grey",flat:"",rounded:"",dense:"",onClick:Q[0]||(Q[0]=B=>f.value=!f.value)},null,8,["icon"])]),default:a(()=>[l("div",Mo,[e(ke,{ref_key:"tableRef",ref:p,class:"full-height-table",style:Le({height:t(i)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:j.value,"onUpdate:pagination":Q[6]||(Q[6]=B=>j.value=B),filter:g.search,loading:s.value,columns:P.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:h,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),body:a(B=>[e(ve,{props:B},{default:a(()=>[e(L,{key:"datetime",props:B,class:"wrap-column"},{default:a(()=>[l("div",null,"#: "+u(B.row.formatted_id),1),l("div",null,[e(C,{name:"calendar_today",class:"inline-icon"}),b(" "+u(t(Je)(B.row.datetime))+" ("+u(t(ot)(B.row.datetime))+") ",1)]),t(n).screen.gt.sm?z("",!0):(w(),O(W,{key:0},[e(Ye,{icon:"account_balance",text:B.row.finance_account.name},null,8,["text"]),l("div",null,[e(C,{name:"person",class:"inline-icon"}),b(" "+u(B.row.customer.username)+" - "+u(B.row.customer.name),1)]),l("div",null,[e(C,{name:"money",class:"inline-icon"}),b(" Rp. "+u(t(F)(B.row.amount)),1)]),B.row.description?(w(),D(Ye,{key:0,icon:"notes",text:B.row.description},null,8,["text"])):z("",!0),l("div",null,[e(na,{status:B.row.status},null,8,["status"])])],64))]),_:2},1032,["props"]),e(L,{key:"finance_account_id",props:B},{default:a(()=>[b(u(B.row.finance_account.name),1),Q[8]||(Q[8]=l("br",null,null,-1)),b(" "+u(B.row.finance_account.bank)+" "+u(B.row.finance_account.number)+" an. "+u(B.row.finance_account.holder),1)]),_:2},1032,["props"]),e(L,{key:"amount",props:B,style:{"text-align":"right"}},{default:a(()=>[b(" Rp. "+u(t(F)(B.row.amount)),1)]),_:2},1032,["props"]),e(L,{key:"status",props:B,class:"text-center"},{default:a(()=>[e(na,{status:B.row.status},null,8,["status"])]),_:2},1032,["props"]),e(L,{key:"notes",props:B},{default:a(()=>[b(u(B.row.notes),1)]),_:2},1032,["props"]),e(L,{key:"action",props:B,class:"text-center"},{default:a(()=>[l("div",Ro,[e(I,{icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:Q[5]||(Q[5]=J(()=>{},["stop"])),disable:B.row.status!=="pending"},{default:a(()=>[e(He,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[K((w(),D(Z,{onClick:J(M=>V(B.row),["stop"]),clickable:""},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"check"})]),_:1}),e(N,null,{default:a(()=>Q[9]||(Q[9]=[b("Setujui")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]]),K((w(),D(Z,{onClick:J(M=>R(B.row),["stop"]),clickable:""},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"cancel"})]),_:1}),e(N,null,{default:a(()=>Q[10]||(Q[10]=[b("Tolak")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]]),e(We),K((w(),D(Z,{onClick:J(M=>S(B.row),["stop"]),clickable:""},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:a(()=>Q[11]||(Q[11]=[b("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disable"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"]),e(wl,{modelValue:y.value,"onUpdate:modelValue":Q[7]||(Q[7]=B=>y.value=B),imageUrl:`/${m.value}`},null,8,["modelValue","imageUrl"])])]),_:2},[f.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",Oo,[e(se,{modelValue:g.year,"onUpdate:modelValue":[Q[1]||(Q[1]=B=>g.year=B),T],options:d,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),g.year!=="all"?(w(),D(se,{key:0,modelValue:g.month,"onUpdate:modelValue":[Q[2]||(Q[2]=B=>g.month=B),T],options:v,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:g.year===null},null,8,["modelValue","disable"])):z("",!0),e(se,{modelValue:g.status,"onUpdate:modelValue":[Q[3]||(Q[3]=B=>g.status=B),T],options:x,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:g.search,"onUpdate:modelValue":Q[4]||(Q[4]=B=>g.search=B),placeholder:"Cari...",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Uo=Object.freeze(Object.defineProperty({__proto__:null,default:Eo},Symbol.toStringTag,{value:"Module"}));function Ka(c,n=!1){const f=c.map(r=>({value:r.id,label:r.username+" - "+r.name})),o=n?[{value:"all",label:"Semua"},...f]:f,s=$([...o]);return{filteredCustomers:s,filterCustomersFn:(r,i)=>{i(()=>{s.value=o.filter(m=>m.label.toLowerCase().includes(r.toLowerCase()))})},customers:o}}const Ao={class:"col col-lg-6 q-pa-sm"},pa="Penyesuaian Saldo Dompet Santri",Do={__name:"Adjustment",setup(c){const n=fe(),{filteredCustomers:f,filterCustomersFn:o}=Ka(n.props.customers,!1),s=Ce({customer_id:null,old_balance:0,new_balance:0,notes:""}),p=()=>s.amount=s.new_balance-s.old_balance;Ve(()=>s.customer_id,async m=>{if(!m){s.old_balance=0,s.new_balance=0,p();return}s.processing=!0;try{const y=await axios.get(route("admin.customer.balance",{id:m}));s.new_balance=s.old_balance=y.data.balance}catch(y){console.error("Gagal mengambil saldo:",y),s.old_balance=0,s.new_balance=0}s.processing=!1,p()});const r=ee(()=>s.new_balance-s.old_balance),i=()=>Ne({form:s,url:route("admin.customer-wallet-transaction.adjustment")});return(m,y)=>{const _=H("i-head"),k=H("authenticated-layout");return w(),O(W,null,[e(_,{title:pa}),e(k,null,{title:a(()=>[b(u(pa))]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",Ao,[e(Pe,{class:"row",onSubmit:J(i,["prevent"]),onValidationError:t(Ue)},{default:a(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[e(se,{class:"custom-select",modelValue:t(s).customer_id,"onUpdate:modelValue":y[0]||(y[0]=d=>t(s).customer_id=d),label:"Santri","use-input":"","input-debounce":"300",clearable:"",options:t(f),"map-options":"","emit-value":"",errorMessage:t(s).errors.customer_id,onFilter:t(o),error:!!t(s).errors.customer_id,disable:t(s).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(Z,null,{default:a(()=>[e(N,null,{default:a(()=>y[6]||(y[6]=[b("Santri tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(qe,{modelValue:t(s).old_balance,"onUpdate:modelValue":y[1]||(y[1]=d=>t(s).old_balance=d),label:"Saldo Tercatat",readonly:"",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.balance,errorMessage:t(s).errors.balance},null,8,["modelValue","disable","error","errorMessage"]),e(qe,{modelValue:t(s).new_balance,"onUpdate:modelValue":y[2]||(y[2]=d=>t(s).new_balance=d),label:"Saldo Seharusnya",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.new_balance,errorMessage:t(s).errors.new_balance},null,8,["modelValue","disable","error","errorMessage"]),e(qe,{modelValue:r.value,"onUpdate:modelValue":y[3]||(y[3]=d=>r.value=d),label:"Selisih",readonly:"",lazyRules:"",disable:t(s).processing},null,8,["modelValue","disable"]),e(X,{modelValue:t(s).notes,"onUpdate:modelValue":y[4]||(y[4]=d=>t(s).notes=d),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,rules:[d=>d&&d.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(I,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(I,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:y[5]||(y[5]=d=>t(Y).get(m.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},jo=Object.freeze(Object.defineProperty({__proto__:null,default:Do},Symbol.toStringTag,{value:"Module"})),Bo={class:"q-gutter-sm"},Lo={class:"col col-lg-6 q-pa-sm"},zo={__name:"Editor",setup(c){const n=fe(),f=(n.props.data.id?"Edit":"Catat")+" Transaksi Dompet Santri",{filteredCustomers:o,filterCustomersFn:s}=Ka(n.props.customers,!1),p=[{label:"Deposit (+)",value:"deposit"},{label:"Penarikan (-)",value:"withdrawal"},{label:"Pembelian (-)",value:"purchase"},{label:"Refund (+)",value:"refund"}],r=n.props.finance_accounts.map(y=>({label:y.name,value:y.id})),i=Ce({id:n.props.data.id,customer_id:n.props.data.customer_id,finance_account_id:n.props.data.finance_account_id,type:n.props.data.type,datetime:st(n.props.data.datetime).format("YYYY-MM-DD HH:mm:ss"),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),m=()=>Ne({form:i,url:route("admin.customer-wallet-transaction.save")});return(y,_)=>{const k=H("i-head"),d=H("authenticated-layout");return w(),O(W,null,[e(k,{title:f}),e(d,null,{title:a(()=>[b(u(f))]),"left-button":a(()=>[l("div",Bo,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:_[0]||(_[0]=v=>y.$inertia.get(y.route("admin.customer-wallet-transaction.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",Lo,[e(Pe,{class:"row",onSubmit:J(m,["prevent"]),onValidationError:t(Ue)},{default:a(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":_[1]||(_[1]=v=>t(i).id=v)},null,512),[[Qe,t(i).id]]),e(xt,{autofocus:"",modelValue:t(i).datetime,"onUpdate:modelValue":_[2]||(_[2]=v=>t(i).datetime=v),label:"Tanggal",error:!!t(i).errors.datetime,disable:t(i).processing},null,8,["modelValue","error","disable"]),e(se,{class:"custom-select",modelValue:t(i).customer_id,"onUpdate:modelValue":_[3]||(_[3]=v=>t(i).customer_id=v),label:"Santri","use-input":"","input-debounce":"300",clearable:"",options:t(o),"map-options":"","emit-value":"",errorMessage:t(i).errors.customer_id,onFilter:t(s),error:!!t(i).errors.customer_id,disable:t(i).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(Z,null,{default:a(()=>[e(N,null,{default:a(()=>_[9]||(_[9]=[b("Santri tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(se,{modelValue:t(i).type,"onUpdate:modelValue":_[4]||(_[4]=v=>t(i).type=v),label:"Jenis",options:p,"map-options":"","emit-value":"",error:!!t(i).errors.type,disable:t(i).processing,errorMessage:t(i).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),t(i).type=="deposit"||t(i).type=="withdrawal"?(w(),D(se,{key:0,modelValue:t(i).finance_account_id,"onUpdate:modelValue":_[5]||(_[5]=v=>t(i).finance_account_id=v),label:t(i).type=="deposit"?"Kas Tujuan":"Kas Asal",options:t(r),"map-options":"","emit-value":"",error:!!t(i).errors.finance_account_id,disable:t(i).processing,errorMessage:t(i).errors.finance_account_id,"hide-bottom-space":""},null,8,["modelValue","label","options","error","disable","errorMessage"])):z("",!0),e(qe,{modelValue:t(i).amount,"onUpdate:modelValue":_[6]||(_[6]=v=>t(i).amount=v),label:"Jumlah",lazyRules:"",disable:t(i).processing,error:!!t(i).errors.amount,errorMessage:t(i).errors.amount,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),e(X,{modelValue:t(i).notes,"onUpdate:modelValue":_[7]||(_[7]=v=>t(i).notes=v),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(i).processing,error:!!t(i).errors.notes,"error-message":t(i).errors.notes,rules:[v=>v&&v.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(I,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(i).processing},null,8,["disable"]),e(I,{icon:"cancel",label:"Batal",disable:t(i).processing,onClick:_[8]||(_[8]=v=>t(Y).get(y.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Ho=Object.freeze(Object.defineProperty({__proto__:null,default:zo},Symbol.toStringTag,{value:"Module"})),Fo=["top","middle","bottom"],Et=rt({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:c=>Fo.includes(c)}},setup(c,{slots:n}){const f=ee(()=>c.align!==void 0?{verticalAlign:c.align}:null),o=ee(()=>{const s=c.outline===!0&&c.color||c.textColor;return`q-badge flex inline items-center no-wrap q-badge--${c.multiLine===!0?"multi":"single"}-line`+(c.outline===!0?" q-badge--outline":c.color!==void 0?` bg-${c.color}`:"")+(s!==void 0?` text-${s}`:"")+(c.floating===!0?" q-badge--floating":"")+(c.rounded===!0?" q-badge--rounded":"")+(c.transparent===!0?" q-badge--transparent":"")});return()=>pe("div",{class:o.value,style:f.value,role:"status","aria-label":c.label},Ua(n.default,c.label!==void 0?[c.label]:[]))}}),Yo={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Ko={class:"q-pa-sm"},Qo={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Wo={class:"flex justify-end"},fa="Transaksi Dompet Santri",Jo={__name:"Index",setup(c){const n=we(),f=$(!1),o=$([]),s=$(!0),p=$(null),r=$(null),i=je(r),m=new Date().getFullYear(),y=new Date().getMonth()+1,_=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...bt(m-2,m-1).reverse()],k=[{value:"all",label:"Semua Bulan"},..._t()],d=Me({search:"",year:m,month:y,...Ie()}),v=$({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!0}),x=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"customer",label:"Santri",field:"customer",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];ye(()=>{j()});const g=T=>Fe({message:`Hapus transaksi #-${T.id}?`,url:route("admin.customer-wallet-transaction.delete",T.id),fetchItemsCallback:j,loading:s}),j=(T=null)=>{Oe({pagination:v,filter:d,props:T,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:s,tableRef:p})},q=()=>{j()},h=ee(()=>n.screen.gt.sm?x:x.filter(T=>T.name==="datetime"||T.name==="action"));return Ve(()=>d.year,T=>{T===null&&(d.month=null)}),(T,P)=>{const V=H("i-head"),R=H("authenticated-layout");return w(),O(W,null,[e(V,{title:fa}),e(R,null,Be({title:a(()=>[b(u(fa))]),"right-button":a(()=>[e(I,{icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:P[0]||(P[0]=S=>f.value=!f.value)},null,8,["icon"]),e(I,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:P[1]||(P[1]=S=>t(Y).get(T.route("admin.customer-wallet-transaction.add")))})]),default:a(()=>[l("div",Ko,[e(ke,{ref_key:"tableRef",ref:p,style:Le({height:t(i)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":P[6]||(P[6]=S=>v.value=S),filter:d.search,loading:s.value,columns:h.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:j,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:S,message:E,filter:Q})=>[l("div",Qo,[l("span",null,u(E)+" "+u(Q?" with term "+Q:""),1)])]),body:a(S=>[e(ve,{props:S},{default:a(()=>[e(L,{key:"datetime",props:S,class:"wrap-column"},{default:a(()=>[l("div",null,[b(" #: "+u(S.row.formatted_id)+" ",1),P[7]||(P[7]=l("br",null,null,-1)),e(C,{name:"calendar_today"}),b(" "+u(t(Je)(S.row.datetime))+" ("+u(t(ot)(S.row.datetime))+") ",1)]),l("div",null,[e(C,{name:"account_balance",class:"inline-icon"}),b(" "+u(S.row.finance_account?S.row.finance_account.name:"-"),1)]),t(n).screen.gt.sm?z("",!0):(w(),O(W,{key:0},[e(Ye,{icon:"person",text:S.row.customer.username+" -"+S.row.customer.name},null,8,["text"]),l("div",null,[e(C,{name:"money",class:"inline-icon"}),b(" Rp. "+u(t(et)(S.row.amount)+t(F)(S.row.amount))+" ",1),e(Et,null,{default:a(()=>[e(C,{name:"category"}),b(" "+u(S.row.type_label),1)]),_:2},1024)]),e(Ye,{text:S.row.notes,icon:"notes"},null,8,["text"])],64))]),_:2},1032,["props"]),e(L,{key:"customer",props:S},{default:a(()=>[e(Ye,{text:S.row.customer.username+" -"+S.row.customer.name},null,8,["text"])]),_:2},1032,["props"]),e(L,{key:"notes",props:S},{default:a(()=>[e(Ye,{text:S.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(L,{key:"amount",props:S,style:{"text-align":"right"}},{default:a(()=>[b(u(t(et)(S.row.amount)+t(F)(S.row.amount)),1)]),_:2},1032,["props"]),e(L,{key:"action",props:S},{default:a(()=>[l("div",Wo,[e(I,{disabled:!t(Ke)(T.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:P[5]||(P[5]=J(()=>{},["stop"]))},{default:a(()=>[e(He,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[K((w(),D(Z,{onClick:J(E=>g(S.row),["stop"]),clickable:""},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:a(()=>P[8]||(P[8]=[b("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[f.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",Yo,[e(se,{modelValue:d.year,"onUpdate:modelValue":[P[2]||(P[2]=S=>d.year=S),q],options:_,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(se,{modelValue:d.month,"onUpdate:modelValue":[P[3]||(P[3]=S=>d.month=S),q],options:k,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:d.year===null},null,8,["modelValue","disable"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":P[4]||(P[4]=S=>d.search=S),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Go=Object.freeze(Object.defineProperty({__proto__:null,default:Jo},Symbol.toStringTag,{value:"Module"}));let Xo=0;const Zo=["click","keydown"],en={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Xo++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function tn(c,n,f,o){const s=Gl(Aa,Dt);if(s===Dt)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Dt;const{proxy:p}=Ct(),r=$(null),i=$(null),m=$(null),y=ee(()=>c.disable===!0||c.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},c.ripple===!0?{}:c.ripple)),_=ee(()=>s.currentModel.value===c.name),k=ee(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(_.value===!0?" q-tab--active"+(s.tabProps.value.activeClass?" "+s.tabProps.value.activeClass:"")+(s.tabProps.value.activeColor?` text-${s.tabProps.value.activeColor}`:"")+(s.tabProps.value.activeBgColor?` bg-${s.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(c.icon&&c.label&&s.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(c.noCaps===!0||s.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(c.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),d=ee(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(s.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(c.contentClass!==void 0?` ${c.contentClass}`:"")),v=ee(()=>c.disable===!0||s.hasFocus.value===!0||_.value===!1&&s.hasActiveTab.value===!0?-1:c.tabindex||0);function x(T,P){if(P!==!0&&r.value!==null&&r.value.focus(),c.disable!==!0){s.updateModel({name:c.name}),f("click",T);return}}function g(T){kl(T,[13,32])?x(T,!0):hl(T)!==!0&&T.keyCode>=35&&T.keyCode<=40&&T.altKey!==!0&&T.metaKey!==!0&&s.onKbdNavigate(T.keyCode,p.$el)===!0&&ht(T),f("keydown",T)}function j(){const T=s.tabProps.value.narrowIndicator,P=[],V=pe("div",{ref:m,class:["q-tab__indicator",s.tabProps.value.indicatorClass]});c.icon!==void 0&&P.push(pe(C,{class:"q-tab__icon",name:c.icon})),c.label!==void 0&&P.push(pe("div",{class:"q-tab__label"},c.label)),c.alert!==!1&&P.push(c.alertIcon!==void 0?pe(C,{class:"q-tab__alert-icon",color:c.alert!==!0?c.alert:void 0,name:c.alertIcon}):pe("div",{class:"q-tab__alert"+(c.alert!==!0?` text-${c.alert}`:"")})),T===!0&&P.push(V);const R=[pe("div",{class:"q-focus-helper",tabindex:-1,ref:r}),pe("div",{class:d.value},Ua(n.default,P))];return T===!1&&R.push(V),R}const q={name:ee(()=>c.name),rootRef:i,tabIndicatorRef:m,routeData:o};Mt(()=>{s.unregisterTab(q)}),ye(()=>{s.registerTab(q)});function h(T,P){const V={ref:i,class:k.value,tabindex:v.value,role:"tab","aria-selected":_.value===!0?"true":"false","aria-disabled":c.disable===!0?"true":void 0,onClick:x,onKeydown:g,...P};return K(pe(T,V,j()),[[oe,y.value]])}return{renderTab:h,$tabs:s}}const ct=rt({name:"QTab",props:en,emits:Zo,setup(c,{slots:n,emit:f}){const{renderTab:o}=tn(c,n,f);return()=>o("div")}});function an(c,n,f){const o=f===!0?["left","right"]:["top","bottom"];return`absolute-${n===!0?o[0]:o[1]}${c?` text-${c}`:""}`}const ln=["left","center","right","justify"],Qt=rt({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:c=>ln.includes(c)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(c,{slots:n,emit:f}){const{proxy:o}=Ct(),{$q:s}=o,{registerTick:p}=jt(),{registerTick:r}=jt(),{registerTick:i}=jt(),{registerTimeout:m,removeTimeout:y}=Ht(),{registerTimeout:_,removeTimeout:k}=Ht(),d=$(null),v=$(null),x=$(c.modelValue),g=$(!1),j=$(!0),q=$(!1),h=$(!1),T=[],P=$(0),V=$(!1);let R=null,S=null,E;const Q=ee(()=>({activeClass:c.activeClass,activeColor:c.activeColor,activeBgColor:c.activeBgColor,indicatorClass:an(c.indicatorColor,c.switchIndicator,c.vertical),narrowIndicator:c.narrowIndicator,inlineLabel:c.inlineLabel,noCaps:c.noCaps})),A=ee(()=>{const G=P.value,ne=x.value;for(let ce=0;ce<G;ce++)if(T[ce].name.value===ne)return!0;return!1}),ae=ee(()=>`q-tabs__content--align-${g.value===!0?"left":h.value===!0?"justify":c.align}`),B=ee(()=>`q-tabs row no-wrap items-center q-tabs--${g.value===!0?"":"not-"}scrollable q-tabs--${c.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${c.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${c.mobileArrows===!0?"":"out"}-arrows`+(c.dense===!0?" q-tabs--dense":"")+(c.shrink===!0?" col-shrink":"")+(c.stretch===!0?" self-stretch":"")),M=ee(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+ae.value+(c.contentClass!==void 0?` ${c.contentClass}`:"")),U=ee(()=>c.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),re=ee(()=>c.vertical!==!0&&s.lang.rtl===!0),ie=ee(()=>Sl===!1&&re.value===!0);Ve(re,ut),Ve(()=>c.modelValue,G=>{le({name:G,setCurrent:!0,skipEmit:!0})}),Ve(()=>c.outsideArrows,he);function le({name:G,setCurrent:ne,skipEmit:ce}){x.value!==G&&(ce!==!0&&c["onUpdate:modelValue"]!==void 0&&f("update:modelValue",G),(ne===!0||c["onUpdate:modelValue"]===void 0)&&(yt(x.value,G),x.value=G))}function he(){p(()=>{ze({width:d.value.offsetWidth,height:d.value.offsetHeight})})}function ze(G){if(U.value===void 0||v.value===null)return;const ne=G[U.value.container],ce=Math.min(v.value[U.value.scroll],Array.prototype.reduce.call(v.value.children,($e,be)=>$e+(be[U.value.content]||0),0)),Se=ne>0&&ce>ne;g.value=Se,Se===!0&&r(ut),h.value=ne<parseInt(c.breakpoint,10)}function yt(G,ne){const ce=G!=null&&G!==""?T.find($e=>$e.name.value===G):null,Se=ne!=null&&ne!==""?T.find($e=>$e.name.value===ne):null;if(qt===!0)qt=!1;else if(ce&&Se){const $e=ce.tabIndicatorRef.value,be=Se.tabIndicatorRef.value;R!==null&&(clearTimeout(R),R=null),$e.style.transition="none",$e.style.transform="none",be.style.transition="none",be.style.transform="none";const ge=$e.getBoundingClientRect(),De=be.getBoundingClientRect();be.style.transform=c.vertical===!0?`translate3d(0,${ge.top-De.top}px,0) scale3d(1,${De.height?ge.height/De.height:1},1)`:`translate3d(${ge.left-De.left}px,0,0) scale3d(${De.width?ge.width/De.width:1},1,1)`,i(()=>{R=setTimeout(()=>{R=null,be.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",be.style.transform="none"},70)})}Se&&g.value===!0&&it(Se.rootRef.value)}function it(G){const{left:ne,width:ce,top:Se,height:$e}=v.value.getBoundingClientRect(),be=G.getBoundingClientRect();let ge=c.vertical===!0?be.top-Se:be.left-ne;if(ge<0){v.value[c.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(ge),ut();return}ge+=c.vertical===!0?be.height-$e:be.width-ce,ge>0&&(v.value[c.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(ge),ut())}function ut(){const G=v.value;if(G===null)return;const ne=G.getBoundingClientRect(),ce=c.vertical===!0?G.scrollTop:Math.abs(G.scrollLeft);re.value===!0?(j.value=Math.ceil(ce+ne.width)<G.scrollWidth-1,q.value=ce>0):(j.value=ce>0,q.value=c.vertical===!0?Math.ceil(ce+ne.height)<G.scrollHeight:Math.ceil(ce+ne.width)<G.scrollWidth)}function Gt(G){S!==null&&clearInterval(S),S=setInterval(()=>{cl(G)===!0&&Xe()},5)}function Xt(){Gt(ie.value===!0?Number.MAX_SAFE_INTEGER:0)}function Zt(){Gt(ie.value===!0?0:Number.MAX_SAFE_INTEGER)}function Xe(){S!==null&&(clearInterval(S),S=null)}function dl(G,ne){const ce=Array.prototype.filter.call(v.value.children,De=>De===ne||De.matches&&De.matches(".q-tab.q-focusable")===!0),Se=ce.length;if(Se===0)return;if(G===36)return it(ce[0]),ce[0].focus(),!0;if(G===35)return it(ce[Se-1]),ce[Se-1].focus(),!0;const $e=G===(c.vertical===!0?38:37),be=G===(c.vertical===!0?40:39),ge=$e===!0?-1:be===!0?1:void 0;if(ge!==void 0){const De=re.value===!0?-1:1,Ge=ce.indexOf(ne)+ge*De;return Ge>=0&&Ge<Se&&(it(ce[Ge]),ce[Ge].focus({preventScroll:!0})),!0}}const ml=ee(()=>ie.value===!0?{get:G=>Math.abs(G.scrollLeft),set:(G,ne)=>{G.scrollLeft=-ne}}:c.vertical===!0?{get:G=>G.scrollTop,set:(G,ne)=>{G.scrollTop=ne}}:{get:G=>G.scrollLeft,set:(G,ne)=>{G.scrollLeft=ne}});function cl(G){const ne=v.value,{get:ce,set:Se}=ml.value;let $e=!1,be=ce(ne);const ge=G<be?-1:1;return be+=ge*5,be<0?($e=!0,be=0):(ge===-1&&be<=G||ge===1&&be>=G)&&($e=!0,be=G),Se(ne,be),ut(),$e}function ea(G,ne){for(const ce in G)if(G[ce]!==ne[ce])return!1;return!0}function pl(){let G=null,ne={matchedLen:0,queryDiff:9999,hrefLen:0};const ce=T.filter(ge=>ge.routeData!==void 0&&ge.routeData.hasRouterLink.value===!0),{hash:Se,query:$e}=o.$route,be=Object.keys($e).length;for(const ge of ce){const De=ge.routeData.exact.value===!0;if(ge.routeData[De===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:Ge,query:Ut,matched:vl,href:yl}=ge.routeData.resolvedLink.value,At=Object.keys(Ut).length;if(De===!0){if(Ge!==Se||At!==be||ea($e,Ut)===!1)continue;G=ge.name.value;break}if(Ge!==""&&Ge!==Se||At!==0&&ea(Ut,$e)===!1)continue;const Ze={matchedLen:vl.length,queryDiff:be-At,hrefLen:yl.length-Ge.length};if(Ze.matchedLen>ne.matchedLen){G=ge.name.value,ne=Ze;continue}else if(Ze.matchedLen!==ne.matchedLen)continue;if(Ze.queryDiff<ne.queryDiff)G=ge.name.value,ne=Ze;else if(Ze.queryDiff!==ne.queryDiff)continue;Ze.hrefLen>ne.hrefLen&&(G=ge.name.value,ne=Ze)}if(G===null&&T.some(ge=>ge.routeData===void 0&&ge.name.value===x.value)===!0){qt=!1;return}le({name:G,setCurrent:!0})}function fl(G){if(y(),V.value!==!0&&d.value!==null&&G.target&&typeof G.target.closest=="function"){const ne=G.target.closest(".q-tab");ne&&d.value.contains(ne)===!0&&(V.value=!0,g.value===!0&&it(ne))}}function gl(){m(()=>{V.value=!1},30)}function wt(){aa.avoidRouteWatcher===!1?_(pl):k()}function ta(){if(E===void 0){const G=Ve(()=>o.$route.fullPath,wt);E=()=>{G(),E=void 0}}}function bl(G){T.push(G),P.value++,he(),G.routeData===void 0||o.$route===void 0?_(()=>{if(g.value===!0){const ne=x.value,ce=ne!=null&&ne!==""?T.find(Se=>Se.name.value===ne):null;ce&&it(ce.rootRef.value)}}):(ta(),G.routeData.hasRouterLink.value===!0&&wt())}function _l(G){T.splice(T.indexOf(G),1),P.value--,he(),E!==void 0&&G.routeData!==void 0&&(T.every(ne=>ne.routeData===void 0)===!0&&E(),wt())}const aa={currentModel:x,tabProps:Q,hasFocus:V,hasActiveTab:A,registerTab:bl,unregisterTab:_l,verifyRouteModel:wt,updateModel:le,onKbdNavigate:dl,avoidRouteWatcher:!1};eo(Aa,aa);function la(){R!==null&&clearTimeout(R),Xe(),E!==void 0&&E()}let oa,qt;return Mt(la),Xl(()=>{oa=E!==void 0,la()}),Zl(()=>{oa===!0&&(ta(),qt=!0,wt()),he()}),()=>pe("div",{ref:d,class:B.value,role:"tablist",onFocusin:fl,onFocusout:gl},[pe($l,{onResize:ze}),pe("div",{ref:v,class:M.value,onScroll:ut},Vt(n.default)),pe(C,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(j.value===!0?"":" q-tabs__arrow--faded"),name:c.leftIcon||s.iconSet.tabs[c.vertical===!0?"up":"left"],onMousedownPassive:Xt,onTouchstartPassive:Xt,onMouseupPassive:Xe,onMouseleavePassive:Xe,onTouchendPassive:Xe}),pe(C,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(q.value===!0?"":" q-tabs__arrow--faded"),name:c.rightIcon||s.iconSet.tabs[c.vertical===!0?"down":"right"],onMousedownPassive:Zt,onTouchstartPassive:Zt,onMouseupPassive:Xe,onMouseleavePassive:Xe,onTouchendPassive:Xe})])}});function on(c){const n=[.06,6,50];return typeof c=="string"&&c.length&&c.split(":").forEach((f,o)=>{const s=parseFloat(f);s&&(n[o]=s)}),n}const nn=xl({name:"touch-swipe",beforeMount(c,{value:n,arg:f,modifiers:o}){if(o.mouse!==!0&&kt.has.touch!==!0)return;const s=o.mouseCapture===!0?"Capture":"",p={handler:n,sensitivity:on(f),direction:ra(o),noop:Vl,mouseStart(r){ua(r,p)&&ql(r)&&(Tt(p,"temp",[[document,"mousemove","move",`notPassive${s}`],[document,"mouseup","end","notPassiveCapture"]]),p.start(r,!0))},touchStart(r){if(ua(r,p)){const i=r.target;Tt(p,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","notPassiveCapture"],[i,"touchend","end","notPassiveCapture"]]),p.start(r)}},start(r,i){kt.is.firefox===!0&&Lt(c,!0);const m=ia(r);p.event={x:m.left,y:m.top,time:Date.now(),mouse:i===!0,dir:!1}},move(r){if(p.event===void 0)return;if(p.event.dir!==!1){ht(r);return}const i=Date.now()-p.event.time;if(i===0)return;const m=ia(r),y=m.left-p.event.x,_=Math.abs(y),k=m.top-p.event.y,d=Math.abs(k);if(p.event.mouse!==!0){if(_<p.sensitivity[1]&&d<p.sensitivity[1]){p.end(r);return}}else if(window.getSelection().toString()!==""){p.end(r);return}else if(_<p.sensitivity[2]&&d<p.sensitivity[2])return;const v=_/i,x=d/i;p.direction.vertical===!0&&_<d&&_<100&&x>p.sensitivity[0]&&(p.event.dir=k<0?"up":"down"),p.direction.horizontal===!0&&_>d&&d<100&&v>p.sensitivity[0]&&(p.event.dir=y<0?"left":"right"),p.direction.up===!0&&_<d&&k<0&&_<100&&x>p.sensitivity[0]&&(p.event.dir="up"),p.direction.down===!0&&_<d&&k>0&&_<100&&x>p.sensitivity[0]&&(p.event.dir="down"),p.direction.left===!0&&_>d&&y<0&&d<100&&v>p.sensitivity[0]&&(p.event.dir="left"),p.direction.right===!0&&_>d&&y>0&&d<100&&v>p.sensitivity[0]&&(p.event.dir="right"),p.event.dir!==!1?(ht(r),p.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Cl(),p.styleCleanup=g=>{p.styleCleanup=void 0,document.body.classList.remove("non-selectable");const j=()=>{document.body.classList.remove("no-pointer-events--children")};g===!0?setTimeout(j,50):j()}),p.handler({evt:r,touch:p.event.mouse!==!0,mouse:p.event.mouse,direction:p.event.dir,duration:i,distance:{x:_,y:d}})):p.end(r)},end(r){p.event!==void 0&&(Bt(p,"temp"),kt.is.firefox===!0&&Lt(c,!1),p.styleCleanup!==void 0&&p.styleCleanup(!0),r!==void 0&&p.event.dir!==!1&&ht(r),p.event=void 0)}};if(c.__qtouchswipe=p,o.mouse===!0){const r=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";Tt(p,"main",[[c,"mousedown","mouseStart",`passive${r}`]])}kt.has.touch===!0&&Tt(p,"main",[[c,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[c,"touchmove","noop","notPassiveCapture"]])},updated(c,n){const f=c.__qtouchswipe;f!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&f.end(),f.handler=n.value),f.direction=ra(n.modifiers))},beforeUnmount(c){const n=c.__qtouchswipe;n!==void 0&&(Bt(n,"main"),Bt(n,"temp"),kt.is.firefox===!0&&Lt(c,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete c.__qtouchswipe)}}),sn={name:{required:!0},disable:Boolean},ga={setup(c,{slots:n}){return()=>pe("div",{class:"q-panel scroll",role:"tabpanel"},Vt(n.default))}},rn={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},un=["update:modelValue","beforeTransition","transition"];function dn(){const{props:c,emit:n,proxy:f}=Ct(),{getCache:o}=Pl(),{registerTimeout:s}=Ht();let p,r;const i=$(null),m=$(null);function y(U){const re=c.vertical===!0?"up":"left";E((f.$q.lang.rtl===!0?-1:1)*(U.direction===re?1:-1))}const _=ee(()=>[[nn,y,void 0,{horizontal:c.vertical!==!0,vertical:c.vertical,mouse:!0}]]),k=ee(()=>c.transitionPrev||`slide-${c.vertical===!0?"down":"right"}`),d=ee(()=>c.transitionNext||`slide-${c.vertical===!0?"up":"left"}`),v=ee(()=>`--q-transition-duration: ${c.transitionDuration}ms`),x=ee(()=>typeof c.modelValue=="string"||typeof c.modelValue=="number"?c.modelValue:String(c.modelValue)),g=ee(()=>({include:c.keepAliveInclude,exclude:c.keepAliveExclude,max:c.keepAliveMax})),j=ee(()=>c.keepAliveInclude!==void 0||c.keepAliveExclude!==void 0);Ve(()=>c.modelValue,(U,re)=>{const ie=P(U)===!0?V(U):-1;r!==!0&&S(ie===-1?0:ie<V(re)?-1:1),i.value!==ie&&(i.value=ie,n("beforeTransition",U,re),s(()=>{n("transition",U,re)},c.transitionDuration))});function q(){E(1)}function h(){E(-1)}function T(U){n("update:modelValue",U)}function P(U){return U!=null&&U!==""}function V(U){return p.findIndex(re=>re.props.name===U&&re.props.disable!==""&&re.props.disable!==!0)}function R(){return p.filter(U=>U.props.disable!==""&&U.props.disable!==!0)}function S(U){const re=U!==0&&c.animated===!0&&i.value!==-1?"q-transition--"+(U===-1?k.value:d.value):null;m.value!==re&&(m.value=re)}function E(U,re=i.value){let ie=re+U;for(;ie!==-1&&ie<p.length;){const le=p[ie];if(le!==void 0&&le.props.disable!==""&&le.props.disable!==!0){S(U),r=!0,n("update:modelValue",le.props.name),setTimeout(()=>{r=!1});return}ie+=U}c.infinite===!0&&p.length!==0&&re!==-1&&re!==p.length&&E(U,U===-1?p.length:-1)}function Q(){const U=V(c.modelValue);return i.value!==U&&(i.value=U),!0}function A(){const U=P(c.modelValue)===!0&&Q()&&p[i.value];return c.keepAlive===!0?[pe(to,g.value,[pe(j.value===!0?o(x.value,()=>({...ga,name:x.value})):ga,{key:x.value,style:v.value},()=>U)])]:[pe("div",{class:"q-panel scroll",style:v.value,key:x.value,role:"tabpanel"},[U])]}function ae(){if(p.length!==0)return c.animated===!0?[pe(za,{name:m.value},A)]:A()}function B(U){return p=Tl(Vt(U.default,[])).filter(re=>re.props!==null&&re.props.slot===void 0&&P(re.props.name)===!0),p.length}function M(){return p}return Object.assign(f,{next:q,previous:h,goTo:T}),{panelIndex:i,panelDirectives:_,updatePanelsList:B,updatePanelIndex:Q,getPanelContent:ae,getEnabledPanels:R,getPanels:M,isValidPanelName:P,keepAliveProps:g,needsUniqueKeepAliveWrapper:j,goToPanelByOffset:E,goToPanel:T,nextPanel:q,previousPanel:h}}const pt=rt({name:"QTabPanel",props:sn,setup(c,{slots:n}){return()=>pe("div",{class:"q-tab-panel",role:"tabpanel"},Vt(n.default))}}),Wt=rt({name:"QTabPanels",props:{...rn,...Da},emits:un,setup(c,{slots:n}){const f=Ct(),o=ja(c,f.proxy.$q),{updatePanelsList:s,getPanelContent:p,panelDirectives:r}=dn(),i=ee(()=>"q-tab-panels q-panel-parent"+(o.value===!0?" q-tab-panels--dark q-dark":""));return()=>(s(n),Nl("div",{class:i.value},p(),"pan",c.swipeable,()=>r.value))}}),mn={class:"q-gutter-sm"},cn={class:"q-gutter-sm"},pn={class:"col col-lg-6 q-pa-sm"},fn={class:"row"},gn={class:"detail"},bn={key:0},_n={class:"text-grey-8"},vn={key:1},yn={class:"text-grey-8"},wn={class:"text-grey-8"},kn={key:2},hn={class:"text-grey-8"},Sn={class:"full-width row flex-center text-grey-8 q-gutter-sm"},$n={class:"text-grey-8"},ba="Rincian Santri",xn={__name:"Detail",setup(c){const n=fe(),f=$("main"),o=$([]),s=$(!0),p=Me({customer_id:n.props.data.id,...Ie()}),r=$({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),i=[{name:"id",label:"#",field:"id",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah",field:"amount",align:"right"}];ye(()=>{m()});const m=(k=null)=>Oe({pagination:r,filter:p,props:k,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:s}),y=we(),_=ee(()=>y.screen.gt.sm?i:i.filter(k=>k.name==="id"));return(k,d)=>{const v=H("i-head"),x=H("authenticated-layout");return w(),O(W,null,[e(v,{title:ba}),e(x,null,{title:a(()=>[b(u(ba))]),"left-button":a(()=>[l("div",mn,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=g=>k.$inertia.get(k.route("admin.customer.index")))})])]),"right-button":a(()=>[l("div",cn,[e(I,{icon:"edit",dense:"",color:"primary",onClick:d[1]||(d[1]=g=>k.$inertia.get(k.route("admin.customer.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",pn,[l("div",fn,[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Qt,{modelValue:f.value,"onUpdate:modelValue":d[2]||(d[2]=g=>f.value=g),align:"left"},{default:a(()=>[e(ct,{name:"main",label:"Info Utama"}),e(ct,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(Wt,{modelValue:f.value,"onUpdate:modelValue":d[4]||(d[4]=g=>f.value=g)},{default:a(()=>[e(pt,{name:"main"},{default:a(()=>[l("table",gn,[l("tbody",null,[d[28]||(d[28]=l("tr",null,[l("td",{colspan:"3"},[l("div",{class:"text-bold text-grey-8"},"Info Pelanggan")])],-1)),l("tr",null,[d[5]||(d[5]=l("td",{style:{width:"120px"}},"Username",-1)),d[6]||(d[6]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.username),1)]),l("tr",null,[d[7]||(d[7]=l("td",null,"Jenis",-1)),d[8]||(d[8]=l("td",null,":",-1)),l("td",null,u(k.$CONSTANTS.CUSTOMER_TYPES[t(n).props.data.type]),1)]),l("tr",null,[d[9]||(d[9]=l("td",null,"Nama",-1)),d[10]||(d[10]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[d[11]||(d[11]=l("td",null,"No. Telepon",-1)),d[12]||(d[12]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.phone),1)]),l("tr",null,[d[13]||(d[13]=l("td",null,"Alamat",-1)),d[14]||(d[14]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.address),1)]),l("tr",null,[d[15]||(d[15]=l("td",null,"Saldo",-1)),d[16]||(d[16]=l("td",null,":",-1)),l("td",null,"Rp. "+u(t(F)(t(n).props.data.balance)),1)]),l("tr",null,[d[17]||(d[17]=l("td",null,"Status",-1)),d[18]||(d[18]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),d[29]||(d[29]=l("tr",null,[l("td",{colspan:"3"},[l("div",{class:"text-bold text-grey-8 q-mt-md"}," Info Akun ")])],-1)),t(n).props.data.created_at?(w(),O("tr",bn,[d[19]||(d[19]=l("td",null,"Dibuat",-1)),d[20]||(d[20]=l("td",null,":",-1)),l("td",null,[b(u(t(Je)(t(n).props.data.created_at))+" ",1),l("span",_n,"("+u(t(ot)(t(n).props.data.created_at))+")",1)])])):z("",!0),t(n).props.data.updated_at?(w(),O("tr",vn,[d[21]||(d[21]=l("td",null,"Diperbarui",-1)),d[22]||(d[22]=l("td",null,":",-1)),l("td",null,[b(u(t(Je)(t(n).props.data.updated_at))+" ",1),l("span",yn,"("+u(t(ot)(t(n).props.data.updated_at))+")",1)])])):z("",!0),l("tr",null,[d[23]||(d[23]=l("td",null,"Terakhir login",-1)),d[24]||(d[24]=l("td",null,":",-1)),l("td",null,[b(u(t(n).props.data.last_login_datetime?t(Je)(t(n).props.data.last_login_datetime):"Belum pernah login")+" ",1),l("span",wn,"("+u(t(ot)(t(n).props.data.last_login_datetime))+")",1)])]),t(n).props.data.last_activity_datetime?(w(),O("tr",kn,[d[26]||(d[26]=l("td",null,"Aktifitas Terakhir",-1)),d[27]||(d[27]=l("td",null,":",-1)),l("td",null,[b(u(t(Je)(t(n).props.data.last_activity_datetime))+" ",1),l("span",hn,[b("("+u(t(ot)(t(n).props.data.last_activity_datetime))+") ",1),d[25]||(d[25]=l("br",null,null,-1)),b(u(t(n).props.data.last_activity_description),1)])])])):z("",!0)])])]),_:1}),e(pt,{name:"history"},{default:a(()=>[e(ke,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":d[3]||(d[3]=g=>r.value=g),filter:p.search,loading:s.value,columns:_.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:m,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:g,message:j,filter:q})=>[l("div",Sn,[l("span",null,u(j)+" "+u(q?" with term "+q:""),1)])]),body:a(g=>[e(ve,{props:g},{default:a(()=>[e(L,{key:"id",props:g},{default:a(()=>[l("div",null,[l("b",null,"#"+u(g.row.formatted_id),1),b(" - "+u(t(Je)(g.row.datetime)),1)]),e(Et,{size:"xs"},{default:a(()=>[e(C,{name:"category"}),b(" "+u(g.row.type_label),1)]),_:2},1024),t(y).screen.lt.md?(w(),O(W,{key:0},[l("div",null,[e(C,{name:"money"}),l("span",{class:_e(g.row.amount<0?"text-red-10":g.row.amount>0?"text-green-10":"")},u(t(et)(g.row.amount))+" "+u(t(F)(g.row.amount)),3)]),l("div",$n,[e(C,{name:"notes"}),b(" "+u(g.row.notes),1)])],64)):z("",!0)]),_:2},1032,["props"]),e(L,{key:"notes",props:g},{default:a(()=>[b(u(g.row.notes),1)]),_:2},1032,["props"]),e(L,{key:"amount",props:g},{default:a(()=>[l("div",{class:_e(g.row.amount<0?"text-red-10":g.row.amount>0?"text-green-10":"")},u(t(et)(g.row.amount))+" "+u(t(F)(g.row.amount)),3)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},Vn=Object.freeze(Object.defineProperty({__proto__:null,default:xn},Symbol.toStringTag,{value:"Module"})),Cn={class:"q-gutter-sm"},qn={class:"col col-lg-6 q-pa-sm"},Tn={__name:"Editor",setup(c){const n=fe(),f=(n.props.data.id?"Edit":"Tambah")+" Pelanggan",o=Ce({id:n.props.data.id,username:n.props.data.username,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,active:!!n.props.data.active,password:n.props.data.password}),s=()=>Ne({form:o,url:route("admin.customer.save")});return(p,r)=>{const i=H("i-head"),m=H("authenticated-layout");return w(),O(W,null,[e(i,{title:f}),e(m,null,{title:a(()=>[b(u(f))]),"left-button":a(()=>[l("div",Cn,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=y=>p.$inertia.get(p.route("admin.customer.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",qn,[e(Pe,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(Ue)},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=y=>t(o).id=y)},null,512),[[Qe,t(o).id]]),e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[e(X,{modelValue:t(o).username,"onUpdate:modelValue":r[2]||(r[2]=y=>t(o).username=y),modelModifiers:{trim:!0},label:"NIS",error:!!t(o).errors.username,disable:t(o).processing,"error-message":t(o).errors.username,rules:[y=>y&&y.length>0||"NIS harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(o).name,"onUpdate:modelValue":r[3]||(r[3]=y=>t(o).name=y),modelModifiers:{trim:!0},label:"Nama Santri",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(o).phone,"onUpdate:modelValue":r[4]||(r[4]=y=>t(o).phone=y),modelModifiers:{trim:!0},type:"text",label:"No HP",disable:t(o).processing,error:!!t(o).errors.phone,"error-message":t(o).errors.phone,rules:[y=>y&&y.length>0||"No HP harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(X,{modelValue:t(o).address,"onUpdate:modelValue":r[5]||(r[5]=y=>t(o).address=y),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Alamat",disable:t(o).processing,error:!!t(o).errors.address,"error-message":t(o).errors.address,rules:[y=>y&&y.length>0||"Alamat harus diisi."],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(X,{modelValue:t(o).password,"onUpdate:modelValue":r[6]||(r[6]=y=>t(o).password=y),type:"password",label:t(o).id?"Kata Sandi Baru (Wajib diisi)":"Kata Sandi (Isi jika ingin mengganti)",disable:t(o).processing,error:!!t(o).errors.password,"error-message":t(o).errors.password,"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","label","disable","error","error-message"]),e(Kt,{modelValue:t(o).active,"onUpdate:modelValue":r[7]||(r[7]=y=>t(o).active=y),label:"Aktif",disable:t(o).processing},null,8,["modelValue","disable"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(I,{type:"submit",label:"Simpan",icon:"save",color:"primary",disable:t(o).processing},null,8,["disable"]),e(I,{label:"Batal",icon:"cancel",disable:t(o).processing,onClick:r[8]||(r[8]=y=>t(Y).get(p.route("admin.customer.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Pn=Object.freeze(Object.defineProperty({__proto__:null,default:Tn},Symbol.toStringTag,{value:"Module"})),Nn={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},In={class:"q-pa-sm"},On={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Mn={class:"flex justify-end"},_a="Pelanggan",Rn={__name:"Index",setup(c){const n=we(),f=$(!1),o=$([]),s=$(!0),p=$(null),r=$(null),i=je(r),m=Me({search:"",status:"active",...Ie()}),y=$({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),_=[{name:"username",label:n.screen.lt.md?"Pelanggan":"Kode",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right"},{name:"phone",label:"No HP",field:"phone",align:"left"},{name:"address",label:"Alamat",field:"address",align:"left"},{name:"action",align:"right"}],k=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];ye(()=>{v()});const d=q=>Fe({message:`Hapus Santri ${q.name}?`,url:route("admin.customer.delete",q.id),fetchItemsCallback:v,loading:s}),v=(q=null)=>{Oe({pagination:y,filter:m,props:q,rows:o,url:route("admin.customer.data"),loading:s,tableRef:p})},x=()=>v(),g=q=>Y.get(route("admin.customer.detail",{id:q.id})),j=ee(()=>n.screen.gt.sm?_:_.filter(q=>q.name==="username"||q.name==="action"));return(q,h)=>{const T=H("i-head"),P=H("authenticated-layout");return w(),O(W,null,[e(T,{title:_a}),e(P,null,Be({title:a(()=>[b(u(_a))]),"right-button":a(()=>[e(I,{icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:h[0]||(h[0]=V=>f.value=!f.value)},null,8,["icon"]),e(I,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:h[1]||(h[1]=V=>t(Y).get(q.route("admin.customer.add")))})]),default:a(()=>[l("div",In,[e(ke,{class:"full-height-table",style:Le({height:t(i)}),ref_key:"tableRef",ref:p,flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":h[5]||(h[5]=V=>y.value=V),filter:m.search,loading:s.value,columns:j.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:v,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:V,message:R,filter:S})=>[l("div",On,[l("span",null,u(R)+" "+u(S?" with term "+S:""),1)])]),body:a(V=>[e(ve,{props:V,class:_e([V.row.active?"":"bg-red-1","cursor-pointer"]),onClick:R=>g(V.row)},{default:a(()=>[e(L,{key:"username",props:V,class:"wrap-column"},{default:a(()=>[l("div",null,[t(n).screen.lt.md?(w(),D(C,{key:0,name:"person"})):z("",!0),b(" "+u(V.row.username),1)]),t(n).screen.lt.md?(w(),O(W,{key:0},[l("div",null,[t(n).screen.lt.md?(w(),D(C,{key:0,name:"person"})):z("",!0),b(" "+u(V.row.name),1)]),l("div",null,[e(C,{name:"phone"}),b(" "+u(V.row.phone),1)]),e(Ye,{text:V.row.address,icon:"home_pin"},null,8,["text"]),l("div",null,[e(C,{name:"wallet"}),b(" Rp. "+u(t(F)(V.row.balance)),1)])],64)):z("",!0)]),_:2},1032,["props"]),e(L,{key:"name",props:V},{default:a(()=>[b(u(V.row.name),1)]),_:2},1032,["props"]),e(L,{key:"balance",props:V},{default:a(()=>[b(u(t(F)(V.row.balance)),1)]),_:2},1032,["props"]),e(L,{key:"phone",props:V},{default:a(()=>[b(u(V.row.phone),1)]),_:2},1032,["props"]),e(L,{key:"address",props:V},{default:a(()=>[e(Ye,{text:V.row.address},null,8,["text"])]),_:2},1032,["props"]),e(L,{key:"action",props:V},{default:a(()=>[l("div",Mn,[e(I,{disabled:!t(Ke)(q.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:h[4]||(h[4]=J(()=>{},["stop"]))},{default:a(()=>[e(He,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[K((w(),D(Z,{clickable:"",onClick:J(R=>t(Y).get(q.route("admin.customer.edit",V.row.id)),["stop"])},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:a(()=>h[6]||(h[6]=[b("Edit")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]]),K((w(),D(Z,{onClick:J(R=>d(V.row),["stop"]),clickable:""},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:a(()=>h[7]||(h[7]=[b("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[f.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",Nn,[e(se,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:m.status,"onUpdate:modelValue":[h[2]||(h[2]=V=>m.status=V),x],options:k,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":h[3]||(h[3]=V=>m.search=V),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},En=Object.freeze(Object.defineProperty({__proto__:null,default:Rn},Symbol.toStringTag,{value:"Module"})),Un={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},An={class:"q-pa-sm"},Dn={class:"q-pa-none"},jn={class:"q-pb-sm"},Bn={class:"row q-col-gutter-sm"},Ln={class:"row items-center no-wrap"},zn={class:"q-ml-md"},Hn={class:"text-subtitle2 text-grey-8"},Fn={class:"text-h6 text-weight-bold"},Yn={class:"row q-col-gutter-sm q-pb-sm"},Kn={class:"col-md-6 col-12"},Qn={class:"col-md-6 col-12"},Wn={class:"row q-col-gutter-sm q-pb-sm"},Jn={class:"col-md-6 col-12"},Gn={class:"col-md-6 col-12"},va="Dashboard",Xn={__name:"Index",setup(c){lo([oo,no,so,ro,io,uo,mo]);const n=$({summary:{total_santri:1500,active_santri:1450,total_sales:155e5,total_transactions:1250,total_wallet_balance:55e6,total_topup:75e6,total_purchase:85e6,total_withdrawal:65e6},top_customers_sales:[{name:"Wildan Medina",value:1822e3},{name:"Syafiq",value:1754500},{name:"Umar",value:1534e3},{name:"Fauzan",value:1212e3},{name:"Rizky",value:981500}],top_customers_topup:[{name:"Abdullah",value:175e4},{name:"Abdurrahman",value:15e5},{name:"Zayd",value:125e4},{name:"Syafiq",value:8e5},{name:"Umar",value:65e4}],monthly_sales:{labels:["Jan","Feb","Mar","Apr","Mei","Jun"],data:[14123e3,21344e3,15155e3,17128e3,12557e3,12723e3]},transaction_type_distribution:[{value:500,name:"Deposit"},{value:350,name:"Purchase"},{value:200,name:"Withdrawal"},{value:200,name:"Refund"}]}),f=$(!1),o=$(Ie().month??"this_month"),s=$([{value:"this_month",label:"Bulan Ini"},{value:"prev_month",label:"1 Bulan Sebelumnya"},{value:"prev_2month",label:"2 Bulan Sebelumnya"},{value:"prev_3month",label:"3 Bulan Sebelumnya"}]),p=()=>{Y.visit(route("admin.dashboard",{month:o.value}))},r=["#82B1FF","#4DB6AC","#FFB74D","#9575CD"],i=ee(()=>({title:{text:"Penjualan Bulanan",left:"center"},tooltip:{trigger:"axis",formatter:function(_){let k=_[0].name+"<br/>";return _.forEach(function(d){k+=d.marker+" "+d.seriesName+": "+F(d.value)+"<br/>"}),k}},xAxis:{type:"category",data:n.value.monthly_sales.labels,axisLabel:{color:"#616161"}},yAxis:{type:"value",axisLabel:{formatter:_=>F(_),color:"#616161"}},series:[{name:"Penjualan",type:"bar",data:n.value.monthly_sales.data,itemStyle:{borderRadius:[5,5,0,0],color:r[0]}}]})),m=ee(()=>({title:{text:"Distribusi Jenis Transaksi",left:"center"},tooltip:{trigger:"item",formatter:function(_){return _.name+"<br/>"+_.seriesName+": "+F(_.value)+" ("+_.percent+"%)"}},legend:{orient:"vertical",left:"left",textStyle:{color:"#616161"}},series:[{name:"Jumlah Transaksi",type:"pie",radius:["40%","70%"],data:n.value.transaction_type_distribution,itemStyle:{borderRadius:5,borderColor:"#fff",borderWidth:2,color:_=>r[_.dataIndex%r.length]},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})),y=$([{label:"Total Santri",value:ee(()=>n.value.summary.total_santri),icon:"groups",color:"primary",bgColor:"#e3f2fd"},{label:"Total Penjualan",value:ee(()=>F(n.value.summary.total_sales)),icon:"shopping_cart",color:"green-7",bgColor:"#e8f5e9"},{label:"Saldo Dompet Santri",value:ee(()=>F(n.value.summary.total_wallet_balance)),icon:"account_balance_wallet",color:"orange-9",bgColor:"#fff3e0"},{label:"Total Transaksi",value:ee(()=>F(n.value.summary.total_transactions)),icon:"swap_horiz",color:"purple-8",bgColor:"#f3e5f5"}]);return(_,k)=>{const d=H("i-head"),v=H("authenticated-layout");return w(),O(W,null,[e(d,{title:va}),e(v,null,Be({title:a(()=>[b(u(va))]),"right-button":a(()=>[e(I,{class:"q-ml-sm",icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:k[0]||(k[0]=x=>f.value=!f.value)},null,8,["icon"])]),default:a(()=>[l("div",An,[l("div",Dn,[l("div",jn,[k[2]||(k[2]=l("div",{class:"text-h6 text-bold text-grey-8 q-mb-sm"}," Statistik Ringkasan ",-1)),l("div",Bn,[(w(!0),O(W,null,nt(y.value,(x,g)=>(w(),O("div",{key:g,class:"col-12 col-md-3"},[e(de,{square:"",bordered:"",flat:"",class:"q-pa-md",style:{width:"100%"}},{default:a(()=>[l("div",Ln,[e(mt,{icon:x.icon,color:x.color,"text-color":x.bgColor},null,8,["icon","color","text-color"]),l("div",zn,[l("div",Hn,u(x.label),1),l("div",Fn,u(x.value),1)])])]),_:2},1024)]))),128))])])]),l("div",Yn,[l("div",Kn,[e(de,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:a(()=>[k[3]||(k[3]=l("div",{class:"text-h6 q-pb-sm"},"Penjualan Bulanan",-1)),e(t(Nt),{class:"chart",option:i.value,autoresize:""},null,8,["option"])]),_:1})]),l("div",Qn,[e(de,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:a(()=>[k[4]||(k[4]=l("div",{class:"text-h6 q-pb-sm"},"Distribusi Transaksi",-1)),e(t(Nt),{class:"chart",option:m.value,autoresize:""},null,8,["option"])]),_:1})])]),l("div",Wn,[l("div",Jn,[e(de,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:a(()=>[k[5]||(k[5]=l("div",{class:"text-h6 q-mb-sm"},"Top 5 Pembelian Santri",-1)),e(Te,{separator:""},{default:a(()=>[(w(!0),O(W,null,nt(n.value.top_customers_sales,(x,g)=>(w(),D(Z,{key:g},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(mt,{color:"primary","text-color":"white",size:"sm"},{default:a(()=>[b(u(g+1),1)]),_:2},1024)]),_:2},1024),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>[b(u(x.name),1)]),_:2},1024)]),_:2},1024),e(N,{side:""},{default:a(()=>[e(me,{class:"text-primary"},{default:a(()=>[b(u(t(F)(x.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),l("div",Gn,[e(de,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:a(()=>[k[6]||(k[6]=l("div",{class:"text-h6 q-mb-sm"},"Top 5 Top Up Santri",-1)),e(Te,{separator:""},{default:a(()=>[(w(!0),O(W,null,nt(n.value.top_customers_topup,(x,g)=>(w(),D(Z,{key:g},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(mt,{color:"green-7","text-color":"white",size:"sm"},{default:a(()=>[b(u(g+1),1)]),_:2},1024)]),_:2},1024),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>[b(u(x.name),1)]),_:2},1024)]),_:2},1024),e(N,{side:""},{default:a(()=>[e(me,{class:"text-green-7"},{default:a(()=>[b(u(t(F)(x.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])]),_:2},[f.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar"},{default:a(()=>[l("div",Un,[e(se,{class:"custom-select col-12",style:{"min-width":"150px"},modelValue:o.value,"onUpdate:modelValue":[k[1]||(k[1]=x=>o.value=x),p],options:s.value,label:"Bulan",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue","options"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},Zn=ft(Xn,[["__scopeId","data-v-45790296"]]),es=Object.freeze(Object.defineProperty({__proto__:null,default:Zn},Symbol.toStringTag,{value:"Module"})),ts={class:"row q-col-gutter-sm"},as={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},ls={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},os={__name:"ChartCard",setup(c){const n=fe(),f={tooltip:{show:!0},title:{text:"Servis Diterima vs Sukses vs Gagal",textStyle:{color:"#444"},left:"center"},legend:{top:"10%",data:[n.props.data.chart1_data.data[0].label,n.props.data.chart1_data.data[1].label,n.props.data.chart1_data.data[2].label]},grid:{containLabel:!0,left:"5px",bottom:"5px",right:"5px"},xAxis:{show:!0,type:"category",data:n.props.data.chart1_data.x_axis_label_data,axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{show:!0,color:"#ccc",type:"dashed"}},axisLabel:{show:!0},boundaryGap:!0},yAxis:{show:!0,type:"value",axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisLabel:{show:!0},splitLine:{lineStyle:{type:"dashed",color:"#ccc"}},axisTick:{show:!0,lineStyle:{show:!0,color:"#fff",type:"dashed"}}},series:[{name:n.props.data.chart1_data.data[0].label,type:"line",lineStyle:{color:"#007bff"},itemStyle:{color:"#007bff"},smooth:!0,data:n.props.data.chart1_data.data[0].data},{name:n.props.data.chart1_data.data[1].label,type:"line",lineStyle:{color:"#28a745"},itemStyle:{color:"#28a745"},smooth:!0,data:n.props.data.chart1_data.data[1].data},{name:n.props.data.chart1_data.data[2].label,type:"line",lineStyle:{color:"#dc3545"},itemStyle:{color:"#dc3545"},smooth:!0,data:n.props.data.chart1_data.data[2].data}],color:["white"]},o={tooltip:{show:!0},title:{text:"Pendapatan Servis",textStyle:{color:"#444"},left:"center"},legend:{top:"10%",data:[n.props.data.chart2_data.data[0].label]},grid:{containLabel:!0,left:"5px",bottom:"5px",right:"5px"},xAxis:{show:!0,type:"category",data:n.props.data.chart1_data.x_axis_label_data,axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{show:!0,color:"#ccc",type:"dashed"}},axisLabel:{show:!0},boundaryGap:!0},yAxis:{show:!0,type:"value",axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisLabel:{show:!0},splitLine:{lineStyle:{type:"dashed",color:"#ccc"}},axisTick:{show:!0,lineStyle:{show:!0,color:"#fff",type:"dashed"}}},series:[{name:n.props.data.chart2_data.data[0].label,type:"bar",itemStyle:{color:"#007bff"},smooth:!0,data:n.props.data.chart2_data.data[0].data}],color:["white"]};return(s,p)=>(w(),O("div",ts,[l("div",as,[e(de,{square:"",class:"no-shadow",bordered:"",style:{"background-color":"#fff"}},{default:a(()=>[e(te,{class:"q-pa-none"},{default:a(()=>[e(t(Nt),{option:f,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"250px"}})]),_:1})]),_:1})]),l("div",ls,[e(de,{class:"no-shadow",square:"",bordered:"",style:{"background-color":"#fff"}},{default:a(()=>[e(te,{class:"q-pa-none"},{default:a(()=>[e(t(Nt),{option:o,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"250px"}})]),_:1})]),_:1})])]))}},ns=ft(os,[["__scopeId","data-v-5c77cb08"]]),ss=Object.freeze(Object.defineProperty({__proto__:null,default:ns},Symbol.toStringTag,{value:"Module"})),rs={class:"row"},is={class:"row q-col-gutter-sm"},us={class:"col-sm-6 col-xs-12"},ds={class:"col-sm-6 col-xs-12"},ms={class:"col-md-3 col-sm-6 col-xs-12"},cs={class:"col-md-3 col-sm-6 col-xs-12"},ps={class:"col-md-3 col-sm-6 col-xs-12"},fs={class:"col-md-3 col-sm-6 col-xs-12"};const gs={__name:"SummaryCard",setup(c){fe();const n=(f,o)=>{const p={...{order_status:"all",service_status:"all",repair_status:"all",payment_status:"all",search:""},...o};localStorage.setItem("fixsync.service-orders.filter",JSON.stringify(p)),Y.visit(f,{data:p})};return(f,o)=>(w(),O("div",rs,[e(de,{class:"bg-transparent no-shadow no-border col",bordered:""},{default:a(()=>[e(te,{class:"q-pa-none"},{default:a(()=>[l("div",is,[l("div",us,[e(Z,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:o[0]||(o[0]=s=>f.$inertia.visit(f.route("admin.customer.index",{status:"active"})))},{default:a(()=>[e(N,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(C,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(me,{class:"text-white text-h6 text-weight-bolder"},{default:a(()=>[b(u(f.$page.props.data.active_customer_count),1)]),_:1}),e(me,null,{default:a(()=>o[5]||(o[5]=[b("Santri Aktif")])),_:1})]),_:1})]),_:1})]),l("div",ds,[e(Z,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:o[1]||(o[1]=s=>f.$inertia.visit(f.route("admin.customer.index",{status:"active"})))},{default:a(()=>[e(N,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(C,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(me,{class:"text-white text-h6 text-weight-bolder"},{default:a(()=>[b(u(f.$page.props.data.active_user_count),1)]),_:1}),e(me,null,{default:a(()=>o[6]||(o[6]=[b("Pengguna Aktif")])),_:1})]),_:1})]),_:1})]),l("div",ms,[e(Z,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:a(()=>[e(N,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(C,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(me,{class:"text-white text-weight-bold"},{default:a(()=>[b(" Rp. "+u(t(F)(f.$page.props.data.total_finance_account_balance)),1)]),_:1}),e(me,null,{default:a(()=>o[7]||(o[7]=[b("Total Saldo Koperasi")])),_:1})]),_:1})]),_:1})]),l("div",cs,[e(Z,{style:"background-color: #dc3545",class:"q-pa-none"},{default:a(()=>[e(N,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(C,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(me,{class:"text-white text-weight-bold"},{default:a(()=>[b(" Rp. "+u(t(F)(f.$page.props.data.total_customer_balance)),1)]),_:1}),e(me,null,{default:a(()=>o[8]||(o[8]=[b("Total Saldo Santri")])),_:1})]),_:1})]),_:1})]),l("div",ps,[e(Z,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:a(()=>[e(N,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(C,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(me,{class:"text-white text-weight-bold"},{default:a(()=>[b(" Rp. "+u(t(F)(f.$page.props.data.total_customer_debt)),1)]),_:1}),e(me,null,{default:a(()=>o[9]||(o[9]=[b("Total Utang Santri")])),_:1})]),_:1})]),_:1})]),l("div",fs,[e(Z,{style:"background-color: #dc3545",class:"q-pa-none"},{default:a(()=>[e(N,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(C,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(me,{class:"text-white text-weight-bold"},{default:a(()=>[b(" Rp. "+u(t(F)(f.$page.props.data.total_customer_credit)),1)]),_:1}),e(me,null,{default:a(()=>o[10]||(o[10]=[b("Total Piutang Santri")])),_:1})]),_:1})]),_:1})]),z("",!0),z("",!0),z("",!0)])]),_:1})]),_:1})]))}},bs=Object.freeze(Object.defineProperty({__proto__:null,default:gs},Symbol.toStringTag,{value:"Module"})),_s={class:"text-subtitle1 text-bold text-grey-9"},vs={class:"flex items-center justify-between"},ys={__name:"TopCard",props:{items:Array,title:String,route_url:String},setup(c){const n=c;return(f,o)=>{const s=H("i-link");return w(),D(de,{class:"no-shadow",square:"",bordered:""},{default:a(()=>[e(te,null,{default:a(()=>[l("div",_s,u(n.title),1),l("div",null,[(w(!0),O(W,null,nt(n.items,p=>(w(),O("div",{key:p.id},[l("div",vs,[l("span",null,[e(s,{href:f.route(n.route_url,{id:p.id})},{default:a(()=>[b(u(p.name),1)]),_:2},1032,["href"])]),l("span",null,"Rp. "+u(t(F)(p.total)),1)])]))),128))])]),_:1})]),_:1})}}},ws=Object.freeze(Object.defineProperty({__proto__:null,default:ys},Symbol.toStringTag,{value:"Module"})),ks={class:"q-gutter-sm"},hs={class:"q-gutter-sm"},Ss={class:"col col-lg-6 q-pa-sm"},$s={class:"row"},xs={class:"detail"},Vs={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Cs={class:"flex q-gutter-sm"},qs={class:""},ya="Rincian Akun",Ts={__name:"Detail",setup(c){const n=fe(),f=$("main"),o=$([]),s=$(!0),p=Me({...Ie()}),r=$({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),i=[{name:"id",label:"#",field:"id",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!0},{name:"quantity",label:"Jumlah",field:"quantity",align:"center",sortable:!0}];ye(()=>{m()});const m=(k=null)=>Oe({pagination:r,filter:p,props:k,rows:o,loading:s}),y=we(),_=ee(()=>y.screen.gt.sm?i:i.filter(k=>k.name==="id"));return(k,d)=>{const v=H("i-head"),x=H("authenticated-layout");return w(),O(W,null,[e(v,{title:ya}),e(x,null,{title:a(()=>[b(u(ya))]),"left-button":a(()=>[l("div",ks,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=g=>k.$inertia.get(k.route("admin.finance-account.index")))})])]),"right-button":a(()=>[l("div",hs,[e(I,{icon:"edit",dense:"",color:"primary",onClick:d[1]||(d[1]=g=>t(Y).get(k.route("admin.finance-account.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",Ss,[l("div",$s,[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Qt,{modelValue:f.value,"onUpdate:modelValue":d[2]||(d[2]=g=>f.value=g),align:"left"},{default:a(()=>[e(ct,{name:"main",label:"Info Akun"}),e(ct,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(Wt,{modelValue:f.value,"onUpdate:modelValue":d[4]||(d[4]=g=>f.value=g)},{default:a(()=>[e(pt,{name:"main"},{default:a(()=>[l("table",xs,[l("tbody",null,[l("tr",null,[d[5]||(d[5]=l("td",{style:{width:"150px"}},"Nama",-1)),d[6]||(d[6]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[d[7]||(d[7]=l("td",null,"Jenis",-1)),d[8]||(d[8]=l("td",null,":",-1)),l("td",null,u(k.$CONSTANTS.FINANCE_ACCOUNT_TYPES[t(n).props.data.type]),1)]),t(n).props.data.type=="bank"?(w(),O(W,{key:0},[l("tr",null,[d[9]||(d[9]=l("td",null,"Bank",-1)),d[10]||(d[10]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.bank),1)]),l("tr",null,[d[11]||(d[11]=l("td",null,"No. Rek",-1)),d[12]||(d[12]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.number),1)]),l("tr",null,[d[13]||(d[13]=l("td",null,"Atas Nama",-1)),d[14]||(d[14]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.holder),1)])],64)):z("",!0),l("tr",null,[d[15]||(d[15]=l("td",null,"Tampilkan di Wallet",-1)),d[16]||(d[16]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.has_wallet_access?"Ya":"Tidak"),1)]),l("tr",null,[d[17]||(d[17]=l("td",null,"Status",-1)),d[18]||(d[18]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),l("tr",null,[d[19]||(d[19]=l("td",null,"Saldo",-1)),d[20]||(d[20]=l("td",null,":",-1)),l("td",null,"Rp. "+u(t(F)(t(n).props.data.balance)),1)]),l("tr",null,[d[21]||(d[21]=l("td",null,"Catatan",-1)),d[22]||(d[22]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.notes),1)])])])]),_:1}),e(pt,{name:"history"},{default:a(()=>[e(ke,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":d[3]||(d[3]=g=>r.value=g),filter:p.search,loading:s.value,columns:_.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:m,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:g,message:j,filter:q})=>[l("div",Vs,[l("span",null,u(j)+" "+u(q?" with term "+q:""),1)])]),body:a(g=>[e(ve,{props:g},{default:a(()=>[e(L,{key:"id",props:g},{default:a(()=>[l("div",Cs,[l("div",null,[l("b",null,"#"+u(g.row.id),1)]),l("div",null," - "+u(k.$dayjs(new Date(g.row.created_at)).format("DD/MM/YYYY hh:mm:ss")),1),l("div",null," - "+u(g.row.created_by?g.row.created_by.username:"--"),1)]),t(y).screen.lt.md?(w(),O(W,{key:0},[l("div",qs,u(k.$CONSTANTS.STOCKMOVEMENT_REFTYPES[g.row.ref_type]),1),l("div",{class:_e(g.row.quantity<0?"text-red-10":g.row.quantity>0?"text-green-10":"")},[e(C,{name:g.row.quantity<0?"arrow_downward":g.row.quantity>0?"arrow_upward":""},null,8,["name"]),b(" "+u(t(F)(g.row.quantity)),1)],2)],64)):z("",!0)]),_:2},1032,["props"]),e(L,{key:"type",props:g},{default:a(()=>[b(u(k.$CONSTANTS.STOCKMOVEMENT_REFTYPES[g.row.ref_type]),1)]),_:2},1032,["props"]),e(L,{key:"quantity",props:g},{default:a(()=>[l("div",{class:_e(g.row.quantity<0?"text-red-10":g.row.quantity>0?"text-green-10":"")},[e(C,{name:g.row.quantity<0?"arrow_downward":g.row.quantity>0?"arrow_upward":""},null,8,["name"]),b(" "+u(t(F)(g.row.quantity)),1)],2)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},Ps=Object.freeze(Object.defineProperty({__proto__:null,default:Ts},Symbol.toStringTag,{value:"Module"})),Ns={class:"q-gutter-sm"},Is={class:"col col-lg-6 q-pa-sm"},Os={style:{"margin-left":"-10px"}},Ms={style:{"margin-left":"-10px"}},Rs={__name:"Editor",setup(c){const n=fe(),f=(n.props.data.id?"Edit":"Tambah")+" Akun / Kas",o=Ce({id:n.props.data.id,name:n.props.data.name,type:n.props.data.type,bank:n.props.data.bank,number:n.props.data.number,holder:n.props.data.holder,balance:n.props.data.balance,active:!!n.props.data.active,has_wallet_access:!!n.props.data.has_wallet_access,notes:n.props.data.notes}),s=Re(window.CONSTANTS.FINANCE_ACCOUNT_TYPES),p=()=>Ne({form:o,url:route("admin.finance-account.save")});return(r,i)=>{const m=H("i-head"),y=H("authenticated-layout");return w(),O(W,null,[e(m,{title:f}),e(y,null,{title:a(()=>[b(u(f))]),"left-button":a(()=>[l("div",Ns,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=_=>r.$inertia.get(r.route("admin.finance-account.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",Is,[e(Pe,{class:"row",onSubmit:J(p,["prevent"]),onValidationError:t(Ue)},{default:a(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":i[1]||(i[1]=_=>t(o).id=_)},null,512),[[Qe,t(o).id]]),e(X,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":i[2]||(i[2]=_=>t(o).name=_),modelModifiers:{trim:!0},label:"Nama Akun","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(se,{modelValue:t(o).type,"onUpdate:modelValue":i[3]||(i[3]=_=>t(o).type=_),label:"Jenis Akun",options:t(s),"map-options":"","emit-value":"",error:!!t(o).errors.type,disable:t(o).processing,"hide-bottom-space":""},null,8,["modelValue","options","error","disable"]),t(o).type=="bank"?(w(),O(W,{key:0},[e(X,{modelValue:t(o).bank,"onUpdate:modelValue":i[4]||(i[4]=_=>t(o).bank=_),modelModifiers:{trim:!0},label:"Nama Bank","lazy-rules":"",error:!!t(o).errors.bank,disable:t(o).processing,"error-message":t(o).errors.bank,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(X,{modelValue:t(o).number,"onUpdate:modelValue":i[5]||(i[5]=_=>t(o).number=_),modelModifiers:{trim:!0},label:"Nomor Rekening","lazy-rules":"",error:!!t(o).errors.number,disable:t(o).processing,"error-message":t(o).errors.number,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(X,{modelValue:t(o).holder,"onUpdate:modelValue":i[6]||(i[6]=_=>t(o).holder=_),modelModifiers:{trim:!0},label:"Pemilik Rekening","lazy-rules":"",error:!!t(o).errors.holder,disable:t(o).processing,"error-message":t(o).errors.holder,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"])],64)):z("",!0),e(qe,{modelValue:t(o).balance,"onUpdate:modelValue":i[7]||(i[7]=_=>t(o).balance=_),label:"Saldo",lazyRules:"",disable:t(o).processing,"allow-negative":"true",error:!!t(o).errors.balance,errorMessage:t(o).errors.balance,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),l("div",Os,[e(St,{class:"full-width q-pl-none",modelValue:t(o).has_wallet_access,"onUpdate:modelValue":i[8]||(i[8]=_=>t(o).has_wallet_access=_),disable:t(o).processing,label:"Tampilkan di Konfirmasi Topup Wallet"},null,8,["modelValue","disable"])]),l("div",Ms,[e(St,{class:"full-width q-pl-none",modelValue:t(o).active,"onUpdate:modelValue":i[9]||(i[9]=_=>t(o).active=_),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"])]),e(X,{modelValue:t(o).notes,"onUpdate:modelValue":i[10]||(i[10]=_=>t(o).notes=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.notes,"error-message":t(o).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(I,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(I,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:i[11]||(i[11]=_=>t(Y).get(r.route("admin.finance-account.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Es=Object.freeze(Object.defineProperty({__proto__:null,default:Rs},Symbol.toStringTag,{value:"Module"})),Us={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},As={class:"q-pa-sm"},Ds={class:"q-my-sm text-subtitle"},js={class:"text-bold text-grey-8"},Bs={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ls={key:2},zs={key:3},Hs={key:4},Fs={class:"flex justify-end"},wa="Akun Kas",Ys={__name:"Index",setup(c){const n=fe(),f=we(),o=$(!1),s=$([]),p=$(null),r=$(null),i=je(r,104),m=$(!0),y=Me({search:"",status:"active",type:"all",...Ie()}),_=n.props.totalBalance,k=$({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),d=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right",sortable:!0},{name:"action",align:"right"}],v=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],x=[{value:"all",label:"Semua"},...Re(window.CONSTANTS.FINANCE_ACCOUNT_TYPES)];ye(()=>{j()});const g=P=>Fe({message:`Hapus Akun ${P.name}?`,url:route("admin.finance-account.delete",P.id),fetchItemsCallback:j,loading:m}),j=(P=null)=>{Oe({pagination:k,filter:y,props:P,rows:s,url:route("admin.finance-account.data"),loading:m,tableRef:p})},q=()=>j(),h=P=>Y.get(route("admin.finance-account.detail",{id:P.id})),T=ee(()=>f.screen.gt.sm?d:d.filter(P=>P.name==="name"||P.name==="action"));return(P,V)=>{const R=H("i-head"),S=H("authenticated-layout");return w(),O(W,null,[e(R,{title:wa}),e(S,null,Be({title:a(()=>[b(u(wa))]),"right-button":a(()=>[e(I,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:V[0]||(V[0]=E=>o.value=!o.value)},null,8,["icon"]),e(I,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:V[1]||(V[1]=E=>t(Y).get(P.route("admin.finance-account.add")))})]),default:a(()=>[l("div",As,[l("div",Ds,[V[7]||(V[7]=b(" Total Saldo Akun Aktif: ")),l("span",js,"Rp. "+u(t(F)(t(_))),1)]),e(ke,{ref_key:"tableRef",ref:p,class:"full-height-table",style:Le({height:t(i)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:k.value,"onUpdate:pagination":V[6]||(V[6]=E=>k.value=E),filter:y.search,loading:m.value,columns:T.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:j,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:E,message:Q,filter:A})=>[l("div",Bs,[l("span",null,u(Q)+" "+u(A?" with term "+A:""),1)])]),body:a(E=>[e(ve,{props:E,class:_e([E.row.active?"":"bg-red-1","cursor-pointer"]),onClick:Q=>h(E.row)},{default:a(()=>[e(L,{key:"name",props:E,class:"wrap-column"},{default:a(()=>[t(f).screen.lt.md?(w(),D(Ye,{key:1,icon:"wallet",text:E.row.name},null,8,["text"])):(w(),O(W,{key:0},[b(u(E.row.name),1)],64)),E.row.type=="bank"?(w(),O("div",Ls,u(E.row.bank??"-")+" "+u(E.row.number??"-")+" an "+u(E.row.holder??"-"),1)):z("",!0),E.row.notes?(w(),O("div",zs,[e(C,{name:"notes"}),b(" "+u(E.row.notes),1)])):z("",!0),t(f).screen.lt.md?(w(),O("div",Hs,[e(C,{name:"money"}),b(" Rp. "+u(t(F)(E.row.balance)),1)])):z("",!0)]),_:2},1032,["props"]),e(L,{key:"balance",props:E},{default:a(()=>[b(u(t(F)(E.row.balance)),1)]),_:2},1032,["props"]),e(L,{key:"action",props:E},{default:a(()=>[l("div",Fs,[e(I,{disabled:!t(Ke)(P.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:V[5]||(V[5]=J(()=>{},["stop"]))},{default:a(()=>[e(He,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[K((w(),D(Z,{clickable:"",onClick:J(Q=>t(Y).get(P.route("admin.finance-account.duplicate",E.row.id)),["stop"])},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:a(()=>V[8]||(V[8]=[b(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]]),K((w(),D(Z,{clickable:"",onClick:J(Q=>t(Y).get(P.route("admin.finance-account.edit",E.row.id)),["stop"])},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:a(()=>V[9]||(V[9]=[b("Edit")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]]),K((w(),D(Z,{onClick:J(Q=>g(E.row),["stop"]),clickable:""},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:a(()=>V[10]||(V[10]=[b("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[o.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",Us,[e(se,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:y.status,"onUpdate:modelValue":[V[2]||(V[2]=E=>y.status=E),q],options:v,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:y.type,"onUpdate:modelValue":[V[3]||(V[3]=E=>y.type=E),q],options:x,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:y.search,"onUpdate:modelValue":V[4]||(V[4]=E=>y.search=E),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Ks=Object.freeze(Object.defineProperty({__proto__:null,default:Ys},Symbol.toStringTag,{value:"Module"})),Qs={class:"q-gutter-sm"},Ws={class:"col col-lg-6 q-pa-sm"},Js={__name:"Editor",setup(c){const n=fe(),f=(n.props.data.id?"Edit":"Catat")+" Transaksi Keuangan",o=n.props.accounts.map(i=>({label:i.name,value:i.id})),s=[{label:"Pemasukan (+)",value:"income"},{label:"Pengeluaran (-)",value:"expense"},{label:"Transfer",value:"transfer"}],p=Ce({id:n.props.data.id,account_id:n.props.data.account_id,to_account_id:n.props.data.to_account_id??null,type:n.props.data.type,datetime:Il(n.props.data.datetime?n.props.data.datetime:new Date),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),r=()=>Ne({form:p,url:route("admin.finance-transaction.save")});return(i,m)=>{const y=H("i-head"),_=H("authenticated-layout");return w(),O(W,null,[e(y,{title:f}),e(_,null,{title:a(()=>[b(u(f))]),"left-button":a(()=>[l("div",Qs,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:m[0]||(m[0]=k=>i.$inertia.get(i.route("admin.finance-transaction.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",Ws,[e(Pe,{class:"row",onSubmit:J(r,["prevent"]),onValidationError:t(Ue)},{default:a(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":m[1]||(m[1]=k=>t(p).id=k)},null,512),[[Qe,t(p).id]]),e(xt,{modelValue:t(p).datetime,"onUpdate:modelValue":m[2]||(m[2]=k=>t(p).datetime=k),label:"Waktu",error:!!t(p).errors.datetime,disable:t(p).processing,errorMessage:t(p).errors.datetime,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(se,{autofocus:"",modelValue:t(p).type,"onUpdate:modelValue":m[3]||(m[3]=k=>t(p).type=k),label:"Jenis Transaksi",options:s,"map-options":"","emit-value":"",error:!!t(p).errors.type,disable:t(p).processing,errorMessage:t(p).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(se,{class:"custom-select",modelValue:t(p).account_id,"onUpdate:modelValue":m[4]||(m[4]=k=>t(p).account_id=k),label:t(p).type=="transfer"?"Akun Asal":"Akun",options:t(o),"map-options":"","emit-value":"",errorMessage:t(p).errors.account_id,error:!!t(p).errors.account_id,disable:t(p).processing,"hide-bottom-space":""},null,8,["modelValue","label","options","errorMessage","error","disable"]),t(p).type=="transfer"?(w(),D(se,{key:0,class:"custom-select",modelValue:t(p).to_account_id,"onUpdate:modelValue":m[5]||(m[5]=k=>t(p).to_account_id=k),label:"Akun Tujuan",options:t(o),"map-options":"","emit-value":"",errorMessage:t(p).errors.to_account_id,error:!!t(p).errors.to_account_id,disable:t(p).processing,"hide-bottom-space":""},null,8,["modelValue","options","errorMessage","error","disable"])):z("",!0),e(qe,{modelValue:t(p).amount,"onUpdate:modelValue":m[6]||(m[6]=k=>t(p).amount=k),label:"Jumlah",lazyRules:"",disable:t(p).processing,error:!!t(p).errors.amount,errorMessage:t(p).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(X,{modelValue:t(p).notes,"onUpdate:modelValue":m[7]||(m[7]=k=>t(p).notes=k),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(p).processing,error:!!t(p).errors.notes,"error-message":t(p).errors.notes,rules:[k=>k&&k.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(I,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(p).processing},null,8,["disable"]),e(I,{icon:"cancel",label:"Batal",disable:t(p).processing,onClick:m[8]||(m[8]=k=>t(Y).get(i.route("admin.finance-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Gs=Object.freeze(Object.defineProperty({__proto__:null,default:Js},Symbol.toStringTag,{value:"Module"})),Xs={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Zs={class:"q-pa-sm"},er={class:"full-width row flex-center text-grey-8 q-gutter-sm"},tr={class:"text-grey-8"},ar={key:0},lr={key:0},or={key:1},nr={class:"flex justify-end"},ka="Transaksi Kas",sr={__name:"Index",setup(c){const n=we(),f=$(!1),o=$([]),s=$(!0),p=$(null),r=$(null),i=je(r),m=It(),y=Ot(),_=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...bt(m-2,m-1).reverse()],k=[{value:"all",label:"Semua Bulan"},..._t()],d=Me({search:"",category_id:"all",year:m,month:y,...Ie()}),v=$({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),x=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];ye(()=>{j()});const g=T=>Fe({message:`Hapus transaksi #-${T.id}?`,url:route("admin.finance-transaction.delete",T.id),fetchItemsCallback:j,loading:s}),j=(T=null)=>{Oe({pagination:v,filter:d,props:T,rows:o,url:route("admin.finance-transaction.data"),loading:s,tableRef:p})},q=()=>{j()},h=ee(()=>n.screen.gt.sm?x:x.filter(T=>T.name==="datetime"||T.name==="action"));return Ve(()=>d.year,T=>{T===null&&(d.month=null)}),(T,P)=>{const V=H("i-head"),R=H("authenticated-layout");return w(),O(W,null,[e(V,{title:ka}),e(R,null,Be({title:a(()=>[b(u(ka))]),"right-button":a(()=>[e(I,{icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:P[0]||(P[0]=S=>f.value=!f.value)},null,8,["icon"]),e(I,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:P[1]||(P[1]=S=>t(Y).get(T.route("admin.finance-transaction.add")))})]),default:a(()=>[l("div",Zs,[e(ke,{ref_key:"tableRef",ref:p,style:Le({height:t(i)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":P[6]||(P[6]=S=>v.value=S),filter:d.search,loading:s.value,columns:h.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:j,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:S,message:E,filter:Q})=>[l("div",er,[l("span",null,u(E)+" "+u(Q?" with term "+Q:""),1)])]),body:a(S=>[e(ve,{props:S},{default:a(()=>[e(L,{key:"datetime",props:S,class:"wrap-column"},{default:a(()=>[l("div",null,[b(" #"+u(S.row.id)+" - ",1),e(C,{name:"calendar_today"}),b(" "+u(t(Je)(S.row.datetime))+" ",1),l("span",tr,"("+u(t(ot)(S.row.datetime))+")",1)]),e(Et,null,{default:a(()=>[e(C,{name:"category"}),b(" "+u(S.row.type_label),1)]),_:2},1024),S.row.ref_type?(w(),O("div",ar,[e(C,{name:"link"}),b(" "+u(S.row.ref_type_label)+" #"+u(S.row.ref_id),1)])):z("",!0),t(n).screen.gt.sm?z("",!0):(w(),O(W,{key:1},[S.row.notes?(w(),O("div",lr,[e(C,{name:"notes"}),b(" "+u(S.row.notes),1)])):z("",!0),S.row.category?(w(),O("div",or,[e(C,{name:"category"}),b(" "+u(S.row.category.name),1)])):z("",!0),l("div",null,[e(C,{name:"money"}),b(" Rp. "+u(t(et)(S.row.amount)+t(F)(S.row.amount)),1)])],64))]),_:2},1032,["props"]),e(L,{key:"account",props:S},{default:a(()=>{var E;return[b(u((E=S.row.account)==null?void 0:E.name),1)]}),_:2},1032,["props"]),e(L,{key:"notes",props:S},{default:a(()=>[b(u(S.row.notes),1)]),_:2},1032,["props"]),e(L,{key:"amount",props:S,style:{"text-align":"right"}},{default:a(()=>[b(u(t(et)(S.row.amount)+t(F)(S.row.amount)),1)]),_:2},1032,["props"]),e(L,{key:"action",props:S},{default:a(()=>[l("div",nr,[e(I,{disabled:!t(Ke)(T.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:P[5]||(P[5]=J(()=>{},["stop"]))},{default:a(()=>[e(He,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[K((w(),D(Z,{onClick:J(E=>g(S.row),["stop"]),clickable:""},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:a(()=>P[7]||(P[7]=[b("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[f.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",Xs,[e(se,{modelValue:d.year,"onUpdate:modelValue":[P[2]||(P[2]=S=>d.year=S),q],options:_,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),d.year!="all"?(w(),D(se,{key:0,modelValue:d.month,"onUpdate:modelValue":[P[3]||(P[3]=S=>d.month=S),q],options:k,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:d.year===null},null,8,["modelValue","disable"])):z("",!0),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":P[4]||(P[4]=S=>d.search=S),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},rr=Object.freeze(Object.defineProperty({__proto__:null,default:sr},Symbol.toStringTag,{value:"Module"})),ir={class:"q-gutter-sm"},ur={class:"col col-lg-6 q-pa-sm"},dr={__name:"Editor",setup(c){const n=fe(),f=(n.props.data.id?"Edit":"Tambah")+" Kategori Operasional",o=Ce({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description}),s=()=>Ne({form:o,url:route("admin.operational-cost-category.save")});return(p,r)=>{const i=H("i-head"),m=H("authenticated-layout");return w(),O(W,null,[e(i,{title:f}),e(m,null,{title:a(()=>[b(u(f))]),"left-button":a(()=>[l("div",ir,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=y=>p.$inertia.get(p.route("admin.operational-cost-category.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",ur,[e(Pe,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(Ue)},{default:a(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=y=>t(o).id=y)},null,512),[[Qe,t(o).id]]),e(X,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=y=>t(o).name=y),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(o).description,"onUpdate:modelValue":r[3]||(r[3]=y=>t(o).description=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Deskripsi","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.description,"error-message":t(o).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(I,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(I,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[4]||(r[4]=y=>t(Y).get(p.route("admin.operational-cost-category.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},mr=Object.freeze(Object.defineProperty({__proto__:null,default:dr},Symbol.toStringTag,{value:"Module"})),cr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},pr={class:"q-pa-sm"},fr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},gr={key:0,class:"text-grey-8"},br={class:"flex justify-end"},ha="Kategori Biaya Operasional",_r={__name:"Index",setup(c){const n=we(),f=$(!1),o=$([]),s=$(!0),p=$(null),r=$(null),i=je(r),m=Me({search:"",...Ie()}),y=$({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),_=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];ye(()=>{d()});const k=x=>Fe({message:`Hapus Kategori Biaya ${x.name}?`,url:route("admin.operational-cost-category.delete",x.id),fetchItemsCallback:d,loading:s}),d=(x=null)=>{Oe({pagination:y,filter:m,props:x,rows:o,url:route("admin.operational-cost-category.data"),loading:s,tableRef:p})},v=ee(()=>n.screen.gt.sm?_:_.filter(x=>x.name==="name"||x.name==="action"));return(x,g)=>{const j=H("i-head"),q=H("authenticated-layout");return w(),O(W,null,[e(j,{title:ha}),e(q,null,Be({title:a(()=>[b(u(ha))]),"right-button":a(()=>[e(I,{icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:g[0]||(g[0]=h=>f.value=!f.value)},null,8,["icon"]),e(I,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:g[1]||(g[1]=h=>t(Y).get(x.route("admin.operational-cost-category.add")))})]),default:a(()=>[l("div",pr,[e(ke,{ref_key:"tableRef",ref:p,class:"full-height-table",style:Le({height:t(i)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":g[4]||(g[4]=h=>y.value=h),filter:m.search,loading:s.value,columns:v.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:d,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:h,message:T,filter:P})=>[l("div",fr,[l("span",null,u(T)+" "+u(P?" with term "+P:""),1)])]),body:a(h=>[e(ve,{props:h},{default:a(()=>[e(L,{key:"name",props:h,class:"wrap-column"},{default:a(()=>[b(u(h.row.name)+" ",1),t(n).screen.gt.sm?z("",!0):(w(),O(W,{key:0},[h.row.description?(w(),O("div",gr,[e(C,{name:"description"}),b(" "+u(h.row.description),1)])):z("",!0)],64))]),_:2},1032,["props"]),e(L,{key:"description",props:h,class:"wrap-column"},{default:a(()=>[b(u(h.row.description),1)]),_:2},1032,["props"]),e(L,{key:"action",props:h},{default:a(()=>[l("div",br,[e(I,{disabled:!t(Ke)(x.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:g[3]||(g[3]=J(()=>{},["stop"]))},{default:a(()=>[e(He,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[K((w(),D(Z,{clickable:"",onClick:J(T=>t(Y).get(x.route("admin.operational-cost-category.duplicate",h.row.id)),["stop"])},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:a(()=>g[5]||(g[5]=[b("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]]),K((w(),D(Z,{clickable:"",onClick:J(T=>t(Y).get(x.route("admin.operational-cost-category.edit",h.row.id)),["stop"])},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:a(()=>g[6]||(g[6]=[b("Edit")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]]),K((w(),D(Z,{onClick:J(T=>k(h.row),["stop"]),clickable:""},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:a(()=>g[7]||(g[7]=[b("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[f.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",cr,[e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":g[2]||(g[2]=h=>m.search=h),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},vr=Object.freeze(Object.defineProperty({__proto__:null,default:_r},Symbol.toStringTag,{value:"Module"})),yr={class:"q-gutter-sm"},wr={class:"q-gutter-sm"},kr={class:"col col-lg-6 q-pa-sm"},hr={class:"row"},Sr={class:"detail"},$r={key:1,class:"text-grey-9"},xr={class:"detail"},Sa="Rincian Teknisi",Vr={__name:"Detail",setup(c){const n=fe();return(f,o)=>{const s=H("i-head"),p=H("i-link"),r=H("authenticated-layout");return w(),O(W,null,[e(s,{title:Sa}),e(r,null,{title:a(()=>[b(u(Sa))]),"left-button":a(()=>[l("div",yr,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=i=>f.$inertia.get(f.route("admin.operational-cost.index")))})])]),"right-button":a(()=>[l("div",wr,[e(I,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=i=>t(Y).get(f.route("admin.operational-cost.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",kr,[l("div",hr,[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,null,{default:a(()=>[o[12]||(o[12]=l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Profil Teknisi ",-1)),l("table",Sr,[l("tbody",null,[l("tr",null,[o[2]||(o[2]=l("td",{style:{width:"125px"}},"Akun Pengguna",-1)),o[3]||(o[3]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,[t(n).props.data.user?(w(),D(p,{key:0,href:f.route("admin.user.detail",{id:t(n).props.data.user.id})},{default:a(()=>[b(u(t(n).props.data.user.username),1)]),_:1},8,["href"])):(w(),O("span",$r,"Tidak terhubung"))])]),l("tr",null,[o[4]||(o[4]=l("td",null,"Nama Teknisi",-1)),o[5]||(o[5]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"No. Telepon",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.phone),1)]),l("tr",null,[o[8]||(o[8]=l("td",null,"Email",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.email),1)]),l("tr",null,[o[10]||(o[10]=l("td",null,"Alamat",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.address),1)])])])]),_:1}),e(te,null,{default:a(()=>o[13]||(o[13]=[l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Statistik Servis ",-1),l("table",{class:"detail"},[l("tbody",null,[l("tr",null,[l("td",{style:{width:"125px"}},"Servis Ditangani"),l("td",{style:{width:"1px"}},":"),l("td",null,"0")]),l("tr",null,[l("td",null,"Servis Sukses"),l("td",null,":"),l("td",null,"0")]),l("tr",null,[l("td",null,"Servis Gagal"),l("td",null,":"),l("td",null,"0")])])],-1)])),_:1}),e(te,null,{default:a(()=>[o[18]||(o[18]=l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Informasi Ekstra ",-1)),l("table",xr,[l("tbody",null,[l("tr",null,[o[14]||(o[14]=l("td",{style:{width:"125px"}},"Dibuat",-1)),o[15]||(o[15]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(f.$dayjs(new Date(t(n).props.data.created_at)).format("DD MMMM YY HH:mm:ss")),1)]),l("tr",null,[o[16]||(o[16]=l("td",null,"Diperbarui",-1)),o[17]||(o[17]=l("td",null,":",-1)),l("td",null,u(f.$dayjs(new Date(t(n).props.data.updated_at)).format("DD MMMM YY HH:mm:ss")),1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Cr=Object.freeze(Object.defineProperty({__proto__:null,default:Vr},Symbol.toStringTag,{value:"Module"})),qr={class:"row items-center justify-end"},Tr={__name:"DatePicker",props:{modelValue:{type:String,required:!0},label:{type:String,default:""},readonly:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},rules:{type:Array,default:[]},mask:{type:String,default:"####-##-##"}},emits:["update:modelValue"],setup(c,{emit:n}){const f=c,o=n,s=$("");Ve(()=>f.modelValue,i=>{const[m,y]=i.split(" ");s.value=m||""});const p=$(f.modelValue),r=()=>{let i="";s.value&&(i=`${s.value} 00:00`),o("update:modelValue",i),p.value=i};return(i,m)=>(w(),D(X,{modelValue:p.value,"onUpdate:modelValue":m[1]||(m[1]=y=>p.value=y),label:f.label,readonly:f.readonly,disable:f.disable,error:f.error,rules:[...f.rules],"error-message":c.errorMessage,mask:f.mask},{append:a(()=>[e(C,{name:"event",class:"cursor-pointer"},{default:a(()=>[e(Ol,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Ml,{modelValue:s.value,"onUpdate:modelValue":[m[0]||(m[0]=y=>s.value=y),r],mask:"YYYY-MM-DD"},{default:a(()=>[l("div",qr,[K(e(I,{label:"Close",color:"primary",flat:""},null,512),[[ue]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label","readonly","disable","error","rules","error-message","mask"]))}},Pr=ft(Tr,[["__scopeId","data-v-af4e8707"]]);function Qa(c,n=!1){const f=c.map(r=>({value:r.id,label:r.name})),o=n?[{value:"all",label:"Semua"},...f]:f,s=$([...o]);return{filteredCostCategories:s,filterCostCategory:(r,i)=>{const m=r.toLowerCase();i(()=>{s.value=o.filter(y=>y.label.toLowerCase().includes(m))})},costCategoryOptions:o}}const Nr={class:"q-gutter-sm"},Ir={class:"col col-lg-6 q-pa-sm"},Or={__name:"Editor",setup(c){const n=fe(),f=(n.props.data.id?"Edit":"Tambah")+" Biaya Operasional",{costCategoryOptions:o}=Qa(n.props.categories),s=$(o),p=$([...s.value]),r=Ce({id:n.props.data.id,category_id:n.props.data.category_id,date:n.props.data.date,description:n.props.data.description,notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),i=()=>Ne({form:r,url:route("admin.operational-cost.save")}),m=(y,_)=>{_(()=>{p.value=s.value.filter(k=>k.label.toLowerCase().includes(y.toLowerCase()))})};return(y,_)=>{const k=H("i-head"),d=H("authenticated-layout");return w(),O(W,null,[e(k,{title:f}),e(d,null,{title:a(()=>[b(u(f))]),"left-button":a(()=>[l("div",Nr,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:_[0]||(_[0]=v=>y.$inertia.get(y.route("admin.operational-cost.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",Ir,[e(Pe,{class:"row",onSubmit:J(i,["prevent"]),onValidationError:t(Ue)},{default:a(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":_[1]||(_[1]=v=>t(r).id=v)},null,512),[[Qe,t(r).id]]),e(se,{autofocus:"",modelValue:t(r).category_id,"onUpdate:modelValue":_[2]||(_[2]=v=>t(r).category_id=v),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:p.value,"map-options":"","emit-value":"",onFilter:m,error:!!t(r).errors.category_id,disable:t(r).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(Z,null,{default:a(()=>[e(N,null,{default:a(()=>_[8]||(_[8]=[b("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","error","disable"]),e(Pr,{modelValue:t(r).date,"onUpdate:modelValue":_[3]||(_[3]=v=>t(r).date=v),label:"Tanggal",error:!!t(r).errors.date,disable:t(r).processing},null,8,["modelValue","error","disable"]),e(X,{modelValue:t(r).description,"onUpdate:modelValue":_[4]||(_[4]=v=>t(r).description=v),modelModifiers:{trim:!0},label:"Deskripsi","lazy-rules":"",error:!!t(r).errors.description,disable:t(r).processing,"error-message":t(r).errors.description,rules:[v=>v&&v.length>0||"Deskripsi harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(qe,{modelValue:t(r).amount,"onUpdate:modelValue":_[5]||(_[5]=v=>t(r).amount=v),label:"Jumlah",lazyRules:"",disable:t(r).processing,error:!!t(r).errors.amount,errorMessage:t(r).errors.amount,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),e(X,{modelValue:t(r).notes,"onUpdate:modelValue":_[6]||(_[6]=v=>t(r).notes=v),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(r).processing,error:!!t(r).errors.notes,"error-message":t(r).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(I,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(r).processing},null,8,["disable"]),e(I,{icon:"cancel",label:"Batal",disable:t(r).processing,onClick:_[7]||(_[7]=v=>t(Y).get(y.route("admin.operational-cost.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Mr=Object.freeze(Object.defineProperty({__proto__:null,default:Or},Symbol.toStringTag,{value:"Module"})),Rr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Er={class:"q-pa-sm"},Ur={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ar={class:"flex items-center q-gutter-xs"},Dr={key:0},jr={key:0},Br={class:"flex justify-end"},$a="Biaya Operasional",Lr={__name:"Index",setup(c){const n=fe(),f=we(),o=$(!1),s=$(null),p=$(null),r=je(p),i=$([]),m=$(!0),y=new Date().getFullYear(),_=new Date().getMonth()+1,k=[{label:"Semua Tahun",value:null},{label:`${y}`,value:y},...bt(y-2,y-1).reverse()],d=[{value:null,label:"Semua Bulan"},..._t()],{costCategoryOptions:v}=Qa(n.props.categories),x=[{value:"all",label:"Semua"},{value:"null",label:"Tanpa Kategori"},...v],g=Me({search:"",category_id:"all",year:y,month:_,...Ie()}),j=$({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"date",descending:!0}),q=[{name:"date",label:"Tanggal",field:"date",align:"left",sortable:!0},{name:"description",label:"Deskripsi",field:"description",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right",sortable:!0},{name:"action",align:"right"}];ye(()=>{T()});const h=R=>Fe({message:`Hapus Biaya ${R.description}?`,url:route("admin.operational-cost.delete",R.id),fetchItemsCallback:T,loading:m}),T=(R=null)=>{Oe({pagination:j,filter:g,props:R,rows:i,url:route("admin.operational-cost.data"),loading:m,tableRef:s})},P=()=>{T()},V=ee(()=>f.screen.gt.sm?q:q.filter(R=>R.name==="date"||R.name==="action"));return Ve(()=>g.year,R=>{R===null&&(g.month=null)}),(R,S)=>{const E=H("i-head"),Q=H("authenticated-layout");return w(),O(W,null,[e(E,{title:$a}),e(Q,null,Be({title:a(()=>[b(u($a))]),"right-button":a(()=>[e(I,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:S[0]||(S[0]=A=>o.value=!o.value)},null,8,["icon"]),e(I,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:S[1]||(S[1]=A=>t(Y).get(R.route("admin.operational-cost.add")))})]),default:a(()=>[l("div",Er,[e(ke,{ref_key:"tableRef",ref:s,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:j.value,"onUpdate:pagination":S[7]||(S[7]=A=>j.value=A),filter:g.search,loading:m.value,columns:V.value,rows:i.value,"rows-per-page-options":[10,25,50],style:Le({height:t(r)}),onRequest:T,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:A,message:ae,filter:B})=>[l("div",Ur,[l("span",null,u(ae)+" "+u(B?" with term "+B:""),1)])]),body:a(A=>[e(ve,{props:A},{default:a(()=>[e(L,{key:"date",props:A,class:"wrap-column"},{default:a(()=>[l("div",Ar,[e(C,{name:"calendar_today"}),l("div",null,u(t(st)(A.row.date).format("DD/MM/YYYY")),1)]),t(f).screen.gt.sm?z("",!0):(w(),O(W,{key:0},[e(Ye,{icon:"notes",text:A.row.notes},null,8,["text"]),A.row.category?(w(),O("div",Dr,[e(C,{name:"category"}),b(" "+u(A.row.category.name),1)])):z("",!0),l("div",null,[e(C,{name:"paid"}),b(" Rp. "+u(t(F)(A.row.amount)),1)])],64))]),_:2},1032,["props"]),e(L,{key:"description",props:A},{default:a(()=>[b(u(A.row.description)+" ",1),A.row.category?(w(),O("div",jr,[e(C,{name:"category"}),b(" "+u(A.row.category.name),1)])):z("",!0)]),_:2},1032,["props"]),e(L,{key:"amount",props:A,style:{"text-align":"right"}},{default:a(()=>[b(u(t(F)(A.row.amount)),1)]),_:2},1032,["props"]),e(L,{key:"action",props:A},{default:a(()=>[l("div",Br,[e(I,{disabled:!t(Ke)(R.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:S[6]||(S[6]=J(()=>{},["stop"]))},{default:a(()=>[e(He,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[K((w(),D(Z,{clickable:"",onClick:J(ae=>t(Y).get(R.route("admin.operational-cost.duplicate",A.row.id)),["stop"])},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:a(()=>S[8]||(S[8]=[b(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]]),K((w(),D(Z,{clickable:"",onClick:J(ae=>t(Y).get(R.route("admin.operational-cost.edit",A.row.id)),["stop"])},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:a(()=>S[9]||(S[9]=[b("Edit")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]]),K((w(),D(Z,{onClick:J(ae=>h(A.row),["stop"]),clickable:""},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:a(()=>S[10]||(S[10]=[b("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[o.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:a(()=>[l("div",Rr,[e(se,{modelValue:g.year,"onUpdate:modelValue":[S[2]||(S[2]=A=>g.year=A),P],options:k,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(se,{modelValue:g.month,"onUpdate:modelValue":[S[3]||(S[3]=A=>g.month=A),P],options:d,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:g.year===null},null,8,["modelValue","disable"]),e(se,{modelValue:g.category_id,"onUpdate:modelValue":[S[4]||(S[4]=A=>g.category_id=A),P],options:x,label:"Kategori",dense:"",class:"custom-select col-xs-12 col-sm-3","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:g.search,"onUpdate:modelValue":S[5]||(S[5]=A=>g.search=A),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},zr=Object.freeze(Object.defineProperty({__proto__:null,default:Lr},Symbol.toStringTag,{value:"Module"})),Hr={class:"q-gutter-sm"},Fr={class:"col col-md-6 q-pa-sm"},Yr={__name:"Editor",setup(c){const n=fe(),f=(n.props.data.id?"Edit":"Tambah")+" Kategori Produk",o=Ce({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description}),s=()=>Ne({form:o,url:route("admin.product-category.save")});return(p,r)=>{const i=H("i-head"),m=H("authenticated-layout");return w(),O(W,null,[e(i,{title:f}),e(m,null,{title:a(()=>[b(u(f))]),"left-button":a(()=>[l("div",Hr,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=y=>p.$inertia.get(p.route("admin.product-category.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",Fr,[e(Pe,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(Ue)},{default:a(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=y=>t(o).id=y)},null,512),[[Qe,t(o).id]]),e(X,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=y=>t(o).name=y),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(o).description,"onUpdate:modelValue":r[3]||(r[3]=y=>t(o).description=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.description,"error-message":t(o).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(I,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(I,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[4]||(r[4]=y=>t(Y).get(p.route("admin.product-category.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Kr=Object.freeze(Object.defineProperty({__proto__:null,default:Yr},Symbol.toStringTag,{value:"Module"})),Qr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Wr={class:"q-pa-sm"},Jr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Gr={key:0,class:"text-grey-8"},Xr={class:"flex justify-end"},xa="Kategori Produk",Zr={__name:"Index",setup(c){const n=we(),f=$(!1),o=$([]),s=$(!0),p=$(null),r=$(null),i=je(r),m=Me({search:"",...Ie()}),y=$({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),_=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];ye(()=>{d()});const k=x=>Fe({message:`Hapus Kategori ${x.name}?`,url:route("admin.product-category.delete",x.id),fetchItemsCallback:d,loading:s}),d=(x=null)=>{Oe({pagination:y,filter:m,props:x,rows:o,url:route("admin.product-category.data"),loading:s,tableRef:p})},v=ee(()=>n.screen.gt.sm?_:_.filter(x=>x.name==="name"||x.name==="action"));return(x,g)=>{const j=H("i-head"),q=H("authenticated-layout");return w(),O(W,null,[e(j,{title:xa}),e(q,null,Be({title:a(()=>[b(u(xa))]),"right-button":a(()=>[e(I,{icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:g[0]||(g[0]=h=>f.value=!f.value)},null,8,["icon"]),e(I,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:g[1]||(g[1]=h=>t(Y).get(x.route("admin.product-category.add")))})]),default:a(()=>[l("div",Wr,[e(ke,{ref_key:"tableRef",ref:p,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":g[4]||(g[4]=h=>y.value=h),filter:m.search,loading:s.value,columns:v.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Le({height:t(i)}),onRequest:d,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:h,message:T,filter:P})=>[l("div",Jr,[l("span",null,u(T)+" "+u(P?" with term "+P:""),1)])]),body:a(h=>[e(ve,{props:h},{default:a(()=>[e(L,{key:"name",props:h,class:"wrap-column"},{default:a(()=>[b(u(h.row.name)+" ",1),t(n).screen.gt.sm?z("",!0):(w(),O(W,{key:0},[h.row.description?(w(),O("div",Gr,[e(C,{name:"description"}),b(" "+u(h.row.description),1)])):z("",!0)],64))]),_:2},1032,["props"]),e(L,{key:"description",props:h,class:"wrap-column"},{default:a(()=>[b(u(h.row.description),1)]),_:2},1032,["props"]),e(L,{key:"action",props:h},{default:a(()=>[l("div",Xr,[e(I,{disabled:!t(Ke)(x.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:g[3]||(g[3]=J(()=>{},["stop"]))},{default:a(()=>[e(He,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[K((w(),D(Z,{clickable:"",onClick:J(T=>t(Y).get(x.route("admin.product-category.duplicate",h.row.id)),["stop"])},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:a(()=>g[5]||(g[5]=[b("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]]),K((w(),D(Z,{clickable:"",onClick:J(T=>t(Y).get(x.route("admin.product-category.edit",h.row.id)),["stop"])},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:a(()=>g[6]||(g[6]=[b("Edit")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]]),K((w(),D(Z,{onClick:J(T=>k(h.row),["stop"]),clickable:""},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:a(()=>g[7]||(g[7]=[b("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[f.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",Qr,[e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":g[2]||(g[2]=h=>m.search=h),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},ei=Object.freeze(Object.defineProperty({__proto__:null,default:Zr},Symbol.toStringTag,{value:"Module"})),ti={class:"q-gutter-sm"},ai={class:"q-gutter-sm"},li={class:"row justify-center"},oi={class:"col col-lg-6 q-pa-sm"},ni={class:"row"},si={class:"detail"},ri={key:0},ii={key:1},ui={class:"detail"},di={class:"detail"},mi={key:0},ci={key:1},pi={class:"detail"},fi={class:"full-width row flex-center text-grey-8 q-gutter-sm"},gi={class:"flex q-gutter-sm"},bi={class:""},_i={__name:"Detail",setup(c){const n=fe(),f=`Rincian Produk #${n.props.data.id}`,o=$("main"),s=$([]),p=$(!0),r=Me({...Ie()}),i=$({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),m=[{name:"id",label:"#",field:"id",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!0},{name:"quantity",label:"Jumlah",field:"quantity",align:"center",sortable:!0}];ye(()=>{y()});const y=(d=null)=>Oe({pagination:i,filter:r,props:d,rows:s,url:route("admin.stock-movement.data",{product_id:n.props.data.id}),loading:p}),_=we(),k=ee(()=>_.screen.gt.sm?m:m.filter(d=>d.name==="id"));return(d,v)=>{const x=H("i-head"),g=H("i-link"),j=H("authenticated-layout");return w(),O(W,null,[e(x,{title:f}),e(j,null,{title:a(()=>[b(u(f))]),"left-button":a(()=>[l("div",ti,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:v[0]||(v[0]=q=>d.$inertia.get(d.route("admin.product.index")))})])]),"right-button":a(()=>[l("div",ai,[e(I,{icon:"edit",dense:"",color:"primary",onClick:v[1]||(v[1]=q=>t(Y).get(d.route("admin.product.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[l("div",li,[l("div",oi,[l("div",ni,[e(de,{square:"",flat:"",bordered:"",class:"q-card col"},{default:a(()=>[e(Qt,{modelValue:o.value,"onUpdate:modelValue":v[2]||(v[2]=q=>o.value=q),align:"left"},{default:a(()=>[e(ct,{name:"main",label:"Info Utama"}),e(ct,{name:"history",label:"Riwayat Stok"})]),_:1},8,["modelValue"]),e(Wt,{modelValue:o.value,"onUpdate:modelValue":v[4]||(v[4]=q=>o.value=q)},{default:a(()=>[e(pt,{name:"main"},{default:a(()=>[v[45]||(v[45]=l("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Produk ",-1)),l("table",si,[l("tbody",null,[l("tr",null,[v[5]||(v[5]=l("td",{style:{width:"120px"}},"ID",-1)),v[6]||(v[6]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,"# "+u(t(n).props.data.id),1)]),l("tr",null,[v[7]||(v[7]=l("td",null,"Nama Produk",-1)),v[8]||(v[8]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[v[9]||(v[9]=l("td",null,"Barcode",-1)),v[10]||(v[10]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.barcode),1)]),l("tr",null,[v[11]||(v[11]=l("td",null,"Jenis Produk",-1)),v[12]||(v[12]=l("td",null,":",-1)),l("td",null,u(d.$CONSTANTS.PRODUCT_TYPES[t(n).props.data.type]),1)]),l("tr",null,[v[13]||(v[13]=l("td",null,"Kategori",-1)),v[14]||(v[14]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.category?t(n).props.data.category.name:"--Tidak memiliki kategori--"),1)]),l("tr",null,[v[15]||(v[15]=l("td",null,"Supplier",-1)),v[16]||(v[16]=l("td",null,":",-1)),l("td",null,[t(n).props.data.supplier?(w(),D(g,{key:0,href:d.route("admin.supplier.detail",{id:t(n).props.data.supplier.id})},{default:a(()=>[b(u("#"+t(n).props.data.supplier.id+" - "+t(n).props.data.supplier.name),1)]),_:1},8,["href"])):(w(),O(W,{key:1},[b(u("--Tidak memiliki supplier--"))],64))])]),l("tr",null,[v[17]||(v[17]=l("td",null,"Status",-1)),v[18]||(v[18]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),t(n).props.data.created_at?(w(),O("tr",ri,[v[20]||(v[20]=l("td",null,"Dibuat Oleh",-1)),v[21]||(v[21]=l("td",null,":",-1)),l("td",null,[t(n).props.data.creator?(w(),O(W,{key:0},[e(g,{href:d.route("admin.user.detail",{id:t(n).props.data.creator})},{default:a(()=>[b(u(t(n).props.data.creator.username),1)]),_:1},8,["href"]),v[19]||(v[19]=b(" - "))],64)):z("",!0),b(" "+u(t(Je)(t(n).props.data.created_at)),1)])])):z("",!0),t(n).props.data.updater?(w(),O("tr",ii,[v[23]||(v[23]=l("td",null,"Diperbarui oleh",-1)),v[24]||(v[24]=l("td",null,":",-1)),l("td",null,[t(n).props.data.updater?(w(),O(W,{key:0},[e(g,{href:d.route("admin.user.detail",{id:t(n).props.data.updater})},{default:a(()=>[b(u(t(n).props.data.updater.username),1)]),_:1},8,["href"]),v[22]||(v[22]=b(" - "))],64)):z("",!0),b(" "+u(t(Je)(t(n).props.data.updated_at)),1)])])):z("",!0)])]),v[46]||(v[46]=l("div",{class:"text-subtitle1 q-pt-lg text-bold text-grey-9"}," Info Inventori ",-1)),l("table",ui,[l("tbody",null,[l("tr",null,[v[25]||(v[25]=l("td",{style:{width:"120px"}},"Stok",-1)),v[26]||(v[26]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(F)(t(n).props.data.stock))+" "+u(t(n).props.data.uom),1)]),l("tr",null,[v[27]||(v[27]=l("td",null,"Stok Minimum",-1)),v[28]||(v[28]=l("td",null,":",-1)),l("td",null,u(t(F)(t(n).props.data.min_stock))+" "+u(t(n).props.data.uom),1)]),l("tr",null,[v[29]||(v[29]=l("td",null,"Stok Maksimum",-1)),v[30]||(v[30]=l("td",null,":",-1)),l("td",null,u(t(F)(t(n).props.data.max_stock))+" "+u(t(n).props.data.uom),1)]),l("tr",null,[v[31]||(v[31]=l("td",null,"Barcode",-1)),v[32]||(v[32]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.barcode),1)])])]),v[47]||(v[47]=l("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Harga ",-1)),l("table",di,[l("tbody",null,[l("tr",null,[v[33]||(v[33]=l("td",null,"Opsi Harga",-1)),v[34]||(v[34]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.price_editable?"Dapat":"Tidak dapat")+" diubah saat penjualan. ",1)]),d.$page.props.auth.user.role==d.$CONSTANTS.USER_ROLE_ADMIN?(w(),O("tr",mi,[v[35]||(v[35]=l("td",{style:{width:"120px"}},"Harga Beli",-1)),v[36]||(v[36]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,"Rp. "+u(t(F)(t(n).props.data.cost)),1)])):z("",!0),l("tr",null,[v[37]||(v[37]=l("td",null,"Harga Jual",-1)),v[38]||(v[38]=l("td",null,":",-1)),l("td",null,"Rp. "+u(t(F)(t(n).props.data.price)),1)]),d.$page.props.auth.user.role==d.$CONSTANTS.USER_ROLE_ADMIN?(w(),O("tr",ci,[v[39]||(v[39]=l("td",null,"Margin",-1)),v[40]||(v[40]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.price>0?t(F)((t(n).props.data.price-t(n).props.data.cost)/t(n).props.data.price*100,2):0)+" % ",1)])):z("",!0)])]),v[48]||(v[48]=l("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Deskripsi & Catatan ",-1)),l("table",pi,[l("tbody",null,[l("tr",null,[v[41]||(v[41]=l("td",{style:{width:"120px"}},"Deskirpsi",-1)),v[42]||(v[42]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.description),1)]),l("tr",null,[v[43]||(v[43]=l("td",null,"Catatan",-1)),v[44]||(v[44]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.notes),1)])])])]),_:1}),e(pt,{name:"history"},{default:a(()=>[e(ke,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":v[3]||(v[3]=q=>i.value=q),filter:r.search,loading:p.value,columns:k.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:y,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:q,message:h,filter:T})=>[l("div",fi,[l("span",null,u(h)+" "+u(T?" with term "+T:""),1)])]),body:a(q=>[e(ve,{props:q},{default:a(()=>[e(L,{key:"id",props:q},{default:a(()=>[l("div",gi,[l("div",null,[l("b",null,"#"+u(q.row.id),1)]),l("div",null," - "+u(d.$dayjs(new Date(q.row.created_at)).format("DD/MM/YYYY hh:mm:ss")),1),l("div",null," - "+u(q.row.created_by?q.row.created_by.username:"--"),1)]),t(_).screen.lt.md?(w(),O(W,{key:0},[l("div",bi,u(d.$CONSTANTS.STOCKMOVEMENT_REFTYPES[q.row.ref_type]),1),l("div",{class:_e(q.row.quantity<0?"text-red-10":q.row.quantity>0?"text-green-10":"")},[e(C,{name:q.row.quantity<0?"arrow_downward":q.row.quantity>0?"arrow_upward":""},null,8,["name"]),b(" "+u(t(F)(q.row.quantity)),1)],2)],64)):z("",!0)]),_:2},1032,["props"]),e(L,{key:"type",props:q},{default:a(()=>[b(u(d.$CONSTANTS.STOCKMOVEMENT_REFTYPES[q.row.ref_type]),1)]),_:2},1032,["props"]),e(L,{key:"quantity",props:q},{default:a(()=>[l("div",{class:_e(q.row.quantity<0?"text-red-10":q.row.quantity>0?"text-green-10":"")},[e(C,{name:q.row.quantity<0?"arrow_downward":q.row.quantity>0?"arrow_upward":""},null,8,["name"]),b(" "+u(t(F)(q.row.quantity)),1)],2)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])])]),_:1})],64)}}},vi=Object.freeze(Object.defineProperty({__proto__:null,default:_i},Symbol.toStringTag,{value:"Module"}));function Wa(c,n=!1){const f=c.map(r=>({value:r.id,label:r.name})),o=n?[{value:"all",label:"Semua"},...f]:f,s=$([...o]);return{filteredCategories:s,filterCategories:(r,i)=>{const m=r.toLowerCase();i(()=>{s.value=o.filter(y=>y.label.toLowerCase().includes(m))})},categories:o}}function Jt(c,n=!1){const f=c.map(r=>({value:r.id,label:"#"+r.id+" - "+r.name})),o=n?[{value:"all",label:"Semua"},...f]:f,s=$([...o]);return{filteredSuppliers:s,filterSupplierFn:(r,i)=>{i(()=>{s.value=o.filter(m=>m.label.toLowerCase().includes(r.toLowerCase()))})},suppliers:o}}const yi={style:{"margin-left":"-10px"}},Ft={__name:"CheckBox",props:{modelValue:{type:[Boolean,Array],default:!1},label:{type:String,default:""},disable:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(c){return(n,f)=>(w(),O("div",yi,[e(St,{class:"full-width q-pl-none","model-value":c.modelValue,"onUpdate:modelValue":f[0]||(f[0]=o=>n.$emit("update:modelValue",o)),disable:c.disable,label:c.label},null,8,["model-value","disable","label"])]))}},wi={class:"q-gutter-sm"},ki={class:"col col-lg-6 q-pa-sm"},hi={__name:"Editor",setup(c){const n=fe(),f=(n.props.data.id?"Edit":"Tambah")+" Produk",o=Re(window.CONSTANTS.PRODUCT_TYPES),s=Ce({id:n.props.data.id,category_id:n.props.data.category_id,supplier_id:n.props.data.supplier_id,type:n.props.data.type,name:n.props.data.name,barcode:n.props.data.barcode,description:n.props.data.description,stock:parseFloat(n.props.data.stock),min_stock:parseFloat(n.props.data.min_stock),max_stock:parseFloat(n.props.data.max_stock),uom:n.props.data.uom,cost:parseFloat(n.props.data.cost),price:parseFloat(n.props.data.price),active:!!n.props.data.active,price_editable:!!n.props.data.price_editable,notes:n.props.data.notes}),p=()=>Ne({form:s,url:route("admin.product.save")}),{filteredCategories:r,filterCategories:i}=Wa(n.props.categories),{filteredSuppliers:m,filterSuppliers:y}=Jt(n.props.suppliers),_=ee(()=>s.price>0?(s.price-s.cost)/s.price*100:0);return(k,d)=>{const v=H("i-head"),x=H("authenticated-layout");return w(),O(W,null,[e(v,{title:f}),e(x,null,{title:a(()=>[b(u(f))]),"left-button":a(()=>[l("div",wi,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=g=>k.$inertia.get(k.route("admin.product.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",ki,[e(Pe,{class:"row",onSubmit:J(p,["prevent"]),onValidationError:t(Ue)},{default:a(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":d[1]||(d[1]=g=>t(s).id=g)},null,512),[[Qe,t(s).id]]),d[21]||(d[21]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Utama",-1)),e(se,{autofocus:"",modelValue:t(s).type,"onUpdate:modelValue":d[2]||(d[2]=g=>t(s).type=g),class:"custom-select",options:t(o),label:"Jenis","map-options":"","emit-value":"","hide-bottom-space":""},null,8,["modelValue","options"]),e(X,{modelValue:t(s).name,"onUpdate:modelValue":d[3]||(d[3]=g=>t(s).name=g),modelModifiers:{trim:!0},label:"Nama Produk","lazy-rules":"",error:!!t(s).errors.name,disable:t(s).processing,"error-message":t(s).errors.name,rules:[g=>g&&g.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(s).description,"onUpdate:modelValue":d[4]||(d[4]=g=>t(s).description=g),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Deskripsi","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.description,"error-message":t(s).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(se,{modelValue:t(s).category_id,"onUpdate:modelValue":d[5]||(d[5]=g=>t(s).category_id=g),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:t(r),"map-options":"","emit-value":"",onFilter:t(i),"option-label":"label","option-value":"value",error:!!t(s).errors.category_id,disable:t(s).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(Z,null,{default:a(()=>[e(N,null,{default:a(()=>d[19]||(d[19]=[b("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),e(se,{modelValue:t(s).supplier_id,"onUpdate:modelValue":d[6]||(d[6]=g=>t(s).supplier_id=g),label:"Supplier","use-input":"","input-debounce":"300",clearable:"",options:t(m),"map-options":"","emit-value":"",onFilter:t(y),"option-label":"label","option-value":"value",error:!!t(s).errors.supplier_id,disable:t(s).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(Z,null,{default:a(()=>[e(N,null,{default:a(()=>d[20]||(d[20]=[b("Supplier tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),e(Ft,{modelValue:t(s).active,"onUpdate:modelValue":d[7]||(d[7]=g=>t(s).active=g),disable:t(s).processing,label:"Aktif"},null,8,["modelValue","disable"]),d[22]||(d[22]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Inventori",-1)),e(X,{modelValue:t(s).barcode,"onUpdate:modelValue":d[8]||(d[8]=g=>t(s).barcode=g),modelModifiers:{trim:!0},label:"Barcode","lazy-rules":"",error:!!t(s).errors.barcode,disable:t(s).processing,"error-message":t(s).errors.barcode,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(X,{modelValue:t(s).uom,"onUpdate:modelValue":d[9]||(d[9]=g=>t(s).uom=g),modelModifiers:{trim:!0},label:"Satuan","lazy-rules":"",error:!!t(s).errors.uom,disable:t(s).processing,"error-message":t(s).errors.uom,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(qe,{modelValue:t(s).stock,"onUpdate:modelValue":d[10]||(d[10]=g=>t(s).stock=g),label:"Stok",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.stock,errorMessage:t(s).errors.stock},null,8,["modelValue","disable","error","errorMessage"]),e(qe,{modelValue:t(s).min_stock,"onUpdate:modelValue":d[11]||(d[11]=g=>t(s).min_stock=g),label:"Stok Minimum",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.min_stock,errorMessage:t(s).errors.min_stock},null,8,["modelValue","disable","error","errorMessage"]),e(qe,{modelValue:t(s).max_stock,"onUpdate:modelValue":d[12]||(d[12]=g=>t(s).max_stock=g),label:"Stok Maksimum",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.max_stock,errorMessage:t(s).errors.max_stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),d[23]||(d[23]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Harga",-1)),e(Ft,{modelValue:t(s).price_editable,"onUpdate:modelValue":d[13]||(d[13]=g=>t(s).price_editable=g),disable:t(s).processing,label:"Harga bisa diubah saat penjualan"},null,8,["modelValue","disable"]),e(qe,{modelValue:t(s).cost,"onUpdate:modelValue":d[14]||(d[14]=g=>t(s).cost=g),label:"Modal / Harga Beli (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.cost,errorMessage:t(s).errors.cost,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(qe,{modelValue:t(s).price,"onUpdate:modelValue":d[15]||(d[15]=g=>t(s).price=g),label:"Harga Jual (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.max_stock,errorMessage:t(s).errors.price,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(qe,{modelValue:_.value,"onUpdate:modelValue":d[16]||(d[16]=g=>_.value=g),label:"Margin (%)",lazyRules:"",disable:t(s).processing,maxDecimals:2,"hide-bottom-space":""},null,8,["modelValue","disable"]),d[24]||(d[24]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Lainnya",-1)),e(X,{modelValue:t(s).notes,"onUpdate:modelValue":d[17]||(d[17]=g=>t(s).notes=g),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(I,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(I,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:d[18]||(d[18]=g=>t(Y).get(k.route("admin.product.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Si=Object.freeze(Object.defineProperty({__proto__:null,default:hi},Symbol.toStringTag,{value:"Module"})),$i={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},xi={class:"q-pa-sm"},Vi={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ci={key:0,class:"text-grey-8"},qi={key:1,class:"text-grey-8"},Ti={key:0},Pi={key:1},Ni={class:"flex justify-end"},Va="Produk",Ii={__name:"Index",setup(c){const n=fe(),f=$(null),o=$(null),s=je(o),p=$(!1),r=[{value:"all",label:"Semua"},...Re(window.CONSTANTS.PRODUCT_TYPES)],i=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],m=[{value:"all",label:"Semua"},{value:"ready",label:"Tersedia"},{value:"out",label:"Kosong"},{value:"low",label:"Stok Rendah"},{value:"over",label:"Stok Berlebih"}],y=we(),_=$(!1),k=$([]),d=$(!0),v=Me({type:"all",category_id:"all",supplier_id:"all",status:"active",stock_status:"all",search:"",...Ie()}),x=$({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1});let g=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"cost",label:"Modal",field:"cost",align:"right"},{name:"price",label:"Harga",field:"price",align:"right"},{name:"action",align:"right"}];ye(()=>{const A=new URLSearchParams(window.location.search).get("page");A&&(x.value.page=parseInt(A)),q()});const j=Q=>Fe({message:`Hapus Produk ${Q.name}?`,url:route("admin.product.delete",Q.id),fetchItemsCallback:q,loading:d}),q=(Q=null)=>{Oe({pagination:x,filter:v,props:Q,rows:k,url:route("admin.product.data"),loading:d,tableRef:f})},h=()=>{q()},{filteredCategories:T,filterCategories:P}=Wa(n.props.categories,!0),{filteredSuppliers:V,filterSuppliers:R}=Jt(n.props.suppliers,!0),S=ee(()=>{let Q=[...g];return p.value||Q.splice(2,1),y.screen.gt.sm?Q:Q.filter(A=>A.name==="name"||A.name==="action")}),E=Q=>{console.log(window.location.href),Y.get(route("admin.product.detail",Q.row.id))};return(Q,A)=>{const ae=H("i-head"),B=H("authenticated-layout");return w(),O(W,null,[e(ae,{title:Va}),e(B,null,Be({title:a(()=>[b(u(Va))]),"right-button":a(()=>[Q.$can("admin.product.add")?(w(),D(I,{key:0,class:"q-mr-sm",icon:p.value?"visibility":"visibility_off",label:"",dense:"",color:"grey",onClick:A[0]||(A[0]=M=>p.value=!p.value)},null,8,["icon"])):z("",!0),e(I,{icon:_.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:A[1]||(A[1]=M=>_.value=!_.value)},null,8,["icon"]),e(I,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:A[2]||(A[2]=M=>t(Y).get(Q.route("admin.product.add")))})]),default:a(()=>[l("div",xi,[e(ke,{ref_key:"tableRef",ref:f,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:x.value,"onUpdate:pagination":A[10]||(A[10]=M=>x.value=M),filter:v.search,loading:d.value,columns:S.value,rows:k.value,"rows-per-page-options":[10,25,50],style:Le({height:t(s)}),onRequest:q,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:M,message:U,filter:re})=>[l("div",Vi,[l("span",null,u(U)+" "+u(re?" with term "+re:""),1)])]),header:a(M=>[e(ve,{props:M},{default:a(()=>[e(Pt,{"auto-width":""}),(w(!0),O(W,null,nt(M.cols,U=>(w(),D(Pt,{key:U.name,props:M},{default:a(()=>[b(u(U.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(M=>[e(ve,{props:M,class:_e({inactive:!M.row.active})},{default:a(()=>[e(L,{"auto-width":""},{default:a(()=>[e(I,{size:"xs",color:"grey",round:"",dense:"",onClick:J(U=>M.expand=!M.expand,["prevent"]),icon:M.expand?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["onClick","icon"])]),_:2},1024),e(L,{key:"name",props:M,class:"wrap-column cursor-pointer",onClick:U=>E(M)},{default:a(()=>[b(u(M.row.name)+" ",1),M.row.category_id?(w(),O("div",Ci,[e(C,{name:"category"}),b(" "+u(M.row.category.name),1)])):z("",!0),M.row.supplier_id?(w(),O("div",qi,[e(C,{name:"local_shipping"}),b(" "+u(M.row.supplier.name),1)])):z("",!0),t(y).screen.gt.sm?z("",!0):(w(),O(W,{key:2},[M.row.type=="stocked"?(w(),O("div",Ti,[e(C,{name:"cycle"}),b(" Stok: "+u(t(F)(M.row.stock))+" "+u(M.row.uom),1)])):z("",!0),p.value?(w(),O("div",Pi,[e(C,{name:"money"}),b(" Modal: Rp. "+u(t(F)(M.row.cost)),1)])):z("",!0),l("div",null,[e(C,{name:"sell"}),b(" Harga: Rp. "+u(t(F)(M.row.price)),1)])],64))]),_:2},1032,["props","onClick"]),e(L,{key:"stock",props:M,class:_e(["wrap-column",{"low-stock":M.row.type=="stocked"&&(Number(M.row.stock)==0||Number(M.row.stock)<Number(M.row.min_stock)),"over-stock":M.row.type=="stocked"&&Number(M.row.max_stock)&&Number(M.row.stock)>Number(M.row.max_stock)}])},{default:a(()=>[b(u(M.row.type=="stocked"?t(F)(M.row.stock)+" "+M.row.uom:"-"),1)]),_:2},1032,["props","class"]),(w(),D(L,{key:"cost",props:M,class:"wrap-column"},{default:a(()=>[b(u(t(F)(M.row.cost)),1)]),_:2},1032,["props"])),e(L,{key:"price",props:M,class:"wrap-column"},{default:a(()=>[b(u(t(F)(M.row.price)),1)]),_:2},1032,["props"]),e(L,{key:"action",props:M},{default:a(()=>[l("div",Ni,[e(I,{disabled:!t(Ke)(Q.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:A[9]||(A[9]=J(()=>{},["stop"]))},{default:a(()=>[e(He,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[K((w(),D(Z,{clickable:"",onClick:J(U=>t(Y).get(Q.route("admin.product.duplicate",M.row.id)),["stop"])},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:a(()=>A[11]||(A[11]=[b("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]]),K((w(),D(Z,{clickable:"",onClick:J(U=>t(Y).get(Q.route("admin.product.edit",M.row.id)),["stop"])},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:a(()=>A[12]||(A[12]=[b("Edit")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]]),Q.$page.props.auth.user.role==Q.$CONSTANTS.USER_ROLE_ADMIN?K((w(),D(Z,{key:0,onClick:J(U=>j(M.row),["stop"]),clickable:""},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:a(()=>A[13]||(A[13]=[b("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]]):z("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class"]),K(e(ve,{props:M},{default:a(()=>[e(L,{colspan:"100%"},{default:a(()=>[e(C,{name:"notes"}),b(" "+u(M.row.description),1)]),_:2},1024)]),_:2},1032,["props"]),[[Ha,M.expand]])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[_.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:o},{default:a(()=>[l("div",$i,[e(se,{modelValue:v.type,"onUpdate:modelValue":[A[3]||(A[3]=M=>v.type=M),h],class:"custom-select col-xs-4 col-sm-2",options:r,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{modelValue:v.status,"onUpdate:modelValue":[A[4]||(A[4]=M=>v.status=M),h],class:"custom-select col-xs-4 col-sm-2",options:i,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{modelValue:v.stock_status,"onUpdate:modelValue":[A[5]||(A[5]=M=>v.stock_status=M),h],class:"custom-select col-xs-4 col-sm-2",options:m,label:"Status Stok",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{modelValue:v.category_id,"onUpdate:modelValue":[A[6]||(A[6]=M=>v.category_id=M),h],label:"Kategori",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:t(T),"map-options":"",dense:"","emit-value":"",onFilter:t(P),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),e(se,{modelValue:v.supplier_id,"onUpdate:modelValue":[A[7]||(A[7]=M=>v.supplier_id=M),h],label:"Pemasok",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:t(V),"map-options":"",dense:"","emit-value":"",onFilter:t(R),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:v.search,"onUpdate:modelValue":A[8]||(A[8]=M=>v.search=M),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Oi=Object.freeze(Object.defineProperty({__proto__:null,default:Ii},Symbol.toStringTag,{value:"Module"})),Ja={__name:"UpdatePasswordForm",setup(c){const n=$(!1),f=$(null),o=$(null),s=Ce({current_password:"",password:"",password_confirmation:""}),p=()=>{s.clearErrors(),s.post(route("admin.profile.update-password"),{preserveScroll:!0,onSuccess:()=>s.reset(),onError:()=>{s.errors.password&&(s.reset("password","password_confirmation"),f.value.focus()),s.errors.current_password&&(s.reset("current_password"),o.value.focus())}})};return(r,i)=>(w(),D(Pe,{class:"row",onSubmit:J(p,["prevent"]),onValidationError:t(Ue)},{default:a(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,null,{default:a(()=>[i[6]||(i[6]=l("div",{class:"text-h6 q-my-xs text-subtitle1"},"Perbarui Kata Sandi",-1)),i[7]||(i[7]=l("p",{class:"text-caption text-grey-9"}," Pastikan akun anda menggunakan kata sandi yang kuat agar akun tetap aman. ",-1)),e(X,{modelValue:t(s).current_password,"onUpdate:modelValue":i[1]||(i[1]=m=>t(s).current_password=m),type:n.value?"text":"password",label:"Kata Sandi Sekarang",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.current_password,"error-message":t(s).errors.current_password,rules:[m=>m&&m.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:a(()=>[e(I,{dense:"",flat:"",round:"",onClick:i[0]||(i[0]=m=>n.value=!n.value)},{default:a(()=>[e(C,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(X,{modelValue:t(s).password,"onUpdate:modelValue":i[3]||(i[3]=m=>t(s).password=m),type:n.value?"text":"password",label:"Kata Sandi Baru",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.password,"error-message":t(s).errors.password,rules:[m=>m&&m.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:a(()=>[e(I,{dense:"",flat:"",round:"",onClick:i[2]||(i[2]=m=>n.value=!n.value)},{default:a(()=>[e(C,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(X,{modelValue:t(s).password_confirmation,"onUpdate:modelValue":i[5]||(i[5]=m=>t(s).password_confirmation=m),type:n.value?"text":"password",label:"Konfirmasi Kata Sandi",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.password_confirmation,"error-message":t(s).errors.password_confirmation,rules:[m=>m&&m.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:a(()=>[e(I,{dense:"",flat:"",round:"",onClick:i[4]||(i[4]=m=>n.value=!n.value)},{default:a(()=>[e(C,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"])]),_:1}),e(te,null,{default:a(()=>[e(I,{type:"submit",label:"Perbarui Kata Sandi",color:"primary",icon:"save",disable:t(s).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},Mi=Object.freeze(Object.defineProperty({__proto__:null,default:Ja},Symbol.toStringTag,{value:"Module"})),Ga={__name:"UpdateProfileInformationForm",setup(c){const f=fe().props.auth.user,o=Ce({name:f.name,username:f.username,role:window.CONSTANTS.USER_ROLES[f.role]}),s=()=>Ne({form:o,url:route("admin.profile.update")});return(p,r)=>(w(),D(Pe,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(Ue)},{default:a(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,null,{default:a(()=>[r[3]||(r[3]=l("div",{class:"text-h6 q-my-xs text-subtitle1"},"Profil Saya",-1)),r[4]||(r[4]=l("p",{class:"text-caption text-grey-9"},"Perbarui profil anda.",-1)),e(X,{modelValue:t(o).username,"onUpdate:modelValue":r[0]||(r[0]=i=>t(o).username=i),label:"ID Pengguna",disable:t(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"]),e(X,{modelValue:t(o).name,"onUpdate:modelValue":r[1]||(r[1]=i=>t(o).name=i),modelModifiers:{trim:!0},label:"Nama",disable:t(o).processing,error:!!t(o).errors.name,"error-message":t(o).errors.name,rules:[i=>i&&i.length>0||"Name harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(X,{modelValue:t(o).role,"onUpdate:modelValue":r[2]||(r[2]=i=>t(o).role=i),label:"Hak Akses",disable:t(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"])]),_:1}),e(te,null,{default:a(()=>[e(I,{type:"submit",label:"Perbarui Profil Saya",icon:"save",color:"primary",disable:t(o).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},Ri=Object.freeze(Object.defineProperty({__proto__:null,default:Ga},Symbol.toStringTag,{value:"Module"})),Ei={class:"q-pa-sm"},Ui={class:"row justify-center"},Ai={class:"col col-lg-6"},Ca="Profil Saya",Di={__name:"Edit",setup(c){return(n,f)=>{const o=H("i-head"),s=H("authenticated-layout");return w(),O(W,null,[e(o,{title:Ca}),e(s,null,{title:a(()=>[b(u(Ca))]),default:a(()=>[l("div",Ei,[l("div",Ui,[l("div",Ai,[e(Ga,{class:"q-mb-md"}),e(Ja)])])])]),_:1})],64)}}},ji=Object.freeze(Object.defineProperty({__proto__:null,default:Di},Symbol.toStringTag,{value:"Module"}));function Bi(){const c=$(new Date);let n=null;const f=()=>{c.value=new Date};ye(()=>{n=setInterval(f,1e3)}),Fa(()=>{n&&clearInterval(n)});const o=ee(()=>c.value.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})),s=ee(()=>c.value.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}));return{currentDate:o,currentTime:s}}const Li={class:"text-grey-8"},Xa={__name:"DigitalClock",setup(c){const{currentDate:n,currentTime:f}=Bi();return(o,s)=>(w(),O("div",Li,u(t(n))+" - "+u(t(f)),1))}},zi={class:"row q-col-gutter-md items-center q-px-md q-py-sm"},Hi={class:"col-12 col-sm-6 col-md-4"},Fi={class:"text-bold"},Yi={key:0,class:"col-12 col-md-4 text-center"},Ki={class:"text-h6 text-weight-bold text-grey-8"},Qi={key:0,class:"text-subtitle2 text-weight-bold text-grey-8"},Wi={key:1,class:"text-subtitle2 text-weight-bold text-grey-8"},Ji={class:"text-weight-bold"},Za={__name:"TransactionHeader",props:{user:{type:Object,required:!0},company:{type:Object,required:!0}},emits:["edit-supplier"],setup(c){return(n,f)=>(w(),O("div",zi,[l("div",Hi,[l("div",Fi,[f[1]||(f[1]=b(" Info Supplier ")),e(I,{icon:"edit",flat:"",rounded:"",dense:"",color:"grey",size:"sm",onClick:f[0]||(f[0]=o=>n.$emit("edit-supplier"))})]),f[2]||(f[2]=l("div",{class:"text-grey-8 text-italic"},"Supplier belum dipilih.",-1))]),n.$q.screen.gt.sm?(w(),O("div",Yi,[l("div",Ki,u(c.company.name),1),c.company.address?(w(),O("div",Qi,u(c.company.address),1)):z("",!0),c.company.phone?(w(),O("div",Wi,u(c.company.phone),1)):z("",!0)])):z("",!0),l("div",{class:_e(["col-12 col-sm-6 col-md-4",n.$q.screen.gt.sm?"text-right":""])},[l("div",Ji,u(c.user.username)+" - "+u(c.user.name),1),e(Xa)],2)]))}},Gi=Object.freeze(Object.defineProperty({__proto__:null,default:Za},Symbol.toStringTag,{value:"Module"})),Xi={class:"text-weight-medium"},Zi={class:"text-caption text-grey-6"},eu={class:"text-weight-medium"},tu={class:"text-weight-bold text-primary"},el={__name:"ItemsListTable",props:{items:{type:Array,required:!0},columns:{type:Array,required:!0}},emits:["update-quantity","remove-item"],setup(c){return(n,f)=>(w(),D(ke,{dense:"",rows:c.items,columns:c.columns,"row-key":"id",flat:"",square:"",bordered:"",class:"bg-grey-1 pos-table q-pa-none col","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48},{header:a(o=>[e(ve,{props:o,class:"bg-grey-4"},{default:a(()=>[(w(!0),O(W,null,nt(o.cols,s=>(w(),D(Pt,{key:s.name,props:o,class:"text-weight-bold text-grey-8"},{default:a(()=>[b(u(s.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(o=>[e(ve,{props:o,class:"hover-highlight"},{default:a(()=>[e(L,{key:"name",props:o,class:"text-left"},{default:a(()=>[l("div",Xi,u(o.row.name),1),l("div",Zi," Barcode: "+u(o.row.barcode),1)]),_:2},1032,["props"]),e(L,{key:"price",props:o,class:"text-center"},{default:a(()=>[l("div",eu,[e(qe,{"model-value":o.row.price,dense:"",style:{width:"80px","text-align":"right"}},null,8,["model-value"])])]),_:2},1032,["props"]),e(L,{key:"quantity",props:o,class:"text-center"},{default:a(()=>[e(qe,{"model-value":o.row.quantity,dense:"",style:{width:"80px","text-align":"right"},"onUpdate:modelValue":s=>n.$emit("update-quantity",{id:o.row.id,value:s}),onKeyup:f[0]||(f[0]=$t(s=>s.target.blur(),["enter"]))},null,8,["model-value","onUpdate:modelValue"])]),_:2},1032,["props"]),e(L,{key:"subtotal",props:o,class:"text-center"},{default:a(()=>[l("div",tu," Rp. "+u(t(F)(o.row.price*o.row.quantity)),1)]),_:2},1032,["props"]),e(L,{key:"action",props:o,class:"text-center"},{default:a(()=>[e(I,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:s=>n.$emit("remove-item",o.row)},{default:a(()=>[e(Rl,null,{default:a(()=>f[1]||(f[1]=[b("Hapus Item")])),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]))}},au=Object.freeze(Object.defineProperty({__proto__:null,default:el},Symbol.toStringTag,{value:"Module"})),lu={class:"column"},ou={class:"row justify-end items-center q-gutter-sm"},nu={class:"text-h4 text-weight-bold text-primary"},su={class:"text-caption text-grey-6 q-mt-xs text-right"},ru={class:"q-py-sm"},iu={class:"q-py-sm"},tl={__name:"TransactionSummary",props:{subtotal:{type:Number,required:!0},itemCount:{type:Number,required:!0},barcode:{type:String,required:!0},isProcessing:{type:Boolean,default:!1},formProcessing:{type:Boolean,default:!1}},emits:["update:barcode","add-item","process-payment"],setup(c,{expose:n}){const f=$(null);ye(()=>{o()});const o=()=>{Rt(()=>{f.value&&f.value.focus()})};return n({focusOnBarcodeInput:o}),(s,p)=>(w(),O("div",lu,[l("div",ou,[p[3]||(p[3]=l("span",{class:"text-weight-bold text-grey-8"},"GRAND TOTAL: Rp.",-1)),l("span",nu,u(t(F)(c.subtotal)),1)]),l("div",su,u(c.itemCount)+" item(s) ",1),l("div",ru,[e(X,{ref_key:"barcodeInputRef",ref:f,"model-value":c.barcode,"onUpdate:modelValue":p[0]||(p[0]=r=>s.$emit("update:barcode",r)),placeholder:"<Input Barcode>",outlined:"",square:"",class:"col bg-white",onKeyup:p[1]||(p[1]=$t(r=>s.$emit("add-item"),["enter"])),loading:c.isProcessing,clearable:"",autofocus:""},{prepend:a(()=>[e(C,{name:"qr_code_scanner"})]),_:1},8,["model-value","loading"])]),l("div",iu,[e(I,{class:"full-width",label:"Bayar",color:"primary",icon:"payment",onClick:p[2]||(p[2]=r=>s.$emit("process-payment")),disable:c.itemCount===0,loading:c.formProcessing},null,8,["disable","loading"])])]))}},uu=Object.freeze(Object.defineProperty({__proto__:null,default:tl},Symbol.toStringTag,{value:"Module"})),du={class:"q-ml-sm"},al={__name:"ConfirmDeleteDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,default:null}},emits:["update:modelValue","confirm"],setup(c){return(n,f)=>(w(),D(vt,{"model-value":c.modelValue,"onUpdate:modelValue":f[1]||(f[1]=o=>n.$emit("update:modelValue",o)),persistent:""},{default:a(()=>[e(de,null,{default:a(()=>[e(te,{class:"row items-center"},{default:a(()=>{var o;return[e(mt,{icon:"delete",color:"negative","text-color":"white"}),l("span",du,'Hapus item "'+u((o=c.item)==null?void 0:o.name)+'"?',1)]}),_:1}),e(gt,{align:"right"},{default:a(()=>[K(e(I,{flat:"",label:"Batal",color:"primary"},null,512),[[ue]]),K(e(I,{flat:"",label:"Hapus",color:"negative",onClick:f[0]||(f[0]=o=>n.$emit("confirm"))},null,512),[[ue]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},mu=Object.freeze(Object.defineProperty({__proto__:null,default:al},Symbol.toStringTag,{value:"Module"})),ll={__name:"SupplierEditorDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","save"],setup(c,{emit:n}){const f=n,o=$(""),s=$(""),p=()=>{f("save",{name:o.value,address:s.value})};return(r,i)=>(w(),D(vt,{"model-value":c.modelValue,"onUpdate:modelValue":i[2]||(i[2]=m=>r.$emit("update:modelValue",m)),persistent:""},{default:a(()=>[e(de,{style:{width:"400px"}},{default:a(()=>[e(te,{class:"q-py-none q-pt-lg"},{default:a(()=>i[3]||(i[3]=[l("div",{class:"text-bold text-grey-8"},"Edit Info Supplier",-1)])),_:1}),e(te,null,{default:a(()=>[e(X,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=m=>o.value=m),label:"Nama Supplier"},null,8,["modelValue"]),e(X,{modelValue:s.value,"onUpdate:modelValue":i[1]||(i[1]=m=>s.value=m),label:"Alamat",type:"textarea",autogrow:"",counter:"",maxlength:"200",class:"q-mt-md"},null,8,["modelValue"])]),_:1}),e(gt,{align:"right"},{default:a(()=>[K(e(I,{flat:"",label:"Batal",color:"primary"},null,512),[[ue]]),K(e(I,{flat:"",label:"Simpan",color:"primary",onClick:p},null,512),[[ue]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},cu=Object.freeze(Object.defineProperty({__proto__:null,default:ll},Symbol.toStringTag,{value:"Module"})),pu={class:"q-gutter-sm"},fu={class:"row col **grow**"},gu={class:"col-12 q-pa-sm column"},bu={class:"row"},_u={class:"col-xs-12 col-md-8 q-pa-sm"},vu={class:"col-md-4 col-xs-12 q-pa-sm"},yu={__name:"Editor",setup(c){const n=we(),f=fe(),o=$(null),s=Ce({id:null,formatted_id:"Diisi Otomatis",customer_name:"Pelanggan Umum",datetime:st().format("YYYY-MM-DD HH:mm:ss"),status:"pending",payment_status:"unpaid",items:[],subtotal:0,tax:0,total:0,notes:""}),p=$(""),r=$(!1),i=$(!1),m=$(null),y=$(!1),_=[{name:"name",required:!0,label:"Item Information",align:"left",field:"name",sortable:!1,style:"width: 300px"},{name:"price",label:"Harga",align:"center",field:"price",sortable:!1,style:"width: 120px"},{name:"quantity",label:"Quantity",align:"center",field:"quantity",sortable:!1,style:"width: 100px"},{name:"subtotal",label:"SubTotal",align:"center",sortable:!1,style:"width: 140px"},{name:"action",label:"Action",align:"center",sortable:!1,style:"width: 80px"}],k=ee(()=>{const q=s.items.reduce((h,T)=>h+T.price*T.quantity,0);return s.subtotal=q,s.total=q+s.tax,q}),d=async()=>{if(!p.value.trim()){n.notify({message:"Silakan masukkan barcode",color:"warning",position:"bottom"});return}let q=1,h=p.value.trim(),T=null;const P=h.split("*");if(P.length===3){const R=parseInt(P[0]),S=parseFloat(P[2]);!isNaN(R)&&R>0?q=R:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"bottom"}),!isNaN(S)&&S>=0?T=S:n.notify({message:"Harga tidak valid. Menggunakan harga produk default.",color:"warning",position:"bottom"}),h=P[1]}else if(P.length===2){const R=parseInt(P[0]);!isNaN(R)&&R>0?q=R:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"bottom"}),h=P[1]}const V=s.items.findIndex(R=>R.barcode===h);if(V!==-1)s.items[V].quantity+=q,n.notify({message:`Quantity ${s.items[V].name} bertambah ${q}`,color:"positive",position:"bottom"});else{r.value=!0;try{await new Promise(E=>setTimeout(E,300));const S={...{id:Date.now(),name:`Item ${h}`,barcode:h,price:T!==null?T:Math.floor(Math.random()*5e4)+1e4},quantity:q};s.items.push(S),n.notify({message:`${S.name} berhasil ditambahkan`,color:"positive",position:"bottom",icon:"add_shopping_cart"})}catch(R){console.error("Error fetching item:",R),n.notify({message:"Item tidak ditemukan atau gagal menambahkan item",color:"negative",position:"bottom"})}finally{r.value=!1}}p.value="",await Rt(),o.value.focusOnBarcodeInput()},v=q=>{m.value=q,i.value=!0},x=()=>{if(m.value){const q=s.items.findIndex(h=>h.id===m.value.id);if(q!==-1){const h=s.items.splice(q,1)[0];n.notify({message:`${h.name} dihapus dari keranjang`,color:"info",position:"bottom",icon:"remove_shopping_cart"})}m.value=null}},g=(q,h)=>{const T=s.items.find(P=>P.id===q);T&&h>0&&(T.quantity=parseInt(h)||1)},j=()=>{if(s.items.length===0){n.notify({message:"Tidak ada item dalam keranjang",color:"warning",position:"bottom"});return}s.datetime=st().format("YYYY-MM-DD HH:mm:ss"),s.status="completed",s.payment_status="paid",Ne({form:s,url:route("admin.transaction.save")})};return(q,h)=>{const T=H("i-head"),P=H("authenticated-layout");return w(),O(W,null,[e(T,{title:"Order Pembelian"}),e(P,null,{title:a(()=>h[8]||(h[8]=[b("Order Pembelian")])),"left-button":a(()=>[l("div",pu,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:h[0]||(h[0]=V=>t(Y).get(q.route("admin.purchase-order.index")))})])]),default:a(()=>[e(xe,{class:"bg-grey-2 q-pa-sm column fit"},{default:a(()=>[e(de,{square:"",flat:"",bordered:"",class:"full-width col column"},{default:a(()=>[e(Za,{user:t(f).props.auth.user,company:t(f).props.company,onEditSupplier:h[1]||(h[1]=V=>y.value=!0)},null,8,["user","company"]),l("div",fu,[l("div",gu,[e(el,{items:t(s).items,columns:_,onUpdateQuantity:h[2]||(h[2]=({id:V,value:R})=>g(V,R)),onRemoveItem:v},null,8,["items"])])]),l("div",bu,[l("div",_u,[e(X,{modelValue:t(s).notes,"onUpdate:modelValue":h[3]||(h[3]=V=>t(s).notes=V),type:"textarea",placeholder:"Tambahkan catatan transaksi...",square:"",outlined:"",class:"bg-white",rows:3,counter:"",maxlength:"200",error:!!t(s).errors.notes,"error-message":t(s).errors.notes,style:{"margin-bottom":"16px"},"hide-bottom-space":""},{prepend:a(()=>[e(C,{name:"note"})]),_:1},8,["modelValue","error","error-message"])]),l("div",vu,[e(tl,{ref_key:"transactionSummaryRef",ref:o,barcode:p.value,"onUpdate:barcode":h[4]||(h[4]=V=>p.value=V),subtotal:k.value,"item-count":t(s).items.length,"is-processing":r.value,"form-processing":t(s).processing,onAddItem:h[5]||(h[5]=V=>d(p.value)),onProcessPayment:j},null,8,["barcode","subtotal","item-count","is-processing","form-processing"])])])]),_:1}),e(al,{modelValue:i.value,"onUpdate:modelValue":h[6]||(h[6]=V=>i.value=V),item:m.value,onConfirm:x},null,8,["modelValue","item"]),e(ll,{modelValue:y.value,"onUpdate:modelValue":h[7]||(h[7]=V=>y.value=V)},null,8,["modelValue"])]),_:1})]),_:1})],64)}}},wu=ft(yu,[["__scopeId","data-v-4d8fff94"]]),ku=Object.freeze(Object.defineProperty({__proto__:null,default:wu},Symbol.toStringTag,{value:"Module"})),hu={class:"col col-lg-6 q-pa-sm"},Su={__name:"Editor_v1",setup(c){const n=fe(),f=(n.props.data.id?"Edit":"Tambah")+" Order Pembelian",{filteredSuppliers:o,filterSupplierFn:s}=Jt(n.props.suppliers,!1),p=Re(window.CONSTANTS.PURCHASE_ORDER_STATUSES),r=Re(window.CONSTANTS.PURCHASE_ORDER_PAYMENT_STATUSES),i=Re(window.CONSTANTS.PURCHASE_ORDER_DELIVERY_STATUSES),m=Ce({id:n.props.data.id,formatted_id:n.props.data.formatted_id??"Diisi Otomatis",supplier_id:n.props.data.supplier_id,datetime:st(n.props.data.datetime).format("YYYY-MM-DD HH:mm:ss"),status:n.props.data.status,payment_status:n.props.data.payment_status,delivery_status:n.props.data.delivery_status,total:parseFloat(n.props.data.total),total_paid:parseFloat(n.props.data.total_paid),notes:n.props.data.notes}),y=()=>Ne({form:m,url:route("admin.purchase-order.save")});return(_,k)=>{const d=H("i-head"),v=H("authenticated-layout");return w(),O(W,null,[e(d,{title:f}),e(v,null,{title:a(()=>[b(u(f))]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",hu,[e(Pe,{class:"row",onSubmit:J(y,["prevent"]),onValidationError:t(Ue)},{default:a(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":k[0]||(k[0]=x=>t(m).id=x)},null,512),[[Qe,t(m).id]]),e(X,{modelValue:t(m).formatted_id,"onUpdate:modelValue":k[1]||(k[1]=x=>t(m).formatted_id=x),modelModifiers:{trim:!0},label:"ID Order",readonly:"","hide-bottom-space":""},null,8,["modelValue"]),e(xt,{modelValue:t(m).datetime,"onUpdate:modelValue":k[2]||(k[2]=x=>t(m).datetime=x),label:"Waktu",error:!!t(m).errors.datetime,disable:t(m).processing},null,8,["modelValue","error","disable"]),e(se,{modelValue:t(m).status,"onUpdate:modelValue":k[3]||(k[3]=x=>t(m).status=x),label:"Status Order",options:t(p),"map-options":"","emit-value":"",error:!!t(m).errors.status,disable:t(m).processing,errorMessage:t(m).errors.status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(se,{modelValue:t(m).payment_status,"onUpdate:modelValue":k[4]||(k[4]=x=>t(m).payment_status=x),label:"Status Pembayaran",options:t(r),"map-options":"","emit-value":"",error:!!t(m).errors.payment_status,disable:t(m).processing,errorMessage:t(m).errors.payment_status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(se,{modelValue:t(m).delivery_status,"onUpdate:modelValue":k[5]||(k[5]=x=>t(m).delivery_status=x),label:"Status Pengiriman",options:t(i),"map-options":"","emit-value":"",error:!!t(m).errors.delivery_status,disable:t(m).processing,errorMessage:t(m).errors.delivery_status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(se,{modelValue:t(m).supplier_id,"onUpdate:modelValue":k[6]||(k[6]=x=>t(m).supplier_id=x),label:"Pemasok","use-input":"","input-debounce":"300",clearable:"",options:t(o),"map-options":"","emit-value":"",errorMessage:t(m).errors.supplier_id,onFilter:t(s),error:!!t(m).errors.supplier_id,disable:t(m).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(Z,null,{default:a(()=>[e(N,null,{default:a(()=>k[9]||(k[9]=[b("Pemasok tidak ditemukan.")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(I,{dense:"",icon:"add",type:"button",color:"primary",disable:t(m).processing,label:"Pemasok Baru"},null,8,["disable"]),e(X,{modelValue:t(m).notes,"onUpdate:modelValue":k[7]||(k[7]=x=>t(m).notes=x),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(m).processing,error:!!t(m).errors.notes,"error-message":t(m).errors.notes,rules:[x=>x&&x.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(I,{icon:"create",type:"submit",label:"Buat Order",color:"primary",disable:t(m).processing},null,8,["disable"]),e(I,{icon:"cancel",label:"Batal",disable:t(m).processing,onClick:k[8]||(k[8]=x=>t(Y).get(_.route("admin.purchase-order.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},$u=Object.freeze(Object.defineProperty({__proto__:null,default:Su},Symbol.toStringTag,{value:"Module"})),xu={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Vu={class:"q-pa-sm"},Cu={class:"full-width row flex-center text-grey-8 q-gutter-sm"},qu={key:0},Tu={key:0},Pu={key:1},Nu={class:"flex justify-end"},qa="Order Pembelian",Iu={__name:"Index",setup(c){const n=we(),f=$(!1),o=$([]),s=$(!0),p=$(null),r=$(null),i=je(r),m=It(),y=Ot(),_=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...bt(m-2,m-1).reverse()],k=[{value:"all",label:"Semua Bulan"},..._t()],d=Me({search:"",category_id:"all",year:m,month:y,...Ie()}),v=$({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),x=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];ye(()=>{j()});const g=T=>Fe({message:`Hapus transaksi #-${T.id}?`,url:route("admin.purchase-order.delete",T.id),fetchItemsCallback:j,loading:s}),j=(T=null)=>{Oe({pagination:v,filter:d,props:T,rows:o,url:route("admin.purchase-order.data"),loading:s,tableRef:p})},q=()=>{j()},h=ee(()=>n.screen.gt.sm?x:x.filter(T=>T.name==="datetime"||T.name==="action"));return Ve(()=>d.year,T=>{T===null&&(d.month=null)}),(T,P)=>{const V=H("i-head"),R=H("authenticated-layout");return w(),O(W,null,[e(V,{title:qa}),e(R,null,Be({title:a(()=>[b(u(qa))]),"right-button":a(()=>[e(I,{icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:P[0]||(P[0]=S=>f.value=!f.value)},null,8,["icon"]),e(I,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:P[1]||(P[1]=S=>t(Y).get(T.route("admin.purchase-order.add")))})]),default:a(()=>[l("div",Vu,[e(ke,{ref_key:"tableRef",ref:p,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":P[6]||(P[6]=S=>v.value=S),filter:d.search,loading:s.value,columns:h.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Le({height:t(i)}),onRequest:j,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:S,message:E,filter:Q})=>[l("div",Cu,[l("span",null,u(E)+" "+u(Q?" with term "+Q:""),1)])]),body:a(S=>[e(ve,{props:S},{default:a(()=>[e(L,{key:"datetime",props:S,class:"wrap-column"},{default:a(()=>[l("div",null,[b(" #"+u(S.row.id)+" - ",1),e(C,{name:"calendar_today"}),b(" "+u(S.row.datetime),1)]),e(Et,null,{default:a(()=>[e(C,{name:"category"}),b(" "+u(S.row.type_label),1)]),_:2},1024),S.row.ref_type?(w(),O("div",qu,[e(C,{name:"link"}),b(" "+u(S.row.ref_type_label)+" #"+u(S.row.ref_id),1)])):z("",!0),t(n).screen.gt.sm?z("",!0):(w(),O(W,{key:1},[S.row.notes?(w(),O("div",Tu,[e(C,{name:"notes"}),b(" "+u(S.row.notes),1)])):z("",!0),S.row.category?(w(),O("div",Pu,[e(C,{name:"category"}),b(" "+u(S.row.category.name),1)])):z("",!0),l("div",null,[e(C,{name:"money"}),b(" Rp. "+u(t(et)(S.row.amount)+t(F)(S.row.amount)),1)])],64))]),_:2},1032,["props"]),e(L,{key:"account",props:S},{default:a(()=>{var E;return[b(u((E=S.row.account)==null?void 0:E.name),1)]}),_:2},1032,["props"]),e(L,{key:"notes",props:S},{default:a(()=>[b(u(S.row.notes),1)]),_:2},1032,["props"]),e(L,{key:"amount",props:S,style:{"text-align":"right"}},{default:a(()=>[b(u(t(et)(S.row.amount)+t(F)(S.row.amount)),1)]),_:2},1032,["props"]),e(L,{key:"action",props:S},{default:a(()=>[l("div",Nu,[e(I,{disabled:!t(Ke)(T.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:P[5]||(P[5]=J(()=>{},["stop"]))},{default:a(()=>[e(He,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[K((w(),D(Z,{onClick:J(E=>g(S.row),["stop"]),clickable:""},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:a(()=>P[7]||(P[7]=[b("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[f.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",xu,[e(se,{modelValue:d.year,"onUpdate:modelValue":[P[2]||(P[2]=S=>d.year=S),q],options:_,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(se,{modelValue:d.month,"onUpdate:modelValue":[P[3]||(P[3]=S=>d.month=S),q],options:k,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:d.year===null},null,8,["modelValue","disable"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":P[4]||(P[4]=S=>d.search=S),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Ou=Object.freeze(Object.defineProperty({__proto__:null,default:Iu},Symbol.toStringTag,{value:"Module"})),Mu={class:"q-gutter-sm"},Ru={__name:"Detail",setup(c){const o=`Rincian ${fe().props.data.formatted_id}`;return(s,p)=>{const r=H("i-head"),i=H("authenticated-layout");return w(),O(W,null,[e(r,{title:o}),e(i,null,{title:a(()=>[b(u(o))]),"left-button":a(()=>[l("div",Mu,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:p[0]||(p[0]=m=>s.$inertia.get(s.route("admin.sales-order.index")))})])]),_:1})],64)}}},Eu=Object.freeze(Object.defineProperty({__proto__:null,default:Ru},Symbol.toStringTag,{value:"Module"})),Uu={__name:"CustomerAutocomplete",props:{modelValue:{type:[String,Number,null],default:null},class:{type:String,default:""},label:{type:String,default:"Cari Pelanggan"},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},disable:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1}},emits:["update:modelValue","customerSelected"],setup(c,{emit:n}){const f=c,o=n,s=$(f.modelValue),p=$([]);let r=null;Ve(()=>f.modelValue,m=>{s.value=m}),Ve(s,m=>{o("update:modelValue",m);const y=p.value.find(_=>_.value===m);y?o("customerSelected",y.data):o("customerSelected",null)});const i=(m,y)=>{if(m.length<2){y(()=>{p.value=[]});return}r&&clearTimeout(r),r=setTimeout(()=>{dt.get(`/web-api/customers?q=${m}`).then(_=>{const k=_.data.data.map(d=>({label:`${d.username} - ${d.name}`,value:d.id,data:d}));y(()=>{p.value=k})}).catch(_=>{console.error("Gagal mengambil data pelanggan:",_),y(()=>{p.value=[]})})},500)};return(m,y)=>(w(),D(se,{class:_e(c.class),modelValue:s.value,"onUpdate:modelValue":y[0]||(y[0]=_=>s.value=_),"use-input":"","input-debounce":"0",label:c.label,options:p.value,onFilter:i,hint:"Ketik minimal 2 karakter untuk mencari",clearable:"",behavior:"menu",error:c.error,"error-message":c.errorMessage,disable:c.disable,"hide-bottom-space":"","emit-value":"","map-options":"",outlined:c.outlined,style:{"min-width":"150px !important"}},null,8,["class","modelValue","label","options","error","error-message","disable","outlined"]))}},Au={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Du={class:"col-12 col-sm-6 col-md-4"},ju={class:"full-width"},Bu={key:0,class:"text-grey q-mt-xs"},ol={__name:"TransactionHeader",props:{user:{type:Object,required:!0},company:{type:Object,required:!0},formProcessing:{type:Boolean,default:!1}},setup(c){const n=$({id:null,data:null});function f(o){n.value.data=o}return(o,s)=>(w(),O("div",Au,[l("div",Du,[l("div",ju,[e(Uu,{class:"custom-select",modelValue:n.value.id,"onUpdate:modelValue":s[0]||(s[0]=p=>n.value.id=p),label:"Pelanggan",disable:c.formProcessing,onCustomerSelected:f},null,8,["modelValue","disable"]),n.value.data?(w(),O("div",Bu," Saldo: Rp. "+u(t(F)(n.value.data?n.value.data.balance:0)),1)):z("",!0)])])]))}},Lu=Object.freeze(Object.defineProperty({__proto__:null,default:ol},Symbol.toStringTag,{value:"Module"})),zu={class:"text-weight-medium"},Hu={class:"text-caption text-grey-6"},Fu={class:"column items-end"},Yu={class:"text-caption text-grey-6 text-italic"},nl={__name:"ItemsListTable",props:{items:{type:Array,required:!0},isProcessing:{type:Boolean,default:!1}},emits:["update-quantity","remove-item","edit-item"],setup(c){const n=je(null,390),f=[{name:"name",required:!0,label:"Item",align:"left",field:"name",sortable:!1},{name:"subtotal_price",label:"Sub Total (Rp.)",align:"right",sortable:!1},{name:"action",label:"",align:"right",sortable:!1}];return(o,s)=>(w(),D(ke,{dense:"",rows:c.items,columns:f,"row-key":"id",flat:"",square:"",bordered:"",class:"full-height-table","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48,style:Le({height:t(n)})},{header:a(p=>[e(ve,{props:p,class:"bg-grey-4"},{default:a(()=>[(w(!0),O(W,null,nt(p.cols,r=>(w(),D(Pt,{key:r.name,props:p,class:"text-weight-bold text-grey-8"},{default:a(()=>[b(u(r.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(p=>[e(ve,{props:p,class:"hover-highlight"},{default:a(()=>[e(L,{key:"name",props:p,class:"text-left"},{default:a(()=>[l("div",zu,u(p.row.product_name),1),l("div",Hu,u(p.row.product_barcode),1),p.row.notes?(w(),D(Ye,{key:0,text:p.row.notes,icon:"notes",class:"text-grey-6"},null,8,["text"])):z("",!0)]),_:2},1032,["props"]),e(L,{key:"subtotal_price",props:p,class:"text-right"},{default:a(()=>[l("div",Fu,[l("div",null,u(t(F)(p.row.subtotal_price)),1),l("div",Yu,u(t(F)(p.row.quantity))+" x Rp. "+u(t(F)(p.row.price)),1)])]),_:2},1032,["props"]),e(L,{key:"action",props:p,class:"text-right",style:{width:"5%"}},{default:a(()=>[e(I,{icon:"edit",color:"grey",flat:"",round:"",size:"xs",onClick:r=>o.$emit("edit-item",p.row),disable:c.isProcessing},null,8,["onClick","disable"]),e(I,{icon:"delete",color:"negative",flat:"",round:"",size:"xs",onClick:r=>o.$emit("remove-item",p.row),disable:c.isProcessing},null,8,["onClick","disable"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","style"]))}},Ku=Object.freeze(Object.defineProperty({__proto__:null,default:nl},Symbol.toStringTag,{value:"Module"})),Qu={class:"column"},Wu={class:"row justify-end items-center q-gutter-sm"},Ju={class:"text-h5 text-weight-bold text-primary"},Gu={class:"q-py-xs"},sl={__name:"TransactionSummary",props:{total:{type:Number,required:!0},itemCount:{type:Number,required:!0},barcode:{type:String,required:!0},isProcessing:{type:Boolean,default:!1},formProcessing:{type:Boolean,default:!1},isProductBrowserOpen:{type:Boolean,default:!1}},emits:["update:barcode","add-item","process-payment"],setup(c,{expose:n,emit:f}){const o=$(null);ye(()=>{s()});const s=()=>{Rt(()=>{o.value&&o.value.focus()})};return n({focusOnBarcodeInput:s}),(p,r)=>(w(),O("div",Qu,[l("div",Wu,[r[1]||(r[1]=l("span",{class:"text-grey-8 text-subtitle-2"},"Total: Rp.",-1)),l("span",Ju,u(t(F)(c.total)),1)]),l("div",Gu,[e(I,{class:"full-width",label:"Bayar",color:"primary",icon:"payment",onClick:r[0]||(r[0]=i=>p.$emit("process-payment")),disable:c.isProcessing||c.itemCount===0,loading:c.formProcessing},null,8,["disable","loading"])])]))}},Xu=Object.freeze(Object.defineProperty({__proto__:null,default:sl},Symbol.toStringTag,{value:"Module"})),rl={__name:"CustomerEditorDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","save"],setup(c,{emit:n}){const f=n,o=$(""),s=$(""),p=()=>{f("save",{name:o.value,address:s.value})};return(r,i)=>(w(),D(vt,{"model-value":c.modelValue,"onUpdate:modelValue":i[2]||(i[2]=m=>r.$emit("update:modelValue",m)),persistent:""},{default:a(()=>[e(de,{style:{width:"400px"}},{default:a(()=>[e(te,{class:"q-py-none q-pt-lg"},{default:a(()=>i[3]||(i[3]=[l("div",{class:"text-bold text-grey-8"},"Edit Info Pelanggan",-1)])),_:1}),e(te,null,{default:a(()=>[e(X,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=m=>o.value=m),label:"Nama Pelanggan"},null,8,["modelValue"]),e(X,{modelValue:s.value,"onUpdate:modelValue":i[1]||(i[1]=m=>s.value=m),label:"Alamat",type:"textarea",autogrow:"",counter:"",maxlength:"200",class:"q-mt-md","hide-bottom-space":""},null,8,["modelValue"])]),_:1}),e(gt,{align:"right"},{default:a(()=>[K(e(I,{flat:"",label:"Batal",color:"primary"},null,512),[[ue]]),K(e(I,{flat:"",label:"Simpan",color:"primary",onClick:p},null,512),[[ue]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Zu=Object.freeze(Object.defineProperty({__proto__:null,default:rl},Symbol.toStringTag,{value:"Module"})),ed={key:0,class:"text-center q-mb-md text-grey-8"},td={class:"text-subtitle1 text-weight-medium"},ad={key:0,class:"text-body1"},ld={class:"text-h4 text-center text-primary q-pb-md"},od={class:"row q-col-gutter-sm justify-center"},nd={class:"col-12"},sd={class:"col-12"},il={__name:"PaymentDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","accepted"],setup(c,{emit:n}){const f=n,o=s=>{f("accepted",{method:s})};return(s,p)=>(w(),D(vt,{"model-value":c.modelValue,"onUpdate:modelValue":p[3]||(p[3]=r=>s.$emit("update:modelValue",r)),persistent:""},{default:a(()=>[e(de,{style:{"min-width":"350px"}},{default:a(()=>[e(te,null,{default:a(()=>p[4]||(p[4]=[l("div",{class:"text-h6 text-center"},"Pilih Metode Pembayaran",-1)])),_:1}),e(te,{class:"q-pt-none"},{default:a(()=>[s.studentName?(w(),O("div",ed,[l("div",td,u(s.studentName),1),s.walletBalance!==null?(w(),O("div",ad," Saldo: Rp. "+u(t(F)(s.walletBalance)),1)):z("",!0)])):z("",!0),l("div",ld," Rp. "+u(t(F)(s.form.total)),1),l("div",od,[l("div",nd,[e(I,{label:"Tunai",icon:"attach_money",color:"primary",class:"full-width",onClick:p[0]||(p[0]=r=>o("cash")),loading:s.form.processing,disable:s.form.processing},null,8,["loading","disable"])]),l("div",sd,[e(I,{label:"Dompet Santri",icon:"wallet",color:"green-6",class:"full-width",onClick:p[1]||(p[1]=r=>o("wallet")),loading:s.form.processing,disable:s.form.processing},null,8,["loading","disable"])])])]),_:1}),e(gt,{align:"right",class:"q-py-md"},{default:a(()=>[e(I,{flat:"",label:"Batal",color:"grey",onClick:p[2]||(p[2]=r=>s.showPaymentDialog=!1)})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},rd=Object.freeze(Object.defineProperty({__proto__:null,default:il},Symbol.toStringTag,{value:"Module"})),id={class:"row items-center no-wrap"},ud={class:"col-auto"},dd={class:"full-width row flex-center text-grey-8 q-gutter-sm"},md={__name:"ProductBrowserDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","product-selected"],setup(c,{emit:n}){const f=c,o=n,s=$(null),p=$([]),r=$(!0),i=Me({search:"",status:"active",...Ie()}),m=$({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"price",label:"Harga",field:"price",align:"right"}],_=ee(()=>y);ye(()=>{k()});const k=(x=null)=>{r.value=!0,Oe({pagination:m,filter:i,props:x,rows:p,url:route("admin.product.data"),loading:r,tableRef:s})},d=()=>{k()},v=x=>{o("product-selected",x),setTimeout(()=>{o("update:modelValue",!1)},100)};return Ve(()=>f.modelValue,(x,g)=>{g===!0&&x===!1?i.search="":k()}),(x,g)=>(w(),D(vt,{"model-value":c.modelValue,"onUpdate:modelValue":g[3]||(g[3]=j=>x.$emit("update:modelValue",j)),maximized:x.$q.screen.lt.sm},{default:a(()=>[e(de,{class:"column fit"},{default:a(()=>[e(te,{class:"q-py-sm"},{default:a(()=>[l("div",id,[g[4]||(g[4]=l("div",{class:"col text-subtitle text-grey-8 text-bold"},"Cari Produk",-1)),l("div",ud,[e(I,{flat:"",round:"",size:"xs",icon:"close",onClick:g[0]||(g[0]=j=>x.$emit("update:modelValue",!1))})])])]),_:1}),e(te,{class:"q-py-sm"},{default:a(()=>[e(X,{autofocus:"",outlined:"",dense:"",debounce:"300",modelValue:i.search,"onUpdate:modelValue":[g[1]||(g[1]=j=>i.search=j),d],placeholder:"Cari produk berdasarkan nama atau barcode",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])]),_:1}),e(te,{class:"q-py-sm col"},{default:a(()=>[e(ke,{ref_key:"tableRef",ref:s,flat:"",class:"fit",square:"",bordered:"",dense:"",color:"primary","row-key":"id",pagination:m.value,"onUpdate:pagination":g[2]||(g[2]=j=>m.value=j),filter:i.search,loading:r.value,columns:_.value,rows:p.value,"rows-per-page-options":[10,25,50],onRequest:k,"binary-state-sort":"","no-data-label":"Tidak ada produk ditemukan","virtual-scroll":!0,"rows-per-page-label":null},{"no-data":a(({icon:j,message:q,filter:h})=>[l("div",dd,[l("span",null,u(q),1)])]),body:a(j=>[e(ve,{tabindex:"0",props:j,class:_e([{inactive:!j.row.active},"cursor-pointer"]),onClick:q=>v(j.row),onKeydown:[$t(J(q=>v(j.row),["prevent","stop"]),["enter"]),$t(J(q=>v(j.row),["prevent"]),["space"])]},{default:a(()=>[e(L,{key:"name",props:j,class:"wrap-column"},{default:a(()=>[e(Ye,{text:j.row.name},null,8,["text"]),j.row.description?(w(),D(Ye,{key:0,text:j.row.description,"max-length":"50",class:"text-grey-6"},null,8,["text"])):z("",!0)]),_:2},1032,["props"]),e(L,{key:"stock",props:j,class:"wrap-column text-right"},{default:a(()=>[b(u(j.row.type=="stocked"?t(F)(j.row.stock)+" "+j.row.uom:"-"),1)]),_:2},1032,["props"]),e(L,{key:"price",props:j,class:"wrap-column text-right"},{default:a(()=>[b(" Rp. "+u(t(F)(j.row.price)),1)]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick","onKeydown"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1})]),_:1},8,["model-value","maximized"]))}},cd={class:"row items-center no-wrap"},pd={class:"col-auto"},ul={__name:"ItemEditorDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,required:!1},isProcessing:{type:Boolean,required:!1}},emits:["update:modelValue","save"],setup(c,{expose:n,emit:f}){const o=c,s=f,p=()=>{s("save")},r=ee(()=>o.item.quantity*o.item.price),i=_=>{_.stopPropagation(),_.preventDefault()},m=_=>{o.modelValue&&(_.key==="Enter"?(p(),i(_)):_.key==="Escape"&&(s("update:modelValue",!1),i(_)))};return ye(()=>{window.addEventListener("keydown",m)}),Fa(()=>{window.removeEventListener("keydown",m)}),n({getCurrentItem:()=>o.item}),(_,k)=>(w(),D(vt,{"model-value":c.modelValue,"onUpdate:modelValue":k[6]||(k[6]=d=>_.$emit("update:modelValue",d))},{default:a(()=>[e(de,null,{default:a(()=>[e(te,{class:"q-py-sm"},{default:a(()=>[l("div",cd,[k[7]||(k[7]=l("div",{class:"col text-subtite text-bold text-grey-8"},"Edit Item",-1)),l("div",pd,[e(I,{flat:"",size:"xs",round:"",icon:"close",onClick:k[0]||(k[0]=d=>_.$emit("update:modelValue",!1))})])])]),_:1}),e(te,{class:"q-py-sm"},{default:a(()=>[e(X,{modelValue:c.item.product_name,"onUpdate:modelValue":k[1]||(k[1]=d=>c.item.product_name=d),label:"Produk","hide-bottom-space":"",readonly:"",disable:c.isProcessing},null,8,["modelValue","disable"]),e(qe,{modelValue:c.item.quantity,"onUpdate:modelValue":k[2]||(k[2]=d=>c.item.quantity=d),label:"Kwantitas","hide-bottom-space":"",autofocus:"",disable:c.isProcessing},null,8,["modelValue","disable"]),e(qe,{modelValue:c.item.price,"onUpdate:modelValue":k[3]||(k[3]=d=>c.item.price=d),label:"Harga",readonly:!c.item.price_editable,"hide-bottom-space":"",disable:c.isProcessing},null,8,["modelValue","readonly","disable"]),e(qe,{modelValue:r.value,"onUpdate:modelValue":k[4]||(k[4]=d=>r.value=d),label:"Subtotal","hide-bottom-space":"",readonly:""},null,8,["modelValue"]),e(X,{modelValue:c.item.notes,"onUpdate:modelValue":k[5]||(k[5]=d=>c.item.notes=d),label:"Catatan",autogrow:"",type:"textarea",counter:"",maxlength:"50","hide-bottom-space":"",clearable:""},null,8,["modelValue"])]),_:1}),e(gt,{align:"right"},{default:a(()=>[K(e(I,{flat:"",label:"Batal",color:"primary",disable:c.isProcessing},null,8,["disable"]),[[ue]]),K(e(I,{flat:"",label:"Simpan",color:"primary",onClick:p,disable:c.isProcessing},null,8,["disable"]),[[ue]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},fd=Object.freeze(Object.defineProperty({__proto__:null,default:ul},Symbol.toStringTag,{value:"Module"})),gd={class:"q-gutter-sm"},bd={key:0,class:"row items-center"},_d={class:"text-weight-bold"},vd={class:"row"},yd={class:"row col grow"},wd={class:"col-12 q-pa-sm column"},kd={class:"row"},hd={class:"col"},Sd={class:"col"},$d={class:"text-caption text-grey-6 q-mt-xs text-right"},xd={class:"row"};const Vd={class:"col-12 col-xs-12 q-pa-sm"},Cd={__name:"Editor",setup(c){const n=we(),f=fe(),o=$(!0),s=$(null),p=$(null),r=$(null),i=f.props.company.name,m=Ce({id:f.props.data.id,formatted_id:f.props.data.formatted_id,customer_id:f.props.data.customer_id,datetime:f.props.data.datetime,status:f.props.data.status,payment_status:f.props.data.payment_status,delivery_status:f.props.data.delivery_status,notes:f.props.data.notes,items:f.props.data.details??[]}),y=$(""),_=$(!1),k=$(!1),d=$(!1),v=$(!1),x=$(!1),g=$(null),j=ee(()=>m.items.reduce((B,M)=>B+M.price*M.quantity,0)),q=(B,M=null,U="top",re=null)=>{n.notify({message:B,color:M,position:U,icon:re})},h=B=>{q(B,"warning")},T=B=>isNaN(B)||B<=0?(h("Kuantitas tidak valid."),!1):!0,P=B=>isNaN(B)||B<0?(h("Harga tidak valid."),!1):!0,V=B=>!B||B.length==0?(h("Barcode tidak valid."),!1):!0,R=B=>{y.value+=B.name},S=async()=>{const B=y.value.trim();if(B.length===0){v.value=!0;return}const M=B.split("*");let U=1,re="",ie=null;if(M.length===1)re=M[0];else if(M.length<=3)U=parseInt(M[0]),re=M[1],M.length===3&&(ie=parseFloat(M[2]));else{h("Input tidak valid.");return}if(re.length===0){v.value=!0;return}!V(re)&&!T(U)&&!P(ie)||(_.value=!0,await dt.post(route("admin.sales-order.add-item"),{order_id:m.id,product_code:re,qty:U,price:ie,merge:o.value}).then(le=>{const he=le.data.data.item;let ze=-1;le.data.data.mergeItem&&(ze=m.items.findIndex(yt=>yt.id===he.id)),ze===-1?m.items.push(he):m.items[ze]=he,y.value="",ie!==null&&ie!==parseFloat(he.price)&&h("Harga tidak dapat diubah!")}).catch(le=>{var he,ze;q((ze=(he=le.response)==null?void 0:he.data)==null?void 0:ze.message,"negative"),console.error("Gagal mengambil data produk:",le)}),_.value=!1,Rt(()=>{var le;(le=s.value)==null||le.focus()}))},E=B=>{g.value=Object.create(B),x.value=!0},Q=B=>{n.dialog({title:"Hapus Item",message:`Apakah Anda yakin akan menghapus item ${B.product_name}?`,cancel:{label:"Batal",color:"grey"},ok:{label:"Hapus",color:"negative"},persistent:!0}).onOk(()=>{_.value=!0,dt.post(route("admin.sales-order.remove-item"),{id:B.id}).then(()=>{const M=m.items.findIndex(U=>U.id===B.id);M!==-1&&(m.items.splice(M,1)[0],q("Item telah dihapus"))}).catch(M=>{q("Gagal menghapus item","negative"),console.error(M)}).finally(()=>{_.value=!1})})},A=()=>{_.value=!0;const B=r.value.getCurrentItem(),M={id:B.id,qty:B.quantity};B.price_editable&&(M.price=B.price),B.notes&&(M.notes=B.notes),dt.post(route("admin.sales-order.update-item"),M).then(U=>{const re=U.data.data,ie=m.items.findIndex(le=>le.id===re.id);ie!==-1&&(m.items[ie]=re,q("Item telah diperbarui"))}).catch(U=>{q("Gagal memperbarui item","negative"),console.error(U)}).finally(()=>{_.value=!1})},ae=()=>{if(m.items.length===0){q("Item masih kosong");return}};return(B,M)=>{const U=H("i-head"),re=H("authenticated-layout");return w(),O(W,null,[e(U,{title:t(i)},null,8,["title"]),e(re,null,{title:a(()=>[b(u(t(i)),1)]),"left-button":a(()=>[l("div",gd,[t(n).screen.gt.sm?(w(),D(I,{key:0,icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:M[0]||(M[0]=ie=>t(Y).get(B.route("admin.sales-order.index")))})):z("",!0)])]),"right-button":a(()=>[t(n).screen.gt.sm?(w(),O("div",bd,[l("div",_d,u(t(f).props.auth.user.username),1),M[12]||(M[12]=l("div",{class:"q-mx-sm"},"|",-1)),l("div",null,[e(Xa)])])):z("",!0)]),default:a(()=>[e(xe,{class:"bg-grey-2 q-pa-sm column fit"},{default:a(()=>[e(de,{square:"",flat:"",bordered:"",class:"full-width col column"},{default:a(()=>[e(ol,{user:t(f).props.auth.user,company:t(f).props.company,onEditCustomer:M[1]||(M[1]=ie=>k.value=!0)},null,8,["user","company"]),l("div",vd,[e(X,{ref_key:"inputRef",ref:s,"model-value":y.value,"onUpdate:modelValue":M[2]||(M[2]=ie=>B.$emit("update:barcode",ie)),onKeyup:M[3]||(M[3]=$t(J(ie=>S(),["prevent"]),["enter"])),loading:_.value,disable:_.value,placeholder:"Qty * Kode / Barcode * Harga",class:"col col-12 q-pa-sm bg-white",outlined:"",clearable:"",autofocus:"",dense:""},null,8,["model-value","loading","disable"])]),l("div",yd,[l("div",wd,[e(nl,{items:t(m).items,onUpdateQuantity:M[4]||(M[4]=({id:ie,value:le})=>B.updateQuantity(ie,le)),onRemoveItem:Q,onEditItem:E,"is-processing":_.value,"merge-item":o.value},null,8,["items","is-processing","merge-item"]),l("div",kd,[l("div",hd,[e(Ft,{modelValue:o.value,"onUpdate:modelValue":M[5]||(M[5]=ie=>o.value=ie),label:"Gabungkan item",disable:_.value},null,8,["modelValue","disable"])]),l("div",Sd,[l("div",$d,u(t(m).items.length)+" item(s) ",1)])])])]),l("div",xd,[z("",!0),l("div",Vd,[e(sl,{ref_key:"transactionSummaryRef",ref:p,barcode:y.value,"onUpdate:barcode":M[6]||(M[6]=ie=>y.value=ie),total:j.value,"item-count":t(m).items.length,"is-processing":_.value,"form-processing":t(m).processing,onAddItem:M[7]||(M[7]=ie=>S(y.value)),onProcessPayment:ae,"is-product-browser-open":v.value},null,8,["barcode","total","item-count","is-processing","form-processing","is-product-browser-open"])])])]),_:1}),e(ul,{ref_key:"itemEditorRef",ref:r,modelValue:x.value,"onUpdate:modelValue":M[8]||(M[8]=ie=>x.value=ie),item:g.value,onSave:A,"is-processing":_.value},null,8,["modelValue","item","is-processing"]),e(rl,{modelValue:k.value,"onUpdate:modelValue":M[9]||(M[9]=ie=>k.value=ie)},null,8,["modelValue"]),e(il,{modelValue:d.value,"onUpdate:modelValue":M[10]||(M[10]=ie=>d.value=ie)},null,8,["modelValue"]),e(md,{modelValue:v.value,"onUpdate:modelValue":M[11]||(M[11]=ie=>v.value=ie),onProductSelected:R},null,8,["modelValue"])]),_:1})]),_:1})],64)}}},qd=Object.freeze(Object.defineProperty({__proto__:null,default:Cd},Symbol.toStringTag,{value:"Module"})),Td={__name:"SalesOrderStatusChip",props:{status:{type:String,required:!0}},setup(c){const n=window.CONSTANTS.SALES_ORDER_STATUSES,f={draft:"orange",closed:"green",canceled:"red"};return(o,s)=>(w(),D(Yt,{status:c.status,statuses:t(n),colors:f},null,8,["status","statuses"]))}},Pd={__name:"SalesOrderPaymentStatusChip",props:{status:{type:String,required:!0}},setup(c){const n=window.CONSTANTS.SALES_ORDER_PAYMENT_STATUSES,f={unpaid:"red",fully_paid:"green",partially_paid:"orange",refunded:"black"};return(o,s)=>(w(),D(Yt,{status:c.status,statuses:t(n),colors:f},null,8,["status","statuses"]))}},Nd={__name:"SalesOrderDeliveryStatusChip",props:{status:{type:String,required:!0}},setup(c){const n=window.CONSTANTS.SALES_ORDER_DELIVERY_STATUSES,f={not_sent:"grey",sent:"orange",received:"green",failed:"red"};return(o,s)=>(w(),D(Yt,{status:c.status,statuses:t(n),colors:f},null,8,["status","statuses"]))}},Id={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Od={class:"q-pa-sm"},Md={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Rd={key:1},Ed={class:"flex justify-end"},Ta="Penjualan",Ud={__name:"Index",setup(c){const n=we(),f=$(!1),o=$([]),s=$(!0),p=$(null),r=$(null),i=je(r),m=It(),y=Ot(),_=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...bt(m-2,m-1).reverse()],k=[{value:"all",label:"Semua Bulan"},..._t()],d=[{value:"all",label:"Semua Status"},...Re(window.CONSTANTS.SALES_ORDER_STATUSES)],v=[{value:"all",label:"Semua Status"},...Re(window.CONSTANTS.SALES_ORDER_PAYMENT_STATUSES)],x=[{value:"all",label:"Semua Status"},...Re(window.CONSTANTS.SALES_ORDER_DELIVERY_STATUSES)],g=Me({search:"",year:m,month:y,status:"all",payment_status:"all",delivery_status:"all",...Ie()}),j=$({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),q=[{name:"id",label:"Info Order",field:"id",align:"left",sortable:!0},{name:"customer_id",label:"Pelanggan",field:"customer_id",align:"left"},{name:"total",label:"Total",field:"total",align:"right"},{name:"action",align:"right"}];ye(()=>{S()});const h=A=>{if(A.status=="draft"){T(A);return}P(A)},T=A=>{Y.get(route("admin.sales-order.edit",A.id))},P=A=>{Y.get(route("admin.sales-order.detail",A.id))},V=A=>{Ba.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${A.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{dt.post(route("admin.sales-order.cancel",{id:A.id}),{id:A.id}).then(ae=>{const B=ae.data.data,M=o.value.findIndex(U=>U.id===B.id);if(M===-1){console.warn("Item tidak ditemukan di tabel.");return}o.value[M].status="dibatalkan",n.notify({message:ae.data.message,position:"bottom"})}).catch(ae=>{var M,U;const B=((U=(M=ae.response)==null?void 0:M.data)==null?void 0:U.message)||"Terjadi kesalahan saat membatalkan transaksi.";n.notify({message:B,color:"warning",position:"bottom"}),console.error(ae)})})},R=A=>Fe({title:"Konfirmasi Penghapusan",message:`Hapus transaksi #${A.formatted_id}?`,url:route("admin.sales-order.delete",A.id),fetchItemsCallback:S,loading:s}),S=(A=null)=>{Oe({pagination:j,filter:g,props:A,rows:o,url:route("admin.sales-order.data"),loading:s,tableRef:p})},E=()=>{S()},Q=ee(()=>n.screen.gt.sm?q:q.filter(A=>A.name==="id"||A.name==="action"));return Ve(()=>g.year,A=>{A===null&&(g.month=null)}),(A,ae)=>{const B=H("i-head"),M=H("authenticated-layout");return w(),O(W,null,[e(B,{title:Ta}),e(M,null,Be({title:a(()=>[b(u(Ta))]),"right-button":a(()=>[e(I,{icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:ae[0]||(ae[0]=U=>f.value=!f.value)},null,8,["icon"]),e(I,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:ae[1]||(ae[1]=U=>t(Y).get(A.route("admin.sales-order.add")))})]),default:a(()=>[l("div",Od,[e(ke,{ref_key:"tableRef",ref:p,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:j.value,"onUpdate:pagination":ae[13]||(ae[13]=U=>j.value=U),filter:g.search,loading:s.value,columns:Q.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Le({height:t(i)}),onRequest:S,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:U,message:re,filter:ie})=>[l("div",Md,[l("span",null,u(re)+" "+u(ie?" with term "+ie:""),1)])]),body:a(U=>[e(ve,{props:U,class:"cursor-pointer",onClick:J(re=>h(U.row),["prevent"])},{default:a(()=>[e(L,{key:"id",props:U,class:"wrap-column"},{default:a(()=>[l("div",null,"# "+u(U.row.formatted_id),1),l("div",null,[e(C,{class:"inline-icon",name:"calendar_today"}),b(u(t(Je)(U.row.datetime)),1)]),t(n).screen.gt.sm?z("",!0):(w(),O(W,{key:0},[U.row.customer?(w(),D(da,{key:0,href:A.route("admin.customer.detail",{id:U.row.customer.id}),onClick:ae[8]||(ae[8]=J(()=>{},["stop"]))},{default:a(()=>[b(u(U.row.customer.formatted_id)+" ",1),ae[14]||(ae[14]=l("br",null,null,-1)),b(" "+u(U.row.customer.name),1)]),_:2},1032,["href"])):z("",!0),l("div",null,"Rp. "+u(t(F)(U.row.total_price)),1),U.row.notes?(w(),O("div",Rd,[e(C,{name:"notes"}),b(" "+u(U.row.notes),1)])):z("",!0)],64)),l("div",null,[e(Td,{status:U.row.status},null,8,["status"]),e(Pd,{status:U.row.payment_status},null,8,["status"]),e(Nd,{status:U.row.delivery_status},null,8,["status"])])]),_:2},1032,["props"]),e(L,{key:"customer_id",props:U,onClick:ae[10]||(ae[10]=J(()=>{},["stop"]))},{default:a(()=>[U.row.customer?(w(),D(da,{key:0,href:A.route("admin.customer.detail",{id:U.row.customer.id}),onClick:ae[9]||(ae[9]=J(()=>{},["stop"]))},{default:a(()=>[b(u(U.row.customer.formatted_id)+" ",1),ae[15]||(ae[15]=l("br",null,null,-1)),b(" "+u(U.row.customer.name),1)]),_:2},1032,["href"])):z("",!0)]),_:2},1032,["props"]),e(L,{key:"total",props:U},{default:a(()=>[b(u(t(F)(U.row.total_price)),1)]),_:2},1032,["props"]),e(L,{key:"action",props:U,onClick:ae[12]||(ae[12]=J(()=>{},["stop"]))},{default:a(()=>[l("div",Ed,[e(I,{disabled:!t(Ke)(A.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:ae[11]||(ae[11]=J(()=>{},["stop"]))},{default:a(()=>[e(He,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[U.row.status!="draft"?K((w(),D(Z,{key:0,onClick:J(re=>P(U.row),["stop"]),clickable:""},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"visibility"})]),_:1}),e(N,null,{default:a(()=>ae[16]||(ae[16]=[b(" Lihat ")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]]):z("",!0),K((w(),D(Z,{onClick:J(re=>T(U.row),["stop"]),clickable:""},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"edit"})]),_:1}),e(N,null,{default:a(()=>[b(u(U.row.status=="draft"?"Edit":"Reopen"),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[oe],[ue]]),U.row.status=="draft"?K((w(),D(Z,{key:1,onClick:J(re=>V(U.row),["stop"]),clickable:""},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"cancel"})]),_:1}),e(N,null,{default:a(()=>ae[17]||(ae[17]=[b(" Batalkan ")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]]):z("",!0),e(We),K((w(),D(Z,{onClick:J(re=>R(U.row),["stop"]),clickable:""},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:a(()=>ae[18]||(ae[18]=[b(" Hapus ")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[f.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",Id,[e(se,{modelValue:g.year,"onUpdate:modelValue":[ae[2]||(ae[2]=U=>g.year=U),E],options:_,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),g.year!="all"?(w(),D(se,{key:0,modelValue:g.month,"onUpdate:modelValue":[ae[3]||(ae[3]=U=>g.month=U),E],options:k,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:g.year===null},null,8,["modelValue","disable"])):z("",!0),e(se,{modelValue:g.status,"onUpdate:modelValue":[ae[4]||(ae[4]=U=>g.status=U),E],options:d,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(se,{modelValue:g.payment_status,"onUpdate:modelValue":[ae[5]||(ae[5]=U=>g.payment_status=U),E],options:v,label:"Status Pembayaran",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(se,{modelValue:g.delivery_status,"onUpdate:modelValue":[ae[6]||(ae[6]=U=>g.delivery_status=U),E],options:x,label:"Status Pengiriman",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:g.search,"onUpdate:modelValue":ae[7]||(ae[7]=U=>g.search=U),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Ad=Object.freeze(Object.defineProperty({__proto__:null,default:Ud},Symbol.toStringTag,{value:"Module"})),Dd={class:"q-gutter-sm"},jd={class:"col col-lg-6 q-pa-sm"},Bd={key:0},Ld={class:"text-bold"},zd={key:0},Hd={class:"text-caption text-grey-8"},Fd={key:1},Pa="Buat Penyesuaian Stok",Yd={__name:"Create",setup(c){const f=fe().props.products,o=$([]),s=Ce({type:"stock_opname",datetime:st().format("YYYY-MM-DD HH:mm:ss"),notes:null,product_ids:[]}),p=[{name:"name",label:"Nama Produk",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"center",sortable:!1,format:(_,k)=>F(_)+" "+k.uom}],r=Re(window.CONSTANTS.STOCKADJUSTMENT_TYPES),i=()=>{s.product_ids=o.value.map(_=>_.id),Ne({form:s,url:route("admin.stock-adjustment.create")})},m=we(),y=ee(()=>m.screen.gt.sm?p:p.filter(_=>_.name==="name"));return(_,k)=>{const d=H("i-head"),v=H("authenticated-layout");return w(),O(W,null,[e(d,{title:Pa}),e(v,null,{title:a(()=>[b(u(Pa))]),"left-button":a(()=>[l("div",Dd,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:k[0]||(k[0]=x=>t(Y).get(_.route("admin.stock-adjustment.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",jd,[e(Pe,{class:"row",onSubmit:J(i,["prevent"]),onValidationError:t(Ue)},{default:a(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-sm"},{default:a(()=>[k[6]||(k[6]=l("div",{class:"text-subtitle2"},[l("b",null,"Info Penyesuaian Stok")],-1)),e(xt,{modelValue:t(s).datetime,"onUpdate:modelValue":k[1]||(k[1]=x=>t(s).datetime=x),label:"Waktu",error:!!t(s).errors.datetime,disable:t(s).processing,"error-message":t(s).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(se,{modelValue:t(s).type,"onUpdate:modelValue":k[2]||(k[2]=x=>t(s).type=x),options:t(r),label:"Jenis Penyesuaian",class:"custom-select",error:!!t(s).errors.type,disable:t(s).processing,"map-options":"","emit-value":"","error-message":t(s).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","error-message"]),e(X,{modelValue:t(s).notes,"onUpdate:modelValue":k[3]||(k[3]=x=>t(s).notes=x),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,null,{default:a(()=>[k[7]||(k[7]=l("div",{class:"text-subtitle2"},[l("b",null,"Pilih Produk")],-1)),e(ke,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:y.value,rows:t(f),"binary-state-sort":"","hide-pagination":!0,dense:"","rows-per-page-options":[0],selection:"multiple",selected:o.value,"onUpdate:selected":k[4]||(k[4]=x=>o.value=x)},{"body-cell-name":a(x=>[e(L,{props:x},{default:a(()=>[t(m).screen.lt.md?(w(),O("div",Bd,[l("div",Ld,u(x.row.name),1),x.row.category?(w(),O("div",zd,u(x.row.category.name),1)):z("",!0),l("div",Hd,u(t(F)(x.row.stock))+" "+u(x.row.uom),1)])):(w(),O("div",Fd,u(x.row.name),1))]),_:2},1032,["props"])]),_:1},8,["columns","rows","selected"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(I,{icon:"play_arrow",type:"submit",label:"Lanjutkan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(I,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:k[5]||(k[5]=x=>t(Y).get(_.route("admin.stock-adjustment.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Kd=Object.freeze(Object.defineProperty({__proto__:null,default:Yd},Symbol.toStringTag,{value:"Module"})),Qd={class:"q-gutter-sm"},Wd={class:"row justify-center"},Jd={class:"col col-lg-8 q-pa-sm"},Gd={class:"row"},Xd={class:"detail"},Zd={key:0},em={key:1},tm={class:"text-grey-9"},am={__name:"Detail",setup(c){const n=fe(),f=`Rincian Penyesuaian Stok #${n.props.data.id}`,o=n.props.details,s=[{name:"no",label:"#",field:"no",align:"left"},{name:"product_name",label:"Nama Produk",field:"product_name",align:"left"},{name:"uom",label:"Satuan",field:"uom",align:"left"},{name:"old_quantity",label:"Stok Lama",field:"old_quantity",align:"right",format:i=>F(i)},{name:"new_quantity",label:"Stok Baru",field:"new_quantity",align:"right",format:i=>F(i)},{name:"balance",label:"Selisih Stok",field:"balance",align:"right",format:i=>F(i)},{name:"cost_balance",label:"Selisih Modal",field:"cost_balance",align:"right"},{name:"price_balance",label:"Selisih Harga",field:"price_balance",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}],p=we(),r=ee(()=>p.screen.gt.sm?s:s.filter(i=>i.name==="no"));return(i,m)=>{const y=H("i-head"),_=H("i-link"),k=H("authenticated-layout");return w(),O(W,null,[e(y,{title:f}),e(k,null,{title:a(()=>[b(u(f))]),"left-button":a(()=>[l("div",Qd,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:m[0]||(m[0]=d=>i.$inertia.get(i.route("admin.stock-adjustment.index")))})])]),default:a(()=>[l("div",Wd,[l("div",Jd,[l("div",Gd,[e(de,{square:"",flat:"",bordered:"",class:"q-card col"},{default:a(()=>[e(te,null,{default:a(()=>[m[21]||(m[21]=l("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Penyesuaian Stok ",-1)),l("table",Xd,[l("tbody",null,[l("tr",null,[m[1]||(m[1]=l("td",{style:{width:"120px"}},"ID",-1)),m[2]||(m[2]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,"# "+u(t(n).props.data.id),1)]),l("tr",null,[m[3]||(m[3]=l("td",null,"Jenis",-1)),m[4]||(m[4]=l("td",null,":",-1)),l("td",null,u(i.$CONSTANTS.STOCKADJUSTMENT_TYPES[t(n).props.data.type]),1)]),l("tr",null,[m[5]||(m[5]=l("td",null,"Status",-1)),m[6]||(m[6]=l("td",null,":",-1)),l("td",null,u(i.$CONSTANTS.STOCKADJUSTMENT_STATUSES[t(n).props.data.status]),1)]),l("tr",null,[m[7]||(m[7]=l("td",null,"Waktu",-1)),m[8]||(m[8]=l("td",null,":",-1)),l("td",null,u(i.$dayjs(t(n).props.data.datetime).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)]),t(n).props.data.created_at?(w(),O("tr",Zd,[m[10]||(m[10]=l("td",null,"Dibuat Oleh",-1)),m[11]||(m[11]=l("td",null,":",-1)),l("td",null,[t(n).props.data.created_by?(w(),O(W,{key:0},[e(_,{href:i.route("admin.user.detail",{id:t(n).props.data.created_by})},{default:a(()=>[b(u(t(n).props.data.created_by.username)+" - "+u(t(n).props.data.created_by.name),1)]),_:1},8,["href"]),m[9]||(m[9]=b(" - "))],64)):z("",!0),b(" "+u(i.$dayjs(new Date(t(n).props.data.created_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):z("",!0),t(n).props.data.updated_at?(w(),O("tr",em,[m[13]||(m[13]=l("td",null,"Diperbarui oleh",-1)),m[14]||(m[14]=l("td",null,":",-1)),l("td",null,[t(n).props.data.updated_by?(w(),O(W,{key:0},[e(_,{href:i.route("admin.user.detail",{id:t(n).props.data.updated_by})},{default:a(()=>[b(u(t(n).props.data.updated_by.username)+" - "+u(t(n).props.data.updated_by.name),1)]),_:1},8,["href"]),m[12]||(m[12]=b(" - "))],64)):z("",!0),b(" "+u(i.$dayjs(new Date(t(n).props.data.updated_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):z("",!0),l("tr",null,[m[15]||(m[15]=l("td",null,"Total Modal",-1)),m[16]||(m[16]=l("td",null,":",-1)),l("td",null,[l("div",{class:_e(t(n).props.data.total_cost<0?"text-red-10":t(n).props.data.total_cost>0?"text-green-10":"")}," Rp. "+u(t(F)(t(n).props.data.total_cost)),3)])]),l("tr",null,[m[17]||(m[17]=l("td",null,"Total Harga",-1)),m[18]||(m[18]=l("td",null,":",-1)),l("td",null,[l("div",{class:_e(t(n).props.data.total_price<0?"text-red-10":t(n).props.data.total_price>0?"text-green-10":"")}," Rp. "+u(t(F)(t(n).props.data.total_price)),3)])]),l("tr",null,[m[19]||(m[19]=l("td",null,"Catatan",-1)),m[20]||(m[20]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.notes),1)])])])]),_:1}),e(te,null,{default:a(()=>[m[26]||(m[26]=l("div",{class:"text-subtitle1 text-bold text-grey-9 q-pt-md"}," Rincian ",-1)),e(ke,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",dense:"",columns:r.value,rows:t(o),"hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-no":a(d=>[e(L,{props:d},{default:a(()=>[t(p).screen.lt.md?(w(),O(W,{key:1},[l("div",tm,[l("b",null,"#"+u(d.rowIndex+1),1),b(" - "+u(d.row.product_name),1)]),l("div",null,[b(" Stok Lama: "+u(t(F)(d.row.old_quantity))+" "+u(d.row.uom),1),m[23]||(m[23]=l("br",null,null,-1)),b(" Stok Baru: "+u(t(F)(d.row.new_quantity))+" "+u(d.row.uom),1),m[24]||(m[24]=l("br",null,null,-1)),l("div",{class:_e(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},[b(" Selisih: "+u((d.row.balance>0?"+":"")+t(F)(d.row.balance))+" "+u(d.row.uom),1),m[22]||(m[22]=l("br",null,null,-1)),b(" (Rp. "+u(t(F)(d.row.subtotal_cost))+" / Rp. "+u(t(F)(d.row.subtotal_price))+") ",1)],2),m[25]||(m[25]=l("br",null,null,-1)),b(" "+u(d.row.notes),1)])],64)):(w(),O(W,{key:0},[b(u(d.rowIndex+1),1)],64))]),_:2},1032,["props"])]),"body-cell-balance":a(d=>[e(L,{props:d},{default:a(()=>[l("div",{class:_e(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},u((d.row.balance>0?"+":"")+t(F)(d.row.balance)),3)]),_:2},1032,["props"])]),"body-cell-cost_balance":a(d=>[e(L,{props:d},{default:a(()=>[l("div",{class:_e(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},u(t(F)(d.row.subtotal_cost)),3)]),_:2},1032,["props"])]),"body-cell-price_balance":a(d=>[e(L,{props:d},{default:a(()=>[l("div",{class:_e(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},u(t(F)(d.row.subtotal_price)),3)]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1})]),_:1})])])])]),_:1})],64)}}},lm=Object.freeze(Object.defineProperty({__proto__:null,default:am},Symbol.toStringTag,{value:"Module"})),om={class:"q-gutter-sm"},nm={class:"col col-lg-6 q-pa-sm"},sm={class:"text-bold"},rm={key:0},im={class:"text-caption text-grey-8"},Na="Penyesuaian Stok",um={__name:"Editor",setup(c){const n=fe(),f=Ce({id:n.props.item.id,type:n.props.item.type,datetime:st(n.props.item.datetime).format("YYYY-MM-DD HH:mm:ss"),notes:n.props.item.notes,action:"save",details:[]}),o=Re(window.CONSTANTS.STOCKADJUSTMENT_TYPES),s=n.props.details,p=y=>{const _=()=>{f.action=y,f.details=s.map(k=>({id:k.id,new_quantity:k.new_quantity})),Ne({form:f,url:route("admin.stock-adjustment.save")})};y==="close"||y==="cancel"?Ba.create({title:"Konfirmasi",message:"Aksi ini tidak dapat dibatalkan, apakah Anda yakin?",cancel:!0,persistent:!0}).onOk(()=>{_()}).onCancel(()=>{}):_()},r=[{name:"product_name",label:"Nama Produk",field:"product_name",align:"left",sortable:!0},{name:"uom",label:"Satuan",field:"uom",align:"center"},{name:"old_quantity",label:"Tercatat",field:"old_quantity",align:"right",format:y=>F(y)},{name:"new_quantity",label:"Aktual",field:"new_quantity",align:"right",format:y=>F(y)},{name:"balance",label:"Selisih",field:"balance",align:"right",format:(y,_)=>F(_.new_quantity-_.old_quantity)}],i=we(),m=ee(()=>i.screen.gt.sm?r:r.filter(y=>y.name==="product_name"||y.name==="new_quantity"));return(y,_)=>{const k=H("i-head"),d=H("authenticated-layout");return w(),O(W,null,[e(k,{title:Na}),e(d,null,{title:a(()=>[b(u(Na))]),"left-button":a(()=>[l("div",om,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:_[0]||(_[0]=v=>y.$inertia.get(y.route("admin.stock-adjustment.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",nm,[e(Pe,{class:"row",onSubmit:J(p,["prevent"]),onValidationError:t(Ue)},{default:a(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,null,{default:a(()=>_[8]||(_[8]=[l("div",{class:"text-subtitle1"},"Info Penyesuaian",-1)])),_:1}),e(te,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":_[1]||(_[1]=v=>t(f).id=v)},null,512),[[Qe,t(f).id]]),e(xt,{modelValue:t(f).datetime,"onUpdate:modelValue":_[2]||(_[2]=v=>t(f).datetime=v),label:"Waktu",error:!!t(f).errors.datetime,disable:t(f).processing,"error-message":t(f).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(se,{modelValue:t(f).type,"onUpdate:modelValue":_[3]||(_[3]=v=>t(f).type=v),options:t(o),label:"Jenis Penyesuaian",class:"custom-select",error:!!t(f).errors.type,disable:t(f).processing,"map-options":"","emit-value":"","error-message":t(f).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","error-message"]),e(X,{modelValue:t(f).notes,"onUpdate:modelValue":_[4]||(_[4]=v=>t(f).notes=v),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(f).processing,error:!!t(f).errors.notes,"error-message":t(f).errors.notes,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,null,{default:a(()=>[e(ke,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:m.value,rows:t(s),"binary-state-sort":"","hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-product_name":a(v=>[e(L,{props:v},{default:a(()=>[l("div",sm,u(v.row.product_name),1),t(i).screen.lt.md?(w(),O("div",rm,[l("div",im,[b(" Tercatat: "+u(t(F)(v.row.old_quantity))+" ",1),_[9]||(_[9]=l("br",null,null,-1)),b(" Selisih: "+u(t(F)(v.row.new_quantity-v.row.old_quantity)),1)])])):z("",!0)]),_:2},1032,["props"])]),"body-cell-new_quantity":a(v=>[e(L,{props:v},{default:a(()=>[e(X,{modelValue:v.row[v.col.name],"onUpdate:modelValue":x=>v.row[v.col.name]=x,modelModifiers:{number:!0},"input-class":"text-right",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(I,{icon:"save",onClick:_[5]||(_[5]=v=>p("save")),label:"Simpan",color:"primary",disable:t(f).processing},null,8,["disable"]),e(I,{icon:"done_all",onClick:_[6]||(_[6]=v=>p("close")),label:"Selesaikan",color:"green",disable:t(f).processing},null,8,["disable"]),e(I,{icon:"close",onClick:_[7]||(_[7]=v=>p("cancel")),label:"Batalkan",color:"red",disable:t(f).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},dm=Object.freeze(Object.defineProperty({__proto__:null,default:um},Symbol.toStringTag,{value:"Module"})),mm={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},cm={class:"q-pa-sm"},pm={class:"full-width row flex-center text-grey-8 q-gutter-sm"},fm={key:0,class:"flex q-gutter-xs"},gm={class:"flex q-col-gutter-xs"},bm={key:0},_m={key:1},vm={class:"flex justify-end"},Ia="Penyesuaian Stok",ym={__name:"Index",setup(c){const n=$([]),f=$(!0),o=$(!1),s=$(null),p=$(null),r=je(p),i=Me({search:"",status:"all",type:"all",...Ie()}),m=[{value:"all",label:"Semua"},...Re(window.CONSTANTS.STOCKADJUSTMENT_STATUSES)],y=[{value:"all",label:"Semua"},...Re(window.CONSTANTS.STOCKADJUSTMENT_TYPES)],_=$({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),k=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"status",label:"Status",field:"status",align:"center",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!1},{name:"total_cost",label:"Total Modal",field:"total_cost",align:"right",sortable:!1},{name:"total_price",label:"Total Harga",field:"total_price",align:"right",sortable:!1},{name:"notes",label:"Notes",field:"notes",align:"left",sortable:!1},{name:"action",align:"right"}];ye(()=>{v()});const d=h=>Fe({message:`Hapus Transaksi #${h.id}?`,url:route("admin.stock-adjustment.delete",h.id),fetchItemsCallback:v,loading:f}),v=(h=null)=>Oe({pagination:_,filter:i,props:h,rows:n,url:route("admin.stock-adjustment.data"),loading:f,tableRef:s}),x=()=>{v()},g=h=>{h.status=="draft"?Y.get(route("admin.stock-adjustment.editor",h.id)):Y.get(route("admin.stock-adjustment.detail",h.id))},j=we(),q=ee(()=>j.screen.gt.sm?k:k.filter(h=>h.name==="id"||h.name==="action"));return(h,T)=>{const P=H("i-head"),V=H("authenticated-layout");return w(),O(W,null,[e(P,{title:Ia}),e(V,null,Be({"right-button":a(()=>[e(I,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:T[0]||(T[0]=R=>o.value=!o.value)},null,8,["icon"]),e(I,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:T[1]||(T[1]=R=>t(Y).get(h.route("admin.stock-adjustment.create")))})]),title:a(()=>[b(u(Ia))]),default:a(()=>[l("div",cm,[e(ke,{ref_key:"tableRef",ref:s,flat:"",bordered:"",square:"",color:"primary",class:"full-height-table stock-adjustment-list","row-key":"id","virtual-scroll":"",pagination:_.value,"onUpdate:pagination":T[6]||(T[6]=R=>_.value=R),filter:i.search,loading:f.value,columns:q.value,rows:n.value,"rows-per-page-options":[10,25,50],style:Le({height:t(r)}),onRequest:v,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:R,message:S,filter:E})=>[l("div",pm,[l("span",null,u(S)+" "+u(E?" with term "+E:""),1)])]),body:a(R=>[e(ve,{props:R,onClick:S=>g(R.row),class:"cursor-pointer"},{default:a(()=>[e(L,{key:"id",props:R},{default:a(()=>[t(j).screen.lt.md?(w(),O(W,{key:1},[l("div",gm,[l("div",null,[l("b",null,"#"+u(R.row.id),1)]),l("div",null,[e(C,{name:"history"}),b(" "+u(h.$dayjs(new Date(R.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),e(El,{dense:"",size:"sm",color:R.row.status==="draft"?"orange":R.row.status==="closed"?"green":R.row.status==="canceled"?"red":"",icon:R.row.status==="draft"?"emergency":R.row.status==="closed"?"check":R.row.status==="canceled"?"close":""},{default:a(()=>[b(u(h.$CONSTANTS.STOCKADJUSTMENT_STATUSES[R.row.status]),1)]),_:2},1032,["color","icon"])]),l("div",null,[e(C,{name:"category"}),b(" "+u(h.$CONSTANTS.STOCKADJUSTMENT_TYPES[R.row.type]),1)]),R.row.created_by?(w(),O("div",bm,[e(C,{name:"person"}),T[7]||(T[7]=b(" Dibuat: ")),l("b",null,u(R.row.created_by.username),1),e(C,{name:"history"}),b(" "+u(h.$dayjs(new Date(R.row.created_at)).format("DD/MM/YYYY HH:mm")),1)])):z("",!0),R.row.updated_by?(w(),O("div",_m,[e(C,{name:"person"}),T[8]||(T[8]=b(" Diperbarui: ")),l("b",null,u(R.row.updated_by.username),1),e(C,{name:"history"}),b(" "+u(h.$dayjs(new Date(R.row.updated_at)).format("DD/MM/YYYY HH:mm")),1)])):z("",!0),l("div",{class:_e(R.row.total_cost<0?"text-red-10":R.row.total_cost>0?"text-green-10":"")},[e(C,{name:"money"}),b(" Rp. "+u(t(F)(R.row.total_cost))+" / Rp. "+u(t(F)(R.row.total_price)),1)],2)],64)):(w(),O("div",fm,[l("div",null,[l("b",null,"#"+u(R.row.id),1)])]))]),_:2},1032,["props"]),e(L,{key:"datetime",props:R},{default:a(()=>[b(u(h.$dayjs(new Date(R.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),_:2},1032,["props"]),e(L,{key:"status",props:R,class:"text-center"},{default:a(()=>[b(u(h.$CONSTANTS.STOCKADJUSTMENT_STATUSES[R.row.status]),1)]),_:2},1032,["props"]),e(L,{key:"type",props:R},{default:a(()=>[b(u(h.$CONSTANTS.STOCKADJUSTMENT_TYPES[R.row.type]),1)]),_:2},1032,["props"]),e(L,{key:"total_cost",props:R},{default:a(()=>[l("div",{class:_e(R.row.total_cost<0?"text-red-10":R.row.total_cost>0?"text-green-10":"")},u(t(F)(R.row.total_cost)),3)]),_:2},1032,["props"]),e(L,{key:"total_price",props:R},{default:a(()=>[l("div",{class:_e(R.row.total_price<0?"text-red-10":R.row.total_price>0?"text-green-10":"")},u(t(F)(R.row.total_price)),3)]),_:2},1032,["props"]),e(L,{key:"notes",props:R},{default:a(()=>[b(u(R.row.notes),1)]),_:2},1032,["props"]),e(L,{key:"action",props:R},{default:a(()=>[l("div",vm,[e(I,{icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:T[5]||(T[5]=J(()=>{},["stop"]))},{default:a(()=>[e(He,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[K((w(),D(Z,{onClick:J(S=>d(R.row),["stop"]),clickable:"",disabled:!t(Ke)(h.$CONSTANTS.USER_ROLE_ADMIN)},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:a(()=>T[9]||(T[9]=[b("Hapus")])),_:1})]),_:2},1032,["onClick","disabled"])),[[oe],[ue]])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[o.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:a(()=>[l("div",mm,[e(se,{modelValue:i.status,"onUpdate:modelValue":[T[2]||(T[2]=R=>i.status=R),x],options:m,label:"Status",dense:"","map-options":"",class:"custom-select col-xs-12 col-sm-2","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{modelValue:i.type,"onUpdate:modelValue":[T[3]||(T[3]=R=>i.type=R),x],options:y,label:"Jenis",dense:"",class:"custom-select col-xs-12 col-sm-2","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:i.search,"onUpdate:modelValue":T[4]||(T[4]=R=>i.search=R),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},wm=Object.freeze(Object.defineProperty({__proto__:null,default:ym},Symbol.toStringTag,{value:"Module"})),km={class:"q-gutter-sm"},hm={class:"q-gutter-sm"},Sm={class:"col col-lg-6 q-pa-sm"},$m={class:"row"},xm={class:"detail"},Oa="Rincian Pemasok",Vm={__name:"Detail",setup(c){const n=fe();return(f,o)=>{const s=H("i-head"),p=H("authenticated-layout");return w(),O(W,null,[e(s,{title:Oa}),e(p,null,{title:a(()=>[b(u(Oa))]),"left-button":a(()=>[l("div",km,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=r=>t(Y).get(f.route("admin.supplier.index")))})])]),"right-button":a(()=>[l("div",hm,[e(I,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=r=>t(Y).get(f.route("admin.supplier.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",Sm,[l("div",$m,[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,null,{default:a(()=>[o[14]||(o[14]=l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Info Pemasok ",-1)),l("table",xm,[l("tbody",null,[l("tr",null,[o[2]||(o[2]=l("td",{style:{width:"70px"}},"Nama",-1)),o[3]||(o[3]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[o[4]||(o[4]=l("td",null,"Telepon",-1)),o[5]||(o[5]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.phone),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"Alamat",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.address),1)]),l("tr",null,[o[8]||(o[8]=l("td",null,"No. Rek",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.bank_account_number),1)]),l("tr",null,[o[10]||(o[10]=l("td",null,"Alamat Return",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.return_address),1)]),l("tr",null,[o[12]||(o[12]=l("td",null,"Status",-1)),o[13]||(o[13]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Cm=Object.freeze(Object.defineProperty({__proto__:null,default:Vm},Symbol.toStringTag,{value:"Module"})),qm={class:"q-gutter-sm"},Tm={class:"col col-lg-6 q-pa-sm"},Pm={style:{"margin-left":"-10px"}},Nm={__name:"Editor",setup(c){const n=fe(),f=(n.props.data.id?"Edit":"Tambah")+" Pemasok",o=Ce({id:n.props.data.id,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,bank_account_number:n.props.data.bank_account_number,return_address:n.props.data.return_address,active:!!n.props.data.active}),s=()=>Ne({form:o,url:route("admin.supplier.save")});return(p,r)=>{const i=H("i-head"),m=H("authenticated-layout");return w(),O(W,null,[e(i,{title:f}),e(m,null,{title:a(()=>[b(u(f))]),"left-button":a(()=>[l("div",qm,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=y=>t(Y).get(p.route("admin.supplier.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",Tm,[e(Pe,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(Ue)},{default:a(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,null,{default:a(()=>r[9]||(r[9]=[l("div",{class:"text-subtitle1"},"Info Supplier",-1)])),_:1}),e(te,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=y=>t(o).id=y)},null,512),[[Qe,t(o).id]]),e(X,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=y=>t(o).name=y),modelModifiers:{trim:!0},label:"Nama","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(o).phone,"onUpdate:modelValue":r[3]||(r[3]=y=>t(o).phone=y),modelModifiers:{trim:!0},type:"text",label:"No HP","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.phone,"error-message":t(o).errors.phone,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(X,{modelValue:t(o).address,"onUpdate:modelValue":r[4]||(r[4]=y=>t(o).address=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.address,"error-message":t(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(X,{modelValue:t(o).bank_account_number,"onUpdate:modelValue":r[5]||(r[5]=y=>t(o).bank_account_number=y),modelModifiers:{trim:!0},type:"text",label:"No Rek","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.bank_account_number,"error-message":t(o).errors.bank_account_number,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(X,{modelValue:t(o).return_address,"onUpdate:modelValue":r[6]||(r[6]=y=>t(o).return_address=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat Return","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.return_address,"error-message":t(o).errors.return_address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),l("div",Pm,[e(St,{class:"full-width q-pl-none",modelValue:t(o).active,"onUpdate:modelValue":r[7]||(r[7]=y=>t(o).active=y),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"])])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(I,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(I,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[8]||(r[8]=y=>t(Y).get(p.route("admin.supplier.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Im=Object.freeze(Object.defineProperty({__proto__:null,default:Nm},Symbol.toStringTag,{value:"Module"})),Om={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Mm={class:"q-pa-sm"},Rm={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Em={class:"flex justify-end"},Ma="Pemasok",Um={__name:"Index",setup(c){const n=we(),f=$(!1),o=$([]),s=$(!0),p=$(null),r=$(null),i=je(r),m=Me({search:"",status:"active",...Ie()}),y=$({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),_=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"phone",label:"No HP",field:"phone",align:"left",sortable:!0},{name:"address",label:"Alamat",field:"address",align:"left",sortable:!0},{name:"bank_account_number",label:"No Rek",field:"bank_account_number",align:"left",sortable:!0},{name:"action",align:"right"}],k=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];ye(()=>{v()});const d=q=>Fe({message:`Hapus pemasok ${q.name}?`,url:route("admin.supplier.delete",q.id),fetchItemsCallback:v,loading:s}),v=(q=null)=>{Oe({pagination:y,filter:m,props:q,rows:o,url:route("admin.supplier.data"),loading:s,tableRef:p})},x=()=>v(),g=q=>Y.get(route("admin.supplier.detail",{id:q.id})),j=ee(()=>n.screen.gt.sm?_:_.filter(q=>q.name==="name"||q.name==="action"));return(q,h)=>{const T=H("i-head"),P=H("authenticated-layout");return w(),O(W,null,[e(T,{title:Ma}),e(P,null,Be({title:a(()=>[b(u(Ma))]),"right-button":a(()=>[e(I,{icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:h[0]||(h[0]=V=>f.value=!f.value)},null,8,["icon"]),e(I,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:h[1]||(h[1]=V=>t(Y).get(q.route("admin.supplier.add")))})]),default:a(()=>[l("div",Mm,[e(ke,{class:"full-height-table",ref_key:"tableRef",ref:p,s:"",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":h[5]||(h[5]=V=>y.value=V),filter:m.search,loading:s.value,columns:j.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Le({height:t(i)}),onRequest:v,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:V,message:R,filter:S})=>[l("div",Rm,[l("span",null,u(R)+" "+u(S?" with term "+S:""),1)])]),body:a(V=>[e(ve,{props:V,class:_e([V.row.active?"":"bg-red-1","cursor-pointer"]),onClick:R=>g(V.row)},{default:a(()=>[e(L,{key:"name",props:V,class:"wrap-column"},{default:a(()=>[l("div",null,[t(n).screen.lt.md?(w(),D(C,{key:0,name:"person"})):z("",!0),b(" "+u(V.row.name),1)]),t(n).screen.lt.md?(w(),O(W,{key:0},[l("div",null,[e(C,{name:"phone"}),b(" "+u(V.row.phone),1)]),l("div",null,[e(C,{name:"credit_card"}),b(" "+u(V.row.bank_account_number),1)]),l("div",null,[e(C,{name:"home_pin"}),b(" "+u(V.row.address),1)])],64)):z("",!0)]),_:2},1032,["props"]),e(L,{key:"phone",props:V},{default:a(()=>[b(u(V.row.phone),1)]),_:2},1032,["props"]),e(L,{key:"address",props:V},{default:a(()=>[b(u(V.row.address),1)]),_:2},1032,["props"]),e(L,{key:"bank_account_number",props:V},{default:a(()=>[b(u(V.row.bank_account_number),1)]),_:2},1032,["props"]),e(L,{key:"action",props:V},{default:a(()=>[l("div",Em,[e(I,{disabled:!t(Ke)(q.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:h[4]||(h[4]=J(()=>{},["stop"]))},{default:a(()=>[e(He,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[K((w(),D(Z,{clickable:"",onClick:J(R=>t(Y).get(q.route("admin.supplier.duplicate",V.row.id)),["stop"])},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:a(()=>h[6]||(h[6]=[b(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]]),K((w(),D(Z,{clickable:"",onClick:J(R=>t(Y).get(q.route("admin.supplier.edit",V.row.id)),["stop"])},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:a(()=>h[7]||(h[7]=[b("Edit")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]]),K((w(),D(Z,{onClick:J(R=>d(V.row),["stop"]),clickable:""},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:a(()=>h[8]||(h[8]=[b("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[f.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",Om,[e(se,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:m.status,"onUpdate:modelValue":[h[2]||(h[2]=V=>m.status=V),x],options:k,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":h[3]||(h[3]=V=>m.search=V),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Am=Object.freeze(Object.defineProperty({__proto__:null,default:Um},Symbol.toStringTag,{value:"Module"})),Dm={class:"q-gutter-sm"},jm={class:"q-gutter-sm"},Bm={class:"row justify-center"},Lm={class:"col col-lg-6 q-pa-sm"},zm={class:"row"},Hm={class:"detail"},Fm={key:0},Ra="Rincian Pengguna",Ym={__name:"Detail",setup(c){const n=fe();return(f,o)=>{const s=H("i-head"),p=H("authenticated-layout");return w(),O(W,null,[e(s,{title:Ra}),e(p,null,{title:a(()=>[b(u(Ra))]),"left-button":a(()=>[l("div",Dm,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=r=>f.$inertia.get(f.route("admin.user.index")))})])]),"right-button":a(()=>[l("div",jm,[e(I,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=r=>f.$inertia.get(f.route("admin.user.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[l("div",Bm,[l("div",Lm,[l("div",zm,[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,null,{default:a(()=>[o[17]||(o[17]=l("div",{class:"text-subtitle1 text-bold text-grey-9"}," Profil Pengguna ",-1)),l("table",Hm,[l("tbody",null,[l("tr",null,[o[2]||(o[2]=l("td",{style:{width:"125px"}},"ID Pengguna",-1)),o[3]||(o[3]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.username),1)]),l("tr",null,[o[4]||(o[4]=l("td",null,"Nama Pengguna",-1)),o[5]||(o[5]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"Hak Akses",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,u(f.$CONSTANTS.USER_ROLES[t(n).props.data.role]),1)]),l("tr",null,[o[8]||(o[8]=l("td",null,"Dibuat",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,u(f.$dayjs(t(n).props.data.created_at).format("DD MMMM YY HH:mm:ss")),1)]),l("tr",null,[o[10]||(o[10]=l("td",null,"Diperbarui",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,u(f.$dayjs(t(n).props.data.updated_at).format("DD MMMM YY HH:mm:ss")),1)]),l("tr",null,[o[12]||(o[12]=l("td",null,"Terakhir login",-1)),o[13]||(o[13]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.last_login_datetime?f.$dayjs(t(n).props.data.last_login_datetime).format("DD MMMM YYYY HH:mm:ss"):"Belum pernah login"),1)]),t(n).props.data.last_activity_datetime?(w(),O("tr",Fm,[o[15]||(o[15]=l("td",null,"Aktifitas Terakhir",-1)),o[16]||(o[16]=l("td",null,":",-1)),l("td",null,[b(u(f.$dayjs(t(n).props.data.last_activity_datetime).format("DD MMMM YYYY HH:mm:ss"))+" ",1),o[14]||(o[14]=l("br",null,null,-1)),b(u(t(n).props.data.last_activity_description),1)])])):z("",!0)])])]),_:1})]),_:1})])])])]),_:1})],64)}}},Km=Object.freeze(Object.defineProperty({__proto__:null,default:Ym},Symbol.toStringTag,{value:"Module"}));function Qm(c){return new RegExp("^(?=.{3,16}$)(?![_-])(?!.*[_-]{2})[a-zA-Z0-9_-]+(?<![_-])$").test(c)}const Wm={class:"q-gutter-sm"},Jm={class:"row justify-center"},Gm={class:"col col-lg-6 q-pa-sm"},Xm={__name:"Editor",setup(c){const n=Re(window.CONSTANTS.USER_ROLES),f=fe(),o=f.props.data.id?"Edit Pengguna":"Tambah Pengguna",s=Ce({id:f.props.data.id,name:f.props.data.name,username:f.props.data.username,password:"",role:f.props.data.role?f.props.data.role:n[0].value,active:!!f.props.data.active}),p=()=>Ne({form:s,url:route("admin.user.save")});return(r,i)=>{const m=H("i-head"),y=H("authenticated-layout");return w(),O(W,null,[e(m,{title:t(o)},null,8,["title"]),e(y,null,{title:a(()=>[b(u(t(o)),1)]),"left-button":a(()=>[l("div",Wm,[e(I,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=_=>r.$inertia.get(r.route("admin.user.index")))})])]),default:a(()=>[l("div",Jm,[l("div",Gm,[e(Pe,{class:"row",onSubmit:J(p,["prevent"])},{default:a(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(te,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":i[1]||(i[1]=_=>t(s).id=_)},null,512),[[Qe,t(s).id]]),e(X,{modelValue:t(s).name,"onUpdate:modelValue":i[2]||(i[2]=_=>t(s).name=_),modelModifiers:{trim:!0},label:"Nama",error:!!t(s).errors.name,disable:t(s).processing,"error-message":t(s).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(s).username,"onUpdate:modelValue":i[3]||(i[3]=_=>t(s).username=_),modelModifiers:{trim:!0},type:"text",label:"ID Pengguna","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.username,"error-message":t(s).errors.username,rules:[_=>_&&_.length>0||"ID Pengguna harus diisi.",_=>t(Qm)(_)||"ID Pengguna tidak valid."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(X,{modelValue:t(s).password,"onUpdate:modelValue":i[4]||(i[4]=_=>t(s).password=_),type:"password",label:"Kata Sandi","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.password,"error-message":t(s).errors.password,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(se,{modelValue:t(s).role,"onUpdate:modelValue":i[5]||(i[5]=_=>t(s).role=_),label:"Hak Akses",options:t(n),"map-options":"","emit-value":"","lazy-rules":"",disable:t(s).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!t(s).errors.role,"error-message":t(s).errors.role,"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"]),e(Kt,{modelValue:t(s).active,"onUpdate:modelValue":i[6]||(i[6]=_=>t(s).active=_),disable:t(s).processing,label:"Aktif"},null,8,["modelValue","disable"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:a(()=>[e(I,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing,onClick:p},null,8,["disable"]),e(I,{icon:"cancel",label:"Batal",class:"text-black",disable:t(s).processing,onClick:i[7]||(i[7]=_=>t(Y).get(r.route("admin.user.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})],64)}}},Zm=Object.freeze(Object.defineProperty({__proto__:null,default:Xm},Symbol.toStringTag,{value:"Module"})),ec={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},tc={class:"q-pa-sm"},ac={class:"full-width row flex-center text-grey-8 q-gutter-sm"},lc={class:"elipsis",style:{"max-width":"200px"}},oc={class:"flex justify-end"},Ea="Pengguna",nc={__name:"Index",setup(c){const n=[{value:"all",label:"Semua"},...Re(window.CONSTANTS.USER_ROLES)],f=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],o=fe(),s=we(),p=o.props.auth.user,r=$([]),i=$(!0),m=$(!1),y=Me({role:"all",status:"active",search:""}),_=$({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"username",descending:!1}),k=[{name:"username",label:"ID Pengguna",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"role",label:"Hak Akses",field:"role",align:"center",sortable:!0},{name:"action",align:"right"}];ye(()=>{v()});const d=()=>v(),v=(P=null)=>Oe({pagination:_,props:P,rows:r,loading:i,filter:y,url:route("admin.user.data"),tableRef:q}),x=P=>Fe({url:route("admin.user.delete",P.id),message:`Hapus pengguna ${P.username}?`,fetchItemsCallback:v,loading:i}),g=ee(()=>s.screen.gt.sm?k:k.filter(P=>P.name==="username"||P.name==="action")),j=P=>Y.get(route("admin.user.detail",P.id)),q=$(null),h=$(null),T=je(h);return(P,V)=>{const R=H("i-head"),S=H("authenticated-layout");return w(),O(W,null,[e(R,{title:Ea}),e(S,null,Be({title:a(()=>[b(u(Ea))]),"right-button":a(()=>[e(I,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:V[0]||(V[0]=E=>m.value=!m.value)},null,8,["icon"]),e(I,{icon:"add",dense:"",rounded:"",color:"primary",class:"q-ml-sm",onClick:V[1]||(V[1]=E=>t(Y).get(P.route("admin.user.add")))})]),default:a(()=>[l("div",tc,[e(ke,{ref_key:"tableRef",ref:q,class:"full-height-table",style:Le({height:t(T)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:_.value,"onUpdate:pagination":V[6]||(V[6]=E=>_.value=E),filter:y.search,loading:i.value,columns:g.value,rows:r.value,"rows-per-page-options":[10,25,50],onRequest:v,"binary-state-sort":""},{loading:a(()=>[e(Ee,{showing:"",color:"red"})]),"no-data":a(({icon:E,message:Q,term:A})=>[l("div",ac,[l("span",null,u(Q)+" "+u(A?" with term "+A:""),1)])]),body:a(E=>[e(ve,{props:E,class:_e([E.row.active?"":"bg-red-1","cursor-pointer"]),onClick:Q=>j(E.row)},{default:a(()=>[e(L,{key:"username",props:E},{default:a(()=>[l("div",null,u(E.row.username),1),t(s).screen.gt.sm?z("",!0):(w(),O(W,{key:0},[l("div",null,[e(C,{name:"person"}),b(" "+u(E.row.name),1)]),l("div",lc,[e(C,{name:"group"}),l("span",null,u(P.$CONSTANTS.USER_ROLES[E.row.role]),1)])],64))]),_:2},1032,["props"]),e(L,{key:"name",props:E},{default:a(()=>[b(u(E.row.name),1)]),_:2},1032,["props"]),e(L,{key:"role",props:E,align:"center"},{default:a(()=>[l("span",null,u(P.$CONSTANTS.USER_ROLES[E.row.role]),1)]),_:2},1032,["props"]),e(L,{key:"action",props:E},{default:a(()=>[l("div",oc,[e(I,{disable:E.row.id==t(p).id||E.row.username=="admin",icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:V[5]||(V[5]=J(()=>{},["stop"]))},{default:a(()=>[e(He,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[K((w(),D(Z,{clickable:"",onClick:J(Q=>t(Y).get(P.route("admin.user.duplicate",E.row.id)),["stop"])},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:a(()=>V[7]||(V[7]=[b(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]]),K((w(),D(Z,{clickable:"",onClick:J(Q=>t(Y).get(P.route("admin.user.edit",E.row.id)),["stop"])},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:a(()=>V[8]||(V[8]=[b("Edit")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]]),K((w(),D(Z,{onClick:J(Q=>x(E.row),["stop"]),clickable:""},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(N,null,{default:a(()=>V[9]||(V[9]=[b("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ue]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disable"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[m.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:h},{default:a(()=>[l("div",ec,[e(se,{modelValue:y.role,"onUpdate:modelValue":[V[2]||(V[2]=E=>y.role=E),d],class:"custom-select col-xs-12 col-sm-2",options:n,label:"Role",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(se,{modelValue:y.status,"onUpdate:modelValue":[V[3]||(V[3]=E=>y.status=E),d],class:"custom-select col-xs-12 col-sm-2",options:f,label:"Status",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:y.search,"onUpdate:modelValue":V[4]||(V[4]=E=>y.search=E),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},sc=Object.freeze(Object.defineProperty({__proto__:null,default:nc},Symbol.toStringTag,{value:"Module"})),rc=rt({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(c,{slots:n,emit:f}){let o=!1,s,p,r=null,i=null,m,y;function _(){s&&s(),s=null,o=!1,r!==null&&(clearTimeout(r),r=null),i!==null&&(clearTimeout(i),i=null),p!==void 0&&p.removeEventListener("transitionend",m),m=null}function k(g,j,q){j!==void 0&&(g.style.height=`${j}px`),g.style.transition=`height ${c.duration}ms cubic-bezier(.25, .8, .50, 1)`,o=!0,s=q}function d(g,j){g.style.overflowY=null,g.style.height=null,g.style.transition=null,_(),j!==y&&f(j)}function v(g,j){let q=0;p=g,o===!0?(_(),q=g.offsetHeight===g.scrollHeight?0:void 0):(y="hide",g.style.overflowY="hidden"),k(g,q,j),r=setTimeout(()=>{r=null,g.style.height=`${g.scrollHeight}px`,m=h=>{i=null,(Object(h)!==h||h.target===g)&&d(g,"show")},g.addEventListener("transitionend",m),i=setTimeout(m,c.duration*1.1)},100)}function x(g,j){let q;p=g,o===!0?_():(y="show",g.style.overflowY="hidden",q=g.scrollHeight),k(g,q,j),r=setTimeout(()=>{r=null,g.style.height=0,m=h=>{i=null,(Object(h)!==h||h.target===g)&&d(g,"hide")},g.addEventListener("transitionend",m),i=setTimeout(m,c.duration*1.1)},100)}return Mt(()=>{o===!0&&_()}),()=>pe(za,{css:!1,appear:c.appear,onEnter:v,onLeave:x},n.default)}}),tt=ao({}),ic=Object.keys(La),at=rt({name:"QExpansionItem",props:{...La,...Al,...Da,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Ul,"click","afterShow","afterHide"],setup(c,{slots:n,emit:f}){const{proxy:{$q:o}}=Ct(),s=ja(c,o),p=$(c.modelValue!==null?c.modelValue:c.defaultOpened),r=$(null),i=Dl(),{show:m,hide:y,toggle:_}=jl({showing:p});let k,d;const v=ee(()=>`q-expansion-item q-item-type q-expansion-item--${p.value===!0?"expanded":"collapsed"} q-expansion-item--${c.popup===!0?"popup":"standard"}`),x=ee(()=>c.contentInsetLevel===void 0?null:{["padding"+(o.lang.rtl===!0?"Right":"Left")]:c.contentInsetLevel*56+"px"}),g=ee(()=>c.disable!==!0&&(c.href!==void 0||c.to!==void 0&&c.to!==null&&c.to!=="")),j=ee(()=>{const le={};return ic.forEach(he=>{le[he]=c[he]}),le}),q=ee(()=>g.value===!0||c.expandIconToggle!==!0),h=ee(()=>c.expandedIcon!==void 0&&p.value===!0?c.expandedIcon:c.expandIcon||o.iconSet.expansionItem[c.denseToggle===!0?"denseIcon":"icon"]),T=ee(()=>c.disable!==!0&&(g.value===!0||c.expandIconToggle===!0)),P=ee(()=>({expanded:p.value===!0,detailsId:i.value,toggle:_,show:m,hide:y})),V=ee(()=>{const le=c.toggleAriaLabel!==void 0?c.toggleAriaLabel:o.lang.label[p.value===!0?"collapse":"expand"](c.label);return{role:"button","aria-expanded":p.value===!0?"true":"false","aria-controls":i.value,"aria-label":le}});Ve(()=>c.group,le=>{d!==void 0&&d(),le!==void 0&&ae()});function R(le){g.value!==!0&&_(le),f("click",le)}function S(le){le.keyCode===13&&E(le,!0)}function E(le,he){he!==!0&&r.value!==null&&r.value.focus(),_(le),ht(le)}function Q(){f("afterShow")}function A(){f("afterHide")}function ae(){k===void 0&&(k=Bl()),p.value===!0&&(tt[c.group]=k);const le=Ve(p,ze=>{ze===!0?tt[c.group]=k:tt[c.group]===k&&delete tt[c.group]}),he=Ve(()=>tt[c.group],(ze,yt)=>{yt===k&&ze!==void 0&&ze!==k&&y()});d=()=>{le(),he(),tt[c.group]===k&&delete tt[c.group],d=void 0}}function B(){const le={class:[`q-focusable relative-position cursor-pointer${c.denseToggle===!0&&c.switchToggleSide===!0?" items-end":""}`,c.expandIconClass],side:c.switchToggleSide!==!0,avatar:c.switchToggleSide},he=[pe(C,{class:"q-expansion-item__toggle-icon"+(c.expandedIcon===void 0&&p.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:h.value})];return T.value===!0&&(Object.assign(le,{tabindex:0,...V.value,onClick:E,onKeyup:S}),he.unshift(pe("div",{ref:r,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),pe(N,le,()=>he)}function M(){let le;return n.header!==void 0?le=[].concat(n.header(P.value)):(le=[pe(N,()=>[pe(me,{lines:c.labelLines},()=>c.label||""),c.caption?pe(me,{lines:c.captionLines,caption:!0},()=>c.caption):null])],c.icon&&le[c.switchToggleSide===!0?"push":"unshift"](pe(N,{side:c.switchToggleSide===!0,avatar:c.switchToggleSide!==!0},()=>pe(C,{name:c.icon})))),c.disable!==!0&&c.hideExpandIcon!==!0&&le[c.switchToggleSide===!0?"unshift":"push"](B()),le}function U(){const le={ref:"item",style:c.headerStyle,class:c.headerClass,dark:s.value,disable:c.disable,dense:c.dense,insetLevel:c.headerInsetLevel};return q.value===!0&&(le.clickable=!0,le.onClick=R,Object.assign(le,g.value===!0?j.value:V.value)),pe(Z,le,M)}function re(){return K(pe("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:x.value,id:i.value},Vt(n.default)),[[Ha,p.value]])}function ie(){const le=[U(),pe(rc,{duration:c.duration,onShow:Q,onHide:A},re)];return c.expandSeparator===!0&&le.push(pe(We,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:s.value}),pe(We,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:s.value})),le}return c.group!==void 0&&ae(),Mt(()=>{d!==void 0&&d()}),()=>pe("div",{class:v.value},[pe("div",{class:"q-expansion-item__container relative-position"},ie())])}}),uc={class:"absolute-top",style:{height:"50px","border-bottom":"1px solid #ddd","align-items":"center","justify-content":"center"}},dc={style:{width:"100%",padding:"8px",display:"flex","justify-content":"space-between"}},mc={class:"text-bold"},cc={class:"text-grey-8 text-caption"},pc={class:"absolute-bottom text-grey-6 q-pa-md"},zt="amanah-pos.layout.left-drawer-open",fc={__name:"AuthenticatedLayout",setup(c){const n=we(),f=fe(),o=$(JSON.parse(localStorage.getItem(zt))),s=$(!1),p=()=>o.value=!o.value;return Ve(o,r=>{localStorage.setItem(zt,r)}),ye(()=>{o.value=JSON.parse(localStorage.getItem(zt)),n.screen.lt.md&&(o.value=!1)}),(r,i)=>(w(),D(Ql,{view:"lHh LpR lFf"},{default:a(()=>[e(Ll,null,{default:a(()=>[e(Ae,{class:"bg-grey-1 text-black toolbar-scrolled"},{default:a(()=>[o.value?z("",!0):(w(),D(I,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:p},{default:a(()=>[e(C,{class:"material-symbols-outlined"},{default:a(()=>i[21]||(i[21]=[b("dock_to_right")])),_:1})]),_:1})),lt(r.$slots,"left-button",{},void 0,!0),e(zl,{class:_e({"q-ml-sm":o.value}),style:{"font-size":"18px"}},{default:a(()=>[lt(r.$slots,"title",{},()=>[b(u(r.$config.APP_NAME),1)],!0)]),_:3},8,["class"]),lt(r.$slots,"right-button",{},void 0,!0)]),_:3}),lt(r.$slots,"header",{},void 0,!0)]),_:3}),e(Hl,{breakpoint:768,modelValue:o.value,"onUpdate:modelValue":i[20]||(i[20]=m=>o.value=m),bordered:"",class:"bg-grey-2",style:{color:"#444"}},{default:a(()=>[l("div",uc,[l("div",dc,[e(Fl,{modelValue:s.value,"onUpdate:modelValue":i[2]||(i[2]=m=>s.value=m),class:_e(["profile-btn text-bold",{"profile-btn-active":s.value}]),flat:"",label:t(f).props.company.name,style:{"justify-content":"space-between","flex-grow":"1",overflow:"hidden"}},{default:a(()=>[e(Te,{id:"profile-btn-popup",style:{color:"#444"}},{default:a(()=>[e(Z,null,{default:a(()=>[e(mt,{style:{"margin-left":"-15px"}},{default:a(()=>[e(C,{name:"person"})]),_:1}),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>[l("div",mc,u(t(f).props.auth.user.name),1),l("div",cc,u(r.$CONSTANTS.USER_ROLES[t(f).props.auth.user.role])+" @ "+u(t(f).props.company.name),1)]),_:1})]),_:1})]),_:1}),e(We),K((w(),D(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/profile"),onClick:i[0]||(i[0]=m=>t(Y).get(r.route("admin.profile.edit")))},{default:a(()=>[e(N,null,{default:a(()=>[e(me,null,{default:a(()=>[e(C,{name:"manage_accounts",class:"q-mr-sm"}),i[22]||(i[22]=b(" Profil Saya"))]),_:1})]),_:1})]),_:1},8,["active"])),[[ue],[oe]]),r.$can("admin.company-profile.edit")?K((w(),D(Z,{key:0,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/company-profile"),onClick:i[1]||(i[1]=m=>t(Y).get(r.route("admin.company-profile.edit")))},{default:a(()=>[e(N,null,{default:a(()=>[e(me,null,{default:a(()=>[e(C,{name:"home_work",class:"q-mr-sm"}),i[23]||(i[23]=b(" Profil Perusahaan"))]),_:1})]),_:1})]),_:1},8,["active"])),[[ue],[oe]]):z("",!0),e(We),K((w(),D(Z,{clickable:"",style:{color:"inherit"},href:r.route("admin.auth.logout")},{default:a(()=>[e(N,null,{default:a(()=>[e(me,null,{default:a(()=>[e(C,{name:"logout",class:"q-mr-sm"}),i[24]||(i[24]=b(" Keluar"))]),_:1})]),_:1})]),_:1},8,["href"])),[[ue],[oe]])]),_:1})]),_:1},8,["modelValue","label","class"]),o.value?(w(),D(I,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:p},{default:a(()=>[e(C,{name:"dock_to_right"})]),_:1})):z("",!0)])]),e(Yl,{style:{height:"calc(100% - 50px)","margin-top":"50px"}},{default:a(()=>[e(Te,{id:"main-nav",style:{"margin-bottom":"50px"}},{default:a(()=>[K((w(),D(Z,{clickable:"",active:r.$page.url.startsWith("/admin/dashboard"),onClick:i[3]||(i[3]=m=>t(Y).get(r.route("admin.dashboard")))},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"dashboard"})]),_:1}),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>i[25]||(i[25]=[b("Dashboard")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]),e(We),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(w(),D(at,{key:0,icon:"storefront",label:"Penjualan","default-opened":r.$page.url.startsWith("/admin/sales-orders")||r.$page.url.startsWith("/admin/customers")},{default:a(()=>[K((w(),D(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/sales-orders"),onClick:i[4]||(i[4]=m=>t(Y).get(r.route("admin.sales-order.index")))},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"shopping_cart"})]),_:1}),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>i[26]||(i[26]=[b("Penjualan")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]),K((w(),D(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/customers"),onClick:i[5]||(i[5]=m=>t(Y).get(r.route("admin.customer.index")))},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"people"})]),_:1}),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>i[27]||(i[27]=[b("Pelanggan")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]])]),_:1},8,["default-opened"])):z("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(w(),D(at,{key:1,icon:"local_shipping",label:"Pembelian","default-opened":r.$page.url.startsWith("/admin/purchase-orders")||r.$page.url.startsWith("/admin/suppliers")},{default:a(()=>[K((w(),D(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/purchase-orders"),onClick:i[6]||(i[6]=m=>t(Y).get(r.route("admin.purchase-order.index")))},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"shopping_cart"})]),_:1}),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>i[28]||(i[28]=[b("Pembelian")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]),K((w(),D(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/suppliers"),onClick:i[7]||(i[7]=m=>t(Y).get(r.route("admin.supplier.index")))},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"people"})]),_:1}),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>i[29]||(i[29]=[b("Pemasok")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]])]),_:1},8,["default-opened"])):z("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(w(),D(at,{key:2,icon:"inventory_2",label:"Inventori","default-opened":r.$page.url.startsWith("/admin/products")||r.$page.url.startsWith("/admin/product-categories")||r.$page.url.startsWith("/admin/stock-adjustments")},{default:a(()=>[K((w(),D(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/stock-adjustments"),onClick:i[8]||(i[8]=m=>t(Y).get(r.route("admin.stock-adjustment.index")))},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"swap_vert"})]),_:1}),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>i[30]||(i[30]=[b("Penyesuaian Stok")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]),K((w(),D(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/products"),onClick:i[9]||(i[9]=m=>t(Y).get(r.route("admin.product.index")))},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"box"})]),_:1}),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>i[31]||(i[31]=[b("Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]),K((w(),D(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/product-categories"),onClick:i[10]||(i[10]=m=>t(Y).get(r.route("admin.product-category.index")))},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"category"})]),_:1}),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>i[32]||(i[32]=[b("Kategori Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]])]),_:1},8,["default-opened"])):z("",!0),e(We),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(w(),D(at,{key:3,icon:"wallet",label:"Wallet","default-opened":r.$page.url.startsWith("/admin/customer-wallet-transactions")||r.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations")},{default:a(()=>[K((w(),D(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations"),onClick:i[11]||(i[11]=m=>t(Y).get(r.route("admin.customer-wallet-transaction-confirmation.index")))},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"add_task"})]),_:1}),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>i[33]||(i[33]=[b("Konfirmasi Top Up")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]),K((w(),D(Z,{class:"subnav",clickable:"",active:r.$page.url=="/admin/customer-wallet-transactions",onClick:i[12]||(i[12]=m=>t(Y).get(r.route("admin.customer-wallet-transaction.index")))},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"moving"})]),_:1}),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>i[34]||(i[34]=[b("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]])]),_:1},8,["default-opened"])):z("",!0),e(We),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(w(),D(at,{key:4,icon:"finance",label:"Keuangan","default-opened":r.$page.url.startsWith("/admin/finance-accounts")||r.$page.url.startsWith("/admin/finance-transactions")},{default:a(()=>[K((w(),D(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/finance-transactions"),onClick:i[13]||(i[13]=m=>t(Y).get(r.route("admin.finance-transaction.index")))},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"moving"})]),_:1}),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>i[35]||(i[35]=[b("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]),K((w(),D(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/finance-accounts"),onClick:i[14]||(i[14]=m=>t(Y).get(r.route("admin.finance-account.index")))},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"groups_2"})]),_:1}),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>i[36]||(i[36]=[b("Akun Kas")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]])]),_:1},8,["default-opened"])):z("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(w(),D(at,{key:5,icon:"paid",label:"Operasional","default-opened":r.$page.url.startsWith("/admin/operational-costs")||r.$page.url.startsWith("/admin/operational-cost-categories")},{default:a(()=>[K((w(),D(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/operational-costs"),onClick:i[15]||(i[15]=m=>t(Y).get(r.route("admin.operational-cost.index")))},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"request_quote"})]),_:1}),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>i[37]||(i[37]=[b("Biaya Operasional")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]),K((w(),D(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/operational-cost-categories"),onClick:i[16]||(i[16]=m=>t(Y).get(r.route("admin.operational-cost-category.index")))},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"category"})]),_:1}),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>i[38]||(i[38]=[b("Kategori")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]])]),_:1},8,["default-opened"])):z("",!0),e(We),e(at,{icon:"settings",label:"Pengaturan","default-opened":r.$page.url.startsWith("/admin/settings")},{default:a(()=>[r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?K((w(),D(Z,{key:0,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/users"),onClick:i[17]||(i[17]=m=>t(Y).get(r.route("admin.user.index")))},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"group"})]),_:1}),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>i[39]||(i[39]=[b("Pengguna")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]):z("",!0),K((w(),D(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/profile"),onClick:i[18]||(i[18]=m=>t(Y).get(r.route("admin.profile.edit")))},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"manage_accounts"})]),_:1}),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>i[40]||(i[40]=[b("Profil Saya")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?K((w(),D(Z,{key:1,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/company-profile"),onClick:i[19]||(i[19]=m=>t(Y).get(r.route("admin.company-profile.edit")))},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"apartment"})]),_:1}),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>i[41]||(i[41]=[b("Profil Maqsof")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]):z("",!0)]),_:1},8,["default-opened"]),e(We),K((w(),D(Z,{clickable:"",style:{color:"inherit"},href:r.route("customer.auth.logout")},{default:a(()=>[e(N,{avatar:""},{default:a(()=>[e(C,{name:"logout"})]),_:1}),e(N,null,{default:a(()=>[e(me,null,{default:a(()=>i[42]||(i[42]=[b("Logout")])),_:1})]),_:1})]),_:1},8,["href"])),[[ue],[oe]]),l("div",pc," © 2025 - "+u(r.$config.APP_NAME+" v"+r.$config.APP_VERSION_STR),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Kl,{class:"bg-grey-1"},{default:a(()=>[e(xe,null,{default:a(()=>[lt(r.$slots,"default",{},void 0,!0)]),_:3})]),_:3}),lt(r.$slots,"footer",{},void 0,!0)]),_:3}))}},gc=ft(fc,[["__scopeId","data-v-5701f378"]]),bc={__name:"GuestLayout",setup(c){return(n,f)=>(w(),D(Wl,null,{default:a(()=>[lt(n.$slots,"default")]),_:3}))}};Jl({layouts:{authenticated:gc,guest:bc},pagesGlob:Object.assign({"./pages/About.vue":bo,"./pages/_examples/Autocomplete1.vue":wo,"./pages/auth/Login.vue":Vo,"./pages/company-profile/Edit.vue":Io,"./pages/company-profile/partials/CompanyInfoForm.vue":Co,"./pages/customer-wallet-transaction-confirmation/Index.vue":Uo,"./pages/customer-wallet-transaction/Adjustment.vue":jo,"./pages/customer-wallet-transaction/Editor.vue":Ho,"./pages/customer-wallet-transaction/Index.vue":Go,"./pages/customer/Detail.vue":Vn,"./pages/customer/Editor.vue":Pn,"./pages/customer/Index.vue":En,"./pages/dashboard/Index.vue":es,"./pages/dashboard/cards/ChartCard.vue":ss,"./pages/dashboard/cards/SummaryCard.vue":bs,"./pages/dashboard/cards/TopCard.vue":ws,"./pages/finance-account/Detail.vue":Ps,"./pages/finance-account/Editor.vue":Es,"./pages/finance-account/Index.vue":Ks,"./pages/finance-transaction/Editor.vue":Gs,"./pages/finance-transaction/Index.vue":rr,"./pages/operational-cost-category/Editor.vue":mr,"./pages/operational-cost-category/Index.vue":vr,"./pages/operational-cost/Detail.vue":Cr,"./pages/operational-cost/Editor.vue":Mr,"./pages/operational-cost/Index.vue":zr,"./pages/product-category/Editor.vue":Kr,"./pages/product-category/Index.vue":ei,"./pages/product/Detail.vue":vi,"./pages/product/Editor.vue":Si,"./pages/product/Index.vue":Oi,"./pages/profile/Edit.vue":ji,"./pages/profile/partials/UpdatePasswordForm.vue":Mi,"./pages/profile/partials/UpdateProfileInformationForm.vue":Ri,"./pages/purchase-order/Editor.vue":ku,"./pages/purchase-order/Editor_v1.vue":$u,"./pages/purchase-order/Index.vue":Ou,"./pages/purchase-order/editor/ConfirmDeleteDialog.vue":mu,"./pages/purchase-order/editor/ItemsListTable.vue":au,"./pages/purchase-order/editor/SupplierEditorDialog.vue":cu,"./pages/purchase-order/editor/TransactionHeader.vue":Gi,"./pages/purchase-order/editor/TransactionSummary.vue":uu,"./pages/sales-order/Detail.vue":Eu,"./pages/sales-order/Editor.vue":qd,"./pages/sales-order/Index.vue":Ad,"./pages/sales-order/editor/CustomerEditorDialog.vue":Zu,"./pages/sales-order/editor/ItemEditorDialog.vue":fd,"./pages/sales-order/editor/ItemsListTable.vue":Ku,"./pages/sales-order/editor/PaymentDialog.vue":rd,"./pages/sales-order/editor/TransactionHeader.vue":Lu,"./pages/sales-order/editor/TransactionSummary.vue":Xu,"./pages/stock-adjustment/Create.vue":Kd,"./pages/stock-adjustment/Detail.vue":lm,"./pages/stock-adjustment/Editor.vue":dm,"./pages/stock-adjustment/Index.vue":wm,"./pages/supplier/Detail.vue":Cm,"./pages/supplier/Editor.vue":Im,"./pages/supplier/Index.vue":Am,"./pages/user/Detail.vue":Km,"./pages/user/Editor.vue":Zm,"./pages/user/Index.vue":sc})});
