import{_ as _t,r as Q,c as $,o as p,a as e,w as l,b as t,Q as ce,d as ae,e as _,F as K,f as V,g as I,h as k,i as ie,t as r,u as a,j as W,k as Ge,l as na,T as Me,m as No,n as Ve,p as Ne,q as X,s as tt,v as Wt,x as q,y as oe,z as j,A as mt,B as be,C as Fe,D as te,E as ut,G as it,H as ee,I as Bo,J as fa,K as Il,L as xt,M as G,N as sa,O as he,R as re,P as ke,S as Dl,U as zo,V as Fo,W as jt,X as ht,Y as ga,Z as ya,$ as Lo,a0 as je,a1 as Ho,a2 as Ko,a3 as Yo,a4 as Tt,a5 as Wo,a6 as Qo,a7 as ba,a8 as Nt,a9 as va,aa as Ra,ab as Jo,ac as ea,ad as Ia,ae as Go,af as Da,ag as Xo,ah as Ul,ai as Zo,aj as en,ak as tn,al as wa,am as ha,an,ao as qt,ap as ge,aq as Pe,ar as Re,as as Ie,at as $e,au as Ce,av as H,aw as we,ax as dt,ay as De,az as Te,aA as aa,aB as xe,aC as et,aD as We,aE as Le,aF as at,aG as Be,aH as Ye,aI as Ee,aJ as le,aK as N,aL as me,aM as ot,aN as Ae,aO as Qt,aP as ra,aQ as Gt,aR as zt,aS as Ft,aT as Pt,aU as Ot,aV as lt,aW as Ua,aX as Lt,aY as Aa,aZ as ia,a_ as Bt,a$ as Ht,b0 as $a,b1 as Xt,b2 as ct,b3 as ln,b4 as on,b5 as Al,b6 as nn,b7 as sn,b8 as rn,b9 as dn,ba as ja,bb as un,bc as mn,bd as cn,be as pn,bf as jl,bg as Ke,bh as fn,bi as Ea,bj as gn,bk as bn,bl as vn,bm as _n,bn as yn,bo as kn,bp as wn,bq as _e,br as Jt,bs as st,bt as hn,bu as $n,bv as xn,bw as El,bx as la,by as Sn,bz as Vn,bA as qn,bB as vt,bC as oa,bD as Rt,bE as Ml,bF as Nl,bG as Cn,bH as wt,bI as gt,bJ as bt,bK as Kt,bL as da,bM as Bl,bN as Tn,bO as Pn,bP as On,bQ as zl,bR as Rn,bS as In,bT as Dn,bU as At,bV as Un,bW as An,bX as jn,bY as En,bZ as Mn,b_ as Nn,b$ as Bn,c0 as zn,c1 as Fn,c2 as Ln}from"./virtual_pwa-register-GSvycRhC.js";const Hn={},Kn={class:"row"};function Yn(u,n){const d=Q("i-head"),o=Q("authenticated-layout");return p(),$(K,null,[e(d,{title:"About"}),e(o,null,{title:l(()=>n[0]||(n[0]=[_("About")])),default:l(()=>[t("div",Kn,[e(ce,{class:"col q-pa-md q-ma-md",square:"",flat:"",bordered:""},{default:l(()=>[e(ae,null,{default:l(()=>n[1]||(n[1]=[t("div",{class:"q-mb-md text-h4"},"About",-1),t("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Autem soluta, accusamus placeat eius eligendi perferendis quisquam veritatis iste debitis laboriosam facere et aliquam quos beatae illo distinctio rerum eos! Expedita, voluptatem. Aut nihil deleniti magni fuga eius labore aliquam nulla quod ullam sunt amet eum asperiores, harum unde eligendi tempore sapiente. Placeat sed, dignissimos voluptatum perspiciatis saepe aspernatur, maxime est, ipsam quas nobis cumque sunt labore molestias? Amet in sed ullam recusandae, nostrum dicta facilis blanditiis incidunt quae commodi soluta id impedit vel fugit illo, molestias reiciendis, provident nam molestiae! Ipsam, hic. Facere aut quisquam praesentium enim illum, pariatur nam.",-1),t("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, cum nulla. Ut eligendi tenetur aliquam cum mollitia repellat voluptas, fugiat doloremque sunt commodi enim excepturi distinctio id sapiente incidunt ipsam asperiores cupiditate, labore libero! Ad facere magni cumque perspiciatis, adipisci possimus pariatur quo nobis minus, est enim similique quaerat vel asperiores ipsam harum et, totam fugit.",-1),t("p",null,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Suscipit aspernatur maxime consectetur, consequatur excepturi facilis praesentium rem placeat sapiente, maiores doloribus modi voluptate. Unde autem dolor officiis numquam incidunt quasi aspernatur nam dolores ratione quidem recusandae, nulla qui provident molestias odit nemo praesentium quas voluptatem aliquid perferendis, iste veritatis vitae. Dolor, eligendi quidem distinctio asperiores doloremque culpa corporis quibusdam earum ex laudantium iure officia ullam nostrum maxime voluptatum laboriosam impedit labore illum. Culpa, veniam dolor odio ad eius nisi, aspernatur quia veritatis blanditiis repellat id minima deserunt beatae?",-1)])),_:1})]),_:1})])]),_:1})],64)}const Wn=_t(Hn,[["render",Yn]]),Qn=Object.freeze(Object.defineProperty({__proto__:null,default:Wn},Symbol.toStringTag,{value:"Module"})),Jn={class:"q-ma-md"},Gn={key:0},Xn={__name:"Autocomplete1",setup(u){const n=V(null),d=V([]);let o=null;const s=(i,v)=>{if(i.length<2){v(()=>{d.value=[]});return}o&&clearTimeout(o),o=setTimeout(()=>{Ge.get(`/web-api/customers?q=${i}`).then(c=>{const m=c.data.data.map(g=>({label:`${g.code} - ${g.name}`,value:g.id,data:g}));v(()=>{d.value=m})}).catch(c=>{console.error("Gagal mengambil data pelanggan:",c),v(()=>{d.value=[]})})})};return(i,v)=>{const c=Q("guest-layout");return p(),I(c,null,{default:l(()=>[t("div",Jn,[e(ie,{class:"full-width",modelValue:n.value,"onUpdate:modelValue":v[0]||(v[0]=m=>n.value=m),"use-input":"",label:"Cari Pelanggan",options:d.value,onFilter:s,hint:"Ketik minimal 2 karakter untuk mencari",clearable:""},null,8,["modelValue","options"]),n.value?(p(),$("div",Gn," Saldo: Rp. "+r(a(W)(n.value.data.wallet_balance)),1)):k("",!0)])]),_:1})}}},Zn=Object.freeze(Object.defineProperty({__proto__:null,default:Xn},Symbol.toStringTag,{value:"Module"})),es={style:{"margin-left":"-10px"}},ua={__name:"StandardCheckBox",props:{modelValue:{type:Boolean,required:!0},disable:{type:Boolean,default:!1},label:{type:String,default:""}},emits:["update:modelValue"],setup(u,{emit:n}){const d=u,o=n;return(s,i)=>(p(),$("div",es,[e(na,{class:"full-width q-pl-none","model-value":d.modelValue,disable:d.disable,label:d.label,"onUpdate:modelValue":i[0]||(i[0]=v=>o("update:modelValue",v))},null,8,["model-value","disable","label"])]))}};function ka(u){return u instanceof File||u instanceof Blob||u instanceof FileList&&u.length>0||u instanceof FormData&&Array.from(u.values()).some(n=>ka(n))||typeof u=="object"&&u!==null&&Object.values(u).some(n=>ka(n))}function ts(u,n=null){const d=Me(u,n);let o=v=>v,s=null;const i={transform:v=>c=>(o=c,v),submit:v=>(c,m,g={})=>{d.wasSuccessful=!1,d.recentlySuccessful=!1,d.clearErrors(),clearTimeout(s),g.onBefore&&g.onBefore(),d.processing=!0,g.onStart&&g.onStart();const f=o(d.data());axios[c](m,f,{headers:{"Content-Type":ka(f)?"multipart/form-data":"application/json"},onUploadProgress:y=>{d.progress=y,g.onProgress&&g.onProgress(y)}}).then(y=>{d.processing=!1,d.progress=null,d.clearErrors(),d.wasSuccessful=!0,d.recentlySuccessful=!0,s=setTimeout(()=>d.recentlySuccessful=!1,2e3),g.onSuccess&&g.onSuccess(y.data),d.defaults(No(d.data())),d.isDirty=!1}).catch(y=>{var b;d.processing=!1,d.progress=null,d.clearErrors(),((b=y.response)==null?void 0:b.status)===422&&Object.keys(y.response.data.errors).forEach(S=>{d.setError(S,y.response.data.errors[S][0])}),g.onError&&g.onError(y)}).finally(()=>{d.processing=!1,d.progress=null,g.onFinish&&g.onFinish()})}};return new Proxy(d,{get:(v,c,m)=>Object.keys(i).indexOf(c)<0?v[c]:i[c](m)})}const as={class:"column"},ls={class:"row"},os={class:"flex justify-center"},ns={__name:"Login",setup(u){let n=ts({username:window.CONFIG.APP_DEMO?"admin":"",password:window.CONFIG.APP_DEMO?"12345":"",remember:!0});const d=()=>tt({form:n,url:route("admin.auth.login"),onSuccess:()=>{n.processing=!0,window.location.href=route("admin.dashboard")}}),o=V(!1);return(s,i)=>{const v=Q("i-head"),c=Q("guest-layout");return p(),$(K,null,[e(v,{title:"Login"}),e(c,null,{default:l(()=>[e(Ve,{class:"row justify-center items-center"},{default:l(()=>[t("div",as,[t("div",ls,[e(Ne,{class:"q-gutter-md",onSubmit:X(d,["prevent"])},{default:l(()=>[e(ce,{square:"",bordered:"",flat:"",class:"q-pa-md"},{default:l(()=>[e(ae,{class:"text-center"},{default:l(()=>[t("div",os,[e(Wt,{size:"80px"},{default:l(()=>[e(q,{name:"badge",color:"primary"})]),_:1})]),i[4]||(i[4]=t("h6",{class:"q-my-sm text-primary"},"Login Staff",-1))]),_:1}),e(ae,null,{default:l(()=>[e(oe,{modelValue:a(n).username,"onUpdate:modelValue":i[0]||(i[0]=m=>a(n).username=m),modelModifiers:{trim:!0},label:"Username","lazy-rules":"",error:!!a(n).errors.username,autocomplete:"username","error-message":a(n).errors.username,disable:a(n).processing,rules:[m=>m&&m.length>0||"Masukkan Username"],"hide-bottom-space":"","data-test":"username"},{append:l(()=>[e(q,{name:"person"})]),_:1},8,["modelValue","error","error-message","disable","rules"]),e(oe,{modelValue:a(n).password,"onUpdate:modelValue":i[2]||(i[2]=m=>a(n).password=m),type:o.value?"text":"password",label:"Kata Sandi",error:!!a(n).errors.password,autocomplete:"current-password","error-message":a(n).errors.password,"lazy-rules":"",disable:a(n).processing,rules:[m=>m&&m.length>0||"Masukkan kata sandi"],"hide-bottom-space":"","data-test":"password"},{append:l(()=>[e(j,{dense:"",flat:"",round:"",onClick:i[1]||(i[1]=m=>o.value=!o.value)},{default:l(()=>[e(q,{name:o.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","error","error-message","disable","rules"]),e(ua,{class:"q-mt-sm",modelValue:a(n).remember,"onUpdate:modelValue":i[3]||(i[3]=m=>a(n).remember=m),disable:a(n).processing,label:"Ingat saya di perangkat ini"},null,8,["modelValue","disable"])]),_:1}),e(mt,null,{default:l(()=>[e(j,{icon:"login",type:"submit",color:"primary",class:"full-width",label:"Login",disable:a(n).processing,loading:a(n).loading,"data-test":"submit"},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},ss=Object.freeze(Object.defineProperty({__proto__:null,default:ns},Symbol.toStringTag,{value:"Module"})),rs={class:"q-gutter-sm"},is={class:"col col-md-6 q-pa-xs"},ds={class:"detail q-mt-md"},us={key:0},ms={class:"text-bold"},Ma="Tutup Sesi Kasir",cs={__name:"Close",setup(u){const n=be(),d=Me({closing_notes:n.props.data.closing_notes,closing_balance:parseFloat(n.props.data.closing_balance)}),o=()=>tt({form:d,url:route("admin.cashier-session.close",{id:n.props.data.id})});return(s,i)=>{const v=Q("i-head"),c=Q("authenticated-layout");return p(),$(K,null,[e(v,{title:Ma}),e(c,null,{title:l(()=>[_(r(Ma))]),"left-button":l(()=>[t("div",rs,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=m=>s.$inertia.get(s.route("admin.cashier-session.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",is,[e(Ne,{class:"row",onSubmit:X(o,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[te(t("input",{type:"hidden",name:"id","onUpdate:modelValue":i[1]||(i[1]=m=>a(d).id=m)},null,512),[[ut,a(d).id]]),e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[t("table",ds,[t("tbody",null,[t("tr",null,[i[4]||(i[4]=t("td",{style:{width:"130px"}},"Session ID",-1)),i[5]||(i[5]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.id),1)]),t("tr",null,[i[6]||(i[6]=t("td",null,"Terminal",-1)),i[7]||(i[7]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.cashier_terminal.name),1)]),t("tr",null,[i[8]||(i[8]=t("td",null,"Kasir",-1)),i[9]||(i[9]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.user.username)+" - "+r(a(n).props.data.user.name),1)]),t("tr",null,[i[10]||(i[10]=t("td",null,"Saldo Awal",-1)),i[11]||(i[11]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.opening_balance)),1)]),a(n).props.data.opening_notes?(p(),$("tr",us,[i[12]||(i[12]=t("td",null,"Catatan Buka",-1)),i[13]||(i[13]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.opening_notes),1)])):k("",!0),t("tr",null,[i[14]||(i[14]=t("td",null,"Total Penjualan",-1)),i[15]||(i[15]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.total_sales)),1)]),t("tr",null,[i[16]||(i[16]=t("td",null,"Total Pemasukan",-1)),i[17]||(i[17]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.total_income)),1)]),t("tr",null,[i[18]||(i[18]=t("td",null,"Total Pengeluaran",-1)),i[19]||(i[19]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.total_expense)),1)]),t("tr",null,[i[21]||(i[21]=t("td",null,"Saldo Akhir",-1)),i[22]||(i[22]=t("td",null,":",-1)),t("td",null,[t("div",ms,r(a(it)(a(n).props.data.closing_balance)),1),i[20]||(i[20]=t("div",{class:"text-red"}," Pastikan saldo akhir sesuai dengan jumlah uang di laci! ",-1))])])])]),e(oe,{modelValue:a(d).closing_notes,"onUpdate:modelValue":i[2]||(i[2]=m=>a(d).closing_notes=m),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Catatan",disable:a(d).processing,error:!!a(d).errors.closing_notes,"error-message":a(d).errors.closing_notes,rules:[],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(j,{type:"submit",label:"Tutup",icon:"logout",color:"primary",disable:a(d).processing},null,8,["disable"]),e(j,{label:"Batal",icon:"cancel",disable:a(d).processing,onClick:i[3]||(i[3]=m=>a(ee).get(s.route("admin.cashier-session.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},ps=Object.freeze(Object.defineProperty({__proto__:null,default:cs},Symbol.toStringTag,{value:"Module"}));let fs=0;const gs=["click","keydown"],bs={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${fs++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function vs(u,n,d,o){const s=Bo(Il,fa);if(s===fa)return console.error("QTab/QRouteTab component needs to be child of QTabs"),fa;const{proxy:i}=xt(),v=V(null),c=V(null),m=V(null),g=G(()=>u.disable===!0||u.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},u.ripple===!0?{}:u.ripple)),f=G(()=>s.currentModel.value===u.name),y=G(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(f.value===!0?" q-tab--active"+(s.tabProps.value.activeClass?" "+s.tabProps.value.activeClass:"")+(s.tabProps.value.activeColor?` text-${s.tabProps.value.activeColor}`:"")+(s.tabProps.value.activeBgColor?` bg-${s.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(u.icon&&u.label&&s.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(u.noCaps===!0||s.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(u.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),b=G(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(s.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(u.contentClass!==void 0?` ${u.contentClass}`:"")),S=G(()=>u.disable===!0||s.hasFocus.value===!0||f.value===!1&&s.hasActiveTab.value===!0?-1:u.tabindex||0);function A(B,C){if(C!==!0&&v.value!==null&&v.value.focus(),u.disable!==!0){s.updateModel({name:u.name}),d("click",B);return}}function h(B){zo(B,[13,32])?A(B,!0):Fo(B)!==!0&&B.keyCode>=35&&B.keyCode<=40&&B.altKey!==!0&&B.metaKey!==!0&&s.onKbdNavigate(B.keyCode,i.$el)===!0&&jt(B),d("keydown",B)}function D(){const B=s.tabProps.value.narrowIndicator,C=[],w=ke("div",{ref:m,class:["q-tab__indicator",s.tabProps.value.indicatorClass]});u.icon!==void 0&&C.push(ke(q,{class:"q-tab__icon",name:u.icon})),u.label!==void 0&&C.push(ke("div",{class:"q-tab__label"},u.label)),u.alert!==!1&&C.push(u.alertIcon!==void 0?ke(q,{class:"q-tab__alert-icon",color:u.alert!==!0?u.alert:void 0,name:u.alertIcon}):ke("div",{class:"q-tab__alert"+(u.alert!==!0?` text-${u.alert}`:"")})),B===!0&&C.push(w);const E=[ke("div",{class:"q-focus-helper",tabindex:-1,ref:v}),ke("div",{class:b.value},Dl(n.default,C))];return B===!1&&E.push(w),E}const R={name:G(()=>u.name),rootRef:c,tabIndicatorRef:m,routeData:o};sa(()=>{s.unregisterTab(R)}),he(()=>{s.registerTab(R)});function T(B,C){const w={ref:c,class:y.value,tabindex:S.value,role:"tab","aria-selected":f.value===!0?"true":"false","aria-disabled":u.disable===!0?"true":void 0,onClick:A,onKeydown:h,...C};return te(ke(B,w,D()),[[re,g.value]])}return{renderTab:T,$tabs:s}}const Xe=ht({name:"QTab",props:bs,emits:gs,setup(u,{slots:n,emit:d}){const{renderTab:o}=vs(u,n,d);return()=>o("div")}});function _s(u,n,d){const o=d===!0?["left","right"]:["top","bottom"];return`absolute-${n===!0?o[0]:o[1]}${u?` text-${u}`:""}`}const ys=["left","center","right","justify"],It=ht({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:u=>ys.includes(u)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(u,{slots:n,emit:d}){const{proxy:o}=xt(),{$q:s}=o,{registerTick:i}=ga(),{registerTick:v}=ga(),{registerTick:c}=ga(),{registerTimeout:m,removeTimeout:g}=ya(),{registerTimeout:f,removeTimeout:y}=ya(),b=V(null),S=V(null),A=V(u.modelValue),h=V(!1),D=V(!0),R=V(!1),T=V(!1),B=[],C=V(0),w=V(!1);let E=null,P=null,F;const M=G(()=>({activeClass:u.activeClass,activeColor:u.activeColor,activeBgColor:u.activeBgColor,indicatorClass:_s(u.indicatorColor,u.switchIndicator,u.vertical),narrowIndicator:u.narrowIndicator,inlineLabel:u.inlineLabel,noCaps:u.noCaps})),x=G(()=>{const ue=C.value,ye=A.value;for(let Se=0;Se<ue;Se++)if(B[Se].name.value===ye)return!0;return!1}),z=G(()=>`q-tabs__content--align-${h.value===!0?"left":T.value===!0?"justify":u.align}`),J=G(()=>`q-tabs row no-wrap items-center q-tabs--${h.value===!0?"":"not-"}scrollable q-tabs--${u.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${u.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${u.mobileArrows===!0?"":"out"}-arrows`+(u.dense===!0?" q-tabs--dense":"")+(u.shrink===!0?" col-shrink":"")+(u.stretch===!0?" self-stretch":"")),O=G(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+z.value+(u.contentClass!==void 0?` ${u.contentClass}`:"")),U=G(()=>u.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),Z=G(()=>u.vertical!==!0&&s.lang.rtl===!0),se=G(()=>Lo===!1&&Z.value===!0);je(Z,yt),je(()=>u.modelValue,ue=>{ne({name:ue,setCurrent:!0,skipEmit:!0})}),je(()=>u.outsideArrows,qe);function ne({name:ue,setCurrent:ye,skipEmit:Se}){A.value!==ue&&(Se!==!0&&u["onUpdate:modelValue"]!==void 0&&d("update:modelValue",ue),(ye===!0||u["onUpdate:modelValue"]===void 0)&&(ft(A.value,ue),A.value=ue))}function qe(){i(()=>{ze({width:b.value.offsetWidth,height:b.value.offsetHeight})})}function ze(ue){if(U.value===void 0||S.value===null)return;const ye=ue[U.value.container],Se=Math.min(S.value[U.value.scroll],Array.prototype.reduce.call(S.value.children,(Je,Ue)=>Je+(Ue[U.value.content]||0),0)),Qe=ye>0&&Se>ye;h.value=Qe,Qe===!0&&v(yt),T.value=ye<parseInt(u.breakpoint,10)}function ft(ue,ye){const Se=ue!=null&&ue!==""?B.find(Je=>Je.name.value===ue):null,Qe=ye!=null&&ye!==""?B.find(Je=>Je.name.value===ye):null;if(Zt===!0)Zt=!1;else if(Se&&Qe){const Je=Se.tabIndicatorRef.value,Ue=Qe.tabIndicatorRef.value;E!==null&&(clearTimeout(E),E=null),Je.style.transition="none",Je.style.transform="none",Ue.style.transition="none",Ue.style.transform="none";const Oe=Je.getBoundingClientRect(),rt=Ue.getBoundingClientRect();Ue.style.transform=u.vertical===!0?`translate3d(0,${Oe.top-rt.top}px,0) scale3d(1,${rt.height?Oe.height/rt.height:1},1)`:`translate3d(${Oe.left-rt.left}px,0,0) scale3d(${rt.width?Oe.width/rt.width:1},1,1)`,c(()=>{E=setTimeout(()=>{E=null,Ue.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",Ue.style.transform="none"},70)})}Qe&&h.value===!0&&pt(Qe.rootRef.value)}function pt(ue){const{left:ye,width:Se,top:Qe,height:Je}=S.value.getBoundingClientRect(),Ue=ue.getBoundingClientRect();let Oe=u.vertical===!0?Ue.top-Qe:Ue.left-ye;if(Oe<0){S.value[u.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(Oe),yt();return}Oe+=u.vertical===!0?Ue.height-Je:Ue.width-Se,Oe>0&&(S.value[u.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(Oe),yt())}function yt(){const ue=S.value;if(ue===null)return;const ye=ue.getBoundingClientRect(),Se=u.vertical===!0?ue.scrollTop:Math.abs(ue.scrollLeft);Z.value===!0?(D.value=Math.ceil(Se+ye.width)<ue.scrollWidth-1,R.value=Se>0):(D.value=Se>0,R.value=u.vertical===!0?Math.ceil(Se+ye.height)<ue.scrollHeight:Math.ceil(Se+ye.width)<ue.scrollWidth)}function ve(ue){P!==null&&clearInterval(P),P=setInterval(()=>{He(ue)===!0&&pe()},5)}function L(){ve(se.value===!0?Number.MAX_SAFE_INTEGER:0)}function Y(){ve(se.value===!0?0:Number.MAX_SAFE_INTEGER)}function pe(){P!==null&&(clearInterval(P),P=null)}function de(ue,ye){const Se=Array.prototype.filter.call(S.value.children,rt=>rt===ye||rt.matches&&rt.matches(".q-tab.q-focusable")===!0),Qe=Se.length;if(Qe===0)return;if(ue===36)return pt(Se[0]),Se[0].focus(),!0;if(ue===35)return pt(Se[Qe-1]),Se[Qe-1].focus(),!0;const Je=ue===(u.vertical===!0?38:37),Ue=ue===(u.vertical===!0?40:39),Oe=Je===!0?-1:Ue===!0?1:void 0;if(Oe!==void 0){const rt=Z.value===!0?-1:1,$t=Se.indexOf(ye)+Oe*rt;return $t>=0&&$t<Qe&&(pt(Se[$t]),Se[$t].focus({preventScroll:!0})),!0}}const fe=G(()=>se.value===!0?{get:ue=>Math.abs(ue.scrollLeft),set:(ue,ye)=>{ue.scrollLeft=-ye}}:u.vertical===!0?{get:ue=>ue.scrollTop,set:(ue,ye)=>{ue.scrollTop=ye}}:{get:ue=>ue.scrollLeft,set:(ue,ye)=>{ue.scrollLeft=ye}});function He(ue){const ye=S.value,{get:Se,set:Qe}=fe.value;let Je=!1,Ue=Se(ye);const Oe=ue<Ue?-1:1;return Ue+=Oe*5,Ue<0?(Je=!0,Ue=0):(Oe===-1&&Ue<=ue||Oe===1&&Ue>=ue)&&(Je=!0,Ue=ue),Qe(ye,Ue),yt(),Je}function nt(ue,ye){for(const Se in ue)if(ue[Se]!==ye[Se])return!1;return!0}function kt(){let ue=null,ye={matchedLen:0,queryDiff:9999,hrefLen:0};const Se=B.filter(Oe=>Oe.routeData!==void 0&&Oe.routeData.hasRouterLink.value===!0),{hash:Qe,query:Je}=o.$route,Ue=Object.keys(Je).length;for(const Oe of Se){const rt=Oe.routeData.exact.value===!0;if(Oe.routeData[rt===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:$t,query:ca,matched:Eo,href:Mo}=Oe.routeData.resolvedLink.value,pa=Object.keys(ca).length;if(rt===!0){if($t!==Qe||pa!==Ue||nt(Je,ca)===!1)continue;ue=Oe.name.value;break}if($t!==""&&$t!==Qe||pa!==0&&nt(ca,Je)===!1)continue;const St={matchedLen:Eo.length,queryDiff:Ue-pa,hrefLen:Mo.length-$t.length};if(St.matchedLen>ye.matchedLen){ue=Oe.name.value,ye=St;continue}else if(St.matchedLen!==ye.matchedLen)continue;if(St.queryDiff<ye.queryDiff)ue=Oe.name.value,ye=St;else if(St.queryDiff!==ye.queryDiff)continue;St.hrefLen>ye.hrefLen&&(ue=Oe.name.value,ye=St)}if(ue===null&&B.some(Oe=>Oe.routeData===void 0&&Oe.name.value===A.value)===!0){Zt=!1;return}ne({name:ue,setCurrent:!0})}function ma(ue){if(g(),w.value!==!0&&b.value!==null&&ue.target&&typeof ue.target.closest=="function"){const ye=ue.target.closest(".q-tab");ye&&b.value.contains(ye)===!0&&(w.value=!0,h.value===!0&&pt(ye))}}function Uo(){m(()=>{w.value=!1},30)}function Yt(){Ta.avoidRouteWatcher===!1?f(kt):y()}function Ca(){if(F===void 0){const ue=je(()=>o.$route.fullPath,Yt);F=()=>{ue(),F=void 0}}}function Ao(ue){B.push(ue),C.value++,qe(),ue.routeData===void 0||o.$route===void 0?f(()=>{if(h.value===!0){const ye=A.value,Se=ye!=null&&ye!==""?B.find(Qe=>Qe.name.value===ye):null;Se&&pt(Se.rootRef.value)}}):(Ca(),ue.routeData.hasRouterLink.value===!0&&Yt())}function jo(ue){B.splice(B.indexOf(ue),1),C.value--,qe(),F!==void 0&&ue.routeData!==void 0&&(B.every(ye=>ye.routeData===void 0)===!0&&F(),Yt())}const Ta={currentModel:A,tabProps:M,hasFocus:w,hasActiveTab:x,registerTab:Ao,unregisterTab:jo,verifyRouteModel:Yt,updateModel:ne,onKbdNavigate:de,avoidRouteWatcher:!1};Wo(Il,Ta);function Pa(){E!==null&&clearTimeout(E),pe(),F!==void 0&&F()}let Oa,Zt;return sa(Pa),Ho(()=>{Oa=F!==void 0,Pa()}),Ko(()=>{Oa===!0&&(Ca(),Zt=!0,Yt()),qe()}),()=>ke("div",{ref:b,class:J.value,role:"tablist",onFocusin:ma,onFocusout:Uo},[ke(Yo,{onResize:ze}),ke("div",{ref:S,class:O.value,onScroll:yt},Tt(n.default)),ke(q,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(D.value===!0?"":" q-tabs__arrow--faded"),name:u.leftIcon||s.iconSet.tabs[u.vertical===!0?"up":"left"],onMousedownPassive:L,onTouchstartPassive:L,onMouseupPassive:pe,onMouseleavePassive:pe,onTouchendPassive:pe}),ke(q,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(R.value===!0?"":" q-tabs__arrow--faded"),name:u.rightIcon||s.iconSet.tabs[u.vertical===!0?"down":"right"],onMousedownPassive:Y,onTouchstartPassive:Y,onMouseupPassive:pe,onMouseleavePassive:pe,onTouchendPassive:pe})])}});function ks(u){const n=[.06,6,50];return typeof u=="string"&&u.length&&u.split(":").forEach((d,o)=>{const s=parseFloat(d);s&&(n[o]=s)}),n}const ws=Qo({name:"touch-swipe",beforeMount(u,{value:n,arg:d,modifiers:o}){if(o.mouse!==!0&&Nt.has.touch!==!0)return;const s=o.mouseCapture===!0?"Capture":"",i={handler:n,sensitivity:ks(d),direction:Ra(o),noop:Jo,mouseStart(v){Da(v,i)&&Xo(v)&&(ea(i,"temp",[[document,"mousemove","move",`notPassive${s}`],[document,"mouseup","end","notPassiveCapture"]]),i.start(v,!0))},touchStart(v){if(Da(v,i)){const c=v.target;ea(i,"temp",[[c,"touchmove","move","notPassiveCapture"],[c,"touchcancel","end","notPassiveCapture"],[c,"touchend","end","notPassiveCapture"]]),i.start(v)}},start(v,c){Nt.is.firefox===!0&&va(u,!0);const m=Ia(v);i.event={x:m.left,y:m.top,time:Date.now(),mouse:c===!0,dir:!1}},move(v){if(i.event===void 0)return;if(i.event.dir!==!1){jt(v);return}const c=Date.now()-i.event.time;if(c===0)return;const m=Ia(v),g=m.left-i.event.x,f=Math.abs(g),y=m.top-i.event.y,b=Math.abs(y);if(i.event.mouse!==!0){if(f<i.sensitivity[1]&&b<i.sensitivity[1]){i.end(v);return}}else if(window.getSelection().toString()!==""){i.end(v);return}else if(f<i.sensitivity[2]&&b<i.sensitivity[2])return;const S=f/c,A=b/c;i.direction.vertical===!0&&f<b&&f<100&&A>i.sensitivity[0]&&(i.event.dir=y<0?"up":"down"),i.direction.horizontal===!0&&f>b&&b<100&&S>i.sensitivity[0]&&(i.event.dir=g<0?"left":"right"),i.direction.up===!0&&f<b&&y<0&&f<100&&A>i.sensitivity[0]&&(i.event.dir="up"),i.direction.down===!0&&f<b&&y>0&&f<100&&A>i.sensitivity[0]&&(i.event.dir="down"),i.direction.left===!0&&f>b&&g<0&&b<100&&S>i.sensitivity[0]&&(i.event.dir="left"),i.direction.right===!0&&f>b&&g>0&&b<100&&S>i.sensitivity[0]&&(i.event.dir="right"),i.event.dir!==!1?(jt(v),i.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Go(),i.styleCleanup=h=>{i.styleCleanup=void 0,document.body.classList.remove("non-selectable");const D=()=>{document.body.classList.remove("no-pointer-events--children")};h===!0?setTimeout(D,50):D()}),i.handler({evt:v,touch:i.event.mouse!==!0,mouse:i.event.mouse,direction:i.event.dir,duration:c,distance:{x:f,y:b}})):i.end(v)},end(v){i.event!==void 0&&(ba(i,"temp"),Nt.is.firefox===!0&&va(u,!1),i.styleCleanup!==void 0&&i.styleCleanup(!0),v!==void 0&&i.event.dir!==!1&&jt(v),i.event=void 0)}};if(u.__qtouchswipe=i,o.mouse===!0){const v=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";ea(i,"main",[[u,"mousedown","mouseStart",`passive${v}`]])}Nt.has.touch===!0&&ea(i,"main",[[u,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[u,"touchmove","noop","notPassiveCapture"]])},updated(u,n){const d=u.__qtouchswipe;d!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&d.end(),d.handler=n.value),d.direction=Ra(n.modifiers))},beforeUnmount(u){const n=u.__qtouchswipe;n!==void 0&&(ba(n,"main"),ba(n,"temp"),Nt.is.firefox===!0&&va(u,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete u.__qtouchswipe)}}),hs={name:{required:!0},disable:Boolean},Na={setup(u,{slots:n}){return()=>ke("div",{class:"q-panel scroll",role:"tabpanel"},Tt(n.default))}},$s={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},xs=["update:modelValue","beforeTransition","transition"];function Ss(){const{props:u,emit:n,proxy:d}=xt(),{getCache:o}=en(),{registerTimeout:s}=ya();let i,v;const c=V(null),m=V(null);function g(U){const Z=u.vertical===!0?"up":"left";F((d.$q.lang.rtl===!0?-1:1)*(U.direction===Z?1:-1))}const f=G(()=>[[ws,g,void 0,{horizontal:u.vertical!==!0,vertical:u.vertical,mouse:!0}]]),y=G(()=>u.transitionPrev||`slide-${u.vertical===!0?"down":"right"}`),b=G(()=>u.transitionNext||`slide-${u.vertical===!0?"up":"left"}`),S=G(()=>`--q-transition-duration: ${u.transitionDuration}ms`),A=G(()=>typeof u.modelValue=="string"||typeof u.modelValue=="number"?u.modelValue:String(u.modelValue)),h=G(()=>({include:u.keepAliveInclude,exclude:u.keepAliveExclude,max:u.keepAliveMax})),D=G(()=>u.keepAliveInclude!==void 0||u.keepAliveExclude!==void 0);je(()=>u.modelValue,(U,Z)=>{const se=C(U)===!0?w(U):-1;v!==!0&&P(se===-1?0:se<w(Z)?-1:1),c.value!==se&&(c.value=se,n("beforeTransition",U,Z),s(()=>{n("transition",U,Z)},u.transitionDuration))});function R(){F(1)}function T(){F(-1)}function B(U){n("update:modelValue",U)}function C(U){return U!=null&&U!==""}function w(U){return i.findIndex(Z=>Z.props.name===U&&Z.props.disable!==""&&Z.props.disable!==!0)}function E(){return i.filter(U=>U.props.disable!==""&&U.props.disable!==!0)}function P(U){const Z=U!==0&&u.animated===!0&&c.value!==-1?"q-transition--"+(U===-1?y.value:b.value):null;m.value!==Z&&(m.value=Z)}function F(U,Z=c.value){let se=Z+U;for(;se!==-1&&se<i.length;){const ne=i[se];if(ne!==void 0&&ne.props.disable!==""&&ne.props.disable!==!0){P(U),v=!0,n("update:modelValue",ne.props.name),setTimeout(()=>{v=!1});return}se+=U}u.infinite===!0&&i.length!==0&&Z!==-1&&Z!==i.length&&F(U,U===-1?i.length:-1)}function M(){const U=w(u.modelValue);return c.value!==U&&(c.value=U),!0}function x(){const U=C(u.modelValue)===!0&&M()&&i[c.value];return u.keepAlive===!0?[ke(tn,h.value,[ke(D.value===!0?o(A.value,()=>({...Na,name:A.value})):Na,{key:A.value,style:S.value},()=>U)])]:[ke("div",{class:"q-panel scroll",style:S.value,key:A.value,role:"tabpanel"},[U])]}function z(){if(i.length!==0)return u.animated===!0?[ke(Ul,{name:m.value},x)]:x()}function J(U){return i=Zo(Tt(U.default,[])).filter(Z=>Z.props!==null&&Z.props.slot===void 0&&C(Z.props.name)===!0),i.length}function O(){return i}return Object.assign(d,{next:R,previous:T,goTo:B}),{panelIndex:c,panelDirectives:f,updatePanelsList:J,updatePanelIndex:M,getPanelContent:z,getEnabledPanels:E,getPanels:O,isValidPanelName:C,keepAliveProps:h,needsUniqueKeepAliveWrapper:D,goToPanelByOffset:F,goToPanel:B,nextPanel:R,previousPanel:T}}const Ze=ht({name:"QTabPanel",props:hs,setup(u,{slots:n}){return()=>ke("div",{class:"q-tab-panel",role:"tabpanel"},Tt(n.default))}}),Dt=ht({name:"QTabPanels",props:{...$s,...wa},emits:xs,setup(u,{slots:n}){const d=xt(),o=ha(u,d.proxy.$q),{updatePanelsList:s,getPanelContent:i,panelDirectives:v}=Ss(),c=G(()=>"q-tab-panels q-panel-parent"+(o.value===!0?" q-tab-panels--dark q-dark":""));return()=>(s(n),an("div",{class:c.value},i(),"pan",u.swipeable,()=>v.value))}}),Vs={class:"detail"},qs={key:0},Cs={key:1},Ts={key:0},Ps={key:0},Os={colspan:"100%"},Rs={class:"q-my-md"},Is={key:4},Ds={colspan:"100%"},Us={key:5},As={colspan:"100%"},Fl={__name:"MainInfoTab",setup(u){const n=be();return(d,o)=>(p(),$("table",Vs,[t("tbody",null,[o[27]||(o[27]=t("tr",null,[t("td",{colspan:"3"},[t("div",{class:"text-bold text-grey-8"},"Info Sesi")])],-1)),t("tr",null,[o[1]||(o[1]=t("td",{style:{width:"130px"}},"Session ID",-1)),o[2]||(o[2]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.id),1)]),t("tr",null,[o[3]||(o[3]=t("td",null,"Terminal",-1)),o[4]||(o[4]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.cashier_terminal.name),1)]),t("tr",null,[o[5]||(o[5]=t("td",null,"Kasir",-1)),o[6]||(o[6]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.user.username)+" - "+r(a(n).props.data.user.name),1)]),t("tr",null,[o[7]||(o[7]=t("td",null,"Status",-1)),o[8]||(o[8]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.is_closed?"Ditutup":"Aktif"),1)]),o[28]||(o[28]=t("tr",null,[t("td",{colspan:"100%"},[t("div",{class:"q-mt-sm text-grey-8"},"Info Buka Sesi")])],-1)),t("tr",null,[o[9]||(o[9]=t("td",null,"Saldo Awal",-1)),o[10]||(o[10]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.opening_balance)),1)]),a(n).props.data.opening_notes?(p(),$("tr",qs,[o[11]||(o[11]=t("td",null,"Catatan",-1)),o[12]||(o[12]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.opening_notes),1)])):k("",!0),o[29]||(o[29]=t("tr",null,[t("td",{colspan:"100%"},[t("div",{class:"q-mt-sm text-grey-8"},"Rincian Pendapatan & Kas")])],-1)),t("tr",null,[o[13]||(o[13]=t("td",null,"Total Penjualan",-1)),o[14]||(o[14]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.total_sales)),1)]),t("tr",null,[o[15]||(o[15]=t("td",null,"Total Pemasukan",-1)),o[16]||(o[16]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.total_income)),1)]),t("tr",null,[o[17]||(o[17]=t("td",null,"Total Pengeluaran",-1)),o[18]||(o[18]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.total_expense)),1)]),a(n).props.data.is_closed?k("",!0):(p(),$("tr",Cs,[o[19]||(o[19]=t("td",null,"Saldo Aktual",-1)),o[20]||(o[20]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.opening_balance+(a(n).props.data.total_income-a(n).props.data.total_expense))),1)])),a(n).props.data.is_closed?(p(),$(K,{key:2},[o[25]||(o[25]=t("tr",null,[t("td",{colspan:"100%"},[t("div",{class:"q-mt-sm text-grey-8"},"Info Tutup Sesi")])],-1)),t("tr",null,[o[21]||(o[21]=t("td",null,"Saldo Akhir",-1)),o[22]||(o[22]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.closing_balance)),1)]),a(n).props.data.closing_notes?(p(),$("tr",Ts,[o[23]||(o[23]=t("td",null,"Catatan",-1)),o[24]||(o[24]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.closing_notes),1)])):k("",!0)],64)):k("",!0),d.$can("admin.cashier-session.close")?(p(),$(K,{key:3},[a(n).props.data.is_closed?k("",!0):(p(),$("tr",Ps,[t("td",Os,[t("div",Rs,[e(j,{class:"full-width",color:"accent",icon:"logout",onClick:o[0]||(o[0]=s=>d.$inertia.get(d.route("admin.cashier-session.close",{id:a(n).props.data.id})))},{default:l(()=>o[26]||(o[26]=[_(" Tutup Sesi Kasir ")])),_:1})])])]))],64)):k("",!0),o[30]||(o[30]=t("tr",null,[t("td",{colspan:"3"},[t("div",{class:"text-bold text-grey-8 q-mt-md"},"Info Rekaman")])],-1)),a(n).props.data.created_at?(p(),$("tr",Is,[t("td",Ds," Dibuat "+r(a(qt)(a(n).props.data.created_at))+" oleh "+r(a(n).props.data.creator.name)+" ("+r(a(ge)(a(n).props.data.created_at))+") ",1)])):k("",!0),a(n).props.data.updated_at?(p(),$("tr",Us,[t("td",As," Diperbarui "+r(a(qt)(a(n).props.data.updated_at))+" oleh "+r(a(n).props.data.updater.name)+" ("+r(a(ge)(a(n).props.data.updated_at))+") ",1)])):k("",!0)])]))}},js=Object.freeze(Object.defineProperty({__proto__:null,default:Fl},Symbol.toStringTag,{value:"Module"})),Es={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ms={class:"text-bold"},Ns={key:0},Bs={class:"text-bold"},zs={key:1},Fs={key:0},Ls={key:0},Hs={key:1},Ll={__name:"SalesOrderTab",props:{data:Object},setup(u){const n=u,d=V([]),o=V(!0),s=Pe({...Re(),cashier_session_id:n.data.id,status:["closed","canceled"]}),i=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),v=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"customer",label:"Pelanggan",field:"customer",align:"left"},{name:"grand_total",label:"Total (Rp)",field:"grand_total",align:"right",sortable:!0},{name:"notes",label:"Catatan",field:"notes",align:"left"}];he(()=>{c()});const c=(f=null)=>Ie({pagination:i,filter:s,props:f,rows:d,url:route("admin.sales-order.data"),loading:o}),m=$e(),g=G(()=>m.screen.gt.sm?v:v.filter(f=>f.name==="id"));return(f,y)=>(p(),I(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id",pagination:i.value,"onUpdate:pagination":y[0]||(y[0]=b=>i.value=b),filter:s.search,loading:o.value,columns:g.value,rows:d.value,"rows-per-page-options":[10,25,50],onRequest:c,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:b,message:S,filter:A})=>[t("div",Es,[t("span",null,r(S)+" "+r(A?" with term "+A:""),1)])]),body:l(b=>[e(Ce,{props:b,class:"cursor-pointer",onClick:X(S=>a(ee).get(f.route("admin.sales-order.detail",{id:b.row.id})),["stop"])},{default:l(()=>[e(H,{key:"id",props:b},{default:l(()=>[t("div",Ms,[e(q,{class:"inline-icon",name:"tag"}),_(" "+r(b.row.formatted_id),1)]),t("div",null,[e(q,{class:"inline-icon",name:"calendar_today"}),_(" "+r(a(ge)(b.row.datetime)),1)]),a(m).screen.lt.md?(p(),$(K,{key:0},[b.row.customer?(p(),$("div",Ns,[e(q,{class:"inline-icon",name:"person"}),_(" "+r(b.row.customer_code)+" "+r(b.row.customer.name),1)])):k("",!0),t("div",Bs,[e(q,{name:"money",class:"inline-icon"}),_(" Rp. "+r(a(W)(b.row.grand_total)),1)]),b.row.notes?(p(),$("div",zs,[e(we,{text:b.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])):k("",!0)],64)):k("",!0),t("div",null,[e(dt,{color:b.row.status==="closed"?"green":"red"},{default:l(()=>[_(r(f.$CONSTANTS.SALES_ORDER_STATUSES[b.row.status]),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(H,{key:"customer",props:b},{default:l(()=>[b.row.customer?(p(),$("div",Fs,[t("div",null,[e(q,{name:"person",class:"inline-icon"}),_(" "+r(b.row.customer_code)+" - "+r(b.row.customer_name),1)]),b.row.customer_phone?(p(),$("div",Ls,[e(q,{name:"phone",class:"inline-icon"}),_(" "+r(b.row.customer_phone),1)])):k("",!0),b.row.customer_address?(p(),$("div",Hs,[e(q,{name:"home_pin",class:"inline-icon"}),_(" "+r(b.row.customer_address),1)])):k("",!0)])):k("",!0)]),_:2},1032,["props"]),e(H,{key:"grand_total",props:b},{default:l(()=>[t("div",null,r(a(W)(b.row.grand_total)),1)]),_:2},1032,["props"]),e(H,{key:"notes",props:b,class:"wrap-column"},{default:l(()=>[e(we,{text:b.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},Ks=Object.freeze(Object.defineProperty({__proto__:null,default:Ll},Symbol.toStringTag,{value:"Module"})),Ys={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ws={class:"text-bold"},Qs={class:"text-bold"},Js={key:0},Gs={class:"q-mt-sm"},Hl={__name:"FinanceTransactionTab",props:{data:Object},setup(u){const n=u;console.log(n.data);const d=V([]),o=V(!0),s=Pe({...Re(),user_id:n.data.user_id,from_datetime:aa(n.data.opened_at),to_datetime:n.data.closed_at?aa(n.data.closed_at):null}),i=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),v=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp)",field:"amount",align:"right",sortable:!0},{name:"notes",label:"Catatan",field:"notes",align:"left"}];he(()=>{c()});const c=(f=null)=>Ie({pagination:i,filter:s,props:f,rows:d,url:route("admin.finance-transaction.data"),loading:o}),m=$e(),g=G(()=>m.screen.gt.sm?v:v.filter(f=>f.name==="id"));return(f,y)=>(p(),I(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id",pagination:i.value,"onUpdate:pagination":y[0]||(y[0]=b=>i.value=b),filter:s.search,loading:o.value,columns:g.value,rows:d.value,"rows-per-page-options":[10,25,50],onRequest:c,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:b,message:S,filter:A})=>[t("div",Ys,[t("span",null,r(S)+" "+r(A?" with term "+A:""),1)])]),body:l(b=>[e(Ce,{props:b},{default:l(()=>[e(H,{key:"id",props:b},{default:l(()=>[t("div",Ws,[e(q,{class:"inline-icon",name:"tag"}),_(" "+r(b.row.formatted_id),1)]),t("div",null,[e(q,{class:"inline-icon",name:"calendar_today"}),_(" "+r(a(ge)(b.row.datetime)),1)]),a(m).screen.lt.md?(p(),$(K,{key:0},[t("div",Qs,[e(q,{name:"money",class:"inline-icon"}),_(" Rp. "+r(a(W)(b.row.amount)),1)]),b.row.notes?(p(),$("div",Js,[e(we,{text:b.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])):k("",!0)],64)):k("",!0),t("div",Gs,[e(dt,{color:b.row.amount>=0?"green":"red"},{default:l(()=>[_(r(f.$CONSTANTS.FINANCE_TRANSACTION_TYPES[b.row.type]),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(H,{key:"amount",props:b},{default:l(()=>[t("span",{class:xe(b.row.amount<0?"text-red":"text-green")},r(a(W)(b.row.amount)),3)]),_:2},1032,["props"]),e(H,{key:"notes",props:b,class:"wrap-column"},{default:l(()=>[e(we,{text:b.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},Xs=Object.freeze(Object.defineProperty({__proto__:null,default:Hl},Symbol.toStringTag,{value:"Module"})),Zs={class:"q-gutter-sm"},er={class:"col col-lg-6 q-pa-xs"},tr={class:"row"},Ba="Rincian Sesi Kasir",ar={__name:"Detail",setup(u){const n=be(),d=G(()=>n.props.data),o=V("main");return je(()=>n.props.tab,s=>{s&&(o.value=s)},{immediate:!0}),(s,i)=>{const v=Q("i-head"),c=Q("authenticated-layout");return p(),$(K,null,[e(v,{title:Ba}),e(c,null,{title:l(()=>[_(r(Ba))]),"left-button":l(()=>[t("div",Zs,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=m=>s.$inertia.get(s.route("admin.cashier-session.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",er,[t("div",tr,[e(ce,{square:"",flat:"",bordered:"",class:"col q-pa-none"},{default:l(()=>[e(It,{modelValue:o.value,"onUpdate:modelValue":i[1]||(i[1]=m=>o.value=m),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(Xe,{name:"main",label:"Ringkasan"}),e(Xe,{name:"sales",label:"Transaksi Penjualan"}),e(Xe,{name:"finance",label:"Transaksi Keuangan"})]),_:1},8,["modelValue"]),e(et),e(Dt,{modelValue:o.value,"onUpdate:modelValue":i[2]||(i[2]=m=>o.value=m),animated:"",class:"q-pa-none"},{default:l(()=>[e(Ze,{name:"main"},{default:l(()=>[e(Fl,{data:d.value},null,8,["data"])]),_:1}),e(Ze,{name:"sales",class:"q-pa-xs"},{default:l(()=>[e(Ll,{data:d.value},null,8,["data"])]),_:1}),e(Ze,{name:"finance",class:"q-pa-xs"},{default:l(()=>[e(Hl,{data:d.value},null,8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},lr=Object.freeze(Object.defineProperty({__proto__:null,default:ar},Symbol.toStringTag,{value:"Module"})),or={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},nr={class:"q-pa-xs"},sr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},rr={class:"flex justify-end"},za="Sesi Kasir",ir={__name:"Index",setup(u){const n=$e(),d=V(!1),o=V([]),s=V(!0),i=V(null),v=V(null),c=We(v),m=Pe({search:"",status:"all",...Re()}),g=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),f=[{name:"id",label:"Sesi",field:"id",align:"left",sortable:!0},{name:"opening_info",label:"Buka Sesi",field:"opening_info",sortable:!1,align:"left"},{name:"closing_info",label:"Tutup Sesi",field:"closing_info",sortable:!1,align:"left"},{name:"action",align:"right"}],y=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"closed",label:"Selesai"}];he(()=>{S()});const b=R=>ot({message:`Hapus Sesi: ${R.cashier_terminal.name} - ${R.user.username}?`,url:route("admin.cashier-session.delete",R.id),fetchItemsCallback:S,loading:s}),S=(R=null)=>{Ie({pagination:g,filter:m,props:R,rows:o,url:route("admin.cashier-session.data"),loading:s,tableRef:i})},A=()=>S(),h=R=>ee.get(route("admin.cashier-session.detail",{id:R.id})),D=G(()=>n.screen.gt.sm?f:f.filter(R=>R.name==="id"||R.name==="action"));return(R,T)=>{const B=Q("i-head"),C=Q("authenticated-layout");return p(),$(K,null,[e(B,{title:za}),e(C,null,Le({title:l(()=>[_(r(za))]),"right-button":l(()=>[e(j,{icon:d.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:T[0]||(T[0]=w=>d.value=!d.value)},null,8,["icon"]),R.$can("admin.cashier-session.open")?(p(),I(j,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:T[1]||(T[1]=w=>a(ee).get(R.route("admin.cashier-session.open")))})):k("",!0)]),default:l(()=>[t("div",nr,[e(Te,{class:"full-height-table",style:Be({height:a(c)}),ref_key:"tableRef",ref:i,flat:"",bordered:"",square:"",color:"primary","row-key":"id",pagination:g.value,"onUpdate:pagination":T[5]||(T[5]=w=>g.value=w),filter:m.search,loading:s.value,columns:D.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:S,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:w,message:E,filter:P})=>[t("div",sr,[t("span",null,r(E)+" "+r(P?" with term "+P:""),1)])]),body:l(w=>[e(Ce,{props:w,class:xe(["cursor-pointer",w.row.is_closed?"":"bg-yellow-3"]),onClick:E=>h(w.row)},{default:l(()=>[e(H,{key:"id",props:w,class:"wrap-column"},{default:l(()=>[t("div",null,[e(q,{class:"inline-icon",name:"tag"}),_(" SessionID: "+r(w.row.id),1)]),t("div",null,[e(q,{class:"inline-icon",name:"point_of_sale"}),_(" "+r(w.row.cashier_terminal.name),1)]),t("div",null,[e(q,{class:"inline-icon",name:"person"}),_(" "+r(w.row.user.username)+" - "+r(w.row.user.name),1)])]),_:2},1032,["props"]),e(H,{key:"opening_info",props:w},{default:l(()=>[t("div",null,[e(q,{class:"inline-icon",name:"calendar_clock"}),_(" "+r(w.row.opened_at?a(ge)(w.row.opened_at):"-"),1)]),t("div",null,[e(q,{class:"inline-icon",name:"money"}),_(" "+r(a(it)(w.row.opening_balance)),1)]),w.row.opening_notes?(p(),I(we,{key:0,text:w.row.opening_notes,icon:"notes"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(H,{key:"closing_info",props:w},{default:l(()=>[t("div",null,[e(q,{class:"inline-icon",name:"calendar_clock"}),_(" "+r(w.row.closed_at?a(ge)(w.row.closed_at):"-"),1)]),t("div",null,[e(q,{class:"inline-icon",name:"money"}),_(" "+r(a(it)(w.row.closing_balance)),1)]),w.row.closing_notes?(p(),I(we,{key:0,text:w.row.closing_notes,icon:"notes"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(H,{key:"action",props:w},{default:l(()=>[t("div",rr,[R.$can("admin.cashier-session.close")||R.$can("admin.cashier-session.delete")?(p(),I(j,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:T[4]||(T[4]=X(()=>{},["stop"]))},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[R.$can("admin.cashier-session.close")?te((p(),I(le,{key:0,disable:w.row.is_closed,clickable:"",onClick:X(E=>a(ee).get(R.route("admin.cashier-session.close",w.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"logout"})]),_:1}),e(N,null,{default:l(()=>T[6]||(T[6]=[_("Tutup Sesi Kasir")])),_:1})]),_:2},1032,["disable","onClick"])),[[re],[me]]):k("",!0),R.$can("admin.cashier-session.delete")?te((p(),I(le,{key:1,onClick:X(E=>b(w.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>T[7]||(T[7]=[_("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[d.value?{name:"header",fn:l(()=>[e(at,{class:"filter-bar",ref_key:"filterToolbarRef",ref:v},{default:l(()=>[t("div",or,[e(ie,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:m.status,"onUpdate:modelValue":[T[2]||(T[2]=w=>m.status=w),A],options:y,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":T[3]||(T[3]=w=>m.search=w),placeholder:"Cari",clearable:""},{append:l(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},dr=Object.freeze(Object.defineProperty({__proto__:null,default:ir},Symbol.toStringTag,{value:"Module"})),ur={class:"q-gutter-sm"},mr={class:"col col-md-6 q-pa-xs"},Fa="Buka Sesi Kasir",cr={__name:"Open",setup(u){const n=be(),d=Me({cashier_terminal_id:n.props.data.cashier_terminal_id,opening_balance:parseFloat(n.props.data.opening_balance),opening_notes:n.props.data.opening_notes}),o=[...n.props.cashier_terminals.map(i=>({value:i.id,label:i.name,balance:parseFloat(i.finance_account.balance)}))],s=()=>tt({form:d,url:route("admin.cashier-session.open")});return je(()=>d.cashier_terminal_id,i=>{if(i){const v=o.find(c=>c.value===i);v&&(d.opening_balance=v.balance)}else d.opening_balance=0}),(i,v)=>{const c=Q("i-head"),m=Q("authenticated-layout");return p(),$(K,null,[e(c,{title:Fa}),e(m,null,{title:l(()=>[_(r(Fa))]),"left-button":l(()=>[t("div",ur,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:v[0]||(v[0]=g=>i.$inertia.get(i.route("admin.cashier-session.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",mr,[e(Ne,{class:"row",onSubmit:X(s,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[te(t("input",{type:"hidden",name:"id","onUpdate:modelValue":v[1]||(v[1]=g=>a(d).id=g)},null,512),[[ut,a(d).id]]),e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[e(ie,{class:"custom-select",modelValue:a(d).cashier_terminal_id,"onUpdate:modelValue":v[2]||(v[2]=g=>a(d).cashier_terminal_id=g),label:"Terminal Kasir",options:o,"map-options":"","emit-value":"",errorMessage:a(d).errors.cashier_terminal_id,error:!!a(d).errors.cashier_terminal_id,disable:a(d).processing,"hide-bottom-space":""},null,8,["modelValue","errorMessage","error","disable"]),e(Ae,{modelValue:a(d).opening_balance,"onUpdate:modelValue":v[3]||(v[3]=g=>a(d).opening_balance=g),label:"Saldo Buka Sesi",lazyRules:"",disable:a(d).processing,error:!!a(d).errors.opening_balance,errorMessage:a(d).errors.opening_balance,rules:[],readonly:"","hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),v[6]||(v[6]=t("div",{class:"q-my-sm text-red"}," Pastikan saldo awal sesuai dengan jumlah uang di laci! ",-1)),e(oe,{modelValue:a(d).opening_notes,"onUpdate:modelValue":v[4]||(v[4]=g=>a(d).opening_notes=g),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Catatan",disable:a(d).processing,error:!!a(d).errors.opening_notes,"error-message":a(d).errors.opening_notes,rules:[],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(j,{type:"submit",label:"Buka Sesi",icon:"login",color:"primary",disable:a(d).processing},null,8,["disable"]),e(j,{label:"Batal",icon:"cancel",disable:a(d).processing,onClick:v[5]||(v[5]=g=>a(ee).get(i.route("admin.cashier-session.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},pr=Object.freeze(Object.defineProperty({__proto__:null,default:cr},Symbol.toStringTag,{value:"Module"})),fr={class:"detail"},gr={colspan:"3"},br={class:"text-bold text-grey-8"},vr={key:0},_r={colspan:"100%"},yr={key:1},kr={colspan:"100%"},Kl={__name:"MainInfoTab",setup(u){const n=be();return(d,o)=>(p(),$("table",fr,[t("tbody",null,[t("tr",null,[t("td",gr,[t("div",br,[o[1]||(o[1]=_(" Info Terminal Kasir ")),e(j,{icon:"edit",size:"sm",dense:"",flat:"",rounded:"",class:"q-ml-sm",color:"grey",onClick:o[0]||(o[0]=s=>d.$inertia.get(d.route("admin.cashier-terminal.edit",{id:a(n).props.data.id})))})])])]),t("tr",null,[o[2]||(o[2]=t("td",{style:{width:"120px"}},"Nama",-1)),o[3]||(o[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.name),1)]),t("tr",null,[o[4]||(o[4]=t("td",null,"Lokasi",-1)),o[5]||(o[5]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.location),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"Akun Keuangan",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.finance_account.name),1)]),t("tr",null,[o[8]||(o[8]=t("td",null,"Saldo",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.finance_account.balance)),1)]),t("tr",null,[o[10]||(o[10]=t("td",null,"Catatan",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.notes),1)]),t("tr",null,[o[12]||(o[12]=t("td",null,"Status",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),o[14]||(o[14]=t("tr",null,[t("td",{colspan:"3"},[t("div",{class:"text-bold text-grey-8 q-mt-md"},"Info Rekaman")])],-1)),a(n).props.data.created_at?(p(),$("tr",vr,[t("td",_r," Dibuat "+r(a(qt)(a(n).props.data.created_at))+" oleh "+r(a(n).props.data.creator.name)+" ("+r(a(ge)(a(n).props.data.created_at))+") ",1)])):k("",!0),a(n).props.data.updated_at?(p(),$("tr",yr,[t("td",kr," Diperbarui "+r(a(qt)(a(n).props.data.updated_at))+" oleh "+r(a(n).props.data.updater.name)+" ("+r(a(ge)(a(n).props.data.updated_at))+") ",1)])):k("",!0)])]))}},wr=Object.freeze(Object.defineProperty({__proto__:null,default:Kl},Symbol.toStringTag,{value:"Module"})),hr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},$r={class:"text-bold"},Yl={__name:"SessionHistoryTab",setup(u){const n=be(),d=V([]),o=V(!0),s=Pe({customer_id:n.props.data.id,...Re()}),i=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),v=[{name:"id",label:"Trx",field:"id",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah",field:"amount",align:"right"}];he(()=>{c()});const c=(f=null)=>Ie({pagination:i,filter:s,props:f,rows:d,url:route("admin.customer-wallet-transaction.data"),loading:o}),m=$e(),g=G(()=>m.screen.gt.sm?v:v.filter(f=>f.name==="id"));return(f,y)=>(p(),I(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id",pagination:i.value,"onUpdate:pagination":y[0]||(y[0]=b=>i.value=b),filter:s.search,loading:o.value,columns:g.value,rows:d.value,"rows-per-page-options":[10,25,50],onRequest:c,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:b,message:S,filter:A})=>[t("div",hr,[t("span",null,r(S)+" "+r(A?" with term "+A:""),1)])]),body:l(b=>[e(Ce,{props:b,class:"cursor-pointer",onClick:X(S=>a(ee).get(f.route("admin.customer-wallet-transaction.detail",{id:b.row.id})),["stop"])},{default:l(()=>[e(H,{key:"id",props:b},{default:l(()=>[t("div",$r,[e(q,{class:"inline-icon",name:"tag"}),_(" "+r(b.row.formatted_id),1)]),t("div",null,[e(q,{class:"inline-icon",name:"calendar_clock"}),_(" "+r(a(ge)(b.row.datetime)),1)]),a(m).screen.lt.md?(p(),$(K,{key:0},[t("div",{class:xe(["text-bold",b.row.amount<0?"text-red":"text-green"])},[e(q,{name:"money",class:"inline-icon"}),_(" "+r(a(Qt)(b.row.amount)),1)],2),t("div",null,[e(we,{text:b.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])],64)):k("",!0),t("div",null,[e(dt,{size:"xs",color:b.row.amount>0?"green":"red"},{default:l(()=>[e(q,{name:"category"}),_(" "+r(b.row.type_label),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(H,{key:"notes",props:b,class:"wrap-column"},{default:l(()=>[e(we,{text:b.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(H,{key:"amount",props:b},{default:l(()=>[t("div",{class:xe(b.row.amount<0?"text-red-10":b.row.amount>0?"text-green-10":"")},r(a(ra)(b.row.amount)),3)]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},xr=Object.freeze(Object.defineProperty({__proto__:null,default:Yl},Symbol.toStringTag,{value:"Module"})),Sr={class:"q-gutter-sm"},Vr={class:"col col-lg-6 q-pa-xs"},qr={class:"row"},La="Rincian Terminal Kasir",Cr={__name:"Detail",setup(u){const n=V("main");return(d,o)=>{const s=Q("i-head"),i=Q("authenticated-layout");return p(),$(K,null,[e(s,{title:La}),e(i,null,{title:l(()=>[_(r(La))]),"left-button":l(()=>[t("div",Sr,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=v=>d.$inertia.get(d.route("admin.cashier-terminal.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Vr,[t("div",qr,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(It,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=v=>n.value=v),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(Xe,{name:"main",label:"Info Utama"}),e(Xe,{name:"session-history",label:"Riwayat Sesi Kasir"})]),_:1},8,["modelValue"]),e(Dt,{modelValue:n.value,"onUpdate:modelValue":o[2]||(o[2]=v=>n.value=v),animated:""},{default:l(()=>[e(Ze,{name:"main"},{default:l(()=>[e(Kl)]),_:1}),e(Ze,{name:"session-history",class:"q-pa-xs"},{default:l(()=>[e(Yl)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},Tr=Object.freeze(Object.defineProperty({__proto__:null,default:Cr},Symbol.toStringTag,{value:"Module"})),Pr={class:"q-gutter-sm"},Or={class:"col col-md-6 q-pa-xs"},Rr={key:0,class:"q-my-xs text-grey-8"},Ir={__name:"Editor",setup(u){const n=be(),d=(n.props.data.id?"Edit":"Tambah")+" Pelanggan",o=Me({id:n.props.data.id,name:n.props.data.name,finance_account_id:n.props.data.finance_account_id??"new",location:n.props.data.location,active:!!n.props.data.active,notes:n.props.data.notes}),s=[{value:"new",label:"Buat Baru (Otomatis)"},...n.props.finance_accounts.map(v=>({value:v.id,label:v.name}))],i=()=>tt({form:o,url:route("admin.cashier-terminal.save")});return(v,c)=>{const m=Q("i-head"),g=Q("authenticated-layout");return p(),$(K,null,[e(m,{title:d}),e(g,null,{title:l(()=>[_(r(d))]),"left-button":l(()=>[t("div",Pr,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=f=>v.$inertia.get(v.route("admin.cashier-terminal.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Or,[e(Ne,{class:"row",onSubmit:X(i,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[te(t("input",{type:"hidden",name:"id","onUpdate:modelValue":c[1]||(c[1]=f=>a(o).id=f)},null,512),[[ut,a(o).id]]),e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[e(oe,{modelValue:a(o).name,"onUpdate:modelValue":c[2]||(c[2]=f=>a(o).name=f),modelModifiers:{trim:!0},label:"Nama",error:!!a(o).errors.name,disable:a(o).processing,"error-message":a(o).errors.name,rules:[f=>f&&f.length>0||"Nama harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(ie,{class:"custom-select",modelValue:a(o).finance_account_id,"onUpdate:modelValue":c[3]||(c[3]=f=>a(o).finance_account_id=f),label:"Akun Kas",options:s,"map-options":"","emit-value":"",errorMessage:a(o).errors.finance_account_id,error:!!a(o).errors.finance_account_id,disable:a(o).processing,"hide-bottom-space":""},null,8,["modelValue","errorMessage","error","disable"]),a(o).finance_account_id==="new"?(p(),$("div",Rr,[c[8]||(c[8]=_(" Akun keuangan akan dibuat ")),a(o).name?(p(),$(K,{key:0},[_(" dengan nama Kas "+r(a(o).name),1)],64)):k("",!0)])):k("",!0),e(oe,{modelValue:a(o).location,"onUpdate:modelValue":c[4]||(c[4]=f=>a(o).location=f),modelModifiers:{trim:!0},label:"Lokasi",error:!!a(o).errors.location,disable:a(o).processing,"error-message":a(o).errors.location,rules:[],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(oe,{modelValue:a(o).notes,"onUpdate:modelValue":c[5]||(c[5]=f=>a(o).notes=f),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Catatan",disable:a(o).processing,error:!!a(o).errors.notes,"error-message":a(o).errors.notes,rules:[],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(ua,{modelValue:a(o).active,"onUpdate:modelValue":c[6]||(c[6]=f=>a(o).active=f),label:"Aktif",disable:a(o).processing},null,8,["modelValue","disable"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(j,{type:"submit",label:"Simpan",icon:"save",color:"primary",disable:a(o).processing},null,8,["disable"]),e(j,{label:"Batal",icon:"cancel",disable:a(o).processing,onClick:c[7]||(c[7]=f=>a(ee).get(v.route("admin.cashier-terminal.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Dr=Object.freeze(Object.defineProperty({__proto__:null,default:Ir},Symbol.toStringTag,{value:"Module"})),Ur={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Ar={class:"q-pa-xs"},jr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Er={class:"flex justify-end"},Ha="Terminal Kasir",Mr={__name:"Index",setup(u){const n=$e(),d=V(!1),o=V([]),s=V(!0),i=V(null),v=V(null),c=We(v),m=Pe({search:"",status:"active",...Re()}),g=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),f=[{name:"name",label:n.screen.lt.md?"Item":"Nama",field:"name",align:"left",sortable:!0},{name:"finance_account_id",label:"Akun Kas",field:"finance_account_id",sortable:!1,align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}],y=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];he(()=>{S()});const b=R=>ot({message:`Hapus Terminal Kasir ${R.name}?`,url:route("admin.cashier-terminal.delete",R.id),fetchItemsCallback:S,loading:s}),S=(R=null)=>{Ie({pagination:g,filter:m,props:R,rows:o,url:route("admin.cashier-terminal.data"),loading:s,tableRef:i})},A=()=>S(),h=R=>ee.get(route("admin.cashier-terminal.detail",{id:R.id})),D=G(()=>n.screen.gt.sm?f:f.filter(R=>R.name==="name"||R.name==="finance_account_id"||R.name==="action"));return(R,T)=>{const B=Q("i-head"),C=Q("authenticated-layout");return p(),$(K,null,[e(B,{title:Ha}),e(C,null,Le({title:l(()=>[_(r(Ha))]),"right-button":l(()=>[e(j,{icon:d.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:T[0]||(T[0]=w=>d.value=!d.value)},null,8,["icon"]),R.$can("admin.cashier-terminal.add")?(p(),I(j,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:T[1]||(T[1]=w=>a(ee).get(R.route("admin.cashier-terminal.add")))})):k("",!0)]),default:l(()=>[t("div",Ar,[e(Te,{class:"full-height-table",style:Be({height:a(c)}),ref_key:"tableRef",ref:i,flat:"",bordered:"",square:"",color:"primary","row-key":"id",pagination:g.value,"onUpdate:pagination":T[5]||(T[5]=w=>g.value=w),filter:m.search,loading:s.value,columns:D.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:S,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:w,message:E,filter:P})=>[t("div",jr,[t("span",null,r(E)+" "+r(P?" with term "+P:""),1)])]),body:l(w=>[e(Ce,{props:w,class:xe([w.row.active?"":"bg-red-1","cursor-pointer"]),onClick:E=>h(w.row)},{default:l(()=>[e(H,{key:"name",props:w,class:"wrap-column"},{default:l(()=>[t("div",null,[e(q,{name:"wallet"}),_(" "+r(w.row.name),1)]),t("div",null,[e(q,{name:"home_pin"}),_(" "+r(w.row.location),1)]),a(n).screen.lt.md?(p(),I(we,{key:0,text:w.row.notes,icon:"notes"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(H,{key:"finance_account_id",props:w},{default:l(()=>[t("div",null,[e(q,{name:"wallet"}),_(" "+r(w.row.finance_account.name),1)]),t("div",null,[e(q,{name:"money"}),_(" "+r(a(it)(w.row.finance_account.balance)),1)])]),_:2},1032,["props"]),e(H,{key:"notes",props:w},{default:l(()=>[e(we,{text:w.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(H,{key:"action",props:w},{default:l(()=>[t("div",Er,[R.$can("admin.cashier-terminal.edit")||R.$can("admin.cashier-terminal.delete")?(p(),I(j,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:T[4]||(T[4]=X(()=>{},["stop"]))},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[R.$can("admin.cashier-terminal.edit")?te((p(),I(le,{key:0,clickable:"",onClick:X(E=>a(ee).get(R.route("admin.cashier-terminal.edit",w.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"edit"})]),_:1}),e(N,null,{default:l(()=>T[6]||(T[6]=[_("Edit")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),R.$can("admin.cashier-terminal.delete")?te((p(),I(le,{key:1,onClick:X(E=>b(w.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>T[7]||(T[7]=[_("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[d.value?{name:"header",fn:l(()=>[e(at,{class:"filter-bar",ref_key:"filterToolbarRef",ref:v},{default:l(()=>[t("div",Ur,[e(ie,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:m.status,"onUpdate:modelValue":[T[2]||(T[2]=w=>m.status=w),A],options:y,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":T[3]||(T[3]=w=>m.search=w),placeholder:"Cari",clearable:""},{append:l(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Nr=Object.freeze(Object.defineProperty({__proto__:null,default:Mr},Symbol.toStringTag,{value:"Module"})),Br={class:"q-gutter-sm"},zr={class:"col col-md-6 q-pa-xs"},Fr={class:"row"},Lr={class:"detail"},Hr={key:0},Kr={key:1},Yr={key:0},Wr={key:1},Qr={colspan:"3",class:"bg-white"},Ka="Rincian Konfirmasi Top Up",Jr={__name:"Detail",setup(u){const n=be();return(d,o)=>{const s=Q("i-head"),i=Q("i-link"),v=Q("my-link"),c=Q("authenticated-layout");return p(),$(K,null,[e(s,{title:Ka}),e(c,{"show-drawer-button":!0},{"left-button":l(()=>[t("div",Br,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=m=>d.$inertia.get(d.route("admin.customer-wallet-transaction-confirmation.index")))})])]),title:l(()=>[t("span",{class:"text-subtitle2"},r(Ka))]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",zr,[t("div",Fr,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[o[23]||(o[23]=t("div",{class:"text-subtitle1 text-bold text-grey-8"}," Rincian Konfirmasi ",-1)),t("table",Lr,[t("tbody",null,[t("tr",null,[o[1]||(o[1]=t("td",{style:{width:"110px"}},"Kode Trx",-1)),o[2]||(o[2]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.formatted_id),1)]),t("tr",null,[o[3]||(o[3]=t("td",null,"Waktu",-1)),o[4]||(o[4]=t("td",null,":",-1)),t("td",null,r(a(ge)(a(n).props.data.datetime)),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"Pelanggan",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,[t("div",null,[e(q,{name:"person",class:"inline-icon"}),_(" "+r(a(n).props.data.customer.code),1)]),t("div",null,[e(q,{name:"person",class:"inline-icon"}),_(" "+r(a(n).props.data.customer.name),1)]),a(n).props.data.customer.phone?(p(),$("div",Hr,[e(q,{name:"phone",class:"inline-icon"}),_(" "+r(a(n).props.data.customer.phone),1)])):k("",!0),a(n).props.data.customer.address?(p(),$("div",Kr,[e(q,{name:"home_pin",class:"inline-icon"}),_(" "+r(a(n).props.data.customer.address),1)])):k("",!0),t("div",null,[e(i,{href:d.route("admin.customer.detail",{id:a(n).props.data.customer_id})},{default:l(()=>o[5]||(o[5]=[_("Lihat Rincian Pelanggan")])),_:1},8,["href"])])])]),t("tr",null,[o[10]||(o[10]=t("td",null,"Akun Tujuan",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,[e(v,{href:d.route("admin.finance-account.detail",{id:a(n).props.data.finance_account.id})},{default:l(()=>[_(r(a(n).props.data.finance_account.name),1)]),_:1},8,["href"]),o[9]||(o[9]=t("br",null,null,-1)),a(n).props.data.finance_account.type==="bank"?(p(),$(K,{key:0},[_(" Rek "+r(a(n).props.data.finance_account.bank)+" an "+r(a(n).props.data.finance_account.holder)+" ",1),o[8]||(o[8]=t("br",null,null,-1)),_(" "+r(a(n).props.data.finance_account.number),1)],64)):k("",!0)])]),t("tr",null,[o[12]||(o[12]=t("td",null,"Jumlah",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,"Rp. "+r(a(W)(a(n).props.data.amount)),1)]),t("tr",null,[o[14]||(o[14]=t("td",null,"Status",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,r(d.$CONSTANTS.CUSTOMER_WALLET_TRANSACTION_CONFIRMATION_STATUSES[a(n).props.data.status]),1)]),t("tr",null,[o[16]||(o[16]=t("td",null,"Catatan",-1)),o[17]||(o[17]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.notes),1)]),a(n).props.data.creator?(p(),$("tr",Yr,[o[18]||(o[18]=t("td",null,"Dibuat",-1)),o[19]||(o[19]=t("td",null,":",-1)),t("td",null,r(a(ge)(a(n).props.data.created_at))+" oleh "+r(a(n).props.data.creator.name),1)])):k("",!0),a(n).props.data.updater?(p(),$("tr",Wr,[o[20]||(o[20]=t("td",null,"Diperbarui",-1)),o[21]||(o[21]=t("td",null,":",-1)),t("td",null,r(a(ge)(a(n).props.data.updated_at))+" oleh "+r(a(n).props.data.updater.name),1)])):k("",!0),a(n).props.data.image_path?(p(),$(K,{key:2},[o[22]||(o[22]=t("tr",null,[t("td",null,"Lampiran"),t("td",null,":"),t("td")],-1)),t("tr",null,[t("td",Qr,[e(Gt,{src:`/${a(n).props.data.image_path}`,class:"q-mt-none",style:Be([{"max-width":"500px"},{border:"1px solid #ddd"}])},null,8,["src"])])])],64)):k("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Gr=Object.freeze(Object.defineProperty({__proto__:null,default:Jr},Symbol.toStringTag,{value:"Module"})),Xr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Zr={class:"q-pa-xs"},ei={class:"flex justify-end no-wrap"},Ya="Konfirmasi Top Up Wallet",ti={__name:"Index",setup(u){const n=$e(),d=V(!1),o=V([]),s=V(!0),i=V(null),v=V(null),c=We(v),m=V(null),g=V(!1),f=zt(),y=Ft(),b=[{label:"Semua Tahun",value:"all"},...Pt(f-2,f).reverse()],S=[{value:"all",label:"Semua Bulan"},...Ot()],A=[{value:"all",label:"Semua Status"},...lt(window.CONSTANTS.CUSTOMER_WALLET_TRANSACTION_CONFIRMATION_STATUSES)],h=Pe({search:"",year:f,month:y,status:"all",...Re()}),D=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!1}),R=[{name:"datetime",label:"Tanggal",field:"datetime",align:"left",sortable:!0},{name:"finance_account_id",label:"Bank Tujuan",field:"finance_account_id",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"status",label:"Status",field:"status",align:"center"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",label:"Aksi",field:"action",align:"center"}];he(()=>{T()});const T=(M=null)=>{Ie({pagination:D,filter:h,props:M,rows:o,url:route("admin.customer-wallet-transaction-confirmation.data"),loading:s,tableRef:i})},B=()=>{T()},C=G(()=>n.screen.gt.sm?R:R.filter(M=>["datetime","action"].includes(M.name)));je(()=>h.year,M=>{M===null&&(h.month=null)});const w=M=>Aa({message:`Setujui konfirmasi transaksi #${M.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",M.id),fetchItemsCallback:T,loading:s,data:{id:M.id,action:"accept"}}),E=M=>Aa({message:`Tolak konfirmasi transaksi #${M.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",M.id),fetchItemsCallback:T,loading:s,data:{id:M.id,action:"reject"}}),P=M=>ot({message:`Hapus konfirmasi transaksi ${M.formatted_id}?`,url:route("admin.customer-wallet-transaction-confirmation.delete",M.id),fetchItemsCallback:T,loading:s}),F=M=>{m.value=M,g.value=!0};return(M,x)=>{const z=Q("i-head"),J=Q("authenticated-layout");return p(),$(K,null,[e(z,{title:Ya}),e(J,null,Le({title:l(()=>[_(r(Ya))]),"right-button":l(()=>[e(j,{class:"q-ml-sm",icon:d.value?"filter_alt_off":"filter_alt",color:"grey",flat:"",rounded:"",dense:"",onClick:x[0]||(x[0]=O=>d.value=!d.value)},null,8,["icon"])]),default:l(()=>[t("div",Zr,[e(Te,{ref_key:"tableRef",ref:i,class:"full-height-table",style:Be({height:a(c)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id",pagination:D.value,"onUpdate:pagination":x[6]||(x[6]=O=>D.value=O),filter:h.search,loading:s.value,columns:C.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:T,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),body:l(O=>[e(Ce,{props:O,class:"cursor-pointer",onClick:X(U=>a(ee).get(M.route("admin.customer-wallet-transaction-confirmation.detail",{id:O.row.id})),["stop"])},{default:l(()=>[e(H,{key:"datetime",props:O,class:"wrap-column"},{default:l(()=>[t("div",null,[e(q,{class:"inline-icon",name:"tag"}),_(" "+r(O.row.formatted_id),1)]),t("div",null,[e(q,{name:"calendar_clock",class:"inline-icon"}),_(" "+r(a(ge)(O.row.datetime)),1)]),a(n).screen.gt.sm?k("",!0):(p(),$(K,{key:0},[e(we,{icon:"account_balance",text:O.row.finance_account.name},null,8,["text"]),t("div",null,[e(q,{name:"person",class:"inline-icon"}),_(" "+r(O.row.customer.code)+" - "+r(O.row.customer.name),1)]),t("div",null,[e(q,{name:"money",class:"inline-icon"}),_(" Rp. "+r(a(W)(O.row.amount)),1)]),O.row.notes?(p(),I(we,{key:0,icon:"notes",text:O.row.notes},null,8,["text"])):k("",!0),t("div",null,[e(Ua,{status:O.row.status},null,8,["status"])])],64))]),_:2},1032,["props"]),e(H,{key:"finance_account_id",props:O},{default:l(()=>[_(r(O.row.finance_account.name),1),x[8]||(x[8]=t("br",null,null,-1)),_(" "+r(O.row.finance_account.bank)+" "+r(O.row.finance_account.number)+" an. "+r(O.row.finance_account.holder),1)]),_:2},1032,["props"]),e(H,{key:"amount",props:O,style:{"text-align":"right"}},{default:l(()=>[_(r(a(W)(O.row.amount)),1)]),_:2},1032,["props"]),e(H,{key:"status",props:O,class:"text-center"},{default:l(()=>[e(Ua,{status:O.row.status},null,8,["status"])]),_:2},1032,["props"]),e(H,{key:"notes",props:O,class:"word-wrap"},{default:l(()=>[e(we,{icon:"notes",text:O.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(H,{key:"action",props:O,class:"text-center"},{default:l(()=>[t("div",ei,[e(j,{icon:"image",color:"primary",dense:"",flat:"",disable:O.row.image_path===null||O.row.image_path==="",onClick:X(U=>F(O.row.image_path),["stop"])},{default:l(()=>[O.row.image_path!=null?(p(),I(Lt,{key:0},{default:l(()=>x[9]||(x[9]=[_(" Lihat Bukti ")])),_:1})):k("",!0)]),_:2},1032,["disable","onClick"]),M.$can("admin.customer-wallet-transaction-confirmation:accept")||M.$can("admin.customer-wallet-transaction-confirmation:deny")||M.$can("admin.customer-wallet-transaction-confirmation.delete")?(p(),I(j,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:x[5]||(x[5]=X(()=>{},["stop"]))},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[M.$can("admin.customer-wallet-transaction-confirmation:accept")?te((p(),I(le,{key:0,onClick:X(U=>w(O.row),["stop"]),clickable:"",disable:O.row.status!=="pending"},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"check"})]),_:1}),e(N,null,{default:l(()=>x[10]||(x[10]=[_("Setujui")])),_:1})]),_:2},1032,["onClick","disable"])),[[re],[me]]):k("",!0),M.$can("admin.customer-wallet-transaction-confirmation:deny")?te((p(),I(le,{key:1,onClick:X(U=>E(O.row),["stop"]),clickable:"",disable:O.row.status!=="pending"},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"cancel"})]),_:1}),e(N,null,{default:l(()=>x[11]||(x[11]=[_("Tolak")])),_:1})]),_:2},1032,["onClick","disable"])),[[re],[me]]):k("",!0),e(et),M.$can("admin.customer-wallet-transaction-confirmation.delete")?te((p(),I(le,{key:2,onClick:X(U=>P(O.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>x[12]||(x[12]=[_("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"]),e(ia,{modelValue:g.value,"onUpdate:modelValue":x[7]||(x[7]=O=>g.value=O),imageUrl:`/${m.value}`},null,8,["modelValue","imageUrl"])])]),_:2},[d.value?{name:"header",fn:l(()=>[e(at,{class:"filter-bar",ref_key:"filterToolbarRef",ref:v},{default:l(()=>[t("div",Xr,[e(ie,{modelValue:h.year,"onUpdate:modelValue":[x[1]||(x[1]=O=>h.year=O),B],options:b,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),h.year!=="all"?(p(),I(ie,{key:0,modelValue:h.month,"onUpdate:modelValue":[x[2]||(x[2]=O=>h.month=O),B],options:S,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:h.year===null},null,8,["modelValue","disable"])):k("",!0),e(ie,{modelValue:h.status,"onUpdate:modelValue":[x[3]||(x[3]=O=>h.status=O),B],options:A,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:h.search,"onUpdate:modelValue":x[4]||(x[4]=O=>h.search=O),placeholder:"Cari...",clearable:""},{append:l(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},ai=Object.freeze(Object.defineProperty({__proto__:null,default:ti},Symbol.toStringTag,{value:"Module"}));function Wl(u,n=!1){const d=u.map(v=>({value:v.id,label:v.code+" - "+v.name})),o=n?[{value:"all",label:"Semua"},...d]:d,s=V([...o]);return{filteredCustomers:s,filterCustomersFn:(v,c)=>{c(()=>{s.value=o.filter(m=>m.label.toLowerCase().includes(v.toLowerCase()))})},customers:o}}const li={class:"col col-md-6 q-pa-xs"},Wa="Penyesuaian Saldo Dompet Pelanggan",oi={__name:"Adjustment",setup(u){const n=be(),{filteredCustomers:d,filterCustomersFn:o}=Wl(n.props.customers,!1),s=Me({customer_id:null,old_wallet_balance:0,new_wallet_balance:0,notes:""}),i=()=>s.amount=s.new_wallet_balance-s.old_wallet_balance;je(()=>s.customer_id,async m=>{if(!m){s.old_wallet_balance=0,s.new_wallet_balance=0,i();return}s.processing=!0;try{const g=await axios.get(route("admin.customer.wallet_balance",{id:m}));s.new_wallet_balance=s.old_wallet_balance=g.data.wallet_balance}catch(g){console.error("Gagal mengambil saldo:",g),s.old_wallet_balance=0,s.new_wallet_balance=0}s.processing=!1,i()});const v=G(()=>s.new_wallet_balance-s.old_wallet_balance),c=()=>tt({form:s,url:route("admin.customer-wallet-transaction.adjustment")});return(m,g)=>{const f=Q("i-head"),y=Q("authenticated-layout");return p(),$(K,null,[e(f,{title:Wa}),e(y,null,{title:l(()=>[_(r(Wa))]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",li,[e(Ne,{class:"row",onSubmit:X(c,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[e(ie,{class:"custom-select",modelValue:a(s).customer_id,"onUpdate:modelValue":g[0]||(g[0]=b=>a(s).customer_id=b),label:"Pelanggan","use-input":"","input-debounce":"300",clearable:"",options:a(d),"map-options":"","emit-value":"",errorMessage:a(s).errors.customer_id,onFilter:a(o),error:!!a(s).errors.customer_id,disable:a(s).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(le,null,{default:l(()=>[e(N,null,{default:l(()=>g[6]||(g[6]=[_("Pelanggan tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(Ae,{modelValue:a(s).old_wallet_balance,"onUpdate:modelValue":g[1]||(g[1]=b=>a(s).old_wallet_balance=b),label:"Saldo Tercatat",readonly:"",lazyRules:"",disable:a(s).processing,error:!!a(s).errors.old_wallet_balance,errorMessage:a(s).errors.old_wallet_balance},null,8,["modelValue","disable","error","errorMessage"]),e(Ae,{modelValue:a(s).new_wallet_balance,"onUpdate:modelValue":g[2]||(g[2]=b=>a(s).new_wallet_balance=b),label:"Saldo Seharusnya",lazyRules:"",disable:a(s).processing,error:!!a(s).errors.new_wallet_balance,errorMessage:a(s).errors.new_wallet_balance},null,8,["modelValue","disable","error","errorMessage"]),e(Ae,{modelValue:v.value,"onUpdate:modelValue":g[3]||(g[3]=b=>v.value=b),label:"Selisih",readonly:"",lazyRules:"",disable:a(s).processing},null,8,["modelValue","disable"]),e(oe,{modelValue:a(s).notes,"onUpdate:modelValue":g[4]||(g[4]=b=>a(s).notes=b),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(s).processing,error:!!a(s).errors.notes,"error-message":a(s).errors.notes,rules:[b=>b&&b.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(j,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(s).processing},null,8,["disable"]),e(j,{icon:"cancel",label:"Batal",disable:a(s).processing,onClick:g[5]||(g[5]=b=>a(ee).get(m.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},ni=Object.freeze(Object.defineProperty({__proto__:null,default:oi},Symbol.toStringTag,{value:"Module"})),si={class:"q-gutter-sm"},ri={class:"col col-md-6 q-pa-xs"},ii={class:"row"},di={class:"detail"},ui={key:0},mi={key:1},ci={key:0},pi={key:1},fi={colspan:"3",class:"bg-white"},Qa="Rincian Transaksi",gi={__name:"Detail",setup(u){const n=be();return(d,o)=>{const s=Q("i-head"),i=Q("i-link"),v=Q("authenticated-layout");return p(),$(K,null,[e(s,{title:Qa}),e(v,null,{"left-button":l(()=>[t("div",si,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=c=>d.$goBack())})])]),title:l(()=>[_(r(Qa))]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",ri,[t("div",ii,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[o[19]||(o[19]=t("div",{class:"text-subtitle1 text-bold text-grey-8"}," Rincian Transaksi Wallet ",-1)),t("table",di,[t("tbody",null,[t("tr",null,[o[1]||(o[1]=t("td",{style:{width:"110px"}},"Kode Trx",-1)),o[2]||(o[2]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.formatted_id),1)]),t("tr",null,[o[3]||(o[3]=t("td",null,"Waktu",-1)),o[4]||(o[4]=t("td",null,":",-1)),t("td",null,r(a(ge)(a(n).props.data.datetime)),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"Pelanggan",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,[t("div",null,[e(q,{name:"person",class:"inline-icon"}),_(" "+r(a(n).props.data.customer.code),1)]),t("div",null,[e(q,{name:"person",class:"inline-icon"}),_(" "+r(a(n).props.data.customer.name),1)]),a(n).props.data.customer.phone?(p(),$("div",ui,[e(q,{name:"phone",class:"inline-icon"}),_(" "+r(a(n).props.data.customer.phone),1)])):k("",!0),a(n).props.data.customer.address?(p(),$("div",mi,[e(q,{name:"home_pin",class:"inline-icon"}),_(" "+r(a(n).props.data.customer.address),1)])):k("",!0),t("div",null,[e(i,{href:d.route("admin.customer.detail",{id:a(n).props.data.customer_id})},{default:l(()=>o[5]||(o[5]=[_("Lihat Rincian Pelanggan")])),_:1},8,["href"])])])]),t("tr",null,[o[8]||(o[8]=t("td",null,"Jenis Transaksi",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,r(d.$CONSTANTS.CUSTOMER_WALLET_TRANSACTION_TYPES[a(n).props.data.type]),1)]),t("tr",null,[o[10]||(o[10]=t("td",null,"Jumlah",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",{class:xe(a(n).props.data.amount>0?"text-positive":"text-negative")},r(a(Bt)(a(n).props.data.amount))+"Rp. "+r(a(W)(Math.abs(a(n).props.data.amount))),3)]),t("tr",null,[o[12]||(o[12]=t("td",null,"Catatan",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.notes),1)]),a(n).props.data.creator?(p(),$("tr",ci,[o[14]||(o[14]=t("td",null,"Dibuat",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,r(a(ge)(a(n).props.data.created_at))+" oleh "+r(a(n).props.data.creator.name),1)])):k("",!0),a(n).props.data.updater?(p(),$("tr",pi,[o[16]||(o[16]=t("td",null,"Diperbarui",-1)),o[17]||(o[17]=t("td",null,":",-1)),t("td",null,r(a(ge)(a(n).props.data.updated_at))+" oleh "+r(a(n).props.data.updater.name),1)])):k("",!0),a(n).props.data.image_path?(p(),$(K,{key:2},[o[18]||(o[18]=t("tr",null,[t("td",null,"Lampiran"),t("td",null,":"),t("td")],-1)),t("tr",null,[t("td",fi,[e(Gt,{src:`/${a(n).props.data.image_path}`,class:"q-mt-none",style:Be([{"max-width":"500px"},{border:"1px solid #ddd"}])},null,8,["src"])])])],64)):k("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},bi=Object.freeze(Object.defineProperty({__proto__:null,default:gi},Symbol.toStringTag,{value:"Module"})),vi={class:"q-gutter-sm"},_i={class:"col col-md-6 q-pa-xs"},yi={__name:"Editor",setup(u){var g;const n=be(),d=(n.props.data.id?"Edit":"Catat")+" Transaksi Dompet Pelanggan",{filteredCustomers:o,filterCustomersFn:s}=Wl(n.props.customers,!1),i=[{label:"Deposit (+)",value:"deposit"},{label:"Penarikan (-)",value:"withdrawal"}],v=n.props.finance_accounts.map(f=>({label:f.name,value:f.id})),c=Me({id:n.props.data.id,customer_id:n.props.data.customer_id,finance_account_id:n.props.data.finance_account_id,type:n.props.data.type,datetime:new Date(n.props.data.datetime),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount),image_path:((g=n.props.data)==null?void 0:g.image_path)??"",image:null}),m=()=>{Xt(c,{datetime:"YYYY-MM-DD HH:mm:ss"}),tt({form:c,url:route("admin.customer-wallet-transaction.save")})};return(f,y)=>{const b=Q("i-head"),S=Q("authenticated-layout");return p(),$(K,null,[e(b,{title:d}),e(S,null,{title:l(()=>[_(r(d))]),"left-button":l(()=>[t("div",vi,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:y[0]||(y[0]=A=>f.$inertia.get(f.route("admin.customer-wallet-transaction.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",_i,[e(Ne,{class:"row",onSubmit:X(m,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[te(t("input",{type:"hidden",name:"id","onUpdate:modelValue":y[1]||(y[1]=A=>a(c).id=A)},null,512),[[ut,a(c).id]]),e(Ht,{autofocus:"",modelValue:a(c).datetime,"onUpdate:modelValue":y[2]||(y[2]=A=>a(c).datetime=A),label:"Tanggal",error:!!a(c).errors.datetime,disable:a(c).processing,"hide-bottom-space":""},null,8,["modelValue","error","disable"]),e(ie,{class:"custom-select",modelValue:a(c).customer_id,"onUpdate:modelValue":y[3]||(y[3]=A=>a(c).customer_id=A),label:"Pelanggan","use-input":"","input-debounce":"300",clearable:"",options:a(o),"map-options":"","emit-value":"",errorMessage:a(c).errors.customer_id,onFilter:a(s),error:!!a(c).errors.customer_id,disable:a(c).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(le,null,{default:l(()=>[e(N,null,{default:l(()=>y[10]||(y[10]=[_("Pelanggan tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(ie,{modelValue:a(c).type,"onUpdate:modelValue":y[4]||(y[4]=A=>a(c).type=A),label:"Jenis",options:i,"map-options":"","emit-value":"",error:!!a(c).errors.type,disable:a(c).processing,errorMessage:a(c).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(ie,{modelValue:a(c).finance_account_id,"onUpdate:modelValue":y[5]||(y[5]=A=>a(c).finance_account_id=A),label:a(c).type=="deposit"?"Kas Tujuan":"Kas Asal",options:a(v),"map-options":"","emit-value":"",error:!!a(c).errors.finance_account_id,disable:a(c).processing,errorMessage:a(c).errors.finance_account_id,"hide-bottom-space":""},null,8,["modelValue","label","options","error","disable","errorMessage"]),e(Ae,{modelValue:a(c).amount,"onUpdate:modelValue":y[6]||(y[6]=A=>a(c).amount=A),label:"Jumlah",lazyRules:"",disable:a(c).processing,error:!!a(c).errors.amount,errorMessage:a(c).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(oe,{modelValue:a(c).notes,"onUpdate:modelValue":y[7]||(y[7]=A=>a(c).notes=A),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(c).processing,error:!!a(c).errors.notes,"error-message":a(c).errors.notes,rules:[A=>A&&A.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e($a,{modelValue:a(c).image,"onUpdate:modelValue":y[8]||(y[8]=A=>a(c).image=A),"initial-image-path":a(c).image_path,disabled:a(c).processing,error:!!a(c).errors.image||!!a(c).errors.image_path,"error-message":a(c).errors.image||a(c).errors.image_path},null,8,["modelValue","initial-image-path","disabled","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(j,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(c).processing},null,8,["disable"]),e(j,{icon:"cancel",label:"Batal",disable:a(c).processing,onClick:y[9]||(y[9]=A=>a(ee).get(f.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},ki=Object.freeze(Object.defineProperty({__proto__:null,default:yi},Symbol.toStringTag,{value:"Module"})),wi={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},hi={class:"q-pa-xs"},$i={class:"full-width row flex-center text-grey-8 q-gutter-sm"},xi={key:0},Si={class:"flex justify-end no-wrap"},Ja="Transaksi Dompet Pelanggan",Vi={__name:"Index",setup(u){const n=$e(),d=V(!1),o=V([]),s=V(!0),i=V(null),v=V(null),c=We(v),m=new Date().getFullYear(),g=new Date().getMonth()+1,f=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...Pt(m-2,m-1).reverse()],y=[{value:"all",label:"Semua Bulan"},...Ot()],b=Pe({search:"",year:m,month:g,...Re()}),S=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!0}),A=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"customer",label:"Pelanggan",field:"customer",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];he(()=>{D()});const h=E=>ot({message:`Hapus transaksi #${E.formatted_id}? Seluruh akun terkait akan di refund dan rekaman akan dihapus.`,url:route("admin.customer-wallet-transaction.delete",E.id),fetchItemsCallback:D,loading:s}),D=(E=null)=>{Ie({pagination:S,filter:b,props:E,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:s,tableRef:i})},R=()=>{D()},T=G(()=>n.screen.gt.sm?A:A.filter(E=>E.name==="datetime"||E.name==="action"));je(()=>b.year,E=>{E===null&&(b.month=null)});const B=V(null),C=V(!1),w=E=>{B.value=E,C.value=!0};return(E,P)=>{const F=Q("i-head"),M=Q("authenticated-layout");return p(),$(K,null,[e(F,{title:Ja}),e(M,null,Le({title:l(()=>[_(r(Ja))]),"right-button":l(()=>[e(j,{icon:d.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:P[0]||(P[0]=x=>d.value=!d.value)},null,8,["icon"]),E.$can("admin.customer-wallet-transaction.add")?(p(),I(j,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:P[1]||(P[1]=x=>a(ee).get(E.route("admin.customer-wallet-transaction.add")))})):k("",!0)]),default:l(()=>[t("div",hi,[e(Te,{ref_key:"tableRef",ref:i,style:Be({height:a(c)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id",pagination:S.value,"onUpdate:pagination":P[6]||(P[6]=x=>S.value=x),filter:b.search,loading:s.value,columns:T.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:D,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:x,message:z,filter:J})=>[t("div",$i,[t("span",null,r(z)+" "+r(J?" with term "+J:""),1)])]),body:l(x=>[e(Ce,{props:x,class:"cursor-pointer",onClick:X(z=>a(ee).get(E.route("admin.customer-wallet-transaction.detail",{id:x.row.id})),["stop"])},{default:l(()=>[e(H,{key:"datetime",props:x,class:"wrap-column"},{default:l(()=>[t("div",null,[e(q,{name:"tag",class:"inline-icon"}),_(" "+r(x.row.formatted_id),1)]),t("div",null,[e(q,{name:"calendar_clock",class:"inline-icon"}),_(" "+r(a(ge)(x.row.datetime)),1)]),x.row.finance_account?(p(),$("div",xi,[e(q,{name:"wallet",class:"inline-icon"}),_(" "+r(x.row.finance_account?x.row.finance_account.name:"-"),1)])):k("",!0),a(n).screen.gt.sm?k("",!0):(p(),$(K,{key:1},[e(we,{icon:"person",text:x.row.customer.code+" - "+x.row.customer.name},null,8,["text"]),t("div",{class:xe([x.row.amount>0?"text-positive":"text-negative","text-bold"])},[e(q,{name:"money",class:"inline-icon"}),_(" "+r(a(Bt)(x.row.amount))+"Rp. "+r(a(W)(Math.abs(x.row.amount))),1)],2),e(we,{text:x.row.notes,icon:"notes",class:"text-grey-8"},null,8,["text"]),t("div",null,[e(dt,null,{default:l(()=>[_(r(x.row.type_label),1)]),_:2},1024)])],64))]),_:2},1032,["props"]),e(H,{key:"customer",props:x},{default:l(()=>[e(we,{text:x.row.customer.code+" - "+x.row.customer.name},null,8,["text"])]),_:2},1032,["props"]),e(H,{key:"notes",props:x},{default:l(()=>[e(we,{text:x.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(H,{key:"amount",props:x,style:{"text-align":"right"}},{default:l(()=>[_(r(a(ra)(x.row.amount)),1)]),_:2},1032,["props"]),e(H,{key:"action",props:x},{default:l(()=>[t("div",Si,[e(j,{icon:"image",color:"primary",dense:"",flat:"",disable:x.row.image_path===null||x.row.image_path==="",onClick:X(z=>w(x.row.image_path),["stop"])},{default:l(()=>[x.row.image_path!=null?(p(),I(Lt,{key:0},{default:l(()=>P[8]||(P[8]=[_(" Lihat Bukti ")])),_:1})):k("",!0)]),_:2},1032,["disable","onClick"]),E.$can("admin.customer-wallet-transaction.delete")?(p(),I(j,{key:0,icon:"more_vert",rounded:"",dense:"",flat:"",onClick:P[5]||(P[5]=X(()=>{},["stop"]))},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[E.$can("admin.customer-wallet-transaction.delete")?te((p(),I(le,{key:0,onClick:X(z=>h(x.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>P[9]||(P[9]=[_("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])]),e(ia,{modelValue:C.value,"onUpdate:modelValue":P[7]||(P[7]=x=>C.value=x),imageUrl:`/${B.value}`},null,8,["modelValue","imageUrl"])]),_:2},[d.value?{name:"header",fn:l(()=>[e(at,{class:"filter-bar",ref_key:"filterToolbarRef",ref:v},{default:l(()=>[t("div",wi,[e(ie,{modelValue:b.year,"onUpdate:modelValue":[P[2]||(P[2]=x=>b.year=x),R],options:f,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(ie,{modelValue:b.month,"onUpdate:modelValue":[P[3]||(P[3]=x=>b.month=x),R],options:y,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:b.year===null},null,8,["modelValue","disable"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:b.search,"onUpdate:modelValue":P[4]||(P[4]=x=>b.search=x),placeholder:"Cari",clearable:""},{append:l(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},qi=Object.freeze(Object.defineProperty({__proto__:null,default:Vi},Symbol.toStringTag,{value:"Module"})),Ci={class:"detail"},Ti={colspan:"3"},Pi={class:"text-bold text-grey-8"},Oi={key:0},Ri={key:1},Ii={class:"text-grey-8"},Di={key:2},Ui={class:"text-grey-8"},Ql={__name:"MainInfoTab",setup(u){const n=be();return(d,o)=>(p(),$("table",Ci,[t("tbody",null,[t("tr",null,[t("td",Ti,[t("div",Pi,[o[1]||(o[1]=_(" Info Pelanggan ")),d.$can("admin.customer.edit")?(p(),I(j,{key:0,icon:"edit",size:"sm",dense:"",flat:"",rounded:"",class:"q-ml-sm",color:"grey",onClick:o[0]||(o[0]=s=>d.$inertia.get(d.route("admin.customer.edit",{id:a(n).props.data.id})))})):k("",!0)])])]),t("tr",null,[o[2]||(o[2]=t("td",{style:{width:"120px"}},"Username",-1)),o[3]||(o[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.code),1)]),t("tr",null,[o[4]||(o[4]=t("td",null,"Jenis",-1)),o[5]||(o[5]=t("td",null,":",-1)),t("td",null,r(d.$CONSTANTS.CUSTOMER_TYPES[a(n).props.data.type]),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"Nama",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.name),1)]),t("tr",null,[o[8]||(o[8]=t("td",null,"No. Telepon",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.phone?a(n).props.data.phone:"-"),1)]),t("tr",null,[o[10]||(o[10]=t("td",null,"Alamat",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.address?a(n).props.data.address:"-"),1)]),t("tr",null,[o[12]||(o[12]=t("td",null,"Saldo Wallet",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,"Rp. "+r(a(W)(a(n).props.data.wallet_balance)),1)]),t("tr",null,[o[14]||(o[14]=t("td",null,"Status",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),o[25]||(o[25]=t("tr",null,[t("td",{colspan:"3"},[t("div",{class:"text-bold text-grey-8 q-mt-md"},"Info Akun")])],-1)),a(n).props.data.created_at?(p(),$("tr",Oi,[o[16]||(o[16]=t("td",null,"Dibuat",-1)),o[17]||(o[17]=t("td",null,":",-1)),t("td",null,r(a(qt)(a(n).props.data.created_at))+" oleh "+r(a(n).props.data.creator.name)+" ("+r(a(ge)(a(n).props.data.created_at))+") ",1)])):k("",!0),a(n).props.data.updated_at?(p(),$("tr",Ri,[o[18]||(o[18]=t("td",null,"Diperbarui",-1)),o[19]||(o[19]=t("td",null,":",-1)),t("td",null,r(a(qt)(a(n).props.data.updated_at))+" oleh "+r(a(n).props.data.updater.name)+" ("+r(a(ge)(a(n).props.data.updated_at))+") ",1)])):k("",!0),t("tr",null,[o[20]||(o[20]=t("td",null,"Terakhir login",-1)),o[21]||(o[21]=t("td",null,":",-1)),t("td",null,[_(r(a(n).props.data.last_login_datetime?a(ge)(a(n).props.data.last_login_datetime):"Belum pernah login")+" ",1),t("span",Ii,"("+r(a(qt)(a(n).props.data.last_login_datetime))+")",1)])]),a(n).props.data.last_activity_datetime?(p(),$("tr",Di,[o[23]||(o[23]=t("td",null,"Aktifitas Terakhir",-1)),o[24]||(o[24]=t("td",null,":",-1)),t("td",null,[_(r(a(ge)(a(n).props.data.last_activity_datetime))+" ",1),t("span",Ui,[_("("+r(a(qt)(a(n).props.data.last_activity_datetime))+")",1),o[22]||(o[22]=t("br",null,null,-1)),_(r(a(n).props.data.last_activity_description),1)])])])):k("",!0)])]))}},Ai=Object.freeze(Object.defineProperty({__proto__:null,default:Ql},Symbol.toStringTag,{value:"Module"})),ji={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ei={class:"text-bold"},Jl={__name:"WalletHistoryTab",setup(u){const n=be(),d=V([]),o=V(!0),s=Pe({customer_id:n.props.data.id,...Re()}),i=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),v=[{name:"id",label:"Trx",field:"id",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah",field:"amount",align:"right"}];he(()=>{c()});const c=(f=null)=>Ie({pagination:i,filter:s,props:f,rows:d,url:route("admin.customer-wallet-transaction.data"),loading:o}),m=$e(),g=G(()=>m.screen.gt.sm?v:v.filter(f=>f.name==="id"));return(f,y)=>(p(),I(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id",pagination:i.value,"onUpdate:pagination":y[0]||(y[0]=b=>i.value=b),filter:s.search,loading:o.value,columns:g.value,rows:d.value,"rows-per-page-options":[10,25,50],onRequest:c,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:b,message:S,filter:A})=>[t("div",ji,[t("span",null,r(S)+" "+r(A?" with term "+A:""),1)])]),body:l(b=>[e(Ce,{props:b,class:"cursor-pointer",onClick:X(S=>a(ee).get(f.route("admin.customer-wallet-transaction.detail",{id:b.row.id})),["stop"])},{default:l(()=>[e(H,{key:"id",props:b},{default:l(()=>[t("div",Ei,[e(q,{class:"inline-icon",name:"tag"}),_(" "+r(b.row.formatted_id),1)]),t("div",null,[e(q,{class:"inline-icon",name:"calendar_clock"}),_(" "+r(a(ge)(b.row.datetime)),1)]),a(m).screen.lt.md?(p(),$(K,{key:0},[t("div",{class:xe(["text-bold",b.row.amount<0?"text-red":"text-green"])},[e(q,{name:"money",class:"inline-icon"}),_(" "+r(a(Qt)(b.row.amount)),1)],2),t("div",null,[e(we,{text:b.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])],64)):k("",!0),t("div",null,[e(dt,{size:"xs",color:b.row.amount>0?"green":"red"},{default:l(()=>[e(q,{name:"category"}),_(" "+r(b.row.type_label),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(H,{key:"notes",props:b,class:"wrap-column"},{default:l(()=>[e(we,{text:b.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(H,{key:"amount",props:b},{default:l(()=>[t("div",{class:xe(b.row.amount<0?"text-red-10":b.row.amount>0?"text-green-10":"")},r(a(ra)(b.row.amount)),3)]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},Mi=Object.freeze(Object.defineProperty({__proto__:null,default:Jl},Symbol.toStringTag,{value:"Module"})),Ni={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Bi={class:"text-bold"},zi={class:"text-bold"},Fi={key:0},Gl={__name:"OrderHistoryTab",setup(u){const n=be(),d=V([]),o=V(!0),s=Pe({customer_id:n.props.data.id,...Re()}),i=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),v=[{name:"id",label:"Trx",field:"id",align:"left"},{name:"grand_total",label:"Total",field:"grand_total",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}];he(()=>{c()});const c=(f=null)=>Ie({pagination:i,filter:s,props:f,rows:d,url:route("admin.sales-order.data",{filter:{status:["closed","canceled"],customer_id:n.props.data.id}}),loading:o}),m=$e(),g=G(()=>m.screen.gt.sm?v:v.filter(f=>f.name==="id"));return(f,y)=>(p(),I(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id",pagination:i.value,"onUpdate:pagination":y[0]||(y[0]=b=>i.value=b),filter:s.search,loading:o.value,columns:g.value,rows:d.value,"rows-per-page-options":[10,25,50],onRequest:c,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:b,message:S,filter:A})=>[t("div",Ni,[t("span",null,r(S)+" "+r(A?" with term "+A:""),1)])]),body:l(b=>[e(Ce,{props:b,class:"cursor-pointer",onClick:X(S=>a(ee).get(f.route("admin.sales-order.detail",{id:b.row.id})),["stop"])},{default:l(()=>[e(H,{key:"id",props:b},{default:l(()=>[t("div",Bi,[e(q,{class:"inline-icon",name:"tag"}),_(" "+r(b.row.formatted_id),1)]),t("div",null,[e(q,{class:"inline-icon",name:"calendar_clock"}),_(" "+r(a(ge)(b.row.datetime)),1)]),a(m).screen.lt.md?(p(),$(K,{key:0},[t("div",zi,[e(q,{name:"money",class:"inline-icon"}),_(" Rp. "+r(a(W)(b.row.grand_total)),1)]),b.row.notes?(p(),$("div",Fi,[e(we,{text:b.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])):k("",!0)],64)):k("",!0),t("div",null,[e(dt,{color:b.row.status=="closed"?"green":"red"},{default:l(()=>[_(r(f.$CONSTANTS.SALES_ORDER_STATUSES[b.row.status]),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(H,{key:"grand_total",props:b},{default:l(()=>[t("div",null,r(a(W)(b.row.grand_total)),1)]),_:2},1032,["props"]),e(H,{key:"notes",props:b,class:"wrap-column"},{default:l(()=>[e(we,{text:b.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},Li=Object.freeze(Object.defineProperty({__proto__:null,default:Gl},Symbol.toStringTag,{value:"Module"})),Hi=ht({name:"QSpace",setup(){const u=ke("div",{class:"q-space"});return()=>u}}),Ki={class:"detail"},Ga={__name:"SupplierDetail",props:{data:{type:Object,default:null}},setup(u){return(n,d)=>(p(),$("table",Ki,[t("tbody",null,[t("tr",null,[d[0]||(d[0]=t("td",{style:{width:"100px"}},"Nama",-1)),d[1]||(d[1]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(u.data.name),1)]),t("tr",null,[d[4]||(d[4]=t("td",null,"No Telepon",-1)),d[5]||(d[5]=t("td",null,":",-1)),t("td",null,[_(r(u.data.phone_1)+" ",1),u.data.phone_2?(p(),$(K,{key:0},[d[2]||(d[2]=t("br",null,null,-1)),_(" "+r(u.data.phone_2),1)],64)):k("",!0),u.data.phone_3?(p(),$(K,{key:1},[d[3]||(d[3]=t("br",null,null,-1)),_(" "+r(u.data.phone_3),1)],64)):k("",!0)])]),t("tr",null,[d[6]||(d[6]=t("td",null,"Alamat",-1)),d[7]||(d[7]=t("td",null,":",-1)),t("td",null,r(u.data.address),1)]),t("tr",null,[d[8]||(d[8]=t("td",null,"Alamat Retur",-1)),d[9]||(d[9]=t("td",null,":",-1)),t("td",null,r(u.data.returned_address??"-"),1)]),t("tr",null,[d[10]||(d[10]=t("td",null,"No Rek 1",-1)),d[11]||(d[11]=t("td",null,":",-1)),t("td",null,r(u.data.bank_account_name_1)+" a.n. "+r(u.data.bank_account_holder_1)+" "+r(u.data.bank_account_number_1),1)]),t("tr",null,[d[12]||(d[12]=t("td",null,"No Rek 2",-1)),d[13]||(d[13]=t("td",null,":",-1)),t("td",null,r(u.data.bank_account_name_2)+" a.n. "+r(u.data.bank_account_holder_2)+" "+r(u.data.bank_account_number_2),1)]),t("tr",null,[d[15]||(d[15]=t("td",null,"URL",-1)),d[16]||(d[16]=t("td",null,":",-1)),t("td",null,[u.data.url_1?(p(),$(K,{key:0},[_(r(u.data.url_1),1)],64)):k("",!0),u.data.url_2?(p(),$(K,{key:1},[d[14]||(d[14]=t("br",null,null,-1)),_(" "+r(u.data.url_2),1)],64)):k("",!0)])]),t("tr",null,[d[17]||(d[17]=t("td",null,"Status",-1)),d[18]||(d[18]=t("td",null,":",-1)),t("td",null,r(u.data.active?"Aktif":"Tidak Aktif"),1)])])]))}},Yi={class:"text-subtitle1"},Wi={class:"text-subtitle2 text-grey-9 q-mb-md"},Qi={class:"text-weight-medium"},Ji={key:0},Gi={key:1},Xi={key:2},Zi={class:"text-subtitle1 text-grey-6 q-mb-sm"},ed={class:"bg-white q-pa-sm rounded-borders overflow-auto text-sm border-2 border-dashed border-grey-4",style:{"white-space":"pre-wrap","word-wrap":"break-word"}},td={__name:"DocumentVersionDataViewer",props:{selectedVersion:{type:Object,default:null},showDialog:{type:Boolean,required:!0}},emits:["update:showDialog"],setup(u,{emit:n}){const d=u,o=$e(),s=n,i=G({get:()=>d.showDialog,set:g=>s("update:showDialog",g)}),v=G(()=>{if(d.selectedVersion&&d.selectedVersion.data)try{return typeof d.selectedVersion.data=="string"?JSON.parse(d.selectedVersion.data):d.selectedVersion.data}catch(g){return console.error("Error parsing JSON data:",g),{error:"Data JSON tidak valid."}}return{}}),c=G(()=>{var g;return(g=d.selectedVersion)==null?void 0:g.document_type}),m=G(()=>JSON.stringify(v.value,null,2));return(g,f)=>(p(),I(ct,{modelValue:i.value,"onUpdate:modelValue":f[2]||(f[2]=y=>i.value=y),"transition-show":"scale","transition-hide":"scale",maximized:a(o).screen.lt.md},{default:l(()=>[e(ce,{style:{width:"600px","max-width":"95vw"}},{default:l(()=>[e(ae,{class:"row items-center q-pb-md bg-grey-4"},{default:l(()=>{var y;return[t("div",Yi,[e(q,{name:"history",class:"q-mr-sm"}),_(" Detail Versi V."+r(((y=u.selectedVersion)==null?void 0:y.version)||"N/A"),1)]),e(Hi),e(j,{icon:"close",flat:"",round:"",dense:"",onClick:f[0]||(f[0]=b=>i.value=!1),color:"grey"})]}),_:1}),e(ae,{class:"q-pt-md scroll",style:{"max-height":"75vh"}},{default:l(()=>{var y;return[t("div",Wi,[e(q,{name:"description",class:"q-mr-xs"}),f[3]||(f[3]=_(" Catatan Perubahan: ")),t("span",Qi,r(((y=u.selectedVersion)==null?void 0:y.changelog)||"Tidak ada catatan perubahan."),1)]),c.value==="App\\Models\\Supplier"?(p(),$("div",Ji,[f[4]||(f[4]=t("div",{class:"text-subtitle2 text-grey-8 q-mb-sm"},"Info Pemasok",-1)),e(Ga,{data:v.value},null,8,["data"])])):c.value==="App\\Models\\Customer"?(p(),$("div",Gi,[f[5]||(f[5]=t("div",{class:"text-subtitle2 text-grey-8 q-mb-sm"},"Info Pelanggan",-1)),e(Ga,{data:v.value},null,8,["data"])])):(p(),$("div",Xi,[t("div",Zi," Tipe Dokumen ("+r(c.value||"TIDAK DIKETAHUI")+") Tidak Memiliki Tampilan Kustom. ",1),f[6]||(f[6]=t("div",{class:"text-caption text-grey-7 q-mb-xs"},"Tampilan Raw JSON:",-1)),t("pre",ed,r(m.value),1)]))]}),_:1}),e(mt,{align:"right",class:"bg-grey-2"},{default:l(()=>[e(j,{flat:"",label:"Tutup",color:"primary",onClick:f[1]||(f[1]=y=>i.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"]))}},ad={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ld={class:"font-bold text-lg"},od={class:"text-grey-7"},xa={__name:"DocumentVersionHistoryList",props:{documentId:{type:[String,Number],required:!0},documentType:{type:String,required:!0}},setup(u){const n=u,d=V(!1),o=V(null),s=$e(),i=V([]),v=V(!0),c=Pe({...Re()}),m=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"created_at",descending:!0});let g=[{name:"version",label:"Versi",field:"version",align:"center",sortable:!0},{name:"created_at",label:"Waktu Versi",field:"created_at",align:"left",sortable:!0},{name:"creator",label:"Dibuat Oleh",field:"creator",align:"left"},{name:"changelog",label:"Log Perubahan",field:"changelog",align:"left"}];he(()=>{f()});const f=(S=null)=>Ie({pagination:m,filter:c,props:S,rows:i,url:route("admin.document-version.data",{filter:{document_id:n.documentId,document_type:n.documentType}}),loading:v}),y=G(()=>s.screen.lt.sm?g.filter(S=>S.name==="version"||S.name==="created_at"||S.name==="changelog"):g),b=S=>{o.value=S,d.value=!0};return(S,A)=>(p(),$(K,null,[e(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id",pagination:m.value,"onUpdate:pagination":A[0]||(A[0]=h=>m.value=h),filter:c.search,loading:v.value,columns:y.value,rows:i.value,"rows-per-page-options":[10,25,50],onRequest:f,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({message:h,filter:D})=>[t("div",ad,[t("span",null,r(h)+" "+r(D?" dengan istilah "+D:""),1)])]),body:l(h=>[e(Ce,{props:h,onClick:X(D=>b(h.row),["stop"]),class:"cursor-pointer"},{default:l(()=>[e(H,{key:"version",props:h},{default:l(()=>{var D;return[t("div",ld,[e(dt,{color:"primary"},{default:l(()=>[_("V."+r(h.row.version),1)]),_:2},1024)]),a(s).screen.lt.sm?(p(),$(K,{key:0},[t("div",null,[e(q,{name:"calendar_clock",class:"inline-icon"}),_(" "+r(a(ge)(h.row.created_at)),1)]),t("div",od,[e(q,{name:"person",class:"inline-icon"}),_(" "+r(((D=h.row.creator)==null?void 0:D.name)||"Sistem"),1)]),e(we,{text:h.row.changelog,icon:"notes",class:"text-grey-8 q-mt-xs"},null,8,["text"])],64)):k("",!0)]}),_:2},1032,["props"]),e(H,{key:"created_at",props:h},{default:l(()=>[_(r(a(ge)(h.row.created_at)),1)]),_:2},1032,["props"]),e(H,{key:"creator",props:h},{default:l(()=>{var D;return[_(r(((D=h.row.creator)==null?void 0:D.name)||"Sistem"),1)]}),_:2},1032,["props"]),e(H,{key:"changelog",props:h},{default:l(()=>[e(we,{text:h.row.changelog},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]),e(td,{"show-dialog":d.value,"onUpdate:showDialog":A[1]||(A[1]=h=>d.value=h),"selected-version":o.value},null,8,["show-dialog","selected-version"])],64))}},nd={class:"q-gutter-sm"},sd={class:"col col-lg-6 q-pa-xs"},rd={class:"row"},Xa="Rincian Pelanggan",id={__name:"Detail",setup(u){const n=be(),d=V("main");return $e(),(o,s)=>{const i=Q("i-head"),v=Q("authenticated-layout");return p(),$(K,null,[e(i,{title:Xa}),e(v,null,{title:l(()=>[_(r(Xa))]),"left-button":l(()=>[t("div",nd,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=c=>o.$inertia.get(o.route("admin.customer.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",sd,[t("div",rd,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(It,{modelValue:d.value,"onUpdate:modelValue":s[1]||(s[1]=c=>d.value=c),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(Xe,{name:"main",label:"Info Utama"}),e(Xe,{name:"history",label:"Riwayat Wallet"}),e(Xe,{name:"order-history",label:"Riwayat Order"}),e(Xe,{name:"version-history",label:"Riwayat Dokumen"})]),_:1},8,["modelValue"]),e(Dt,{modelValue:d.value,"onUpdate:modelValue":s[2]||(s[2]=c=>d.value=c),animated:""},{default:l(()=>[e(Ze,{name:"main"},{default:l(()=>[e(Ql)]),_:1}),e(Ze,{name:"history",class:"q-pa-xs"},{default:l(()=>[e(Jl)]),_:1}),e(Ze,{name:"order-history",class:"q-pa-xs"},{default:l(()=>[e(Gl)]),_:1}),e(Ze,{name:"version-history",class:"q-pa-xs"},{default:l(()=>[e(xa,{"document-id":a(n).props.data.id,"document-type":"customer"},null,8,["document-id"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},dd=Object.freeze(Object.defineProperty({__proto__:null,default:id},Symbol.toStringTag,{value:"Module"})),ud={class:"q-gutter-sm"},md={class:"col col-md-6 q-pa-xs"},cd={__name:"Editor",setup(u){const n=be(),d=(n.props.data.id?"Edit":"Tambah")+" Pelanggan",o=Me({id:n.props.data.id,code:n.props.data.code,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,active:!!n.props.data.active,password:n.props.data.password,type:n.props.data.type}),s=lt(window.CONSTANTS.CUSTOMER_TYPES),i=()=>tt({form:o,url:route("admin.customer.save",{id:o.id})});return(v,c)=>{const m=Q("i-head"),g=Q("authenticated-layout");return p(),$(K,null,[e(m,{title:d}),e(g,null,{title:l(()=>[_(r(d))]),"left-button":l(()=>[t("div",ud,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=f=>v.$inertia.get(v.route("admin.customer.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",md,[e(Ne,{class:"row",onSubmit:X(i,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[te(t("input",{type:"hidden",name:"id","onUpdate:modelValue":c[1]||(c[1]=f=>a(o).id=f)},null,512),[[ut,a(o).id]]),e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[e(oe,{modelValue:a(o).code,"onUpdate:modelValue":c[2]||(c[2]=f=>a(o).code=f),modelModifiers:{trim:!0},label:"Kode Pelanggan",error:!!a(o).errors.code,disable:a(o).processing,"error-message":a(o).errors.code,rules:[f=>f&&f.length>0||"Kode harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(oe,{modelValue:a(o).name,"onUpdate:modelValue":c[3]||(c[3]=f=>a(o).name=f),modelModifiers:{trim:!0},label:"Nama Pelanggan",error:!!a(o).errors.name,disable:a(o).processing,"error-message":a(o).errors.name,rules:[f=>f&&f.length>0||"Nama harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(ie,{modelValue:a(o).type,"onUpdate:modelValue":c[4]||(c[4]=f=>a(o).type=f),label:"Jenis Akun",options:a(s),"map-options":"","emit-value":"","lazy-rules":"",disable:a(o).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!a(o).errors.type,"error-message":a(o).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"]),e(oe,{modelValue:a(o).phone,"onUpdate:modelValue":c[5]||(c[5]=f=>a(o).phone=f),modelModifiers:{trim:!0},type:"text",label:"No HP",disable:a(o).processing,error:!!a(o).errors.phone,"error-message":a(o).errors.phone,rules:[],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(oe,{modelValue:a(o).address,"onUpdate:modelValue":c[6]||(c[6]=f=>a(o).address=f),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Alamat",disable:a(o).processing,error:!!a(o).errors.address,"error-message":a(o).errors.address,rules:[],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(oe,{autocomplete:"","aria-autocomplete":"none",modelValue:a(o).password,"onUpdate:modelValue":c[7]||(c[7]=f=>a(o).password=f),type:"password",label:a(o).id?"Kata Sandi (Isi jika ingin mengganti)":"Kata Sandi Baru (Wajib diisi)",disable:a(o).processing,error:!!a(o).errors.password,"error-message":a(o).errors.password,"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","label","disable","error","error-message"]),e(ua,{modelValue:a(o).active,"onUpdate:modelValue":c[8]||(c[8]=f=>a(o).active=f),label:"Aktif",disable:a(o).processing},null,8,["modelValue","disable"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(j,{type:"submit",label:"Simpan",icon:"save",color:"primary",disable:a(o).processing},null,8,["disable"]),e(j,{label:"Batal",icon:"cancel",disable:a(o).processing,onClick:c[9]||(c[9]=f=>a(ee).get(v.route("admin.customer.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},pd=Object.freeze(Object.defineProperty({__proto__:null,default:cd},Symbol.toStringTag,{value:"Module"}));function Mt(u,n,d,o){const s=[];return u.forEach(i=>{o(i)===!0?s.push(i):n.push({failedPropValidation:d,file:i})}),s}function ta(u){u&&u.dataTransfer&&(u.dataTransfer.dropEffect="copy"),jt(u)}const fd={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},gd=["rejected"];function bd({editable:u,dnd:n,getFileInput:d,addFilesToQueue:o}){const{props:s,emit:i,proxy:v}=xt(),c=V(null),m=G(()=>s.accept!==void 0?s.accept.split(",").map(T=>(T=T.trim(),T==="*"?"*/":(T.endsWith("/*")&&(T=T.slice(0,T.length-1)),T.toUpperCase()))):null),g=G(()=>parseInt(s.maxFiles,10)),f=G(()=>parseInt(s.maxTotalSize,10));function y(T){if(u.value)if(T!==Object(T)&&(T={target:null}),T.target!==null&&T.target.matches('input[type="file"]')===!0)T.clientX===0&&T.clientY===0&&ln(T);else{const B=d();B&&B!==T.target&&B.click(T)}}function b(T){u.value&&T&&o(null,T)}function S(T,B,C,w){let E=Array.from(B||T.target.files);const P=[],F=()=>{P.length!==0&&i("rejected",P)};if(s.accept!==void 0&&m.value.indexOf("*/")===-1&&(E=Mt(E,P,"accept",M=>m.value.some(x=>M.type.toUpperCase().startsWith(x)||M.name.toUpperCase().endsWith(x))),E.length===0))return F();if(s.maxFileSize!==void 0){const M=parseInt(s.maxFileSize,10);if(E=Mt(E,P,"max-file-size",x=>x.size<=M),E.length===0)return F()}if(s.multiple!==!0&&E.length!==0&&(E=[E[0]]),E.forEach(M=>{M.__key=M.webkitRelativePath+M.lastModified+M.name+M.size}),w===!0){const M=C.map(x=>x.__key);E=Mt(E,P,"duplicate",x=>M.includes(x.__key)===!1)}if(E.length===0)return F();if(s.maxTotalSize!==void 0){let M=w===!0?C.reduce((x,z)=>x+z.size,0):0;if(E=Mt(E,P,"max-total-size",x=>(M+=x.size,M<=f.value)),E.length===0)return F()}if(typeof s.filter=="function"){const M=s.filter(E);E=Mt(E,P,"filter",x=>M.includes(x))}if(s.maxFiles!==void 0){let M=w===!0?C.length:0;if(E=Mt(E,P,"max-files",()=>(M++,M<=g.value)),E.length===0)return F()}if(F(),E.length!==0)return E}function A(T){ta(T),n.value!==!0&&(n.value=!0)}function h(T){jt(T),(T.relatedTarget!==null||Nt.is.safari!==!0?T.relatedTarget!==c.value:document.elementsFromPoint(T.clientX,T.clientY).includes(c.value)===!1)===!0&&(n.value=!1)}function D(T){ta(T);const B=T.dataTransfer.files;B.length!==0&&o(null,B),n.value=!1}function R(T){if(n.value===!0)return ke("div",{ref:c,class:`q-${T}__dnd absolute-full`,onDragenter:ta,onDragover:ta,onDragleave:h,onDrop:D})}return Object.assign(v,{pickFiles:y,addFiles:b}),{pickFiles:y,addFiles:b,onDragover:A,onDragleave:h,processFiles:S,getDndNode:R,maxFilesNumber:g,maxTotalSizeNumber:f}}const Xl=ht({name:"QFile",inheritAttrs:!1,props:{...nn,...Al,...fd,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...on,...gd],setup(u,{slots:n,emit:d,attrs:o}){const{proxy:s}=xt(),i=sn(),v=V(null),c=V(!1),m=rn(u),{pickFiles:g,onDragover:f,onDragleave:y,processFiles:b,getDndNode:S}=bd({editable:i.editable,dnd:c,getFileInput:J,addFilesToQueue:O}),A=dn(u),h=G(()=>Object(u.modelValue)===u.modelValue?"length"in u.modelValue?Array.from(u.modelValue):[u.modelValue]:[]),D=G(()=>ja(h.value)),R=G(()=>h.value.map(ne=>ne.name).join(", ")),T=G(()=>un(h.value.reduce((ne,qe)=>ne+qe.size,0))),B=G(()=>({totalSize:T.value,filesNumber:h.value.length,maxFiles:u.maxFiles})),C=G(()=>({tabindex:-1,type:"file",title:"",accept:u.accept,capture:u.capture,name:m.value,...o,id:i.targetUid.value,disabled:i.editable.value!==!0})),w=G(()=>"q-file q-field--auto-height"+(c.value===!0?" q-file--dnd":"")),E=G(()=>u.multiple===!0&&u.append===!0);function P(ne){const qe=h.value.slice();qe.splice(ne,1),M(qe)}function F(ne){const qe=h.value.indexOf(ne);qe!==-1&&P(qe)}function M(ne){d("update:modelValue",u.multiple===!0?ne:ne[0])}function x(ne){ne.keyCode===13&&pn(ne)}function z(ne){(ne.keyCode===13||ne.keyCode===32)&&g(ne)}function J(){return v.value}function O(ne,qe){const ze=b(ne,qe,h.value,E.value),ft=J();ft!=null&&(ft.value=""),ze!==void 0&&((u.multiple===!0?u.modelValue&&ze.every(pt=>h.value.includes(pt)):u.modelValue===ze[0])||M(E.value===!0?h.value.concat(ze):ze))}function U(){return[ke("input",{class:[u.inputClass,"q-file__filler"],style:u.inputStyle})]}function Z(){if(n.file!==void 0)return h.value.length===0?U():h.value.map((qe,ze)=>n.file({index:ze,file:qe,ref:this}));if(n.selected!==void 0)return h.value.length===0?U():n.selected({files:h.value,ref:this});if(u.useChips===!0)return h.value.length===0?U():h.value.map((qe,ze)=>ke(jl,{key:"file-"+ze,removable:i.editable.value,dense:!0,textColor:u.color,tabindex:u.tabindex,onRemove:()=>{P(ze)}},()=>ke("span",{class:"ellipsis",textContent:qe.name})));const ne=u.displayValue!==void 0?u.displayValue:R.value;return ne.length!==0?[ke("div",{class:u.inputClass,style:u.inputStyle,textContent:ne})]:U()}function se(){const ne={ref:v,...C.value,...A.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:O};return u.multiple===!0&&(ne.multiple=!0),ke("input",ne)}return Object.assign(i,{fieldClass:w,emitValue:M,hasValue:D,inputRef:v,innerValue:h,floatingLabel:G(()=>D.value===!0||ja(u.displayValue)),computedCounter:G(()=>{if(u.counterLabel!==void 0)return u.counterLabel(B.value);const ne=u.maxFiles;return`${h.value.length}${ne!==void 0?" / "+ne:""} (${T.value})`}),getControlChild:()=>S("file"),getControl:()=>{const ne={ref:i.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:u.tabindex};return i.editable.value===!0&&Object.assign(ne,{onDragover:f,onDragleave:y,onKeydown:x,onKeyup:z}),ke("div",ne,[se()].concat(Z()))}}),Object.assign(s,{removeAtIndex:P,removeFile:F,getNativeElement:()=>v.value}),mn(s,"nativeEl",()=>v.value),cn(i)}}),Et=ht({name:"QBanner",props:{...wa,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(u,{slots:n}){const{proxy:{$q:d}}=xt(),o=ha(u,d),s=G(()=>"q-banner row items-center"+(u.dense===!0?" q-banner--dense":"")+(o.value===!0?" q-banner--dark q-dark":"")+(u.rounded===!0?" rounded-borders":"")),i=G(()=>`q-banner__actions row items-center justify-end col-${u.inlineActions===!0?"auto":"all"}`);return()=>{const v=[ke("div",{class:"q-banner__avatar col-auto row items-center self-start"},Tt(n.avatar)),ke("div",{class:"q-banner__content col text-body2"},Tt(n.default))],c=Tt(n.action);return c!==void 0&&v.push(ke("div",{class:i.value},c)),ke("div",{class:s.value+(u.inlineActions===!1&&c!==void 0?" q-banner--top-padding":""),role:"alert"},v)}}}),vd={class:"q-gutter-sm"},_d={class:"col col-md-6 q-pa-xs"},Za="Import Pelanggan",yd={__name:"Import",setup(u){const n=Me({csv_file:null}),d=()=>{n.post(route("admin.customer.import"),{onSuccess:()=>{n.reset()},onError:()=>{Fe()},onFinish:()=>{n.clearErrors()}})};return(o,s)=>{const i=Q("i-head"),v=Q("authenticated-layout");return p(),$(K,null,[e(i,{title:Za}),e(v,{"show-drawer-button":!0},{title:l(()=>[_(r(Za))]),"left-button":l(()=>[t("div",vd,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=c=>o.$goBack())})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",_d,[e(Ne,{class:"row",onSubmit:X(d,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[s[3]||(s[3]=t("div",{class:"text-subtitle1 q-pt-lg"},"Unggah File Impor",-1)),s[4]||(s[4]=t("div",{class:"text-caption text-grey"}," Unggah file CSV untuk mengimpor data pelanggan. Pastikan format kolom sesuai dengan template yang disediakan. ",-1)),e(Xl,{modelValue:a(n).csv_file,"onUpdate:modelValue":s[1]||(s[1]=c=>a(n).csv_file=c),accept:".csv",label:"Pilih file CSV",error:!!a(n).errors.csv_file,"error-message":a(n).errors.csv_file,disable:a(n).processing,"hide-bottom-space":"",class:"q-mt-md"},null,8,["modelValue","error","error-message","disable"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(j,{icon:"upload",type:"submit",label:"Import Data",color:"primary",disable:a(n).processing||!a(n).csv_file,loading:a(n).processing},null,8,["disable","loading"]),e(j,{icon:"cancel",label:"Batal",disable:a(n).processing,onClick:s[2]||(s[2]=c=>o.$goBack())},null,8,["disable"])]),_:1}),o.$page.props.flash.success?(p(),I(Et,{key:0,class:"bg-positive text-white q-mt-md"},{default:l(()=>[_(r(o.$page.props.flash.success),1)]),_:1})):k("",!0),o.$page.props.flash.error?(p(),I(Et,{key:1,class:"bg-negative text-white q-mt-md"},{default:l(()=>[_(r(o.$page.props.flash.error),1)]),_:1})):k("",!0)]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},kd=Object.freeze(Object.defineProperty({__proto__:null,default:yd},Symbol.toStringTag,{value:"Module"})),wd={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},hd={class:"q-pa-xs"},$d={class:"full-width row flex-center text-grey-8 q-gutter-sm"},xd={class:"flex justify-end"},el="Pelanggan",Sd={__name:"Index",setup(u){const n=$e(),d=V(!1),o=V([]),s=V(!0),i=V(null),v=V(null),c=We(v),m=Pe({search:"",status:"active",...Re()}),g=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),f=[{name:"code",label:n.screen.lt.md?"Pelanggan":"Kode",field:"code",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"wallet_balance",label:"Saldo (Rp)",field:"wallet_balance",align:"right"},{name:"phone",label:"No HP",field:"phone",align:"left"},{name:"address",label:"Alamat",field:"address",align:"left"},{name:"action",align:"right"}],y=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];he(()=>{S()});const b=R=>ot({message:`Hapus Pelanggan ${R.name}?`,url:route("admin.customer.delete",R.id),fetchItemsCallback:S,loading:s}),S=(R=null)=>{Ie({pagination:g,filter:m,props:R,rows:o,url:route("admin.customer.data"),loading:s,tableRef:i})},A=()=>S(),h=R=>ee.get(route("admin.customer.detail",{id:R.id})),D=G(()=>n.screen.gt.sm?f:f.filter(R=>R.name==="code"||R.name==="action"));return(R,T)=>{const B=Q("i-head"),C=Q("authenticated-layout");return p(),$(K,null,[e(B,{title:el}),e(C,null,Le({title:l(()=>[_(r(el))]),"right-button":l(()=>[e(j,{icon:d.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:T[0]||(T[0]=w=>d.value=!d.value)},null,8,["icon"]),R.$can("admin.customer.add")?(p(),I(j,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:T[1]||(T[1]=w=>a(ee).get(R.route("admin.customer.add")))})):k("",!0),R.$can("admin.customer.import")?(p(),I(j,{key:1,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:T[3]||(T[3]=X(()=>{},["stop"])),class:"q-ml-sm"},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[R.$can("admin.customer.import")?te((p(),I(le,{key:0,clickable:"",onClick:T[2]||(T[2]=X(w=>a(ee).get(R.route("admin.customer.import")),["stop"]))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"csv"})]),_:1}),e(N,null,{default:l(()=>T[8]||(T[8]=[_("Import")])),_:1})]),_:1})),[[re],[me]]):k("",!0)]),_:1})]),_:1})]),_:1})):k("",!0)]),default:l(()=>[t("div",hd,[e(Te,{class:"full-height-table",style:Be({height:a(c)}),ref_key:"tableRef",ref:i,flat:"",bordered:"",square:"",color:"primary","row-key":"id",pagination:g.value,"onUpdate:pagination":T[7]||(T[7]=w=>g.value=w),filter:m.search,loading:s.value,columns:D.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:S,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:w,message:E,filter:P})=>[t("div",$d,[t("span",null,r(E)+" "+r(P?" with term "+P:""),1)])]),body:l(w=>[e(Ce,{props:w,class:xe([w.row.active?"":"bg-red-1","cursor-pointer"]),onClick:E=>h(w.row)},{default:l(()=>[e(H,{key:"code",props:w,class:"wrap-column"},{default:l(()=>[t("div",null,[a(n).screen.lt.md?(p(),I(q,{key:0,name:"person"})):k("",!0),_(" "+r(w.row.code),1)]),a(n).screen.lt.md?(p(),$(K,{key:0},[t("div",null,[a(n).screen.lt.md?(p(),I(q,{key:0,name:"person"})):k("",!0),_(" "+r(w.row.name),1)]),t("div",null,[e(q,{name:"phone"}),_(" "+r(w.row.phone),1)]),e(we,{text:w.row.address,icon:"home_pin"},null,8,["text"]),t("div",null,[e(q,{name:"wallet"}),_(" Rp. "+r(a(W)(w.row.wallet_balance)),1)])],64)):k("",!0)]),_:2},1032,["props"]),e(H,{key:"name",props:w},{default:l(()=>[_(r(w.row.name),1)]),_:2},1032,["props"]),e(H,{key:"wallet_balance",props:w},{default:l(()=>[_(r(a(W)(w.row.wallet_balance)),1)]),_:2},1032,["props"]),e(H,{key:"phone",props:w},{default:l(()=>[_(r(w.row.phone),1)]),_:2},1032,["props"]),e(H,{key:"address",props:w},{default:l(()=>[e(we,{text:w.row.address},null,8,["text"])]),_:2},1032,["props"]),e(H,{key:"action",props:w},{default:l(()=>[t("div",xd,[R.$can("admin.customer.add")||R.$can("admin.customer.edit")||R.$can("admin.customer.delete")?(p(),I(j,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:T[6]||(T[6]=X(()=>{},["stop"]))},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[R.$can("admin.customer.add")?te((p(),I(le,{key:0,clickable:"",onClick:X(E=>a(ee).get(R.route("admin.customer.duplicate",w.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"file_copy"})]),_:1}),e(N,null,{default:l(()=>T[9]||(T[9]=[_(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),R.$can("admin.customer.edit")?te((p(),I(le,{key:1,clickable:"",onClick:X(E=>a(ee).get(R.route("admin.customer.edit",w.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"edit"})]),_:1}),e(N,null,{default:l(()=>T[10]||(T[10]=[_("Edit")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),R.$can("admin.customer.delete")?te((p(),I(le,{key:2,onClick:X(E=>b(w.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>T[11]||(T[11]=[_("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[d.value?{name:"header",fn:l(()=>[e(at,{class:"filter-bar",ref_key:"filterToolbarRef",ref:v},{default:l(()=>[t("div",wd,[e(ie,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:m.status,"onUpdate:modelValue":[T[4]||(T[4]=w=>m.status=w),A],options:y,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":T[5]||(T[5]=w=>m.search=w),placeholder:"Cari",clearable:""},{append:l(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Vd=Object.freeze(Object.defineProperty({__proto__:null,default:Sd},Symbol.toStringTag,{value:"Module"})),qd={class:"q-pb-sm"},Cd={class:"row q-col-gutter-sm"},Td={class:"row items-center no-wrap"},Pd={class:"q-ml-md"},Od={class:"text-subtitle2 text-grey-8"},Rd={class:"text-h6 text-weight-bold"},Zl={__name:"ActualSummaryCard",props:{dashboardData:{type:Object,required:!0}},setup(u){const n=u,d=G(()=>[{label:"Total Pelanggan Aktif",value:n.dashboardData.summary.total_active_customer,icon:"groups",color:"primary",bgColor:"#e3f2fd"},{label:"Total Saldo Wallet",value:W(n.dashboardData.summary.total_wallet_balance),icon:"account_balance_wallet",color:"orange-9",bgColor:"#fff3e0"},{label:"Total Penjualan",value:W(n.dashboardData.summary.total_sales),icon:"shopping_cart",color:"green-7",bgColor:"#e8f5e9"},{label:"Total Transaksi",value:W(n.dashboardData.summary.total_transactions),icon:"swap_horiz",color:"purple-8",bgColor:"#f3e5f5"}]);return(o,s)=>(p(),$("div",qd,[s[0]||(s[0]=t("div",{class:"text-h6 text-bold text-grey-8 q-mb-sm"},"Ringkasan Statistik",-1)),t("div",Cd,[(p(!0),$(K,null,Ke(d.value,(i,v)=>(p(),$("div",{key:v,class:"col-12 col-md-6"},[e(ce,{square:"",bordered:"",flat:"",class:"q-pa-md",style:{width:"100%"}},{default:l(()=>[t("div",Td,[e(Wt,{icon:i.icon,color:i.color,"text-color":i.bgColor},null,8,["icon","color","text-color"]),t("div",Pd,[t("div",Od,r(i.label),1),t("div",Rd,r(i.value),1)])])]),_:2},1024)]))),128))])]))}},Id=Object.freeze(Object.defineProperty({__proto__:null,default:Zl},Symbol.toStringTag,{value:"Module"})),Dd={class:"row q-col-gutter-sm q-pb-sm"},Ud={class:"col-md-6 col-12"},Ad={class:"col-md-6 col-12"},jd={__name:"ChartCard",props:{dashboardData:{type:Object,required:!0}},setup(u){fn([gn,bn,vn,_n,yn,kn,wn]);const n=u,d=["#82B1FF","#4DB6AC","#FFB74D","#9575CD"],o=G(()=>({title:{text:"Penjualan Bulanan",left:"center"},tooltip:{trigger:"axis",formatter:function(i){let v=i[0].name+"<br/>";return i.forEach(function(c){v+=c.marker+" "+c.seriesName+": "+W(c.value)+"<br/>"}),v}},xAxis:{type:"category",data:n.dashboardData.monthly_sales.labels,axisLabel:{color:"#616161"}},yAxis:{type:"value",axisLabel:{formatter:i=>W(i),color:"#616161"}},series:[{name:"Penjualan",type:"bar",data:n.dashboardData.monthly_sales.data,itemStyle:{borderRadius:[5,5,0,0],color:d[0]}}]})),s=G(()=>({title:{text:"Distribusi Jenis Transaksi",left:"center"},tooltip:{trigger:"item",formatter:function(i){return i.name+"<br/>"+i.seriesName+": "+W(i.value)+" ("+i.percent+"%)"}},legend:{orient:"vertical",left:"left",textStyle:{color:"#616161"}},series:[{name:"Jumlah Transaksi",type:"pie",radius:["40%","70%"],data:n.dashboardData.transaction_type_distribution,itemStyle:{borderRadius:5,borderColor:"#fff",borderWidth:2,color:i=>d[i.dataIndex%d.length]},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}));return(i,v)=>(p(),$("div",Dd,[t("div",Ud,[e(ce,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:l(()=>[v[0]||(v[0]=t("div",{class:"text-h6 q-pb-sm"},"Penjualan Bulanan",-1)),e(a(Ea),{class:"chart",option:o.value,autoresize:""},null,8,["option"])]),_:1})]),t("div",Ad,[e(ce,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:l(()=>[v[1]||(v[1]=t("div",{class:"text-h6 q-pb-sm"},"Distribusi Transaksi",-1)),e(a(Ea),{class:"chart",option:s.value,autoresize:""},null,8,["option"])]),_:1})])]))}},eo=_t(jd,[["__scopeId","data-v-b9cdf915"]]),Ed=Object.freeze(Object.defineProperty({__proto__:null,default:eo},Symbol.toStringTag,{value:"Module"})),Md={class:"row q-col-gutter-sm q-pb-sm"},Nd={class:"col-md-6 col-12"},Bd={class:"col-md-6 col-12"},to={__name:"TopCard",props:{dashboardData:{type:Object,required:!0}},setup(u){return(n,d)=>(p(),$("div",Md,[t("div",Nd,[e(ce,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:l(()=>[d[0]||(d[0]=t("div",{class:"text-h6 q-mb-sm"},"Top 5 Pembelian Pelanggan",-1)),e(Ee,{separator:""},{default:l(()=>[(p(!0),$(K,null,Ke(u.dashboardData.top_customers_sales,(o,s)=>(p(),I(le,{key:s},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(Wt,{color:"primary","text-color":"white",size:"sm"},{default:l(()=>[_(r(s+1),1)]),_:2},1024)]),_:2},1024),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>[_(r(o.name),1)]),_:2},1024)]),_:2},1024),e(N,{side:""},{default:l(()=>[e(_e,{class:"text-primary"},{default:l(()=>[_(r(a(W)(o.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),t("div",Bd,[e(ce,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:l(()=>[d[1]||(d[1]=t("div",{class:"text-h6 q-mb-sm"},"Top 5 Top Up Pelanggan",-1)),e(Ee,{separator:""},{default:l(()=>[(p(!0),$(K,null,Ke(u.dashboardData.top_customers_topup,(o,s)=>(p(),I(le,{key:s},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(Wt,{color:"green-7","text-color":"white",size:"sm"},{default:l(()=>[_(r(s+1),1)]),_:2},1024)]),_:2},1024),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>[_(r(o.name),1)]),_:2},1024)]),_:2},1024),e(N,{side:""},{default:l(()=>[e(_e,{class:"text-green-7"},{default:l(()=>[_(r(a(W)(o.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]))}},zd=Object.freeze(Object.defineProperty({__proto__:null,default:to},Symbol.toStringTag,{value:"Module"})),Fd={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Ld={class:"q-pa-xs"},Hd={class:"q-pa-none"},tl="Dashboard",Kd={__name:"Index",setup(u){const n=be(),d=V({summary:{total_active_customer:n.props.data.active_customer_count,total_sales:155e5,total_transactions:1250,total_wallet_balance:n.props.data.total_customer_wallet_balance,total_topup:75e6,total_purchase:85e6,total_withdrawal:65e6},top_customers_sales:[{name:"Wildan Medina",value:1822e3},{name:"Syafiq",value:1754500},{name:"Umar",value:1534e3},{name:"Fauzan",value:1212e3},{name:"Rizky",value:981500}],top_customers_topup:[{name:"Abdullah",value:175e4},{name:"Abdurrahman",value:15e5},{name:"Zayd",value:125e4},{name:"Syafiq",value:8e5},{name:"Umar",value:65e4}],monthly_sales:{labels:["Jan","Feb","Mar","Apr","Mei","Jun"],data:[14123e3,21344e3,15155e3,17128e3,12557e3,12723e3]},transaction_type_distribution:[{value:500,name:"Deposit"},{value:350,name:"Purchase"},{value:200,name:"Withdrawal"},{value:200,name:"Refund"}]}),o=V(!1),s=V(Re().month??"this_month"),i=V([{value:"this_month",label:"Bulan Ini"},{value:"prev_month",label:"1 Bulan Sebelumnya"},{value:"prev_2month",label:"2 Bulan Sebelumnya"},{value:"prev_3month",label:"3 Bulan Sebelumnya"}]),v=()=>{ee.visit(route("admin.dashboard",{month:s.value}))};return(c,m)=>{const g=Q("i-head"),f=Q("authenticated-layout");return p(),$(K,null,[e(g,{title:tl}),e(f,null,Le({title:l(()=>[_(r(tl))]),"right-button":l(()=>[e(j,{class:"q-ml-sm",icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:m[0]||(m[0]=y=>o.value=!o.value)},null,8,["icon"])]),default:l(()=>[t("div",Ld,[t("div",Hd,[e(Zl,{dashboardData:d.value},null,8,["dashboardData"])]),e(eo,{dashboardData:d.value},null,8,["dashboardData"]),e(to,{dashboardData:d.value},null,8,["dashboardData"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(at,{class:"filter-bar"},{default:l(()=>[t("div",Fd,[e(ie,{class:"custom-select col-12",style:{"min-width":"150px"},modelValue:s.value,"onUpdate:modelValue":[m[1]||(m[1]=y=>s.value=y),v],options:i.value,label:"Bulan",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue","options"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},Yd=Object.freeze(Object.defineProperty({__proto__:null,default:Kd},Symbol.toStringTag,{value:"Module"})),Wd={class:"row"},Qd={class:"row q-col-gutter-sm"},Jd={class:"col-sm-6 col-xs-12"},Gd={class:"col-sm-6 col-xs-12"},Xd={class:"col-md-3 col-sm-6 col-xs-12"},Zd={class:"col-md-3 col-sm-6 col-xs-12"},eu={class:"col-md-3 col-sm-6 col-xs-12"},tu={class:"col-md-3 col-sm-6 col-xs-12"};const au={__name:"SummaryCard",setup(u){const n=be(),d=(o,s)=>{const v={...{order_status:"all",service_status:"all",repair_status:"all",payment_status:"all",search:""},...s};localStorage.setItem("fixsync.service-orders.filter",JSON.stringify(v)),ee.visit(o,{data:v})};return(o,s)=>(p(),$("div",Wd,[e(ce,{class:"bg-transparent no-shadow no-border col",bordered:""},{default:l(()=>[e(ae,{class:"q-pa-none"},{default:l(()=>[t("div",Qd,[t("div",Jd,[e(le,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:s[0]||(s[0]=i=>o.$inertia.visit(o.route("admin.customer.index",{status:"active"})))},{default:l(()=>[e(N,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(q,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(_e,{class:"text-white text-h6 text-weight-bolder"},{default:l(()=>[_(r(a(n).props.data.active_customer_count),1)]),_:1}),e(_e,null,{default:l(()=>s[5]||(s[5]=[_("Pelanggan Aktif")])),_:1})]),_:1})]),_:1})]),t("div",Gd,[e(le,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:s[1]||(s[1]=i=>o.$inertia.visit(o.route("admin.customer.index",{status:"active"})))},{default:l(()=>[e(N,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(q,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(_e,{class:"text-white text-h6 text-weight-bolder"},{default:l(()=>[_(r(o.$page.props.data.active_user_count),1)]),_:1}),e(_e,null,{default:l(()=>s[6]||(s[6]=[_("Pengguna Aktif")])),_:1})]),_:1})]),_:1})]),t("div",Xd,[e(le,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:l(()=>[e(N,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(q,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(_e,{class:"text-white text-weight-bold"},{default:l(()=>[_(" Rp. "+r(a(W)(o.$page.props.data.total_finance_account_balance)),1)]),_:1}),e(_e,null,{default:l(()=>s[7]||(s[7]=[_("Total Saldo Koperasi")])),_:1})]),_:1})]),_:1})]),t("div",Zd,[e(le,{style:"background-color: #dc3545",class:"q-pa-none"},{default:l(()=>[e(N,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(q,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(_e,{class:"text-white text-weight-bold"},{default:l(()=>[_(" Rp. "+r(a(W)(o.$page.props.data.total_customer_wallet_balance)),1)]),_:1}),e(_e,null,{default:l(()=>s[8]||(s[8]=[_("Total Saldo Pelanggan")])),_:1})]),_:1})]),_:1})]),t("div",eu,[e(le,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:l(()=>[e(N,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(q,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(_e,{class:"text-white text-weight-bold"},{default:l(()=>[_(" Rp. "+r(a(W)(o.$page.props.data.total_customer_debt)),1)]),_:1}),e(_e,null,{default:l(()=>s[9]||(s[9]=[_("Total Utang Pelanggan")])),_:1})]),_:1})]),_:1})]),t("div",tu,[e(le,{style:"background-color: #dc3545",class:"q-pa-none"},{default:l(()=>[e(N,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(q,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(_e,{class:"text-white text-weight-bold"},{default:l(()=>[_(" Rp. "+r(a(W)(o.$page.props.data.total_customer_credit)),1)]),_:1}),e(_e,null,{default:l(()=>s[10]||(s[10]=[_("Total Piutang Pelanggan")])),_:1})]),_:1})]),_:1})]),k("",!0),k("",!0),k("",!0)])]),_:1})]),_:1})]))}},lu=Object.freeze(Object.defineProperty({__proto__:null,default:au},Symbol.toStringTag,{value:"Module"})),ou={class:"detail"},ao={__name:"MainInfoTab",setup(u){const n=be();return(d,o)=>(p(),$("table",ou,[t("tbody",null,[t("tr",null,[o[0]||(o[0]=t("td",{style:{width:"170px"}},"Nama",-1)),o[1]||(o[1]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.name),1)]),t("tr",null,[o[2]||(o[2]=t("td",null,"Jenis",-1)),o[3]||(o[3]=t("td",null,":",-1)),t("td",null,r(d.$CONSTANTS.FINANCE_ACCOUNT_TYPES[a(n).props.data.type]),1)]),a(n).props.data.type=="bank"?(p(),$(K,{key:0},[t("tr",null,[o[4]||(o[4]=t("td",null,"Bank",-1)),o[5]||(o[5]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.bank),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"No. Rek",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.number),1)]),t("tr",null,[o[8]||(o[8]=t("td",null,"Atas Nama",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.holder),1)])],64)):k("",!0),t("tr",null,[o[10]||(o[10]=t("td",null,"Saldo",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,"Rp. "+r(a(W)(a(n).props.data.balance)),1)]),t("tr",null,[o[12]||(o[12]=t("td",null,"Status",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),t("tr",null,[o[14]||(o[14]=t("td",null,"Catatan",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.notes),1)]),o[22]||(o[22]=t("tr",null,[t("td",{colspan:"3",class:"text-bold text-grey-9"},[t("div",{class:"q-mt-sm"},"Opsi Lanjutan")])],-1)),t("tr",null,[o[16]||(o[16]=t("td",null,"Tampilkan di Penjualan",-1)),o[17]||(o[17]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.show_in_pos_payment?"Ya":"Tidak"),1)]),t("tr",null,[o[18]||(o[18]=t("td",null,"Tampilkan di Pembelian",-1)),o[19]||(o[19]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.show_in_purchasing?"Ya":"Tidak"),1)]),t("tr",null,[o[20]||(o[20]=t("td",null,"Tampilkan di Wallet",-1)),o[21]||(o[21]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.has_wallet_access?"Ya":"Tidak"),1)])])]))}},nu=Object.freeze(Object.defineProperty({__proto__:null,default:ao},Symbol.toStringTag,{value:"Module"})),su={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ru={class:"flex q-gutter-sm"},iu={key:0},lo={__name:"HistoryTab",setup(u){const n=be(),d=$e(),o=V(null),s=V([]),i=V(!0),v=Pe({...Re()}),c=We(null,117),m=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),g=[{name:"id",label:"ID",field:"id",align:"left"},{name:"datetime",label:"Waktu",field:"datetime",align:"left"},{name:"type",label:"Jenis Trx",field:"type",align:"center"},{name:"amount",label:"Jumlah",field:"amount",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}],f=G(()=>d.screen.gt.sm?g:g.filter(b=>b.name==="id"));he(()=>{y()});const y=(b=null)=>Ie({pagination:m,filter:v,props:b,rows:s,url:route("admin.finance-transaction.data",{filter:{account_id:n.props.data.id}}),loading:i,tableRef:o});return(b,S)=>(p(),I(Te,{ref_key:"tableRef",ref:o,flat:"",bordered:"",square:"",style:Be({height:a(c)}),color:"primary",class:"full-height-table","row-key":"id",pagination:m.value,"onUpdate:pagination":S[0]||(S[0]=A=>m.value=A),filter:v.search,loading:i.value,columns:f.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:y,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({message:A,filter:h})=>[t("div",su,[t("span",null,r(A)+" "+r(h?" with term "+h:""),1)])]),body:l(A=>[e(Ce,{props:A},{default:l(()=>[e(H,{key:"id",props:A},{default:l(()=>[t("div",ru,[t("div",null,[a(d).screen.lt.md?(p(),I(q,{key:0,name:"tag",class:"inline-icon"})):k("",!0),_(" "+r(A.row.formatted_id),1)])]),a(d).screen.lt.md?(p(),$(K,{key:0},[t("div",null,[e(q,{name:"calendar_clock",class:"inline-icon"}),_(" "+r(a(ge)(A.row.datetime)),1)]),A.row.creator?(p(),$("div",iu,[e(q,{name:"person",class:"inline-icon"}),_(" "+r(A.row.creator.username),1)])):k("",!0),t("div",{class:xe([A.row.amount>0?"text-green":"text-red","text-bold"])},[e(q,{class:"inline-icon",name:"money"}),_(" "+r(a(Bt)(A.row.amount))+"Rp. "+r(a(W)(Math.abs(A.row.amount))),1)],2),t("div",null,[e(dt,{color:A.row.amount>0?"green":"red"},{default:l(()=>[_(r(b.$CONSTANTS.FINANCE_TRANSACTION_TYPES[A.row.type]),1)]),_:2},1032,["color"])]),e(we,{text:A.row.notes,icon:"notes",class:"text-grey-8"},null,8,["text"])],64)):k("",!0)]),_:2},1032,["props"]),e(H,{key:"datetime",props:A},{default:l(()=>[_(r(a(ge)(A.row.datetime)),1)]),_:2},1032,["props"]),e(H,{key:"type",props:A},{default:l(()=>[e(dt,{color:A.row.amount>0?"green":"red"},{default:l(()=>[_(r(b.$CONSTANTS.FINANCE_TRANSACTION_TYPES[A.row.type]),1)]),_:2},1032,["color"])]),_:2},1032,["props"]),e(H,{key:"amount",props:A,class:xe(A.row.amount>0?"text-green":"text-red")},{default:l(()=>[_(r(a(Bt)(A.row.amount)+a(W)(Math.abs(A.row.amount))),1)]),_:2},1032,["props","class"]),e(H,{key:"notes",props:A},{default:l(()=>[e(we,{text:A.row.notes,icon:b.notes},null,8,["text","icon"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"]))}},du=Object.freeze(Object.defineProperty({__proto__:null,default:lo},Symbol.toStringTag,{value:"Module"})),uu={class:"q-gutter-sm"},mu={class:"q-gutter-sm"},cu={class:"col q-pa-xs"},pu={class:"row"},al="Rincian Akun",fu={__name:"Detail",setup(u){const n=be(),d=V("main");return(o,s)=>{const i=Q("i-head"),v=Q("authenticated-layout");return p(),$(K,null,[e(i,{title:al}),e(v,null,{title:l(()=>[_(r(al))]),"left-button":l(()=>[t("div",uu,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=c=>o.$inertia.get(o.route("admin.finance-account.index")))})])]),"right-button":l(()=>[t("div",mu,[o.$can("admin.finance-account.edit")?(p(),I(j,{key:0,icon:"edit",size:"sm",dense:"",flat:"",rounded:"",color:"grey",onClick:s[1]||(s[1]=c=>a(ee).get(o.route("admin.finance-account.edit",{id:a(n).props.data.id})))})):k("",!0)])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",cu,[t("div",pu,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(It,{modelValue:d.value,"onUpdate:modelValue":s[2]||(s[2]=c=>d.value=c),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(Xe,{name:"main",label:"Info Akun"}),e(Xe,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(Dt,{modelValue:d.value,"onUpdate:modelValue":s[3]||(s[3]=c=>d.value=c),animated:""},{default:l(()=>[e(Ze,{name:"main"},{default:l(()=>[e(ao)]),_:1}),e(Ze,{name:"history",class:"q-pa-xs"},{default:l(()=>[e(lo)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},gu=Object.freeze(Object.defineProperty({__proto__:null,default:fu},Symbol.toStringTag,{value:"Module"})),bu={style:{"margin-left":"-10px"}},Ct={__name:"CheckBox",props:{modelValue:{type:[Boolean,Array],default:!1},label:{type:String,default:""},disable:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(u){return(n,d)=>(p(),$("div",bu,[e(na,{class:"full-width q-pl-none","model-value":u.modelValue,"onUpdate:modelValue":d[0]||(d[0]=o=>n.$emit("update:modelValue",o)),disable:u.disable,label:u.label},null,8,["model-value","disable","label"])]))}},vu={class:"q-gutter-sm"},_u={class:"col col-md-6 q-pa-xs"},yu={__name:"Editor",setup(u){const n=be(),d=(n.props.data.id?"Edit":"Tambah")+" Akun / Kas",o=Me({id:n.props.data.id,name:n.props.data.name,type:n.props.data.type,bank:n.props.data.bank,number:n.props.data.number,holder:n.props.data.holder,balance:parseFloat(n.props.data.balance),active:!!n.props.data.active,has_wallet_access:!!n.props.data.has_wallet_access,show_in_pos_payment:!!n.props.data.show_in_pos_payment,show_in_purchasing_payment:!!n.props.data.show_in_purchasing_payment,notes:n.props.data.notes}),s=lt(window.CONSTANTS.FINANCE_ACCOUNT_TYPES),i=()=>tt({form:o,url:route("admin.finance-account.save")}),v=c=>{c==="cashier_cash"&&(o.show_in_pos_payment=!0)};return he(()=>{v(o.type)}),je(()=>o.type,c=>{v(c)}),(c,m)=>{const g=Q("i-head"),f=Q("authenticated-layout");return p(),$(K,null,[e(g,{title:d}),e(f,null,{title:l(()=>[_(r(d))]),"left-button":l(()=>[t("div",vu,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:m[0]||(m[0]=y=>c.$inertia.get(c.route("admin.finance-account.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",_u,[e(Ne,{class:"row",onSubmit:X(i,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[te(t("input",{type:"hidden",name:"id","onUpdate:modelValue":m[1]||(m[1]=y=>a(o).id=y)},null,512),[[ut,a(o).id]]),e(oe,{autofocus:"",modelValue:a(o).name,"onUpdate:modelValue":m[2]||(m[2]=y=>a(o).name=y),modelModifiers:{trim:!0},label:"Nama Akun","lazy-rules":"",error:!!a(o).errors.name,disable:a(o).processing,"error-message":a(o).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(ie,{modelValue:a(o).type,"onUpdate:modelValue":m[3]||(m[3]=y=>a(o).type=y),label:"Jenis Akun",options:a(s),"map-options":"","emit-value":"",error:!!a(o).errors.type,disable:a(o).processing,"hide-bottom-space":""},null,8,["modelValue","options","error","disable"]),a(o).type=="bank"?(p(),$(K,{key:0},[e(oe,{modelValue:a(o).bank,"onUpdate:modelValue":m[4]||(m[4]=y=>a(o).bank=y),modelModifiers:{trim:!0},label:"Nama Bank","lazy-rules":"",error:!!a(o).errors.bank,disable:a(o).processing,"error-message":a(o).errors.bank,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(oe,{modelValue:a(o).number,"onUpdate:modelValue":m[5]||(m[5]=y=>a(o).number=y),modelModifiers:{trim:!0},label:"Nomor Rekening","lazy-rules":"",error:!!a(o).errors.number,disable:a(o).processing,"error-message":a(o).errors.number,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(oe,{modelValue:a(o).holder,"onUpdate:modelValue":m[6]||(m[6]=y=>a(o).holder=y),modelModifiers:{trim:!0},label:"Pemilik Rekening","lazy-rules":"",error:!!a(o).errors.holder,disable:a(o).processing,"error-message":a(o).errors.holder,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"])],64)):k("",!0),e(Ae,{modelValue:a(o).balance,"onUpdate:modelValue":m[7]||(m[7]=y=>a(o).balance=y),label:"Saldo",lazyRules:"",disable:a(o).processing,"allow-negative":!0,error:!!a(o).errors.balance,errorMessage:a(o).errors.balance,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(oe,{modelValue:a(o).notes,"onUpdate:modelValue":m[8]||(m[8]=y=>a(o).notes=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.notes,"error-message":a(o).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(Ct,{modelValue:a(o).active,"onUpdate:modelValue":m[9]||(m[9]=y=>a(o).active=y),disable:a(o).processing,label:"Aktif"},null,8,["modelValue","disable"]),m[14]||(m[14]=t("div",{class:"text-subtitle2 text-bold text-grey-8 q-pt-md"}," Opsi Lanjutan ",-1)),e(Ct,{modelValue:a(o).show_in_pos_payment,"onUpdate:modelValue":m[10]||(m[10]=y=>a(o).show_in_pos_payment=y),disable:a(o).processing||a(o).type=="cashier_cash",label:"Tampilkan di Pembayaran Penjualan"},null,8,["modelValue","disable"]),e(Ct,{modelValue:a(o).show_in_purchasing_payment,"onUpdate:modelValue":m[11]||(m[11]=y=>a(o).show_in_purchasing_payment=y),disable:a(o).processing,label:"Tampilkan di Pembayaran Pembelian"},null,8,["modelValue","disable"]),e(Ct,{modelValue:a(o).has_wallet_access,"onUpdate:modelValue":m[12]||(m[12]=y=>a(o).has_wallet_access=y),disable:a(o).processing,label:"Tampilkan di Konfirmasi Topup Wallet"},null,8,["modelValue","disable"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(j,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(o).processing},null,8,["disable"]),e(j,{icon:"cancel",label:"Batal",disable:a(o).processing,onClick:m[13]||(m[13]=y=>a(ee).get(c.route("admin.finance-account.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},ku=Object.freeze(Object.defineProperty({__proto__:null,default:yu},Symbol.toStringTag,{value:"Module"})),wu={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},hu={class:"q-pa-xs"},$u={class:"q-my-sm text-subtitle"},xu={class:"text-bold text-grey-8"},Su={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Vu={class:"text-bold text-grey-9"},qu={class:"text-grey-9"},Cu={key:0},Tu={key:1},Pu={key:0},Ou={class:"flex justify-end"},ll="Akun Kas",Ru={__name:"Index",setup(u){const n=be(),d=$e(),o=V(!1),s=V([]),i=V(null),v=V(null),c=We(v,117),m=V(!0),g=Pe({search:"",status:"active",type:"all",...Re()}),f=n.props.totalBalance,y=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),b=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"type",label:"Jenis Akun",field:"type",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right",sortable:!0},{name:"action",align:"right"}],S=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],A=[{value:"all",label:"Semua"},...lt(window.CONSTANTS.FINANCE_ACCOUNT_TYPES)];he(()=>{D()});const h=C=>ot({message:`Hapus Akun ${C.name}?`,url:route("admin.finance-account.delete",C.id),fetchItemsCallback:D,loading:m}),D=(C=null)=>{Ie({pagination:y,filter:g,props:C,rows:s,url:route("admin.finance-account.data"),loading:m,tableRef:i})},R=()=>D(),T=C=>ee.get(route("admin.finance-account.detail",{id:C.id})),B=G(()=>d.screen.gt.sm?b:b.filter(C=>C.name==="name"||C.name==="action"));return(C,w)=>{const E=Q("i-head"),P=Q("authenticated-layout");return p(),$(K,null,[e(E,{title:ll}),e(P,null,Le({title:l(()=>[_(r(ll))]),"right-button":l(()=>[e(j,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:w[0]||(w[0]=F=>o.value=!o.value)},null,8,["icon"]),C.$can("admin.finance-account.add")?(p(),I(j,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:w[1]||(w[1]=F=>a(ee).get(C.route("admin.finance-account.add")))})):k("",!0)]),default:l(()=>[t("div",hu,[e(ce,{class:"full-width q-pa-sm q-mb-xs",flat:"",bordered:"",square:""},{default:l(()=>[t("div",$u,[w[7]||(w[7]=_(" Total Saldo Akun Aktif: ")),t("span",xu,"Rp. "+r(a(W)(a(f))),1)])]),_:1}),e(Te,{ref_key:"tableRef",ref:i,class:"full-height-table",style:Be({height:a(c)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id",pagination:y.value,"onUpdate:pagination":w[6]||(w[6]=F=>y.value=F),filter:g.search,loading:m.value,columns:B.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:D,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:F,message:M,filter:x})=>[t("div",Su,[t("span",null,r(M)+" "+r(x?" with term "+x:""),1)])]),body:l(F=>[e(Ce,{props:F,class:xe([F.row.active?"":"bg-red-1","cursor-pointer"]),onClick:M=>T(F.row)},{default:l(()=>[e(H,{key:"name",props:F,class:"wrap-column"},{default:l(()=>[t("div",Vu,r(F.row.name),1),t("div",qu,[F.row.type=="bank"?(p(),$("div",Cu,[e(q,{name:"wallet",class:"inline-icon"}),_(" Rekening "+r(F.row.bank??"-")+" "+r(F.row.number??"-")+" a.n. "+r(F.row.holder??"-"),1)])):k("",!0),F.row.notes?(p(),$("div",Tu,[e(q,{name:"notes"}),_(" "+r(F.row.notes),1)])):k("",!0)]),a(d).screen.lt.md?(p(),$("div",Pu,[e(q,{name:"money",class:"inline-icon"}),_(" Rp. "+r(a(W)(F.row.balance)),1)])):k("",!0)]),_:2},1032,["props"]),e(H,{key:"type",props:F},{default:l(()=>[_(r(C.$CONSTANTS.FINANCE_ACCOUNT_TYPES[F.row.type]),1)]),_:2},1032,["props"]),e(H,{key:"balance",props:F},{default:l(()=>[_(r(a(W)(F.row.balance)),1)]),_:2},1032,["props"]),e(H,{key:"action",props:F},{default:l(()=>[t("div",Ou,[C.$can("admin.finance-account.add")||C.$can("admin.finance-account.edit")||C.$can("admin.finance-account.delete")?(p(),I(j,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:w[5]||(w[5]=X(()=>{},["stop"]))},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[C.$can("admin.finance-account.add")?te((p(),I(le,{key:0,clickable:"",onClick:X(M=>a(ee).get(C.route("admin.finance-account.duplicate",F.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"file_copy"})]),_:1}),e(N,null,{default:l(()=>w[8]||(w[8]=[_(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),C.$can("admin.finance-account.edit")?te((p(),I(le,{key:1,clickable:"",onClick:X(M=>a(ee).get(C.route("admin.finance-account.edit",F.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"edit"})]),_:1}),e(N,null,{default:l(()=>w[9]||(w[9]=[_("Edit")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),C.$can("admin.finance-account.delete")?te((p(),I(le,{key:2,onClick:X(M=>h(F.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>w[10]||(w[10]=[_("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(at,{class:"filter-bar",ref_key:"filterToolbarRef",ref:v},{default:l(()=>[t("div",wu,[e(ie,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:g.type,"onUpdate:modelValue":[w[2]||(w[2]=F=>g.type=F),R],options:A,label:"Jenis Akun",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ie,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:g.status,"onUpdate:modelValue":[w[3]||(w[3]=F=>g.status=F),R],options:S,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:g.search,"onUpdate:modelValue":w[4]||(w[4]=F=>g.search=F),placeholder:"Cari",clearable:""},{append:l(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Iu=Object.freeze(Object.defineProperty({__proto__:null,default:Ru},Symbol.toStringTag,{value:"Module"})),Du={class:"q-gutter-sm"},Uu={class:"col col-md-6 q-pa-xs"},Au={class:"row"},ju={class:"detail"},Eu={key:0},Mu={key:1},Nu={key:2},Bu={key:3},zu={colspan:"3",class:"bg-white"},ol="Rincian Transaksi",Fu={__name:"Detail",setup(u){const n=be();return(d,o)=>{const s=Q("i-head"),i=Q("authenticated-layout");return p(),$(K,null,[e(s,{title:ol}),e(i,{"show-drawer-button":!0},{"left-button":l(()=>[t("div",Du,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=v=>d.$inertia.get(d.route("admin.finance-transaction.index")))})])]),title:l(()=>[t("span",{class:"text-subtitle2"},r(ol))]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Uu,[t("div",Au,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[o[19]||(o[19]=t("div",{class:"text-subtitle1 text-bold text-grey-8"}," Rincian Transaksi Keuangan ",-1)),t("table",ju,[t("tbody",null,[t("tr",null,[o[1]||(o[1]=t("td",{style:{width:"110px"}},"Kode Trx",-1)),o[2]||(o[2]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.formatted_id),1)]),t("tr",null,[o[3]||(o[3]=t("td",null,"Tanggal",-1)),o[4]||(o[4]=t("td",null,":",-1)),t("td",null,r(a(ge)(a(n).props.data.datetime)),1)]),a(n).props.data.account?(p(),$("tr",Eu,[o[6]||(o[6]=t("td",null,"Akun",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,[_(r(a(n).props.data.account.name)+" ",1),a(n).props.data.account.type==="bank"?(p(),$(K,{key:0},[_(" Rek "+r(a(n).props.data.account.bank)+" an "+r(a(n).props.data.account.holder)+" ",1),o[5]||(o[5]=t("br",null,null,-1)),_(" "+r(a(n).props.data.account.number),1)],64)):k("",!0)])])):k("",!0),a(n).props.data.type?(p(),$("tr",Mu,[o[8]||(o[8]=t("td",null,"Jenis",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,r(d.$CONSTANTS.FINANCE_TRANSACTION_TYPES[a(n).props.data.type]),1)])):k("",!0),t("tr",null,[o[10]||(o[10]=t("td",null,"Jumlah",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,r(a(Bt)(a(n).props.data.amount))+" Rp. "+r(a(W)(Math.abs(a(n).props.data.amount))),1)]),t("tr",null,[o[12]||(o[12]=t("td",null,"Catatan",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.notes),1)]),a(n).props.data.creator?(p(),$("tr",Nu,[o[14]||(o[14]=t("td",null,"Dibuat",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,r(a(ge)(a(n).props.data.created_at))+" oleh "+r(a(n).props.data.creator.name),1)])):k("",!0),a(n).props.data.updater?(p(),$("tr",Bu,[o[16]||(o[16]=t("td",null,"Diperbarui",-1)),o[17]||(o[17]=t("td",null,":",-1)),t("td",null,r(a(ge)(a(n).props.data.updated_at))+" oleh "+r(a(n).props.data.updater.name),1)])):k("",!0),a(n).props.data.image_path?(p(),$(K,{key:4},[o[18]||(o[18]=t("tr",null,[t("td",null,"Lampiran"),t("td",null,":"),t("td")],-1)),t("tr",null,[t("td",zu,[e(Gt,{src:`/${a(n).props.data.image_path}`,class:"q-mt-none",style:Be([{"max-width":"500px"},{border:"1px solid #ddd"}])},null,8,["src"])])])],64)):k("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Lu=Object.freeze(Object.defineProperty({__proto__:null,default:Fu},Symbol.toStringTag,{value:"Module"})),Hu={class:"q-gutter-sm"},Ku={class:"col col-md-6 q-pa-xs"},Yu={__name:"Editor",setup(u){var c;const n=be(),d=(n.props.data.id?"Edit":"Catat")+" Transaksi Keuangan",o=n.props.accounts.map(m=>({label:m.name,value:m.id})),s=[{label:"Pemasukan (+)",value:"income"},{label:"Pengeluaran (-)",value:"expense"},{label:"Transfer",value:"transfer"}],i=Me({id:n.props.data.id,account_id:n.props.data.account_id,to_account_id:n.props.data.to_account_id??null,type:n.props.data.type,datetime:new Date(n.props.data.datetime),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount),image_path:((c=n.props.data)==null?void 0:c.image_path)??"",image:null}),v=()=>{Xt(i,{datetime:"YYYY-MM-DD HH:mm:ss"}),tt({form:i,url:route("admin.finance-transaction.save")})};return(m,g)=>{const f=Q("i-head"),y=Q("authenticated-layout");return p(),$(K,null,[e(f,{title:d}),e(y,null,{title:l(()=>[_(r(d))]),"left-button":l(()=>[t("div",Hu,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:g[0]||(g[0]=b=>m.$inertia.get(m.route("admin.finance-transaction.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Ku,[e(Ne,{class:"row",onSubmit:X(v,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[te(t("input",{type:"hidden",name:"id","onUpdate:modelValue":g[1]||(g[1]=b=>a(i).id=b)},null,512),[[ut,a(i).id]]),e(Ht,{modelValue:a(i).datetime,"onUpdate:modelValue":g[2]||(g[2]=b=>a(i).datetime=b),label:"Waktu",error:!!a(i).errors.datetime,disable:a(i).processing,errorMessage:a(i).errors.datetime,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(ie,{autofocus:"",modelValue:a(i).type,"onUpdate:modelValue":g[3]||(g[3]=b=>a(i).type=b),label:"Jenis Transaksi",options:s,"map-options":"","emit-value":"",error:!!a(i).errors.type,disable:a(i).processing,errorMessage:a(i).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(ie,{class:"custom-select",modelValue:a(i).account_id,"onUpdate:modelValue":g[4]||(g[4]=b=>a(i).account_id=b),label:a(i).type=="transfer"?"Akun Asal":"Akun",options:a(o),"map-options":"","emit-value":"",errorMessage:a(i).errors.account_id,error:!!a(i).errors.account_id,disable:a(i).processing,"hide-bottom-space":""},null,8,["modelValue","label","options","errorMessage","error","disable"]),a(i).type=="transfer"?(p(),I(ie,{key:0,class:"custom-select",modelValue:a(i).to_account_id,"onUpdate:modelValue":g[5]||(g[5]=b=>a(i).to_account_id=b),label:"Akun Tujuan",options:a(o),"map-options":"","emit-value":"",errorMessage:a(i).errors.to_account_id,error:!!a(i).errors.to_account_id,disable:a(i).processing,"hide-bottom-space":""},null,8,["modelValue","options","errorMessage","error","disable"])):k("",!0),e(Ae,{modelValue:a(i).amount,"onUpdate:modelValue":g[6]||(g[6]=b=>a(i).amount=b),label:"Jumlah",lazyRules:"",disable:a(i).processing,error:!!a(i).errors.amount,errorMessage:a(i).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(oe,{modelValue:a(i).notes,"onUpdate:modelValue":g[7]||(g[7]=b=>a(i).notes=b),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(i).processing,error:!!a(i).errors.notes,"error-message":a(i).errors.notes,rules:[b=>b&&b.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e($a,{modelValue:a(i).image,"onUpdate:modelValue":g[8]||(g[8]=b=>a(i).image=b),"initial-image-path":a(i).image_path,disabled:a(i).processing,error:!!a(i).errors.image||!!a(i).errors.image_path,"error-message":a(i).errors.image||a(i).errors.image_path},null,8,["modelValue","initial-image-path","disabled","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(j,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(i).processing},null,8,["disable"]),e(j,{icon:"cancel",label:"Batal",disable:a(i).processing,onClick:g[9]||(g[9]=b=>a(ee).get(m.route("admin.finance-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Wu=Object.freeze(Object.defineProperty({__proto__:null,default:Yu},Symbol.toStringTag,{value:"Module"})),Qu={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Ju={class:"q-pa-xs"},Gu={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Xu={class:"text-grey-8"},Zu={class:"text-bold text-grey-8"},em={class:"flex justify-end no-wrap"},nl="Transaksi Kas",tm={__name:"Index",setup(u){const n=be(),d=$e(),o=V(!1),s=V([]),i=V(!0),v=V(null),c=V(null),m=We(c),g=zt(),f=Ft(),y=[{label:"Semua",value:"all"},...n.props.accounts.map(M=>({label:M.name,value:M.id}))],b=[{label:"Semua Tahun",value:"all"},{label:`${g}`,value:g},...Pt(g-2,g-1).reverse()],S=[{value:"all",label:"Semua Bulan"},...Ot()],A=[{value:"all",label:"Semua"},...lt(window.CONSTANTS.FINANCE_TRANSACTION_TYPES)],h=Pe({search:"",type:"all",account_id:"all",year:g,month:f,...Re()}),D=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),R=[{name:"id",label:d.screen.lt.md?"Item":"Kode Trx",field:"id",align:"left",sortable:!0},{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"type",label:"Jenis",field:"type",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}];he(()=>{B()});const T=M=>ot({message:`Penghapusan transaksi keuangan bisa mengakibatkan data yang saling berkaitan di modul lain tidak konsisten. Anda setuju untuk menghapus transaksi ${M.formatted_id}?`,url:route("admin.finance-transaction.delete",M.id),fetchItemsCallback:B,loading:i}),B=(M=null)=>{Ie({pagination:D,filter:h,props:M,rows:s,url:route("admin.finance-transaction.data"),loading:i,tableRef:v})},C=()=>{B()},w=G(()=>d.screen.gt.sm?R:R.filter(M=>M.name==="id"||M.name==="action"));je(()=>h.year,M=>{M===null&&(h.month=null)});const E=V(null),P=V(!1),F=M=>{E.value=M,P.value=!0};return(M,x)=>{const z=Q("i-head"),J=Q("authenticated-layout");return p(),$(K,null,[e(z,{title:nl}),e(J,null,Le({title:l(()=>[_(r(nl))]),"right-button":l(()=>[e(j,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:x[0]||(x[0]=O=>o.value=!o.value)},null,8,["icon"]),M.$can("admin.finance-transaction.add")?(p(),I(j,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:x[1]||(x[1]=O=>a(ee).get(M.route("admin.finance-transaction.add")))})):k("",!0)]),default:l(()=>[t("div",Ju,[e(Te,{ref_key:"tableRef",ref:v,style:Be({height:a(m)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id",pagination:D.value,"onUpdate:pagination":x[8]||(x[8]=O=>D.value=O),filter:h.search,loading:i.value,columns:w.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:B,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:O,message:U,filter:Z})=>[t("div",Gu,[t("span",null,r(U)+" "+r(Z?" with term "+Z:""),1)])]),body:l(O=>[e(Ce,{props:O,class:"cursor-pointer",onClick:X(U=>a(ee).get(M.route("admin.finance-transaction.detail",{id:O.row.id})),["stop"])},{default:l(()=>[e(H,{key:"id",props:O},{default:l(()=>[t("div",null,[a(d).screen.lt.md?(p(),I(q,{key:0,class:"inline-icon",name:"tag"})):k("",!0),_(" "+r(O.row.formatted_id),1)]),a(d).screen.lt.md?(p(),$(K,{key:0},[t("div",Xu,[e(q,{class:"inline-icon",name:"calendar_clock"}),_(" "+r(a(ge)(O.row.datetime)),1)]),t("div",Zu,[e(q,{name:"wallet",class:"inline-icon"}),_(" "+r(O.row.account.name),1)]),t("div",{class:xe(["text-bold",O.row.amount<0?"text-red":"text-green"])},[e(q,{name:"money",class:"inline-icon"}),_(" "+r(a(Bt)(O.row.amount)+"Rp."+a(W)(Math.abs(O.row.amount))),1)],2),O.row.notes?(p(),I(we,{key:0,icon:"notes",text:O.row.notes,class:"text-grey-8"},null,8,["text"])):k("",!0),e(dt,{color:O.row.amount>0?"green":"red"},{default:l(()=>[_(r(O.row.type_label),1)]),_:2},1032,["color"])],64)):k("",!0)]),_:2},1032,["props"]),e(H,{key:"datetime",props:O,class:"wrap-column"},{default:l(()=>[_(r(a(ge)(O.row.datetime)),1)]),_:2},1032,["props"]),e(H,{key:"account",props:O},{default:l(()=>{var U;return[_(r((U=O.row.account)==null?void 0:U.name),1)]}),_:2},1032,["props"]),e(H,{key:"type",props:O},{default:l(()=>[_(r(M.$CONSTANTS.FINANCE_TRANSACTION_TYPES[O.row.type]),1)]),_:2},1032,["props"]),e(H,{key:"amount",props:O,style:{"text-align":"right"}},{default:l(()=>[_(r(a(ra)(O.row.amount)),1)]),_:2},1032,["props"]),e(H,{key:"notes",props:O,class:"wrap-column"},{default:l(()=>[_(r(O.row.notes),1)]),_:2},1032,["props"]),e(H,{key:"action",props:O},{default:l(()=>[t("div",em,[e(j,{icon:"image",color:"primary",dense:"",flat:"",disable:O.row.image_path===null||O.row.image_path==="",onClick:X(U=>F(O.row.image_path),["stop"])},{default:l(()=>[O.row.image_path!=null?(p(),I(Lt,{key:0},{default:l(()=>x[10]||(x[10]=[_(" Lihat Bukti ")])),_:1})):k("",!0)]),_:2},1032,["disable","onClick"]),M.$can("admin.finance-transaction.delete")?(p(),I(j,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:x[7]||(x[7]=X(()=>{},["stop"]))},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[M.$can("admin.finance-transaction.delete")?te((p(),I(le,{key:0,onClick:X(U=>T(O.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>x[11]||(x[11]=[_("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])]),e(ia,{modelValue:P.value,"onUpdate:modelValue":x[9]||(x[9]=O=>P.value=O),imageUrl:`/${E.value}`},null,8,["modelValue","imageUrl"])]),_:2},[o.value?{name:"header",fn:l(()=>[e(at,{class:"filter-bar",ref_key:"filterToolbarRef",ref:c},{default:l(()=>[t("div",Qu,[e(ie,{modelValue:h.year,"onUpdate:modelValue":[x[2]||(x[2]=O=>h.year=O),C],options:b,label:"Tahun",dense:"",outlined:"",class:"custom-select col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),h.year!="all"?(p(),I(ie,{key:0,modelValue:h.month,"onUpdate:modelValue":[x[3]||(x[3]=O=>h.month=O),C],options:S,label:"Bulan",dense:"",outlined:"",class:"custom-select col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:h.year===null},null,8,["modelValue","disable"])):k("",!0),e(ie,{modelValue:h.type,"onUpdate:modelValue":[x[4]||(x[4]=O=>h.type=O),C],options:A,label:"Jenis",dense:"",class:"custom-select col-xs-6 col-sm-2","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ie,{modelValue:h.account_id,"onUpdate:modelValue":[x[5]||(x[5]=O=>h.account_id=O),C],label:"Akun",options:y,"map-options":"","emit-value":"",class:"custom-select col-xs-6 col-sm-2",outlined:"",dense:""},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:h.search,"onUpdate:modelValue":x[6]||(x[6]=O=>h.search=O),placeholder:"Cari",clearable:""},{append:l(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},am=Object.freeze(Object.defineProperty({__proto__:null,default:tm},Symbol.toStringTag,{value:"Module"})),lm={class:"q-gutter-sm"},om={class:"col col-md-6 q-pa-xs"},nm={__name:"Editor",setup(u){const n=be(),d=(n.props.data.id?"Edit":"Tambah")+" Kategori Operasional",o=Me({id:n.props.data.id??null,name:n.props.data.name,description:n.props.data.description}),s=()=>tt({form:o,url:route("admin.operational-cost-category.save")});return(i,v)=>{const c=Q("i-head"),m=Q("authenticated-layout");return p(),$(K,null,[e(c,{title:d}),e(m,null,{title:l(()=>[_(r(d))]),"left-button":l(()=>[t("div",lm,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:v[0]||(v[0]=g=>i.$goBack())})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",om,[e(Ne,{class:"row",onSubmit:X(s,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[te(t("input",{type:"hidden",name:"id","onUpdate:modelValue":v[1]||(v[1]=g=>a(o).id=g)},null,512),[[ut,a(o).id]]),e(oe,{autofocus:"",modelValue:a(o).name,"onUpdate:modelValue":v[2]||(v[2]=g=>a(o).name=g),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!a(o).errors.name,disable:a(o).processing,"error-message":a(o).errors.name,rules:[g=>g&&g.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(oe,{modelValue:a(o).description,"onUpdate:modelValue":v[3]||(v[3]=g=>a(o).description=g),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.description,"error-message":a(o).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(j,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(o).processing},null,8,["disable"]),e(j,{icon:"cancel",label:"Batal",disable:a(o).processing,onClick:v[4]||(v[4]=g=>a(o).reset())},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},sm=Object.freeze(Object.defineProperty({__proto__:null,default:nm},Symbol.toStringTag,{value:"Module"})),rm={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},im={class:"q-pa-xs"},dm={class:"full-width row flex-center text-grey-8 q-gutter-sm"},um={key:0,class:"text-grey-8"},mm={class:"flex justify-end"},sl="Kategori Biaya Operasional",cm={__name:"Index",setup(u){const n=$e(),d=V(!1),o=V([]),s=V(!0),i=V(null),v=V(null),c=We(v),m=Pe({search:"",...Re()}),g=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),f=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];he(()=>{b()});const y=A=>ot({message:`Hapus Kategori Biaya ${A.name}?`,url:route("admin.operational-cost-category.delete",A.id),fetchItemsCallback:b,loading:s}),b=(A=null)=>{Ie({pagination:g,filter:m,props:A,rows:o,url:route("admin.operational-cost-category.data"),loading:s,tableRef:i})},S=G(()=>n.screen.gt.sm?f:f.filter(A=>A.name==="name"||A.name==="action"));return(A,h)=>{const D=Q("i-head"),R=Q("authenticated-layout");return p(),$(K,null,[e(D,{title:sl}),e(R,null,Le({title:l(()=>[_(r(sl))]),"right-button":l(()=>[e(j,{icon:d.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:h[0]||(h[0]=T=>d.value=!d.value)},null,8,["icon"]),A.$can("admin.operational-cost-category.add")?(p(),I(j,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:h[1]||(h[1]=T=>a(ee).get(A.route("admin.operational-cost-category.add")))})):k("",!0)]),default:l(()=>[t("div",im,[e(Te,{ref_key:"tableRef",ref:i,class:"full-height-table",style:Be({height:a(c)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id",pagination:g.value,"onUpdate:pagination":h[4]||(h[4]=T=>g.value=T),filter:m.search,loading:s.value,columns:S.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:b,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:T,message:B,filter:C})=>[t("div",dm,[t("span",null,r(B)+" "+r(C?" with term "+C:""),1)])]),body:l(T=>[e(Ce,{props:T},{default:l(()=>[e(H,{key:"name",props:T,class:"wrap-column"},{default:l(()=>[_(r(T.row.name)+" ",1),a(n).screen.gt.sm?k("",!0):(p(),$(K,{key:0},[T.row.description?(p(),$("div",um,[e(q,{name:"description"}),_(" "+r(T.row.description),1)])):k("",!0)],64))]),_:2},1032,["props"]),e(H,{key:"description",props:T,class:"wrap-column"},{default:l(()=>[_(r(T.row.description),1)]),_:2},1032,["props"]),e(H,{key:"action",props:T},{default:l(()=>[t("div",mm,[A.$can("admin.operational-cost-category.add")||A.$can("admin.operational-cost-category.edit")||A.$can("admin.operational-cost-category.delete")?(p(),I(j,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:h[3]||(h[3]=X(()=>{},["stop"]))},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[A.$can("admin.operational-cost-category.add")?te((p(),I(le,{key:0,clickable:"",onClick:X(B=>a(ee).get(A.route("admin.operational-cost-category.duplicate",T.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"file_copy"})]),_:1}),e(N,null,{default:l(()=>h[5]||(h[5]=[_("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),A.$can("admin.operational-cost-category.edit")?te((p(),I(le,{key:1,clickable:"",onClick:X(B=>a(ee).get(A.route("admin.operational-cost-category.edit",T.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"edit"})]),_:1}),e(N,null,{default:l(()=>h[6]||(h[6]=[_("Edit")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),A.$can("admin.operational-cost-category.delete")?te((p(),I(le,{key:2,onClick:X(B=>y(T.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>h[7]||(h[7]=[_("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[d.value?{name:"header",fn:l(()=>[e(at,{class:"filter-bar",ref_key:"filterToolbarRef",ref:v},{default:l(()=>[t("div",rm,[e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":h[2]||(h[2]=T=>m.search=T),placeholder:"Cari",clearable:""},{append:l(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},pm=Object.freeze(Object.defineProperty({__proto__:null,default:cm},Symbol.toStringTag,{value:"Module"})),fm={class:"q-gutter-sm"},gm={class:"col col-md-6 q-pa-xs"},bm={class:"row"},vm={class:"detail"},_m={key:0},ym={key:1},km={key:2},wm={key:3},hm={colspan:"3",class:"bg-white"},rl="Rincian Biaya Operasional",$m={__name:"Detail",setup(u){const n=be();return(d,o)=>{const s=Q("i-head"),i=Q("authenticated-layout");return p(),$(K,null,[e(s,{title:rl}),e(i,{"show-drawer-button":!0},{"left-button":l(()=>[t("div",fm,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=v=>d.$inertia.get(d.route("admin.operational-cost.index")))})])]),title:l(()=>[t("span",{class:"text-subtitle2"},r(rl))]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",gm,[t("div",bm,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[o[21]||(o[21]=t("div",{class:"text-subtitle1 text-bold text-grey-8"}," Rincian Biaya Operasional ",-1)),t("table",vm,[t("tbody",null,[t("tr",null,[o[1]||(o[1]=t("td",{style:{width:"110px"}},"ID",-1)),o[2]||(o[2]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.id),1)]),t("tr",null,[o[3]||(o[3]=t("td",null,"Tanggal",-1)),o[4]||(o[4]=t("td",null,":",-1)),t("td",null,r(a(Jt)(a(n).props.data.date)),1)]),a(n).props.data.finance_account?(p(),$("tr",_m,[o[6]||(o[6]=t("td",null,"Akun",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,[_(r(a(n).props.data.finance_account.name)+" ",1),a(n).props.data.finance_account.type==="bank"?(p(),$(K,{key:0},[_(" Rek "+r(a(n).props.data.finance_account.bank)+" an "+r(a(n).props.data.finance_account.holder)+" ",1),o[5]||(o[5]=t("br",null,null,-1)),_(" "+r(a(n).props.data.finance_account.number),1)],64)):k("",!0)])])):k("",!0),a(n).props.data.category?(p(),$("tr",ym,[o[8]||(o[8]=t("td",null,"Kategori",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.category.name),1)])):k("",!0),t("tr",null,[o[10]||(o[10]=t("td",null,"Deskripsi",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.description),1)]),t("tr",null,[o[12]||(o[12]=t("td",null,"Jumlah",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,"Rp. "+r(a(W)(a(n).props.data.amount)),1)]),t("tr",null,[o[14]||(o[14]=t("td",null,"Catatan",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.notes),1)]),a(n).props.data.creator?(p(),$("tr",km,[o[16]||(o[16]=t("td",null,"Dibuat",-1)),o[17]||(o[17]=t("td",null,":",-1)),t("td",null,r(a(ge)(a(n).props.data.created_at))+" oleh "+r(a(n).props.data.creator.name),1)])):k("",!0),a(n).props.data.updater?(p(),$("tr",wm,[o[18]||(o[18]=t("td",null,"Diperbarui",-1)),o[19]||(o[19]=t("td",null,":",-1)),t("td",null,r(a(ge)(a(n).props.data.updated_at))+" oleh "+r(a(n).props.data.updater.name),1)])):k("",!0),a(n).props.data.image_path?(p(),$(K,{key:4},[o[20]||(o[20]=t("tr",null,[t("td",null,"Lampiran"),t("td",null,":"),t("td")],-1)),t("tr",null,[t("td",hm,[e(Gt,{src:`/${a(n).props.data.image_path}`,class:"q-mt-none",style:Be([{"max-width":"500px"},{border:"1px solid #ddd"}])},null,8,["src"])])])],64)):k("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},xm=Object.freeze(Object.defineProperty({__proto__:null,default:$m},Symbol.toStringTag,{value:"Module"})),Sm={class:"row items-center justify-end"},Vm={__name:"DatePicker",props:{modelValue:{type:[Date,null],required:!1,default:null},label:String,readonly:Boolean,disable:Boolean,error:Boolean,errorMessage:String,rules:{type:Array,default:()=>[]},minDate:{type:[Date,null],default:null},maxDate:{type:[Date,null],default:null},displayFormat:{type:String,default:"DD/MM/YYYY"}},emits:["update:modelValue"],setup(u,{emit:n}){const d=u,o=n,s=V(""),i=V(""),v=g=>{let f=!0;const y=d.minDate?st.formatDate(d.minDate,"YYYY/MM/DD"):null,b=d.maxDate?st.formatDate(d.maxDate,"YYYY/MM/DD"):null;return y&&(f=f&&st.isBetweenDates(g,y,"2999/01/01",{inclusiveFrom:!0})),b&&(f=f&&st.isBetweenDates(g,"1900/01/01",b,{inclusiveTo:!0})),f},c=G(()=>[g=>!!g||"Tanggal harus diisi",g=>{const f=st.extractDate(g,d.displayFormat);if(!f)return"Format tanggal tidak valid";f.setHours(0,0,0,0);const y=d.minDate?new Date(d.minDate):null;y&&y.setHours(0,0,0,0);const b=d.maxDate?new Date(d.maxDate):null;return b&&b.setHours(0,0,0,0),y&&f<y?`Tanggal tidak boleh kurang dari ${st.formatDate(d.minDate,d.displayFormat)}`:b&&f>b?`Tanggal tidak boleh lebih dari ${st.formatDate(d.maxDate,d.displayFormat)}`:(o("update:modelValue",f),!0)}]);je(()=>d.modelValue,g=>{g instanceof Date?(i.value=st.formatDate(g,"YYYY/MM/DD"),s.value=st.formatDate(g,d.displayFormat)):(i.value="",s.value="")},{immediate:!0});const m=g=>{const f=g!==null?new Date(g):null;o("update:modelValue",f),s.value=f?st.formatDate(f,d.displayFormat):null};return(g,f)=>(p(),I(oe,{modelValue:s.value,"onUpdate:modelValue":f[1]||(f[1]=y=>s.value=y),label:d.label,readonly:d.readonly,disable:d.disable,error:d.error,"error-message":d.errorMessage,mask:d.displayFormat.replaceAll("D","#").replaceAll("M","#").replaceAll("Y","#"),rules:c.value},{append:l(()=>[e(j,{icon:"event",disable:d.disable||d.readonly,flat:"",rounded:"",dense:""},{default:l(()=>[e(hn,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e($n,{modelValue:i.value,"onUpdate:modelValue":[f[0]||(f[0]=y=>i.value=y),m],options:v},{default:l(()=>[t("div",Sm,[te(e(j,{label:"Close",color:"primary",flat:""},null,512),[[me]])])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["disable"])]),_:1},8,["modelValue","label","readonly","disable","error","error-message","mask","rules"]))}},Sa=_t(Vm,[["__scopeId","data-v-b418ccfb"]]);function oo(u,n=!1){const d=u.map(v=>({value:v.id,label:v.name})),o=n?[{value:"all",label:"Semua"},...d]:d,s=V([...o]);return{filteredCostCategories:s,filterCostCategory:(v,c)=>{const m=v.toLowerCase();c(()=>{s.value=o.filter(g=>g.label.toLowerCase().includes(m))})},costCategoryOptions:o}}const qm={class:"q-gutter-sm"},Cm={class:"col col-md-6 q-pa-xs"},Tm={__name:"Editor",setup(u){var y;const n=be(),d=(n.props.data.id?"Edit":"Tambah")+" Biaya Operasional",{costCategoryOptions:o}=oo(n.props.categories),s=n.props.finance_accounts.map(b=>({label:b.name,value:b.id})),i=V(o),v=V([...i.value]),c=Me({id:n.props.data.id,finance_account_id:n.props.data.finance_account_id??null,category_id:n.props.data.category_id??null,date:new Date(n.props.data.date),description:n.props.data.description,notes:n.props.data.notes,amount:parseFloat(n.props.data.amount),image_path:((y=n.props.data)==null?void 0:y.image_path)??null,image:null}),m=()=>{Xt(c,{date:"YYYY-MM-DD"}),tt({form:c,url:route("admin.operational-cost.save")})},g=(b,S)=>{S(()=>{v.value=i.value.filter(A=>A.label.toLowerCase().includes(b.toLowerCase()))})},f=()=>{c.image_path=null};return(b,S)=>{const A=Q("i-head"),h=Q("authenticated-layout");return p(),$(K,null,[e(A,{title:d}),e(h,null,{title:l(()=>[_(r(d))]),"left-button":l(()=>[t("div",qm,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:S[0]||(S[0]=D=>b.$inertia.get(b.route("admin.operational-cost.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Cm,[e(Ne,{class:"row",onSubmit:X(m,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[te(t("input",{type:"hidden",name:"id","onUpdate:modelValue":S[1]||(S[1]=D=>a(c).id=D)},null,512),[[ut,a(c).id]]),e(ie,{autofocus:"",modelValue:a(c).category_id,"onUpdate:modelValue":S[2]||(S[2]=D=>a(c).category_id=D),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:v.value,"map-options":"","emit-value":"",onFilter:g,error:!!a(c).errors.category_id,disable:a(c).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(le,null,{default:l(()=>[e(N,null,{default:l(()=>S[10]||(S[10]=[_("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","error","disable"]),e(Sa,{modelValue:a(c).date,"onUpdate:modelValue":S[3]||(S[3]=D=>a(c).date=D),label:"Tanggal",error:!!a(c).errors.date,disable:a(c).processing,"hide-bottom-space":""},null,8,["modelValue","error","disable"]),e(oe,{modelValue:a(c).description,"onUpdate:modelValue":S[4]||(S[4]=D=>a(c).description=D),modelModifiers:{trim:!0},label:"Deskripsi","lazy-rules":"",error:!!a(c).errors.description,disable:a(c).processing,"error-message":a(c).errors.description,rules:[D=>D&&D.length>0||"Deskripsi harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Ae,{modelValue:a(c).amount,"onUpdate:modelValue":S[5]||(S[5]=D=>a(c).amount=D),label:"Jumlah",lazyRules:"",disable:a(c).processing,error:!!a(c).errors.amount,errorMessage:a(c).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(ie,{class:"custom-select",modelValue:a(c).finance_account_id,"onUpdate:modelValue":S[6]||(S[6]=D=>a(c).finance_account_id=D),label:"Sumber Dana",options:a(s),"map-options":"","emit-value":"",clearable:"",errorMessage:a(c).errors.finance_account_id,error:!!a(c).errors.finance_account_id,disable:a(c).processing,"hide-bottom-space":""},null,8,["modelValue","options","errorMessage","error","disable"]),e(oe,{modelValue:a(c).notes,"onUpdate:modelValue":S[7]||(S[7]=D=>a(c).notes=D),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(c).processing,error:!!a(c).errors.notes,"error-message":a(c).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e($a,{modelValue:a(c).image,"onUpdate:modelValue":S[8]||(S[8]=D=>a(c).image=D),"initial-image-path":a(c).image_path,disabled:a(c).processing,error:!!a(c).errors.image||!!a(c).errors.image_path,"error-message":a(c).errors.image||a(c).errors.image_path,onImageCleared:f},null,8,["modelValue","initial-image-path","disabled","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(j,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(c).processing},null,8,["disable"]),e(j,{icon:"cancel",label:"Batal",disable:a(c).processing,onClick:S[9]||(S[9]=D=>a(ee).get(b.route("admin.operational-cost.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Pm=Object.freeze(Object.defineProperty({__proto__:null,default:Tm},Symbol.toStringTag,{value:"Module"})),Om={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Rm={class:"q-pa-xs"},Im={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Dm={key:0},Um={key:1},Am={key:0},jm={class:"flex justify-end no-wrap"},il="Biaya Operasional",Em={__name:"Index",setup(u){const n=be(),d=$e(),o=V(!1),s=V(null),i=V(null),v=We(i),c=V(null),m=V(!1),g=V([]),f=V(!0),y=new Date().getFullYear(),b=new Date().getMonth()+1,S=[{label:"Semua Tahun",value:null},{label:`${y}`,value:y},...Pt(y-2,y-1).reverse()],A=[{value:null,label:"Semua Bulan"},...Ot()],{costCategoryOptions:h}=oo(n.props.categories),D=[{value:"all",label:"Semua"},{value:null,label:"Tanpa Kategori"},...h],{accountOptions:R}=xn(n.props.finance_accounts),T=[{value:"all",label:"Semua"},{value:null,label:"Tidak Diset"},...R],B=Pe({search:"",finance_account_id:"all",category_id:"all",year:y,month:b,...Re()}),C=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),w=[{name:"id",label:d.screen.lt.md?"Item":"ID",field:"id",align:"left",sortable:!0},{name:"date",label:"Tanggal",field:"date",align:"left",sortable:!0},{name:"account_id",label:"Akun",field:"account_id",align:"left"},{name:"category_id",label:"Kategori",field:"category_id",align:"left"},{name:"description",label:"Deskripsi",field:"description",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right",sortable:!0},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}];he(()=>{P()});const E=z=>ot({message:`Hapus Biaya ${z.description}?`,url:route("admin.operational-cost.delete",z.id),fetchItemsCallback:P,loading:f}),P=(z=null)=>{Ie({pagination:C,filter:B,props:z,rows:g,url:route("admin.operational-cost.data"),loading:f,tableRef:s})},F=()=>{P()},M=G(()=>d.screen.gt.sm?w:w.filter(z=>z.name==="id"||z.name==="action"));je(()=>B.year,z=>{z===null&&(B.month=null)});const x=z=>{c.value=z,m.value=!0};return(z,J)=>{const O=Q("i-head"),U=Q("authenticated-layout");return p(),$(K,null,[e(O,{title:il}),e(U,null,Le({title:l(()=>[_(r(il))]),"right-button":l(()=>[e(j,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:J[0]||(J[0]=Z=>o.value=!o.value)},null,8,["icon"]),z.$can("admin.operational-cost.add")?(p(),I(j,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:J[1]||(J[1]=Z=>a(ee).get(z.route("admin.operational-cost.add")))})):k("",!0)]),default:l(()=>[t("div",Rm,[e(Te,{ref_key:"tableRef",ref:s,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id",pagination:C.value,"onUpdate:pagination":J[8]||(J[8]=Z=>C.value=Z),filter:B.search,loading:f.value,columns:M.value,rows:g.value,"rows-per-page-options":[10,25,50],style:Be({height:a(v)}),onRequest:P,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:Z,message:se,filter:ne})=>[t("div",Im,[t("span",null,r(se)+" "+r(ne?" with term "+ne:""),1)])]),body:l(Z=>[e(Ce,{props:Z,class:"cursor-pointer",onClick:X(se=>a(ee).get(z.route("admin.operational-cost.detail",{id:Z.row.id})),["stop"])},{default:l(()=>[e(H,{key:"id",props:Z,class:"wrap-column"},{default:l(()=>[a(d).screen.gt.sm?k("",!0):(p(),$(K,{key:0},[_(" ID: ")],64)),_(" "+r(Z.row.id)+" ",1),a(d).screen.gt.sm?k("",!0):(p(),$(K,{key:1},[t("div",null,[e(q,{name:"calendar_clock",class:"inline-icon"}),_(" "+r(a(Jt)(Z.row.date)),1)]),Z.row.finance_account?(p(),$("div",Dm,[e(q,{name:"wallet",class:"inline-icon"}),_(" "+r(Z.row.finance_account.name),1)])):k("",!0),Z.row.category?(p(),$("div",Um,[e(q,{name:"category",class:"inline-icon"}),_(" "+r(Z.row.category.name),1)])):k("",!0),e(we,{icon:"description",text:Z.row.description,class:"inline-icon"},null,8,["text"]),t("div",null,[e(q,{name:"money",class:"inline-icon"}),_(" Rp. "+r(a(W)(Z.row.amount)),1)]),e(we,{icon:"notes",text:Z.row.notes,class:"inline-icon text-grey-9"},null,8,["text"])],64))]),_:2},1032,["props"]),e(H,{key:"date",props:Z,class:"wrap-column"},{default:l(()=>[_(r(a(Jt)(Z.row.date)),1)]),_:2},1032,["props"]),e(H,{key:"account_id",props:Z,class:"wrap-column"},{default:l(()=>[_(r(Z.row.finance_account?Z.row.finance_account.name:""),1)]),_:2},1032,["props"]),e(H,{key:"category_id",props:Z},{default:l(()=>[Z.row.category?(p(),$("div",Am,r(Z.row.category.name),1)):k("",!0)]),_:2},1032,["props"]),e(H,{key:"description",props:Z},{default:l(()=>[e(we,{text:Z.row.description,"max-length":50},null,8,["text"])]),_:2},1032,["props"]),e(H,{key:"amount",props:Z},{default:l(()=>[_(r(a(W)(Z.row.amount)),1)]),_:2},1032,["props"]),e(H,{key:"notes",props:Z},{default:l(()=>[e(we,{text:Z.row.notes,"max-length":50},null,8,["text"])]),_:2},1032,["props"]),e(H,{key:"action",props:Z},{default:l(()=>[t("div",jm,[e(j,{icon:"image",color:"primary",dense:"",flat:"",disable:Z.row.image_path===null||Z.row.image_path==="",onClick:X(se=>x(Z.row.image_path),["stop"])},{default:l(()=>[Z.row.image_path!=null?(p(),I(Lt,{key:0},{default:l(()=>J[10]||(J[10]=[_(" Lihat Bukti ")])),_:1})):k("",!0)]),_:2},1032,["disable","onClick"]),z.$can("admin.operational-cost.add")||z.$can("admin.operational-cost.edit")||z.$can("admin.operational-cost.delete")?(p(),I(j,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:J[7]||(J[7]=X(()=>{},["stop"]))},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[z.$can("admin.operational-cost.add")?te((p(),I(le,{key:0,clickable:"",onClick:X(se=>a(ee).get(z.route("admin.operational-cost.duplicate",Z.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"file_copy"})]),_:1}),e(N,null,{default:l(()=>J[11]||(J[11]=[_(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),z.$can("admin.operational-cost.edit")?te((p(),I(le,{key:1,clickable:"",onClick:X(se=>a(ee).get(z.route("admin.operational-cost.edit",Z.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"edit"})]),_:1}),e(N,null,{default:l(()=>J[12]||(J[12]=[_("Edit")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),z.$can("admin.operational-cost.delete")?te((p(),I(le,{key:2,onClick:X(se=>E(Z.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>J[13]||(J[13]=[_("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])]),e(ia,{modelValue:m.value,"onUpdate:modelValue":J[9]||(J[9]=Z=>m.value=Z),imageUrl:`/${c.value}`},null,8,["modelValue","imageUrl"])]),_:2},[o.value?{name:"header",fn:l(()=>[e(at,{class:"filter-bar",ref_key:"filterToolbarRef",ref:i},{default:l(()=>[t("div",Om,[e(ie,{modelValue:B.year,"onUpdate:modelValue":[J[2]||(J[2]=Z=>B.year=Z),F],options:S,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(ie,{modelValue:B.month,"onUpdate:modelValue":[J[3]||(J[3]=Z=>B.month=Z),F],options:A,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:B.year===null},null,8,["modelValue","disable"]),e(ie,{modelValue:B.category_id,"onUpdate:modelValue":[J[4]||(J[4]=Z=>B.category_id=Z),F],options:D,label:"Kategori",dense:"",class:"custom-select col-xs-12 col-sm-3","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ie,{modelValue:B.finance_account_id,"onUpdate:modelValue":[J[5]||(J[5]=Z=>B.finance_account_id=Z),F],options:T,label:"Akun Kas",dense:"",class:"custom-select col-xs-12 col-sm-3","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:B.search,"onUpdate:modelValue":J[6]||(J[6]=Z=>B.search=Z),placeholder:"Cari",clearable:""},{append:l(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Mm=Object.freeze(Object.defineProperty({__proto__:null,default:Em},Symbol.toStringTag,{value:"Module"})),Nm={class:"q-gutter-sm"},Bm={class:"col col-md-6 q-pa-xs"},zm={__name:"Editor",setup(u){const n=$e(),d=be(),o=(d.props.data.id?"Edit":"Tambah")+" Kategori Produk",s=Me({id:d.props.data.id,name:d.props.data.name,description:d.props.data.description}),i=()=>tt({form:s,url:route("admin.product-category.save")});return(v,c)=>{const m=Q("i-head"),g=Q("authenticated-layout");return p(),$(K,null,[e(m,{title:o}),e(g,{"show-drawer-button":!a(n).screen.lt.md},Le({title:l(()=>[_(r(o))]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Bm,[e(Ne,{class:"row",onSubmit:X(i,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[te(t("input",{type:"hidden",name:"id","onUpdate:modelValue":c[1]||(c[1]=f=>a(s).id=f)},null,512),[[ut,a(s).id]]),e(oe,{autofocus:"",modelValue:a(s).name,"onUpdate:modelValue":c[2]||(c[2]=f=>a(s).name=f),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!a(s).errors.name,disable:a(s).processing,"error-message":a(s).errors.name,rules:[f=>f&&f.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(oe,{modelValue:a(s).description,"onUpdate:modelValue":c[3]||(c[3]=f=>a(s).description=f),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:a(s).processing,error:!!a(s).errors.description,"error-message":a(s).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(j,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(s).processing,loading:a(s).processing},null,8,["disable","loading"]),e(j,{icon:"cancel",label:"Batal",disable:a(s).processing,onClick:c[4]||(c[4]=f=>a(s).reset())},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:2},[a(n).screen.lt.md?{name:"left-button",fn:l(()=>[t("div",Nm,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=f=>v.$goBack())})])]),key:"0"}:void 0]),1032,["show-drawer-button"])],64)}}},Fm=Object.freeze(Object.defineProperty({__proto__:null,default:zm},Symbol.toStringTag,{value:"Module"})),Lm={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Hm={class:"q-pa-xs"},Km={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ym={key:0,class:"text-grey-8"},Wm={class:"flex justify-end"},dl="Kategori Produk",Qm={__name:"Index",setup(u){const n=$e(),d=V(!1),o=V([]),s=V(!0),i=V(null),v=V(null),c=We(v),m=Pe({search:"",...Re()}),g=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),f=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];he(()=>{b()});const y=A=>ot({message:`Hapus Kategori ${A.name}?`,url:route("admin.product-category.delete",A.id),fetchItemsCallback:b,loading:s}),b=(A=null)=>{Ie({pagination:g,filter:m,props:A,rows:o,url:route("admin.product-category.data"),loading:s,tableRef:i})},S=G(()=>n.screen.gt.sm?f:f.filter(A=>A.name==="name"||A.name==="action"));return(A,h)=>{const D=Q("i-head"),R=Q("authenticated-layout");return p(),$(K,null,[e(D,{title:dl}),e(R,null,Le({title:l(()=>[_(r(dl))]),"right-button":l(()=>[e(j,{icon:d.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:h[0]||(h[0]=T=>d.value=!d.value)},null,8,["icon"]),A.$can("admin.product-category.add")?(p(),I(j,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:h[1]||(h[1]=T=>a(ee).get(A.route("admin.product-category.add")))})):k("",!0)]),default:l(()=>[t("div",Hm,[e(Te,{ref_key:"tableRef",ref:i,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id",pagination:g.value,"onUpdate:pagination":h[4]||(h[4]=T=>g.value=T),filter:m.search,loading:s.value,columns:S.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Be({height:a(c)}),onRequest:b,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:T,message:B,filter:C})=>[t("div",Km,[t("span",null,r(B)+" "+r(C?" with term "+C:""),1)])]),body:l(T=>[e(Ce,{props:T},{default:l(()=>[e(H,{key:"name",props:T,class:"wrap-column"},{default:l(()=>[_(r(T.row.name)+" ",1),a(n).screen.gt.sm?k("",!0):(p(),$(K,{key:0},[T.row.description?(p(),$("div",Ym,[e(q,{name:"description"}),_(" "+r(T.row.description),1)])):k("",!0)],64))]),_:2},1032,["props"]),e(H,{key:"description",props:T,class:"wrap-column"},{default:l(()=>[_(r(T.row.description),1)]),_:2},1032,["props"]),e(H,{key:"action",props:T},{default:l(()=>[t("div",Wm,[A.$can("admin.product-category.add")||A.$can("admin.product-category.edit")||A.$can("admin.product-category.delete")?(p(),I(j,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:h[3]||(h[3]=X(()=>{},["stop"]))},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[A.$can("admin.product-category.add")?te((p(),I(le,{key:0,clickable:"",onClick:X(B=>a(ee).get(A.route("admin.product-category.duplicate",T.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"file_copy"})]),_:1}),e(N,null,{default:l(()=>h[5]||(h[5]=[_("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),A.$can("admin.product-category.edit")?te((p(),I(le,{key:1,clickable:"",onClick:X(B=>a(ee).get(A.route("admin.product-category.edit",T.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"edit"})]),_:1}),e(N,null,{default:l(()=>h[6]||(h[6]=[_("Edit")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),A.$can("admin.product-category.delete")?te((p(),I(le,{key:2,onClick:X(B=>y(T.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>h[7]||(h[7]=[_("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[d.value?{name:"header",fn:l(()=>[e(at,{class:"filter-bar",ref_key:"filterToolbarRef",ref:v},{default:l(()=>[t("div",Lm,[e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":h[2]||(h[2]=T=>m.search=T),placeholder:"Cari",clearable:""},{append:l(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Jm=Object.freeze(Object.defineProperty({__proto__:null,default:Qm},Symbol.toStringTag,{value:"Module"})),Gm={class:"detail"},Xm={key:0},Zm={key:1},ec={key:2},tc={class:"detail"},ac={class:"detail"},lc={key:0},oc={key:0},nc={key:0},sc={key:0},rc={class:"detail"},no={__name:"MainInfoTab",props:{product:{type:Object,required:!0}},setup(u){const n=u;$e();const d=o=>`${o>0?W((o-n.product.cost)/o*100,2):0}%`;return(o,s)=>{const i=Q("i-link");return p(),$("div",null,[s[42]||(s[42]=t("div",{class:"text-subtitle1 text-bold text-grey-9"},"Info Produk",-1)),t("table",Gm,[t("tbody",null,[t("tr",null,[s[0]||(s[0]=t("td",{style:{width:"120px"}},"ID",-1)),s[1]||(s[1]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(u.product.formatted_id),1)]),t("tr",null,[s[2]||(s[2]=t("td",null,"Nama Produk",-1)),s[3]||(s[3]=t("td",null,":",-1)),t("td",null,r(u.product.name),1)]),t("tr",null,[s[4]||(s[4]=t("td",null,"Barcode",-1)),s[5]||(s[5]=t("td",null,":",-1)),t("td",null,r(u.product.barcode),1)]),t("tr",null,[s[6]||(s[6]=t("td",null,"Jenis Produk",-1)),s[7]||(s[7]=t("td",null,":",-1)),t("td",null,r(o.$CONSTANTS.PRODUCT_TYPES[u.product.type]),1)]),t("tr",null,[s[8]||(s[8]=t("td",null,"Kategori",-1)),s[9]||(s[9]=t("td",null,":",-1)),t("td",null,r(u.product.category?u.product.category.name:"--Tidak memiliki kategori--"),1)]),o.$can("admin.product:view-supplier")?(p(),$("tr",Xm,[s[10]||(s[10]=t("td",null,"Supplier",-1)),s[11]||(s[11]=t("td",null,":",-1)),t("td",null,[u.product.supplier?(p(),I(i,{key:0,href:o.route("admin.supplier.detail",{id:u.product.supplier.id})},{default:l(()=>[_(r(u.product.supplier.name),1)]),_:1},8,["href"])):(p(),$(K,{key:1},[_(r("--Tidak memiliki supplier--"))],64))])])):k("",!0),t("tr",null,[s[12]||(s[12]=t("td",null,"Status",-1)),s[13]||(s[13]=t("td",null,":",-1)),t("td",null,r(u.product.active?"Aktif":"Tidak Aktif"),1)]),u.product.created_at?(p(),$("tr",Zm,[s[15]||(s[15]=t("td",null,"Dibuat Oleh",-1)),s[16]||(s[16]=t("td",null,":",-1)),t("td",null,[u.product.creator?(p(),$(K,{key:0},[e(i,{href:o.route("admin.user.detail",{id:u.product.creator})},{default:l(()=>[_(r(u.product.creator.username),1)]),_:1},8,["href"]),s[14]||(s[14]=_(" - "))],64)):k("",!0),_(" "+r(a(ge)(u.product.created_at)),1)])])):k("",!0),u.product.updater?(p(),$("tr",ec,[s[18]||(s[18]=t("td",null,"Diperbarui oleh",-1)),s[19]||(s[19]=t("td",null,":",-1)),t("td",null,[u.product.updater?(p(),$(K,{key:0},[e(i,{href:o.route("admin.user.detail",{id:u.product.updater})},{default:l(()=>[_(r(u.product.updater.username),1)]),_:1},8,["href"]),s[17]||(s[17]=_(" - "))],64)):k("",!0),_(" "+r(a(ge)(u.product.updated_at)),1)])])):k("",!0)])]),s[43]||(s[43]=t("div",{class:"text-subtitle1 q-pt-lg text-bold text-grey-9"}," Info Inventori ",-1)),t("table",tc,[t("tbody",null,[t("tr",null,[s[20]||(s[20]=t("td",{style:{width:"120px"}},"Stok",-1)),s[21]||(s[21]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(W)(u.product.stock))+" "+r(u.product.uom),1)]),t("tr",null,[s[22]||(s[22]=t("td",null,"Stok Minimum",-1)),s[23]||(s[23]=t("td",null,":",-1)),t("td",null,r(a(W)(u.product.min_stock))+" "+r(u.product.uom),1)]),t("tr",null,[s[24]||(s[24]=t("td",null,"Stok Maksimum",-1)),s[25]||(s[25]=t("td",null,":",-1)),t("td",null,r(a(W)(u.product.max_stock))+" "+r(u.product.uom),1)]),t("tr",null,[s[26]||(s[26]=t("td",null,"Barcode",-1)),s[27]||(s[27]=t("td",null,":",-1)),t("td",null,r(u.product.barcode),1)])])]),s[44]||(s[44]=t("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"},"Info Harga",-1)),t("table",ac,[t("tbody",null,[t("tr",null,[s[28]||(s[28]=t("td",null,"Opsi Harga",-1)),s[29]||(s[29]=t("td",null,":",-1)),t("td",null,r(u.product.price_editable?"Dapat":"Tidak dapat")+" diubah saat penjualan. ",1)]),o.$can("admin.product:view-cost")?(p(),$("tr",lc,[s[30]||(s[30]=t("td",{style:{width:"120px"}},"Harga Beli",-1)),s[31]||(s[31]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,"Rp. "+r(a(W)(u.product.cost)),1)])):k("",!0),t("tr",null,[s[32]||(s[32]=t("td",null,"Harga Eceran",-1)),s[33]||(s[33]=t("td",null,":",-1)),t("td",null,[_(" Rp. "+r(a(W)(u.product.price))+" ",1),o.$can("admin.product:view-cost")?(p(),$("span",oc," ("+r(d(u.product.price))+") ",1)):k("",!0)])]),t("tr",null,[s[34]||(s[34]=t("td",null,"Harga Partai",-1)),s[35]||(s[35]=t("td",null,":",-1)),t("td",null,[_(" Rp. "+r(a(W)(u.product.price_2))+" ",1),o.$can("admin.product:view-cost")?(p(),$("span",nc," ("+r(d(u.product.price_2))+") ",1)):k("",!0)])]),t("tr",null,[s[36]||(s[36]=t("td",null,"Harga Grosir",-1)),s[37]||(s[37]=t("td",null,":",-1)),t("td",null,[_(" Rp. "+r(a(W)(u.product.price_3))+" ",1),o.$can("admin.product:view-cost")?(p(),$("span",sc," ("+r(d(u.product.price_3))+") ",1)):k("",!0)])])])]),s[45]||(s[45]=t("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Deskripsi & Catatan ",-1)),t("table",rc,[t("tbody",null,[t("tr",null,[s[38]||(s[38]=t("td",{style:{width:"120px"}},"Deskirpsi",-1)),s[39]||(s[39]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(u.product.description),1)]),t("tr",null,[s[40]||(s[40]=t("td",null,"Catatan",-1)),s[41]||(s[41]=t("td",null,":",-1)),t("td",null,r(u.product.notes),1)])])])])}}},ic=Object.freeze(Object.defineProperty({__proto__:null,default:no},Symbol.toStringTag,{value:"Module"})),dc={class:"full-width row flex-center text-grey-8 q-gutter-sm"},uc={key:0},so={__name:"StockHistoryTab",props:{productId:{type:[String,Number],required:!0}},setup(u){const n=u,d=$e(),o=V([]),s=V(!0),i=Pe({...Re()}),v=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"created_at",descending:!0});let c=[{name:"id",label:d.screen.lt.sm?"Item":"#",field:"id",align:"left",sortable:!0},{name:"created_at",label:"Waktu",field:"created_at",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"left",sortable:!0},{name:"quantity_before",label:"Qty Awal",field:"quantity_before",align:"right"},{name:"quantity_after",label:"Qty Akhir",field:"quantity_after",align:"right"},{name:"quantity",label:"Selisih",field:"quantity",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}];he(()=>{m()});const m=(f=null)=>Ie({pagination:v,filter:i,props:f,rows:o,url:route("admin.stock-movement.data",{filter:{product_id:n.productId}}),loading:s}),g=G(()=>d.screen.lt.sm?c.filter(f=>f.name==="id"||f.name==="quantity"):c);return(f,y)=>(p(),I(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id",pagination:v.value,"onUpdate:pagination":y[0]||(y[0]=b=>v.value=b),filter:i.search,loading:s.value,columns:g.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:m,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:b,message:S,filter:A})=>[t("div",dc,[t("span",null,r(S)+" "+r(A?" with term "+A:""),1)])]),body:l(b=>[e(Ce,{props:b},{default:l(()=>[e(H,{key:"id",props:b},{default:l(()=>[t("div",null,[a(d).screen.lt.sm?(p(),$(K,{key:0},[t("div",null,[e(dt,null,{default:l(()=>[_(r(f.$CONSTANTS.STOCK_MOVEMENT_REF_TYPES[b.row.ref_type]),1)]),_:2},1024)]),e(q,{class:"inline-icon",name:"tag"})],64)):k("",!0),_(" "+r(b.row.formatted_id),1)]),a(d).screen.lt.sm?(p(),$(K,{key:0},[t("div",null,[e(q,{name:"calendar_clock",class:"inline-icon"}),_(" "+r(a(ge)(b.row.created_at)),1)]),t("div",{class:xe(b.row.quantity>0?"text-positive":"text-negative")},[e(q,{class:"inline-icon",name:"compare_arrows"}),_(" "+r(a(W)(b.row.quantity_before))+" "+r(b.row.uom)+"  "+r(a(W)(b.row.quantity_after))+" "+r(b.row.uom),1)],2),e(we,{text:b.row.notes,icon:"notes",class:"text-grey-8"},null,8,["text"])],64)):k("",!0)]),_:2},1032,["props"]),e(H,{key:"created_at",props:b},{default:l(()=>[_(r(a(ge)(b.row.created_at)),1)]),_:2},1032,["props"]),e(H,{key:"type",props:b},{default:l(()=>[_(r(f.$CONSTANTS.STOCK_MOVEMENT_REF_TYPES[b.row.ref_type])+" ",1),b.row.ref?(p(),$("span",uc,r(b.row.ref),1)):k("",!0)]),_:2},1032,["props"]),e(H,{key:"quantity_before",props:b},{default:l(()=>[_(r(a(W)(b.row.quantity_before))+" "+r(b.row.uom),1)]),_:2},1032,["props"]),e(H,{key:"quantity_after",props:b},{default:l(()=>[_(r(a(W)(b.row.quantity_after))+" "+r(b.row.uom),1)]),_:2},1032,["props"]),e(H,{key:"quantity",props:b,class:xe(b.row.quantity>0?"text-positive":"text-negative")},{default:l(()=>[_(r(a(W)(b.row.quantity))+" "+r(b.row.uom),1)]),_:2},1032,["props","class"]),e(H,{key:"notes",props:b},{default:l(()=>[e(we,{text:b.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},mc=Object.freeze(Object.defineProperty({__proto__:null,default:so},Symbol.toStringTag,{value:"Module"})),cc={class:"q-gutter-sm"},pc={class:"q-gutter-sm"},fc={class:"row justify-center"},gc={class:"col col-lg-6 q-pa-xs"},bc={class:"row"},vc={__name:"Detail",setup(u){const n=be(),d=`Rincian Produk #${n.props.data.id}`,o=V("main");return(s,i)=>{const v=Q("i-head"),c=Q("authenticated-layout");return p(),$(K,null,[e(v,{title:d}),e(c,{"show-drawer-button":!0},{title:l(()=>[_(r(d))]),"left-button":l(()=>[t("div",cc,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=m=>s.$goBack())})])]),"right-button":l(()=>[t("div",pc,[s.$can("admin.product.edit")?(p(),I(j,{key:0,icon:"edit",size:"sm",dense:"",flat:"",rounded:"",color:"grey",onClick:i[1]||(i[1]=m=>a(ee).get(s.route("admin.product.edit",{id:a(n).props.data.id})))})):k("",!0)])]),default:l(()=>[t("div",fc,[t("div",gc,[t("div",bc,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(It,{modelValue:o.value,"onUpdate:modelValue":i[2]||(i[2]=m=>o.value=m),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(Xe,{name:"main",label:"Info Utama"}),e(Xe,{name:"history",label:"Riwayat Stok"}),e(Xe,{name:"version-history",label:"Riwayat Dokumen"})]),_:1},8,["modelValue"]),e(Dt,{modelValue:o.value,"onUpdate:modelValue":i[3]||(i[3]=m=>o.value=m),animated:""},{default:l(()=>[e(Ze,{name:"main"},{default:l(()=>[e(no,{product:a(n).props.data},null,8,["product"])]),_:1}),e(Ze,{name:"history",class:"q-pa-xs"},{default:l(()=>[e(so,{"product-id":a(n).props.data.id},null,8,["product-id"])]),_:1}),e(Ze,{name:"version-history",class:"q-pa-xs"},{default:l(()=>[e(xa,{"document-id":a(n).props.data.id,"document-type":"product"},null,8,["document-id"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])])]),_:1})],64)}}},_c=Object.freeze(Object.defineProperty({__proto__:null,default:vc},Symbol.toStringTag,{value:"Module"}));function Va(u,n=!1){const d=u.map(v=>({value:v.id,label:v.name})),o=n?[{value:"all",label:"Semua"},{value:"null",label:"Tanpa Kategori"},...d]:d,s=V([...o]);return{filteredCategories:s,filterCategories:(v,c)=>{const m=v.toLowerCase();c(()=>{s.value=o.filter(g=>g.label.toLowerCase().includes(m))})},categories:o}}function qa(u,n=!1){const d=u.map(v=>({value:v.id,label:"#"+v.id+" - "+v.name})),o=n?[{value:"all",label:"Semua"},{value:"null",label:"Tanpa Supplier"},...d]:d,s=V([...o]);return{filteredSuppliers:s,filterSupplierFn:(v,c)=>{const m=v.toLowerCase();c(()=>{s.value=o.filter(g=>g.label.toLowerCase().includes(m))})},suppliers:o}}const yc={class:"q-gutter-sm"},kc={class:"col col-md-6 q-pa-xs"},wc={__name:"Editor",setup(u){const n=be(),d=(n.props.data.id?"Edit":"Tambah")+" Produk",o=lt(window.CONSTANTS.PRODUCT_TYPES),s=Me({id:n.props.data.id,category_id:n.props.data.category_id,supplier_id:n.props.data.supplier_id,type:n.props.data.type||"",name:n.props.data.name||"",barcode:n.props.data.barcode||"",description:n.props.data.description||"",stock:parseFloat(n.props.data.stock)||0,min_stock:parseFloat(n.props.data.min_stock)||0,max_stock:parseFloat(n.props.data.max_stock)||0,uom:n.props.data.uom||"",cost:parseFloat(n.props.data.cost)||0,price:parseFloat(n.props.data.price)||0,price_2:parseFloat(n.props.data.price_2)||0,price_3:parseFloat(n.props.data.price_3)||0,active:!!n.props.data.active,price_editable:!!n.props.data.price_editable,notes:n.props.data.notes||""}),i=()=>tt({form:s,url:route("admin.product.save")}),{filteredCategories:v,filterCategories:c}=Va(n.props.categories),{filteredSuppliers:m,filterSuppliers:g}=qa(n.props.suppliers),f=G(()=>s.price>0?(s.price-s.cost)/s.price*100:0);return(y,b)=>{const S=Q("i-head"),A=Q("authenticated-layout");return p(),$(K,null,[e(S,{title:d}),e(A,{"show-drawer-button":!0},{title:l(()=>[_(r(d))]),"left-button":l(()=>[t("div",yc,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=h=>y.$goBack())})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",kc,[e(Ne,{class:"row",onSubmit:X(i,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[te(t("input",{type:"hidden",name:"id","onUpdate:modelValue":b[1]||(b[1]=h=>a(s).id=h)},null,512),[[ut,a(s).id]]),b[23]||(b[23]=t("div",{class:"text-subtitle1 q-pt-lg"},"Info Utama",-1)),e(ie,{autofocus:"",modelValue:a(s).type,"onUpdate:modelValue":b[2]||(b[2]=h=>a(s).type=h),class:"custom-select",options:a(o),label:"Jenis","map-options":"","emit-value":"","hide-bottom-space":""},null,8,["modelValue","options"]),e(oe,{modelValue:a(s).name,"onUpdate:modelValue":b[3]||(b[3]=h=>a(s).name=h),modelModifiers:{trim:!0},label:"Nama Produk","lazy-rules":"",error:!!a(s).errors.name,disable:a(s).processing,"error-message":a(s).errors.name,rules:[h=>h&&h.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(oe,{modelValue:a(s).description,"onUpdate:modelValue":b[4]||(b[4]=h=>a(s).description=h),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:a(s).processing,error:!!a(s).errors.description,"error-message":a(s).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(ie,{modelValue:a(s).category_id,"onUpdate:modelValue":b[5]||(b[5]=h=>a(s).category_id=h),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:a(v),"map-options":"","emit-value":"",onFilter:a(c),"option-label":"label","option-value":"value",error:!!a(s).errors.category_id,disable:a(s).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(le,null,{default:l(()=>[e(N,null,{default:l(()=>b[21]||(b[21]=[_("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),y.$can("admin.product:view-supplier")?(p(),I(ie,{key:0,modelValue:a(s).supplier_id,"onUpdate:modelValue":b[6]||(b[6]=h=>a(s).supplier_id=h),label:"Supplier","use-input":"","input-debounce":"300",clearable:"",options:a(m),"map-options":"","emit-value":"",onFilter:a(g),"option-label":"label","option-value":"value",error:!!a(s).errors.supplier_id,disable:a(s).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(le,null,{default:l(()=>[e(N,null,{default:l(()=>b[22]||(b[22]=[_("Supplier tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"])):k("",!0),e(Ct,{modelValue:a(s).active,"onUpdate:modelValue":b[7]||(b[7]=h=>a(s).active=h),disable:a(s).processing,label:"Aktif"},null,8,["modelValue","disable"]),b[24]||(b[24]=t("div",{class:"text-subtitle1 q-pt-lg"},"Info Inventori",-1)),e(oe,{modelValue:a(s).barcode,"onUpdate:modelValue":b[8]||(b[8]=h=>a(s).barcode=h),modelModifiers:{trim:!0},label:"Barcode","lazy-rules":"",error:!!a(s).errors.barcode,disable:a(s).processing,"error-message":a(s).errors.barcode,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(oe,{modelValue:a(s).uom,"onUpdate:modelValue":b[9]||(b[9]=h=>a(s).uom=h),modelModifiers:{trim:!0},label:"Satuan","lazy-rules":"",error:!!a(s).errors.uom,disable:a(s).processing,"error-message":a(s).errors.uom,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(Ae,{modelValue:a(s).stock,"onUpdate:modelValue":b[10]||(b[10]=h=>a(s).stock=h),label:"Stok",lazyRules:"",disable:a(s).processing,error:!!a(s).errors.stock,errorMessage:a(s).errors.stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Ae,{modelValue:a(s).min_stock,"onUpdate:modelValue":b[11]||(b[11]=h=>a(s).min_stock=h),label:"Stok Minimum",lazyRules:"",disable:a(s).processing,error:!!a(s).errors.min_stock,errorMessage:a(s).errors.min_stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Ae,{modelValue:a(s).max_stock,"onUpdate:modelValue":b[12]||(b[12]=h=>a(s).max_stock=h),label:"Stok Maksimum",lazyRules:"",disable:a(s).processing,error:!!a(s).errors.max_stock,errorMessage:a(s).errors.max_stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),b[25]||(b[25]=t("div",{class:"text-subtitle1 q-pt-lg"},"Info Harga",-1)),e(Ct,{modelValue:a(s).price_editable,"onUpdate:modelValue":b[13]||(b[13]=h=>a(s).price_editable=h),disable:a(s).processing,label:"Harga bisa diubah saat penjualan"},null,8,["modelValue","disable"]),y.$can("admin.product:view-cost")?(p(),I(Ae,{key:1,modelValue:a(s).cost,"onUpdate:modelValue":b[14]||(b[14]=h=>a(s).cost=h),label:"Modal / Harga Beli (Rp)",lazyRules:"",disable:a(s).processing,error:!!a(s).errors.cost,errorMessage:a(s).errors.cost,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"])):k("",!0),e(Ae,{modelValue:a(s).price,"onUpdate:modelValue":b[15]||(b[15]=h=>a(s).price=h),label:"Harga Eceran (Rp)",lazyRules:"",disable:a(s).processing,error:!!a(s).errors.price,errorMessage:a(s).errors.price,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Ae,{modelValue:a(s).price_2,"onUpdate:modelValue":b[16]||(b[16]=h=>a(s).price_2=h),label:"Harga Partai (Rp)",lazyRules:"",disable:a(s).processing,error:!!a(s).errors.price_2,errorMessage:a(s).errors.price_2,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Ae,{modelValue:a(s).price_3,"onUpdate:modelValue":b[17]||(b[17]=h=>a(s).price_3=h),label:"Harga Grosir (Rp)",lazyRules:"",disable:a(s).processing,error:!!a(s).errors.price_3,errorMessage:a(s).errors.price_3,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),y.$can("admin.product:view-cost")?(p(),I(Ae,{key:2,modelValue:f.value,"onUpdate:modelValue":b[18]||(b[18]=h=>f.value=h),label:"Margin (%)",lazyRules:"",disable:a(s).processing,maxDecimals:2,"hide-bottom-space":""},null,8,["modelValue","disable"])):k("",!0),b[26]||(b[26]=t("div",{class:"text-subtitle1 q-pt-lg"},"Info Lainnya",-1)),e(oe,{modelValue:a(s).notes,"onUpdate:modelValue":b[19]||(b[19]=h=>a(s).notes=h),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(s).processing,error:!!a(s).errors.notes,"error-message":a(s).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(j,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(s).processing},null,8,["disable"]),e(j,{icon:"cancel",label:"Batal",disable:a(s).processing,onClick:b[20]||(b[20]=h=>y.$goBack())},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},hc=Object.freeze(Object.defineProperty({__proto__:null,default:wc},Symbol.toStringTag,{value:"Module"})),$c={class:"q-gutter-sm"},xc={class:"col col-md-6 q-pa-xs"},ul="Import Produk",Sc={__name:"Import",setup(u){const n=Me({csv_file:null}),d=()=>{n.post(route("admin.product.import"),{onSuccess:()=>{n.reset()},onError:()=>{Fe()},onFinish:()=>{n.clearErrors()}})};return(o,s)=>{const i=Q("i-head"),v=Q("authenticated-layout");return p(),$(K,null,[e(i,{title:ul}),e(v,{"show-drawer-button":!0},{title:l(()=>[_(r(ul))]),"left-button":l(()=>[t("div",$c,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=c=>o.$goBack())})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",xc,[e(Ne,{class:"row",onSubmit:X(d,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[s[3]||(s[3]=t("div",{class:"text-subtitle1 q-pt-lg"},"Unggah File Impor",-1)),s[4]||(s[4]=t("div",{class:"text-caption text-grey"}," Unggah file CSV untuk mengimpor data produk. Pastikan format kolom sesuai dengan template yang disediakan. ",-1)),e(Xl,{modelValue:a(n).csv_file,"onUpdate:modelValue":s[1]||(s[1]=c=>a(n).csv_file=c),accept:".csv",label:"Pilih file CSV",error:!!a(n).errors.csv_file,"error-message":a(n).errors.csv_file,disable:a(n).processing,"hide-bottom-space":"",class:"q-mt-md"},null,8,["modelValue","error","error-message","disable"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(j,{icon:"upload",type:"submit",label:"Import Data",color:"primary",disable:a(n).processing||!a(n).csv_file,loading:a(n).processing},null,8,["disable","loading"]),e(j,{icon:"cancel",label:"Batal",disable:a(n).processing,onClick:s[2]||(s[2]=c=>o.$goBack())},null,8,["disable"])]),_:1}),o.$page.props.flash.success?(p(),I(Et,{key:0,class:"bg-positive text-white q-mt-md"},{default:l(()=>[_(r(o.$page.props.flash.success),1)]),_:1})):k("",!0),o.$page.props.flash.error?(p(),I(Et,{key:1,class:"bg-negative text-white q-mt-md"},{default:l(()=>[_(r(o.$page.props.flash.error),1)]),_:1})):k("",!0)]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Vc=Object.freeze(Object.defineProperty({__proto__:null,default:Sc},Symbol.toStringTag,{value:"Module"})),qc={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Cc={class:"q-pa-xs"},Tc={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Pc={key:0},Oc={key:1},Rc={key:2},Ic={key:3},Dc={class:"flex justify-end"},Uc={key:0},Ac={key:1},jc={key:0},ml="Produk",Ec={__name:"Index",setup(u){const n=be(),d=V(null),o=V(null),s=We(o),i=V(!1),v=[...lt(window.CONSTANTS.PRODUCT_TYPES)],c=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],m=[{value:"all",label:"Semua"},{value:"ready",label:"Tersedia"},{value:"out",label:"Kosong"},{value:"low",label:"Stok Rendah"},{value:"over",label:"Stok Berlebih"}],g=$e(),f=V(!1),y=V([]),b=V(!0),S=Pe({type:[],category_id:[],supplier_id:[],status:"all",stock_status:"all",search:"",...Re()}),A=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1});let h=[{name:"id",label:"ID",field:"id",align:"center",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"cost",label:"Modal",field:"cost",align:"right"},{name:"price",label:"Harga Eceran",field:"price",align:"right"},{name:"price_2",label:"Harga Partai",field:"price_2",align:"right"},{name:"price_3",label:"Harga Grosir",field:"price_3",align:"right"},{name:"action",align:"right"}];he(()=>{const x=new URLSearchParams(window.location.search).get("page");x&&(A.value.page=parseInt(x)),R()});const D=M=>ot({message:`Hapus Produk ${M.name}?`,url:route("admin.product.delete",M.id),fetchItemsCallback:R,loading:b}),R=(M=null)=>{Ie({pagination:A,filter:S,props:M,rows:y,url:route("admin.product.data"),loading:b,tableRef:d})},T=()=>{R()},{filteredCategories:B,filterCategories:C}=Va(n.props.categories),{filteredSuppliers:w,filterSupplierFn:E}=qa(n.props.suppliers),P=G(()=>{let M=[...h];return i.value||M.splice(3,1),g.screen.gt.sm?M:M.filter(x=>x.name==="id"||x.name==="name"||x.name==="action")}),F=M=>{ee.get(route("admin.product.detail",M.row.id))};return(M,x)=>{const z=Q("i-head"),J=Q("authenticated-layout");return p(),$(K,null,[e(z,{title:ml}),e(J,null,Le({title:l(()=>[_(r(ml))]),"right-button":l(()=>[e(j,{icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:x[0]||(x[0]=O=>f.value=!f.value)},null,8,["icon"]),M.$can("admin.product.add")?(p(),I(j,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:x[1]||(x[1]=O=>a(ee).get(M.route("admin.product.add")))})):k("",!0),M.$can("admin.product.import")||M.$can("admin.product:view-cost")?(p(),I(j,{key:1,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:x[5]||(x[5]=X(()=>{},["stop"])),class:"q-ml-sm"},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[M.$can("admin.product.send-price-list")?te((p(),I(le,{key:0,clickable:"",onClick:x[2]||(x[2]=X(O=>a(ee).get(M.route("admin.product.send-price-list")),["stop"]))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"send"})]),_:1}),e(N,null,{default:l(()=>x[14]||(x[14]=[_("Kirim Daftar Harga")])),_:1})]),_:1})),[[re],[me]]):k("",!0),M.$can("admin.product.import")?te((p(),I(le,{key:1,clickable:"",onClick:x[3]||(x[3]=O=>i.value=!i.value)},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:i.value?"visibility":"visibility_off"},null,8,["name"])]),_:1}),e(N,null,{default:l(()=>[_(r(i.value?"Sembunyikan":"Tampilkan")+" Modal",1)]),_:1})]),_:1})),[[re],[me]]):k("",!0),M.$can("admin.product.import")?te((p(),I(le,{key:2,clickable:"",onClick:x[4]||(x[4]=X(O=>a(ee).get(M.route("admin.product.import")),["stop"]))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"csv"})]),_:1}),e(N,null,{default:l(()=>x[15]||(x[15]=[_("Import")])),_:1})]),_:1})),[[re],[me]]):k("",!0)]),_:1})]),_:1})]),_:1})):k("",!0)]),default:l(()=>[t("div",Cc,[e(Te,{ref_key:"tableRef",ref:d,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id",pagination:A.value,"onUpdate:pagination":x[13]||(x[13]=O=>A.value=O),filter:S.search,loading:b.value,columns:P.value,rows:y.value,"rows-per-page-options":[10,25,50],style:Be({height:a(s)}),onRequest:R,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:O,message:U,filter:Z})=>[t("div",Tc,[t("span",null,r(U)+" "+r(Z?" with term "+Z:""),1)])]),header:l(O=>[e(Ce,{props:O},{default:l(()=>[e(la,{"auto-width":""}),(p(!0),$(K,null,Ke(O.cols,U=>(p(),I(la,{key:U.name,props:O},{default:l(()=>[_(r(U.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(O=>[e(Ce,{props:O,class:xe([{inactive:!O.row.active},"cursor-pointer"]),onClick:U=>F(O)},{default:l(()=>[e(H,{"auto-width":""},{default:l(()=>[e(j,{size:"sm",flat:"",round:"",dense:"",onClick:X(U=>O.expand=!O.expand,["stop"]),icon:O.expand?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["onClick","icon"])]),_:2},1024),e(H,null,{default:l(()=>[_(r(O.row.id),1)]),_:2},1024),e(H,{key:"name",props:O,class:"wrap-column"},{default:l(()=>[_(r(O.row.name)+" ",1),a(g).screen.gt.sm?k("",!0):(p(),$(K,{key:0},[O.row.type=="stocked"?(p(),$("div",Pc,[e(q,{name:"cycle"}),_(" Stok: "+r(a(W)(O.row.stock))+" "+r(O.row.uom),1)])):k("",!0),i.value?(p(),$("div",Oc,[e(q,{name:"money"}),_(" Modal: Rp. "+r(a(W)(O.row.cost)),1)])):k("",!0),t("div",null,[e(q,{name:"sell"}),_(" Eceran: Rp. "+r(a(W)(O.row.price)),1)]),O.row.price_2!=0?(p(),$("div",Rc,[e(q,{name:"sell"}),_(" Partai: Rp. "+r(a(W)(O.row.price_2)),1)])):k("",!0),O.row.price_3!=0?(p(),$("div",Ic,[e(q,{name:"sell"}),_(" Grosir: Rp. "+r(a(W)(O.row.price_3)),1)])):k("",!0)],64))]),_:2},1032,["props"]),e(H,{key:"stock",props:O,class:xe(["wrap-column",{"low-stock":O.row.type=="stocked"&&(Number(O.row.stock)==0||Number(O.row.stock)<Number(O.row.min_stock)),"over-stock":O.row.type=="stocked"&&Number(O.row.max_stock)&&Number(O.row.stock)>Number(O.row.max_stock)}])},{default:l(()=>[_(r(O.row.type=="stocked"?a(W)(O.row.stock)+" "+O.row.uom:"-"),1)]),_:2},1032,["props","class"]),(p(),I(H,{key:"cost",props:O,class:"wrap-column"},{default:l(()=>[_(r(a(W)(O.row.cost)),1)]),_:2},1032,["props"])),e(H,{key:"price",props:O,class:"wrap-column"},{default:l(()=>[_(r(a(W)(O.row.price)),1)]),_:2},1032,["props"]),e(H,{key:"price_2",props:O,class:"wrap-column"},{default:l(()=>[_(r(a(W)(O.row.price_2)),1)]),_:2},1032,["props"]),e(H,{key:"price_3",props:O,class:"wrap-column"},{default:l(()=>[_(r(a(W)(O.row.price_3)),1)]),_:2},1032,["props"]),e(H,{key:"action",props:O},{default:l(()=>[t("div",Dc,[M.$can("admin.product.add")||M.$can("admin.product.edit")||M.$can("admin.product.delete")?(p(),I(j,{key:0,icon:"more_vert",rounded:"",dense:"",flat:"",onClick:x[12]||(x[12]=X(()=>{},["stop"]))},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"175px"}},{default:l(()=>[M.$can("admin.product.add")?te((p(),I(le,{key:0,clickable:"",onClick:X(U=>a(ee).get(M.route("admin.product.duplicate",O.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"file_copy"})]),_:1}),e(N,null,{default:l(()=>x[16]||(x[16]=[_("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),M.$can("admin.product.edit")?te((p(),I(le,{key:1,clickable:"",onClick:X(U=>a(ee).get(M.route("admin.product.edit",O.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"edit"})]),_:1}),e(N,null,{default:l(()=>x[17]||(x[17]=[_("Edit")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),M.$can("admin.product.delete")?te((p(),I(le,{key:2,onClick:X(U=>D(O.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>x[18]||(x[18]=[_("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"]),te(e(Ce,{props:O},{default:l(()=>[e(H,{colspan:"100%"},{default:l(()=>[O.row.barcode?(p(),$("div",Uc,[e(q,{class:"inline-icon",name:"barcode"}),_(" Barcode: "+r(O.row.barcode),1)])):k("",!0),O.row.category_id?(p(),$("div",Ac,[e(q,{name:"category",class:"inline-icon"}),_(" Kategori: "+r(O.row.category.name),1)])):k("",!0),M.$can("admin.product:view-supplier")?(p(),$(K,{key:2},[O.row.supplier_id?(p(),$("div",jc,[e(q,{name:"local_shipping",class:"inline-icon"}),_(" Supplier: "+r(O.row.supplier.name),1)])):k("",!0)],64)):k("",!0),O.row.description?(p(),I(we,{key:3,text:O.row.description,icon:"notes","max-length":200},null,8,["text"])):k("",!0),O.row.notes?(p(),I(we,{key:4,text:O.row.notes,icon:"notes","max-length":200},null,8,["text"])):k("",!0)]),_:2},1024)]),_:2},1032,["props"]),[[El,O.expand]])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[f.value?{name:"header",fn:l(()=>[e(at,{class:"filter-bar",ref_key:"filterToolbarRef",ref:o},{default:l(()=>[t("div",qc,[e(ie,{modelValue:S.type,"onUpdate:modelValue":[x[6]||(x[6]=O=>S.type=O),T],class:"custom-select col-xs-4 col-sm-2",options:v,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:"",multiple:"","use-chips":""},null,8,["modelValue"]),e(ie,{modelValue:S.stock_status,"onUpdate:modelValue":[x[7]||(x[7]=O=>S.stock_status=O),T],class:"custom-select col-xs-4 col-sm-2",options:m,label:"Status Stok",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ie,{modelValue:S.status,"onUpdate:modelValue":[x[8]||(x[8]=O=>S.status=O),T],class:"custom-select col-xs-4 col-sm-2",options:c,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ie,{modelValue:S.category_id,"onUpdate:modelValue":[x[9]||(x[9]=O=>S.category_id=O),T],label:"Kategori",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:a(B),"map-options":"",dense:"","emit-value":"",onFilter:a(C),style:{"min-width":"150px"},multiple:"","use-chips":""},null,8,["modelValue","options","onFilter"]),M.$can("admin.product:view-supplier")?(p(),I(ie,{key:0,modelValue:S.supplier_id,"onUpdate:modelValue":[x[10]||(x[10]=O=>S.supplier_id=O),T],label:"Pemasok",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:a(w),"map-options":"",dense:"","emit-value":"",onFilter:a(E),style:{"min-width":"150px"},multiple:"","use-chips":""},null,8,["modelValue","options","onFilter"])):k("",!0),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:S.search,"onUpdate:modelValue":x[11]||(x[11]=O=>S.search=O),placeholder:"Cari",clearable:""},{append:l(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Mc=Object.freeze(Object.defineProperty({__proto__:null,default:Ec},Symbol.toStringTag,{value:"Module"})),Nc={class:"q-gutter-sm"},Bc={class:"col col-md-8 q-pa-xs"},zc={class:"col-12 col-md-6"},Fc={class:"col-12 col-md-6"},Lc={class:"text-subtitle1 q-mb-sm flex items-center justify-between"},Hc={class:"q-gutter-sm"},cl="Kirim Daftar Harga",Kc={__name:"SendPriceList",setup(u){const n=be(),d=V(""),o=V(null),s=G(()=>{var w;const C=new Map;return(w=n.props.products)==null||w.forEach(E=>{C.set(E.id,E)}),C}),i=G(()=>{var w;const C=new Map;return(w=n.props.customers)==null||w.filter(E=>E.phone&&E.phone.trim()!=="").forEach(E=>{C.set(E.id,E)}),C}),v=G(()=>{var C;return((C=n.props.customers)==null?void 0:C.map(w=>({value:w.id,label:w.name})))||[]}),c=G(()=>{var C;return((C=n.props.products)==null?void 0:C.map(w=>({value:w.id,label:`${w.name} (${w.sku||w.code||"ID: "+w.id})`})))||[]}),m=[{value:"price",label:"Harga Eceran"},{value:"price_2",label:"Harga Partai"},{value:"price_3",label:"Harga Grosir"}],g=V(c.value),f=V(v.value),y=Me({price_types:[],products:[],customers:[]});y.transform(C=>({...C,products:C.products.map(w=>w.value),customers:C.customers.map(w=>w.value)}));const b=C=>C?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(C):"Rp. 0",S=C=>{const w=m.find(E=>E.value===C);return w?w.label:C},A=()=>{if(o.value){const C=o.value.$el.querySelector("textarea");if(C){C.select();try{document.execCommand("copy"),console.log("Teks berhasil disalin!")}catch(w){console.error("Gagal menyalin teks ke clipboard:",w)}}}},h=G(()=>{var w,E;if(((w=y.products)==null?void 0:w.length)===0||((E=y.price_types)==null?void 0:E.length)===0)return"Silakan pilih Produk dan Jenis Harga untuk membuat daftar harga.";let C=`*DAFTAR HARGA TERBARU*
`;return C+=`Tanggal: ${new Date().toLocaleDateString("id-ID")}
`,C+=`------------------------------

`,(y.products||[]).forEach(P=>{const F=s.value.get(P.value);F&&(C+=`*${F.name}*
`,(y.price_types||[]).forEach(M=>{const x=S(M),z=F[M],J=F.uom||"pcs";z!=null&&z>0&&(C+=`- ${x}: *${b(z)}* / ${J}
`)}),C+=`
`)}),C+=`------------------------------
`,C+="Terima kasih atas perhatiannya. Harga dapat berubah sewaktu-waktu tanpa pemberitahuan.",C});je(h,C=>{d.value=C},{immediate:!0});const D=G(()=>(y.customers||[]).map(C=>i.value.get(C.value)).filter(C=>C&&C.phone)),R=C=>{const w=d.value;let E=C.startsWith("0")?"62"+C.substring(1):C;E=E.replace(/[^0-9]/g,"");const P=encodeURIComponent(w);return`https://wa.me/${E}?text=${P}`},T=(C,w)=>{if(C===""){w(()=>{g.value=c.value});return}w(()=>{const E=C.toLowerCase();g.value=c.value.filter(P=>P.label.toLowerCase().indexOf(E)>-1)})},B=(C,w)=>{if(C===""){w(()=>{f.value=v.value});return}w(()=>{const E=C.toLowerCase();f.value=v.value.filter(P=>P.label.toLowerCase().indexOf(E)>-1)})};return(C,w)=>{const E=Q("i-head"),P=Q("authenticated-layout");return p(),$(K,null,[e(E,{title:cl}),e(P,{"show-drawer-button":!0},{title:l(()=>[_(r(cl))]),"left-button":l(()=>[t("div",Nc,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:w[0]||(w[0]=F=>C.$goBack())})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Bc,[e(Ne,{class:"row q-col-gutter-xs"},{default:l(()=>[t("div",zc,[e(ce,{square:"",flat:"",bordered:"",class:"col full-width"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[w[10]||(w[10]=t("div",{class:"text-subtitle1 q-pt-md q-pb-sm"}," Pilih Data Kiriman ",-1)),w[11]||(w[11]=t("div",{class:"text-caption text-grey-7 q-pb-lg"}," Pilih produk, jenis harga, dan pelanggan tujuan. ",-1)),e(ie,{modelValue:a(y).products,"onUpdate:modelValue":w[1]||(w[1]=F=>a(y).products=F),options:g.value,label:"Pilih Produk",hint:"Ketik nama atau SKU produk untuk mencari",multiple:"","use-chips":"",clearable:"",outlined:"",dense:"",class:"q-mb-md",error:!!a(y).errors.products,"error-message":a(y).errors.products,loading:a(y).processing,"use-input":"",onFilter:T,onClear:w[2]||(w[2]=F=>a(y).products=[]),"input-debounce":"0"},{"no-option":l(()=>[e(le,null,{default:l(()=>[e(N,{class:"text-grey"},{default:l(()=>w[8]||(w[8]=[_(" Tidak ada produk ditemukan ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","error","error-message","loading"]),e(ie,{modelValue:a(y).price_types,"onUpdate:modelValue":w[3]||(w[3]=F=>a(y).price_types=F),options:m,label:"Pilih Jenis Harga",hint:"Pilih satu atau lebih jenis harga","emit-value":"","map-options":"",outlined:"",dense:"",class:"q-mb-md",error:!!a(y).errors.price_types,"error-message":a(y).errors.price_types,loading:a(y).processing,multiple:"","use-chips":"",clearable:"",onClear:w[4]||(w[4]=F=>a(y).price_types=[])},null,8,["modelValue","error","error-message","loading"]),e(ie,{modelValue:a(y).customers,"onUpdate:modelValue":w[5]||(w[5]=F=>a(y).customers=F),options:f.value,label:"Pilih Pelanggan Tujuan",hint:"Ketik nama pelanggan untuk mencari",multiple:"","use-chips":"",clearable:"",outlined:"",dense:"",class:"q-mb-md",error:!!a(y).errors.customers,"error-message":a(y).errors.customers,loading:a(y).processing,"use-input":"",onFilter:B,onClear:w[6]||(w[6]=F=>a(y).customers=[]),"input-debounce":"0"},{"no-option":l(()=>[e(le,null,{default:l(()=>[e(N,{class:"text-grey"},{default:l(()=>w[9]||(w[9]=[_(" Tidak ada pelanggan ditemukan ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","error","error-message","loading"])]),_:1})]),_:1})]),t("div",Fc,[e(ce,{square:"",flat:"",bordered:"",class:"col full-width"},{default:l(()=>[e(ae,null,{default:l(()=>[t("div",Lc,[w[12]||(w[12]=_(" Pratinjau Pesan (Teks Biasa) ")),e(j,{label:"Salin & Pilih Semua",icon:"content_copy",color:"grey-7",size:"sm",flat:"",dense:"",onClick:A,disable:d.value.length===0},null,8,["disable"])]),e(oe,{modelValue:d.value,"onUpdate:modelValue":w[7]||(w[7]=F=>d.value=F),ref_key:"messageInputRef",ref:o,type:"textarea",label:"Pesan Daftar Harga",autogrow:"",outlined:"",dense:"",rows:10},null,8,["modelValue"])]),_:1}),D.value.length>0?(p(),I(ae,{key:0,class:"q-pt-none"},{default:l(()=>[w[14]||(w[14]=t("div",{class:"text-subtitle2 q-mb-sm"}," Kirim ke Pelanggan (via WA) ",-1)),t("div",Hc,[(p(!0),$(K,null,Ke(D.value,F=>(p(),I(j,{key:F.id,label:`Kirim ke ${F.name}`,href:R(F.phone),target:"_blank",icon:"lab la-whatsapp",color:"green-8",class:"full-width",disable:!(a(y).products.length>0&&a(y).price_types.length>0)},{default:l(()=>[F.phone?k("",!0):(p(),I(Lt,{key:0},{default:l(()=>w[13]||(w[13]=[_(" Nomor telepon tidak tersedia ")])),_:1}))]),_:2},1032,["label","href","disable"]))),128))]),w[15]||(w[15]=t("div",{class:"text-caption text-grey-7 q-mt-sm"}," Link WhatsApp akan terbuka di tab baru. ",-1))]),_:1})):k("",!0)]),_:1})])]),_:1})])]),_:1})]),_:1})],64)}}},Yc=Object.freeze(Object.defineProperty({__proto__:null,default:Kc},Symbol.toStringTag,{value:"Module"})),Wc={class:"q-gutter-sm"},Qc={class:"q-pa-xs"},Jc={class:"col-12"},Gc={class:"col-12"},Xc={class:"q-gutter-xs"},pl="Kirim Daftar Harga",Zc={__name:"SendPriceList2",setup(u){const n=be(),d=V(""),o=G(()=>{var w;const C=new Map;return(w=n.props.products)==null||w.forEach(E=>{C.set(E.id,E)}),C}),s=G(()=>{var w;const C=new Map;return(w=n.props.customers)==null||w.forEach(E=>{C.set(E.id,E)}),C}),i=G(()=>{var C;return((C=n.props.customers)==null?void 0:C.map(w=>({value:w.id,label:w.name})))||[]}),v=G(()=>{var C;return((C=n.props.products)==null?void 0:C.map(w=>({value:w.id,label:`${w.name} (${w.sku||w.code||"ID: "+w.id})`})))||[]}),c=[{value:"price",label:"Harga Eceran"},{value:"price_2",label:"Harga Partai"},{value:"price_3",label:"Harga Grosir"}],m=V(v.value),g=V(i.value),f=Me({price_types:[],products:[],customers:[]});f.transform(C=>({...C,products:C.products.map(w=>w.value),customers:C.customers.map(w=>w.value)}));const y=C=>C?new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(C):"Rp. 0",b=C=>{const w=c.find(E=>E.value===C);return w?w.label:C},S=G(()=>{if(f.products.length===0||f.price_types.length===0)return"Silakan pilih Produk dan Jenis Harga untuk membuat daftar harga.";let C=`Daftar Harga Terbaru
`;return C+=`Tanggal: ${new Date().toLocaleDateString("id-ID")}
`,C+=`------------------------------

`,f.products.forEach(w=>{const E=o.value.get(w.value);E&&(C+=`*${E.name}*
`,f.price_types.forEach(P=>{const F=b(P),M=E[P],x=E.unit||"pcs";M!=null&&M!=0&&(C+=`- ${F}: ${y(M)} / ${x}
`)}),C+=`
`)}),C+=`------------------------------
`,C+="Terima kasih atas perhatiannya. Harga dapat berubah sewaktu-waktu tanpa pemberitahuan.",C});je(S,C=>{d.value=C},{immediate:!0});const A=G(()=>f.customers.map(C=>s.value.get(C.value)).filter(C=>C&&C.phone_number)),h=C=>{const w=d.value;let E=C.startsWith("0")?"62"+C.substring(1):C;E=E.replace(/[^0-9]/g,"");const P=encodeURIComponent(w);return`https://wa.me/${E}?text=${P}`},D=(C,w)=>{if(C===""){w(()=>{m.value=v.value});return}w(()=>{const E=C.toLowerCase();m.value=v.value.filter(P=>P.label.toLowerCase().indexOf(E)>-1)})},R=(C,w)=>{if(C===""){w(()=>{g.value=i.value});return}w(()=>{const E=C.toLowerCase();g.value=i.value.filter(P=>P.label.toLowerCase().indexOf(E)>-1)})},T=()=>{console.log("Scrolling to first error field...")},B=()=>{if(f.price_types.length===0||f.products.length===0||f.customers.length===0){console.error("Harap lengkapi Produk, Pelanggan, dan Jenis Harga.");return}f.post(route("admin.product.send-price-list"),{onSuccess:()=>{},onError:()=>{T()},onFinish:()=>{f.clearErrors()}})};return(C,w)=>{const E=Q("i-head"),P=Q("authenticated-layout");return p(),$(K,null,[e(E,{title:pl}),e(P,{"show-drawer-button":!0},{title:l(()=>[_(r(pl))]),"left-button":l(()=>[t("div",Wc,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:w[0]||(w[0]=F=>C.$goBack())})])]),default:l(()=>[t("div",Qc,[e(Ne,{class:"row q-col-gutter-md",onSubmit:X(B,["prevent"]),onValidationError:T},{default:l(()=>[t("div",Jc,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[w[8]||(w[8]=t("div",{class:"text-subtitle1 q-pt-md q-pb-sm"}," Pilih Data Kiriman ",-1)),w[9]||(w[9]=t("div",{class:"text-caption text-grey-7 q-pb-lg"}," Pilih produk, jenis harga, dan pelanggan tujuan. ",-1)),e(ie,{modelValue:a(f).products,"onUpdate:modelValue":w[1]||(w[1]=F=>a(f).products=F),options:m.value,label:"Pilih Produk",hint:"Ketik nama atau SKU produk untuk mencari",multiple:"","use-chips":"",clearable:"",outlined:"",dense:"",class:"q-mb-md",error:!!a(f).errors.products,"error-message":a(f).errors.products,loading:a(f).processing,"use-input":"",onFilter:D,"input-debounce":"0"},{"no-option":l(()=>[e(le,null,{default:l(()=>[e(N,{class:"text-grey"},{default:l(()=>w[6]||(w[6]=[_(" Tidak ada produk ditemukan ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","error","error-message","loading"]),e(ie,{modelValue:a(f).price_types,"onUpdate:modelValue":w[2]||(w[2]=F=>a(f).price_types=F),options:c,label:"Pilih Jenis Harga",hint:"Pilih satu atau lebih jenis harga","emit-value":"","map-options":"",outlined:"",dense:"",class:"q-mb-md",error:!!a(f).errors.price_types,"error-message":a(f).errors.price_types,loading:a(f).processing,multiple:"","use-chips":"",clearable:""},null,8,["modelValue","error","error-message","loading"]),e(ie,{modelValue:a(f).customers,"onUpdate:modelValue":w[3]||(w[3]=F=>a(f).customers=F),options:g.value,label:"Pilih Pelanggan Tujuan",hint:"Ketik nama pelanggan untuk mencari",multiple:"","use-chips":"",clearable:"",outlined:"",dense:"",class:"q-mb-md",error:!!a(f).errors.customers,"error-message":a(f).errors.customers,loading:a(f).processing,"use-input":"",onFilter:R,"input-debounce":"0"},{"no-option":l(()=>[e(le,null,{default:l(()=>[e(N,{class:"text-grey"},{default:l(()=>w[7]||(w[7]=[_(" Tidak ada pelanggan ditemukan ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","error","error-message","loading"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(j,{icon:"send",type:"submit",label:"Kirim ke Backend",color:"primary",disable:a(f).processing||a(f).products.length===0||a(f).customers.length===0||a(f).price_types.length===0,loading:a(f).processing},null,8,["disable","loading"]),e(j,{icon:"cancel",label:"Batal",disable:a(f).processing,onClick:w[4]||(w[4]=F=>C.$goBack())},null,8,["disable"])]),_:1}),C.$page.props.flash.success?(p(),I(Et,{key:0,class:"bg-positive text-white q-mt-md"},{default:l(()=>[_(r(C.$page.props.flash.success),1)]),_:1})):k("",!0),C.$page.props.flash.error?(p(),I(Et,{key:1,class:"bg-negative text-white q-mt-md"},{default:l(()=>[_(r(C.$page.props.flash.error),1)]),_:1})):k("",!0)]),_:1})]),t("div",Gc,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[w[10]||(w[10]=t("div",{class:"text-subtitle1 q-mb-sm"}," Pratinjau Pesan (Teks Biasa) ",-1)),e(oe,{modelValue:d.value,"onUpdate:modelValue":w[5]||(w[5]=F=>d.value=F),type:"textarea",label:"Pesan Daftar Harga",autogrow:"",outlined:"",dense:"",rows:10},null,8,["modelValue"]),w[11]||(w[11]=t("div",{class:"text-caption text-grey-7 q-mt-sm"}," Anda dapat mengedit teks di atas sebelum dikirim melalui WhatsApp. ",-1))]),_:1}),A.value.length>0?(p(),I(ae,{key:0},{default:l(()=>[w[13]||(w[13]=t("div",{class:"text-subtitle2 q-mb-sm"}," Kirim ke Pelanggan (via WA) ",-1)),t("div",Xc,[(p(!0),$(K,null,Ke(A.value,F=>(p(),I(j,{key:F.id,label:`Kirim ke ${F.label}`,href:h(F.phone_number),target:"_blank",icon:"lab la-whatsapp",color:"green-8",dense:""},{default:l(()=>[F.phone_number?k("",!0):(p(),I(Lt,{key:0},{default:l(()=>w[12]||(w[12]=[_(" Nomor telepon tidak tersedia ")])),_:1}))]),_:2},1032,["label","href"]))),128))]),w[14]||(w[14]=t("div",{class:"text-caption text-grey-7 q-mt-sm"}," Link WhatsApp akan terbuka di tab baru. ",-1))]),_:1})):k("",!0)]),_:1})])]),_:1})])]),_:1})],64)}}},ep=Object.freeze(Object.defineProperty({__proto__:null,default:Zc},Symbol.toStringTag,{value:"Module"})),tp={class:"column"},ap={class:"bg-grey-2 q-pa-xs"},lp={class:"text-subtitle1 text-bold text-grey-10"},op={class:"col-12 col-sm-6"},np={class:"full-width"},sp={key:1},rp={key:0},ip={key:1},dp={class:"col-12 col-sm-6",align:"left"},up={class:"full-width"};const mp={key:1},cp={class:"full-width",style:{"border-collapse":"collapse"}},pp={class:"q-pa-sm",style:{"border-bottom":"1px solid #eee"}},fp={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},gp={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},bp={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},vp={key:0},_p={class:"col-12 col-sm-6"},yp={class:"text-body2 text-grey-7 text-italic"},kp={class:"col-12 col-sm-6"},wp={class:"row justify-end q-gutter-y-xs"},hp={class:"col-12 row justify-between"},$p={class:"text-subtitle2 text-bold"},ro={__name:"InvoiceTab",props:{data:Object},setup(u){const n=u;return(d,o)=>{const s=Q("i-link");return p(),$("div",tp,[e(ae,{class:"q-pa-none"},{default:l(()=>[t("div",ap,[t("div",lp," INVOICE #"+r(n.data.formatted_id),1)])]),_:1}),e(et),e(ae,{class:"row q-col-gutter-sm q-pa-sm",align:"left"},{default:l(()=>[t("div",op,[o[1]||(o[1]=t("div",{class:"text-subtitle2 text-bold text-grey-8"},"Info Pemasok",-1)),t("table",np,[t("tbody",null,[t("tr",null,[t("td",null,[n.data.supplier?(p(),I(s,{key:0,href:d.route("admin.supplier.detail",{id:n.data.supplier_id})},{default:l(()=>[e(q,{class:"inline-icon",name:"person"}),_(" "+r(n.data.supplier_name),1)]),_:1},8,["href"])):(p(),$("div",sp,[e(q,{class:"inline-icon",name:"person"}),o[0]||(o[0]=_(" Pemasok Umum "))]))])]),n.data.supplier_phone?(p(),$("tr",rp,[t("td",null,[e(q,{class:"inline-icon",name:"phone"}),_(" "+r(n.data.supplier_phone),1)])])):k("",!0),n.data.supplier_address?(p(),$("tr",ip,[t("td",null,[e(q,{class:"inline-icon",name:"home_pin"}),_(" "+r(n.data.supplier_address),1)])])):k("",!0)])])]),t("div",dp,[o[12]||(o[12]=t("div",{class:"text-subtitle2 text-bold text-grey-8"},"Info Order",-1)),t("table",up,[t("tbody",null,[t("tr",null,[o[2]||(o[2]=t("td",{class:"text-grey-7",style:{width:"130px"}},"Waktu",-1)),o[3]||(o[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(ge)(n.data.datetime)),1)]),t("tr",null,[o[4]||(o[4]=t("td",{class:"text-grey-7"},"Status Order",-1)),o[5]||(o[5]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(d.$CONSTANTS.PURCHASE_ORDER_STATUSES[n.data.status]),1)]),t("tr",null,[o[6]||(o[6]=t("td",{class:"text-grey-7"},"Status Pembayaran",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,r(d.$CONSTANTS.PURCHASE_ORDER_PAYMENT_STATUSES[n.data.payment_status]),1)]),k("",!0),n.data.due_date?(p(),$("tr",mp,[o[10]||(o[10]=t("td",{class:"text-grey-7"},"Jatuh Tempo",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,r(a(Jt)(n.data.due_date)),1)])):k("",!0)])])])]),_:1}),e(et),e(ae,{class:"q-pa-sm"},{default:l(()=>[t("table",cp,[o[14]||(o[14]=t("thead",{class:"text-grey-8"},[t("tr",null,[t("th",{class:"text-left q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Item "),t("th",{colspan:"2",class:"text-center q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Qty "),t("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Harga Beli (Rp) "),t("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Total (Rp) ")])],-1)),t("tbody",null,[(p(!0),$(K,null,Ke(n.data.details,i=>(p(),$("tr",{key:i.id},[t("td",pp,[e(s,{href:d.route("admin.product.detail",{id:i.product_id})},{default:l(()=>[_(r(i.product_name),1)]),_:2},1032,["href"])]),t("td",fp,r(i.quantity),1),t("td",null,r(i.product_uom),1),t("td",gp,r(a(W)(i.cost)),1),t("td",bp,r(a(W)(i.subtotal_cost)),1)]))),128)),n.data.details.length==0?(p(),$("tr",vp,o[13]||(o[13]=[t("td",{colspan:"4",class:"text-center text-grey"},"Belum ada item",-1)]))):k("",!0)])])]),_:1}),e(et),e(ae,{class:"row",align:"left"},{default:l(()=>[t("div",_p,[o[15]||(o[15]=t("div",{class:"text-subtitle2 text-bold text-grey-8 q-mb-xs"},"Catatan:",-1)),t("div",yp,r(n.data.notes?n.data.notes:"-"),1)]),t("div",kp,[t("div",wp,[t("div",hp,[o[16]||(o[16]=t("div",{class:"text-subtitle2 text-grey-7"},"Grand Total (Rp)",-1)),t("div",$p,r(a(W)(n.data.grand_total)),1)])])])]),_:1})])}}},xp=Object.freeze(Object.defineProperty({__proto__:null,default:ro},Symbol.toStringTag,{value:"Module"})),Sp={key:0,class:"text-center q-mb-md text-grey-8"},Vp={class:"text-subtitle2 text-weight-medium"},qp={class:"text-h5 text-center text-primary q-pb-md"},Cp={class:"text-center q-mt-md"},Tp={key:0,class:"text-h6 text-negative text-weight-bold"},Pp={key:1,class:"text-h6 text-green-8 text-weight-bold"},Op={key:2,class:"text-h6 text-positive text-weight-bold"},io={__name:"PaymentDialog",props:{modelValue:{type:Boolean,required:!0},total:{type:Number,required:!0}},emits:["update:modelValue","accepted"],setup(u,{emit:n}){const d=u,o=n,s=be(),i=V(!1),v=V({method:null,amount:d.total,notes:null}),c=s.props.data.supplier,m=G(()=>[...s.props.accounts.map(h=>({label:h.type=="bank"?h.name+" - "+h.number:h.name,value:h.id}))]),g=G(()=>d.total-(v.value.amount||0)),f=G(()=>v.value.method&&typeof v.value.amount=="number"&&v.value.amount>0),y=G(()=>v.value.method?(v.value.amount||0)<=0?"Jumlah pembayaran harus lebih dari 0.":null:"Metode pembayaran harus dipilih."),b=G(()=>f.value&&y.value===null),S=()=>{if(!b.value)return;i.value=!0;const h={total_paid:v.value.amount,payments:[{id:v.value.method,amount:v.value.amount}],notes:v.value.notes,remaining_debt:Math.max(0,d.total-(v.value.amount||0))};o("accepted",h),i.value=!1},A=()=>{v.value.amount=d.total,v.value.method=null,v.value.notes=null};return(h,D)=>(p(),I(ct,{"model-value":u.modelValue,"onUpdate:modelValue":D[4]||(D[4]=R=>h.$emit("update:modelValue",R)),onBeforeShow:A},{default:l(()=>[e(ce,{style:{"min-width":"300px"}},{default:l(()=>[e(ae,null,{default:l(()=>D[5]||(D[5]=[t("div",{class:"text-subtitle1 text-bold text-center"}," Rincian Pembayaran ",-1)])),_:1}),e(ae,{class:"q-pt-none"},{default:l(()=>[a(c)?(p(),$("div",Sp,[t("div",Vp,[_(r(a(c).name)+" ",1),D[6]||(D[6]=t("br",null,null,-1)),_(" Saldo: Rp. "+r(a(W)(a(c).balance)),1)])])):k("",!0),t("div",qp," Total: Rp. "+r(a(W)(u.total)),1),e(a(ie),{modelValue:v.value.method,"onUpdate:modelValue":D[0]||(D[0]=R=>v.value.method=R),options:m.value,label:"Metode Pembayaran",outlined:!0,"emit-value":"","map-options":"",dense:"",class:"q-mb-md",disable:i.value,rules:[R=>!!R||"Pilih metode pembayaran."]},null,8,["modelValue","options","disable","rules"]),e(Ae,{modelValue:v.value.amount,"onUpdate:modelValue":D[1]||(D[1]=R=>v.value.amount=R),label:"Jumlah Uang",outlined:!0,dense:"",disable:i.value,class:"q-mb-md",error:!b.value,"error-message":y.value},null,8,["modelValue","disable","error","error-message"]),e(oe,{modelValue:v.value.notes,"onUpdate:modelValue":D[2]||(D[2]=R=>v.value.notes=R),label:"Catatan",outlined:!0,type:"textarea",rows:"2",disable:i.value,class:"q-mb-md"},null,8,["modelValue","disable"]),t("div",Cp,[g.value>0?(p(),$("div",Tp," Sisa Tagihan: Rp. "+r(a(W)(g.value)),1)):g.value<0?(p(),$("div",Pp," Kembalian: Rp. "+r(a(W)(Math.abs(g.value))),1)):(p(),$("div",Op," Tagihan Terbayar "))])]),_:1}),e(mt,{align:"center",class:"q-mb-sm"},{default:l(()=>[e(j,{flat:"",label:"Batal",color:"grey",onClick:D[3]||(D[3]=R=>h.$emit("update:modelValue",!1))}),e(j,{label:"Bayar",color:"positive",onClick:S,disable:i.value||!b.value,loading:i.value},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Rp=Object.freeze(Object.defineProperty({__proto__:null,default:io},Symbol.toStringTag,{value:"Module"})),Ip={class:"column"},Dp={class:"full-width",style:{"border-collapse":"collapse"}},Up={class:"q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Ap={class:"row items-center q-gutter-x-sm"},jp={class:"text-weight-bold"},Ep={class:"row items-center q-gutter-x-sm q-mt-xs"},Mp={class:"text-caption text-grey-6"},Np={key:0,class:"row items-center q-gutter-x-sm q-mt-xs"},Bp={class:"text-caption text-grey-6"},zp={class:"q-mt-xs"},Fp={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Lp={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Hp={key:0},Kp={class:"q-pa-sm"},Yp={class:"text-right q-pa-sm"},Wp={class:"text-right q-pa-sm"},uo={__name:"PaymentTab",props:{data:Object},setup(u){const n=u,d=G(()=>n.data.grand_total-n.data.total_paid),o=$e(),s=V(!1),i=()=>{s.value=!0},v=async m=>{const g={order_id:n.data.id,payments:m.payments,notes:m.notes};o.loading.show({message:"Memproses pembayaran..."});try{const f=await Ge.post(route("admin.purchase-order.add-payment"),g);o.notify({message:"Pembayaran berhasil diproses!",color:"positive",icon:"check_circle"}),s.value=!1,ee.visit(route("admin.purchase-order.detail",{id:n.data.id})+"?tab=payment")}catch(f){let y="Gagal memproses pembayaran.";f.response&&f.response.data&&f.response.data.message?y=f.response.data.message:f.message&&(y=f.message),o.notify({message:y,color:"negative",icon:"error"})}finally{o.loading.hide()}},c=m=>{o.dialog({title:"Konfirmasi",message:"Apakah Anda yakin ingin menghapus pembayaran ini?",cancel:!0,persistent:!0}).onOk(async()=>{o.loading.show({message:"Menghapus pembayaran..."});try{await Ge.post(route("admin.purchase-order.delete-payment",{id:m.id})),o.notify({message:"Pembayaran berhasil dihapus!",color:"positive",icon:"check_circle"}),ee.visit(route("admin.purchase-order.detail",{id:n.data.id})+"?tab=payment")}catch(g){let f="Gagal menghapus pembayaran.";g.response&&g.response.data&&g.response.data.message?f=g.response.data.message:g.message&&(f=g.message),o.notify({message:f,color:"negative",icon:"error"})}finally{o.loading.hide()}})};return(m,g)=>(p(),$(K,null,[t("div",Ip,[e(et),e(ae,{class:"q-pa-sm"},{default:l(()=>[t("table",Dp,[g[6]||(g[6]=t("thead",{class:"text-grey-8"},[t("tr",null,[t("th",{class:"text-left q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Detail Transaksi "),t("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Jumlah (Rp) "),t("th",{class:"text-center q-pa-sm",style:{"border-bottom":"2px solid #ddd"}})])],-1)),t("tbody",null,[(p(!0),$(K,null,Ke(n.data.payments,f=>(p(),$("tr",{key:f.id},[t("td",Up,[t("div",Ap,[e(q,{name:"tag",size:"xs",color:"grey-7"}),t("span",jp,r(f.formatted_id),1)]),t("div",Ep,[e(q,{name:"calendar_today",size:"xs",color:"grey-7"}),t("span",Mp,r(a(ge)(f.created_at)),1)]),(f.type==="transfer"||f.type==="cash")&&f.account?(p(),$("div",Np,[e(q,{name:"wallet",size:"xs",color:"grey-7"}),t("span",Bp,r(f.account.name),1)])):k("",!0),t("div",zp,[e(dt,{label:m.$CONSTANTS.SALES_ORDER_PAYMENT_TYPES[f.type],color:"secondary",class:"q-py-xs"},null,8,["label"])])]),t("td",Fp,r(a(W)(f.amount)),1),t("td",Lp,[m.$can("admin.sales-order.delete-payment")?(p(),I(j,{key:0,icon:"delete",color:"negative",dense:"",flat:"",rounded:"",size:"sm",onClick:y=>c(f)},null,8,["onClick"])):k("",!0)])]))),128)),n.data.payments.length==0?(p(),$("tr",Hp,g[2]||(g[2]=[t("td",{colspan:"100%",class:"text-center text-grey"},"Belum ada item",-1)]))):k("",!0)]),t("tfoot",null,[t("tr",null,[t("td",Kp,[m.$can("admin.sales-order.add-payment")&&d.value>0?(p(),I(j,{key:0,label:"Tambah",color:"primary",icon:"add",dense:"",class:"custom-dense",size:"sm",onClick:g[0]||(g[0]=X(f=>i(),["stop"]))})):k("",!0)]),g[3]||(g[3]=t("th",{class:"text-right q-pa-sm",colspan:"1"},"Total Dibayar",-1)),t("th",Yp,r(a(W)(n.data.total_paid)),1)]),t("tr",null,[g[4]||(g[4]=t("th",{class:"text-right q-pa-sm",colspan:"2"},"Sisa Tagihan",-1)),t("th",Wp,r(a(W)(d.value)),1),g[5]||(g[5]=t("td",null,null,-1))])])])]),_:1})]),e(io,{modelValue:s.value,"onUpdate:modelValue":g[1]||(g[1]=f=>s.value=f),total:d.value,customer:n.data.customer,onAccepted:v},null,8,["modelValue","total","customer"])],64))}},Qp=Object.freeze(Object.defineProperty({__proto__:null,default:uo},Symbol.toStringTag,{value:"Module"})),Jp={class:"q-gutter-sm"},Gp={class:"col col-lg-6 q-pa-xs",align:"center"},fl="Rincian Pembelian",Xp={__name:"Detail",setup(u){const n=new URLSearchParams(window.location.search),o=be().props.data,s=V(n.get("preview")||!1),v=V(n.get("tab")||"invoice"),c=()=>{window.print()};return(m,g)=>{const f=Q("i-head"),y=Q("authenticated-layout");return p(),$(K,null,[e(f,{title:fl}),e(y,{"show-drawer-button":!0},{title:l(()=>[t("div",{class:"row items-center q-gutter-x-sm"},[t("span",null,r(fl))])]),"left-button":l(()=>[t("div",Jp,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:g[0]||(g[0]=b=>m.$goBack())})])]),"right-button":l(()=>[e(j,{icon:"print",dense:"",color:"primary",flat:"",rounded:"",onClick:g[1]||(g[1]=b=>c())}),s.value?k("",!0):(p(),I(j,{key:0,class:"q-ml-sm",icon:"add",dense:"",color:"primary",rounded:"",onClick:g[2]||(g[2]=b=>a(ee).get(m.route("admin.purchase-order.add")))}))]),default:l(()=>[e(Ve,{class:"row justify-center print-visible"},{default:l(()=>[t("div",Gp,[e(ce,{square:"",flat:"",bordered:"",class:"full-width",style:{"max-width":"1024px"}},{default:l(()=>[e(It,{modelValue:v.value,"onUpdate:modelValue":g[3]||(g[3]=b=>v.value=b),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(Xe,{name:"invoice",label:"Invoice"}),s.value?k("",!0):(p(),I(Xe,{key:0,name:"payment",label:"Pembayaran"}))]),_:1},8,["modelValue"]),e(et),e(Dt,{modelValue:v.value,"onUpdate:modelValue":g[4]||(g[4]=b=>v.value=b),animated:""},{default:l(()=>[e(Ze,{name:"invoice",class:"q-pa-none"},{default:l(()=>[e(ro,{data:a(o)},null,8,["data"])]),_:1}),e(Ze,{name:"payment",class:"q-pa-none"},{default:l(()=>[e(uo,{data:a(o)},null,8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),_:1})]),_:1})],64)}}},Zp=_t(Xp,[["__scopeId","data-v-ef1ae89c"]]),ef=Object.freeze(Object.defineProperty({__proto__:null,default:Zp},Symbol.toStringTag,{value:"Module"})),tf={class:"text-weight-medium wrap-column"},af={class:"text-caption text-grey-6 elipsis"},lf={class:"column items-end"},of={class:"text-caption text-grey-6 text-italic"},mo={__name:"ItemsListTable",props:{items:{type:Array,required:!0},isProcessing:{type:Boolean,default:!1}},emits:["update-quantity","remove-item","edit-item"],setup(u){const n=$e(),d=We(null,n.screen.lt.sm?395:310),o=[{name:"name",required:!0,label:"Item",align:"left",field:"name",sortable:!1},{name:"subtotal",label:"Sub Total (Rp.)",align:"right",sortable:!1},{name:"action",label:"",align:"right",sortable:!1}];return(s,i)=>(p(),I(Te,{dense:"",rows:u.items,columns:o,"row-key":"id",flat:"",square:"",bordered:"",class:"full-height-table","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item",style:Be({height:a(d)})},{header:l(v=>[e(Ce,{props:v,class:"bg-grey-4"},{default:l(()=>[(p(!0),$(K,null,Ke(v.cols,c=>(p(),I(la,{key:c.name,props:v,class:"text-weight-bold text-grey-8"},{default:l(()=>[_(r(c.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(v=>[e(Ce,{props:v,class:"hover-highlight"},{default:l(()=>[e(H,{key:"name",props:v,class:"text-left"},{default:l(()=>[t("div",tf,r(v.row.product_name),1),t("div",af,r(v.row.product_barcode),1),v.row.notes?(p(),I(we,{key:0,text:v.row.notes,icon:"notes",class:"text-grey-6"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(H,{key:"subtotal",props:v,class:"text-right"},{default:l(()=>[t("div",lf,[t("div",null,r(a(W)(v.row.subtotal_cost)),1),t("div",of,r(a(W)(v.row.quantity))+" x Rp. "+r(a(W)(v.row.cost)),1)])]),_:2},1032,["props"]),e(H,{key:"action",props:v,class:"text-right",style:{width:"5%"}},{default:l(()=>[e(j,{icon:"edit",color:"grey",flat:"",round:"",size:"sm",onClick:c=>s.$emit("edit-item",v.row),disable:u.isProcessing},null,8,["onClick","disable"]),e(j,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:c=>s.$emit("remove-item",v.row),disable:u.isProcessing},null,8,["onClick","disable"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","style"]))}},nf=Object.freeze(Object.defineProperty({__proto__:null,default:mo},Symbol.toStringTag,{value:"Module"})),co=ht({name:"QBtnToggle",props:{...Al,modelValue:{required:!0},options:{type:Array,required:!0,validator:u=>u.every(n=>("label"in n||"icon"in n||"slot"in n)&&"value"in n)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(u,{slots:n,emit:d}){const o=G(()=>u.options.find(b=>b.value===u.modelValue)!==void 0),s=G(()=>({type:"hidden",name:u.name,value:u.modelValue})),i=qn(s),v=G(()=>Sn(u)),c=G(()=>({rounded:u.rounded,dense:u.dense,...v.value})),m=G(()=>u.options.map((b,S)=>{const{attrs:A,value:h,slot:D,...R}=b;return{slot:D,props:{key:S,"aria-pressed":h===u.modelValue?"true":"false",...A,...R,...c.value,disable:u.disable===!0||R.disable===!0,color:h===u.modelValue?f(R,"toggleColor"):f(R,"color"),textColor:h===u.modelValue?f(R,"toggleTextColor"):f(R,"textColor"),noCaps:f(R,"noCaps")===!0,noWrap:f(R,"noWrap")===!0,size:f(R,"size"),padding:f(R,"padding"),ripple:f(R,"ripple"),stack:f(R,"stack")===!0,stretch:f(R,"stretch")===!0,onClick(T){g(h,b,T)}}}}));function g(b,S,A){u.readonly!==!0&&(u.modelValue===b?u.clearable===!0&&(d("update:modelValue",null,null),d("clear")):d("update:modelValue",b,S),d("click",A))}function f(b,S){return b[S]===void 0?u[S]:b[S]}function y(){const b=m.value.map(S=>ke(j,S.props,S.slot!==void 0?n[S.slot]:void 0));return u.name!==void 0&&u.disable!==!0&&o.value===!0&&i(b,"push"),Dl(n.default,b)}return()=>ke(Vn,{class:"q-btn-toggle",...v.value,rounded:u.rounded,stretch:u.stretch,glossy:u.glossy,spread:u.spread},y)}}),sf={key:0,class:"text-center q-mb-md text-grey-8"},rf={class:"text-subtitle2 text-weight-medium"},df={class:"text-h5 text-center text-primary q-pb-md"},uf={class:"q-mb-md flex flex-center"},mf={key:1},cf={class:"col-6"},pf={class:"col-6"},ff={class:"row"},gf={class:"text-center q-mt-md"},bf={key:0,class:"text-h6 text-negative text-weight-bold"},vf={key:1,class:"text-h6 text-green-8 text-weight-bold"},_f={key:2,class:"text-h6 text-positive text-weight-bold"},yf={key:2},kf={class:"text-h6 text-negative text-center"},wf={key:3},po={__name:"PaymentDialog",props:{modelValue:{type:Boolean,required:!0},form:{type:Object,required:!0},supplier:{type:Object,required:!1},total:{type:Number,required:!0}},emits:["update:modelValue","accepted"],setup(u,{emit:n}){const d=u,o=n,s=be(),i=V(!1),v=V("payment"),c=V(new Date),m=V(null),g=Pe([]),f=G(()=>g.every(F=>F.id&&typeof F.amount=="number"&&F.amount>0)),y=G(()=>s.props.accounts.map(F=>({label:F.name,value:F.id}))),b=G(()=>g.reduce((F,M)=>F+(M.amount||0),0)),S=G(()=>d.total-b.value),A=G(()=>{if(!d.supplier)return!0;const F=g.find(x=>x.id==="wallet");return(F?F.amount:0)<=d.supplier.balance}),h=new Date,D=st.addToDate(new Date,{days:30}),R=G(()=>[F=>!!F||"Tanggal jatuh tempo harus diisi",F=>st.isBetweenDates(F,h,D,{inclusiveFrom:!0,inclusiveTo:!0})?!0:"Tanggal tidak boleh kurang dari hari ini dan lebih dari 30 hari dari sekarang."]),T=G(()=>{if(v.value==="debt")return!!d.supplier&&R.value.every(z=>z(c.value)===!0);const F=g.some(z=>(z.amount||0)>0),M=g.every(z=>(z.amount||0)>=0),x=S.value<=0;return f.value&&F&&M&&x}),B=()=>{g.length<3&&g.push({id:null,amount:0})},C=F=>{if(g.length>1){const M=g.findIndex(x=>x.id===F);M!==-1&&g.splice(M,1)}},w=F=>{v.value=F,c.value=new Date,g.splice(0,g.length),F==="payment"&&y.value.length>0&&(g.splice(0,g.length,{id:y.value[0].value,amount:d.total}),vt(()=>{m.value&&m.value.length>0&&(m.value[0].focus(),m.value[0].select())}))},E=()=>{if(!T.value)return;i.value=!0;let F={total:d.total,is_debt:v.value==="debt"};if(v.value==="debt")F.due_date=st.formatDate(c.value,"YYYY-MM-DD"),F.payments=[];else{const M=b.value,x=M>d.total?M-d.total:0,z=S.value>0?S.value:0;F.payments=g,F.remaining_debt=z,F.change=x}o("accepted",F),i.value=!1},P=()=>{if(y.value.length===0){console.log("Tidak ada akun yang dapat digunakan untuk pembayaran!");return}w("payment")};return(F,M)=>(p(),I(ct,{"model-value":u.modelValue,"onUpdate:modelValue":M[3]||(M[3]=x=>F.$emit("update:modelValue",x)),onBeforeShow:P},{default:l(()=>[e(ce,{style:{"min-width":"300px"}},{default:l(()=>[e(ae,null,{default:l(()=>M[4]||(M[4]=[t("div",{class:"text-subtitle1 text-bold text-center"}," Rincian Pembayaran ",-1)])),_:1}),e(ae,{class:"q-pt-none"},{default:l(()=>[u.supplier?(p(),$("div",sf,[t("div",rf,[_(" Nama: "+r(u.supplier.name),1),M[5]||(M[5]=t("br",null,null,-1)),_(" Utang / Piutang: Rp. "+r(a(W)(u.supplier.balance)),1)])])):k("",!0),t("div",df," Total: Rp. "+r(a(W)(u.total)),1),t("div",uf,[e(a(co),{modelValue:v.value,"onUpdate:modelValue":[M[0]||(M[0]=x=>v.value=x),w],options:[{label:"Pembayaran",value:"payment",slot:"payment",color:"green"},{label:"Tempo",value:"debt",slot:"debt",disable:!u.supplier,color:"red"}],flat:"",spread:"",class:"bg-grey-2"},null,8,["modelValue","options"])]),v.value==="payment"?(p(),$("div",mf,[(p(!0),$(K,null,Ke(g,(x,z)=>(p(),$("div",{key:z,class:"row q-col-gutter-sm q-mb-sm"},[t("div",cf,[e(a(ie),{modelValue:x.id,"onUpdate:modelValue":J=>x.id=J,options:y.value,label:"Akun",outlined:!0,"emit-value":"","map-options":"",dense:"",disable:i.value,"hide-bottom-space":"",rules:[J=>!!J||"Akun harus dipilih"],error:!x.id,"error-message":"Akun tidak valid",class:"custom-select"},null,8,["modelValue","onUpdate:modelValue","options","disable","rules","error"])]),t("div",pf,[e(Ae,{modelValue:x.amount,"onUpdate:modelValue":J=>x.amount=J,label:"Jumlah",outlined:!0,dense:"",disable:i.value,error:!A.value,"error-message":A.value?"":"Jumlah Tidak valid!","hide-bottom-space":"",ref_for:!0,ref:z===0?"firstPaymentInputRef":null},Le({_:2},[g.length>1?{name:"append",fn:l(()=>[e(q,{size:"xs",name:"close",class:"cursor-pointer",onClick:J=>C(z)},null,8,["onClick"])]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","disable","error","error-message"])])]))),128)),t("div",ff,[e(j,{disable:!(g.length<3&&S.value>0),flat:"",dense:"",icon:"add",label:"Tambah Pembayaran",onClick:B,size:"sm"},null,8,["disable"])]),t("div",gf,[S.value>0?(p(),$("div",bf," Sisa Tagihan: Rp. "+r(a(W)(S.value)),1)):S.value<0?(p(),$("div",vf," Kembalian: Rp. "+r(a(W)(Math.abs(S.value))),1)):(p(),$("div",_f," Tagihan Terbayar "))])])):v.value==="debt"&&u.supplier?(p(),$("div",yf,[e(Sa,{outlined:"",modelValue:c.value,"onUpdate:modelValue":M[1]||(M[1]=x=>c.value=x),label:"Tanggal Jatuh Tempo",hint:"Pilih tanggal jatuh tempo pembayaran utang",class:"q-mb-md","min-date":a(h),"max-date":a(D),rules:R.value},null,8,["modelValue","min-date","max-date","rules"]),t("div",kf," Total Utang: Rp. "+r(a(W)(u.total)),1)])):v.value==="debt"&&!u.supplier?(p(),$("div",wf,M[6]||(M[6]=[t("div",{class:"text-center text-negative text-h6"}," Tidak dapat mencatat utang tanpa memilih pelanggan. ",-1)]))):k("",!0)]),_:1}),e(mt,{align:"center",class:"q-mb-sm"},{default:l(()=>[e(j,{flat:"",label:"Batal",color:"grey",onClick:M[2]||(M[2]=x=>F.$emit("update:modelValue",!1))}),e(j,{label:v.value==="debt"?"Catat Utang":"Bayar",color:"positive",onClick:E,disable:i.value||!T.value,loading:i.value},null,8,["label","disable","loading"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},hf=Object.freeze(Object.defineProperty({__proto__:null,default:po},Symbol.toStringTag,{value:"Module"})),$f={class:"row items-center no-wrap"},xf={class:"col-auto"},Sf={class:"full-width row flex-center text-grey-8 q-gutter-sm"},fo={__name:"ProductBrowserDialog",props:{modelValue:{type:Boolean,required:!0},showCost:{type:Boolean,require:!1,default:!1}},emits:["update:modelValue","product-selected"],setup(u,{emit:n}){const d=u,o=n,s=V(null),i=V([]),v=V(!0),c=V(-1),m=Pe({search:"",status:"active",...Re()}),g=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),f=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"cost",label:"Modal (Rp)",field:"cost",align:"right"},{name:"price",label:"Harga (Rp)",field:"price",align:"right"}],y=G(()=>d.showCost?f:f.filter(R=>R.name!=="cost"));he(()=>{b()});const b=()=>{d.modelValue!==!1&&S()},S=(R=null)=>{v.value=!0,c.value=-1,Ie({pagination:g,filter:m,props:R,rows:i,url:route("admin.product.data"),loading:v,tableRef:s})},A=()=>{b()},h=R=>{o("product-selected",R),setTimeout(()=>{o("update:modelValue",!1)},100)},D=R=>{if(!d.modelValue)return;const T=i.value.length;T!==0&&(R.key==="ArrowDown"?(R.preventDefault(),c.value=(c.value+1)%T):R.key==="ArrowUp"?(R.preventDefault(),c.value=(c.value-1+T)%T):R.key==="Enter"&&c.value!==-1&&(R.preventDefault(),h(i.value[c.value])))};return je(()=>d.modelValue,(R,T)=>{T===!0&&R===!1&&(m.search=""),R===!0&&S()}),(R,T)=>(p(),I(ct,{"model-value":u.modelValue,"onUpdate:modelValue":T[3]||(T[3]=B=>R.$emit("update:modelValue",B)),maximized:R.$q.screen.lt.sm},{default:l(()=>[e(ce,{class:"column fit",tabindex:"0",onKeydown:D,ref:"cardRef"},{default:l(()=>[e(ae,{class:"q-py-sm"},{default:l(()=>[t("div",$f,[T[4]||(T[4]=t("div",{class:"col text-subtitle text-grey-8 text-bold"},"Cari Produk",-1)),t("div",xf,[e(j,{flat:"",round:"",size:"sm",icon:"close",onClick:T[0]||(T[0]=B=>R.$emit("update:modelValue",!1))})])])]),_:1}),e(ae,{class:xe(["q-py-sm",R.$q.screen.lt.sm?"q-px-xs":""])},{default:l(()=>[e(oe,{autofocus:"",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":[T[1]||(T[1]=B=>m.search=B),A],placeholder:"Cari produk berdasarkan nama atau barcode",clearable:""},{append:l(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["class"]),e(ae,{class:xe(["q-py-xs col",R.$q.screen.lt.sm?"q-px-xs":""])},{default:l(()=>[e(Te,{ref_key:"tableRef",ref:s,flat:"",class:"fit full-height-table",square:"",bordered:"",dense:"",color:"primary","row-key":"id",pagination:g.value,"onUpdate:pagination":T[2]||(T[2]=B=>g.value=B),filter:m.search,loading:v.value,columns:y.value,rows:i.value,"rows-per-page-options":[10,25,50],onRequest:S,"binary-state-sort":"","no-data-label":"Tidak ada produk ditemukan","rows-per-page-label":null},{"no-data":l(({icon:B,message:C,filter:w})=>[t("div",Sf,[t("span",null,r(C),1)])]),body:l(B=>[e(Ce,{tabindex:"0",props:B,class:xe([{inactive:!B.row.active,"selected-row":c.value===B.rowIndex},"cursor-pointer"]),onClick:C=>h(B.row),onKeydown:[oa(X(C=>h(B.row),["prevent","stop"]),["enter"]),oa(X(C=>h(B.row),["prevent"]),["space"])]},{default:l(()=>[e(H,{key:"name",props:B,class:"wrap-column"},{default:l(()=>[e(we,{text:B.row.name},null,8,["text"]),B.row.description?(p(),I(we,{key:0,text:B.row.description,"max-length":50,class:"text-grey-6"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(H,{key:"stock",props:B,class:"wrap-column text-right"},{default:l(()=>[_(r(B.row.type=="stocked"?a(W)(B.row.stock)+" "+B.row.uom:"-"),1)]),_:2},1032,["props"]),u.showCost?(p(),I(H,{key:"cost",props:B,class:"wrap-column text-right"},{default:l(()=>[_(r(a(W)(B.row.cost)),1)]),_:2},1032,["props"])):k("",!0),e(H,{key:"price",props:B,class:"wrap-column text-right"},{default:l(()=>[_(r(a(W)(B.row.price)),1)]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick","onKeydown"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1},8,["class"])]),_:1},512)]),_:1},8,["model-value","maximized"]))}},Vf={class:"row items-center no-wrap"},qf={class:"col-auto"},go={__name:"ItemEditorDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,required:!1},isProcessing:{type:Boolean,required:!1}},emits:["update:modelValue","save"],setup(u,{expose:n,emit:d}){const o=u,s=d,i=()=>{s("save")},v=G(()=>o.item.quantity*o.item.cost),c=y=>{y.stopPropagation(),y.preventDefault()},m=y=>{o.modelValue&&(y.key==="Enter"?(i(),c(y)):y.key==="Escape"&&(s("update:modelValue",!1),c(y)))};he(()=>{window.addEventListener("keydown",m)}),Rt(()=>{window.removeEventListener("keydown",m)}),n({getCurrentItem:()=>o.item});const f=()=>{};return(y,b)=>(p(),I(ct,{"model-value":u.modelValue,"onUpdate:modelValue":b[6]||(b[6]=S=>y.$emit("update:modelValue",S)),onBeforeShow:f},{default:l(()=>[e(ce,null,{default:l(()=>[e(ae,{class:"q-py-sm"},{default:l(()=>[t("div",Vf,[b[7]||(b[7]=t("div",{class:"col text-subtite text-bold text-grey-8"},"Edit Item",-1)),t("div",qf,[e(j,{flat:"",size:"sm",round:"",icon:"close",onClick:b[0]||(b[0]=S=>y.$emit("update:modelValue",!1))})])])]),_:1}),e(ae,{class:"q-py-sm"},{default:l(()=>[e(oe,{modelValue:u.item.product_name,"onUpdate:modelValue":b[1]||(b[1]=S=>u.item.product_name=S),label:"Produk","hide-bottom-space":"",readonly:"",disable:u.isProcessing},null,8,["modelValue","disable"]),e(Ae,{modelValue:u.item.quantity,"onUpdate:modelValue":b[2]||(b[2]=S=>u.item.quantity=S),label:"Kwantitas","hide-bottom-space":"",autofocus:"",disable:u.isProcessing},null,8,["modelValue","disable"]),e(Ae,{modelValue:u.item.cost,"onUpdate:modelValue":b[3]||(b[3]=S=>u.item.cost=S),label:"Harga","hide-bottom-space":"",disable:u.isProcessing},null,8,["modelValue","disable"]),e(Ae,{modelValue:v.value,"onUpdate:modelValue":b[4]||(b[4]=S=>v.value=S),label:"Subtotal","hide-bottom-space":"",readonly:""},null,8,["modelValue"]),e(oe,{modelValue:u.item.notes,"onUpdate:modelValue":b[5]||(b[5]=S=>u.item.notes=S),label:"Catatan",autogrow:"",type:"textarea",counter:"",maxlength:"50","hide-bottom-space":"",clearable:""},null,8,["modelValue"])]),_:1}),e(mt,{align:"right"},{default:l(()=>[te(e(j,{flat:"",label:"Batal",color:"primary",disable:u.isProcessing},null,8,["disable"]),[[me]]),te(e(j,{flat:"",label:"Simpan",color:"primary",onClick:i,disable:u.isProcessing},null,8,["disable"]),[[me]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Cf=Object.freeze(Object.defineProperty({__proto__:null,default:go},Symbol.toStringTag,{value:"Module"}));function Tf(){const u=V(new Date);let n=null;const d=()=>{u.value=new Date};return he(()=>{n=setInterval(d,1e3)}),Rt(()=>{n&&clearInterval(n)}),{currentDateTime:u}}const Pf={class:"text-grey-8"},bo={__name:"DigitalClock",setup(u){const{currentDateTime:n}=Tf();return(d,o)=>(p(),$("div",Pf,r(a(ge)(a(n))),1))}},Of={key:0,class:"q-select__selected-item"},Rf={__name:"SupplierAutocomplete",props:{modelValue:{type:[Object],default:null},class:{type:String,default:""},label:{type:String,default:"Cari Pelanggan"},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},disable:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},minLength:{type:Number,default:0},initialData:{type:Object,default:null,required:!1}},emits:["update:modelValue","supplierSelected"],setup(u,{expose:n,emit:d}){const o=V(null),s=u,i=d,v=V([]);let c=null;const m=V(s.modelValue);he(()=>{s.initialData&&(m.value=s.initialData)}),je(m,y=>{i("update:modelValue",y),i("supplierSelected",y)}),je(()=>s.modelValue,y=>{m.value=y}),n({focus:()=>{o.value&&o.value.focus()}});const f=(y,b)=>{if(y.length<s.minLength){b(()=>{v.value=[]});return}c&&clearTimeout(c),c=setTimeout(()=>{Ge.get(`/web-api/suppliers?q=${y}`).then(S=>{b(()=>{v.value=S.data.data})}).catch(S=>{console.error("Gagal mengambil data pemasok:",S),b(()=>{v.value=[]})})},500)};return(y,b)=>(p(),I(ie,{class:xe(u.class),ref_key:"qSelectRef",ref:o,modelValue:m.value,"onUpdate:modelValue":b[0]||(b[0]=S=>m.value=S),"use-input":"","input-debounce":"0",label:u.label,options:v.value,onFilter:f,clearable:"",error:u.error,behavior:"menu","error-message":u.errorMessage,disable:u.disable,"hide-bottom-space":"",outlined:u.outlined,style:{"min-width":"150px !important"},"option-value":"id","option-label":"name"},{option:l(S=>[e(le,Ml(Nl(S.itemProps)),{default:l(()=>[e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>[_(r(S.opt.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),"selected-item":l(S=>[S.opt?(p(),$("div",Of,r(S.opt.name),1)):k("",!0)]),_:1},8,["class","modelValue","label","options","error","error-message","disable","outlined"]))}},If={__name:"HelpDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(u,{emit:n}){return(d,o)=>(p(),I(ct,{"model-value":u.modelValue,"onUpdate:modelValue":o[0]||(o[0]=s=>d.$emit("update:modelValue",s))},{default:l(()=>[e(ce,{style:{"min-width":"300px"}},{default:l(()=>[e(ae,{class:"q-py-none q-pt-md"},{default:l(()=>o[1]||(o[1]=[t("div",{class:"text-bold text-grey-8"},"Bantuan",-1)])),_:1}),e(ae,null,{default:l(()=>o[2]||(o[2]=[t("table",{style:{width:"100%"},class:"info-table"},[t("thead",null,[t("tr",null,[t("th",null,"Shortcut"),t("th",null,"Aksi")])]),t("tbody",null,[t("tr",null,[t("td",null,"F1"),t("td",null,"Dialog Bantuan")]),t("tr",null,[t("td",null,"F2"),t("td",null,"Aktifkan Input Barcode")]),t("tr",null,[t("td",null,"F3"),t("td",null,"Pilih Pelanggan")]),t("tr",null,[t("td",null,"F4"),t("td",null,"Gabung / pisahkan item saat input")])])],-1)])),_:1}),e(mt,{align:"center"},{default:l(()=>[te(e(j,{dense:"",label:"Tutup"},null,512),[[me]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},vo=_t(If,[["__scopeId","data-v-459ccab7"]]),Df=Object.freeze(Object.defineProperty({__proto__:null,default:vo},Symbol.toStringTag,{value:"Module"}));function _o(u){const n=V(!1),d=()=>{const i=u.value||document.documentElement;i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.msRequestFullscreen&&i.msRequestFullscreen()},o=()=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},s=()=>{n.value?o():d()};return Cn(()=>{const i=()=>{n.value=!!document.fullscreenElement};return document.addEventListener("fullscreenchange",i),document.addEventListener("webkitfullscreenchange",i),document.addEventListener("mozfullscreenchange",i),document.addEventListener("MSFullscreenChange",i),()=>{document.removeEventListener("fullscreenchange",i),document.removeEventListener("webkitfullscreenchange",i),document.removeEventListener("mozfullscreenchange",i),document.removeEventListener("MSFullscreenChange",i)}}),{isFullscreen:n,requestFullscreen:d,exitFullscreen:o,toggleFullscreen:s}}const Uf={class:"row items-center no-wrap"},Af={class:"col text-subtite text-bold text-grey-8"},jf={class:"col-auto"},yo={__name:"OrderInfoDialog",props:{modelValue:{type:Boolean,required:!0},data:{type:Object,required:!1},isProcessing:{type:Boolean,required:!1}},emits:["update:modelValue","save"],setup(u,{expose:n,emit:d}){const o=u,s=d,i=()=>{s("save")},v=g=>{g.stopPropagation(),g.preventDefault()},c=g=>{o.modelValue&&(g.key==="Enter"?(i(),v(g)):g.key==="Escape"&&(s("update:modelValue",!1),v(g)))};return he(()=>{window.addEventListener("keydown",c)}),Rt(()=>{window.removeEventListener("keydown",c)}),n({getCurrentItem:()=>o.item}),(g,f)=>(p(),I(ct,{"model-value":u.modelValue,"onUpdate:modelValue":f[4]||(f[4]=y=>g.$emit("update:modelValue",y))},{default:l(()=>[e(ce,null,{default:l(()=>[e(ae,{class:"q-py-sm"},{default:l(()=>[t("div",Uf,[t("div",Af," Edit "+r(u.data.formatted_id),1),t("div",jf,[e(j,{flat:"",size:"sm",round:"",icon:"close",onClick:f[0]||(f[0]=y=>g.$emit("update:modelValue",!1))})])])]),_:1}),e(ae,{class:"q-py-sm"},{default:l(()=>[e(Ht,{modelValue:u.data.datetime,"onUpdate:modelValue":f[1]||(f[1]=y=>u.data.datetime=y),label:"Waktu","hide-bottom-space":"",disable:u.isProcessing,autofocus:""},null,8,["modelValue","disable"]),e(oe,{modelValue:g.$CONSTANTS.SALES_ORDER_STATUSES[u.data.status],"onUpdate:modelValue":f[2]||(f[2]=y=>g.$CONSTANTS.SALES_ORDER_STATUSES[u.data.status]=y),label:"Status","hide-bottom-space":"",readonly:"",disable:u.isProcessing},null,8,["modelValue","disable"]),e(oe,{modelValue:u.data.notes,"onUpdate:modelValue":f[3]||(f[3]=y=>u.data.notes=y),label:"Catatan",autogrow:"",type:"textarea",counter:"",maxlength:"50","hide-bottom-space":"",clearable:""},null,8,["modelValue"])]),_:1}),e(mt,{align:"right"},{default:l(()=>[te(e(j,{flat:"",label:"Batal",color:"primary",disable:u.isProcessing},null,8,["disable"]),[[me]]),te(e(j,{flat:"",label:"Simpan",color:"primary",onClick:i,disable:u.isProcessing},null,8,["disable"]),[[me]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Ef=Object.freeze(Object.defineProperty({__proto__:null,default:yo},Symbol.toStringTag,{value:"Module"})),Mf={key:0},Nf={style:{float:"right"}},Bf={key:1},zf={style:{float:"right"}},Ff={key:2},Lf={style:{float:"right"}},Hf={key:3},Kf={style:{float:"right"}},Yf={style:{float:"right"}},Wf={class:"q-gutter-sm"},Qf={class:"q-my-md"},Jf={__name:"SuccessDialog",props:{modelValue:{type:Boolean,required:!0},order:{type:Object,required:!0},total:{type:Number,required:!0},customer:{type:[Object],required:!1},payment:{type:[Object],required:!1}},emits:["update:modelValue"],setup(u,{emit:n}){const d=V(null),o=()=>{var s;(s=d.value)==null||s.focus()};return(s,i)=>(p(),I(ct,{"model-value":u.modelValue,"onUpdate:modelValue":i[0]||(i[0]=v=>s.$emit("update:modelValue",v)),onBeforeShow:o,persistent:""},{default:l(()=>[e(ce,{style:{"min-width":"300px"}},{default:l(()=>[e(ae,{class:"q-py-none q-pt-md"},{default:l(()=>i[1]||(i[1]=[t("div",{class:"text-bold text-grey-8 text-h6",align:"center"},"Sukses",-1)])),_:1}),e(ae,{align:"center"},{default:l(()=>[i[22]||(i[22]=t("div",{class:"q-mb-md"},"Transaksi Berhasil",-1)),t("table",null,[t("tbody",null,[t("tr",null,[i[2]||(i[2]=t("td",null,"ID",-1)),i[3]||(i[3]=t("td",null,":",-1)),t("td",null,r(u.order.formatted_id),1)]),u.customer?(p(),$("tr",Mf,[i[5]||(i[5]=t("td",{style:{"vertical-align":"top"}},"Pelanggan",-1)),i[6]||(i[6]=t("td",{style:{"vertical-align":"top"}},":",-1)),t("td",null,[_(r(u.customer.name)+" ",1),i[4]||(i[4]=t("br",null,null,-1)),_(r(u.customer.code),1)])])):k("",!0),t("tr",null,[i[8]||(i[8]=t("td",null,"Total",-1)),i[9]||(i[9]=t("td",null,":",-1)),t("td",null,[i[7]||(i[7]=_(" Rp. ")),t("div",Nf,r(a(W)(u.payment.total)),1)])]),u.payment.cash_amount?(p(),$("tr",Bf,[i[11]||(i[11]=t("td",null,"Tunai",-1)),i[12]||(i[12]=t("td",null,":",-1)),t("td",null,[i[10]||(i[10]=_(" Rp. ")),t("div",zf,r(a(W)(u.payment.cash_amount)),1)])])):k("",!0),u.payment.wallet_amount?(p(),$("tr",Ff,[i[14]||(i[14]=t("td",null,"Wallet",-1)),i[15]||(i[15]=t("td",null,":",-1)),t("td",null,[i[13]||(i[13]=_(" Rp. ")),t("div",Lf,r(a(W)(u.payment.wallet_amount)),1)])])):k("",!0),u.payment.remaining_debt?(p(),$("tr",Hf,[i[17]||(i[17]=t("td",null,"Piutang",-1)),i[18]||(i[18]=t("td",null,":",-1)),t("td",null,[i[16]||(i[16]=_(" Rp. ")),t("span",Kf,r(a(W)(u.payment.remaining_debt)),1)])])):k("",!0),t("tr",null,[i[20]||(i[20]=t("td",null,"Kembalian",-1)),i[21]||(i[21]=t("td",null,":",-1)),t("td",null,[i[19]||(i[19]=_(" Rp. ")),t("div",Yf,r(a(W)(u.payment.change)),1)])])])])]),_:1}),e(mt,{align:"center"},{default:l(()=>[t("div",Wf,[e(j,{autofocus:"",label:"Cetak Struk",icon:"print",ref_key:"printButtonRef",ref:d,color:"green"},null,512),e(j,{label:"Transaksi Baru",icon:"edit",color:"primary"})]),t("div",Qf,[e(j,{label:"Kembali ke daftar transaksi",icon:"arrow_back"})])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},ko=_t(Jf,[["__scopeId","data-v-15f5d36e"]]),Gf=Object.freeze(Object.defineProperty({__proto__:null,default:ko},Symbol.toStringTag,{value:"Module"})),Xf={class:"q-gutter-sm"},Zf={class:"row items-center"},eg={class:"text-weight-bold"},tg={class:"row q-col-gutter-none full-width"},ag={class:"col-sm-6 col-12 col"},lg={class:"row full-width"},og={class:"text-grey q-mt-xs q-ml-sm"},ng={class:"col-sm-6 col-12"},sg={class:"row q-ml-sm items-end"},rg={class:"row col grow"},ig={class:"col-12 q-pa-sm column"},dg={class:"row items-start q-col-gutter-none q-px-sm",style:{"max-height":"80px"}},ug={key:0,class:"col"},mg={class:"text-caption text-grey-6 q-mt-xs"},cg={key:0,class:"text-caption text-grey-8 q-mt-xs"},pg={class:"text-italic"},fg={key:1,class:"col"},gg={class:"q-pa-sm q-pb-none text-grey-8"},bg={class:"col"},vg={class:"row no-wrap items-start justify-between",style:{background:"#eee",padding:"10px",border:"1px solid #ddd"}},_g={class:"text-h4 text-weight-bold"},yg={class:"row q-px-sm q-pb-none q-py-sm q-col-gutter-sm"},kg={class:"col q-py-sm"},wg={class:"q-py-sm"},hg={__name:"Editor",setup(u){const n=$e(),d=be(),o=V(!0),s=V(null),i=V(null),v=V(null),c=V(!1),m=V(null),g=V(null),{isFullscreen:f,toggleFullscreen:y}=_o(g),b=d.props.data.formatted_id,S=V(d.props.data.supplier),A=V(null),h=V(""),D=V(!1),R=V(!1),T=V(!1),B=V(!1),C=V(!1),w=V(!1),E=V(null),P=Pe({id:d.props.data.id,formatted_id:d.props.data.formatted_id,supplier_id:d.props.data.supplier_id,datetime:new Date(d.props.data.datetime),status:d.props.data.status,payment_status:d.props.data.payment_status,delivery_status:d.props.data.delivery_status,notes:d.props.data.notes,items:d.props.data.details??[]}),F=G(()=>P.items.reduce((ve,L)=>ve+L.cost*L.quantity,0)),M=()=>{var ve;y(),f.value||(ve=m==null?void 0:m.value)==null||ve.hideDrawer()},x=ve=>isNaN(ve)||ve<=0?(wt("Kuantitas tidak valid.","top"),!1):!0,z=ve=>isNaN(ve)||ve<0?(wt("Harga tidak valid.","top"),!1):!0,J=ve=>!ve||ve.length==0?(wt("Barcode tidak valid.","top"),!1):!0,O=ve=>{h.value.endsWith("*")?h.value+=ve.name:h.value=ve.name},U=async()=>{const ve=h.value.trim();if(ve.length===0){T.value=!0;return}const L=ve.split("*");let Y=1,pe="",de=null;if(L.length===1)pe=L[0];else if(L.length<=3)Y=parseInt(L[0]),pe=L[1],L.length===3&&(de=parseFloat(L[2]));else{wt("Input tidak valid.","top");return}if(pe.length===0){T.value=!0;return}!J(pe)&&!x(Y)&&!z(de)||(D.value=!0,await Ge.post(route("admin.purchase-order.add-item"),{order_id:P.id,product_code:pe,qty:Y,cost:de,merge:o.value}).then(fe=>{const He=fe.data.data.item;let nt=-1;fe.data.data.mergeItem&&(nt=P.items.findIndex(kt=>kt.id===He.id)),nt===-1?P.items.push(He):P.items[nt]=He,h.value="",de!==null&&de!==parseFloat(He.cost)&&wt("Harga tidak dapat diubah!","top")}).catch(fe=>{var He,nt;gt((nt=(He=fe.response)==null?void 0:He.data)==null?void 0:nt.message,"top"),console.error("Gagal mengambil data produk:",fe)}),D.value=!1,vt(()=>{var fe;(fe=s.value)==null||fe.focus()}))},Z=ve=>{E.value=Object.create(ve),B.value=!0},se=ve=>{n.dialog({title:"Hapus Item",message:`Apakah Anda yakin akan menghapus item ${ve.product_name}?`,cancel:{label:"Batal",color:"grey"},ok:{label:"Hapus",color:"negative"},persistent:!0}).onOk(()=>{D.value=!0,Ge.post(route("admin.purchase-order.remove-item"),{id:ve.id}).then(()=>{const L=P.items.findIndex(Y=>Y.id===ve.id);L!==-1&&(P.items.splice(L,1)[0],bt("Item telah dihapus","top"))}).catch(L=>{var Y,pe;gt(((pe=(Y=L==null?void 0:L.response)==null?void 0:Y.data)==null?void 0:pe.message)??"Terdapat kesalahan saat menghapus item!","top"),console.error(L)}).finally(()=>{D.value=!1})})},ne=()=>{D.value=!0;const ve=i.value.getCurrentItem(),L={id:ve.id,qty:ve.quantity,cost:ve.cost};ve.notes&&(L.notes=ve.notes),Ge.post(route("admin.purchase-order.update-item"),L).then(Y=>{const pe=Y.data.data,de=P.items.findIndex(fe=>fe.id===pe.id);de!==-1&&(P.items[de]=pe,bt("Item telah diperbarui","top"))}).catch(Y=>{var pe,de;gt(((de=(pe=Y==null?void 0:Y.response)==null?void 0:pe.data)==null?void 0:de.message)??"Terdapat kesalahan saat menyimpan!","top"),console.error(Y)}).finally(()=>{D.value=!1})};he(()=>{const ve=L=>{L.key==="F1"?(L.preventDefault(),c.value=!0):L.key==="F2"?(L.preventDefault(),s.value.focus()):L.key==="F3"?(L.preventDefault(),v.value.focus()):L.key==="F4"?(L.preventDefault(),o.value=!o.value):L.key==="F10"?(L.preventDefault(),R.value=!0):L.key==="F11"&&(L.preventDefault(),M())};document.addEventListener("keydown",ve),Rt(()=>{document.removeEventListener("keydown",ve)}),vt(()=>{var L;(L=m==null?void 0:m.value)==null||L.hideDrawer()})});const qe=ve=>{S.value=ve,P.supplier_id=ve==null?void 0:ve.id,ze(),vt(()=>{var L;(L=s.value)==null||L.focus()})},ze=()=>{D.value=!0;const ve={id:P.id,supplier_id:P.supplier_id,datetime:aa(P.datetime),notes:P.notes};Ge.post(route("admin.purchase-order.update"),ve).then(L=>{const Y=L.data.data.id;P.supplier_id=Y.supplier_id}).catch(L=>{var Y,pe;gt(((pe=(Y=L==null?void 0:L.response)==null?void 0:Y.data)==null?void 0:pe.message)??"Terdapat kesalahan saat menyimpan!","top"),console.error(L)}).finally(()=>{D.value=!1})},ft=ve=>{if(P.items.length===0){bt("Item masih kosong","top");return}const L={id:P.id,...ve};D.value=!0,Ge.post(route("admin.purchase-order.close"),L).then(Y=>{bt("Transaksi selesai"),ee.visit(route("admin.purchase-order.detail",{id:P.id}))}).catch(Y=>{var pe,de;gt((de=(pe=Y.response)==null?void 0:pe.data)==null?void 0:de.message),console.error(Y)}).finally(()=>{D.value=!1})},pt=()=>{Kt.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${P.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{Ge.post(route("admin.purchase-order.cancel",{id:P.id}),{id:P.id}).then(()=>{bt("Transaksi telah dibatalkan."),ee.visit(route("admin.purchase-order.detail",{id:P.id}))}).catch(ve=>{var Y,pe;const L=((pe=(Y=ve.response)==null?void 0:Y.data)==null?void 0:pe.message)||"Terjadi kesalahan saat membatalkan transaksi.";n.notify({message:L,color:"warning",position:"bottom"}),console.error(ve)})})},yt=()=>{window.open(route("admin.purchase-order.detail",{id:P.id})+"?preview=1","_blank")};return(ve,L)=>{const Y=Q("i-head"),pe=Q("authenticated-layout");return p(),$(K,null,[e(Y,{title:a(b)},null,8,["title"]),e(pe,{ref_key:"authLayoutRef",ref:m,"show-drawer-button":!0},{title:l(()=>[_(r(a(b)),1)]),"left-button":l(()=>[t("div",Xf,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:L[0]||(L[0]=de=>a(ee).get(ve.route("admin.purchase-order.index")))})])]),"right-button":l(()=>[t("div",Zf,[a(n).screen.gt.sm?(p(),$(K,{key:0},[t("div",eg,r(a(d).props.auth.user.username),1),L[22]||(L[22]=t("div",{class:"q-mx-sm"},"|",-1)),t("div",null,[e(bo)])],64)):k("",!0),k("",!0)])]),default:l(()=>[e(Ve,{class:"bg-grey-2 q-pa-none column fit"},{default:l(()=>[e(ce,{square:"",flat:"",class:"full-width col column q-pb-none"},{default:l(()=>[t("div",tg,[t("div",ag,[t("div",lg,[e(Rf,{ref_key:"supplierAutocompleteRef",ref:v,class:"custom-select full-width col col-12 bg-white q-pa-sm",modelValue:S.value,"onUpdate:modelValue":L[2]||(L[2]=de=>S.value=de),label:"Pemasok",disable:D.value,onSupplierSelected:qe,"min-length":1,outlined:"",autofocus:""},null,8,["modelValue","disable"]),t("div",og," Saldo: "+r(S.value?"Rp. "+a(W)(S.value?S.value.balance:0):"Tidak tersedia"),1)])]),t("div",ng,[e(oe,{ref_key:"userInputRef",ref:s,modelValue:h.value,"onUpdate:modelValue":L[5]||(L[5]=de=>h.value=de),onKeyup:L[6]||(L[6]=oa(X(de=>U(),["prevent"]),["enter"])),loading:D.value,disable:D.value,placeholder:"Qty * Kode / Barcode * Harga",class:"col col-12 q-pa-sm bg-white",outlined:"",clearable:""},{prepend:l(()=>[e(q,{name:"search",onClick:L[3]||(L[3]=de=>T.value=!0),class:"cursor-pointer"})]),append:l(()=>{var de;return[((de=h.value)==null?void 0:de.length)>0?(p(),I(q,{key:0,name:"send",onClick:L[4]||(L[4]=fe=>U()),class:"cursor-pointer q-ml-md"})):k("",!0)]}),_:1},8,["modelValue","loading","disable"]),t("div",sg,[e(Ct,{class:"col",modelValue:o.value,"onUpdate:modelValue":L[7]||(L[7]=de=>o.value=de),label:"Gabungkan item",disable:D.value},null,8,["modelValue","disable"])])])]),t("div",rg,[t("div",ig,[e(mo,{items:P.items,onUpdateQuantity:L[8]||(L[8]=({id:de,value:fe})=>ve.updateQuantity(de,fe)),onRemoveItem:se,onEditItem:Z,"is-processing":D.value},null,8,["items","is-processing"])])]),t("div",dg,[a(n).screen.gt.sm?(p(),$("div",ug,[t("div",mg,r(P.items.length)+" item(s) ",1),P.notes?(p(),$("div",cg,[L[23]||(L[23]=t("div",{class:"text-bold"},"Catatan:",-1)),t("div",pg,[e(we,{text:P.notes},null,8,["text"])])])):k("",!0)])):k("",!0),a(n).screen.gt.sm?(p(),$("div",fg,[t("div",gg,[t("div",null,"#: "+r(P.formatted_id),1),t("div",null,r(a(ge)(P.datetime)),1)])])):k("",!0),t("div",bg,[t("div",vg,[L[25]||(L[25]=t("span",{class:"text-grey-8 text-subtitle-2 text-bold"},"TOTAL",-1)),t("span",_g,[L[24]||(L[24]=t("sup",{style:{"font-size":"13px"}},"Rp.",-1)),_(" "+r(a(W)(F.value)),1)])])])]),t("div",yg,[t("div",kg,[e(j,{class:"full-width q-py-none",label:"Bayar",color:"primary",icon:"payment",onClick:L[9]||(L[9]=de=>R.value=!0),disable:!ve.$can("admin.purchase-order.close")||D.value||P.items.length===0||P.status!=="draft",loading:D.value},null,8,["disable","loading"])]),t("div",wg,[e(j,{class:"q-py-none",icon:"more_vert",color:"grey",onClick:L[13]||(L[13]=X(()=>{},["stop"])),style:{width:"10px"}},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[te((p(),I(le,{clickable:"",onClick:L[10]||(L[10]=X(de=>C.value=!0,["stop"]))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"edit"})]),_:1}),e(N,null,{default:l(()=>L[26]||(L[26]=[_("Edit Rincian")])),_:1})]),_:1})),[[re],[me]]),te((p(),I(le,{clickable:"",onClick:L[11]||(L[11]=X(de=>yt(),["stop"]))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"preview"})]),_:1}),e(N,null,{default:l(()=>L[27]||(L[27]=[_("Pratinjau")])),_:1})]),_:1})),[[re],[me]]),te((p(),I(le,{clickable:"",onClick:L[12]||(L[12]=X(de=>pt(),["stop"]))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"cancel",color:"negative"})]),_:1}),e(N,{class:"text-negative"},{default:l(()=>L[28]||(L[28]=[_(" Batalkan ")])),_:1})]),_:1})),[[re],[me]]),e(et)]),_:1})]),_:1})]),_:1})])])]),_:1}),e(go,{ref_key:"itemEditorRef",ref:i,modelValue:B.value,"onUpdate:modelValue":L[14]||(L[14]=de=>B.value=de),item:E.value,onSave:L[15]||(L[15]=de=>ne()),"is-processing":D.value},null,8,["modelValue","item","is-processing"]),e(po,{modelValue:R.value,"onUpdate:modelValue":L[16]||(L[16]=de=>R.value=de),onAccepted:ft,form:P,supplier:S.value,total:F.value,accounts:a(d).props.accounts},null,8,["modelValue","form","supplier","total","accounts"]),e(fo,{modelValue:T.value,"onUpdate:modelValue":L[17]||(L[17]=de=>T.value=de),"show-cost":!0,onProductSelected:O},null,8,["modelValue"]),e(yo,{modelValue:C.value,"onUpdate:modelValue":L[18]||(L[18]=de=>C.value=de),data:P,onSave:L[19]||(L[19]=de=>ze()),"is-processing":D.value},null,8,["modelValue","data","is-processing"]),e(vo,{modelValue:c.value,"onUpdate:modelValue":L[20]||(L[20]=de=>c.value=de)},null,8,["modelValue"]),e(ko,{modelValue:w.value,"onUpdate:modelValue":L[21]||(L[21]=de=>w.value=de),order:P,supplier:S.value,total:F.value,payment:A.value},null,8,["modelValue","order","supplier","total","payment"])]),_:1})]),_:1},512)],64)}}},$g=Object.freeze(Object.defineProperty({__proto__:null,default:hg},Symbol.toStringTag,{value:"Module"})),xg={__name:"PurchaseOrderStatusChip",props:{status:{type:String,required:!0}},setup(u){const n=window.CONSTANTS.PURCHASE_ORDER_STATUSES,d={draft:"orange",closed:"green",canceled:"red"};return(o,s)=>(p(),I(da,{status:u.status,statuses:a(n),colors:d},null,8,["status","statuses"]))}},Sg={__name:"PurchaseOrderPaymentStatusChip",props:{status:{type:String,required:!0}},setup(u){const n=window.CONSTANTS.PURCHASE_ORDER_PAYMENT_STATUSES,d={unpaid:"red",fully_paid:"green",partially_paid:"orange",refunded:"black"};return(o,s)=>(p(),I(da,{status:u.status,statuses:a(n),colors:d},null,8,["status","statuses"]))}};const Vg={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},qg={class:"q-pa-xs"},Cg={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Tg={key:0},Pg={key:1},Og={key:0},Rg={key:0},Ig={key:1},Dg={class:"flex justify-end"},gl="Pembelian",Ug={__name:"Index",setup(u){const n=$e(),d=V(!1),o=V([]),s=V(!0),i=V(null),v=V(null),c=We(v),m=zt(),g=Ft(),f=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...Pt(m-2,m-1).reverse()],y=[{value:"all",label:"Semua Bulan"},...Ot()],b=[{value:"all",label:"Semua Status"},...lt(window.CONSTANTS.PURCHASE_ORDER_STATUSES)],S=[{value:"all",label:"Semua Status"},...lt(window.CONSTANTS.PURCHASE_ORDER_PAYMENT_STATUSES)],A=[{value:"all",label:"Semua Status"},...lt(window.CONSTANTS.PURCHASE_ORDER_DELIVERY_STATUSES)],h=Pe({search:"",year:m,month:g,status:"all",payment_status:"all",delivery_status:"all",...Re()}),D=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),R=[{name:"id",label:"Info Order",field:"id",align:"left",sortable:!0},{name:"supplier_id",label:"Pemasok",field:"supplier_id",align:"left"},{name:"total",label:"Total",field:"total",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}];he(()=>{P()});const T=x=>{if(x.status=="draft"){B(x);return}C(x)},B=x=>{ee.get(route("admin.purchase-order.edit",x.id))},C=x=>{ee.get(route("admin.purchase-order.detail",x.id))},w=x=>{Kt.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${x.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{Ge.post(route("admin.purchase-order.cancel",{id:x.id}),{id:x.id}).then(z=>{const J=z.data.data,O=o.value.findIndex(U=>U.id===J.id);if(O===-1){console.warn("Item tidak ditemukan di tabel.");return}o.value[O].status="canceled",n.notify({message:z.data.message,position:"bottom"})}).catch(z=>{var O,U;const J=((U=(O=z.response)==null?void 0:O.data)==null?void 0:U.message)||"Terjadi kesalahan saat membatalkan transaksi.";n.notify({message:J,color:"warning",position:"bottom"}),console.error(z)})})},E=x=>ot({title:"Konfirmasi Penghapusan",message:`Hapus transaksi #${x.formatted_id}?`,url:route("admin.purchase-order.delete",x.id),fetchItemsCallback:P,loading:s}),P=(x=null)=>{Ie({pagination:D,filter:h,props:x,rows:o,url:route("admin.purchase-order.data"),loading:s,tableRef:i})},F=()=>{P()},M=G(()=>n.screen.gt.sm?R:R.filter(x=>x.name==="id"||x.name==="action"));return je(()=>h.year,x=>{x===null&&(h.month=null)}),(x,z)=>{const J=Q("i-head"),O=Q("authenticated-layout");return p(),$(K,null,[e(J,{title:gl}),e(O,null,Le({title:l(()=>[_(r(gl))]),"right-button":l(()=>[e(j,{icon:d.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:z[0]||(z[0]=U=>d.value=!d.value)},null,8,["icon"]),x.$can("admin.purchase-order.edit")?(p(),I(j,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:z[1]||(z[1]=U=>a(ee).get(x.route("admin.purchase-order.add")))})):k("",!0)]),default:l(()=>[t("div",qg,[e(Te,{ref_key:"tableRef",ref:i,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id",pagination:D.value,"onUpdate:pagination":z[11]||(z[11]=U=>D.value=U),filter:h.search,loading:s.value,columns:M.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Be({height:a(c)}),onRequest:P,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:U,message:Z,filter:se})=>[t("div",Cg,[t("span",null,r(Z)+" "+r(se?" with term "+se:""),1)])]),body:l(U=>[e(Ce,{props:U,class:"cursor-pointer",onClick:X(Z=>T(U.row),["prevent"])},{default:l(()=>[e(H,{key:"id",props:U,class:"wrap-column"},{default:l(()=>[t("div",null,[e(q,{name:"tag"}),_(" "+r(U.row.formatted_id),1)]),t("div",null,[e(q,{class:"inline-icon",name:"calendar_today"}),_(r(a(ge)(U.row.datetime)),1)]),a(n).screen.gt.sm?k("",!0):(p(),$(K,{key:0},[U.row.supplier?(p(),$("div",Tg,[e(q,{name:"person",class:"inline-icon"}),e(Bl,{href:x.route("admin.supplier.detail",{id:U.row.supplier.id}),onClick:z[8]||(z[8]=X(()=>{},["stop"]))},{default:l(()=>[_(" "+r(U.row.supplier.name),1)]),_:2},1032,["href"])])):k("",!0),t("div",null,"Rp. "+r(a(W)(U.row.grand_total)),1),U.row.notes?(p(),$("div",Pg,[e(q,{name:"notes"}),_(" "+r(U.row.notes),1)])):k("",!0)],64)),t("div",null,[e(xg,{status:U.row.status},null,8,["status"]),e(Sg,{status:U.row.payment_status},null,8,["status"]),k("",!0)])]),_:2},1032,["props"]),e(H,{key:"supplier_id",props:U},{default:l(()=>[U.row.supplier?(p(),$("div",Og,[t("div",null,[e(q,{name:"person",class:"inline-icon"}),_(" "+r(U.row.supplier_name),1)]),U.row.supplier_phone?(p(),$("div",Rg,[e(q,{name:"phone",class:"inline-icon"}),_(" "+r(U.row.supplier_phone),1)])):k("",!0),U.row.supplier_address?(p(),$("div",Ig,[e(q,{name:"home_pin",class:"inline-icon"}),_(" "+r(U.row.supplier_address),1)])):k("",!0)])):k("",!0)]),_:2},1032,["props"]),e(H,{key:"total",props:U},{default:l(()=>[_(r(a(W)(U.row.grand_total)),1)]),_:2},1032,["props"]),e(H,{key:"notes",props:U},{default:l(()=>[e(we,{text:U.row.notes,icon:"notes"},null,8,["text"])]),_:2},1032,["props"]),e(H,{key:"action",props:U,onClick:z[10]||(z[10]=X(()=>{},["stop"]))},{default:l(()=>[t("div",Dg,[x.$can("admin.purchase-order.detail")||x.$can("admin.purchase-order.edit")||x.$can("admin.purchase-order.cancel")||x.$can("admin.purchase-order.delete")?(p(),I(j,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:z[9]||(z[9]=X(()=>{},["stop"]))},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[U.row.status!="draft"&&x.$can("admin.purchase-order.detail")?te((p(),I(le,{key:0,onClick:X(Z=>C(U.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"visibility"})]),_:1}),e(N,null,{default:l(()=>z[12]||(z[12]=[_(" Lihat ")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),U.row.status=="draft"&&x.$can("admin.purchase-order.edit")?te((p(),I(le,{key:1,onClick:X(Z=>B(U.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"edit"})]),_:1}),e(N,null,{default:l(()=>z[13]||(z[13]=[_(" Edit ")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),U.row.status=="draft"&&x.$can("admin.purchase-order.cancel")?te((p(),I(le,{key:2,onClick:X(Z=>w(U.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"cancel"})]),_:1}),e(N,null,{default:l(()=>z[14]||(z[14]=[_(" Batalkan ")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),e(et),x.$can("admin.purchase-order.delete")?te((p(),I(le,{key:3,onClick:X(Z=>E(U.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>z[15]||(z[15]=[_(" Hapus ")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[d.value?{name:"header",fn:l(()=>[e(at,{class:"filter-bar",ref_key:"filterToolbarRef",ref:v},{default:l(()=>[t("div",Vg,[e(ie,{modelValue:h.year,"onUpdate:modelValue":[z[2]||(z[2]=U=>h.year=U),F],options:f,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),h.year!="all"?(p(),I(ie,{key:0,modelValue:h.month,"onUpdate:modelValue":[z[3]||(z[3]=U=>h.month=U),F],options:y,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:h.year===null},null,8,["modelValue","disable"])):k("",!0),e(ie,{modelValue:h.status,"onUpdate:modelValue":[z[4]||(z[4]=U=>h.status=U),F],options:b,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(ie,{modelValue:h.payment_status,"onUpdate:modelValue":[z[5]||(z[5]=U=>h.payment_status=U),F],options:S,label:"Status Pembayaran",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),k("",!0),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:h.search,"onUpdate:modelValue":z[7]||(z[7]=U=>h.search=U),placeholder:"Cari",clearable:""},{append:l(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Ag=Object.freeze(Object.defineProperty({__proto__:null,default:Ug},Symbol.toStringTag,{value:"Module"})),jg={class:"column"},Eg={class:"bg-grey-2 q-pa-xs"},Mg={class:"text-subtitle1 text-bold text-grey-10"},Ng={class:"text-caption text-grey-8"},Bg={class:"col-12 col-sm-6"},zg={class:"full-width"},Fg={key:1},Lg={key:0},Hg={key:1},Kg={class:"col-12 col-sm-6",align:"left"},Yg={class:"full-width"};const Wg={key:1},Qg={class:"full-width",style:{"border-collapse":"collapse"}},Jg={class:"q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Gg={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Xg={class:"text-center q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Zg={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},e1={key:0},t1={class:"col-12 col-sm-6"},a1={class:"text-body2 text-grey-7 text-italic"},l1={class:"col-12 col-sm-6"},o1={class:"row justify-end q-gutter-y-xs"},n1={class:"col-12 row justify-between"},s1={class:"text-subtitle2 text-bold"},wo={__name:"InvoiceTab",props:{data:Object},setup(u){const n=u;return(d,o)=>{const s=Q("i-link");return p(),$("div",jg,[e(ae,{class:"q-pa-none"},{default:l(()=>[t("div",Eg,[t("div",Mg," INVOICE #"+r(n.data.formatted_id),1),t("div",Ng,[_(" Kasir: "+r(n.data.cashier.username)+" - "+r(n.data.cashier.name)+" | "+r(a(ge)(n.data.datetime))+" ",1),n.data.cashier_session?(p(),$(K,{key:0},[_(" | Session ID: "+r(n.data.cashier_session.id)+" | Terminal: "+r(n.data.cashier_session.cashier_terminal.name),1)],64)):k("",!0)])])]),_:1}),e(et),e(ae,{class:"row q-col-gutter-sm q-pa-sm",align:"left"},{default:l(()=>[t("div",Bg,[o[1]||(o[1]=t("div",{class:"text-subtitle2 text-bold text-grey-8"},"Info Pelanggan",-1)),t("table",zg,[t("tbody",null,[t("tr",null,[t("td",null,[n.data.customer?(p(),I(s,{key:0,href:d.route("admin.customer.detail",{id:n.data.customer_id})},{default:l(()=>[e(q,{class:"inline-icon",name:"person"}),_(" "+r(n.data.customer_name)+" ("+r(n.data.customer_code)+") ",1)]),_:1},8,["href"])):(p(),$("div",Fg,[e(q,{class:"inline-icon",name:"person"}),o[0]||(o[0]=_(" Pelanggan Umum "))]))])]),n.data.customer_phone?(p(),$("tr",Lg,[t("td",null,[e(q,{class:"inline-icon",name:"phone"}),_(" "+r(n.data.customer_phone),1)])])):k("",!0),n.data.customer_address?(p(),$("tr",Hg,[t("td",null,[e(q,{class:"inline-icon",name:"home_pin"}),_(" "+r(n.data.customer_address),1)])])):k("",!0)])])]),t("div",Kg,[o[12]||(o[12]=t("div",{class:"text-subtitle2 text-bold text-grey-8"},"Info Order",-1)),t("table",Yg,[t("tbody",null,[t("tr",null,[o[2]||(o[2]=t("td",{class:"text-grey-7",style:{width:"130px"}},"Waktu",-1)),o[3]||(o[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(ge)(n.data.datetime)),1)]),t("tr",null,[o[4]||(o[4]=t("td",{class:"text-grey-7"},"Status Order",-1)),o[5]||(o[5]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(d.$CONSTANTS.SALES_ORDER_STATUSES[n.data.status]),1)]),t("tr",null,[o[6]||(o[6]=t("td",{class:"text-grey-7"},"Status Pembayaran",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,r(d.$CONSTANTS.SALES_ORDER_PAYMENT_STATUSES[n.data.payment_status]),1)]),k("",!0),n.data.due_date?(p(),$("tr",Wg,[o[10]||(o[10]=t("td",{class:"text-grey-7"},"Jatuh Tempo",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,r(a(Jt)(n.data.due_date)),1)])):k("",!0)])])])]),_:1}),e(et),e(ae,{class:"q-pa-sm"},{default:l(()=>[t("table",Qg,[o[14]||(o[14]=t("thead",{class:"text-grey-8"},[t("tr",null,[t("th",{class:"text-left q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Item "),t("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Harga (Rp) "),t("th",{class:"text-center q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Jumlah "),t("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Total (Rp) ")])],-1)),t("tbody",null,[(p(!0),$(K,null,Ke(n.data.details,i=>(p(),$("tr",{key:i.id},[t("td",Jg,r(i.product_name),1),t("td",Gg,r(a(W)(i.price)),1),t("td",Xg,r(i.quantity),1),t("td",Zg,r(a(W)(i.subtotal_price)),1)]))),128)),n.data.details.length==0?(p(),$("tr",e1,o[13]||(o[13]=[t("td",{colspan:"4",class:"text-center text-grey"},"Belum ada item",-1)]))):k("",!0)])])]),_:1}),e(et),e(ae,{class:"row",align:"left"},{default:l(()=>[t("div",t1,[o[15]||(o[15]=t("div",{class:"text-subtitle2 text-bold text-grey-8 q-mb-xs"},"Catatan:",-1)),t("div",a1,r(n.data.notes?n.data.notes:"-"),1)]),t("div",l1,[t("div",o1,[t("div",n1,[o[16]||(o[16]=t("div",{class:"text-subtitle2 text-grey-7"},"Grand Total (Rp)",-1)),t("div",s1,r(a(W)(n.data.grand_total)),1)])])])]),_:1})])}}},r1=Object.freeze(Object.defineProperty({__proto__:null,default:wo},Symbol.toStringTag,{value:"Module"})),i1={key:0,class:"text-center q-mb-md text-grey-8"},d1={class:"text-subtitle2 text-weight-medium"},u1={class:"text-h5 text-center text-primary q-pb-md"},m1={class:"text-center q-mt-md"},c1={key:0,class:"text-h6 text-negative text-weight-bold"},p1={key:1,class:"text-h6 text-green-8 text-weight-bold"},f1={key:2,class:"text-h6 text-positive text-weight-bold"},ho={__name:"PaymentDialog",props:{modelValue:{type:Boolean,required:!0},total:{type:Number,required:!0}},emits:["update:modelValue","accepted"],setup(u,{emit:n}){const d=u,o=n,s=be(),i=V(!1),v=V({method:"cash",amount:d.total,notes:null}),c=s.props.data.customer,m=G(()=>[{label:"Tunai",value:"cash"},...c?[{label:"Wallet",value:"wallet"}]:[],...s.props.accounts.map(A=>({label:A.name,value:A.id}))]),g=G(()=>d.total-(v.value.amount||0)),f=G(()=>{const A=v.value.amount||0;return d.total,A<=0?"Jumlah pembayaran harus lebih dari 0.":v.value.method==="wallet"&&c&&A>c.wallet_balance?"Saldo wallet tidak mencukupi.":null}),y=G(()=>f.value===null),b=()=>{if(!y.value)return;i.value=!0;const A={total_paid:v.value.amount,payments:[{id:v.value.method,amount:v.value.amount}],notes:v.value.notes,change:Math.max(0,(v.value.amount||0)-d.total),remaining_debt:Math.max(0,d.total-(v.value.amount||0))};o("accepted",A),i.value=!1},S=()=>{v.value.amount=d.total,v.value.method="cash",v.value.notes=null};return(A,h)=>(p(),I(ct,{"model-value":u.modelValue,"onUpdate:modelValue":h[4]||(h[4]=D=>A.$emit("update:modelValue",D)),onBeforeShow:S},{default:l(()=>[e(ce,{style:{"min-width":"300px"}},{default:l(()=>[e(ae,null,{default:l(()=>h[5]||(h[5]=[t("div",{class:"text-subtitle1 text-bold text-center"}," Rincian Pembayaran ",-1)])),_:1}),e(ae,{class:"q-pt-none"},{default:l(()=>[a(c)?(p(),$("div",i1,[t("div",d1,[_(r(a(c).code)+" ",1),h[6]||(h[6]=t("br",null,null,-1)),_(" "+r(a(c).name)+" ",1),h[7]||(h[7]=t("br",null,null,-1)),_(" Saldo: Rp. "+r(a(W)(a(c).wallet_balance)),1)])])):k("",!0),t("div",u1," Total: Rp. "+r(a(W)(u.total)),1),e(a(ie),{modelValue:v.value.method,"onUpdate:modelValue":h[0]||(h[0]=D=>v.value.method=D),options:m.value,label:"Metode Pembayaran",outlined:!0,"emit-value":"","map-options":"",dense:"",class:"q-mb-md",disable:i.value},null,8,["modelValue","options","disable"]),e(Ae,{modelValue:v.value.amount,"onUpdate:modelValue":h[1]||(h[1]=D=>v.value.amount=D),label:"Jumlah Uang",outlined:!0,dense:"",disable:i.value,class:"q-mb-md",error:!y.value,"error-message":f.value},null,8,["modelValue","disable","error","error-message"]),e(oe,{modelValue:v.value.notes,"onUpdate:modelValue":h[2]||(h[2]=D=>v.value.notes=D),label:"Catatan",outlined:!0,type:"textarea",rows:"2",disable:i.value,class:"q-mb-md"},null,8,["modelValue","disable"]),t("div",m1,[g.value>0?(p(),$("div",c1," Sisa Tagihan: Rp. "+r(a(W)(g.value)),1)):g.value<0?(p(),$("div",p1," Kembalian: Rp. "+r(a(W)(Math.abs(g.value))),1)):(p(),$("div",f1," Tagihan Terbayar "))])]),_:1}),e(mt,{align:"center",class:"q-mb-sm"},{default:l(()=>[e(j,{flat:"",label:"Batal",color:"grey",onClick:h[3]||(h[3]=D=>A.$emit("update:modelValue",!1))}),e(j,{label:"Bayar",color:"positive",onClick:b,disable:i.value||!y.value,loading:i.value},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},g1=Object.freeze(Object.defineProperty({__proto__:null,default:ho},Symbol.toStringTag,{value:"Module"})),b1={class:"column"},v1={class:"full-width",style:{"border-collapse":"collapse"}},_1={class:"q-pa-sm",style:{"border-bottom":"1px solid #eee"}},y1={class:"row items-center q-gutter-x-sm"},k1={class:"text-weight-bold"},w1={class:"row items-center q-gutter-x-sm q-mt-xs"},h1={class:"text-caption text-grey-6"},$1={key:0,class:"row items-center q-gutter-x-sm q-mt-xs"},x1={class:"text-caption text-grey-6"},S1={class:"q-mt-xs"},V1={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},q1={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},C1={key:0},T1={class:"q-pa-sm"},P1={class:"text-right q-pa-sm"},O1={class:"text-right q-pa-sm"},$o={__name:"PaymentTab",props:{data:Object},setup(u){const n=u,d=G(()=>n.data.grand_total-n.data.total_paid),o=$e(),s=V(!1),i=()=>{s.value=!0},v=async m=>{const g={order_id:n.data.id,payments:m.payments,notes:m.notes};o.loading.show({message:"Memproses pembayaran..."});try{const f=await Ge.post(route("admin.sales-order.add-payment"),g);o.notify({message:"Pembayaran berhasil diproses!",color:"positive",icon:"check_circle"}),s.value=!1,ee.visit(route("admin.sales-order.detail",{id:n.data.id})+"?tab=payment")}catch(f){let y="Gagal memproses pembayaran.";f.response&&f.response.data&&f.response.data.message?y=f.response.data.message:f.message&&(y=f.message),o.notify({message:y,color:"negative",icon:"error"})}finally{o.loading.hide()}},c=m=>{o.dialog({title:"Konfirmasi",message:"Apakah Anda yakin ingin menghapus pembayaran ini?",cancel:!0,persistent:!0}).onOk(async()=>{o.loading.show({message:"Menghapus pembayaran..."});try{await Ge.post(route("admin.sales-order.delete-payment",{id:m.id})),o.notify({message:"Pembayaran berhasil dihapus!",color:"positive",icon:"check_circle"}),ee.visit(route("admin.sales-order.detail",{id:n.data.id})+"?tab=payment")}catch(g){let f="Gagal menghapus pembayaran.";g.response&&g.response.data&&g.response.data.message?f=g.response.data.message:g.message&&(f=g.message),o.notify({message:f,color:"negative",icon:"error"})}finally{o.loading.hide()}})};return(m,g)=>(p(),$(K,null,[t("div",b1,[e(et),e(ae,{class:"q-pa-sm"},{default:l(()=>[t("table",v1,[g[6]||(g[6]=t("thead",{class:"text-grey-8"},[t("tr",null,[t("th",{class:"text-left q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Detail Transaksi "),t("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Jumlah (Rp) "),t("th",{class:"text-center q-pa-sm",style:{"border-bottom":"2px solid #ddd"}})])],-1)),t("tbody",null,[(p(!0),$(K,null,Ke(n.data.payments,f=>(p(),$("tr",{key:f.id},[t("td",_1,[t("div",y1,[e(q,{name:"tag",size:"xs",color:"grey-7"}),t("span",k1,r(f.formatted_id),1)]),t("div",w1,[e(q,{name:"calendar_today",size:"xs",color:"grey-7"}),t("span",h1,r(a(ge)(f.created_at)),1)]),(f.type==="transfer"||f.type==="cash")&&f.account?(p(),$("div",$1,[e(q,{name:"wallet",size:"xs",color:"grey-7"}),t("span",x1,r(f.account.name),1)])):k("",!0),t("div",S1,[e(dt,{label:m.$CONSTANTS.SALES_ORDER_PAYMENT_TYPES[f.type],color:"secondary",class:"q-py-xs"},null,8,["label"])])]),t("td",V1,r(a(W)(f.amount)),1),t("td",q1,[m.$can("admin.sales-order.delete-payment")?(p(),I(j,{key:0,icon:"delete",color:"negative",dense:"",flat:"",rounded:"",size:"sm",onClick:y=>c(f)},null,8,["onClick"])):k("",!0)])]))),128)),n.data.payments.length==0?(p(),$("tr",C1,g[2]||(g[2]=[t("td",{colspan:"100%",class:"text-center text-grey"},"Belum ada item",-1)]))):k("",!0)]),t("tfoot",null,[t("tr",null,[t("td",T1,[m.$can("admin.sales-order.add-payment")&&d.value>0?(p(),I(j,{key:0,label:"Tambah",color:"primary",icon:"add",dense:"",class:"custom-dense",size:"sm",onClick:g[0]||(g[0]=X(f=>i(),["stop"]))})):k("",!0)]),g[3]||(g[3]=t("th",{class:"text-right q-pa-sm",colspan:"1"},"Total Dibayar",-1)),t("th",P1,r(a(W)(n.data.total_paid)),1)]),t("tr",null,[g[4]||(g[4]=t("th",{class:"text-right q-pa-sm",colspan:"2"},"Sisa Tagihan",-1)),t("th",O1,r(a(W)(d.value)),1),g[5]||(g[5]=t("td",null,null,-1))])])])]),_:1})]),e(ho,{modelValue:s.value,"onUpdate:modelValue":g[1]||(g[1]=f=>s.value=f),total:d.value,customer:n.data.customer,onAccepted:v},null,8,["modelValue","total","customer"])],64))}},R1=Object.freeze(Object.defineProperty({__proto__:null,default:$o},Symbol.toStringTag,{value:"Module"})),I1={class:"q-gutter-sm"},D1={class:"col col-lg-6 q-pa-xs",align:"center"},bl="Rincian Penjualan",U1={__name:"Detail",setup(u){const n=new URLSearchParams(window.location.search),d=be(),o=d.props.data,s=V(n.get("preview")||!1),v=V(n.get("tab")||"invoice");he(()=>{vt(()=>{const m=n.get("print_size");m&&c(m)})});const c=m=>{window.open(route("admin.sales-order.print",{id:d.props.data.id,size:m}),"_self")};return(m,g)=>{const f=Q("i-head"),y=Q("authenticated-layout");return p(),$(K,null,[e(f,{title:bl}),e(y,{"show-drawer-button":!0},{title:l(()=>[t("div",{class:"row items-center q-gutter-x-sm"},[t("span",null,r(bl))])]),"left-button":l(()=>[t("div",I1,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:g[0]||(g[0]=b=>m.$goBack())})])]),"right-button":l(()=>[e(j,{icon:"receipt",dense:"",color:"primary",flat:"",rounded:"",onClick:g[1]||(g[1]=b=>c("58mm"))}),e(j,{icon:"print",dense:"",color:"primary",flat:"",rounded:"",onClick:g[2]||(g[2]=b=>c("a4"))}),s.value?k("",!0):(p(),I(j,{key:0,class:"q-ml-sm",icon:"add",dense:"",color:"primary",rounded:"",onClick:g[3]||(g[3]=b=>a(ee).get(m.route("admin.sales-order.add")))}))]),default:l(()=>[e(Ve,{class:"row justify-center print-visible"},{default:l(()=>[t("div",D1,[e(ce,{square:"",flat:"",bordered:"",class:"full-width",style:{"max-width":"1024px"}},{default:l(()=>[e(It,{modelValue:v.value,"onUpdate:modelValue":g[4]||(g[4]=b=>v.value=b),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(Xe,{name:"invoice",label:"Invoice"}),s.value?k("",!0):(p(),I(Xe,{key:0,name:"payment",label:"Pembayaran"}))]),_:1},8,["modelValue"]),e(et),e(Dt,{modelValue:v.value,"onUpdate:modelValue":g[5]||(g[5]=b=>v.value=b),animated:""},{default:l(()=>[e(Ze,{name:"invoice",class:"q-pa-none"},{default:l(()=>[e(wo,{data:a(o)},null,8,["data"])]),_:1}),e(Ze,{name:"payment",class:"q-pa-none"},{default:l(()=>[e($o,{data:a(o)},null,8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),_:1})]),_:1})],64)}}},A1=Object.freeze(Object.defineProperty({__proto__:null,default:U1},Symbol.toStringTag,{value:"Module"})),j1={class:"text-weight-medium"},E1={class:"text-caption text-grey-6 elipsis"},M1={class:"column items-end"},N1={class:"text-caption text-grey-6 text-italic"},xo={__name:"ItemsListTable",props:{items:{type:Array,required:!0},isProcessing:{type:Boolean,default:!1}},emits:["update-quantity","remove-item","edit-item"],setup(u){const n=$e(),d=We(null,n.screen.lt.sm?395:310),o=[{name:"name",required:!0,label:"Item",align:"left",field:"name",sortable:!1},{name:"subtotal_price",label:"Sub Total (Rp.)",align:"right",sortable:!1},{name:"action",label:"",align:"right",sortable:!1}];return(s,i)=>(p(),I(Te,{dense:"",rows:u.items,columns:o,"row-key":"id",flat:"",square:"",bordered:"",class:"full-height-table","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item",style:Be({height:a(d)})},{header:l(v=>[e(Ce,{props:v,class:"bg-grey-4"},{default:l(()=>[(p(!0),$(K,null,Ke(v.cols,c=>(p(),I(la,{key:c.name,props:v,class:"text-weight-bold text-grey-8"},{default:l(()=>[_(r(c.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(v=>[e(Ce,{props:v,class:"hover-highlight"},{default:l(()=>[e(H,{key:"name",props:v,class:"text-left wrap-column"},{default:l(()=>[t("div",j1,r(v.row.product_name),1),t("div",E1,r(v.row.product_barcode),1),v.row.notes?(p(),I(we,{key:0,text:v.row.notes,icon:"notes",class:"text-grey-6"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(H,{key:"subtotal_price",props:v,class:"text-right"},{default:l(()=>[t("div",M1,[t("div",null,r(a(W)(v.row.subtotal_price)),1),t("div",N1,r(a(W)(v.row.quantity))+" x Rp. "+r(a(W)(v.row.price)),1)])]),_:2},1032,["props"]),e(H,{key:"action",props:v,class:"text-right",style:{width:"5%"}},{default:l(()=>[e(j,{icon:"edit",color:"grey",flat:"",round:"",size:"sm",onClick:c=>s.$emit("edit-item",v.row),disable:u.isProcessing},null,8,["onClick","disable"]),e(j,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:c=>s.$emit("remove-item",v.row),disable:u.isProcessing},null,8,["onClick","disable"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","style"]))}},B1=Object.freeze(Object.defineProperty({__proto__:null,default:xo},Symbol.toStringTag,{value:"Module"})),z1={key:0,class:"text-center q-mb-md text-grey-8"},F1={class:"text-subtitle2 text-weight-medium"},L1={class:"text-h5 text-center text-primary q-pb-md"},H1={class:"q-mb-md flex flex-center"},K1={key:1},Y1={class:"col-6"},W1={class:"col-6"},Q1={class:"row"},J1={class:"text-center q-mt-md"},G1={key:0,class:"text-h6 text-negative text-weight-bold"},X1={key:1,class:"text-h6 text-green-8 text-weight-bold"},Z1={key:2,class:"text-h6 text-positive text-weight-bold"},eb={key:2},tb={class:"text-h6 text-negative text-center"},ab={key:3},So={__name:"PaymentDialog",props:{modelValue:{type:Boolean,required:!0},form:{type:Object,required:!0},customer:{type:Object,required:!1},total:{type:Number,required:!0}},emits:["update:modelValue","accepted"],setup(u,{emit:n}){const d=u,o=n,s=be(),i=V(!1),v=V("cash"),c=V(new Date),m=V(s.props.settings.after_payment_action??"print"),g=V([]),f=V([]),y=Pe([{id:"cash",amount:0}]),b=s.props.settings.default_payment_mode,S=[{value:"print",label:"Cetak"},{value:"detail",label:"Rincian"},{value:"new-order",label:"Penjualan Baru"}],A=G(()=>[{label:"Tunai",value:"cash"},...d.customer?[{label:"Wallet",value:"wallet"}]:[],...s.props.accounts.map(J=>({label:J.name,value:J.id}))]),h=G(()=>y.reduce((J,O)=>J+(O.amount||0),0)),D=G(()=>d.total-h.value),R=G(()=>{if(!d.customer)return!0;const J=y.find(U=>U.id==="wallet");return(J?J.amount:0)<=d.customer.wallet_balance}),T=new Date,B=st.addToDate(new Date,{days:30}),C=G(()=>[J=>!!J||"Tanggal jatuh tempo harus diisi",J=>st.isBetweenDates(J,T,B,{inclusiveFrom:!0,inclusiveTo:!0})?!0:"Tanggal tidak boleh kurang dari hari ini dan lebih dari 30 hari dari sekarang."]),w=G(()=>{if(v.value==="debt")return!!d.customer&&C.value.every(se=>se(c.value)===!0);const J=R.value,O=y.some(se=>(se.amount||0)>0),U=y.every(se=>(se.amount||0)>=0),Z=D.value<=0;return J&&O&&U&&Z}),E=()=>{if(y.length<3){const J=y.length;y.push({id:"cash",amount:0}),vt(()=>{const O=g.value[J];O&&(O.focus(),O.showPopup())})}},P=J=>{if(y.length>1){const O=y.findIndex(U=>U.id===J);O!==-1&&y.splice(O,1)}},F=(J,O="cash")=>{v.value=J,c.value=new Date,y.splice(0,y.length),J==="cash"&&(y.splice(0,y.length,{id:O,amount:d.total}),vt(()=>{f.value.length>0&&f.value[0]&&(f.value[0].focus(),f.value[0].select())}))},M=()=>{if(!w.value)return;i.value=!0;let J={total:d.total,is_debt:v.value==="debt",after_payment_action:m.value};if(v.value==="debt")J.due_date=st.formatDate(c.value,"YYYY-MM-DD"),J.payments=[];else{const O=h.value,U=O>d.total?O-d.total:0,Z=D.value>0?D.value:0;J.payments=y,J.remaining_debt=Z,J.change=U}o("accepted",J),i.value=!1},x=()=>{F("cash",d.customer?b:"cash")};he(()=>{const J=O=>{d.modelValue&&O.ctrlKey&&O.key==="Enter"&&(O.preventDefault(),M())};document.addEventListener("keydown",J),Rt(()=>{document.removeEventListener("keydown",J)})});const z=(J,O)=>{vt(()=>{f.value[O]&&(f.value[O].focus(),f.value[O].select())})};return(J,O)=>(p(),I(ct,{"model-value":u.modelValue,"onUpdate:modelValue":O[4]||(O[4]=U=>J.$emit("update:modelValue",U)),onBeforeShow:x},{default:l(()=>[e(ce,{style:{"min-width":"300px"}},{default:l(()=>[e(ae,null,{default:l(()=>O[5]||(O[5]=[t("div",{class:"text-subtitle1 text-bold text-center"}," Rincian Pembayaran ",-1)])),_:1}),e(ae,{class:"q-pt-none"},{default:l(()=>[u.customer?(p(),$("div",z1,[t("div",F1,[_(" Username: "+r(u.customer.code)+" ",1),O[6]||(O[6]=t("br",null,null,-1)),_(" Nama: "+r(u.customer.name),1),O[7]||(O[7]=t("br",null,null,-1)),_(" Saldo: Rp. "+r(a(W)(u.customer.wallet_balance)),1)])])):k("",!0),t("div",L1," Total: Rp. "+r(a(W)(u.total)),1),t("div",H1,[e(a(co),{modelValue:v.value,"onUpdate:modelValue":[O[0]||(O[0]=U=>v.value=U),F],options:[{label:"Tunai",value:"cash",slot:"cash",color:"green"},{label:"Tempo",value:"debt",slot:"debt",disable:!u.customer,color:"red"}],flat:"",spread:"",class:"bg-grey-2"},null,8,["modelValue","options"])]),v.value==="cash"?(p(),$("div",K1,[(p(!0),$(K,null,Ke(y,(U,Z)=>(p(),$("div",{key:Z,class:"row q-col-gutter-sm q-mb-sm"},[t("div",Y1,[e(a(ie),{modelValue:U.id,"onUpdate:modelValue":[se=>U.id=se,se=>z(se,Z)],options:A.value,label:"Metode Pembayaran",outlined:!0,"emit-value":"","map-options":"",dense:"",class:"custom-select",disable:i.value,"hide-bottom-space":"",ref_for:!0,ref:se=>g.value[Z]=se},null,8,["modelValue","onUpdate:modelValue","options","disable"])]),t("div",W1,[e(Ae,{modelValue:U.amount,"onUpdate:modelValue":se=>U.amount=se,label:"Jumlah",outlined:!0,dense:"",disable:i.value,error:U.id==="wallet"&&!R.value,"error-message":U.id==="wallet"&&!R.value?"Saldo tidak cukup!":"","hide-bottom-space":"",ref_for:!0,ref:se=>f.value[Z]=se},Le({_:2},[y.length>1?{name:"append",fn:l(()=>[e(q,{size:"xs",name:"close",class:"cursor-pointer",onClick:se=>P(U.id)},null,8,["onClick"])]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","disable","error","error-message"])])]))),128)),t("div",Q1,[e(j,{disable:!(y.length<3&&D.value>0),flat:"",dense:"",icon:"add",label:"Tambah Pembayaran",onClick:E,size:"sm"},null,8,["disable"])]),t("div",J1,[D.value>0?(p(),$("div",G1," Sisa Tagihan: Rp. "+r(a(W)(D.value)),1)):D.value<0?(p(),$("div",X1," Kembalian: Rp. "+r(a(W)(Math.abs(D.value))),1)):(p(),$("div",Z1," Tagihan Terbayar "))])])):v.value==="debt"&&u.customer?(p(),$("div",eb,[e(Sa,{outlined:"",modelValue:c.value,"onUpdate:modelValue":O[1]||(O[1]=U=>c.value=U),label:"Tanggal Jatuh Tempo",hint:"Pilih tanggal jatuh tempo pembayaran utang",class:"q-mb-md","min-date":a(T),"max-date":a(B),rules:C.value},null,8,["modelValue","min-date","max-date","rules"]),t("div",tb," Total Utang: Rp. "+r(a(W)(u.total)),1)])):v.value==="debt"&&!u.customer?(p(),$("div",ab,O[8]||(O[8]=[t("div",{class:"text-center text-negative text-h6"}," Tidak dapat mencatat utang tanpa memilih pelanggan. ",-1)]))):k("",!0)]),_:1}),e(mt,{align:"center",class:"q-mb-sm row q-gutter-xs q-pa-md"},{default:l(()=>[e(a(ie),{modelValue:m.value,"onUpdate:modelValue":O[2]||(O[2]=U=>m.value=U),options:S,label:"Aksi setelah bayar",outlined:!0,"emit-value":"","map-options":"",dense:"",class:"custom-select col",disable:i.value,"hide-bottom-space":""},null,8,["modelValue","disable"]),e(j,{flat:"",label:"Batal",color:"grey",onClick:O[3]||(O[3]=U=>J.$emit("update:modelValue",!1)),class:"col"}),e(j,{label:v.value==="debt"?"Catat Utang":"Bayar",color:"positive",onClick:M,disable:i.value||!w.value,loading:i.value,class:"col"},null,8,["label","disable","loading"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},lb=Object.freeze(Object.defineProperty({__proto__:null,default:So},Symbol.toStringTag,{value:"Module"})),ob={class:"row items-center no-wrap"},nb={class:"col-auto"},Vo={__name:"ItemEditorDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,required:!1},isProcessing:{type:Boolean,required:!1}},emits:["update:modelValue","save"],setup(u,{expose:n,emit:d}){const o=u,s=d,i=()=>{s("save")},v=G(()=>o.item.quantity*o.item.price),c=f=>{f.stopPropagation(),f.preventDefault()},m=f=>{o.modelValue&&(f.key==="Enter"?(i(),s("update:modelValue",!1),c(f)):f.key==="Escape"&&(s("update:modelValue",!1),c(f)))};return he(()=>{window.addEventListener("keydown",m)}),Rt(()=>{window.removeEventListener("keydown",m)}),n({getCurrentItem:()=>o.item}),(f,y)=>(p(),I(ct,{"model-value":u.modelValue,"onUpdate:modelValue":y[6]||(y[6]=b=>f.$emit("update:modelValue",b))},{default:l(()=>[e(ce,null,{default:l(()=>[e(ae,{class:"q-py-sm"},{default:l(()=>[t("div",ob,[y[7]||(y[7]=t("div",{class:"col text-subtite text-bold text-grey-8"},"Edit Item",-1)),t("div",nb,[e(j,{flat:"",size:"sm",round:"",icon:"close",onClick:y[0]||(y[0]=b=>f.$emit("update:modelValue",!1))})])])]),_:1}),e(ae,{class:"q-py-sm"},{default:l(()=>[e(oe,{modelValue:u.item.product_name,"onUpdate:modelValue":y[1]||(y[1]=b=>u.item.product_name=b),label:"Produk","hide-bottom-space":"",readonly:"",disable:u.isProcessing},null,8,["modelValue","disable"]),e(Ae,{modelValue:u.item.quantity,"onUpdate:modelValue":y[2]||(y[2]=b=>u.item.quantity=b),label:"Kwantitas","hide-bottom-space":"",autofocus:"",disable:u.isProcessing},null,8,["modelValue","disable"]),e(Ae,{modelValue:u.item.price,"onUpdate:modelValue":y[3]||(y[3]=b=>u.item.price=b),label:"Harga",readonly:!u.item.price_editable,"hide-bottom-space":"",disable:u.isProcessing},null,8,["modelValue","readonly","disable"]),e(Ae,{modelValue:v.value,"onUpdate:modelValue":y[4]||(y[4]=b=>v.value=b),label:"Subtotal","hide-bottom-space":"",readonly:""},null,8,["modelValue"]),e(oe,{modelValue:u.item.notes,"onUpdate:modelValue":y[5]||(y[5]=b=>u.item.notes=b),label:"Catatan",autogrow:"",type:"textarea",counter:"",maxlength:"50","hide-bottom-space":"",clearable:""},null,8,["modelValue"])]),_:1}),e(mt,{align:"right"},{default:l(()=>[te(e(j,{flat:"",label:"Batal",color:"primary",disable:u.isProcessing},null,8,["disable"]),[[me]]),te(e(j,{flat:"",label:"Simpan",color:"primary",onClick:i,disable:u.isProcessing},null,8,["disable"]),[[me]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},sb=Object.freeze(Object.defineProperty({__proto__:null,default:Vo},Symbol.toStringTag,{value:"Module"})),rb={key:0,class:"q-select__selected-item"},ib={__name:"CustomerAutocomplete",props:{modelValue:{type:[Object],default:null},class:{type:String,default:""},label:{type:String,default:"Cari Pelanggan"},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},disable:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},minLength:{type:Number,default:0},initialData:{type:Object,default:null,required:!1}},emits:["update:modelValue","customerSelected"],setup(u,{expose:n,emit:d}){const o=V(null),s=u,i=d,v=V([]);let c=null;const m=V(s.modelValue);he(()=>{s.initialData&&(m.value=s.initialData)}),je(m,y=>{i("update:modelValue",y),i("customerSelected",y)}),je(()=>s.modelValue,y=>{m.value=y}),n({focus:()=>{o.value&&o.value.focus()}});const f=(y,b)=>{if(y.length<s.minLength){b(()=>{v.value=[]});return}c&&clearTimeout(c),c=setTimeout(()=>{Ge.get(`/web-api/customers?q=${y}`).then(S=>{b(()=>{v.value=S.data.data})}).catch(S=>{console.error("Gagal mengambil data pelanggan:",S),b(()=>{v.value=[]})})},500)};return(y,b)=>(p(),I(ie,{class:xe(u.class),ref_key:"qSelectRef",ref:o,modelValue:m.value,"onUpdate:modelValue":b[0]||(b[0]=S=>m.value=S),"use-input":"","input-debounce":"0",label:u.label,options:v.value,onFilter:f,clearable:"",error:u.error,behavior:"menu","error-message":u.errorMessage,disable:u.disable,"hide-bottom-space":"",outlined:u.outlined,style:{"min-width":"150px !important"},"option-value":"id","option-label":"name"},{option:l(S=>[e(le,Ml(Nl(S.itemProps)),{default:l(()=>[e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>[_(r(S.opt.name),1)]),_:2},1024),e(_e,{caption:""},{default:l(()=>[e(q,{name:"person",size:"14px"}),_(" "+r(S.opt.code),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),"selected-item":l(S=>[S.opt?(p(),$("div",rb,r(S.opt.name)+" ("+r(S.opt.code)+") ",1)):k("",!0)]),_:1},8,["class","modelValue","label","options","error","error-message","disable","outlined"]))}},db={__name:"HelpDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(u,{emit:n}){return(d,o)=>(p(),I(ct,{"model-value":u.modelValue,"onUpdate:modelValue":o[0]||(o[0]=s=>d.$emit("update:modelValue",s))},{default:l(()=>[e(ce,{style:{"min-width":"300px"}},{default:l(()=>[e(ae,{class:"q-py-none q-pt-md"},{default:l(()=>o[1]||(o[1]=[t("div",{class:"text-bold text-grey-8"},"Bantuan",-1)])),_:1}),e(ae,null,{default:l(()=>o[2]||(o[2]=[t("table",{style:{width:"100%"},class:"info-table"},[t("thead",null,[t("tr",null,[t("th",null,"Shortcut"),t("th",null,"Aksi")])]),t("tbody",null,[t("tr",null,[t("td",null,"F1"),t("td",null,"Dialog Bantuan")]),t("tr",null,[t("td",null,"F2"),t("td",null,"Pilih Pelanggan")]),t("tr",null,[t("td",null,"F3"),t("td",null,"Aktifkan Input Barcode<")]),t("tr",null,[t("td",null,"F4"),t("td",null,"Gabung / pisahkan item saat input")]),t("tr",null,[t("td",null,"F10 / Ctrl+Enter"),t("td",null,"Bayar / Selesai")])])],-1)])),_:1}),e(mt,{align:"center"},{default:l(()=>[te(e(j,{dense:"",label:"Tutup"},null,512),[[me]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},qo=_t(db,[["__scopeId","data-v-92052544"]]),ub=Object.freeze(Object.defineProperty({__proto__:null,default:qo},Symbol.toStringTag,{value:"Module"})),mb={class:"row items-center no-wrap"},cb={class:"col text-subtite text-bold text-grey-8"},pb={class:"col-auto"},Co={__name:"OrderInfoDialog",props:{modelValue:{type:Boolean,required:!0},data:{type:Object,required:!1},isProcessing:{type:Boolean,required:!1}},emits:["update:modelValue","save"],setup(u,{expose:n,emit:d}){const o=u,s=d,i=()=>{s("save")},v=g=>{g.stopPropagation(),g.preventDefault()},c=g=>{o.modelValue&&(g.key==="Enter"?(i(),v(g)):g.key==="Escape"&&(s("update:modelValue",!1),v(g)))};return he(()=>{window.addEventListener("keydown",c)}),Rt(()=>{window.removeEventListener("keydown",c)}),n({getCurrentItem:()=>o.item}),(g,f)=>(p(),I(ct,{"model-value":u.modelValue,"onUpdate:modelValue":f[4]||(f[4]=y=>g.$emit("update:modelValue",y))},{default:l(()=>[e(ce,null,{default:l(()=>[e(ae,{class:"q-py-sm"},{default:l(()=>[t("div",mb,[t("div",cb," Edit "+r(u.data.formatted_id),1),t("div",pb,[e(j,{flat:"",size:"sm",round:"",icon:"close",onClick:f[0]||(f[0]=y=>g.$emit("update:modelValue",!1))})])])]),_:1}),e(ae,{class:"q-py-sm"},{default:l(()=>[e(Ht,{modelValue:u.data.datetime,"onUpdate:modelValue":f[1]||(f[1]=y=>u.data.datetime=y),label:"Waktu","hide-bottom-space":"",disable:u.isProcessing,readonly:"",autofocus:""},null,8,["modelValue","disable"]),e(oe,{modelValue:g.$CONSTANTS.SALES_ORDER_STATUSES[u.data.status],"onUpdate:modelValue":f[2]||(f[2]=y=>g.$CONSTANTS.SALES_ORDER_STATUSES[u.data.status]=y),label:"Status","hide-bottom-space":"",readonly:"",disable:u.isProcessing},null,8,["modelValue","disable"]),e(oe,{modelValue:u.data.notes,"onUpdate:modelValue":f[3]||(f[3]=y=>u.data.notes=y),label:"Catatan",autogrow:"",type:"textarea",counter:"",maxlength:"50","hide-bottom-space":"",clearable:""},null,8,["modelValue"])]),_:1}),e(mt,{align:"right"},{default:l(()=>[te(e(j,{flat:"",label:"Batal",color:"primary",disable:u.isProcessing},null,8,["disable"]),[[me]]),te(e(j,{flat:"",label:"Simpan",color:"primary",onClick:i,disable:u.isProcessing},null,8,["disable"]),[[me]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},fb=Object.freeze(Object.defineProperty({__proto__:null,default:Co},Symbol.toStringTag,{value:"Module"})),gb={key:0},bb={style:{float:"right"}},vb={key:1},_b={style:{float:"right"}},yb={key:2},kb={style:{float:"right"}},wb={key:3},hb={style:{float:"right"}},$b={style:{float:"right"}},xb={class:"q-gutter-sm"},Sb={class:"q-my-md"},Vb={__name:"SuccessDialog",props:{modelValue:{type:Boolean,required:!0},order:{type:Object,required:!0},total:{type:Number,required:!0},customer:{type:[Object],required:!1},payment:{type:[Object],required:!1}},emits:["update:modelValue"],setup(u,{emit:n}){const d=V(null),o=()=>{var s;(s=d.value)==null||s.focus()};return(s,i)=>(p(),I(ct,{"model-value":u.modelValue,"onUpdate:modelValue":i[0]||(i[0]=v=>s.$emit("update:modelValue",v)),onBeforeShow:o,persistent:""},{default:l(()=>[e(ce,{style:{"min-width":"300px"}},{default:l(()=>[e(ae,{class:"q-py-none q-pt-md"},{default:l(()=>i[1]||(i[1]=[t("div",{class:"text-bold text-grey-8 text-h6",align:"center"},"Sukses",-1)])),_:1}),e(ae,{align:"center"},{default:l(()=>[i[22]||(i[22]=t("div",{class:"q-mb-md"},"Transaksi Berhasil",-1)),t("table",null,[t("tbody",null,[t("tr",null,[i[2]||(i[2]=t("td",null,"ID",-1)),i[3]||(i[3]=t("td",null,":",-1)),t("td",null,r(u.order.formatted_id),1)]),u.customer?(p(),$("tr",gb,[i[5]||(i[5]=t("td",{style:{"vertical-align":"top"}},"Pelanggan",-1)),i[6]||(i[6]=t("td",{style:{"vertical-align":"top"}},":",-1)),t("td",null,[_(r(u.customer.name)+" ",1),i[4]||(i[4]=t("br",null,null,-1)),_(r(u.customer.code),1)])])):k("",!0),t("tr",null,[i[8]||(i[8]=t("td",null,"Total",-1)),i[9]||(i[9]=t("td",null,":",-1)),t("td",null,[i[7]||(i[7]=_(" Rp. ")),t("div",bb,r(a(W)(u.payment.total)),1)])]),u.payment.cash_amount?(p(),$("tr",vb,[i[11]||(i[11]=t("td",null,"Tunai",-1)),i[12]||(i[12]=t("td",null,":",-1)),t("td",null,[i[10]||(i[10]=_(" Rp. ")),t("div",_b,r(a(W)(u.payment.cash_amount)),1)])])):k("",!0),u.payment.wallet_amount?(p(),$("tr",yb,[i[14]||(i[14]=t("td",null,"Wallet",-1)),i[15]||(i[15]=t("td",null,":",-1)),t("td",null,[i[13]||(i[13]=_(" Rp. ")),t("div",kb,r(a(W)(u.payment.wallet_amount)),1)])])):k("",!0),u.payment.remaining_debt?(p(),$("tr",wb,[i[17]||(i[17]=t("td",null,"Piutang",-1)),i[18]||(i[18]=t("td",null,":",-1)),t("td",null,[i[16]||(i[16]=_(" Rp. ")),t("span",hb,r(a(W)(u.payment.remaining_debt)),1)])])):k("",!0),t("tr",null,[i[20]||(i[20]=t("td",null,"Kembalian",-1)),i[21]||(i[21]=t("td",null,":",-1)),t("td",null,[i[19]||(i[19]=_(" Rp. ")),t("div",$b,r(a(W)(u.payment.change)),1)])])])])]),_:1}),e(mt,{align:"center"},{default:l(()=>[t("div",xb,[e(j,{autofocus:"",label:"Cetak Struk",icon:"print",ref_key:"printButtonRef",ref:d,color:"green"},null,512),e(j,{label:"Transaksi Baru",icon:"edit",color:"primary"})]),t("div",Sb,[e(j,{label:"Kembali ke daftar transaksi",icon:"arrow_back"})])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},To=_t(Vb,[["__scopeId","data-v-85a4c3ae"]]),qb=Object.freeze(Object.defineProperty({__proto__:null,default:To},Symbol.toStringTag,{value:"Module"})),Cb={class:"q-gutter-sm"},Tb={class:"row items-center"},Pb={class:"text-weight-bold"},Ob={class:"row q-col-gutter-none full-width"},Rb={class:"col-sm-6 col-12 col"},Ib={class:"row full-width"},Db={class:"col-sm-6 col-12"},Ub={class:"row q-ml-sm items-end"},Ab={class:"row col grow"},jb={class:"col-12 q-pa-sm column"},Eb={class:"row items-start q-col-gutter-none q-px-sm",style:{"max-height":"80px"}},Mb={key:0,class:"col"},Nb={class:"text-caption text-grey-6 q-mt-xs"},Bb={key:0,class:"text-caption text-grey-8 q-mt-xs"},zb={class:"text-italic"},Fb={key:1,class:"col"},Lb={class:"q-pa-sm q-pb-none text-grey-8"},Hb={class:"col"},Kb={class:"row no-wrap items-start justify-between",style:{background:"#eee",padding:"10px",border:"1px solid #ddd"}},Yb={class:"text-h4 text-weight-bold"},Wb={class:"row q-px-sm q-pb-none q-py-sm q-col-gutter-sm"},Qb={class:"col q-py-sm"},Jb={class:"q-py-sm"},Gb={__name:"Editor",setup(u){const n=$e(),d=be(),o=V(!0),s=V(null),i=V(null),v=V(null),c=V(!1),m=V(null),g=V(null),{isFullscreen:f,toggleFullscreen:y}=_o(g),b=d.props.data.formatted_id,S=V(d.props.data.customer),A=V(null),h=V(""),D=V(!1),R=V(!1),T=V(!1),B=V(!1),C=V(!1),w=V(!1),E=V(null),P=Pe({id:d.props.data.id,formatted_id:d.props.data.formatted_id,customer_id:d.props.data.customer_id,datetime:new Date(d.props.data.datetime),status:d.props.data.status,payment_status:d.props.data.payment_status,delivery_status:d.props.data.delivery_status,notes:d.props.data.notes,items:d.props.data.details??[]}),F=G(()=>P.items.reduce((L,Y)=>L+Y.price*Y.quantity,0)),M=()=>{var L;y(),f.value||(L=m==null?void 0:m.value)==null||L.hideDrawer()},x=L=>isNaN(L)||L<=0?(wt("Kuantitas tidak valid.","top"),!1):!0,z=L=>isNaN(L)||L<0?(wt("Harga tidak valid.","top"),!1):!0,J=L=>!L||L.length==0?(wt("Barcode tidak valid.","top"),!1):!0,O=L=>{h.value.endsWith("*")?h.value+=L.name:h.value=L.name},U=async()=>{const L=h.value.trim();if(L.length===0){T.value=!0;return}const Y=L.split("*");let pe=1,de="",fe=null;if(Y.length===1)de=Y[0];else if(Y.length<=3)pe=parseInt(Y[0]),de=Y[1],Y.length===3&&(fe=parseFloat(Y[2]));else{wt("Input tidak valid.","top");return}if(de.length===0){T.value=!0;return}!J(de)&&!x(pe)&&!z(fe)||(D.value=!0,await Ge.post(route("admin.sales-order.add-item"),{order_id:P.id,product_code:de,qty:pe,price:fe,merge:o.value}).then(He=>{const nt=He.data.data.item;let kt=-1;He.data.data.mergeItem&&(kt=P.items.findIndex(ma=>ma.id===nt.id)),kt===-1?P.items.push(nt):P.items[kt]=nt,h.value="",fe!==null&&fe!==parseFloat(nt.price)&&wt("Harga tidak dapat diubah!","top")}).catch(He=>{var nt,kt;gt((kt=(nt=He.response)==null?void 0:nt.data)==null?void 0:kt.message,"top"),console.error("Gagal mengambil data produk:",He)}),D.value=!1,vt(()=>{var He;(He=s.value)==null||He.focus()}))},Z=L=>{E.value=Object.create(L),B.value=!0},se=L=>{n.dialog({title:"Hapus Item",message:`Apakah Anda yakin akan menghapus item ${L.product_name}?`,cancel:{label:"Batal",color:"grey"},ok:{label:"Hapus",color:"negative"},persistent:!0}).onOk(()=>{D.value=!0,Ge.post(route("admin.sales-order.remove-item"),{id:L.id}).then(()=>{const Y=P.items.findIndex(pe=>pe.id===L.id);Y!==-1&&(P.items.splice(Y,1)[0],bt("Item telah dihapus","top"))}).catch(Y=>{var pe,de;gt(((de=(pe=Y==null?void 0:Y.response)==null?void 0:pe.data)==null?void 0:de.message)??"Terdapat kesalahan saat menghapus item!","top"),console.error(Y)}).finally(()=>{D.value=!1})})},ne=()=>{D.value=!0;const L=i.value.getCurrentItem(),Y={id:L.id,qty:L.quantity};L.price_editable&&(Y.price=L.price),L.notes&&(Y.notes=L.notes),Ge.post(route("admin.sales-order.update-item"),Y).then(pe=>{const de=pe.data.data,fe=P.items.findIndex(He=>He.id===de.id);fe!==-1&&(P.items[fe]=de,bt("Item telah diperbarui","top"))}).catch(pe=>{var de,fe;gt(((fe=(de=pe==null?void 0:pe.response)==null?void 0:de.data)==null?void 0:fe.message)??"Terdapat kesalahan saat menyimpan!","top"),console.error(pe)}).finally(()=>{D.value=!1})};he(()=>{const L=Y=>{R.value||c.value||B.value||T.value||C.value||(Y.key==="F1"?(Y.preventDefault(),c.value=!0):Y.key==="F2"?(Y.preventDefault(),v.value.focus()):Y.key==="F3"?(Y.preventDefault(),s.value.focus()):Y.key==="F4"?(Y.preventDefault(),o.value=!o.value):Y.key==="F10"||Y.ctrlKey&&Y.key==="Enter"?(Y.preventDefault(),R.value=!0):Y.key==="F11"&&(Y.preventDefault(),M()))};document.addEventListener("keydown",L),Rt(()=>{document.removeEventListener("keydown",L)}),vt(()=>{var Y;(Y=m==null?void 0:m.value)==null||Y.hideDrawer()})});const qe=async L=>{S.value=L,P.customer_id=L==null?void 0:L.id,await ze(),vt(()=>{var Y;(Y=s.value)==null||Y.focus()})},ze=async()=>{D.value=!0;const L={id:P.id,customer_id:P.customer_id,datetime:aa(P.datetime),notes:P.notes};await Ge.post(route("admin.sales-order.update"),L).then(Y=>{const pe=Y.data.data.id;P.customer_id=pe.customer_id}).catch(Y=>{var pe,de;gt(((de=(pe=Y==null?void 0:Y.response)==null?void 0:pe.data)==null?void 0:de.message)??"Terdapat kesalahan saat menyimpan!","top"),console.error(Y)}).finally(()=>{D.value=!1})},ft=L=>{if(P.items.length===0){bt("Item masih kosong","top");return}const Y={id:P.id,...L};D.value=!0,Ge.post(route("admin.sales-order.close"),Y).then(pe=>{bt("Transaksi selesai"),Y.after_payment_action==="print"?window.open(route("admin.sales-order.print",{id:P.id,size:d.props.settings.default_print_size}),"_self"):Y.after_payment_action==="detail"?ee.get(route("admin.sales-order.detail",{id:P.id})):Y.after_payment_action==="new-order"&&ee.get(route("admin.sales-order.add"))}).catch(pe=>{var de,fe;gt((fe=(de=pe.response)==null?void 0:de.data)==null?void 0:fe.message),console.error(pe)}).finally(()=>{D.value=!1})},pt=()=>{Kt.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${P.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{Ge.post(route("admin.sales-order.cancel",{id:P.id}),{id:P.id}).then(()=>{bt("Transaksi telah dibatalkan."),ee.visit(route("admin.sales-order.detail",{id:P.id}))}).catch(L=>{var pe,de;const Y=((de=(pe=L.response)==null?void 0:pe.data)==null?void 0:de.message)||"Terjadi kesalahan saat membatalkan transaksi.";n.notify({message:Y,color:"warning",position:"bottom"}),console.error(L)})})},yt=()=>{window.open(route("admin.sales-order.detail",{id:P.id})+"?preview=1","_blank")},ve=G(()=>S.value?S.value.wallet_balance>=F.value:!0);return(L,Y)=>{const pe=Q("i-head"),de=Q("authenticated-layout");return p(),$(K,null,[e(pe,{title:a(b)},null,8,["title"]),e(de,{ref_key:"authLayoutRef",ref:m,"show-drawer-button":!0},{title:l(()=>[_(r(a(b)),1)]),"left-button":l(()=>[t("div",Cb,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:Y[0]||(Y[0]=fe=>a(ee).get(L.route("admin.sales-order.index")))})])]),"right-button":l(()=>[t("div",Tb,[a(n).screen.gt.sm?(p(),$(K,{key:0},[t("div",Pb,r(a(d).props.auth.user.username),1),Y[22]||(Y[22]=t("div",{class:"q-mx-sm"},"|",-1)),t("div",null,[e(bo)])],64)):k("",!0),k("",!0)])]),default:l(()=>[e(Ve,{class:"bg-grey-2 q-pa-none column fit"},{default:l(()=>[e(ce,{square:"",flat:"",class:"full-width col column q-pb-none"},{default:l(()=>[t("div",Ob,[t("div",Rb,[t("div",Ib,[e(ib,{ref_key:"customerAutocompleteRef",ref:v,class:"custom-select full-width col col-12 bg-white q-pa-sm",modelValue:S.value,"onUpdate:modelValue":Y[2]||(Y[2]=fe=>S.value=fe),label:"Pelanggan",disable:D.value,onCustomerSelected:qe,"min-length":1,outlined:"",autofocus:""},null,8,["modelValue","disable"]),t("div",{class:xe(["q-mt-xs q-ml-sm text-bold",ve.value?"text-green":"text-red"])}," Saldo: "+r(S.value?"Rp. "+a(W)(S.value?S.value.wallet_balance:0):"Tidak tersedia"),3)])]),t("div",Db,[e(oe,{ref_key:"userInputRef",ref:s,modelValue:h.value,"onUpdate:modelValue":Y[5]||(Y[5]=fe=>h.value=fe),onKeyup:Y[6]||(Y[6]=oa(X(fe=>U(),["prevent"]),["enter"])),loading:D.value,disable:D.value,placeholder:"Qty * Kode / Barcode * Harga",class:"col col-12 q-pa-sm bg-white",outlined:"",clearable:""},{prepend:l(()=>[e(q,{name:"search",onClick:Y[3]||(Y[3]=fe=>T.value=!0),class:"cursor-pointer"})]),append:l(()=>{var fe;return[((fe=h.value)==null?void 0:fe.length)>0?(p(),I(q,{key:0,name:"send",onClick:Y[4]||(Y[4]=He=>U()),class:"cursor-pointer q-ml-md"})):k("",!0)]}),_:1},8,["modelValue","loading","disable"]),t("div",Ub,[e(Ct,{class:"col",modelValue:o.value,"onUpdate:modelValue":Y[7]||(Y[7]=fe=>o.value=fe),label:"Gabungkan item",disable:D.value},null,8,["modelValue","disable"])])])]),t("div",Ab,[t("div",jb,[e(xo,{items:P.items,onUpdateQuantity:Y[8]||(Y[8]=({id:fe,value:He})=>L.updateQuantity(fe,He)),onRemoveItem:se,onEditItem:Z,"is-processing":D.value},null,8,["items","is-processing"])])]),t("div",Eb,[a(n).screen.gt.sm?(p(),$("div",Mb,[t("div",Nb,r(P.items.length)+" item(s) ",1),P.notes?(p(),$("div",Bb,[Y[23]||(Y[23]=t("div",{class:"text-bold"},"Catatan:",-1)),t("div",zb,[e(we,{text:P.notes},null,8,["text"])])])):k("",!0)])):k("",!0),a(n).screen.gt.sm?(p(),$("div",Fb,[t("div",Lb,[t("div",null,"#: "+r(P.formatted_id),1),t("div",null,r(a(ge)(P.datetime)),1)])])):k("",!0),t("div",Hb,[t("div",Kb,[Y[25]||(Y[25]=t("span",{class:"text-grey-8 text-subtitle-2 text-bold"},"TOTAL",-1)),t("span",Yb,[Y[24]||(Y[24]=t("sup",{style:{"font-size":"13px"}},"Rp.",-1)),_(" "+r(a(W)(F.value)),1)])])])]),t("div",Wb,[t("div",Qb,[e(j,{class:"full-width q-py-none",label:"Bayar",color:"primary",icon:"payment",onClick:Y[9]||(Y[9]=fe=>R.value=!0),disable:!L.$can("admin.sales-order.close")||D.value||P.items.length===0||P.status!=="draft",loading:D.value},null,8,["disable","loading"])]),t("div",Jb,[e(j,{class:"q-py-none",icon:"more_vert",color:"grey",onClick:Y[13]||(Y[13]=X(()=>{},["stop"])),style:{width:"10px"}},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[te((p(),I(le,{clickable:"",onClick:Y[10]||(Y[10]=X(fe=>C.value=!0,["stop"]))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"edit"})]),_:1}),e(N,null,{default:l(()=>Y[26]||(Y[26]=[_("Edit Rincian")])),_:1})]),_:1})),[[re],[me]]),te((p(),I(le,{clickable:"",onClick:Y[11]||(Y[11]=X(fe=>yt(),["stop"]))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"preview"})]),_:1}),e(N,null,{default:l(()=>Y[27]||(Y[27]=[_("Pratinjau")])),_:1})]),_:1})),[[re],[me]]),te((p(),I(le,{clickable:"",onClick:Y[12]||(Y[12]=X(fe=>pt(),["stop"]))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"cancel",color:"negative"})]),_:1}),e(N,{class:"text-negative"},{default:l(()=>Y[28]||(Y[28]=[_(" Batalkan ")])),_:1})]),_:1})),[[re],[me]]),e(et)]),_:1})]),_:1})]),_:1})])])]),_:1}),e(Vo,{ref_key:"itemEditorRef",ref:i,modelValue:B.value,"onUpdate:modelValue":Y[14]||(Y[14]=fe=>B.value=fe),item:E.value,onSave:Y[15]||(Y[15]=fe=>ne()),"is-processing":D.value},null,8,["modelValue","item","is-processing"]),e(So,{modelValue:R.value,"onUpdate:modelValue":Y[16]||(Y[16]=fe=>R.value=fe),onAccepted:ft,form:P,customer:S.value,total:F.value,accounts:a(d).props.accounts},null,8,["modelValue","form","customer","total","accounts"]),e(fo,{modelValue:T.value,"onUpdate:modelValue":Y[17]||(Y[17]=fe=>T.value=fe),onProductSelected:O},null,8,["modelValue"]),e(Co,{modelValue:C.value,"onUpdate:modelValue":Y[18]||(Y[18]=fe=>C.value=fe),data:P,onSave:Y[19]||(Y[19]=fe=>ze()),"is-processing":D.value},null,8,["modelValue","data","is-processing"]),e(qo,{modelValue:c.value,"onUpdate:modelValue":Y[20]||(Y[20]=fe=>c.value=fe)},null,8,["modelValue"]),e(To,{modelValue:w.value,"onUpdate:modelValue":Y[21]||(Y[21]=fe=>w.value=fe),order:P,customer:S.value,total:F.value,payment:A.value},null,8,["modelValue","order","customer","total","payment"])]),_:1})]),_:1},512)],64)}}},Xb=Object.freeze(Object.defineProperty({__proto__:null,default:Gb},Symbol.toStringTag,{value:"Module"})),Zb={__name:"SalesOrderStatusChip",props:{status:{type:String,required:!0}},setup(u){const n=window.CONSTANTS.SALES_ORDER_STATUSES,d={draft:"orange",closed:"green",canceled:"red"};return(o,s)=>(p(),I(da,{status:u.status,statuses:a(n),colors:d},null,8,["status","statuses"]))}},ev={__name:"SalesOrderPaymentStatusChip",props:{status:{type:String,required:!0}},setup(u){const n=window.CONSTANTS.SALES_ORDER_PAYMENT_STATUSES,d={unpaid:"red",fully_paid:"green",partially_paid:"orange",refunded:"black"};return(o,s)=>(p(),I(da,{status:u.status,statuses:a(n),colors:d},null,8,["status","statuses"]))}};const tv={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},av={class:"q-pa-xs"},lv={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ov={key:0},nv={key:1},sv={key:2},rv={key:3},iv={key:0},dv={key:1},uv={key:0},mv={key:0},cv={key:1},pv={class:"flex justify-end"},vl="Penjualan",fv={__name:"Index",setup(u){const n=$e(),d=V(!1),o=V([]),s=V(!0),i=V(null),v=V(null),c=We(v),m=zt(),g=Ft(),f=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...Pt(m-2,m-1).reverse()],y=[{value:"all",label:"Semua Bulan"},...Ot()],b=[{value:"all",label:"Semua Status"},...lt(window.CONSTANTS.SALES_ORDER_STATUSES)],S=[{value:"all",label:"Semua Status"},...lt(window.CONSTANTS.SALES_ORDER_PAYMENT_STATUSES)],A=[{value:"all",label:"Semua Status"},...lt(window.CONSTANTS.SALES_ORDER_DELIVERY_STATUSES)],h=Pe({search:"",year:m,month:g,status:"all",payment_status:"all",delivery_status:"all",...Re()}),D=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),R=[{name:"id",label:"Info Order",field:"id",align:"left",sortable:!0},{name:"cashier_id",label:"Kasir",field:"cashier_id",align:"left"},{name:"customer_id",label:"Pelanggan",field:"customer_id",align:"left"},{name:"total",label:"Total",field:"total",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}];he(()=>{P()});const T=x=>{if(x.status=="draft"){B(x);return}C(x)},B=x=>{ee.get(route("admin.sales-order.edit",x.id))},C=x=>{ee.get(route("admin.sales-order.detail",x.id))},w=x=>{Kt.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${x.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{Ge.post(route("admin.sales-order.cancel",{id:x.id}),{id:x.id}).then(z=>{const J=z.data.data,O=o.value.findIndex(U=>U.id===J.id);if(O===-1){console.warn("Item tidak ditemukan di tabel.");return}o.value[O].status="canceled",n.notify({message:z.data.message,position:"bottom"})}).catch(z=>{var O,U;const J=((U=(O=z.response)==null?void 0:O.data)==null?void 0:U.message)||"Terjadi kesalahan saat membatalkan transaksi.";n.notify({message:J,color:"warning",position:"bottom"}),console.error(z)})})},E=x=>ot({title:"Konfirmasi Penghapusan",message:`Hapus transaksi #${x.formatted_id}?`,url:route("admin.sales-order.delete",x.id),fetchItemsCallback:P,loading:s}),P=(x=null)=>{Ie({pagination:D,filter:h,props:x,rows:o,url:route("admin.sales-order.data"),loading:s,tableRef:i})},F=()=>{P()},M=G(()=>n.screen.gt.sm?R:R.filter(x=>x.name==="id"||x.name==="action"));return je(()=>h.year,x=>{x===null&&(h.month=null)}),(x,z)=>{const J=Q("i-head"),O=Q("authenticated-layout");return p(),$(K,null,[e(J,{title:vl}),e(O,null,Le({title:l(()=>[_(r(vl))]),"right-button":l(()=>[e(j,{icon:d.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:z[0]||(z[0]=U=>d.value=!d.value)},null,8,["icon"]),x.$can("admin.sales-order.edit")?(p(),I(j,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:z[1]||(z[1]=U=>a(ee).get(x.route("admin.sales-order.add")))})):k("",!0)]),default:l(()=>[t("div",av,[e(Te,{ref_key:"tableRef",ref:i,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id",pagination:D.value,"onUpdate:pagination":z[11]||(z[11]=U=>D.value=U),filter:h.search,loading:s.value,columns:M.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Be({height:a(c)}),onRequest:P,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:U,message:Z,filter:se})=>[t("div",lv,[t("span",null,r(Z)+" "+r(se?" with term "+se:""),1)])]),body:l(U=>[e(Ce,{props:U,class:"cursor-pointer",onClick:X(Z=>T(U.row),["prevent"])},{default:l(()=>[e(H,{key:"id",props:U,class:"wrap-column"},{default:l(()=>{var Z,se,ne;return[t("div",null,[e(q,{name:"tag"}),_(" "+r(U.row.formatted_id),1)]),t("div",null,[e(q,{class:"inline-icon",name:"calendar_today"}),_(r(a(ge)(U.row.datetime)),1)]),a(n).screen.gt.sm?k("",!0):(p(),$(K,{key:0},[U.row.cashier?(p(),$("div",ov,[e(q,{name:"person",class:"inline-icon"}),_(" Kasir: "+r((Z=U.row.cashier)==null?void 0:Z.username),1)])):k("",!0),U.row.cashier_session?(p(),$("div",nv,[e(q,{name:"point_of_sale",class:"inline-icon"}),_(" Terminal: "+r((ne=(se=U.row.cashier_session)==null?void 0:se.cashier_terminal)==null?void 0:ne.name),1)])):k("",!0),U.row.customer?(p(),$("div",sv,[e(q,{name:"person",class:"inline-icon"}),e(Bl,{href:x.route("admin.customer.detail",{id:U.row.customer.id}),onClick:z[8]||(z[8]=X(()=>{},["stop"]))},{default:l(()=>[_(" "+r(U.row.customer.code)+" - "+r(U.row.customer.name),1)]),_:2},1032,["href"])])):k("",!0),t("div",null,"Rp. "+r(a(W)(U.row.grand_total)),1),U.row.notes?(p(),$("div",rv,[e(q,{name:"notes"}),_(" "+r(U.row.notes),1)])):k("",!0)],64)),t("div",null,[e(Zb,{status:U.row.status},null,8,["status"]),e(ev,{status:U.row.payment_status},null,8,["status"]),k("",!0)])]}),_:2},1032,["props"]),e(H,{key:"cashier_id",props:U},{default:l(()=>{var Z,se,ne;return[U.row.cashier?(p(),$("div",iv,[e(q,{name:"person",class:"inline-icon"}),_(" "+r((Z=U.row.cashier)==null?void 0:Z.username),1)])):k("",!0),U.row.cashier_session?(p(),$("div",dv,[e(q,{name:"point_of_sale",class:"inline-icon"}),_(" "+r((ne=(se=U.row.cashier_session)==null?void 0:se.cashier_terminal)==null?void 0:ne.name),1)])):k("",!0)]}),_:2},1032,["props"]),e(H,{key:"customer_id",props:U},{default:l(()=>[U.row.customer?(p(),$("div",uv,[t("div",null,[e(q,{name:"person",class:"inline-icon"}),_(" "+r(U.row.customer_code)+" - "+r(U.row.customer_name),1)]),U.row.customer_phone?(p(),$("div",mv,[e(q,{name:"phone",class:"inline-icon"}),_(" "+r(U.row.customer_phone),1)])):k("",!0),U.row.customer_address?(p(),$("div",cv,[e(q,{name:"home_pin",class:"inline-icon"}),_(" "+r(U.row.customer_address),1)])):k("",!0)])):k("",!0)]),_:2},1032,["props"]),e(H,{key:"total",props:U},{default:l(()=>[_(r(a(W)(U.row.grand_total)),1)]),_:2},1032,["props"]),e(H,{key:"notes",props:U},{default:l(()=>[e(we,{text:U.row.notes,icon:"notes"},null,8,["text"])]),_:2},1032,["props"]),e(H,{key:"action",props:U,onClick:z[10]||(z[10]=X(()=>{},["stop"]))},{default:l(()=>[t("div",pv,[x.$can("admin.sales-order.detail")||x.$can("admin.sales-order.edit")||x.$can("admin.sales-order.cancel")||x.$can("admin.sales-order.delete")?(p(),I(j,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:z[9]||(z[9]=X(()=>{},["stop"]))},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[U.row.status!="draft"&&x.$can("admin.sales-order.detail")?te((p(),I(le,{key:0,onClick:X(Z=>C(U.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"visibility"})]),_:1}),e(N,null,{default:l(()=>z[12]||(z[12]=[_(" Lihat ")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),U.row.status=="draft"&&x.$can("admin.sales-order.edit")?te((p(),I(le,{key:1,onClick:X(Z=>B(U.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"edit"})]),_:1}),e(N,null,{default:l(()=>z[13]||(z[13]=[_(" Edit ")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),U.row.status=="draft"&&x.$can("admin.sales-order.cancel")?te((p(),I(le,{key:2,onClick:X(Z=>w(U.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"cancel"})]),_:1}),e(N,null,{default:l(()=>z[14]||(z[14]=[_(" Batalkan ")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),e(et),x.$can("admin.sales-order.delete")?te((p(),I(le,{key:3,onClick:X(Z=>E(U.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>z[15]||(z[15]=[_(" Hapus ")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[d.value?{name:"header",fn:l(()=>[e(at,{class:"filter-bar",ref_key:"filterToolbarRef",ref:v},{default:l(()=>[t("div",tv,[e(ie,{modelValue:h.year,"onUpdate:modelValue":[z[2]||(z[2]=U=>h.year=U),F],options:f,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),h.year!="all"?(p(),I(ie,{key:0,modelValue:h.month,"onUpdate:modelValue":[z[3]||(z[3]=U=>h.month=U),F],options:y,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:h.year===null},null,8,["modelValue","disable"])):k("",!0),e(ie,{modelValue:h.status,"onUpdate:modelValue":[z[4]||(z[4]=U=>h.status=U),F],options:b,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(ie,{modelValue:h.payment_status,"onUpdate:modelValue":[z[5]||(z[5]=U=>h.payment_status=U),F],options:S,label:"Status Pembayaran",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),k("",!0),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:h.search,"onUpdate:modelValue":z[7]||(z[7]=U=>h.search=U),placeholder:"Cari",clearable:""},{append:l(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},gv=Object.freeze(Object.defineProperty({__proto__:null,default:fv},Symbol.toStringTag,{value:"Module"})),Po={__name:"CompanyInfoForm",setup(u){const n=V(),d=be(),o=Me({name:d.props.data.name,headline:d.props.data.headline,phone:d.props.data.phone,address:d.props.data.address,logo_path:d.props.data.logo_path,logo_image:null}),s=V(null),i=V("");he(()=>{o.logo_path&&(i.value=`/${o.logo_path}`)});function v(){s.value.click()}function c(f){const y=f.target.files[0];y&&(o.logo_image=y,i.value=URL.createObjectURL(y))}function m(){o.logo_image=null,o.logo_path=null,i.value=null,s.value.value=null}const g=()=>tt({form:o,url:route("admin.company-profile.edit")});return(f,y)=>(p(),I(Ne,{class:"row",onSubmit:X(g,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[e(ce,{flat:"",bordered:"",square:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[y[8]||(y[8]=t("div",{class:"text-subtitle1 q-my-xs"},"Profil Perusahaan",-1)),y[9]||(y[9]=t("p",{class:"text-caption text-grey-9"},"Perbarui profil perusahaan.",-1)),e(oe,{ref_key:"nameInputRef",ref:n,modelValue:a(o).name,"onUpdate:modelValue":y[0]||(y[0]=b=>a(o).name=b),modelModifiers:{trim:!0},label:"Nama Perusahaan",disable:a(o).processing,"lazy-rules":"",error:!!a(o).errors.name,"error-message":a(o).errors.name,rules:[b=>b&&b.length>0||"Nama perusahaan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(oe,{modelValue:a(o).headline,"onUpdate:modelValue":y[1]||(y[1]=b=>a(o).headline=b),modelModifiers:{trim:!0},label:"Headline",disable:a(o).processing,maxlength:"200","lazy-rules":"",error:!!a(o).errors.headline,"error-message":a(o).errors.headline,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(oe,{modelValue:a(o).phone,"onUpdate:modelValue":y[2]||(y[2]=b=>a(o).phone=b),modelModifiers:{trim:!0},label:"No Telepon",disable:a(o).processing,"lazy-rules":"",error:!!a(o).errors.phone,"error-message":a(o).errors.phone,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(oe,{type:"textarea",counter:"",autogrow:"",maxlength:"500",modelValue:a(o).address,"onUpdate:modelValue":y[3]||(y[3]=b=>a(o).address=b),modelModifiers:{trim:!0},label:"Alamat",disable:a(o).processing,"lazy-rules":"",error:!!a(o).errors.address,"error-message":a(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),t("div",null,[y[7]||(y[7]=t("div",{class:"text-subtitle1 q-my-sm"},"Logo:",-1)),e(j,{label:"Browse Logo",size:"sm",onClick:v,color:"secondary",icon:"add_a_photo",disable:a(o).processing},null,8,["disable"]),e(j,{class:"q-ml-sm",size:"sm",icon:"close",label:"Buang",disable:a(o).processing||!i.value,color:"red",onClick:m},null,8,["disable"]),t("input",{type:"file",ref_key:"fileInput",ref:s,accept:"image/*",style:{display:"none"},onChange:c},null,544),t("div",null,[e(Gt,{src:i.value,class:"q-mt-md",ratio:1,"spinner-color":"white",style:{width:"240px",border:"1px solid #ddd"}},Le({error:l(()=>[y[4]||(y[4]=t("div",{class:"text-negative text-center q-pa-md"}," Gambar tidak tersedia ",-1))]),_:2},[i.value?void 0:{name:"default",fn:l(()=>[y[5]||(y[5]=t("div",{class:"absolute-full text-subtitle2 flex flex-center"}," Logo belum diset ",-1))]),key:"0"}]),1032,["src"]),y[6]||(y[6]=t("p",{class:"q-my-sm text-grey-9"}," Logo akan di resize ke ukuran 240px x 240px ",-1))])])]),_:1}),e(ae,null,{default:l(()=>[e(j,{icon:"save",type:"submit",color:"primary",label:"Simpan",disable:a(o).processing,loading:a(o).processing},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},bv=Object.freeze(Object.defineProperty({__proto__:null,default:Po},Symbol.toStringTag,{value:"Module"})),vv={class:"q-pa-xs"},_v={class:"row justify-center"},yv={class:"col col-md-6"},_l="Profil Perusahaan",kv={__name:"Edit",setup(u){return(n,d)=>{const o=Q("i-head"),s=Q("authenticated-layout");return p(),$(K,null,[e(o,{title:_l}),e(s,null,{title:l(()=>[_(r(_l))]),default:l(()=>[t("div",vv,[t("div",_v,[t("div",yv,[e(Po)])])])]),_:1})],64)}}},wv=Object.freeze(Object.defineProperty({__proto__:null,default:kv},Symbol.toStringTag,{value:"Module"})),hv={class:"col-xs-12 col-md-8"},$v={class:"col-xs-12 col-sm-9"},xv={class:"col-xs-12 col-sm-3 text-right"},yl="Pengaturan Database & Utilitas",Sv={__name:"Index",setup(u){const n=[{name:"Akses Log Operasi Database",icon:"insights",color:"primary",description:"Melihat riwayat operasi database untuk mendiagnosis masalah, melacak aktifitas pengguna, dan memantau *error* aplikasi. Log ini penting untuk *troubleshooting*.",action:()=>console.log("Aksi: Lihat Log Sistem"),disable:!0},{name:"Buat Salinan Cadangan (Backup)",icon:"cloud_download",color:"positive",description:"Membuat salinan cadangan (*backup*) lengkap dari seluruh database saat ini dan mengunduh data ke perangkat lokal.",warning:"Pastikan proses backup berjalan sepenuhnya sebelum menutup halaman. Waktu pemrosesan tergantung ukuran database Anda.",action:()=>console.log("Aksi: Mulai Backup"),disable:!0},{name:"Pulihkan Database (Restore)",icon:"cloud_upload",color:"negative",description:"Memulihkan database ke kondisi terakhir dari file cadangan (*backup*). Semua data setelah waktu backup akan hilang permanen.",warning:" **Peringatan Kritis:** Tindakan ini akan **menghapus semua data saat ini** dan digantikan oleh data dari file backup. Lakukan dengan sangat hati-hati.",action:()=>console.log("Aksi: Mulai Restore"),disable:!0},{name:"Reset Database Transaksional",icon:"data_thresholding",color:"deep-orange-10",description:"Mengosongkan semua tabel data transaksional (penjualan, stok, pembelian, transaksi keuangan, operasional, dll.). Data master seperti pelanggan, pemasok, produk, dan akun pengguna **tidak akan dihapus**.",warning:" **Hati-hati:** Semua riwayat transaksi dan operasional akan **hilang permanen**. Data master aman, tetapi relasi data akan terputus.",action:()=>console.log("Aksi: Mulai Reset Transaksional"),disable:!0},{name:"Reset Database Total",icon:"delete_forever",color:"red-10",description:"Mengosongkan semua tabel data termasuk data master (pelanggan, produk, pemasok, dll.), dan mengembalikan database ke kondisi awal instalasi. Hanya menyisakan konfigurasi sistem.",warning:" **Tindakan Penghapusan Data Total:** Semua data (transaksi dan master) akan **hilang permanen**. Gunakan hanya untuk tujuan testing atau reset menyeluruh.",action:()=>console.log("Aksi: Mulai Reset Total"),disable:!0}];return(d,o)=>{const s=Q("i-head"),i=Q("authenticated-layout");return p(),$(K,null,[e(s,{title:yl}),e(i,null,{title:l(()=>[_(r(yl))]),default:l(()=>[e(Ve,{class:"row justify-center q-pa-xs"},{default:l(()=>[t("div",hv,[e(ce,{square:"",flat:"",bordered:"",class:"full-width"},{default:l(()=>[e(ae,null,{default:l(()=>[o[2]||(o[2]=t("div",{class:"text-subtitle1 text-bold text-grey-8"}," Pengaturan Database & Utilitas ",-1)),e(Et,{dense:"",rounded:"",class:"bg-yellow-4 text-dark q-mt-sm"},{avatar:l(()=>[e(q,{name:"warning",color:"red"})]),default:l(()=>[o[0]||(o[0]=t("span",{class:"text-bold"},"PERINGATAN!",-1)),o[1]||(o[1]=_(" Bagian ini berisi alat-alat sensitif yang dapat memengaruhi ketersediaan dan integritas data Anda. Gunakan dengan penuh tanggung jawab. "))]),_:1})]),_:1}),e(et),e(ae,{class:"q-gutter-y-lg"},{default:l(()=>[(p(),$(K,null,Ke(n,v=>t("div",{key:v.name,class:"row items-center q-col-gutter-md"},[t("div",$v,[e(le,{class:"q-pa-none"},{default:l(()=>[e(N,{avatar:"",class:"q-pr-md"},{default:l(()=>[e(q,{name:v.icon,color:v.color,size:"lg"},null,8,["name","color"])]),_:2},1024),e(N,{style:{"text-wrap":"initial"}},{default:l(()=>[e(_e,{class:"text-subtitle1 text-bold"},{default:l(()=>[_(r(v.name),1)]),_:2},1024),e(_e,{caption:"",class:"q-pb-sm"},{default:l(()=>[_(r(v.description),1)]),_:2},1024),e(_e,{class:"text-caption text-negative text-bold"},{default:l(()=>[_(r(v.warning),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),t("div",xv,[e(j,{icon:v.icon,label:v.name.split(" ")[0],color:v.color,disable:v.disable,onClick:v.action,class:"full-width"},null,8,["icon","label","color","disable","onClick"])])])),64))]),_:1})]),_:1})])]),_:1})]),_:1})],64)}}},Vv=Object.freeze(Object.defineProperty({__proto__:null,default:Sv},Symbol.toStringTag,{value:"Module"})),qv={class:"q-pa-xs"},Cv={class:"row justify-center"},Tv={class:"col col-md-6"},Pv={__name:"Edit",setup(u){const n=be(),d=Me({foot_note:n.props.data.foot_note,default_payment_mode:n.props.data.default_payment_mode,default_print_size:n.props.data.default_print_size,after_payment_action:n.props.data.after_payment_action}),o=()=>tt({form:d,url:route("admin.pos-settings.edit")}),s=[{value:"cash",label:"Tunai"},{value:"wallet",label:"Wallet"}],i=[{value:"58mm",label:"Struk 58mm"},{value:"a4",label:"Nota A4"}],v=[{value:"print",label:"Cetak"},{value:"detail",label:"Rincian Order"},{value:"new-order",label:"Order Baru"}];return(c,m)=>{const g=Q("i-head"),f=Q("authenticated-layout");return p(),$(K,null,[e(g,{title:"Pengaturan POS"}),e(f,null,{title:l(()=>m[4]||(m[4]=[_("Pengaturan POS")])),default:l(()=>[t("div",qv,[t("div",Cv,[t("div",Tv,[e(Ne,{class:"row",onSubmit:X(o,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[e(ce,{flat:"",bordered:"",square:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[m[5]||(m[5]=t("div",{class:"text-subtitle1 q-my-xs"}," Pengaturan POS (Point of Sales) ",-1)),m[6]||(m[6]=t("p",{class:"text-caption text-grey-9"},"Perbarui pengaturan POS.",-1)),e(ie,{modelValue:a(d).default_payment_mode,"onUpdate:modelValue":m[0]||(m[0]=y=>a(d).default_payment_mode=y),label:"Default Pembayaran",options:s,"map-options":"","emit-value":"","lazy-rules":"",disable:a(d).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!a(d).errors.default_payment_mode,"error-message":a(d).errors.default_payment_mode,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(ie,{modelValue:a(d).default_print_size,"onUpdate:modelValue":m[1]||(m[1]=y=>a(d).default_print_size=y),label:"Default Ukuran Cetak",options:i,"map-options":"","emit-value":"","lazy-rules":"",disable:a(d).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!a(d).errors.default_print_size,"error-message":a(d).errors.default_print_size,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(ie,{modelValue:a(d).after_payment_action,"onUpdate:modelValue":m[2]||(m[2]=y=>a(d).after_payment_action=y),label:"Aksi Setelah Pembayaran",options:v,"map-options":"","emit-value":"","lazy-rules":"",disable:a(d).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!a(d).errors.after_payment_action,"error-message":a(d).errors.after_payment_action,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(oe,{type:"textarea",counter:"",autogrow:"",maxlength:"500",modelValue:a(d).foot_note,"onUpdate:modelValue":m[3]||(m[3]=y=>a(d).foot_note=y),modelModifiers:{trim:!0},label:"Foot Note",disable:a(d).processing,"lazy-rules":"",error:!!a(d).errors.foot_note,"error-message":a(d).errors.foot_note,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,null,{default:l(()=>[e(j,{icon:"save",type:"submit",color:"primary",label:"Simpan",disable:a(d).processing,loading:a(d).processing},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])])])]),_:1})],64)}}},Ov=Object.freeze(Object.defineProperty({__proto__:null,default:Pv},Symbol.toStringTag,{value:"Module"})),Rv={class:"q-gutter-sm"},Iv={class:"q-gutter-sm"},Dv={class:"col col-md-6 q-pa-xs"},Uv={class:"row"},Av={class:"detail-item"},jv={class:"detail-value"},Ev={class:"detail-item"},Mv={class:"detail-value"},Nv={class:"detail-item"},Bv={class:"detail-value"},zv={class:"detail-item"},Fv={class:"detail-value"},Lv={class:"detail-item"},Hv={class:"detail-value"},Kv={class:"detail-item"},Yv={class:"detail-value"},Wv={class:"detail-item"},Qv={class:"detail-value"},Jv={class:"detail-item"},Gv={class:"detail-value user-agent-value"},Xv={class:"q-pt-md"},Zv={class:"table-wrapper-scroll"},e_={key:0,class:"table-metadata"},t_={key:0},a_={colspan:"100%"},l_={class:"text-mono json-pre-scroll"},o_={key:1},n_={class:"metadata-label",style:{width:"100px"}},s_={class:"metadata-value"},r_={key:0,class:"text-mono json-pre-scroll"},i_={key:2},d_={colspan:"3"},u_={class:"table-metadata"},m_={class:"metadata-label"},c_={class:"metadata-value"},p_={class:"metadata-value"},f_={key:1,class:"text-grey-8 text-italic q-pa-sm"},kl="Rincian Log Aktifitas",g_={__name:"Detail",setup(u){const n=be(),d=()=>ot({message:`Hapus log aktifitas #${n.props.data.id}?`,url:route("admin.user-activity-log.delete",n.props.data.id),onSuccess:()=>{ee.get(route("admin.user-activity-log.index"))}});return(o,s)=>{const i=Q("i-head"),v=Q("i-link"),c=Q("authenticated-layout");return p(),$(K,null,[e(i,{title:kl}),e(c,{"show-drawer-button":!0},{title:l(()=>[_(r(kl))]),"left-button":l(()=>[t("div",Rv,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=m=>o.$goBack())})])]),"right-button":l(()=>[t("div",Iv,[e(j,{icon:"delete",dense:"",color:"grey",size:"sm",rounded:"",flat:"",onClick:s[1]||(s[1]=m=>d())})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Dv,[t("div",Uv,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"detail-group"},{default:l(()=>[s[20]||(s[20]=t("div",{class:"text-subtitle1 text-bold text-grey-8 q-mb-sm"}," Info Log Aktifitas Pengguna ",-1)),t("div",Av,[s[2]||(s[2]=t("div",{class:"detail-label"},"ID",-1)),s[3]||(s[3]=t("div",{class:"detail-separator"},":",-1)),t("div",jv,r(a(n).props.data.id),1)]),t("div",Ev,[s[4]||(s[4]=t("div",{class:"detail-label"},"Waktu",-1)),s[5]||(s[5]=t("div",{class:"detail-separator"},":",-1)),t("div",Mv,r(a(ge)(a(n).props.data.logged_at)),1)]),t("div",Nv,[s[6]||(s[6]=t("div",{class:"detail-label"},"Pengguna",-1)),s[7]||(s[7]=t("div",{class:"detail-separator"},":",-1)),t("div",Bv,[e(v,{href:o.route("admin.user.detail",{id:a(n).props.data.user_id})},{default:l(()=>[_(r(a(n).props.data.username),1)]),_:1},8,["href"])])]),t("div",zv,[s[8]||(s[8]=t("div",{class:"detail-label"},"Kategori",-1)),s[9]||(s[9]=t("div",{class:"detail-separator"},":",-1)),t("div",Fv,r(a(n).props.data.activity_category_label),1)]),t("div",Lv,[s[10]||(s[10]=t("div",{class:"detail-label"},"Aktifitas",-1)),s[11]||(s[11]=t("div",{class:"detail-separator"},":",-1)),t("div",Hv,r(a(n).props.data.activity_name_label),1)]),t("div",Kv,[s[12]||(s[12]=t("div",{class:"detail-label"},"Deskripsi",-1)),s[13]||(s[13]=t("div",{class:"detail-separator"},":",-1)),t("div",Yv,r(a(n).props.data.description),1)]),t("div",Wv,[s[14]||(s[14]=t("div",{class:"detail-label"},"Alamat IP",-1)),s[15]||(s[15]=t("div",{class:"detail-separator"},":",-1)),t("div",Qv,r(a(n).props.data.ip_address),1)]),t("div",Jv,[s[16]||(s[16]=t("div",{class:"detail-label"},"User Agent",-1)),s[17]||(s[17]=t("div",{class:"detail-separator"},":",-1)),t("div",Gv,r(a(n).props.data.user_agent),1)]),t("div",Xv,[s[19]||(s[19]=t("div",{class:"q-my-sm text-bold text-grey-8"},"Meta Data:",-1)),t("div",Zv,[Object.keys(a(n).props.data.metadata).length>0?(p(),$("table",e_,[t("tbody",null,[(p(!0),$(K,null,Ke(a(n).props.formatted_metadata,(m,g)=>(p(),$(K,{key:g},[m.type==="plain"?(p(),$("tr",t_,[t("td",a_,[t("pre",l_,r(m.value),1)])])):k("",!0),m.type==="simple"?(p(),$("tr",o_,[t("td",n_,r(m.label),1),t("td",s_,[m.label=="Data Mentah (JSON)"?(p(),$("pre",r_,r(m.value),1)):(p(),$(K,{key:1},[_(r(m.value),1)],64))])])):k("",!0),m.type==="comparison"?(p(),$("tr",i_,[t("td",d_,[t("table",u_,[s[18]||(s[18]=t("thead",null,[t("tr",null,[t("td",{class:"metadata-header",style:{width:"100px"}}," Bidang "),t("td",{class:"metadata-header"},"Nilai Lama"),t("td",{class:"metadata-header"},"Nilai Baru")])],-1)),t("tbody",null,[(p(!0),$(K,null,Ke(m.value,(f,y)=>(p(),$("tr",{class:xe(f.new_value!==f.old_value?"value-changed":"")},[t("td",m_,r(f.field),1),t("td",c_,r(f.old_value),1),t("td",p_,r(f.new_value),1)],2))),256))])])])])):k("",!0)],64))),128))])])):(p(),$("div",f_," Tidak tersedia "))])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},b_=_t(g_,[["__scopeId","data-v-37e21f0d"]]),v_=Object.freeze(Object.defineProperty({__proto__:null,default:b_},Symbol.toStringTag,{value:"Module"}));function __(){return{protectClick:n=>(d,o)=>{const s=window.getSelection();if(s&&!s.isCollapsed){o.stopPropagation();return}n(d,o)}}}const y_={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},k_={class:"q-pa-xs"},w_={class:"full-width row flex-center text-grey-8 q-gutter-sm"},h_={key:0},$_={class:"flex justify-end"},wl="Log Aktifitas Pengguna",x_={__name:"Index",setup(u){const n=be(),d=$e(),o=V(!1),s=V([]),i=V(!0),v=V(null),c=V(null),m=We(c),{protectClick:g}=__(),f=Pe({user_id:"all",activity_category:"all",activity_name:"all",search:"",...Re()}),y=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),b=[{value:"all",label:"Semua"},...n.props.users.map(z=>({value:z.id,label:z.username+" - "+z.name}))],S=[{value:"all",label:"Semua"},...Object.entries(n.props.activity_categories).map(([z,J])=>({value:z,label:J}))],A=[{value:"all",label:"Semua"},...Object.entries(n.props.activity_names).map(([z,J])=>({value:z,label:J}))],h=V(S),D=V(A),R=(z,J)=>{if(z===""){J(()=>{h.value=S});return}J(()=>{const O=z.toLowerCase();h.value=S.filter(U=>U.label.toLowerCase().indexOf(O)>-1)})},T=(z,J)=>{if(z===""){J(()=>{D.value=A});return}J(()=>{const O=z.toLowerCase();D.value=A.filter(U=>U.label.toLowerCase().indexOf(O)>-1)})},B=[{name:"id",label:d.screen.lt.md?"Log Item":"ID",field:"id",align:"left",sortable:!0},{name:"logged_at",label:"Waktu",field:"logged_at",align:"left",sortable:!0},{name:"username",label:"Pengguna",field:"username",align:"left",sortable:!0},{name:"activity_category",label:"Kategori Aktifitas",field:"activity_category",align:"left",sortable:!0},{name:"activity_name",label:"Nama Aktifitas",field:"activity_name",align:"left",sortable:!0},{name:"description",label:"Deskripsi",field:"description",align:"left",sortable:!0},{name:"action",align:"right"}];he(()=>{w()});const C=z=>ot({message:`Hapus log #${z.id}?`,url:route("admin.user-activity-log.delete",z.id),fetchItemsCallback:w,loading:i}),w=(z=null)=>{Ie({pagination:y,filter:f,props:z,rows:s,url:route("admin.user-activity-log.data"),loading:i,tableRef:v})},E=()=>w(),F=g(z=>ee.get(route("admin.user-activity-log.detail",{id:z.id}))),M=G(()=>d.screen.gt.sm?B:B.filter(z=>z.name==="id"||z.name==="action")),x=()=>{Kt.create({title:"PERINGATAN: Hapus Permanen Log",message:"Anda yakin ingin menghapus SELURUH log aktivitas pengguna? Aksi ini tidak dapat dibatalkan dan akan menghapus semua rekaman riwayat.",focus:"cancel",cancel:!0,persistent:!0,ok:{label:"YA, HAPUS SEKARANG",color:"negative"},cancel:{label:"Batal"}}).onOk(()=>{axios.post(route("admin.user-activity-log.clear")).then(()=>{bt("Seluruh log telah dibersihkan."),w()}).catch(z=>{var O,U;const J=((U=(O=z.response)==null?void 0:O.data)==null?void 0:U.message)||"Terjadi kesalahan saat membersihkan log aktifitas pengguna.";gt(J,"bottom"),console.error(z)})})};return(z,J)=>{const O=Q("i-head"),U=Q("i-link"),Z=Q("authenticated-layout");return p(),$(K,null,[e(O,{title:wl}),e(Z,null,Le({title:l(()=>[_(r(wl))]),"right-button":l(()=>[e(j,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:J[0]||(J[0]=se=>o.value=!o.value)},null,8,["icon"]),z.$can("admin.user-activity-log.clear")?(p(),I(j,{key:0,icon:"delete_sweep",dense:"",rounded:"",flat:"",class:"q-ml-sm",color:"negative",onClick:x})):k("",!0)]),default:l(()=>[t("div",k_,[e(Te,{class:"full-height-table",ref_key:"tableRef",ref:v,s:"",flat:"",bordered:"",square:"",color:"primary","row-key":"id",pagination:y.value,"onUpdate:pagination":J[7]||(J[7]=se=>y.value=se),filter:f.search,loading:i.value,columns:M.value,rows:s.value,"rows-per-page-options":[10,25,50],style:Be({height:a(m)}),onRequest:w,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:se,message:ne,filter:qe})=>[t("div",w_,[t("span",null,r(ne)+" "+r(qe?" with term "+qe:""),1)])]),body:l(se=>[e(Ce,{props:se,class:"cursor-pointer",onClick:X(ne=>a(F)(se.row,ne),["stop"])},{default:l(()=>[e(H,{key:"id",props:se},{default:l(()=>[t("div",null,[a(d).screen.lt.md?(p(),$(K,{key:0},[e(q,{name:"tag",class:"inline-icon"}),J[8]||(J[8]=_(" ID Aktifitas: "))],64)):k("",!0),_(" "+r(se.row.id),1)]),a(d).screen.lt.md?(p(),$("div",h_,[t("div",null,[e(q,{name:"calendar_clock",class:"inline-icon"}),_(" "+r(a(ge)(se.row.logged_at)),1)]),t("div",null,[e(q,{name:"person",class:"inline-icon"}),e(U,{onClick:J[5]||(J[5]=X(()=>{},["stop"])),href:z.route("admin.user.detail",{id:se.row.user_id})},{default:l(()=>[_(r(se.row.username),1)]),_:2},1032,["href"])]),t("div",null,[e(q,{name:"category",class:"inline-icon"}),_(" "+r(se.row.activity_category_label)+" > "+r(se.row.activity_name_label),1)]),t("div",null,[e(q,{name:"notes",class:"inline-icon"}),_(" "+r(se.row.description),1)])])):k("",!0)]),_:2},1032,["props"]),e(H,{key:"logged_at",props:se},{default:l(()=>[_(r(a(ge)(se.row.logged_at)),1)]),_:2},1032,["props"]),e(H,{key:"username",props:se},{default:l(()=>[e(U,{onClick:J[6]||(J[6]=X(()=>{},["stop"])),href:z.route("admin.user.detail",{id:se.row.user_id})},{default:l(()=>[_(r(se.row.username),1)]),_:2},1032,["href"])]),_:2},1032,["props"]),e(H,{key:"activity_category",props:se},{default:l(()=>[_(r(se.row.activity_category_label),1)]),_:2},1032,["props"]),e(H,{key:"activity_name",props:se},{default:l(()=>[_(r(se.row.activity_name_label),1)]),_:2},1032,["props"]),e(H,{key:"description",props:se,class:"wrap-column"},{default:l(()=>[_(r(se.row.description),1)]),_:2},1032,["props"]),e(H,{key:"action",props:se},{default:l(()=>[t("div",$_,[z.$can("admin.user-role.delete")?(p(),I(j,{key:0,onClick:X(ne=>C(se.row),["stop"]),icon:"delete_forever",flat:"",color:"red",dense:"",size:"sm",rounded:""},null,8,["onClick"])):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(at,{class:"filter-bar",ref_key:"filterToolbarRef",ref:c},{default:l(()=>[t("div",y_,[e(ie,{modelValue:f.user_id,"onUpdate:modelValue":[J[1]||(J[1]=se=>f.user_id=se),E],class:"custom-select col-xs-12 col-sm-2",options:b,label:"Pengguna",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(ie,{modelValue:f.activity_category,"onUpdate:modelValue":[J[2]||(J[2]=se=>f.activity_category=se),E],class:"custom-select col-xs-12 col-sm-2",options:h.value,label:"Kategori",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"},"use-input":"",onFilter:R,clearable:""},null,8,["modelValue","options"]),e(ie,{modelValue:f.activity_name,"onUpdate:modelValue":[J[3]||(J[3]=se=>f.activity_name=se),E],class:"custom-select col-xs-12 col-sm-2",options:D.value,label:"Aktifitas",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"},"use-input":"",clearable:"",onFilter:T},null,8,["modelValue","options"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:f.search,"onUpdate:modelValue":J[4]||(J[4]=se=>f.search=se),placeholder:"Cari",clearable:""},{append:l(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},S_=Object.freeze(Object.defineProperty({__proto__:null,default:x_},Symbol.toStringTag,{value:"Module"})),Oo={__name:"UpdatePasswordForm",setup(u){const n=V(!1),d=V(null),o=V(null),s=Me({current_password:"",password:"",password_confirmation:""}),i=()=>{s.clearErrors(),s.post(route("admin.user-profile.update-password"),{preserveScroll:!0,onSuccess:()=>s.reset(),onError:()=>{s.errors.password&&(s.reset("password","password_confirmation"),d.value.focus()),s.errors.current_password&&(s.reset("current_password"),o.value.focus())}})};return(v,c)=>(p(),I(Ne,{class:"row",onSubmit:X(i,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[c[6]||(c[6]=t("div",{class:"text-h6 q-my-xs text-subtitle1"},"Perbarui Kata Sandi",-1)),c[7]||(c[7]=t("p",{class:"text-caption text-grey-9"}," Pastikan akun anda menggunakan kata sandi yang kuat agar akun tetap aman. ",-1)),e(oe,{modelValue:a(s).current_password,"onUpdate:modelValue":c[1]||(c[1]=m=>a(s).current_password=m),type:n.value?"text":"password",label:"Kata Sandi Sekarang",autocomplete:"off",disable:a(s).processing,error:!!a(s).errors.current_password,"error-message":a(s).errors.current_password,rules:[m=>m&&m.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(j,{dense:"",flat:"",round:"",onClick:c[0]||(c[0]=m=>n.value=!n.value)},{default:l(()=>[e(q,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(oe,{modelValue:a(s).password,"onUpdate:modelValue":c[3]||(c[3]=m=>a(s).password=m),type:n.value?"text":"password",label:"Kata Sandi Baru",autocomplete:"off",disable:a(s).processing,error:!!a(s).errors.password,"error-message":a(s).errors.password,rules:[m=>m&&m.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(j,{dense:"",flat:"",round:"",onClick:c[2]||(c[2]=m=>n.value=!n.value)},{default:l(()=>[e(q,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(oe,{modelValue:a(s).password_confirmation,"onUpdate:modelValue":c[5]||(c[5]=m=>a(s).password_confirmation=m),type:n.value?"text":"password",label:"Konfirmasi Kata Sandi",autocomplete:"off",disable:a(s).processing,error:!!a(s).errors.password_confirmation,"error-message":a(s).errors.password_confirmation,rules:[m=>m&&m.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(j,{dense:"",flat:"",round:"",onClick:c[4]||(c[4]=m=>n.value=!n.value)},{default:l(()=>[e(q,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"])]),_:1}),e(ae,null,{default:l(()=>[e(j,{type:"submit",label:"Perbarui Kata Sandi",color:"primary",icon:"save",disable:a(s).processing,loading:a(s).processing},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},V_=Object.freeze(Object.defineProperty({__proto__:null,default:Oo},Symbol.toStringTag,{value:"Module"})),Ro={__name:"UpdateProfileInformationForm",setup(u){const d=be().props.auth.user,o=Me({name:d.name,username:d.username,type:window.CONSTANTS.USER_TYPES[d.type]}),s=()=>tt({form:o,url:route("admin.user-profile.update")});return(i,v)=>(p(),I(Ne,{class:"row",onSubmit:X(s,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[v[3]||(v[3]=t("div",{class:"text-h6 q-my-xs text-subtitle1"},"Profil Saya",-1)),v[4]||(v[4]=t("p",{class:"text-caption text-grey-9"},"Perbarui profil anda.",-1)),e(oe,{modelValue:a(o).username,"onUpdate:modelValue":v[0]||(v[0]=c=>a(o).username=c),label:"ID Pengguna",disable:a(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"]),e(oe,{modelValue:a(o).name,"onUpdate:modelValue":v[1]||(v[1]=c=>a(o).name=c),modelModifiers:{trim:!0},label:"Nama",disable:a(o).processing,error:!!a(o).errors.name,"error-message":a(o).errors.name,rules:[c=>c&&c.length>0||"Name harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(oe,{modelValue:a(o).type,"onUpdate:modelValue":v[2]||(v[2]=c=>a(o).type=c),label:"Jenis Akun",disable:a(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"])]),_:1}),e(ae,null,{default:l(()=>[e(j,{type:"submit",label:"Perbarui Profil Saya",icon:"save",color:"primary",disable:a(o).processing,loading:a(o).processing},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},q_=Object.freeze(Object.defineProperty({__proto__:null,default:Ro},Symbol.toStringTag,{value:"Module"})),C_={class:"q-pa-xs"},T_={class:"row justify-center"},P_={class:"col col-md-6"},hl="Profil Saya",O_={__name:"Edit",setup(u){return(n,d)=>{const o=Q("i-head"),s=Q("authenticated-layout");return p(),$(K,null,[e(o,{title:hl}),e(s,null,{title:l(()=>[_(r(hl))]),default:l(()=>[t("div",C_,[t("div",T_,[t("div",P_,[e(Ro,{class:"q-mb-md"}),e(Oo)])])])]),_:1})],64)}}},R_=Object.freeze(Object.defineProperty({__proto__:null,default:O_},Symbol.toStringTag,{value:"Module"})),I_={class:"q-gutter-sm"},D_={class:"q-gutter-sm"},U_={class:"col col-md-6 q-pa-xs"},A_={class:"row"},j_={class:"detail"},E_={key:0},M_={key:1,class:"text-grey-8 text-italic"},N_={key:2},B_={class:"text-subtitle2 text-bold text-grey-8 q-mt-xs"},z_={key:3,class:"text-grey-8 text-italic"},$l="Rincian Role Pengguna",F_={__name:"Detail",setup(u){const n=be(),d=G(()=>{const o={};return n.props.data.permissions&&n.props.data.permissions.forEach(s=>{const i=s.category;o[i]||(o[i]=[]),o[i].push(s)}),o});return(o,s)=>{const i=Q("i-head"),v=Q("i-link"),c=Q("authenticated-layout");return p(),$(K,null,[e(i,{title:$l}),e(c,{"show-drawer-button":!0},{title:l(()=>[_(r($l))]),"left-button":l(()=>[t("div",I_,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=m=>o.$goBack())})])]),"right-button":l(()=>[t("div",D_,[e(j,{icon:"edit",dense:"",color:"grey",size:"sm",rounded:"",flat:"",onClick:s[1]||(s[1]=m=>a(ee).get(o.route("admin.user-role.edit",{id:a(n).props.data.id})))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",U_,[t("div",A_,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[s[7]||(s[7]=t("div",{class:"text-subtitle1 text-bold text-grey-8"},"Info Role",-1)),t("table",j_,[t("tbody",null,[t("tr",null,[s[2]||(s[2]=t("td",{style:{width:"100px"}},"Nama Role",-1)),s[3]||(s[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.name),1)]),t("tr",null,[s[4]||(s[4]=t("td",null,"Deskripsi",-1)),s[5]||(s[5]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.description),1)])])]),s[8]||(s[8]=t("div",{class:"text-subtitle1 text-bold text-grey-8 q-mt-md"}," Daftar Pengguna ",-1)),a(n).props.data.users.length>0?(p(),$("div",E_,[(p(!0),$(K,null,Ke(a(n).props.data.users,m=>(p(),$("div",null,[s[6]||(s[6]=_("  ")),e(v,{href:o.route("admin.user.detail",{id:m.id})},{default:l(()=>[_(r(m.username)+" - "+r(m.name),1)]),_:2},1032,["href"])]))),256))])):(p(),$("div",M_," Belum ada akun pengguna yang terdaftar. ")),s[9]||(s[9]=t("div",{class:"text-subtitle1 text-bold text-grey-8 q-mt-md"}," Daftar Hak Akses ",-1)),a(n).props.data.permissions.length>0?(p(),$("div",N_,[(p(!0),$(K,null,Ke(d.value,(m,g)=>(p(),$("div",{key:g},[t("div",B_,r(g),1),(p(!0),$(K,null,Ke(m,f=>(p(),$("div",{key:f.id},"  "+r(f.label),1))),128))]))),128))])):(p(),$("div",z_," Belum ada hak akses yang ditetapkan. "))]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},L_=Object.freeze(Object.defineProperty({__proto__:null,default:F_},Symbol.toStringTag,{value:"Module"})),H_={class:"q-gutter-sm"},K_={class:"col col-md-6 q-pa-xs"},Y_={class:"text-subtitle2 text-bold text-grey-8 q-mt-md q-mb-sm"},W_={__name:"Editor",setup(u){const n=be(),d=(n.props.data.id?"Edit":"Tambah")+" Peran Pengguna",o=Me({id:n.props.data.id??null,name:n.props.data.name,description:n.props.data.description,permissions:n.props.data.permissions?n.props.data.permissions.map(v=>v.id):[]}),s=()=>tt({form:o,url:route("admin.user-role.save")}),i=G(()=>{const v={};return n.props.permissions&&n.props.permissions.forEach(c=>{const m=c.category;v[m]||(v[m]=[]),v[m].push(c)}),v});return(v,c)=>{const m=Q("i-head"),g=Q("authenticated-layout");return p(),$(K,null,[e(m,{title:d}),e(g,{"show-drawer-button":!0},{title:l(()=>[_(r(d))]),"left-button":l(()=>[t("div",H_,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=f=>v.$goBack())})])]),"right-button":l(()=>[e(j,{icon:"save",label:"Simpan",color:"primary",disable:a(o).processing,size:"sm",dense:"",class:"custom-dense",onClick:X(s,["prevent"])},null,8,["disable"])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",K_,[e(Ne,{class:"row",onSubmit:X(s,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[te(t("input",{type:"hidden",name:"id","onUpdate:modelValue":c[1]||(c[1]=f=>a(o).id=f)},null,512),[[ut,a(o).id]]),e(oe,{autofocus:"",modelValue:a(o).name,"onUpdate:modelValue":c[2]||(c[2]=f=>a(o).name=f),modelModifiers:{trim:!0},label:"Nama Role","lazy-rules":"",error:!!a(o).errors.name,disable:a(o).processing,"error-message":a(o).errors.name,rules:[f=>f&&f.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(oe,{modelValue:a(o).description,"onUpdate:modelValue":c[3]||(c[3]=f=>a(o).description=f),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.description,"error-message":a(o).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),(p(!0),$(K,null,Ke(i.value,(f,y)=>(p(),$("div",{key:y},[t("div",Y_,r(y),1),(p(!0),$(K,null,Ke(f,b=>(p(),$("div",{key:b.id},[e(na,{class:"q-ma-none q-pa-none list-checkbox",modelValue:a(o).permissions,"onUpdate:modelValue":S=>a(o).permissions=S,val:b.id,label:b.label,color:"primary"},null,8,["modelValue","onUpdate:modelValue","val","label"])]))),128))]))),128))]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Q_=_t(W_,[["__scopeId","data-v-2c2a059c"]]),J_=Object.freeze(Object.defineProperty({__proto__:null,default:Q_},Symbol.toStringTag,{value:"Module"})),G_={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},X_={class:"q-pa-xs"},Z_={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ey={class:"flex justify-end"},xl="Role Pengguna",ty={__name:"Index",setup(u){const n=$e(),d=V(!1),o=V([]),s=V(!0),i=V(null),v=V(null),c=We(v),m=Pe({search:"",...Re()}),g=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),f=[{name:"name",label:"Nama Role",field:"name",align:"left",sortable:!0},{name:"description",label:"Deskripsi",field:"description",align:"left",sortable:!0},{name:"action",align:"right"}];he(()=>{b()});const y=h=>ot({message:`Hapus role ${h.name}?`,url:route("admin.user-role.delete",h.id),fetchItemsCallback:b,loading:s}),b=(h=null)=>{Ie({pagination:g,filter:m,props:h,rows:o,url:route("admin.user-role.data"),loading:s,tableRef:i})},S=h=>ee.get(route("admin.user-role.detail",{id:h.id})),A=G(()=>n.screen.gt.sm?f:f.filter(h=>h.name==="name"||h.name==="action"));return(h,D)=>{const R=Q("i-head"),T=Q("authenticated-layout");return p(),$(K,null,[e(R,{title:xl}),e(T,null,Le({title:l(()=>[_(r(xl))]),"right-button":l(()=>[e(j,{icon:d.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:D[0]||(D[0]=B=>d.value=!d.value)},null,8,["icon"]),h.$can("admin.user-role.add")?(p(),I(j,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:D[1]||(D[1]=B=>a(ee).get(h.route("admin.user-role.add")))})):k("",!0)]),default:l(()=>[t("div",X_,[e(Te,{class:"full-height-table",ref_key:"tableRef",ref:i,s:"",flat:"",bordered:"",square:"",color:"primary","row-key":"id",pagination:g.value,"onUpdate:pagination":D[4]||(D[4]=B=>g.value=B),filter:m.search,loading:s.value,columns:A.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Be({height:a(c)}),onRequest:b,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:B,message:C,filter:w})=>[t("div",Z_,[t("span",null,r(C)+" "+r(w?" with term "+w:""),1)])]),body:l(B=>[e(Ce,{props:B,class:"cursor-pointer",onClick:C=>S(B.row)},{default:l(()=>[e(H,{key:"name",props:B,class:"wrap-column"},{default:l(()=>[t("div",null,[a(n).screen.lt.md?(p(),I(q,{key:0,name:"person"})):k("",!0),_(" "+r(B.row.name),1)])]),_:2},1032,["props"]),e(H,{key:"description",props:B,class:"wrap-column"},{default:l(()=>[_(r(B.row.description),1)]),_:2},1032,["props"]),e(H,{key:"action",props:B},{default:l(()=>[t("div",ey,[h.$can("admin.user-role.add")||h.$can("admin.user-role.edit")||h.$can("admin.user-role.delete")?(p(),I(j,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:D[3]||(D[3]=X(()=>{},["stop"]))},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[h.$can("admin.user-role.add")?te((p(),I(le,{key:0,clickable:"",onClick:X(C=>a(ee).get(h.route("admin.user-role.duplicate",B.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"file_copy"})]),_:1}),e(N,null,{default:l(()=>D[5]||(D[5]=[_(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),h.$can("admin.user-role.edit")?te((p(),I(le,{key:1,clickable:"",onClick:X(C=>a(ee).get(h.route("admin.user-role.edit",B.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"edit"})]),_:1}),e(N,null,{default:l(()=>D[6]||(D[6]=[_("Edit")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),h.$can("admin.user-role.delete")?te((p(),I(le,{key:2,onClick:X(C=>y(B.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>D[7]||(D[7]=[_("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[d.value?{name:"header",fn:l(()=>[e(at,{class:"filter-bar",ref_key:"filterToolbarRef",ref:v},{default:l(()=>[t("div",G_,[e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":D[2]||(D[2]=B=>m.search=B),placeholder:"Cari",clearable:""},{append:l(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},ay=Object.freeze(Object.defineProperty({__proto__:null,default:ty},Symbol.toStringTag,{value:"Module"})),ly={class:"q-gutter-sm"},oy={class:"q-gutter-sm"},ny={class:"row justify-center"},sy={class:"col col-md-6 q-pa-xs"},ry={class:"row"},iy={class:"detail"},dy={key:0},uy={key:0},my={key:1},cy={key:2},Sl="Rincian Pengguna",py={__name:"Detail",setup(u){const n=be();return(d,o)=>{const s=Q("i-head"),i=Q("i-link"),v=Q("authenticated-layout");return p(),$(K,null,[e(s,{title:Sl}),e(v,{"show-drawer-button":!0},{title:l(()=>[_(r(Sl))]),"left-button":l(()=>[t("div",ly,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=c=>d.$inertia.get(d.route("admin.user.index")))})])]),"right-button":l(()=>[t("div",oy,[d.$can("admin.user.edit")&&a(n).props.data.id!=a(n).props.auth.user.id?(p(),I(j,{key:0,icon:"edit",dense:"",rounded:"",flat:"",size:"sm",color:"grey",onClick:o[1]||(o[1]=c=>d.$inertia.get(d.route("admin.user.edit",{id:a(n).props.data.id})))})):k("",!0)])]),default:l(()=>[t("div",ny,[t("div",sy,[t("div",ry,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[o[19]||(o[19]=t("div",{class:"text-subtitle1 text-bold text-grey-9"}," Profil Pengguna ",-1)),t("table",iy,[t("tbody",null,[t("tr",null,[o[2]||(o[2]=t("td",{style:{width:"125px"}},"ID Pengguna",-1)),o[3]||(o[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.username),1)]),t("tr",null,[o[4]||(o[4]=t("td",null,"Nama Pengguna",-1)),o[5]||(o[5]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.name),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"Jenis Akun",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,r(d.$CONSTANTS.USER_TYPES[a(n).props.data.type]),1)]),a(n).props.data.roles.length>0?(p(),$("tr",dy,[o[8]||(o[8]=t("td",null,"Peran Pengguna",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,[(p(!0),$(K,null,Ke(a(n).props.data.roles,(c,m)=>(p(),$("div",{key:c.id,class:"inline"},[e(i,{href:d.route("admin.user-role.detail",{id:c.id})},{default:l(()=>[_(r(c.name),1)]),_:2},1032,["href"]),m<a(n).props.data.roles.length-1?(p(),$("span",uy,", ")):k("",!0)]))),128))])])):k("",!0),t("tr",null,[o[10]||(o[10]=t("td",null,"Dibuat",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,r(a(ge)(a(n).props.data.created_at)),1)]),a(n).props.data.updated_at?(p(),$("tr",my,[o[12]||(o[12]=t("td",null,"Diperbarui",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,r(a(ge)(a(n).props.data.updated_at)),1)])):k("",!0),t("tr",null,[o[14]||(o[14]=t("td",null,"Terakhir login",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.last_login_datetime?d.$dayjs(a(n).props.data.last_login_datetime).format("DD MMMM YYYY HH:mm:ss"):"Belum pernah login"),1)]),a(n).props.data.last_activity_datetime?(p(),$("tr",cy,[o[17]||(o[17]=t("td",null,"Aktifitas Terakhir",-1)),o[18]||(o[18]=t("td",null,":",-1)),t("td",null,[_(r(d.$dayjs(a(n).props.data.last_activity_datetime).format("DD MMMM YYYY HH:mm:ss"))+" ",1),o[16]||(o[16]=t("br",null,null,-1)),_(r(a(n).props.data.last_activity_description),1)])])):k("",!0)])])]),_:1})]),_:1})])])])]),_:1})],64)}}},fy=Object.freeze(Object.defineProperty({__proto__:null,default:py},Symbol.toStringTag,{value:"Module"}));function gy(u){return new RegExp("^(?=.{3,16}$)(?![_-])(?!.*[_-]{2})[a-zA-Z0-9_-]+(?<![_-])$").test(u)}const by={class:"q-gutter-sm"},vy={class:"row justify-center"},_y={class:"col col-md-6 q-pa-xs"},yy={__name:"Editor",setup(u){const n=lt(window.CONSTANTS.USER_TYPES),d=be(),o=d.props.roles,s=d.props.data.id?"Edit Pengguna":"Tambah Pengguna",i=d.props.data.roles,v=Array.isArray(i)?i.map(g=>g.id):[],c=Me({id:d.props.data.id,name:d.props.data.name,username:d.props.data.username,password:"",type:d.props.data.type?d.props.data.type:n[0].value,active:!!d.props.data.active,roles:v}),m=()=>tt({form:c,url:route("admin.user.save")});return(g,f)=>{const y=Q("i-head"),b=Q("authenticated-layout");return p(),$(K,null,[e(y,{title:a(s)},null,8,["title"]),e(b,{"show-drawer-button":!0},{title:l(()=>[_(r(a(s)),1)]),"left-button":l(()=>[t("div",by,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:f[0]||(f[0]=S=>g.$goBack())})])]),default:l(()=>[t("div",vy,[t("div",_y,[e(Ne,{class:"row",onSubmit:X(m,["prevent"])},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[te(t("input",{type:"hidden",name:"id","onUpdate:modelValue":f[1]||(f[1]=S=>a(c).id=S)},null,512),[[ut,a(c).id]]),e(oe,{autofocus:"",modelValue:a(c).username,"onUpdate:modelValue":f[2]||(f[2]=S=>a(c).username=S),modelModifiers:{trim:!0},type:"text",label:"Username","lazy-rules":"",disable:a(c).processing,error:!!a(c).errors.username,"error-message":a(c).errors.username,rules:[S=>S&&S.length>0||"Username harus diisi.",S=>a(gy)(S)||"Username tidak valid."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(oe,{modelValue:a(c).name,"onUpdate:modelValue":f[3]||(f[3]=S=>a(c).name=S),modelModifiers:{trim:!0},label:"Nama",error:!!a(c).errors.name,disable:a(c).processing,"error-message":a(c).errors.name,rules:[S=>S&&S.length>0||"Nama harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(oe,{modelValue:a(c).password,"onUpdate:modelValue":f[4]||(f[4]=S=>a(c).password=S),type:"password",label:"Kata Sandi","lazy-rules":"",disable:a(c).processing,error:!!a(c).errors.password,"error-message":a(c).errors.password,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(ie,{modelValue:a(c).type,"onUpdate:modelValue":f[5]||(f[5]=S=>a(c).type=S),label:"Jenis Akun",options:a(n),"map-options":"","emit-value":"","lazy-rules":"",disable:a(c).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!a(c).errors.type,"error-message":a(c).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"]),a(c).type=="standard_user"?(p(),I(ie,{key:0,modelValue:a(c).roles,"onUpdate:modelValue":f[6]||(f[6]=S=>a(c).roles=S),label:"Peran",options:a(o),"option-value":"id","option-label":"name","map-options":"","emit-value":"",multiple:"","lazy-rules":"","use-chips":"",disable:a(c).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!a(c).errors.roles||!!a(c).errors["roles.0"],"error-message":a(c).errors.roles||a(c).errors["roles.0"],"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"])):k("",!0),e(ua,{modelValue:a(c).active,"onUpdate:modelValue":f[7]||(f[7]=S=>a(c).active=S),disable:a(c).processing,label:"Aktif"},null,8,["modelValue","disable"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(j,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(c).processing,onClick:m},null,8,["disable"]),e(j,{icon:"cancel",label:"Batal",class:"text-black",disable:a(c).processing,onClick:f[8]||(f[8]=S=>g.$goBack())},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})],64)}}},ky=Object.freeze(Object.defineProperty({__proto__:null,default:yy},Symbol.toStringTag,{value:"Module"})),wy={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},hy={class:"q-pa-xs"},$y={class:"full-width row flex-center text-grey-8 q-gutter-sm"},xy={class:"elipsis",style:{"max-width":"200px"}},Sy={class:"flex justify-end"},Vl="Pengguna",Vy={__name:"Index",setup(u){const n=[{value:"all",label:"Semua"},...lt(window.CONSTANTS.USER_TYPES)],d=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],o=be(),s=$e(),i=o.props.auth.user,v=V([]),c=V(!0),m=V(!1),g=Pe({type:"all",roles:[],status:"active",search:""}),f=o.props.roles.map(w=>({value:w.id,label:w.name})),y=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"username",descending:!1}),b=[{name:"username",label:"ID Pengguna",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"role",label:"Hak Akses",field:"role",align:"center",sortable:!0},{name:"action",align:"right"}];he(()=>{A()});const S=()=>A(),A=(w=null)=>Ie({pagination:y,props:w,rows:v,loading:c,filter:g,url:route("admin.user.data"),tableRef:T}),h=w=>ot({url:route("admin.user.delete",w.id),message:`Hapus pengguna ${w.username}?`,fetchItemsCallback:A,loading:c}),D=G(()=>s.screen.gt.sm?b:b.filter(w=>w.name==="username"||w.name==="action")),R=w=>ee.get(route("admin.user.detail",w.id)),T=V(null),B=V(null),C=We(B);return(w,E)=>{const P=Q("i-head"),F=Q("authenticated-layout");return p(),$(K,null,[e(P,{title:Vl}),e(F,null,Le({title:l(()=>[_(r(Vl))]),"right-button":l(()=>[e(j,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:E[0]||(E[0]=M=>m.value=!m.value)},null,8,["icon"]),w.$can("admin.user.add")?(p(),I(j,{key:0,icon:"add",dense:"",rounded:"",color:"primary",class:"q-ml-sm",onClick:E[1]||(E[1]=M=>a(ee).get(w.route("admin.user.add")))})):k("",!0)]),default:l(()=>[t("div",hy,[e(Te,{ref_key:"tableRef",ref:T,class:"full-height-table",style:Be({height:a(C)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id",pagination:y.value,"onUpdate:pagination":E[7]||(E[7]=M=>y.value=M),filter:g.search,loading:c.value,columns:D.value,rows:v.value,"rows-per-page-options":[10,25,50],onRequest:A,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:M,message:x,term:z})=>[t("div",$y,[t("span",null,r(x)+" "+r(z?" with term "+z:""),1)])]),body:l(M=>[e(Ce,{props:M,class:xe([M.row.active?"":"bg-red-1","cursor-pointer"]),onClick:x=>R(M.row)},{default:l(()=>[e(H,{key:"username",props:M},{default:l(()=>[t("div",null,[a(s).screen.gt.sm?k("",!0):(p(),$(K,{key:0},[e(q,{name:"person",class:"inline-icon"}),E[8]||(E[8]=_(" Username: "))],64)),_(" "+r(M.row.username),1)]),a(s).screen.gt.sm?k("",!0):(p(),$(K,{key:0},[t("div",null,[e(q,{name:"person",class:"inline-icon"}),_(" Nama: "+r(M.row.name),1)]),t("div",xy,[e(q,{name:"group",class:"inline-icon"}),E[9]||(E[9]=_(" Jenis Akun: ")),t("span",null,r(w.$CONSTANTS.USER_TYPES[M.row.type]),1)]),t("div",null,[e(q,{name:"group",class:"inline-icon"}),_(" Peran: "+r(M.row.roles.map(x=>x.name).join(",")),1)])],64))]),_:2},1032,["props"]),e(H,{key:"name",props:M},{default:l(()=>[_(r(M.row.name),1)]),_:2},1032,["props"]),e(H,{key:"role",props:M,align:"center"},{default:l(()=>[t("span",null,r(w.$CONSTANTS.USER_TYPES[M.row.type]),1)]),_:2},1032,["props"]),e(H,{key:"action",props:M},{default:l(()=>[t("div",Sy,[w.$can("admin.user.add")||w.$can("admin.user.edit")||w.$can("admin.user.delete")?(p(),I(j,{key:0,disable:M.row.id==a(i).id||M.row.username=="admin",icon:"more_vert",dense:"",flat:"",rounded:"",onClick:E[6]||(E[6]=X(()=>{},["stop"]))},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[w.$can("admin.user.add")?te((p(),I(le,{key:0,clickable:"",onClick:X(x=>a(ee).get(w.route("admin.user.duplicate",M.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"file_copy"})]),_:1}),e(N,null,{default:l(()=>E[10]||(E[10]=[_(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),w.$can("admin.user.edit")?te((p(),I(le,{key:1,clickable:"",onClick:X(x=>a(ee).get(w.route("admin.user.edit",M.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"edit"})]),_:1}),e(N,null,{default:l(()=>E[11]||(E[11]=[_("Edit")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),w.$can("admin.user.delete")?te((p(),I(le,{key:2,onClick:X(x=>h(M.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>E[12]||(E[12]=[_("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["disable"])):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(at,{class:"filter-bar",ref_key:"filterToolbarRef",ref:B},{default:l(()=>[t("div",wy,[e(ie,{modelValue:g.type,"onUpdate:modelValue":[E[2]||(E[2]=M=>g.type=M),S],class:"custom-select col-xs-12 col-sm-2",options:n,label:"Jenis Akun",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(ie,{modelValue:g.status,"onUpdate:modelValue":[E[3]||(E[3]=M=>g.status=M),S],class:"custom-select col-xs-12 col-sm-2",options:d,label:"Status",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(ie,{modelValue:g.roles,"onUpdate:modelValue":[E[4]||(E[4]=M=>g.roles=M),S],class:"custom-select col-xs-12 col-sm-2",options:a(f),label:"Peran",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"},"use-chips":"",multiple:"",clearable:""},null,8,["modelValue","options"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:g.search,"onUpdate:modelValue":E[5]||(E[5]=M=>g.search=M),placeholder:"Cari",clearable:""},{append:l(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},qy=Object.freeze(Object.defineProperty({__proto__:null,default:Vy},Symbol.toStringTag,{value:"Module"})),Cy={class:"q-gutter-sm"},Ty={class:"col col-lg-6 q-pa-xs"},Py={class:"row q-col-gutter-sm q-mb-md"},Oy={key:0},Ry={class:"text-bold"},Iy={key:0},Dy={class:"text-caption text-grey-8"},Uy={key:1},ql="Buat Penyesuaian Stok",Ay={__name:"Create",setup(u){const n=be(),d=n.props.products,{filteredCategories:o,filterCategories:s}=Va(n.props.categories),{filteredSuppliers:i,filterSupplierFn:v}=qa(n.props.suppliers),c=V({search:null,category_id:null,supplier_id:null}),m=V([]),g=Me({type:"stock_opname",datetime:new Date,notes:null,product_ids:[]}),f=[{name:"name",label:"Nama Produk",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"center",sortable:!1,format:(D,R)=>W(D)+" "+R.uom},{name:"category",label:"Kategori",field:"category.name",align:"left"},{name:"supplier",label:"Supplier",field:"supplier.name",align:"left"},{name:"type",label:"Jenis",field:"product_type",align:"left"}],y=lt(window.CONSTANTS.STOCK_ADJUSTMENT_TYPES),b=G(()=>d.filter(D=>{let R=!0;if(c.value.search){const T=c.value.search.toLowerCase();R=D.name.toLowerCase().includes(T)||D.description.toLowerCase().includes(T)||D.barcode&&D.barcode.toLowerCase().includes(T)}return R&&c.value.category_id&&(R=D.category_id===c.value.category_id),R&&c.value.supplier_id&&(R=D.supplier_id===c.value.supplier_id),R})),S=()=>{g.product_ids=m.value.map(D=>D.id),Xt(g,{datetime:"YYYY-MM-DD HH:mm:ss"}),tt({form:g,url:route("admin.stock-adjustment.create")})},A=$e(),h=G(()=>A.screen.gt.sm?f:f.filter(D=>D.name==="name"));return(D,R)=>{const T=Q("i-head"),B=Q("authenticated-layout");return p(),$(K,null,[e(T,{title:ql}),e(B,{"show-drawer-button":!0},{title:l(()=>[_(r(ql))]),"left-button":l(()=>[t("div",Cy,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:R[0]||(R[0]=C=>a(ee).get(D.route("admin.stock-adjustment.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Ty,[e(Ne,{class:"row",onSubmit:X(S,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-sm"},{default:l(()=>[R[9]||(R[9]=t("div",{class:"text-subtitle2"},[t("b",null,"Info Penyesuaian Stok")],-1)),e(Ht,{modelValue:a(g).datetime,"onUpdate:modelValue":R[1]||(R[1]=C=>a(g).datetime=C),label:"Waktu",error:!!a(g).errors.datetime,disable:a(g).processing,"error-message":a(g).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(ie,{modelValue:a(g).type,"onUpdate:modelValue":R[2]||(R[2]=C=>a(g).type=C),options:a(y),label:"Jenis Penyesuaian",class:"custom-select",error:!!a(g).errors.type,disable:a(g).processing,"map-options":"","emit-value":"","error-message":a(g).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","error-message"]),e(oe,{modelValue:a(g).notes,"onUpdate:modelValue":R[3]||(R[3]=C=>a(g).notes=C),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(g).processing,error:!!a(g).errors.notes,"error-message":a(g).errors.notes,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,null,{default:l(()=>[R[10]||(R[10]=t("div",{class:"text-subtitle2"},[t("b",null,"Pilih Produk")],-1)),t("div",Py,[e(oe,{modelValue:c.value.search,"onUpdate:modelValue":R[4]||(R[4]=C=>c.value.search=C),label:"Cari Produk",dense:"",outlined:"",class:"col-12 col-sm-4",clearable:""},null,8,["modelValue"]),e(ie,{modelValue:c.value.category_id,"onUpdate:modelValue":R[5]||(R[5]=C=>c.value.category_id=C),label:"Kategori",class:"custom-select col-xs-12 col-md-4",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:a(o),"map-options":"",dense:"","emit-value":"",onFilter:a(s),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),e(ie,{modelValue:c.value.supplier_id,"onUpdate:modelValue":R[6]||(R[6]=C=>c.value.supplier_id=C),label:"Pemasok",class:"custom-select col-xs-12 col-md-4",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:a(i),"map-options":"",dense:"","emit-value":"",onFilter:a(v),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"])]),e(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id",columns:h.value,rows:b.value,"binary-state-sort":"","hide-pagination":!0,dense:"","rows-per-page-options":[0],selection:"multiple",selected:m.value,"onUpdate:selected":R[7]||(R[7]=C=>m.value=C)},{"body-cell-name":l(C=>[e(H,{props:C},{default:l(()=>[a(A).screen.lt.md?(p(),$("div",Oy,[t("div",Ry,r(C.row.name),1),C.row.category?(p(),$("div",Iy,r(C.row.category.name),1)):k("",!0),t("div",Dy,r(a(W)(C.row.stock))+" "+r(C.row.uom),1)])):(p(),$("div",Uy,r(C.row.name),1))]),_:2},1032,["props"])]),_:1},8,["columns","rows","selected"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(j,{icon:"play_arrow",type:"submit",label:"Lanjutkan",color:"primary",disable:a(g).processing},null,8,["disable"]),e(j,{icon:"cancel",label:"Batal",disable:a(g).processing,onClick:R[8]||(R[8]=C=>a(ee).get(D.route("admin.stock-adjustment.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},jy=Object.freeze(Object.defineProperty({__proto__:null,default:Ay},Symbol.toStringTag,{value:"Module"})),Ey={class:"q-gutter-sm"},My={class:"q-gutter-sm"},Ny={class:"row justify-center"},By={class:"col col-lg-8 q-pa-sm"},zy={class:"row"},Fy={class:"detail"},Ly={key:0},Hy={key:1},Ky={class:"text-grey-9"},Yy={__name:"Detail",setup(u){const n=be(),d=`Rincian #${n.props.data.formatted_id}`,o=n.props.details,s=[{name:"no",label:"#",field:"no",align:"left"},{name:"product_name",label:"Nama Produk",field:"product_name",align:"left"},{name:"uom",label:"Satuan",field:"uom",align:"left"},{name:"old_quantity",label:"Stok Lama",field:"old_quantity",align:"right",format:c=>W(c)},{name:"new_quantity",label:"Stok Baru",field:"new_quantity",align:"right",format:c=>W(c)},{name:"balance",label:"Selisih Stok",field:"balance",align:"right",format:c=>W(c)},{name:"cost_balance",label:"Selisih Modal",field:"cost_balance",align:"right"},{name:"price_balance",label:"Selisih Harga",field:"price_balance",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}],i=$e(),v=G(()=>i.screen.gt.sm?s:s.filter(c=>c.name==="no"));return(c,m)=>{const g=Q("i-head"),f=Q("i-link"),y=Q("authenticated-layout");return p(),$(K,null,[e(g,{title:d}),e(y,{"show-drawer-button":!0},{title:l(()=>[_(r(d))]),"left-button":l(()=>[t("div",Ey,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:m[0]||(m[0]=b=>c.$inertia.get(c.route("admin.stock-adjustment.index")))})])]),"right-button":l(()=>[t("div",My,[e(j,{icon:"print",dense:"",color:"grey-7",flat:"",rounded:"",onClick:m[1]||(m[1]=b=>c.$inertia.get(c.route("admin.stock-adjustment.print",{id:a(n).props.data.id})))})])]),default:l(()=>[t("div",Ny,[t("div",By,[t("div",zy,[e(ce,{square:"",flat:"",bordered:"",class:"q-card col"},{default:l(()=>[e(ae,null,{default:l(()=>[m[22]||(m[22]=t("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Penyesuaian Stok ",-1)),t("table",Fy,[t("tbody",null,[t("tr",null,[m[2]||(m[2]=t("td",{style:{width:"120px"}},"Kode",-1)),m[3]||(m[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,"#"+r(a(n).props.data.formatted_id),1)]),t("tr",null,[m[4]||(m[4]=t("td",null,"Jenis",-1)),m[5]||(m[5]=t("td",null,":",-1)),t("td",null,r(c.$CONSTANTS.STOCK_ADJUSTMENT_TYPES[a(n).props.data.type]),1)]),t("tr",null,[m[6]||(m[6]=t("td",null,"Status",-1)),m[7]||(m[7]=t("td",null,":",-1)),t("td",null,r(c.$CONSTANTS.STOCK_ADJUSTMENT_STATUSES[a(n).props.data.status]),1)]),t("tr",null,[m[8]||(m[8]=t("td",null,"Waktu",-1)),m[9]||(m[9]=t("td",null,":",-1)),t("td",null,r(a(ge)(a(n).props.data.datetime)),1)]),a(n).props.data.created_at?(p(),$("tr",Ly,[m[11]||(m[11]=t("td",null,"Dibuat Oleh",-1)),m[12]||(m[12]=t("td",null,":",-1)),t("td",null,[a(n).props.data.creator?(p(),$(K,{key:0},[e(f,{href:c.route("admin.user.detail",{id:a(n).props.data.creator})},{default:l(()=>[_(r(a(n).props.data.creator.username)+" - "+r(a(n).props.data.creator.name),1)]),_:1},8,["href"]),m[10]||(m[10]=_(" - "))],64)):k("",!0),_(" "+r(a(ge)(a(n).props.data.created_at)),1)])])):k("",!0),a(n).props.data.updater?(p(),$("tr",Hy,[m[14]||(m[14]=t("td",null,"Diperbarui oleh",-1)),m[15]||(m[15]=t("td",null,":",-1)),t("td",null,[a(n).props.data.updater?(p(),$(K,{key:0},[e(f,{href:c.route("admin.user.detail",{id:a(n).props.data.updater})},{default:l(()=>[_(r(a(n).props.data.updater.username)+" - "+r(a(n).props.data.updater.name),1)]),_:1},8,["href"]),m[13]||(m[13]=_(" - "))],64)):k("",!0),_(" "+r(a(ge)(a(n).props.data.updated_at)),1)])])):k("",!0),t("tr",null,[m[16]||(m[16]=t("td",null,"Total Modal",-1)),m[17]||(m[17]=t("td",null,":",-1)),t("td",null,[t("div",{class:xe(a(n).props.data.total_cost<0?"text-red-10":a(n).props.data.total_cost>0?"text-green-10":"")},r(a(Qt)(a(n).props.data.total_cost)),3)])]),t("tr",null,[m[18]||(m[18]=t("td",null,"Total Harga",-1)),m[19]||(m[19]=t("td",null,":",-1)),t("td",null,[t("div",{class:xe(a(n).props.data.total_price<0?"text-red-10":a(n).props.data.total_price>0?"text-green-10":"")},r(a(Qt)(a(n).props.data.total_price)),3)])]),t("tr",null,[m[20]||(m[20]=t("td",null,"Catatan",-1)),m[21]||(m[21]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.notes),1)])])])]),_:1}),e(ae,null,{default:l(()=>[m[27]||(m[27]=t("div",{class:"text-subtitle1 text-bold text-grey-9 q-pt-md"}," Rincian ",-1)),e(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id",dense:"",columns:v.value,rows:a(o),"hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-no":l(b=>[e(H,{props:b},{default:l(()=>[a(i).screen.lt.md?(p(),$(K,{key:1},[t("div",Ky,[t("b",null,"#"+r(b.rowIndex+1),1),_(" - "+r(b.row.product_name),1)]),t("div",null,[_(" Stok Lama: "+r(a(W)(b.row.old_quantity))+" "+r(b.row.uom),1),m[24]||(m[24]=t("br",null,null,-1)),_(" Stok Baru: "+r(a(W)(b.row.new_quantity))+" "+r(b.row.uom),1),m[25]||(m[25]=t("br",null,null,-1)),t("div",{class:xe(b.row.balance<0?"text-red-10":b.row.balance>0?"text-green-10":"")},[_(" Selisih: "+r((b.row.balance>0?"+":"")+a(W)(b.row.balance))+" "+r(b.row.uom),1),m[23]||(m[23]=t("br",null,null,-1)),_(" (Rp. "+r(a(W)(b.row.subtotal_cost))+" / Rp. "+r(a(W)(b.row.subtotal_price))+") ",1)],2),m[26]||(m[26]=t("br",null,null,-1)),_(" "+r(b.row.notes),1)])],64)):(p(),$(K,{key:0},[_(r(b.rowIndex+1),1)],64))]),_:2},1032,["props"])]),"body-cell-balance":l(b=>[e(H,{props:b},{default:l(()=>[t("div",{class:xe(b.row.balance<0?"text-red-10":b.row.balance>0?"text-green-10":"")},r((b.row.balance>0?"+":"")+a(W)(b.row.balance)),3)]),_:2},1032,["props"])]),"body-cell-cost_balance":l(b=>[e(H,{props:b},{default:l(()=>[t("div",{class:xe(b.row.balance<0?"text-red-10":b.row.balance>0?"text-green-10":"")},r(a(W)(b.row.subtotal_cost)),3)]),_:2},1032,["props"])]),"body-cell-price_balance":l(b=>[e(H,{props:b},{default:l(()=>[t("div",{class:xe(b.row.balance<0?"text-red-10":b.row.balance>0?"text-green-10":"")},r(a(W)(b.row.subtotal_price)),3)]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1})]),_:1})])])])]),_:1})],64)}}},Wy=Object.freeze(Object.defineProperty({__proto__:null,default:Yy},Symbol.toStringTag,{value:"Module"})),Qy={class:"q-gutter-sm"},Jy={class:"col col-lg-6 q-pa-xs"},Gy={class:"text-bold"},Xy={key:0},Zy={class:"text-caption text-grey-8"},Cl="Penyesuaian Stok",ek={__name:"Editor",setup(u){const n=$e(),d=be(),o=Me({id:d.props.item.id,type:d.props.item.type,datetime:new Date(d.props.item.datetime),notes:d.props.item.notes,action:"save",details:[]}),s=lt(window.CONSTANTS.STOCK_ADJUSTMENT_TYPES),i=V(d.props.details.map(g=>(typeof g.new_quantity=="string"&&(g.new_quantity=parseFloat(g.new_quantity)),g))),v=g=>{const f=()=>{o.action=g,o.details=i.value.map(y=>({id:y.id,new_quantity:y.new_quantity})),Xt(o,{datetime:"YYYY-MM-DD HH:mm:ss"}),tt({form:o,url:route("admin.stock-adjustment.save")})};g==="close"||g==="cancel"?Kt.create({title:"Konfirmasi",message:g==="cancel"?"Apakah Anda yakin akan membatalkan seluruh stok opname sesi ini?":"Apakah Anda yakin data stok opname sudah diinput dengan benar?",cancel:!0,persistent:!0}).onOk(()=>{f()}).onCancel(()=>{}):f()},c=[{name:"product_name",label:"Nama Produk",field:"product_name",align:"left",sortable:!0},{name:"uom",label:"Satuan",field:"uom",align:"center"},{name:"old_quantity",label:"Tercatat",field:"old_quantity",align:"right",format:g=>W(g)},{name:"new_quantity",label:"Aktual",field:"new_quantity",align:"right",format:g=>W(g)},{name:"balance",label:"Selisih",field:"balance",align:"right",format:(g,f)=>W(f.new_quantity-f.old_quantity)}],m=G(()=>n.screen.gt.sm?c:c.filter(g=>g.name==="product_name"||g.name==="new_quantity"));return(g,f)=>{const y=Q("i-head"),b=Q("authenticated-layout");return p(),$(K,null,[e(y,{title:Cl}),e(b,{"show-drawer-button":!0},{title:l(()=>[_(r(Cl))]),"left-button":l(()=>[t("div",Qy,[a(n).screen.gt.sm?(p(),I(j,{key:0,icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:f[0]||(f[0]=S=>g.$inertia.get(g.route("admin.stock-adjustment.index")))})):k("",!0)])]),"right-button":l(()=>[e(j,{icon:"save",onClick:f[1]||(f[1]=S=>v("save")),disable:a(o).processing,flat:"",dense:"",rounded:"",color:"grey-8"},null,8,["disable"]),e(j,{icon:"check",onClick:f[2]||(f[2]=S=>v("close")),disable:a(o).processing,dense:"",rounded:"",class:"q-ml-xs",color:"primary"},null,8,["disable"]),g.$can("admin.product.import")||g.$can("admin.product:view-cost")?(p(),I(j,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:f[5]||(f[5]=X(()=>{},["stop"])),class:"q-ml-xs",color:"grey-8"},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[te((p(),I(le,{clickable:"",onClick:f[3]||(f[3]=S=>a(ee).get(g.route("admin.stock-adjustment.print-stock-card",{id:a(o).id})))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"print"})]),_:1}),e(N,null,{default:l(()=>f[10]||(f[10]=[_(" Cetak Kartu Stok")])),_:1})]),_:1})),[[re],[me]]),te((p(),I(le,{clickable:"",onClick:f[4]||(f[4]=X(S=>v("cancel"),["stop"]))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"cancel",color:"red"})]),_:1}),e(N,{class:"text-red"},{default:l(()=>f[11]||(f[11]=[_("Batalkan")])),_:1})]),_:1})),[[re],[me]])]),_:1})]),_:1})]),_:1})):k("",!0)]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Jy,[e(Ne,{class:"row",onSubmit:X(v,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>f[12]||(f[12]=[t("div",{class:"text-subtitle1"},"Info Penyesuaian",-1)])),_:1}),e(ae,{class:"q-pt-none"},{default:l(()=>[te(t("input",{type:"hidden",name:"id","onUpdate:modelValue":f[6]||(f[6]=S=>a(o).id=S)},null,512),[[ut,a(o).id]]),e(Ht,{modelValue:a(o).datetime,"onUpdate:modelValue":f[7]||(f[7]=S=>a(o).datetime=S),label:"Waktu",error:!!a(o).errors.datetime,disable:a(o).processing,"error-message":a(o).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(ie,{modelValue:a(o).type,"onUpdate:modelValue":f[8]||(f[8]=S=>a(o).type=S),options:a(s),label:"Jenis Penyesuaian",class:"custom-select",error:!!a(o).errors.type,disable:a(o).processing,"map-options":"","emit-value":"","error-message":a(o).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","error-message"]),e(oe,{modelValue:a(o).notes,"onUpdate:modelValue":f[9]||(f[9]=S=>a(o).notes=S),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.notes,"error-message":a(o).errors.notes,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-pa-xs"},{default:l(()=>[e(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id",columns:m.value,rows:i.value,"binary-state-sort":"","hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-product_name":l(S=>[e(H,{props:S},{default:l(()=>[t("div",Gy,r(S.row.product_name),1),a(n).screen.lt.md?(p(),$("div",Xy,[t("div",Zy,[_(" Tercatat: "+r(a(W)(S.row.old_quantity))+" ",1),f[13]||(f[13]=t("br",null,null,-1)),_(" Selisih: "+r(a(W)(S.row.new_quantity-S.row.old_quantity)),1)])])):k("",!0)]),_:2},1032,["props"])]),"body-cell-new_quantity":l(S=>[e(H,{props:S,class:"text-center"},{default:l(()=>[e(Ae,{modelValue:S.row[S.col.name],"onUpdate:modelValue":A=>S.row[S.col.name]=A,"input-class":"text-right full-width","hide-bottom-space":"",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},tk=Object.freeze(Object.defineProperty({__proto__:null,default:ek},Symbol.toStringTag,{value:"Module"}));function ak(){const u=xt();if(!u)throw new Error("useCan must be called within a component setup function.");return n=>u.proxy.$can(n)}const lk={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},ok={class:"q-pa-xs"},nk={class:"full-width row flex-center text-grey-8 q-gutter-sm"},sk={key:0,class:"flex q-gutter-xs"},rk={class:"flex q-col-gutter-xs"},ik={key:0},dk={key:1},uk={key:0},mk={class:"flex justify-end"},Tl="Penyesuaian Stok",ck={__name:"Index",setup(u){const n=V([]),d=V(!0),o=V(!1),s=V(null),i=V(null),v=We(i),c=zt(),m=Ft(),g=[{label:"Semua Tahun",value:"all"},{label:`${c}`,value:c},...Pt(c-2,c-1).reverse()],f=[{value:"all",label:"Semua Bulan"},...Ot()],y=Pe({search:"",year:c,month:m,status:"all",type:"all",...Re()}),b=[{value:"all",label:"Semua"},...lt(window.CONSTANTS.STOCK_ADJUSTMENT_STATUSES)],S=[{value:"all",label:"Semua"},...lt(window.CONSTANTS.STOCK_ADJUSTMENT_TYPES)],A=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),h=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"status",label:"Status",field:"status",align:"center",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!1},{name:"total_cost",label:"Total Modal",field:"total_cost",align:"right",sortable:!1},{name:"total_price",label:"Total Harga",field:"total_price",align:"right",sortable:!1},{name:"notes",label:"Notes",field:"notes",align:"left",sortable:!1},{name:"action",align:"right"}];he(()=>{R()});const D=E=>ot({message:`Hapus Penyesuaian Stok #${E.formatted_id}?`,url:route("admin.stock-adjustment.delete",E.id),fetchItemsCallback:R,loading:d}),R=(E=null)=>Ie({pagination:A,filter:y,props:E,rows:n,url:route("admin.stock-adjustment.data"),loading:d,tableRef:s}),T=()=>{R()},B=E=>{E.status=="draft"?ee.get(route("admin.stock-adjustment.editor",E.id)):ee.get(route("admin.stock-adjustment.detail",E.id))},C=$e(),w=G(()=>{let E=h;return ak()||(E=E.filter(P=>P.name!=="cost")),C.screen.gt.sm?E:E.filter(P=>P.name==="id"||P.name==="action")});return(E,P)=>{const F=Q("i-head"),M=Q("authenticated-layout");return p(),$(K,null,[e(F,{title:Tl}),e(M,null,Le({"right-button":l(()=>[e(j,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:P[0]||(P[0]=x=>o.value=!o.value)},null,8,["icon"]),E.$can("admin.stock-adjustment.add")?(p(),I(j,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:P[1]||(P[1]=x=>a(ee).get(E.route("admin.stock-adjustment.create")))})):k("",!0)]),title:l(()=>[_(r(Tl))]),default:l(()=>[t("div",ok,[e(Te,{ref_key:"tableRef",ref:s,flat:"",bordered:"",square:"",color:"primary",class:"full-height-table stock-adjustment-list","row-key":"id",pagination:A.value,"onUpdate:pagination":P[8]||(P[8]=x=>A.value=x),filter:y.search,loading:d.value,columns:w.value,rows:n.value,"rows-per-page-options":[10,25,50],style:Be({height:a(v)}),onRequest:R,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:x,message:z,filter:J})=>[t("div",nk,[t("span",null,r(z)+" "+r(J?" with term "+J:""),1)])]),body:l(x=>[e(Ce,{props:x,onClick:z=>B(x.row),class:"cursor-pointer"},{default:l(()=>[e(H,{key:"id",props:x},{default:l(()=>[a(C).screen.lt.md?(p(),$(K,{key:1},[t("div",rk,[t("div",null,"#"+r(x.row.formatted_id),1),t("div",null,[e(q,{name:"history"}),_(" "+r(a(ge)(x.row.datetime)),1)]),e(jl,{dense:"",size:"sm",color:x.row.status==="draft"?"orange":x.row.status==="closed"?"green":x.row.status==="canceled"?"red":"",icon:x.row.status==="draft"?"emergency":x.row.status==="closed"?"check":x.row.status==="canceled"?"close":""},{default:l(()=>[_(r(E.$CONSTANTS.STOCK_ADJUSTMENT_STATUSES[x.row.status]),1)]),_:2},1032,["color","icon"])]),t("div",null,[e(q,{name:"category"}),_(" "+r(E.$CONSTANTS.STOCK_ADJUSTMENT_TYPES[x.row.type]),1)]),x.row.created_by?(p(),$("div",ik,[e(q,{name:"person"}),P[9]||(P[9]=_(" Dibuat: ")),t("b",null,r(x.row.created_by.username),1),e(q,{name:"history"}),_(" "+r(a(ge)(x.row.created_at)),1)])):k("",!0),x.row.updated_by?(p(),$("div",dk,[e(q,{name:"person"}),P[10]||(P[10]=_(" Diperbarui: ")),t("b",null,r(x.row.updated_by.username),1),e(q,{name:"history"}),_(" "+r(a(ge)(x.row.updated_at)),1)])):k("",!0),t("div",{class:xe(x.row.total_cost<0?"text-red-10":x.row.total_cost>0?"text-green-10":"")},[e(q,{name:"money"}),E.$can("admin.product:view-cost")?(p(),$("span",uk,"Rp. "+r(a(W)(x.row.total_cost))+" / ",1)):k("",!0),_(" Rp. "+r(a(W)(x.row.total_price)),1)],2)],64)):(p(),$("div",sk," #"+r(x.row.formatted_id),1))]),_:2},1032,["props"]),e(H,{key:"datetime",props:x},{default:l(()=>[_(r(a(ge)(x.row.datetime)),1)]),_:2},1032,["props"]),e(H,{key:"status",props:x,class:"text-center"},{default:l(()=>[_(r(E.$CONSTANTS.STOCK_ADJUSTMENT_STATUSES[x.row.status]),1)]),_:2},1032,["props"]),e(H,{key:"type",props:x},{default:l(()=>[_(r(E.$CONSTANTS.STOCK_ADJUSTMENT_TYPES[x.row.type]),1)]),_:2},1032,["props"]),e(H,{key:"total_cost",props:x},{default:l(()=>[E.$can("admin.product:view-cost")?(p(),$("div",{key:0,class:xe(x.row.total_cost<0?"text-red-10":x.row.total_cost>0?"text-green-10":"")},r(a(W)(x.row.total_cost)),3)):k("",!0)]),_:2},1032,["props"]),e(H,{key:"total_price",props:x},{default:l(()=>[t("div",{class:xe(x.row.total_price<0?"text-red-10":x.row.total_price>0?"text-green-10":"")},r(a(W)(x.row.total_price)),3)]),_:2},1032,["props"]),e(H,{key:"notes",props:x},{default:l(()=>[_(r(x.row.notes),1)]),_:2},1032,["props"]),e(H,{key:"action",props:x},{default:l(()=>[t("div",mk,[E.$can("admin.stock-adjustment.delete")?(p(),I(j,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:P[7]||(P[7]=X(()=>{},["stop"]))},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[E.$can("admin.stock-adjustment.delete")?te((p(),I(le,{key:0,onClick:X(z=>D(x.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>P[11]||(P[11]=[_("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(at,{class:"filter-bar",ref_key:"filterToolbarRef",ref:i},{default:l(()=>[t("div",lk,[e(ie,{modelValue:y.year,"onUpdate:modelValue":[P[2]||(P[2]=x=>y.year=x),T],options:g,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),y.year!="all"?(p(),I(ie,{key:0,modelValue:y.month,"onUpdate:modelValue":[P[3]||(P[3]=x=>y.month=x),T],options:f,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:y.year===null},null,8,["modelValue","disable"])):k("",!0),e(ie,{modelValue:y.status,"onUpdate:modelValue":[P[4]||(P[4]=x=>y.status=x),T],options:b,label:"Status",dense:"","map-options":"",class:"custom-select col-xs-12 col-sm-2","emit-value":"",outlined:""},null,8,["modelValue"]),e(ie,{modelValue:y.type,"onUpdate:modelValue":[P[5]||(P[5]=x=>y.type=x),T],options:S,label:"Jenis",dense:"",class:"custom-select col-xs-12 col-sm-2","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:y.search,"onUpdate:modelValue":P[6]||(P[6]=x=>y.search=x),placeholder:"Cari",clearable:""},{append:l(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},pk=Object.freeze(Object.defineProperty({__proto__:null,default:ck},Symbol.toStringTag,{value:"Module"})),fk={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},gk={class:"q-pa-xs"},bk={class:"full-width row flex-center text-grey-8 q-gutter-sm"},vk={key:0},Pl="Riwayat Stok",_k={__name:"Index",setup(u){be();const n=V(null),d=V(null),o=We(d),s=zt(),i=Ft(),v=[{label:"Semua Tahun",value:"all"},{label:`${s}`,value:s},...Pt(s-2,s-1).reverse()],c=[{value:"all",label:"Semua Bulan"},...Ot()],m=[{value:"all",label:"Semua"},...lt(window.CONSTANTS.STOCK_MOVEMENT_REF_TYPES)],g=$e(),f=V(!1),y=V([]),b=V(!0),S=Pe({type:"all",search:"",year:s,month:i,...Re()}),A=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"created_at",descending:!0});let h=[{name:"id",label:g.screen.lt.sm?"Item":"#",field:"id",align:"left",sortable:!0},{name:"created_at",label:"Waktu",field:"created_at",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"left",sortable:!0},{name:"product",label:"Produk",field:"product",align:"left"},{name:"quantity_before",label:"Qty Awal",field:"quantity_before",align:"right"},{name:"quantity_after",label:"Qty Akhir",field:"quantity_after",align:"right"},{name:"quantity",label:"Selisih",field:"quantity",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}];he(()=>{const C=new URLSearchParams(window.location.search).get("page");C&&(A.value.page=parseInt(C)),D()});const D=(B=null)=>{Ie({pagination:A,filter:S,props:B,rows:y,url:route("admin.stock-movement.data"),loading:b,tableRef:n})},R=()=>{D()},T=G(()=>g.screen.lt.sm?h.filter(B=>B.name==="id"||B.name==="quantity"):h);return(B,C)=>{const w=Q("i-head"),E=Q("authenticated-layout");return p(),$(K,null,[e(w,{title:Pl}),e(E,null,Le({title:l(()=>[_(r(Pl))]),"right-button":l(()=>[e(j,{icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:C[0]||(C[0]=P=>f.value=!f.value)},null,8,["icon"])]),default:l(()=>[t("div",gk,[e(Te,{ref_key:"tableRef",ref:n,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id",pagination:A.value,"onUpdate:pagination":C[5]||(C[5]=P=>A.value=P),filter:S.search,loading:b.value,columns:T.value,rows:y.value,"rows-per-page-options":[10,25,50],style:Be({height:a(o)}),onRequest:D,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:P,message:F,filter:M})=>[t("div",bk,[t("span",null,r(F)+" "+r(M?" with term "+M:""),1)])]),body:l(P=>[e(Ce,{props:P},{default:l(()=>[e(H,{key:"id",props:P},{default:l(()=>[t("div",null,[a(g).screen.lt.sm?(p(),$(K,{key:0},[t("div",null,[e(dt,null,{default:l(()=>[_(r(B.$CONSTANTS.STOCK_MOVEMENT_REF_TYPES[P.row.ref_type]),1)]),_:2},1024)]),e(q,{class:"inline-icon",name:"tag"})],64)):k("",!0),_(" "+r(P.row.formatted_id),1)]),a(g).screen.lt.sm?(p(),$(K,{key:0},[t("div",null,[e(q,{name:"calendar_clock",class:"inline-icon"}),_(" "+r(a(ge)(P.row.created_at)),1)]),t("div",null,[e(q,{name:"token",class:"inline-icon"}),_(" "+r(P.row.product.name),1)]),t("div",{class:xe(P.row.quantity>0?"text-positive":"text-negative")},[e(q,{class:"inline-icon",name:"compare_arrows"}),_(" "+r(a(W)(P.row.quantity_before))+" "+r(P.row.uom)+"  "+r(a(W)(P.row.quantity_after))+" "+r(P.row.uom),1)],2),e(we,{text:P.row.notes,icon:"notes",class:"text-grey-8"},null,8,["text"])],64)):k("",!0)]),_:2},1032,["props"]),e(H,{key:"created_at",props:P},{default:l(()=>[_(r(a(ge)(P.row.created_at)),1)]),_:2},1032,["props"]),e(H,{key:"type",props:P},{default:l(()=>[_(r(B.$CONSTANTS.STOCK_MOVEMENT_REF_TYPES[P.row.ref_type])+" ",1),P.row.ref?(p(),$("span",vk,r(P.row.ref),1)):k("",!0)]),_:2},1032,["props"]),e(H,{key:"product",props:P},{default:l(()=>[_(r(P.row.product.name),1)]),_:2},1032,["props"]),e(H,{key:"quantity_before",props:P},{default:l(()=>[_(r(a(W)(P.row.quantity_before))+" "+r(P.row.uom),1)]),_:2},1032,["props"]),e(H,{key:"quantity_after",props:P},{default:l(()=>[_(r(a(W)(P.row.quantity_after))+" "+r(P.row.uom),1)]),_:2},1032,["props"]),e(H,{key:"quantity",props:P,class:xe(P.row.quantity>0?"text-positive":"text-negative")},{default:l(()=>[_(r(a(W)(P.row.quantity))+" "+r(P.row.uom),1)]),_:2},1032,["props","class"]),e(H,{key:"notes",props:P},{default:l(()=>[e(we,{text:P.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[f.value?{name:"header",fn:l(()=>[e(at,{class:"filter-bar",ref_key:"filterToolbarRef",ref:d},{default:l(()=>[t("div",fk,[e(ie,{modelValue:S.year,"onUpdate:modelValue":[C[1]||(C[1]=P=>S.year=P),R],options:v,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),S.year!="all"?(p(),I(ie,{key:0,modelValue:S.month,"onUpdate:modelValue":[C[2]||(C[2]=P=>S.month=P),R],options:c,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:S.year===null},null,8,["modelValue","disable"])):k("",!0),e(ie,{modelValue:S.ref_type,"onUpdate:modelValue":[C[3]||(C[3]=P=>S.ref_type=P),R],options:m,label:"Jenis",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:S.search,"onUpdate:modelValue":C[4]||(C[4]=P=>S.search=P),placeholder:"Cari",clearable:""},{append:l(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},yk=Object.freeze(Object.defineProperty({__proto__:null,default:_k},Symbol.toStringTag,{value:"Module"})),kk={class:"detail"},wk={colspan:"3"},hk={class:"text-bold text-grey-8"},$k={key:0},xk={key:1},Sk={key:2},Vk={key:3},qk={key:4},Ck={key:5},Tk={key:6},Io={__name:"MainInfoTab",setup(u){const n=be();return(d,o)=>(p(),$("table",kk,[t("tbody",null,[t("tr",null,[t("td",wk,[t("div",hk,[o[1]||(o[1]=_(" Info Pemasok ")),d.$can("admin.supplier.edit")?(p(),I(j,{key:0,icon:"edit",size:"sm",dense:"",flat:"",rounded:"",class:"q-ml-sm",color:"grey",onClick:o[0]||(o[0]=s=>d.$inertia.get(d.route("admin.supplier.edit",{id:a(n).props.data.id})))})):k("",!0)])])]),t("tr",null,[o[2]||(o[2]=t("td",{style:{width:"120px"}},"Nama",-1)),o[3]||(o[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.name),1)]),t("tr",null,[t("td",null,r(a(n).props.data.actual_balance<0?"Utang":"Utang / Piutang"),1),o[4]||(o[4]=t("td",null,":",-1)),t("td",{class:xe(a(n).props.data.actual_balance<0?"text-red":"text-green")},r(a(Qt)(a(n).props.data.actual_balance)),3)]),a(n).props.data.phone_1?(p(),$("tr",$k,[o[5]||(o[5]=t("td",null,"No Telepon",-1)),o[6]||(o[6]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.phone_1),1)])):k("",!0),a(n).props.data.phone_2?(p(),$("tr",xk,[o[7]||(o[7]=t("td",null,"No Telepon 2",-1)),o[8]||(o[8]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.phone_2),1)])):k("",!0),a(n).props.data.phone_3?(p(),$("tr",Sk,[o[9]||(o[9]=t("td",null,"No Telepon 3",-1)),o[10]||(o[10]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.phone_3),1)])):k("",!0),a(n).props.data.address?(p(),$("tr",Vk,[o[11]||(o[11]=t("td",null,"Alamat",-1)),o[12]||(o[12]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.address),1)])):k("",!0),a(n).props.data.return_address?(p(),$("tr",qk,[o[13]||(o[13]=t("td",null,"Alamat Retur",-1)),o[14]||(o[14]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.return_address),1)])):k("",!0),a(n).props.data.bank_account_name_1||a(n).props.data.bank_account_number_1||a(n).props.data.bank_account_holder_1?(p(),$("tr",Ck,[o[15]||(o[15]=t("td",null,"Rek 1",-1)),o[16]||(o[16]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.bank_account_name_1)+" "+r(a(n).props.data.bank_account_number_1)+" a.n. "+r(a(n).props.data.bank_account_holder_1),1)])):k("",!0),a(n).props.data.bank_account_name_2||a(n).props.data.bank_account_number_2||a(n).props.data.bank_account_holder_2?(p(),$("tr",Tk,[o[17]||(o[17]=t("td",null,"Rek 2",-1)),o[18]||(o[18]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.bank_account_name_2)+" "+r(a(n).props.data.bank_account_number_2)+" a.n. "+r(a(n).props.data.bank_account_holder_2),1)])):k("",!0),t("tr",null,[o[19]||(o[19]=t("td",null,"Status",-1)),o[20]||(o[20]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.active?"Aktif":"Tidak Aktif"),1)])])]))}},Pk=Object.freeze(Object.defineProperty({__proto__:null,default:Io},Symbol.toStringTag,{value:"Module"})),Ok={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Rk={class:"text-bold"},Ik={class:"text-bold"},Dk={key:0},Do={__name:"OrderHistoryTab",setup(u){const n=be(),d=V([]),o=V(!0),s=Pe({customer_id:n.props.data.id,...Re()}),i=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),v=[{name:"id",label:"Trx",field:"id",align:"left"},{name:"grand_total",label:"Total",field:"grand_total",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}];he(()=>{c()});const c=(f=null)=>Ie({pagination:i,filter:s,props:f,rows:d,url:route("admin.purchase-order.data",{filter:{status:["closed","canceled"],supplier_id:n.props.data.id}}),loading:o}),m=$e(),g=G(()=>m.screen.gt.sm?v:v.filter(f=>f.name==="id"));return(f,y)=>(p(),I(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id",pagination:i.value,"onUpdate:pagination":y[0]||(y[0]=b=>i.value=b),filter:s.search,loading:o.value,columns:g.value,rows:d.value,"rows-per-page-options":[10,25,50],onRequest:c,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:b,message:S,filter:A})=>[t("div",Ok,[t("span",null,r(S)+" "+r(A?" with term "+A:""),1)])]),body:l(b=>[e(Ce,{props:b,class:"cursor-pointer",onClick:X(S=>a(ee).get(f.route("admin.purchase-order.detail",{id:b.row.id})),["stop"])},{default:l(()=>[e(H,{key:"id",props:b},{default:l(()=>[t("div",Rk,[e(q,{class:"inline-icon",name:"tag"}),_(" "+r(b.row.formatted_id),1)]),t("div",null,[e(q,{class:"inline-icon",name:"calendar_clock"}),_(" "+r(a(ge)(b.row.datetime)),1)]),a(m).screen.lt.md?(p(),$(K,{key:0},[t("div",Ik,[e(q,{name:"money",class:"inline-icon"}),_(" Rp. "+r(a(W)(b.row.grand_total)),1)]),b.row.notes?(p(),$("div",Dk,[e(we,{text:b.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])):k("",!0)],64)):k("",!0),t("div",null,[e(dt,{color:b.row.status=="closed"?"green":"red"},{default:l(()=>[_(r(f.$CONSTANTS.SALES_ORDER_STATUSES[b.row.status]),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(H,{key:"grand_total",props:b},{default:l(()=>[t("div",null,r(a(W)(b.row.grand_total)),1)]),_:2},1032,["props"]),e(H,{key:"notes",props:b,class:"wrap-column"},{default:l(()=>[e(we,{text:b.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},Uk=Object.freeze(Object.defineProperty({__proto__:null,default:Do},Symbol.toStringTag,{value:"Module"})),Ak={class:"q-gutter-sm"},jk={class:"col col-lg-6 q-pa-xs"},Ek={class:"row"},Ol="Rincian Pemasok",Mk={__name:"Detail",setup(u){const n=be(),d=V("main");return $e(),(o,s)=>{const i=Q("i-head"),v=Q("authenticated-layout");return p(),$(K,null,[e(i,{title:Ol}),e(v,null,{title:l(()=>[_(r(Ol))]),"left-button":l(()=>[t("div",Ak,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=c=>o.$inertia.get(o.route("admin.supplier.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",jk,[t("div",Ek,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(It,{modelValue:d.value,"onUpdate:modelValue":s[1]||(s[1]=c=>d.value=c),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(Xe,{name:"main",label:"Info Utama"}),e(Xe,{name:"order-history",label:"Riwayat Order"}),e(Xe,{name:"version-history",label:"Riwayat Dokumen"})]),_:1},8,["modelValue"]),e(Dt,{modelValue:d.value,"onUpdate:modelValue":s[2]||(s[2]=c=>d.value=c),animated:""},{default:l(()=>[e(Ze,{name:"main"},{default:l(()=>[e(Io)]),_:1}),e(Ze,{name:"order-history",class:"q-pa-xs"},{default:l(()=>[e(Do)]),_:1}),e(Ze,{name:"version-history",class:"q-pa-xs"},{default:l(()=>[e(xa,{"document-id":a(n).props.data.id,"document-type":"supplier"},null,8,["document-id"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},Nk=Object.freeze(Object.defineProperty({__proto__:null,default:Mk},Symbol.toStringTag,{value:"Module"})),Bk={class:"q-gutter-sm"},zk={class:"col col-md-6 q-pa-xs"},Fk={class:"row q-col-gutter-md"},Lk={key:1,class:"text-subtitle2 q-mt-md text-grey-8"},Hk={key:2,class:"row q-col-gutter-md"},Kk={key:3,class:"text-subtitle2 q-mt-md text-grey-8"},Yk={key:4,class:"row q-col-gutter-md"},Wk={key:5,class:"row q-col-gutter-md"},Qk={style:{"margin-left":"-10px"},class:"q-mt-md"},Jk={class:"q-mt-sm"},Gk={__name:"Editor",setup(u){const n=be(),d=(n.props.data.id?"Edit":"Tambah")+" Pemasok",o=Me({id:n.props.data.id,name:n.props.data.name,phone_1:n.props.data.phone_1,phone_2:n.props.data.phone_2,phone_3:n.props.data.phone_3,url_1:n.props.data.url_1,url_2:n.props.data.url_2,bank_account_name_1:n.props.data.bank_account_name_1,bank_account_holder_1:n.props.data.bank_account_holder_1,bank_account_number_1:n.props.data.bank_account_number_1,bank_account_name_2:n.props.data.bank_account_name_2,bank_account_holder_2:n.props.data.bank_account_holder_2,bank_account_number_2:n.props.data.bank_account_number_2,address:n.props.data.address,return_address:n.props.data.return_address,active:!!n.props.data.active}),s=V(!0),i=()=>tt({form:o,url:route("admin.supplier.save")});return(v,c)=>{const m=Q("i-head"),g=Q("authenticated-layout");return p(),$(K,null,[e(m,{title:d}),e(g,{"show-drawer-button":!0},{title:l(()=>[_(r(d))]),"left-button":l(()=>[t("div",Bk,[e(j,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=f=>v.$goBack())})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",zk,[e(Ne,{class:"row",onSubmit:X(i,["prevent"]),onValidationError:a(Fe)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[te(t("input",{type:"hidden",name:"id","onUpdate:modelValue":c[1]||(c[1]=f=>a(o).id=f)},null,512),[[ut,a(o).id]]),e(oe,{autofocus:"",modelValue:a(o).name,"onUpdate:modelValue":c[2]||(c[2]=f=>a(o).name=f),modelModifiers:{trim:!0},label:"Nama","lazy-rules":"",error:!!a(o).errors.name,disable:a(o).processing,"error-message":a(o).errors.name,rules:[f=>f&&f.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),t("div",Fk,[e(oe,{modelValue:a(o).phone_1,"onUpdate:modelValue":c[3]||(c[3]=f=>a(o).phone_1=f),modelModifiers:{trim:!0},type:"text",label:"No Telp","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.phone_1,"error-message":a(o).errors.phone_1,"hide-bottom-space":"",class:"col"},null,8,["modelValue","disable","error","error-message"]),s.value?k("",!0):(p(),I(oe,{key:0,modelValue:a(o).phone_2,"onUpdate:modelValue":c[4]||(c[4]=f=>a(o).phone_2=f),modelModifiers:{trim:!0},type:"text",label:"No Telp 2","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.phone_2,"error-message":a(o).errors.phone_2,"hide-bottom-space":"",class:"col"},null,8,["modelValue","disable","error","error-message"])),s.value?k("",!0):(p(),I(oe,{key:1,modelValue:a(o).phone_3,"onUpdate:modelValue":c[5]||(c[5]=f=>a(o).phone_3=f),modelModifiers:{trim:!0},type:"text",label:"No Telp 3","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.phone_3,"error-message":a(o).errors.phone_3,"hide-bottom-space":"",class:"col"},null,8,["modelValue","disable","error","error-message"]))]),e(oe,{modelValue:a(o).address,"onUpdate:modelValue":c[6]||(c[6]=f=>a(o).address=f),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"500",label:"Alamat","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.address,"error-message":a(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),s.value?k("",!0):(p(),I(oe,{key:0,modelValue:a(o).return_address,"onUpdate:modelValue":c[7]||(c[7]=f=>a(o).return_address=f),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"500",label:"Alamat Retur","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.return_address,"error-message":a(o).errors.return_address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])),s.value?k("",!0):(p(),$("div",Lk," Rekening 1 ")),s.value?k("",!0):(p(),$("div",Hk,[e(oe,{modelValue:a(o).bank_account_name_1,"onUpdate:modelValue":c[8]||(c[8]=f=>a(o).bank_account_name_1=f),modelModifiers:{trim:!0},type:"text",label:"Nama Bank","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.bank_account_name_1,"error-message":a(o).errors.bank_account_name_1,"hide-bottom-space":"",class:"col-3"},null,8,["modelValue","disable","error","error-message"]),e(oe,{modelValue:a(o).bank_account_number_1,"onUpdate:modelValue":c[9]||(c[9]=f=>a(o).bank_account_number_1=f),modelModifiers:{trim:!0},type:"text",label:"Nomor Rekening","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.bank_account_number_1,"error-message":a(o).errors.bank_account_number_1,"hide-bottom-space":"",class:"col-3"},null,8,["modelValue","disable","error","error-message"]),e(oe,{modelValue:a(o).bank_account_holder_1,"onUpdate:modelValue":c[10]||(c[10]=f=>a(o).bank_account_holder_1=f),modelModifiers:{trim:!0},type:"text",label:"Atas Nama","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.bank_account_holder_1,"error-message":a(o).errors.bank_account_holder_1,"hide-bottom-space":"",class:"col-6"},null,8,["modelValue","disable","error","error-message"])])),s.value?k("",!0):(p(),$("div",Kk," Rekening 2 ")),s.value?k("",!0):(p(),$("div",Yk,[e(oe,{modelValue:a(o).bank_account_name_2,"onUpdate:modelValue":c[11]||(c[11]=f=>a(o).bank_account_name_2=f),modelModifiers:{trim:!0},type:"text",label:"Nama Bank","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.bank_account_name_2,"error-message":a(o).errors.bank_account_name_2,"hide-bottom-space":"",class:"col-3"},null,8,["modelValue","disable","error","error-message"]),e(oe,{modelValue:a(o).bank_account_number_2,"onUpdate:modelValue":c[12]||(c[12]=f=>a(o).bank_account_number_2=f),modelModifiers:{trim:!0},type:"text",label:"Nomor Rekening","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.bank_account_number_2,"error-message":a(o).errors.bank_account_number_2,"hide-bottom-space":"",class:"col-3"},null,8,["modelValue","disable","error","error-message"]),e(oe,{modelValue:a(o).bank_account_holder_2,"onUpdate:modelValue":c[13]||(c[13]=f=>a(o).bank_account_holder_2=f),modelModifiers:{trim:!0},type:"text",label:"Atas Nama","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.bank_account_holder_2,"error-message":a(o).errors.bank_account_holder_2,"hide-bottom-space":"",class:"col-6"},null,8,["modelValue","disable","error","error-message"])])),s.value?k("",!0):(p(),$("div",Wk,[e(oe,{modelValue:a(o).url_1,"onUpdate:modelValue":c[14]||(c[14]=f=>a(o).url_1=f),modelModifiers:{trim:!0},type:"text",label:"URL 1","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.url_1,"error-message":a(o).errors.url_1,"hide-bottom-space":"",class:"col"},null,8,["modelValue","disable","error","error-message"]),e(oe,{modelValue:a(o).url_2,"onUpdate:modelValue":c[15]||(c[15]=f=>a(o).url_2=f),modelModifiers:{trim:!0},type:"text",label:"URL 2","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.url_2,"error-message":a(o).errors.url_2,"hide-bottom-space":"",class:"col"},null,8,["modelValue","disable","error","error-message"])])),t("div",Qk,[e(na,{class:"full-width q-pl-none",modelValue:a(o).active,"onUpdate:modelValue":c[16]||(c[16]=f=>a(o).active=f),disable:a(o).processing,label:"Aktif"},null,8,["modelValue","disable"])]),t("div",Jk,[t("div",{class:"cursor-pointer text-grey-8",clickable:"",onClick:c[17]||(c[17]=X(f=>s.value=!s.value,["stop"]))},[e(q,{name:s.value?"stat_minus_1":"stat_1",class:"inline-icon"},null,8,["name"]),_(" "+r(s.value?"Lebih lengkap":"Lebih ringkas"),1)])])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(j,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(o).processing},null,8,["disable"]),e(j,{icon:"cancel",label:"Batal",disable:a(o).processing,onClick:c[18]||(c[18]=f=>v.$goBack())},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Xk=Object.freeze(Object.defineProperty({__proto__:null,default:Gk},Symbol.toStringTag,{value:"Module"})),Zk={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},ew={class:"q-pa-xs"},tw={class:"full-width row flex-center text-grey-8 q-gutter-sm"},aw={key:0},lw={key:1},ow={class:"flex justify-end"},Rl="Pemasok",nw={__name:"Index",setup(u){const n=$e(),d=V(!1),o=V([]),s=V(!0),i=V(null),v=V(null),c=We(v),m=Pe({search:"",status:"active",...Re()}),g=V({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),f=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"phone_1",label:"No HP",field:"phone_1",align:"left",sortable:!1},{name:"address",label:"Alamat",field:"address",align:"left",sortable:!1},{name:"action",align:"right"}],y=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];he(()=>{S()});const b=R=>ot({message:`Hapus pemasok ${R.name}?`,url:route("admin.supplier.delete",R.id),fetchItemsCallback:S,loading:s}),S=(R=null)=>{Ie({pagination:g,filter:m,props:R,rows:o,url:route("admin.supplier.data"),loading:s,tableRef:i})},A=()=>S(),h=R=>ee.get(route("admin.supplier.detail",{id:R.id})),D=G(()=>n.screen.gt.sm?f:f.filter(R=>R.name==="name"||R.name==="action"));return(R,T)=>{const B=Q("i-head"),C=Q("authenticated-layout");return p(),$(K,null,[e(B,{title:Rl}),e(C,null,Le({title:l(()=>[_(r(Rl))]),"right-button":l(()=>[e(j,{icon:d.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:T[0]||(T[0]=w=>d.value=!d.value)},null,8,["icon"]),R.$can("admin.supplier.add")?(p(),I(j,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:T[1]||(T[1]=w=>a(ee).get(R.route("admin.supplier.add")))})):k("",!0)]),default:l(()=>[t("div",ew,[e(Te,{class:"full-height-table",ref_key:"tableRef",ref:i,s:"",flat:"",bordered:"",square:"",color:"primary","row-key":"id",pagination:g.value,"onUpdate:pagination":T[5]||(T[5]=w=>g.value=w),filter:m.search,loading:s.value,columns:D.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Be({height:a(c)}),onRequest:S,"binary-state-sort":""},{loading:l(()=>[e(De,{showing:"",color:"red"})]),"no-data":l(({icon:w,message:E,filter:P})=>[t("div",tw,[t("span",null,r(E)+" "+r(P?" with term "+P:""),1)])]),body:l(w=>[e(Ce,{props:w,class:xe([w.row.active?"":"bg-red-1","cursor-pointer"]),onClick:E=>h(w.row)},{default:l(()=>[e(H,{key:"name",props:w,class:"wrap-column"},{default:l(()=>[t("div",null,[a(n).screen.lt.md?(p(),I(q,{key:0,name:"person"})):k("",!0),_(" "+r(w.row.name),1)]),a(n).screen.lt.md?(p(),$(K,{key:0},[w.row.phone_1?(p(),$("div",aw,[e(q,{name:"phone"}),_(" "+r(w.row.phone_1),1)])):k("",!0),w.row.address?(p(),$("div",lw,[e(q,{name:"home_pin"}),_(" "+r(w.row.address),1)])):k("",!0)],64)):k("",!0)]),_:2},1032,["props"]),e(H,{key:"phone_1",props:w},{default:l(()=>[_(r(w.row.phone_1),1)]),_:2},1032,["props"]),e(H,{key:"address",props:w},{default:l(()=>[_(r(w.row.address),1)]),_:2},1032,["props"]),e(H,{key:"action",props:w},{default:l(()=>[t("div",ow,[R.$can("admin.supplier.add")||R.$can("admin.supplier.edit")||R.$can("admin.supplier.delete")?(p(),I(j,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:T[4]||(T[4]=X(()=>{},["stop"]))},{default:l(()=>[e(Ye,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[R.$can("admin.supplier.add")?te((p(),I(le,{key:0,clickable:"",onClick:X(E=>a(ee).get(R.route("admin.supplier.duplicate",w.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"file_copy"})]),_:1}),e(N,null,{default:l(()=>T[6]||(T[6]=[_(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),R.$can("admin.supplier.edit")?te((p(),I(le,{key:1,clickable:"",onClick:X(E=>a(ee).get(R.route("admin.supplier.edit",w.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"edit"})]),_:1}),e(N,null,{default:l(()=>T[7]||(T[7]=[_("Edit")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0),R.$can("admin.supplier.delete")?te((p(),I(le,{key:2,onClick:X(E=>b(w.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>T[8]||(T[8]=[_("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[re],[me]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[d.value?{name:"header",fn:l(()=>[e(at,{class:"filter-bar",ref_key:"filterToolbarRef",ref:v},{default:l(()=>[t("div",Zk,[e(ie,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:m.status,"onUpdate:modelValue":[T[2]||(T[2]=w=>m.status=w),A],options:y,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":T[3]||(T[3]=w=>m.search=w),placeholder:"Cari",clearable:""},{append:l(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},sw=Object.freeze(Object.defineProperty({__proto__:null,default:nw},Symbol.toStringTag,{value:"Module"})),rw=ht({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(u,{slots:n,emit:d}){let o=!1,s,i,v=null,c=null,m,g;function f(){s&&s(),s=null,o=!1,v!==null&&(clearTimeout(v),v=null),c!==null&&(clearTimeout(c),c=null),i!==void 0&&i.removeEventListener("transitionend",m),m=null}function y(h,D,R){D!==void 0&&(h.style.height=`${D}px`),h.style.transition=`height ${u.duration}ms cubic-bezier(.25, .8, .50, 1)`,o=!0,s=R}function b(h,D){h.style.overflowY=null,h.style.height=null,h.style.transition=null,f(),D!==g&&d(D)}function S(h,D){let R=0;i=h,o===!0?(f(),R=h.offsetHeight===h.scrollHeight?0:void 0):(g="hide",h.style.overflowY="hidden"),y(h,R,D),v=setTimeout(()=>{v=null,h.style.height=`${h.scrollHeight}px`,m=T=>{c=null,(Object(T)!==T||T.target===h)&&b(h,"show")},h.addEventListener("transitionend",m),c=setTimeout(m,u.duration*1.1)},100)}function A(h,D){let R;i=h,o===!0?f():(g="show",h.style.overflowY="hidden",R=h.scrollHeight),y(h,R,D),v=setTimeout(()=>{v=null,h.style.height=0,m=T=>{c=null,(Object(T)!==T||T.target===h)&&b(h,"hide")},h.addEventListener("transitionend",m),c=setTimeout(m,u.duration*1.1)},100)}return sa(()=>{o===!0&&f()}),()=>ke(Ul,{css:!1,appear:u.appear,onEnter:S,onLeave:A},n.default)}}),Ut=Tn({}),iw=Object.keys(zl),Vt=ht({name:"QExpansionItem",props:{...zl,...On,...wa,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Pn,"click","afterShow","afterHide"],setup(u,{slots:n,emit:d}){const{proxy:{$q:o}}=xt(),s=ha(u,o),i=V(u.modelValue!==null?u.modelValue:u.defaultOpened),v=V(null),c=Rn(),{show:m,hide:g,toggle:f}=In({showing:i});let y,b;const S=G(()=>`q-expansion-item q-item-type q-expansion-item--${i.value===!0?"expanded":"collapsed"} q-expansion-item--${u.popup===!0?"popup":"standard"}`),A=G(()=>u.contentInsetLevel===void 0?null:{["padding"+(o.lang.rtl===!0?"Right":"Left")]:u.contentInsetLevel*56+"px"}),h=G(()=>u.disable!==!0&&(u.href!==void 0||u.to!==void 0&&u.to!==null&&u.to!=="")),D=G(()=>{const ne={};return iw.forEach(qe=>{ne[qe]=u[qe]}),ne}),R=G(()=>h.value===!0||u.expandIconToggle!==!0),T=G(()=>u.expandedIcon!==void 0&&i.value===!0?u.expandedIcon:u.expandIcon||o.iconSet.expansionItem[u.denseToggle===!0?"denseIcon":"icon"]),B=G(()=>u.disable!==!0&&(h.value===!0||u.expandIconToggle===!0)),C=G(()=>({expanded:i.value===!0,detailsId:c.value,toggle:f,show:m,hide:g})),w=G(()=>{const ne=u.toggleAriaLabel!==void 0?u.toggleAriaLabel:o.lang.label[i.value===!0?"collapse":"expand"](u.label);return{role:"button","aria-expanded":i.value===!0?"true":"false","aria-controls":c.value,"aria-label":ne}});je(()=>u.group,ne=>{b!==void 0&&b(),ne!==void 0&&z()});function E(ne){h.value!==!0&&f(ne),d("click",ne)}function P(ne){ne.keyCode===13&&F(ne,!0)}function F(ne,qe){qe!==!0&&v.value!==null&&v.value.focus(),f(ne),jt(ne)}function M(){d("afterShow")}function x(){d("afterHide")}function z(){y===void 0&&(y=Dn()),i.value===!0&&(Ut[u.group]=y);const ne=je(i,ze=>{ze===!0?Ut[u.group]=y:Ut[u.group]===y&&delete Ut[u.group]}),qe=je(()=>Ut[u.group],(ze,ft)=>{ft===y&&ze!==void 0&&ze!==y&&g()});b=()=>{ne(),qe(),Ut[u.group]===y&&delete Ut[u.group],b=void 0}}function J(){const ne={class:[`q-focusable relative-position cursor-pointer${u.denseToggle===!0&&u.switchToggleSide===!0?" items-end":""}`,u.expandIconClass],side:u.switchToggleSide!==!0,avatar:u.switchToggleSide},qe=[ke(q,{class:"q-expansion-item__toggle-icon"+(u.expandedIcon===void 0&&i.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:T.value})];return B.value===!0&&(Object.assign(ne,{tabindex:0,...w.value,onClick:F,onKeyup:P}),qe.unshift(ke("div",{ref:v,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),ke(N,ne,()=>qe)}function O(){let ne;return n.header!==void 0?ne=[].concat(n.header(C.value)):(ne=[ke(N,()=>[ke(_e,{lines:u.labelLines},()=>u.label||""),u.caption?ke(_e,{lines:u.captionLines,caption:!0},()=>u.caption):null])],u.icon&&ne[u.switchToggleSide===!0?"push":"unshift"](ke(N,{side:u.switchToggleSide===!0,avatar:u.switchToggleSide!==!0},()=>ke(q,{name:u.icon})))),u.disable!==!0&&u.hideExpandIcon!==!0&&ne[u.switchToggleSide===!0?"unshift":"push"](J()),ne}function U(){const ne={ref:"item",style:u.headerStyle,class:u.headerClass,dark:s.value,disable:u.disable,dense:u.dense,insetLevel:u.headerInsetLevel};return R.value===!0&&(ne.clickable=!0,ne.onClick=E,Object.assign(ne,h.value===!0?D.value:w.value)),ke(le,ne,O)}function Z(){return te(ke("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:A.value,id:c.value},Tt(n.default)),[[El,i.value]])}function se(){const ne=[U(),ke(rw,{duration:u.duration,onShow:M,onHide:x},Z)];return u.expandSeparator===!0&&ne.push(ke(et,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:s.value}),ke(et,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:s.value})),ne}return u.group!==void 0&&z(),sa(()=>{b!==void 0&&b()}),()=>ke("div",{class:S.value},[ke("div",{class:"q-expansion-item__container relative-position"},se())])}}),dw={class:"absolute-top",style:{height:"50px","border-bottom":"1px solid #ddd","align-items":"center","justify-content":"center"}},uw={style:{width:"100%",padding:"8px",display:"flex","justify-content":"space-between"}},mw={class:"text-bold"},cw={class:"text-grey-8 text-caption"},pw={class:"absolute-bottom text-grey-6 q-pa-md"},_a="amanah-pos.layout.left-drawer-open",fw={__name:"AuthenticatedLayout",props:{showDrawerButton:{type:Boolean,default:!0}},setup(u,{expose:n}){const d=$e(),o=be(),s=V(JSON.parse(localStorage.getItem(_a))),i=V(!1),v=()=>s.value=!s.value,c=()=>{s.value=!1};return je(s,m=>{localStorage.setItem(_a,m)}),he(()=>{s.value=JSON.parse(localStorage.getItem(_a)),d.screen.lt.md&&(s.value=!1)}),n({hideDrawer:c}),(m,g)=>(p(),I(Bn,{view:"lHh LpR lFf"},{default:l(()=>[e(Un,null,{default:l(()=>[e(at,{class:"bg-grey-1 text-black toolbar-scrolled"},{default:l(()=>[u.showDrawerButton&&!s.value?(p(),I(j,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:v},{default:l(()=>[e(q,{class:"material-symbols-outlined"},{default:l(()=>g[28]||(g[28]=[_("dock_to_right")])),_:1})]),_:1})):k("",!0),At(m.$slots,"left-button",{},void 0,!0),e(An,{style:{"font-size":"16px"}},{default:l(()=>[At(m.$slots,"title",{},()=>[_(r(m.$config.APP_NAME),1)],!0)]),_:3}),At(m.$slots,"right-button",{},void 0,!0)]),_:3}),At(m.$slots,"header",{},void 0,!0)]),_:3}),e(jn,{breakpoint:768,modelValue:s.value,"onUpdate:modelValue":g[27]||(g[27]=f=>s.value=f),bordered:"",class:"bg-grey-2",style:{color:"#444"}},{default:l(()=>[t("div",dw,[t("div",uw,[e(En,{modelValue:i.value,"onUpdate:modelValue":g[2]||(g[2]=f=>i.value=f),class:xe(["profile-btn text-bold",{"profile-btn-active":i.value}]),flat:"",label:a(o).props.company.name,style:{"justify-content":"space-between","flex-grow":"1",overflow:"hidden"}},{default:l(()=>[e(Ee,{id:"profile-btn-popup",style:{color:"#444"}},{default:l(()=>[e(le,null,{default:l(()=>[e(Wt,{style:{"margin-left":"-15px"}},{default:l(()=>[e(q,{name:"person"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>[t("div",mw,r(a(o).props.auth.user.name),1),t("div",cw,[_(r(m.$CONSTANTS.USER_TYPES[a(o).props.auth.user.type])+" ",1),g[29]||(g[29]=t("br",null,null,-1)),_(" "+r(a(o).props.company.name),1)])]),_:1})]),_:1})]),_:1}),e(et),te((p(),I(le,{class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/settings/profile"),onClick:g[0]||(g[0]=f=>a(ee).get(m.route("admin.profile.edit")))},{default:l(()=>[e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>[e(q,{name:"manage_accounts",class:"q-mr-sm"}),g[30]||(g[30]=_(" Profil Saya"))]),_:1})]),_:1})]),_:1},8,["active"])),[[me],[re]]),m.$can("admin.company-profile.edit")?te((p(),I(le,{key:0,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/settings/company-profile"),onClick:g[1]||(g[1]=f=>a(ee).get(m.route("admin.company-profile.edit")))},{default:l(()=>[e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>[e(q,{name:"home_work",class:"q-mr-sm"}),g[31]||(g[31]=_(" Profil Perusahaan"))]),_:1})]),_:1})]),_:1},8,["active"])),[[me],[re]]):k("",!0),e(et),te((p(),I(le,{clickable:"",style:{color:"inherit"},href:m.route("admin.auth.logout")},{default:l(()=>[e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>[e(q,{name:"logout",class:"q-mr-sm"}),g[32]||(g[32]=_(" Keluar"))]),_:1})]),_:1})]),_:1},8,["href"])),[[me],[re]])]),_:1})]),_:1},8,["modelValue","label","class"]),s.value?(p(),I(j,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:v},{default:l(()=>[e(q,{name:"dock_to_right"})]),_:1})):k("",!0)])]),e(Mn,{style:{height:"calc(100% - 50px)","margin-top":"50px"}},{default:l(()=>[e(Ee,{id:"main-nav",style:{"margin-bottom":"50px"}},{default:l(()=>[te((p(),I(le,{clickable:"",active:m.$page.url.startsWith("/admin/dashboard"),onClick:g[3]||(g[3]=f=>a(ee).get(m.route("admin.dashboard")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"dashboard"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[33]||(g[33]=[_("Dashboard")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]),m.$can("admin.sales-order.index")||m.$can("admin.customer.index")?(p(),I(Vt,{key:0,icon:"storefront",label:"Penjualan","default-opened":m.$page.url.startsWith("/admin/sales-orders")||m.$page.url.startsWith("/admin/customers")},{default:l(()=>[m.$can("admin.sales-order.index")?te((p(),I(le,{key:0,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/sales-orders"),onClick:g[4]||(g[4]=f=>a(ee).get(m.route("admin.sales-order.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"shopping_cart"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[34]||(g[34]=[_("Penjualan")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0),m.$can("admin.customer.index")?te((p(),I(le,{key:1,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/customers"),onClick:g[5]||(g[5]=f=>a(ee).get(m.route("admin.customer.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"people"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[35]||(g[35]=[_("Pelanggan")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),m.$can("admin.purchase-order.index")||m.$can("admin.supplier.index")?(p(),I(Vt,{key:1,icon:"local_shipping",label:"Pembelian","default-opened":m.$page.url.startsWith("/admin/purchase-orders")||m.$page.url.startsWith("/admin/suppliers")},{default:l(()=>[m.$can("admin.purchase-order.index")?te((p(),I(le,{key:0,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/purchase-orders"),onClick:g[6]||(g[6]=f=>a(ee).get(m.route("admin.purchase-order.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"shopping_cart"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[36]||(g[36]=[_("Pembelian")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0),m.$can("admin.supplier.index")?te((p(),I(le,{key:1,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/suppliers"),onClick:g[7]||(g[7]=f=>a(ee).get(m.route("admin.supplier.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"people"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[37]||(g[37]=[_("Pemasok")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),m.$can("admin.product.index")||m.$can("admin.product-category.index")||m.$can("admin.stock-adjustment.index")||m.$can("admin.stock-movement.index")?(p(),I(Vt,{key:2,icon:"inventory_2",label:"Inventori","default-opened":m.$page.url.startsWith("/admin/products")||m.$page.url.startsWith("/admin/product-categories")||m.$page.url.startsWith("/admin/stock-adjustments")||m.$page.url.startsWith("/admin/stock-movements")},{default:l(()=>[m.$can("admin.stock-adjustment.index")?te((p(),I(le,{key:0,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/stock-adjustments"),onClick:g[8]||(g[8]=f=>a(ee).get(m.route("admin.stock-adjustment.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"swap_vert"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[38]||(g[38]=[_("Penyesuaian Stok")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0),m.$can("admin.stock-movement.index")?te((p(),I(le,{key:1,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/stock-movements"),onClick:g[9]||(g[9]=f=>a(ee).get(m.route("admin.stock-movement.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"timeline"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[39]||(g[39]=[_("Riwayat Stok")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0),m.$can("admin.product.index")?te((p(),I(le,{key:2,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/products"),onClick:g[10]||(g[10]=f=>a(ee).get(m.route("admin.product.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"box"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[40]||(g[40]=[_("Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0),m.$can("admin.product-category.index")?te((p(),I(le,{key:3,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/product-categories"),onClick:g[11]||(g[11]=f=>a(ee).get(m.route("admin.product-category.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"category"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[41]||(g[41]=[_("Kategori Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),m.$can("admin.cashier-session.index")||m.$can("admin.cashier-terminal.index")?(p(),I(Vt,{key:3,icon:"point_of_sale",label:"Kasir","default-opened":m.$page.url.startsWith("/admin/cashier-terminals")||m.$page.url.startsWith("/admin/cashier-session")},{default:l(()=>[m.$can("admin.cashier-session.index")?te((p(),I(le,{key:0,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/cashier-sessions"),onClick:g[12]||(g[12]=f=>a(ee).get(m.route("admin.cashier-session.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"tv_signin"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[42]||(g[42]=[_("Sesi Kasir")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0),m.$can("admin.cashier-terminal.index")?te((p(),I(le,{key:1,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/cashier-terminals"),onClick:g[13]||(g[13]=f=>a(ee).get(m.route("admin.cashier-terminal.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"point_of_sale"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[43]||(g[43]=[_("Terminal Kasir")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),m.$can("admin.customer-wallet-transaction-confirmation.index")||m.$can("admin.customer-wallet-transaction.index")?(p(),I(Vt,{key:4,icon:"wallet",label:"Wallet","default-opened":m.$page.url.startsWith("/admin/customer-wallet-transactions")||m.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations")},{default:l(()=>[m.$can("admin.customer-wallet-transaction-confirmation.index")?te((p(),I(le,{key:0,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations"),onClick:g[14]||(g[14]=f=>a(ee).get(m.route("admin.customer-wallet-transaction-confirmation.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"add_task"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[44]||(g[44]=[_("Konfirmasi Top Up")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0),m.$can("admin.customer-wallet-transaction.index")?te((p(),I(le,{key:1,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/customer-wallet-transactions"),onClick:g[15]||(g[15]=f=>a(ee).get(m.route("admin.customer-wallet-transaction.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"moving"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[45]||(g[45]=[_("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),m.$can("admin.finance-transaction.index")||m.$can("admin.finance-account.index")?(p(),I(Vt,{key:5,icon:"finance",label:"Keuangan","default-opened":m.$page.url.startsWith("/admin/finance-accounts")||m.$page.url.startsWith("/admin/finance-transactions")},{default:l(()=>[m.$can("admin.finance-transaction.index")?te((p(),I(le,{key:0,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/finance-transactions"),onClick:g[16]||(g[16]=f=>a(ee).get(m.route("admin.finance-transaction.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"moving"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[46]||(g[46]=[_("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0),m.$can("admin.finance-account.index")?te((p(),I(le,{key:1,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/finance-accounts"),onClick:g[17]||(g[17]=f=>a(ee).get(m.route("admin.finance-account.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"groups_2"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[47]||(g[47]=[_("Akun Kas")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),m.$can("admin.operational-cost.index")||m.$can("admin.operational-cost-category.index")?(p(),I(Vt,{key:6,icon:"paid",label:"Operasional","default-opened":m.$page.url.startsWith("/admin/operational-costs")||m.$page.url.startsWith("/admin/operational-cost-categories")},{default:l(()=>[m.$can("admin.operational-cost.index")?te((p(),I(le,{key:0,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/operational-costs"),onClick:g[18]||(g[18]=f=>a(ee).get(m.route("admin.operational-cost.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"request_quote"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[48]||(g[48]=[_("Biaya Operasional")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0),m.$can("admin.operational-cost-category.index")?te((p(),I(le,{key:1,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/operational-cost-categories"),onClick:g[19]||(g[19]=f=>a(ee).get(m.route("admin.operational-cost-category.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"category"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[49]||(g[49]=[_("Kategori")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),e(Vt,{icon:"settings",label:"Pengaturan","default-opened":m.$page.url.startsWith("/admin/settings")},{default:l(()=>[m.$can("admin.user.index")?te((p(),I(le,{key:0,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/settings/users"),onClick:g[20]||(g[20]=f=>a(ee).get(m.route("admin.user.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"person"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[50]||(g[50]=[_("Pengguna")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0),m.$can("admin.user-role.index")?te((p(),I(le,{key:1,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/settings/user-roles"),onClick:g[21]||(g[21]=f=>a(ee).get(m.route("admin.user-role.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"group"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[51]||(g[51]=[_("Role Pengguna")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0),m.$can("admin.pos-settings.edit")?te((p(),I(le,{key:2,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/settings/pos"),onClick:g[22]||(g[22]=f=>a(ee).get(m.route("admin.pos-settings.edit")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"point_of_sale"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[52]||(g[52]=[_("Point of Sales")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0),m.$can("admin.company-profile.edit")?te((p(),I(le,{key:3,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/settings/company-profile"),onClick:g[23]||(g[23]=f=>a(ee).get(m.route("admin.company-profile.edit")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"apartment"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[53]||(g[53]=[_("Profil Perusahaan")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0),m.$can("admin.user.index")?te((p(),I(le,{key:4,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/settings/user-activity-log"),onClick:g[24]||(g[24]=f=>a(ee).get(m.route("admin.user-activity-log.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"article"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[54]||(g[54]=[_("Log Aktivitas")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0),m.$can("admin.database-settings.index")?te((p(),I(le,{key:5,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/settings/database"),onClick:g[25]||(g[25]=f=>a(ee).get(m.route("admin.database-settings.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"database"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[55]||(g[55]=[_("Database")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]):k("",!0)]),_:1},8,["default-opened"]),te((p(),I(le,{clickable:"",active:m.$page.url.startsWith("/admin/settings/profile"),onClick:g[26]||(g[26]=f=>a(ee).get(m.route("admin.user-profile.edit")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"manage_accounts"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[56]||(g[56]=[_("Profil Saya")])),_:1})]),_:1})]),_:1},8,["active"])),[[re]]),te((p(),I(le,{clickable:"",style:{color:"inherit"},href:m.route("admin.auth.logout")},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(q,{name:"logout"})]),_:1}),e(N,null,{default:l(()=>[e(_e,null,{default:l(()=>g[57]||(g[57]=[_("Logout")])),_:1})]),_:1})]),_:1},8,["href"])),[[me],[re]]),t("div",pw,"  2025 - "+r(m.$config.APP_NAME+" v"+m.$config.APP_VERSION_STR),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Nn,{class:"bg-grey-1"},{default:l(()=>[e(Ve,null,{default:l(()=>[At(m.$slots,"default",{},void 0,!0)]),_:3})]),_:3}),At(m.$slots,"footer",{},void 0,!0)]),_:3}))}},gw=_t(fw,[["__scopeId","data-v-7ce8908e"]]),bw={__name:"GuestLayout",setup(u){return(n,d)=>(p(),I(zn,null,{default:l(()=>[At(n.$slots,"default")]),_:3}))}};Fn({onRegistered(u){console.log("Admin Service Worker registered:",u)}});Ln({layouts:{authenticated:gw,guest:bw},pagesGlob:Object.assign({"./pages/About.vue":Qn,"./pages/_examples/Autocomplete1.vue":Zn,"./pages/auth/Login.vue":ss,"./pages/cashier-session/Close.vue":ps,"./pages/cashier-session/Detail.vue":lr,"./pages/cashier-session/Index.vue":dr,"./pages/cashier-session/Open.vue":pr,"./pages/cashier-session/detail/FinanceTransactionTab.vue":Xs,"./pages/cashier-session/detail/MainInfoTab.vue":js,"./pages/cashier-session/detail/SalesOrderTab.vue":Ks,"./pages/cashier-terminal/Detail.vue":Tr,"./pages/cashier-terminal/Editor.vue":Dr,"./pages/cashier-terminal/Index.vue":Nr,"./pages/cashier-terminal/detail/MainInfoTab.vue":wr,"./pages/cashier-terminal/detail/SessionHistoryTab.vue":xr,"./pages/customer-wallet-transaction-confirmation/Detail.vue":Gr,"./pages/customer-wallet-transaction-confirmation/Index.vue":ai,"./pages/customer-wallet-transaction/Adjustment.vue":ni,"./pages/customer-wallet-transaction/Detail.vue":bi,"./pages/customer-wallet-transaction/Editor.vue":ki,"./pages/customer-wallet-transaction/Index.vue":qi,"./pages/customer/Detail.vue":dd,"./pages/customer/Editor.vue":pd,"./pages/customer/Import.vue":kd,"./pages/customer/Index.vue":Vd,"./pages/customer/detail/MainInfoTab.vue":Ai,"./pages/customer/detail/OrderHistoryTab.vue":Li,"./pages/customer/detail/WalletHistoryTab.vue":Mi,"./pages/dashboard/Index.vue":Yd,"./pages/dashboard/cards/ActualSummaryCard.vue":Id,"./pages/dashboard/cards/ChartCard.vue":Ed,"./pages/dashboard/cards/SummaryCard.vue":lu,"./pages/dashboard/cards/TopCard.vue":zd,"./pages/finance-account/Detail.vue":gu,"./pages/finance-account/Editor.vue":ku,"./pages/finance-account/Index.vue":Iu,"./pages/finance-account/detail/HistoryTab.vue":du,"./pages/finance-account/detail/MainInfoTab.vue":nu,"./pages/finance-transaction/Detail.vue":Lu,"./pages/finance-transaction/Editor.vue":Wu,"./pages/finance-transaction/Index.vue":am,"./pages/operational-cost-category/Editor.vue":sm,"./pages/operational-cost-category/Index.vue":pm,"./pages/operational-cost/Detail.vue":xm,"./pages/operational-cost/Editor.vue":Pm,"./pages/operational-cost/Index.vue":Mm,"./pages/product-category/Editor.vue":Fm,"./pages/product-category/Index.vue":Jm,"./pages/product/Detail.vue":_c,"./pages/product/Editor.vue":hc,"./pages/product/Import.vue":Vc,"./pages/product/Index.vue":Mc,"./pages/product/SendPriceList.vue":Yc,"./pages/product/SendPriceList2.vue":ep,"./pages/product/detail/MainInfoTab.vue":ic,"./pages/product/detail/StockHistoryTab.vue":mc,"./pages/purchase-order/Detail.vue":ef,"./pages/purchase-order/Editor.vue":$g,"./pages/purchase-order/Index.vue":Ag,"./pages/purchase-order/detail/InvoiceTab.vue":xp,"./pages/purchase-order/detail/PaymentDialog.vue":Rp,"./pages/purchase-order/detail/PaymentTab.vue":Qp,"./pages/purchase-order/editor/HelpDialog.vue":Df,"./pages/purchase-order/editor/ItemEditorDialog.vue":Cf,"./pages/purchase-order/editor/ItemsListTable.vue":nf,"./pages/purchase-order/editor/OrderInfoDialog.vue":Ef,"./pages/purchase-order/editor/PaymentDialog.vue":hf,"./pages/purchase-order/editor/SuccessDialog.vue":Gf,"./pages/sales-order/Detail.vue":A1,"./pages/sales-order/Editor.vue":Xb,"./pages/sales-order/Index.vue":gv,"./pages/sales-order/detail/InvoiceTab.vue":r1,"./pages/sales-order/detail/PaymentDialog.vue":g1,"./pages/sales-order/detail/PaymentTab.vue":R1,"./pages/sales-order/editor/HelpDialog.vue":ub,"./pages/sales-order/editor/ItemEditorDialog.vue":sb,"./pages/sales-order/editor/ItemsListTable.vue":B1,"./pages/sales-order/editor/OrderInfoDialog.vue":fb,"./pages/sales-order/editor/PaymentDialog.vue":lb,"./pages/sales-order/editor/SuccessDialog.vue":qb,"./pages/settings/company-profile/Edit.vue":wv,"./pages/settings/company-profile/partials/CompanyInfoForm.vue":bv,"./pages/settings/database/Index.vue":Vv,"./pages/settings/pos/Edit.vue":Ov,"./pages/settings/user-activity-log/Detail.vue":v_,"./pages/settings/user-activity-log/Index.vue":S_,"./pages/settings/user-profile/Edit.vue":R_,"./pages/settings/user-profile/partials/UpdatePasswordForm.vue":V_,"./pages/settings/user-profile/partials/UpdateProfileInformationForm.vue":q_,"./pages/settings/user-role/Detail.vue":L_,"./pages/settings/user-role/Editor.vue":J_,"./pages/settings/user-role/Index.vue":ay,"./pages/settings/user/Detail.vue":fy,"./pages/settings/user/Editor.vue":ky,"./pages/settings/user/Index.vue":qy,"./pages/stock-adjustment/Create.vue":jy,"./pages/stock-adjustment/Detail.vue":Wy,"./pages/stock-adjustment/Editor.vue":tk,"./pages/stock-adjustment/Index.vue":pk,"./pages/stock-movement/Index.vue":yk,"./pages/supplier/Detail.vue":Nk,"./pages/supplier/Editor.vue":Xk,"./pages/supplier/Index.vue":sw,"./pages/supplier/detail/MainInfoTab.vue":Pk,"./pages/supplier/detail/OrderHistoryTab.vue":Uk})});
