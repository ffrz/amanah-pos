import{_ as tt,Q as ie,a as le,b as ne,f as z,c as kt,d as ht,T as Se,e as ye,g as Te,h as Ce,i as rt,j as T,k as Z,l as R,m as ut,n as pe,s as Re,u as _e,o as Be,p as Pt,q as It,r as gt,t as bt,v as Pe,w as Ie,x as Me,y as Ae,z as we,A as ve,B,C as Qe,D as st,L as We,E as il,F as Le,G as Ve,H as X,I as ul,J as N,R as ae,K as se,M as Ke,N as ze,O as Oe,P as ka,S as Ee,U as F,V as Ge,W as $t,X as dt,Y as zl,Z as et,$ as Ye,a0 as Et,a1 as Hl,a2 as ha,a3 as $a,a4 as wt,a5 as Dt,a6 as zt,a7 as Sa,a8 as xa,a9 as St,aa as Ca,ab as jt,ac as yt,ad as Bt,ae as dl,af as qa,ag as qt,ah as ml,ai as Va,aj as cl,ak as Ta,al as Pa,am as Ia,an as Yl,ao as Fl,ap as Ma,aq as ue,ar as Oa,as as Na,at as Ra,au as Vt,av as Aa,aw as _t,ax as Ht,ay as pl,az as Kl,aA as Ua,aB as Ea,aC as Da,aD as Ql,aE as ja,aF as Ba,aG as La,aH as za,aI as Ha,aJ as Ya,aK as Fa,aL as Ka,aM as Qa,aN as Wa,aO as Ja,aP as Ga}from"./BaseGuestLayout-t91ZrE8J.js";import{r as j,f as O,j as w,k as e,l,m as a,p as g,F as W,q,v as E,x as D,y as u,u as t,z as G,A as Ne,o as ke,c as ee,w as xe,B as De,C as He,D as K,E as Fe,h as ce,i as Xa,g as xt,b as Mt,G as Za,H as eo,I as to,T as Wl,K as lo,J as be,L as it,M as Jl,N as ao,O as Yt,n as Ot,P as oo,Q as nt}from"./vendor1-DHVJnoe5.js";import{bT as no,eC as Tt}from"./vendor2-Cbh-CLSD.js";import{i as so,a as ro,b as io,c as uo,d as mo,e as co,f as po}from"./vendor3-Brm-UOXT.js";const fo={},go={class:"row"};function bo(p,s){const m=j("i-head"),o=j("authenticated-layout");return w(),O(W,null,[e(m,{title:"About"}),e(o,null,{title:l(()=>s[0]||(s[0]=[g("About")])),default:l(()=>[a("div",go,[e(ie,{class:"col q-pa-md q-ma-md",square:"",flat:"",bordered:""},{default:l(()=>[e(le,null,{default:l(()=>s[1]||(s[1]=[a("div",{class:"q-mb-md text-h4"},"About",-1),a("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Autem soluta, accusamus placeat eius eligendi perferendis quisquam veritatis iste debitis laboriosam facere et aliquam quos beatae illo distinctio rerum eos! Expedita, voluptatem. Aut nihil deleniti magni fuga eius labore aliquam nulla quod ullam sunt amet eum asperiores, harum unde eligendi tempore sapiente. Placeat sed, dignissimos voluptatum perspiciatis saepe aspernatur, maxime est, ipsam quas nobis cumque sunt labore molestias? Amet in sed ullam recusandae, nostrum dicta facilis blanditiis incidunt quae commodi soluta id impedit vel fugit illo, molestias reiciendis, provident nam molestiae! Ipsam, hic. Facere aut quisquam praesentium enim illum, pariatur nam.",-1),a("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, cum nulla. Ut eligendi tenetur aliquam cum mollitia repellat voluptas, fugiat doloremque sunt commodi enim excepturi distinctio id sapiente incidunt ipsam asperiores cupiditate, labore libero! Ad facere magni cumque perspiciatis, adipisci possimus pariatur quo nobis minus, est enim similique quaerat vel asperiores ipsam harum et, totam fugit.",-1),a("p",null,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Suscipit aspernatur maxime consectetur, consequatur excepturi facilis praesentium rem placeat sapiente, maiores doloribus modi voluptate. Unde autem dolor officiis numquam incidunt quasi aspernatur nam dolores ratione quidem recusandae, nulla qui provident molestias odit nemo praesentium quas voluptatem aliquid perferendis, iste veritatis vitae. Dolor, eligendi quidem distinctio asperiores doloremque culpa corporis quibusdam earum ex laudantium iure officia ullam nostrum maxime voluptatum laboriosam impedit labore illum. Culpa, veniam dolor odio ad eius nisi, aspernatur quia veritatis blanditiis repellat id minima deserunt beatae?",-1)])),_:1})]),_:1})])]),_:1})],64)}const _o=tt(fo,[["render",bo]]),vo=Object.freeze(Object.defineProperty({__proto__:null,default:_o},Symbol.toStringTag,{value:"Module"})),yo={class:"q-ma-md"},wo={key:0},ko={__name:"Autocomplete1",setup(p){const s=q(null),m=q([]);let o=null;const n=(f,r)=>{if(f.length<2){r(()=>{m.value=[]});return}o&&clearTimeout(o),o=setTimeout(()=>{kt.get(`/web-api/customers?q=${f}`).then(i=>{const c=i.data.data.map(v=>({label:`${v.username} - ${v.name}`,value:v.id,data:v}));r(()=>{m.value=c})}).catch(i=>{console.error("Gagal mengambil data pelanggan:",i),r(()=>{m.value=[]})})})};return(f,r)=>{const i=j("guest-layout");return w(),E(i,null,{default:l(()=>[a("div",yo,[e(ne,{class:"full-width",modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=c=>s.value=c),"use-input":"",label:"Cari Pelanggan",options:m.value,onFilter:n,hint:"Ketik minimal 2 karakter untuk mencari",clearable:""},null,8,["modelValue","options"]),s.value?(w(),O("div",wo," Saldo: Rp. "+u(t(z)(s.value.data.balance)),1)):D("",!0)])]),_:1})}}},ho=Object.freeze(Object.defineProperty({__proto__:null,default:ko},Symbol.toStringTag,{value:"Module"})),$o={style:{"margin-left":"-10px"}},Ft={__name:"StandardCheckBox",props:{modelValue:{type:Boolean,required:!0},disable:{type:Boolean,default:!1},label:{type:String,default:""}},emits:["update:modelValue"],setup(p,{emit:s}){const m=p,o=s;return(n,f)=>(w(),O("div",$o,[e(ht,{class:"full-width q-pl-none","model-value":m.modelValue,disable:m.disable,label:m.label,"onUpdate:modelValue":f[0]||(f[0]=r=>o("update:modelValue",r))},null,8,["model-value","disable","label"])]))}},So={class:"column"},xo={class:"row"},Co={class:"flex justify-center"},qo={__name:"Login",setup(p){let s=Se({username:window.CONFIG.APP_DEMO?"admin":"",password:window.CONFIG.APP_DEMO?"12345":"",remember:!0});const m=()=>Ce({form:s,url:route("admin.auth.login")}),o=q(!1);return(n,f)=>{const r=j("i-head"),i=j("guest-layout");return w(),O(W,null,[e(r,{title:"Login"}),e(i,null,{default:l(()=>[e(ye,{class:"row justify-center items-center"},{default:l(()=>[a("div",So,[a("div",xo,[e(Te,{class:"q-gutter-md",onSubmit:G(m,["prevent"])},{default:l(()=>[e(ie,{square:"",bordered:"",flat:"",class:"q-pa-md"},{default:l(()=>[e(le,{class:"text-center"},{default:l(()=>[a("div",Co,[e(rt,{size:"80px"},{default:l(()=>[e(T,{name:"badge",color:"primary"})]),_:1})]),f[4]||(f[4]=a("h6",{class:"q-my-sm text-primary"},"Login Staff",-1))]),_:1}),e(le,null,{default:l(()=>[e(Z,{modelValue:t(s).username,"onUpdate:modelValue":f[0]||(f[0]=c=>t(s).username=c),modelModifiers:{trim:!0},label:"Username","lazy-rules":"",error:!!t(s).errors.username,autocomplete:"username","error-message":t(s).errors.username,disable:t(s).processing,rules:[c=>c&&c.length>0||"Masukkan Username"],"hide-bottom-space":""},{append:l(()=>[e(T,{name:"person"})]),_:1},8,["modelValue","error","error-message","disable","rules"]),e(Z,{modelValue:t(s).password,"onUpdate:modelValue":f[2]||(f[2]=c=>t(s).password=c),type:o.value?"text":"password",label:"Kata Sandi",error:!!t(s).errors.password,autocomplete:"current-password","error-message":t(s).errors.password,"lazy-rules":"",disable:t(s).processing,rules:[c=>c&&c.length>0||"Masukkan kata sandi"],"hide-bottom-space":""},{append:l(()=>[e(R,{dense:"",flat:"",round:"",onClick:f[1]||(f[1]=c=>o.value=!o.value)},{default:l(()=>[e(T,{name:o.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","error","error-message","disable","rules"]),e(Ft,{class:"q-mt-sm",modelValue:t(s).remember,"onUpdate:modelValue":f[3]||(f[3]=c=>t(s).remember=c),disable:t(s).processing,label:"Ingat saya di perangkat ini"},null,8,["modelValue","disable"])]),_:1}),e(ut,null,{default:l(()=>[e(R,{icon:"login",type:"submit",color:"primary",class:"full-width",label:"Login",disable:t(s).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Vo=Object.freeze(Object.defineProperty({__proto__:null,default:qo},Symbol.toStringTag,{value:"Module"})),Gl={__name:"CompanyInfoForm",setup(p){const s=q(),m=pe(),o=Se({name:m.props.data.name,phone:m.props.data.phone,address:m.props.data.address}),n=()=>Ce({form:o,url:route("admin.company-profile.update")});return(f,r)=>(w(),E(Te,{class:"row",onSubmit:G(n,["prevent"]),onValidationError:t(Re)},{default:l(()=>[e(ie,{flat:"",bordered:"",square:"",class:"col"},{default:l(()=>[e(le,null,{default:l(()=>[r[3]||(r[3]=a("div",{class:"text-subtitle1 q-my-xs"},"Profil Maqsof",-1)),r[4]||(r[4]=a("p",{class:"text-caption text-grey-9"},"Perbarui profil koperasi.",-1)),e(Z,{ref_key:"nameInputRef",ref:s,modelValue:t(o).name,"onUpdate:modelValue":r[0]||(r[0]=i=>t(o).name=i),modelModifiers:{trim:!0},label:"Nama Koperasi",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.name,"error-message":t(o).errors.name,rules:[i=>i&&i.length>0||"Nama Koperasi harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(Z,{modelValue:t(o).phone,"onUpdate:modelValue":r[1]||(r[1]=i=>t(o).phone=i),modelModifiers:{trim:!0},label:"No Telepon",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.phone,"error-message":t(o).errors.phone,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(Z,{type:"textarea",counter:"",autogrow:"",maxlength:"200",modelValue:t(o).address,"onUpdate:modelValue":r[2]||(r[2]=i=>t(o).address=i),modelModifiers:{trim:!0},label:"Alamat",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.address,"error-message":t(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(le,null,{default:l(()=>[e(R,{icon:"save",type:"submit",color:"primary",label:"Simpan",disable:t(o).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},To=Object.freeze(Object.defineProperty({__proto__:null,default:Gl},Symbol.toStringTag,{value:"Module"})),Po={class:"q-pa-sm"},Io={class:"row justify-center"},Mo={class:"col col-lg-6"},fl="Profil Maqsof",Oo={__name:"Edit",setup(p){return(s,m)=>{const o=j("i-head"),n=j("authenticated-layout");return w(),O(W,null,[e(o,{title:fl}),e(n,null,{title:l(()=>[g(u(fl))]),default:l(()=>[a("div",Po,[a("div",Io,[a("div",Mo,[e(Gl)])])])]),_:1})],64)}}},No=Object.freeze(Object.defineProperty({__proto__:null,default:Oo},Symbol.toStringTag,{value:"Module"})),Ro={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Ao={class:"q-pa-sm"},Uo={class:"flex justify-end"},gl="Konfirmasi Top Up Wallet",Eo={__name:"Index",setup(p){const s=_e(),m=q(!1),o=q([]),n=q(!0),f=q(null),r=q(null),i=Be(r),c=q(null),v=q(!1),y=Pt(),S=It(),d=[{label:"Semua Tahun",value:"all"},...gt(y-2,y).reverse()],b=[{value:"all",label:"Semua Bulan"},...bt()],P=[{value:"all",label:"Semua Status"},...Pe(window.CONSTANTS.CUSTOMER_WALLET_TRANSACTION_CONFIRMATION_STATUSES)],_=Ne({search:"",year:y,month:S,status:"all",...Ie()}),H=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!1}),M=[{name:"datetime",label:"Tanggal",field:"datetime",align:"left",sortable:!0},{name:"finance_account_id",label:"Bank Tujuan",field:"finance_account_id",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"status",label:"Status",field:"status",align:"center"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",label:"Aksi",field:"action",align:"center"}];ke(()=>{x()});const x=(V=null)=>{Me({pagination:H,filter:_,props:V,rows:o,url:route("admin.customer-wallet-transaction-confirmation.data"),loading:n,tableRef:f})},I=()=>{x()},C=ee(()=>s.screen.gt.sm?M:M.filter(V=>["datetime","action"].includes(V.name)));xe(()=>_.year,V=>{V===null&&(_.month=null)});const k=V=>ul({message:`Setujui konfirmasi transaksi #${V.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",V.id),fetchItemsCallback:x,loading:n,data:{id:V.id,action:"accept"}}),h=V=>ul({message:`Tolak konfirmasi transaksi #${V.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",V.id),fetchItemsCallback:x,loading:n,data:{id:V.id,action:"reject"}}),$=V=>ze({message:`Hapus konfirmasi transaksi #${V.id}?`,url:route("admin.customer-wallet-transaction-confirmation.delete",V.id),fetchItemsCallback:x,loading:n});return(V,L)=>{const A=j("i-head"),Q=j("authenticated-layout");return w(),O(W,null,[e(A,{title:gl}),e(Q,null,De({title:l(()=>[g(u(gl))]),"right-button":l(()=>[e(R,{class:"q-ml-sm",icon:m.value?"filter_alt_off":"filter_alt",color:"grey",flat:"",rounded:"",dense:"",onClick:L[0]||(L[0]=te=>m.value=!m.value)},null,8,["icon"])]),default:l(()=>[a("div",Ao,[e(we,{ref_key:"tableRef",ref:f,class:"full-height-table",style:He({height:t(i)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:H.value,"onUpdate:pagination":L[6]||(L[6]=te=>H.value=te),filter:_.search,loading:n.value,columns:C.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:x,"binary-state-sort":""},{loading:l(()=>[e(Oe,{showing:"",color:"red"})]),body:l(te=>[e(ve,{props:te},{default:l(()=>[e(B,{key:"datetime",props:te,class:"wrap-column"},{default:l(()=>[a("div",null,"#: "+u(te.row.formatted_id),1),a("div",null,[e(T,{name:"calendar_today",class:"inline-icon"}),g(" "+u(t(Qe)(te.row.datetime))+" ("+u(t(st)(te.row.datetime))+") ",1)]),t(s).screen.gt.sm?D("",!0):(w(),O(W,{key:0},[e(We,{icon:"account_balance",text:te.row.finance_account.name},null,8,["text"]),a("div",null,[e(T,{name:"person",class:"inline-icon"}),g(" "+u(te.row.customer.username)+" - "+u(te.row.customer.name),1)]),a("div",null,[e(T,{name:"money",class:"inline-icon"}),g(" Rp. "+u(t(z)(te.row.amount)),1)]),te.row.description?(w(),E(We,{key:0,icon:"notes",text:te.row.description},null,8,["text"])):D("",!0),a("div",null,[e(il,{status:te.row.status},null,8,["status"])])],64))]),_:2},1032,["props"]),e(B,{key:"finance_account_id",props:te},{default:l(()=>[g(u(te.row.finance_account.name),1),L[8]||(L[8]=a("br",null,null,-1)),g(" "+u(te.row.finance_account.bank)+" "+u(te.row.finance_account.number)+" an. "+u(te.row.finance_account.holder),1)]),_:2},1032,["props"]),e(B,{key:"amount",props:te,style:{"text-align":"right"}},{default:l(()=>[g(" Rp. "+u(t(z)(te.row.amount)),1)]),_:2},1032,["props"]),e(B,{key:"status",props:te,class:"text-center"},{default:l(()=>[e(il,{status:te.row.status},null,8,["status"])]),_:2},1032,["props"]),e(B,{key:"notes",props:te},{default:l(()=>[g(u(te.row.notes),1)]),_:2},1032,["props"]),e(B,{key:"action",props:te,class:"text-center"},{default:l(()=>[a("div",Uo,[e(R,{icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:L[5]||(L[5]=G(()=>{},["stop"])),disable:te.row.status!=="pending"},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ve,{style:{width:"200px"}},{default:l(()=>[K((w(),E(X,{onClick:G(Y=>k(te.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"check"})]),_:1}),e(N,null,{default:l(()=>L[9]||(L[9]=[g("Setujui")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]]),K((w(),E(X,{onClick:G(Y=>h(te.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"cancel"})]),_:1}),e(N,null,{default:l(()=>L[10]||(L[10]=[g("Tolak")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]]),e(Ke),K((w(),E(X,{onClick:G(Y=>$(te.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>L[11]||(L[11]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disable"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"]),e(ka,{modelValue:v.value,"onUpdate:modelValue":L[7]||(L[7]=te=>v.value=te),imageUrl:`/${c.value}`},null,8,["modelValue","imageUrl"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:l(()=>[a("div",Ro,[e(ne,{modelValue:_.year,"onUpdate:modelValue":[L[1]||(L[1]=te=>_.year=te),I],options:d,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),_.year!=="all"?(w(),E(ne,{key:0,modelValue:_.month,"onUpdate:modelValue":[L[2]||(L[2]=te=>_.month=te),I],options:b,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:_.year===null},null,8,["modelValue","disable"])):D("",!0),e(ne,{modelValue:_.status,"onUpdate:modelValue":[L[3]||(L[3]=te=>_.status=te),I],options:P,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:_.search,"onUpdate:modelValue":L[4]||(L[4]=te=>_.search=te),placeholder:"Cari...",clearable:""},{append:l(()=>[e(T,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Do=Object.freeze(Object.defineProperty({__proto__:null,default:Eo},Symbol.toStringTag,{value:"Module"}));function Xl(p,s=!1){const m=p.map(r=>({value:r.id,label:r.username+" - "+r.name})),o=s?[{value:"all",label:"Semua"},...m]:m,n=q([...o]);return{filteredCustomers:n,filterCustomersFn:(r,i)=>{i(()=>{n.value=o.filter(c=>c.label.toLowerCase().includes(r.toLowerCase()))})},customers:o}}const jo={class:"col col-lg-6 q-pa-sm"},bl="Penyesuaian Saldo Dompet Santri",Bo={__name:"Adjustment",setup(p){const s=pe(),{filteredCustomers:m,filterCustomersFn:o}=Xl(s.props.customers,!1),n=Se({customer_id:null,old_balance:0,new_balance:0,notes:""}),f=()=>n.amount=n.new_balance-n.old_balance;xe(()=>n.customer_id,async c=>{if(!c){n.old_balance=0,n.new_balance=0,f();return}n.processing=!0;try{const v=await axios.get(route("admin.customer.balance",{id:c}));n.new_balance=n.old_balance=v.data.balance}catch(v){console.error("Gagal mengambil saldo:",v),n.old_balance=0,n.new_balance=0}n.processing=!1,f()});const r=ee(()=>n.new_balance-n.old_balance),i=()=>Ce({form:n,url:route("admin.customer-wallet-transaction.adjustment")});return(c,v)=>{const y=j("i-head"),S=j("authenticated-layout");return w(),O(W,null,[e(y,{title:bl}),e(S,null,{title:l(()=>[g(u(bl))]),default:l(()=>[e(ye,{class:"row justify-center"},{default:l(()=>[a("div",jo,[e(Te,{class:"row",onSubmit:G(i,["prevent"]),onValidationError:t(Re)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[e(ne,{class:"custom-select",modelValue:t(n).customer_id,"onUpdate:modelValue":v[0]||(v[0]=d=>t(n).customer_id=d),label:"Santri","use-input":"","input-debounce":"300",clearable:"",options:t(m),"map-options":"","emit-value":"",errorMessage:t(n).errors.customer_id,onFilter:t(o),error:!!t(n).errors.customer_id,disable:t(n).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(X,null,{default:l(()=>[e(N,null,{default:l(()=>v[6]||(v[6]=[g("Santri tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(Ee,{modelValue:t(n).old_balance,"onUpdate:modelValue":v[1]||(v[1]=d=>t(n).old_balance=d),label:"Saldo Tercatat",readonly:"",lazyRules:"",disable:t(n).processing,error:!!t(n).errors.balance,errorMessage:t(n).errors.balance},null,8,["modelValue","disable","error","errorMessage"]),e(Ee,{modelValue:t(n).new_balance,"onUpdate:modelValue":v[2]||(v[2]=d=>t(n).new_balance=d),label:"Saldo Seharusnya",lazyRules:"",disable:t(n).processing,error:!!t(n).errors.new_balance,errorMessage:t(n).errors.new_balance},null,8,["modelValue","disable","error","errorMessage"]),e(Ee,{modelValue:r.value,"onUpdate:modelValue":v[3]||(v[3]=d=>r.value=d),label:"Selisih",readonly:"",lazyRules:"",disable:t(n).processing},null,8,["modelValue","disable"]),e(Z,{modelValue:t(n).notes,"onUpdate:modelValue":v[4]||(v[4]=d=>t(n).notes=d),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(n).processing,error:!!t(n).errors.notes,"error-message":t(n).errors.notes,rules:[d=>d&&d.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(n).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(n).processing,onClick:v[5]||(v[5]=d=>t(F).get(c.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Lo=Object.freeze(Object.defineProperty({__proto__:null,default:Bo},Symbol.toStringTag,{value:"Module"})),zo={class:"q-gutter-sm"},Ho={class:"col col-lg-6 q-pa-sm"},Yo={__name:"Editor",setup(p){const s=pe(),m=(s.props.data.id?"Edit":"Catat")+" Transaksi Dompet Santri",{filteredCustomers:o,filterCustomersFn:n}=Xl(s.props.customers,!1),f=[{label:"Deposit (+)",value:"deposit"},{label:"Penarikan (-)",value:"withdrawal"},{label:"Pembelian (-)",value:"purchase"},{label:"Refund (+)",value:"refund"}],r=s.props.finance_accounts.map(v=>({label:v.name,value:v.id})),i=Se({id:s.props.data.id,customer_id:s.props.data.customer_id,finance_account_id:s.props.data.finance_account_id,type:s.props.data.type,datetime:Ge(s.props.data.datetime).format("YYYY-MM-DD HH:mm:ss"),notes:s.props.data.notes,amount:parseFloat(s.props.data.amount)}),c=()=>Ce({form:i,url:route("admin.customer-wallet-transaction.save")});return(v,y)=>{const S=j("i-head"),d=j("authenticated-layout");return w(),O(W,null,[e(S,{title:m}),e(d,null,{title:l(()=>[g(u(m))]),"left-button":l(()=>[a("div",zo,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:y[0]||(y[0]=b=>v.$inertia.get(v.route("admin.customer-wallet-transaction.index")))})])]),default:l(()=>[e(ye,{class:"row justify-center"},{default:l(()=>[a("div",Ho,[e(Te,{class:"row",onSubmit:G(c,["prevent"]),onValidationError:t(Re)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[K(a("input",{type:"hidden",name:"id","onUpdate:modelValue":y[1]||(y[1]=b=>t(i).id=b)},null,512),[[Fe,t(i).id]]),e($t,{autofocus:"",modelValue:t(i).datetime,"onUpdate:modelValue":y[2]||(y[2]=b=>t(i).datetime=b),label:"Tanggal",error:!!t(i).errors.datetime,disable:t(i).processing},null,8,["modelValue","error","disable"]),e(ne,{class:"custom-select",modelValue:t(i).customer_id,"onUpdate:modelValue":y[3]||(y[3]=b=>t(i).customer_id=b),label:"Santri","use-input":"","input-debounce":"300",clearable:"",options:t(o),"map-options":"","emit-value":"",errorMessage:t(i).errors.customer_id,onFilter:t(n),error:!!t(i).errors.customer_id,disable:t(i).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(X,null,{default:l(()=>[e(N,null,{default:l(()=>y[9]||(y[9]=[g("Santri tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(ne,{modelValue:t(i).type,"onUpdate:modelValue":y[4]||(y[4]=b=>t(i).type=b),label:"Jenis",options:f,"map-options":"","emit-value":"",error:!!t(i).errors.type,disable:t(i).processing,errorMessage:t(i).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),t(i).type=="deposit"||t(i).type=="withdrawal"?(w(),E(ne,{key:0,modelValue:t(i).finance_account_id,"onUpdate:modelValue":y[5]||(y[5]=b=>t(i).finance_account_id=b),label:t(i).type=="deposit"?"Kas Tujuan":"Kas Asal",options:t(r),"map-options":"","emit-value":"",error:!!t(i).errors.finance_account_id,disable:t(i).processing,errorMessage:t(i).errors.finance_account_id,"hide-bottom-space":""},null,8,["modelValue","label","options","error","disable","errorMessage"])):D("",!0),e(Ee,{modelValue:t(i).amount,"onUpdate:modelValue":y[6]||(y[6]=b=>t(i).amount=b),label:"Jumlah",lazyRules:"",disable:t(i).processing,error:!!t(i).errors.amount,errorMessage:t(i).errors.amount,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),e(Z,{modelValue:t(i).notes,"onUpdate:modelValue":y[7]||(y[7]=b=>t(i).notes=b),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(i).processing,error:!!t(i).errors.notes,"error-message":t(i).errors.notes,rules:[b=>b&&b.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(i).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(i).processing,onClick:y[8]||(y[8]=b=>t(F).get(v.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Fo=Object.freeze(Object.defineProperty({__proto__:null,default:Yo},Symbol.toStringTag,{value:"Module"})),Ko=["top","middle","bottom"],Nt=dt({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:p=>Ko.includes(p)}},setup(p,{slots:s}){const m=ee(()=>p.align!==void 0?{verticalAlign:p.align}:null),o=ee(()=>{const n=p.outline===!0&&p.color||p.textColor;return`q-badge flex inline items-center no-wrap q-badge--${p.multiLine===!0?"multi":"single"}-line`+(p.outline===!0?" q-badge--outline":p.color!==void 0?` bg-${p.color}`:"")+(n!==void 0?` text-${n}`:"")+(p.floating===!0?" q-badge--floating":"")+(p.rounded===!0?" q-badge--rounded":"")+(p.transparent===!0?" q-badge--transparent":"")});return()=>ce("div",{class:o.value,style:m.value,role:"status","aria-label":p.label},zl(s.default,p.label!==void 0?[p.label]:[]))}}),Qo={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Wo={class:"q-pa-sm"},Jo={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Go={class:"flex justify-end"},_l="Transaksi Dompet Santri",Xo={__name:"Index",setup(p){const s=_e(),m=q(!1),o=q([]),n=q(!0),f=q(null),r=q(null),i=Be(r),c=new Date().getFullYear(),v=new Date().getMonth()+1,y=[{label:"Semua Tahun",value:"all"},{label:`${c}`,value:c},...gt(c-2,c-1).reverse()],S=[{value:"all",label:"Semua Bulan"},...bt()],d=Ne({search:"",year:c,month:v,...Ie()}),b=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!0}),P=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"customer",label:"Santri",field:"customer",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];ke(()=>{H()});const _=I=>ze({message:`Hapus transaksi #-${I.id}?`,url:route("admin.customer-wallet-transaction.delete",I.id),fetchItemsCallback:H,loading:n}),H=(I=null)=>{Me({pagination:b,filter:d,props:I,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:n,tableRef:f})},M=()=>{H()},x=ee(()=>s.screen.gt.sm?P:P.filter(I=>I.name==="datetime"||I.name==="action"));return xe(()=>d.year,I=>{I===null&&(d.month=null)}),(I,C)=>{const k=j("i-head"),h=j("authenticated-layout");return w(),O(W,null,[e(k,{title:_l}),e(h,null,De({title:l(()=>[g(u(_l))]),"right-button":l(()=>[e(R,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:C[0]||(C[0]=$=>m.value=!m.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:C[1]||(C[1]=$=>t(F).get(I.route("admin.customer-wallet-transaction.add")))})]),default:l(()=>[a("div",Wo,[e(we,{ref_key:"tableRef",ref:f,style:He({height:t(i)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":C[6]||(C[6]=$=>b.value=$),filter:d.search,loading:n.value,columns:x.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:H,"binary-state-sort":""},{loading:l(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":l(({icon:$,message:V,filter:L})=>[a("div",Jo,[a("span",null,u(V)+" "+u(L?" with term "+L:""),1)])]),body:l($=>[e(ve,{props:$},{default:l(()=>[e(B,{key:"datetime",props:$,class:"wrap-column"},{default:l(()=>[a("div",null,[g(" #: "+u($.row.formatted_id)+" ",1),C[7]||(C[7]=a("br",null,null,-1)),e(T,{name:"calendar_today"}),g(" "+u(t(Qe)($.row.datetime))+" ("+u(t(st)($.row.datetime))+") ",1)]),a("div",null,[e(T,{name:"account_balance",class:"inline-icon"}),g(" "+u($.row.finance_account?$.row.finance_account.name:"-"),1)]),t(s).screen.gt.sm?D("",!0):(w(),O(W,{key:0},[e(We,{icon:"person",text:$.row.customer.username+" -"+$.row.customer.name},null,8,["text"]),a("div",null,[e(T,{name:"money",class:"inline-icon"}),g(" Rp. "+u(t(et)($.row.amount)+t(z)($.row.amount))+" ",1),e(Nt,null,{default:l(()=>[e(T,{name:"category"}),g(" "+u($.row.type_label),1)]),_:2},1024)]),e(We,{text:$.row.notes,icon:"notes"},null,8,["text"])],64))]),_:2},1032,["props"]),e(B,{key:"customer",props:$},{default:l(()=>[e(We,{text:$.row.customer.username+" -"+$.row.customer.name},null,8,["text"])]),_:2},1032,["props"]),e(B,{key:"notes",props:$},{default:l(()=>[e(We,{text:$.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(B,{key:"amount",props:$,style:{"text-align":"right"}},{default:l(()=>[g(u(t(et)($.row.amount)+t(z)($.row.amount)),1)]),_:2},1032,["props"]),e(B,{key:"action",props:$},{default:l(()=>[a("div",Go,[e(R,{disabled:!t(Ye)(I.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:C[5]||(C[5]=G(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ve,{style:{width:"200px"}},{default:l(()=>[K((w(),E(X,{onClick:G(V=>_($.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>C[8]||(C[8]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:l(()=>[a("div",Qo,[e(ne,{modelValue:d.year,"onUpdate:modelValue":[C[2]||(C[2]=$=>d.year=$),M],options:y,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(ne,{modelValue:d.month,"onUpdate:modelValue":[C[3]||(C[3]=$=>d.month=$),M],options:S,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:d.year===null},null,8,["modelValue","disable"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":C[4]||(C[4]=$=>d.search=$),placeholder:"Cari",clearable:""},{append:l(()=>[e(T,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Zo=Object.freeze(Object.defineProperty({__proto__:null,default:Xo},Symbol.toStringTag,{value:"Module"}));let en=0;const tn=["click","keydown"],ln={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${en++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function an(p,s,m,o){const n=Xa(Hl,Et);if(n===Et)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Et;const{proxy:f}=xt(),r=q(null),i=q(null),c=q(null),v=ee(()=>p.disable===!0||p.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},p.ripple===!0?{}:p.ripple)),y=ee(()=>n.currentModel.value===p.name),S=ee(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(y.value===!0?" q-tab--active"+(n.tabProps.value.activeClass?" "+n.tabProps.value.activeClass:"")+(n.tabProps.value.activeColor?` text-${n.tabProps.value.activeColor}`:"")+(n.tabProps.value.activeBgColor?` bg-${n.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(p.icon&&p.label&&n.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(p.noCaps===!0||n.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(p.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),d=ee(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(n.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(p.contentClass!==void 0?` ${p.contentClass}`:"")),b=ee(()=>p.disable===!0||n.hasFocus.value===!0||y.value===!1&&n.hasActiveTab.value===!0?-1:p.tabindex||0);function P(I,C){if(C!==!0&&r.value!==null&&r.value.focus(),p.disable!==!0){n.updateModel({name:p.name}),m("click",I);return}}function _(I){ha(I,[13,32])?P(I,!0):$a(I)!==!0&&I.keyCode>=35&&I.keyCode<=40&&I.altKey!==!0&&I.metaKey!==!0&&n.onKbdNavigate(I.keyCode,f.$el)===!0&&wt(I),m("keydown",I)}function H(){const I=n.tabProps.value.narrowIndicator,C=[],k=ce("div",{ref:c,class:["q-tab__indicator",n.tabProps.value.indicatorClass]});p.icon!==void 0&&C.push(ce(T,{class:"q-tab__icon",name:p.icon})),p.label!==void 0&&C.push(ce("div",{class:"q-tab__label"},p.label)),p.alert!==!1&&C.push(p.alertIcon!==void 0?ce(T,{class:"q-tab__alert-icon",color:p.alert!==!0?p.alert:void 0,name:p.alertIcon}):ce("div",{class:"q-tab__alert"+(p.alert!==!0?` text-${p.alert}`:"")})),I===!0&&C.push(k);const h=[ce("div",{class:"q-focus-helper",tabindex:-1,ref:r}),ce("div",{class:d.value},zl(s.default,C))];return I===!1&&h.push(k),h}const M={name:ee(()=>p.name),rootRef:i,tabIndicatorRef:c,routeData:o};Mt(()=>{n.unregisterTab(M)}),ke(()=>{n.registerTab(M)});function x(I,C){const k={ref:i,class:S.value,tabindex:b.value,role:"tab","aria-selected":y.value===!0?"true":"false","aria-disabled":p.disable===!0?"true":void 0,onClick:P,onKeydown:_,...C};return K(ce(I,k,H()),[[ae,v.value]])}return{renderTab:x,$tabs:n}}const pt=dt({name:"QTab",props:ln,emits:tn,setup(p,{slots:s,emit:m}){const{renderTab:o}=an(p,s,m);return()=>o("div")}});function on(p,s,m){const o=m===!0?["left","right"]:["top","bottom"];return`absolute-${s===!0?o[0]:o[1]}${p?` text-${p}`:""}`}const nn=["left","center","right","justify"],Kt=dt({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:p=>nn.includes(p)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(p,{slots:s,emit:m}){const{proxy:o}=xt(),{$q:n}=o,{registerTick:f}=Dt(),{registerTick:r}=Dt(),{registerTick:i}=Dt(),{registerTimeout:c,removeTimeout:v}=zt(),{registerTimeout:y,removeTimeout:S}=zt(),d=q(null),b=q(null),P=q(p.modelValue),_=q(!1),H=q(!0),M=q(!1),x=q(!1),I=[],C=q(0),k=q(!1);let h=null,$=null,V;const L=ee(()=>({activeClass:p.activeClass,activeColor:p.activeColor,activeBgColor:p.activeBgColor,indicatorClass:on(p.indicatorColor,p.switchIndicator,p.vertical),narrowIndicator:p.narrowIndicator,inlineLabel:p.inlineLabel,noCaps:p.noCaps})),A=ee(()=>{const J=C.value,oe=P.value;for(let me=0;me<J;me++)if(I[me].name.value===oe)return!0;return!1}),Q=ee(()=>`q-tabs__content--align-${_.value===!0?"left":x.value===!0?"justify":p.align}`),te=ee(()=>`q-tabs row no-wrap items-center q-tabs--${_.value===!0?"":"not-"}scrollable q-tabs--${p.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${p.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${p.mobileArrows===!0?"":"out"}-arrows`+(p.dense===!0?" q-tabs--dense":"")+(p.shrink===!0?" col-shrink":"")+(p.stretch===!0?" self-stretch":"")),Y=ee(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+Q.value+(p.contentClass!==void 0?` ${p.contentClass}`:"")),U=ee(()=>p.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),de=ee(()=>p.vertical!==!0&&n.lang.rtl===!0),qe=ee(()=>Sa===!1&&de.value===!0);xe(de,ct),xe(()=>p.modelValue,J=>{re({name:J,setCurrent:!0,skipEmit:!0})}),xe(()=>p.outsideArrows,je);function re({name:J,setCurrent:oe,skipEmit:me}){P.value!==J&&(me!==!0&&p["onUpdate:modelValue"]!==void 0&&m("update:modelValue",J),(oe===!0||p["onUpdate:modelValue"]===void 0)&&(Rt(P.value,J),P.value=J))}function je(){f(()=>{lt({width:d.value.offsetWidth,height:d.value.offsetHeight})})}function lt(J){if(U.value===void 0||b.value===null)return;const oe=J[U.value.container],me=Math.min(b.value[U.value.scroll],Array.prototype.reduce.call(b.value.children,($e,ge)=>$e+(ge[U.value.content]||0),0)),he=oe>0&&me>oe;_.value=he,he===!0&&r(ct),x.value=oe<parseInt(p.breakpoint,10)}function Rt(J,oe){const me=J!=null&&J!==""?I.find($e=>$e.name.value===J):null,he=oe!=null&&oe!==""?I.find($e=>$e.name.value===oe):null;if(Ct===!0)Ct=!1;else if(me&&he){const $e=me.tabIndicatorRef.value,ge=he.tabIndicatorRef.value;h!==null&&(clearTimeout(h),h=null),$e.style.transition="none",$e.style.transform="none",ge.style.transition="none",ge.style.transform="none";const fe=$e.getBoundingClientRect(),Ue=ge.getBoundingClientRect();ge.style.transform=p.vertical===!0?`translate3d(0,${fe.top-Ue.top}px,0) scale3d(1,${Ue.height?fe.height/Ue.height:1},1)`:`translate3d(${fe.left-Ue.left}px,0,0) scale3d(${Ue.width?fe.width/Ue.width:1},1,1)`,i(()=>{h=setTimeout(()=>{h=null,ge.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",ge.style.transform="none"},70)})}he&&_.value===!0&&mt(he.rootRef.value)}function mt(J){const{left:oe,width:me,top:he,height:$e}=b.value.getBoundingClientRect(),ge=J.getBoundingClientRect();let fe=p.vertical===!0?ge.top-he:ge.left-oe;if(fe<0){b.value[p.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(fe),ct();return}fe+=p.vertical===!0?ge.height-$e:ge.width-me,fe>0&&(b.value[p.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(fe),ct())}function ct(){const J=b.value;if(J===null)return;const oe=J.getBoundingClientRect(),me=p.vertical===!0?J.scrollTop:Math.abs(J.scrollLeft);de.value===!0?(H.value=Math.ceil(me+oe.width)<J.scrollWidth-1,M.value=me>0):(H.value=me>0,M.value=p.vertical===!0?Math.ceil(me+oe.height)<J.scrollHeight:Math.ceil(me+oe.width)<J.scrollWidth)}function el(J){$!==null&&clearInterval($),$=setInterval(()=>{pa(J)===!0&&Xe()},5)}function tl(){el(qe.value===!0?Number.MAX_SAFE_INTEGER:0)}function ll(){el(qe.value===!0?0:Number.MAX_SAFE_INTEGER)}function Xe(){$!==null&&(clearInterval($),$=null)}function ma(J,oe){const me=Array.prototype.filter.call(b.value.children,Ue=>Ue===oe||Ue.matches&&Ue.matches(".q-tab.q-focusable")===!0),he=me.length;if(he===0)return;if(J===36)return mt(me[0]),me[0].focus(),!0;if(J===35)return mt(me[he-1]),me[he-1].focus(),!0;const $e=J===(p.vertical===!0?38:37),ge=J===(p.vertical===!0?40:39),fe=$e===!0?-1:ge===!0?1:void 0;if(fe!==void 0){const Ue=de.value===!0?-1:1,Je=me.indexOf(oe)+fe*Ue;return Je>=0&&Je<he&&(mt(me[Je]),me[Je].focus({preventScroll:!0})),!0}}const ca=ee(()=>qe.value===!0?{get:J=>Math.abs(J.scrollLeft),set:(J,oe)=>{J.scrollLeft=-oe}}:p.vertical===!0?{get:J=>J.scrollTop,set:(J,oe)=>{J.scrollTop=oe}}:{get:J=>J.scrollLeft,set:(J,oe)=>{J.scrollLeft=oe}});function pa(J){const oe=b.value,{get:me,set:he}=ca.value;let $e=!1,ge=me(oe);const fe=J<ge?-1:1;return ge+=fe*5,ge<0?($e=!0,ge=0):(fe===-1&&ge<=J||fe===1&&ge>=J)&&($e=!0,ge=J),he(oe,ge),ct(),$e}function al(J,oe){for(const me in J)if(J[me]!==oe[me])return!1;return!0}function fa(){let J=null,oe={matchedLen:0,queryDiff:9999,hrefLen:0};const me=I.filter(fe=>fe.routeData!==void 0&&fe.routeData.hasRouterLink.value===!0),{hash:he,query:$e}=o.$route,ge=Object.keys($e).length;for(const fe of me){const Ue=fe.routeData.exact.value===!0;if(fe.routeData[Ue===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:Je,query:At,matched:ya,href:wa}=fe.routeData.resolvedLink.value,Ut=Object.keys(At).length;if(Ue===!0){if(Je!==he||Ut!==ge||al($e,At)===!1)continue;J=fe.name.value;break}if(Je!==""&&Je!==he||Ut!==0&&al(At,$e)===!1)continue;const Ze={matchedLen:ya.length,queryDiff:ge-Ut,hrefLen:wa.length-Je.length};if(Ze.matchedLen>oe.matchedLen){J=fe.name.value,oe=Ze;continue}else if(Ze.matchedLen!==oe.matchedLen)continue;if(Ze.queryDiff<oe.queryDiff)J=fe.name.value,oe=Ze;else if(Ze.queryDiff!==oe.queryDiff)continue;Ze.hrefLen>oe.hrefLen&&(J=fe.name.value,oe=Ze)}if(J===null&&I.some(fe=>fe.routeData===void 0&&fe.name.value===P.value)===!0){Ct=!1;return}re({name:J,setCurrent:!0})}function ga(J){if(v(),k.value!==!0&&d.value!==null&&J.target&&typeof J.target.closest=="function"){const oe=J.target.closest(".q-tab");oe&&d.value.contains(oe)===!0&&(k.value=!0,_.value===!0&&mt(oe))}}function ba(){c(()=>{k.value=!1},30)}function vt(){nl.avoidRouteWatcher===!1?y(fa):S()}function ol(){if(V===void 0){const J=xe(()=>o.$route.fullPath,vt);V=()=>{J(),V=void 0}}}function _a(J){I.push(J),C.value++,je(),J.routeData===void 0||o.$route===void 0?y(()=>{if(_.value===!0){const oe=P.value,me=oe!=null&&oe!==""?I.find(he=>he.name.value===oe):null;me&&mt(me.rootRef.value)}}):(ol(),J.routeData.hasRouterLink.value===!0&&vt())}function va(J){I.splice(I.indexOf(J),1),C.value--,je(),V!==void 0&&J.routeData!==void 0&&(I.every(oe=>oe.routeData===void 0)===!0&&V(),vt())}const nl={currentModel:P,tabProps:L,hasFocus:k,hasActiveTab:A,registerTab:_a,unregisterTab:va,verifyRouteModel:vt,updateModel:re,onKbdNavigate:ma,avoidRouteWatcher:!1};to(Hl,nl);function sl(){h!==null&&clearTimeout(h),Xe(),V!==void 0&&V()}let rl,Ct;return Mt(sl),Za(()=>{rl=V!==void 0,sl()}),eo(()=>{rl===!0&&(ol(),Ct=!0,vt()),je()}),()=>ce("div",{ref:d,class:te.value,role:"tablist",onFocusin:ga,onFocusout:ba},[ce(xa,{onResize:lt}),ce("div",{ref:b,class:Y.value,onScroll:ct},St(s.default)),ce(T,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(H.value===!0?"":" q-tabs__arrow--faded"),name:p.leftIcon||n.iconSet.tabs[p.vertical===!0?"up":"left"],onMousedownPassive:tl,onTouchstartPassive:tl,onMouseupPassive:Xe,onMouseleavePassive:Xe,onTouchendPassive:Xe}),ce(T,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(M.value===!0?"":" q-tabs__arrow--faded"),name:p.rightIcon||n.iconSet.tabs[p.vertical===!0?"down":"right"],onMousedownPassive:ll,onTouchstartPassive:ll,onMouseupPassive:Xe,onMouseleavePassive:Xe,onTouchendPassive:Xe})])}});function sn(p){const s=[.06,6,50];return typeof p=="string"&&p.length&&p.split(":").forEach((m,o)=>{const n=parseFloat(m);n&&(s[o]=n)}),s}const rn=Ca({name:"touch-swipe",beforeMount(p,{value:s,arg:m,modifiers:o}){if(o.mouse!==!0&&yt.has.touch!==!0)return;const n=o.mouseCapture===!0?"Capture":"",f={handler:s,sensitivity:sn(m),direction:dl(o),noop:qa,mouseStart(r){cl(r,f)&&Ta(r)&&(qt(f,"temp",[[document,"mousemove","move",`notPassive${n}`],[document,"mouseup","end","notPassiveCapture"]]),f.start(r,!0))},touchStart(r){if(cl(r,f)){const i=r.target;qt(f,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","notPassiveCapture"],[i,"touchend","end","notPassiveCapture"]]),f.start(r)}},start(r,i){yt.is.firefox===!0&&Bt(p,!0);const c=ml(r);f.event={x:c.left,y:c.top,time:Date.now(),mouse:i===!0,dir:!1}},move(r){if(f.event===void 0)return;if(f.event.dir!==!1){wt(r);return}const i=Date.now()-f.event.time;if(i===0)return;const c=ml(r),v=c.left-f.event.x,y=Math.abs(v),S=c.top-f.event.y,d=Math.abs(S);if(f.event.mouse!==!0){if(y<f.sensitivity[1]&&d<f.sensitivity[1]){f.end(r);return}}else if(window.getSelection().toString()!==""){f.end(r);return}else if(y<f.sensitivity[2]&&d<f.sensitivity[2])return;const b=y/i,P=d/i;f.direction.vertical===!0&&y<d&&y<100&&P>f.sensitivity[0]&&(f.event.dir=S<0?"up":"down"),f.direction.horizontal===!0&&y>d&&d<100&&b>f.sensitivity[0]&&(f.event.dir=v<0?"left":"right"),f.direction.up===!0&&y<d&&S<0&&y<100&&P>f.sensitivity[0]&&(f.event.dir="up"),f.direction.down===!0&&y<d&&S>0&&y<100&&P>f.sensitivity[0]&&(f.event.dir="down"),f.direction.left===!0&&y>d&&v<0&&d<100&&b>f.sensitivity[0]&&(f.event.dir="left"),f.direction.right===!0&&y>d&&v>0&&d<100&&b>f.sensitivity[0]&&(f.event.dir="right"),f.event.dir!==!1?(wt(r),f.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Va(),f.styleCleanup=_=>{f.styleCleanup=void 0,document.body.classList.remove("non-selectable");const H=()=>{document.body.classList.remove("no-pointer-events--children")};_===!0?setTimeout(H,50):H()}),f.handler({evt:r,touch:f.event.mouse!==!0,mouse:f.event.mouse,direction:f.event.dir,duration:i,distance:{x:y,y:d}})):f.end(r)},end(r){f.event!==void 0&&(jt(f,"temp"),yt.is.firefox===!0&&Bt(p,!1),f.styleCleanup!==void 0&&f.styleCleanup(!0),r!==void 0&&f.event.dir!==!1&&wt(r),f.event=void 0)}};if(p.__qtouchswipe=f,o.mouse===!0){const r=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";qt(f,"main",[[p,"mousedown","mouseStart",`passive${r}`]])}yt.has.touch===!0&&qt(f,"main",[[p,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[p,"touchmove","noop","notPassiveCapture"]])},updated(p,s){const m=p.__qtouchswipe;m!==void 0&&(s.oldValue!==s.value&&(typeof s.value!="function"&&m.end(),m.handler=s.value),m.direction=dl(s.modifiers))},beforeUnmount(p){const s=p.__qtouchswipe;s!==void 0&&(jt(s,"main"),jt(s,"temp"),yt.is.firefox===!0&&Bt(p,!1),s.styleCleanup!==void 0&&s.styleCleanup(),delete p.__qtouchswipe)}}),un={name:{required:!0},disable:Boolean},vl={setup(p,{slots:s}){return()=>ce("div",{class:"q-panel scroll",role:"tabpanel"},St(s.default))}},dn={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},mn=["update:modelValue","beforeTransition","transition"];function cn(){const{props:p,emit:s,proxy:m}=xt(),{getCache:o}=Ia(),{registerTimeout:n}=zt();let f,r;const i=q(null),c=q(null);function v(U){const de=p.vertical===!0?"up":"left";V((m.$q.lang.rtl===!0?-1:1)*(U.direction===de?1:-1))}const y=ee(()=>[[rn,v,void 0,{horizontal:p.vertical!==!0,vertical:p.vertical,mouse:!0}]]),S=ee(()=>p.transitionPrev||`slide-${p.vertical===!0?"down":"right"}`),d=ee(()=>p.transitionNext||`slide-${p.vertical===!0?"up":"left"}`),b=ee(()=>`--q-transition-duration: ${p.transitionDuration}ms`),P=ee(()=>typeof p.modelValue=="string"||typeof p.modelValue=="number"?p.modelValue:String(p.modelValue)),_=ee(()=>({include:p.keepAliveInclude,exclude:p.keepAliveExclude,max:p.keepAliveMax})),H=ee(()=>p.keepAliveInclude!==void 0||p.keepAliveExclude!==void 0);xe(()=>p.modelValue,(U,de)=>{const qe=C(U)===!0?k(U):-1;r!==!0&&$(qe===-1?0:qe<k(de)?-1:1),i.value!==qe&&(i.value=qe,s("beforeTransition",U,de),n(()=>{s("transition",U,de)},p.transitionDuration))});function M(){V(1)}function x(){V(-1)}function I(U){s("update:modelValue",U)}function C(U){return U!=null&&U!==""}function k(U){return f.findIndex(de=>de.props.name===U&&de.props.disable!==""&&de.props.disable!==!0)}function h(){return f.filter(U=>U.props.disable!==""&&U.props.disable!==!0)}function $(U){const de=U!==0&&p.animated===!0&&i.value!==-1?"q-transition--"+(U===-1?S.value:d.value):null;c.value!==de&&(c.value=de)}function V(U,de=i.value){let qe=de+U;for(;qe!==-1&&qe<f.length;){const re=f[qe];if(re!==void 0&&re.props.disable!==""&&re.props.disable!==!0){$(U),r=!0,s("update:modelValue",re.props.name),setTimeout(()=>{r=!1});return}qe+=U}p.infinite===!0&&f.length!==0&&de!==-1&&de!==f.length&&V(U,U===-1?f.length:-1)}function L(){const U=k(p.modelValue);return i.value!==U&&(i.value=U),!0}function A(){const U=C(p.modelValue)===!0&&L()&&f[i.value];return p.keepAlive===!0?[ce(lo,_.value,[ce(H.value===!0?o(P.value,()=>({...vl,name:P.value})):vl,{key:P.value,style:b.value},()=>U)])]:[ce("div",{class:"q-panel scroll",style:b.value,key:P.value,role:"tabpanel"},[U])]}function Q(){if(f.length!==0)return p.animated===!0?[ce(Wl,{name:c.value},A)]:A()}function te(U){return f=Pa(St(U.default,[])).filter(de=>de.props!==null&&de.props.slot===void 0&&C(de.props.name)===!0),f.length}function Y(){return f}return Object.assign(m,{next:M,previous:x,goTo:I}),{panelIndex:i,panelDirectives:y,updatePanelsList:te,updatePanelIndex:L,getPanelContent:Q,getEnabledPanels:h,getPanels:Y,isValidPanelName:C,keepAliveProps:_,needsUniqueKeepAliveWrapper:H,goToPanelByOffset:V,goToPanel:I,nextPanel:M,previousPanel:x}}const ft=dt({name:"QTabPanel",props:un,setup(p,{slots:s}){return()=>ce("div",{class:"q-tab-panel",role:"tabpanel"},St(s.default))}}),Qt=dt({name:"QTabPanels",props:{...dn,...Yl},emits:mn,setup(p,{slots:s}){const m=xt(),o=Fl(p,m.proxy.$q),{updatePanelsList:n,getPanelContent:f,panelDirectives:r}=cn(),i=ee(()=>"q-tab-panels q-panel-parent"+(o.value===!0?" q-tab-panels--dark q-dark":""));return()=>(n(s),Ma("div",{class:i.value},f(),"pan",p.swipeable,()=>r.value))}}),pn={class:"q-gutter-sm"},fn={class:"q-gutter-sm"},gn={class:"col col-lg-6 q-pa-sm"},bn={class:"row"},_n={class:"detail"},vn={key:0},yn={class:"text-grey-8"},wn={key:1},kn={class:"text-grey-8"},hn={class:"text-grey-8"},$n={key:2},Sn={class:"text-grey-8"},xn={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Cn={class:"text-grey-8"},yl="Rincian Santri",qn={__name:"Detail",setup(p){const s=pe(),m=q("main"),o=q([]),n=q(!0),f=Ne({customer_id:s.props.data.id,...Ie()}),r=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),i=[{name:"id",label:"#",field:"id",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah",field:"amount",align:"right"}];ke(()=>{c()});const c=(S=null)=>Me({pagination:r,filter:f,props:S,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:n}),v=_e(),y=ee(()=>v.screen.gt.sm?i:i.filter(S=>S.name==="id"));return(S,d)=>{const b=j("i-head"),P=j("authenticated-layout");return w(),O(W,null,[e(b,{title:yl}),e(P,null,{title:l(()=>[g(u(yl))]),"left-button":l(()=>[a("div",pn,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=_=>S.$inertia.get(S.route("admin.customer.index")))})])]),"right-button":l(()=>[a("div",fn,[e(R,{icon:"edit",dense:"",color:"primary",onClick:d[1]||(d[1]=_=>S.$inertia.get(S.route("admin.customer.edit",{id:t(s).props.data.id})))})])]),default:l(()=>[e(ye,{class:"row justify-center"},{default:l(()=>[a("div",gn,[a("div",bn,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Kt,{modelValue:m.value,"onUpdate:modelValue":d[2]||(d[2]=_=>m.value=_),align:"left"},{default:l(()=>[e(pt,{name:"main",label:"Info Utama"}),e(pt,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(Qt,{modelValue:m.value,"onUpdate:modelValue":d[4]||(d[4]=_=>m.value=_)},{default:l(()=>[e(ft,{name:"main"},{default:l(()=>[a("table",_n,[a("tbody",null,[d[28]||(d[28]=a("tr",null,[a("td",{colspan:"3"},[a("div",{class:"text-bold text-grey-8"},"Info Pelanggan")])],-1)),a("tr",null,[d[5]||(d[5]=a("td",{style:{width:"120px"}},"Username",-1)),d[6]||(d[6]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,u(t(s).props.data.username),1)]),a("tr",null,[d[7]||(d[7]=a("td",null,"Jenis",-1)),d[8]||(d[8]=a("td",null,":",-1)),a("td",null,u(S.$CONSTANTS.CUSTOMER_TYPES[t(s).props.data.type]),1)]),a("tr",null,[d[9]||(d[9]=a("td",null,"Nama",-1)),d[10]||(d[10]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.name),1)]),a("tr",null,[d[11]||(d[11]=a("td",null,"No. Telepon",-1)),d[12]||(d[12]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.phone),1)]),a("tr",null,[d[13]||(d[13]=a("td",null,"Alamat",-1)),d[14]||(d[14]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.address),1)]),a("tr",null,[d[15]||(d[15]=a("td",null,"Saldo",-1)),d[16]||(d[16]=a("td",null,":",-1)),a("td",null,"Rp. "+u(t(z)(t(s).props.data.balance)),1)]),a("tr",null,[d[17]||(d[17]=a("td",null,"Status",-1)),d[18]||(d[18]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.active?"Aktif":"Tidak Aktif"),1)]),d[29]||(d[29]=a("tr",null,[a("td",{colspan:"3"},[a("div",{class:"text-bold text-grey-8 q-mt-md"}," Info Akun ")])],-1)),t(s).props.data.created_at?(w(),O("tr",vn,[d[19]||(d[19]=a("td",null,"Dibuat",-1)),d[20]||(d[20]=a("td",null,":",-1)),a("td",null,[g(u(t(Qe)(t(s).props.data.created_at))+" ",1),a("span",yn,"("+u(t(st)(t(s).props.data.created_at))+")",1)])])):D("",!0),t(s).props.data.updated_at?(w(),O("tr",wn,[d[21]||(d[21]=a("td",null,"Diperbarui",-1)),d[22]||(d[22]=a("td",null,":",-1)),a("td",null,[g(u(t(Qe)(t(s).props.data.updated_at))+" ",1),a("span",kn,"("+u(t(st)(t(s).props.data.updated_at))+")",1)])])):D("",!0),a("tr",null,[d[23]||(d[23]=a("td",null,"Terakhir login",-1)),d[24]||(d[24]=a("td",null,":",-1)),a("td",null,[g(u(t(s).props.data.last_login_datetime?t(Qe)(t(s).props.data.last_login_datetime):"Belum pernah login")+" ",1),a("span",hn,"("+u(t(st)(t(s).props.data.last_login_datetime))+")",1)])]),t(s).props.data.last_activity_datetime?(w(),O("tr",$n,[d[26]||(d[26]=a("td",null,"Aktifitas Terakhir",-1)),d[27]||(d[27]=a("td",null,":",-1)),a("td",null,[g(u(t(Qe)(t(s).props.data.last_activity_datetime))+" ",1),a("span",Sn,[g("("+u(t(st)(t(s).props.data.last_activity_datetime))+") ",1),d[25]||(d[25]=a("br",null,null,-1)),g(u(t(s).props.data.last_activity_description),1)])])])):D("",!0)])])]),_:1}),e(ft,{name:"history"},{default:l(()=>[e(we,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":d[3]||(d[3]=_=>r.value=_),filter:f.search,loading:n.value,columns:y.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:c,"binary-state-sort":""},{loading:l(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":l(({icon:_,message:H,filter:M})=>[a("div",xn,[a("span",null,u(H)+" "+u(M?" with term "+M:""),1)])]),body:l(_=>[e(ve,{props:_},{default:l(()=>[e(B,{key:"id",props:_},{default:l(()=>[a("div",null,[a("b",null,"#"+u(_.row.formatted_id),1),g(" - "+u(t(Qe)(_.row.datetime)),1)]),e(Nt,{size:"xs"},{default:l(()=>[e(T,{name:"category"}),g(" "+u(_.row.type_label),1)]),_:2},1024),t(v).screen.lt.md?(w(),O(W,{key:0},[a("div",null,[e(T,{name:"money"}),a("span",{class:be(_.row.amount<0?"text-red-10":_.row.amount>0?"text-green-10":"")},u(t(et)(_.row.amount))+" "+u(t(z)(_.row.amount)),3)]),a("div",Cn,[e(T,{name:"notes"}),g(" "+u(_.row.notes),1)])],64)):D("",!0)]),_:2},1032,["props"]),e(B,{key:"notes",props:_},{default:l(()=>[g(u(_.row.notes),1)]),_:2},1032,["props"]),e(B,{key:"amount",props:_},{default:l(()=>[a("div",{class:be(_.row.amount<0?"text-red-10":_.row.amount>0?"text-green-10":"")},u(t(et)(_.row.amount))+" "+u(t(z)(_.row.amount)),3)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},Vn=Object.freeze(Object.defineProperty({__proto__:null,default:qn},Symbol.toStringTag,{value:"Module"})),Tn={class:"q-gutter-sm"},Pn={class:"col col-lg-6 q-pa-sm"},In={__name:"Editor",setup(p){const s=pe(),m=(s.props.data.id?"Edit":"Tambah")+" Pelanggan",o=Se({id:s.props.data.id,username:s.props.data.username,name:s.props.data.name,phone:s.props.data.phone,address:s.props.data.address,active:!!s.props.data.active,password:s.props.data.password}),n=()=>Ce({form:o,url:route("admin.customer.save")});return(f,r)=>{const i=j("i-head"),c=j("authenticated-layout");return w(),O(W,null,[e(i,{title:m}),e(c,null,{title:l(()=>[g(u(m))]),"left-button":l(()=>[a("div",Tn,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=v=>f.$inertia.get(f.route("admin.customer.index")))})])]),default:l(()=>[e(ye,{class:"row justify-center"},{default:l(()=>[a("div",Pn,[e(Te,{class:"row",onSubmit:G(n,["prevent"]),onValidationError:t(Re)},{default:l(()=>[K(a("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=v=>t(o).id=v)},null,512),[[Fe,t(o).id]]),e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[e(Z,{modelValue:t(o).username,"onUpdate:modelValue":r[2]||(r[2]=v=>t(o).username=v),modelModifiers:{trim:!0},label:"NIS",error:!!t(o).errors.username,disable:t(o).processing,"error-message":t(o).errors.username,rules:[v=>v&&v.length>0||"NIS harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Z,{modelValue:t(o).name,"onUpdate:modelValue":r[3]||(r[3]=v=>t(o).name=v),modelModifiers:{trim:!0},label:"Nama Santri",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[v=>v&&v.length>0||"Nama harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Z,{modelValue:t(o).phone,"onUpdate:modelValue":r[4]||(r[4]=v=>t(o).phone=v),modelModifiers:{trim:!0},type:"text",label:"No HP",disable:t(o).processing,error:!!t(o).errors.phone,"error-message":t(o).errors.phone,rules:[v=>v&&v.length>0||"No HP harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(Z,{modelValue:t(o).address,"onUpdate:modelValue":r[5]||(r[5]=v=>t(o).address=v),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Alamat",disable:t(o).processing,error:!!t(o).errors.address,"error-message":t(o).errors.address,rules:[v=>v&&v.length>0||"Alamat harus diisi."],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(Z,{modelValue:t(o).password,"onUpdate:modelValue":r[6]||(r[6]=v=>t(o).password=v),type:"password",label:t(o).id?"Kata Sandi Baru (Wajib diisi)":"Kata Sandi (Isi jika ingin mengganti)",disable:t(o).processing,error:!!t(o).errors.password,"error-message":t(o).errors.password,"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","label","disable","error","error-message"]),e(Ft,{modelValue:t(o).active,"onUpdate:modelValue":r[7]||(r[7]=v=>t(o).active=v),label:"Aktif",disable:t(o).processing},null,8,["modelValue","disable"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(R,{type:"submit",label:"Simpan",icon:"save",color:"primary",disable:t(o).processing},null,8,["disable"]),e(R,{label:"Batal",icon:"cancel",disable:t(o).processing,onClick:r[8]||(r[8]=v=>t(F).get(f.route("admin.customer.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Mn=Object.freeze(Object.defineProperty({__proto__:null,default:In},Symbol.toStringTag,{value:"Module"})),On={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Nn={class:"q-pa-sm"},Rn={class:"full-width row flex-center text-grey-8 q-gutter-sm"},An={class:"flex justify-end"},wl="Pelanggan",Un={__name:"Index",setup(p){const s=_e(),m=q(!1),o=q([]),n=q(!0),f=q(null),r=q(null),i=Be(r),c=Ne({search:"",status:"active",...Ie()}),v=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"username",label:s.screen.lt.md?"Pelanggan":"Kode",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right"},{name:"phone",label:"No HP",field:"phone",align:"left"},{name:"address",label:"Alamat",field:"address",align:"left"},{name:"action",align:"right"}],S=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];ke(()=>{b()});const d=M=>ze({message:`Hapus Santri ${M.name}?`,url:route("admin.customer.delete",M.id),fetchItemsCallback:b,loading:n}),b=(M=null)=>{Me({pagination:v,filter:c,props:M,rows:o,url:route("admin.customer.data"),loading:n,tableRef:f})},P=()=>b(),_=M=>F.get(route("admin.customer.detail",{id:M.id})),H=ee(()=>s.screen.gt.sm?y:y.filter(M=>M.name==="username"||M.name==="action"));return(M,x)=>{const I=j("i-head"),C=j("authenticated-layout");return w(),O(W,null,[e(I,{title:wl}),e(C,null,De({title:l(()=>[g(u(wl))]),"right-button":l(()=>[e(R,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:x[0]||(x[0]=k=>m.value=!m.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:x[1]||(x[1]=k=>t(F).get(M.route("admin.customer.add")))})]),default:l(()=>[a("div",Nn,[e(we,{class:"full-height-table",style:He({height:t(i)}),ref_key:"tableRef",ref:f,flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":x[5]||(x[5]=k=>v.value=k),filter:c.search,loading:n.value,columns:H.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:b,"binary-state-sort":""},{loading:l(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":l(({icon:k,message:h,filter:$})=>[a("div",Rn,[a("span",null,u(h)+" "+u($?" with term "+$:""),1)])]),body:l(k=>[e(ve,{props:k,class:be([k.row.active?"":"bg-red-1","cursor-pointer"]),onClick:h=>_(k.row)},{default:l(()=>[e(B,{key:"username",props:k,class:"wrap-column"},{default:l(()=>[a("div",null,[t(s).screen.lt.md?(w(),E(T,{key:0,name:"person"})):D("",!0),g(" "+u(k.row.username),1)]),t(s).screen.lt.md?(w(),O(W,{key:0},[a("div",null,[t(s).screen.lt.md?(w(),E(T,{key:0,name:"person"})):D("",!0),g(" "+u(k.row.name),1)]),a("div",null,[e(T,{name:"phone"}),g(" "+u(k.row.phone),1)]),e(We,{text:k.row.address,icon:"home_pin"},null,8,["text"]),a("div",null,[e(T,{name:"wallet"}),g(" Rp. "+u(t(z)(k.row.balance)),1)])],64)):D("",!0)]),_:2},1032,["props"]),e(B,{key:"name",props:k},{default:l(()=>[g(u(k.row.name),1)]),_:2},1032,["props"]),e(B,{key:"balance",props:k},{default:l(()=>[g(u(t(z)(k.row.balance)),1)]),_:2},1032,["props"]),e(B,{key:"phone",props:k},{default:l(()=>[g(u(k.row.phone),1)]),_:2},1032,["props"]),e(B,{key:"address",props:k},{default:l(()=>[e(We,{text:k.row.address},null,8,["text"])]),_:2},1032,["props"]),e(B,{key:"action",props:k},{default:l(()=>[a("div",An,[e(R,{disabled:!t(Ye)(M.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:x[4]||(x[4]=G(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ve,{style:{width:"200px"}},{default:l(()=>[K((w(),E(X,{clickable:"",onClick:G(h=>t(F).get(M.route("admin.customer.edit",k.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:l(()=>x[6]||(x[6]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]]),K((w(),E(X,{onClick:G(h=>d(k.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>x[7]||(x[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:l(()=>[a("div",On,[e(ne,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:c.status,"onUpdate:modelValue":[x[2]||(x[2]=k=>c.status=k),P],options:S,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:c.search,"onUpdate:modelValue":x[3]||(x[3]=k=>c.search=k),placeholder:"Cari",clearable:""},{append:l(()=>[e(T,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},En=Object.freeze(Object.defineProperty({__proto__:null,default:Un},Symbol.toStringTag,{value:"Module"})),Dn={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},jn={class:"q-pa-sm"},Bn={class:"q-pa-none"},Ln={class:"q-pb-sm"},zn={class:"row q-col-gutter-sm"},Hn={class:"row items-center no-wrap"},Yn={class:"q-ml-md"},Fn={class:"text-subtitle2 text-grey-8"},Kn={class:"text-h6 text-weight-bold"},Qn={class:"row q-col-gutter-sm q-pb-sm"},Wn={class:"col-md-6 col-12"},Jn={class:"col-md-6 col-12"},Gn={class:"row q-col-gutter-sm q-pb-sm"},Xn={class:"col-md-6 col-12"},Zn={class:"col-md-6 col-12"},kl="Dashboard",es={__name:"Index",setup(p){no([so,ro,io,uo,mo,co,po]);const s=q({summary:{total_santri:1500,active_santri:1450,total_sales:155e5,total_transactions:1250,total_wallet_balance:55e6,total_topup:75e6,total_purchase:85e6,total_withdrawal:65e6},top_customers_sales:[{name:"Wildan Medina",value:1822e3},{name:"Syafiq",value:1754500},{name:"Umar",value:1534e3},{name:"Fauzan",value:1212e3},{name:"Rizky",value:981500}],top_customers_topup:[{name:"Abdullah",value:175e4},{name:"Abdurrahman",value:15e5},{name:"Zayd",value:125e4},{name:"Syafiq",value:8e5},{name:"Umar",value:65e4}],monthly_sales:{labels:["Jan","Feb","Mar","Apr","Mei","Jun"],data:[14123e3,21344e3,15155e3,17128e3,12557e3,12723e3]},transaction_type_distribution:[{value:500,name:"Deposit"},{value:350,name:"Purchase"},{value:200,name:"Withdrawal"},{value:200,name:"Refund"}]}),m=q(!1),o=q(Ie().month??"this_month"),n=q([{value:"this_month",label:"Bulan Ini"},{value:"prev_month",label:"1 Bulan Sebelumnya"},{value:"prev_2month",label:"2 Bulan Sebelumnya"},{value:"prev_3month",label:"3 Bulan Sebelumnya"}]),f=()=>{F.visit(route("admin.dashboard",{month:o.value}))},r=["#82B1FF","#4DB6AC","#FFB74D","#9575CD"],i=ee(()=>({title:{text:"Penjualan Bulanan",left:"center"},tooltip:{trigger:"axis",formatter:function(y){let S=y[0].name+"<br/>";return y.forEach(function(d){S+=d.marker+" "+d.seriesName+": "+z(d.value)+"<br/>"}),S}},xAxis:{type:"category",data:s.value.monthly_sales.labels,axisLabel:{color:"#616161"}},yAxis:{type:"value",axisLabel:{formatter:y=>z(y),color:"#616161"}},series:[{name:"Penjualan",type:"bar",data:s.value.monthly_sales.data,itemStyle:{borderRadius:[5,5,0,0],color:r[0]}}]})),c=ee(()=>({title:{text:"Distribusi Jenis Transaksi",left:"center"},tooltip:{trigger:"item",formatter:function(y){return y.name+"<br/>"+y.seriesName+": "+z(y.value)+" ("+y.percent+"%)"}},legend:{orient:"vertical",left:"left",textStyle:{color:"#616161"}},series:[{name:"Jumlah Transaksi",type:"pie",radius:["40%","70%"],data:s.value.transaction_type_distribution,itemStyle:{borderRadius:5,borderColor:"#fff",borderWidth:2,color:y=>r[y.dataIndex%r.length]},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})),v=q([{label:"Total Santri",value:ee(()=>s.value.summary.total_santri),icon:"groups",color:"primary",bgColor:"#e3f2fd"},{label:"Total Penjualan",value:ee(()=>z(s.value.summary.total_sales)),icon:"shopping_cart",color:"green-7",bgColor:"#e8f5e9"},{label:"Saldo Dompet Santri",value:ee(()=>z(s.value.summary.total_wallet_balance)),icon:"account_balance_wallet",color:"orange-9",bgColor:"#fff3e0"},{label:"Total Transaksi",value:ee(()=>z(s.value.summary.total_transactions)),icon:"swap_horiz",color:"purple-8",bgColor:"#f3e5f5"}]);return(y,S)=>{const d=j("i-head"),b=j("authenticated-layout");return w(),O(W,null,[e(d,{title:kl}),e(b,null,De({title:l(()=>[g(u(kl))]),"right-button":l(()=>[e(R,{class:"q-ml-sm",icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:S[0]||(S[0]=P=>m.value=!m.value)},null,8,["icon"])]),default:l(()=>[a("div",jn,[a("div",Bn,[a("div",Ln,[S[2]||(S[2]=a("div",{class:"text-h6 text-bold text-grey-8 q-mb-sm"}," Statistik Ringkasan ",-1)),a("div",zn,[(w(!0),O(W,null,it(v.value,(P,_)=>(w(),O("div",{key:_,class:"col-12 col-md-3"},[e(ie,{square:"",bordered:"",flat:"",class:"q-pa-md",style:{width:"100%"}},{default:l(()=>[a("div",Hn,[e(rt,{icon:P.icon,color:P.color,"text-color":P.bgColor},null,8,["icon","color","text-color"]),a("div",Yn,[a("div",Fn,u(P.label),1),a("div",Kn,u(P.value),1)])])]),_:2},1024)]))),128))])])]),a("div",Qn,[a("div",Wn,[e(ie,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:l(()=>[S[3]||(S[3]=a("div",{class:"text-h6 q-pb-sm"},"Penjualan Bulanan",-1)),e(t(Tt),{class:"chart",option:i.value,autoresize:""},null,8,["option"])]),_:1})]),a("div",Jn,[e(ie,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:l(()=>[S[4]||(S[4]=a("div",{class:"text-h6 q-pb-sm"},"Distribusi Transaksi",-1)),e(t(Tt),{class:"chart",option:c.value,autoresize:""},null,8,["option"])]),_:1})])]),a("div",Gn,[a("div",Xn,[e(ie,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:l(()=>[S[5]||(S[5]=a("div",{class:"text-h6 q-mb-sm"},"Top 5 Pembelian Santri",-1)),e(Ve,{separator:""},{default:l(()=>[(w(!0),O(W,null,it(s.value.top_customers_sales,(P,_)=>(w(),E(X,{key:_},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(rt,{color:"primary","text-color":"white",size:"sm"},{default:l(()=>[g(u(_+1),1)]),_:2},1024)]),_:2},1024),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>[g(u(P.name),1)]),_:2},1024)]),_:2},1024),e(N,{side:""},{default:l(()=>[e(ue,{class:"text-primary"},{default:l(()=>[g(u(t(z)(P.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),a("div",Zn,[e(ie,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:l(()=>[S[6]||(S[6]=a("div",{class:"text-h6 q-mb-sm"},"Top 5 Top Up Santri",-1)),e(Ve,{separator:""},{default:l(()=>[(w(!0),O(W,null,it(s.value.top_customers_topup,(P,_)=>(w(),E(X,{key:_},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(rt,{color:"green-7","text-color":"white",size:"sm"},{default:l(()=>[g(u(_+1),1)]),_:2},1024)]),_:2},1024),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>[g(u(P.name),1)]),_:2},1024)]),_:2},1024),e(N,{side:""},{default:l(()=>[e(ue,{class:"text-green-7"},{default:l(()=>[g(u(t(z)(P.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ae,{class:"filter-bar"},{default:l(()=>[a("div",Dn,[e(ne,{class:"custom-select col-12",style:{"min-width":"150px"},modelValue:o.value,"onUpdate:modelValue":[S[1]||(S[1]=P=>o.value=P),f],options:n.value,label:"Bulan",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue","options"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},ts=tt(es,[["__scopeId","data-v-45790296"]]),ls=Object.freeze(Object.defineProperty({__proto__:null,default:ts},Symbol.toStringTag,{value:"Module"})),as={class:"row q-col-gutter-sm"},os={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},ns={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},ss={__name:"ChartCard",setup(p){const s=pe(),m={tooltip:{show:!0},title:{text:"Servis Diterima vs Sukses vs Gagal",textStyle:{color:"#444"},left:"center"},legend:{top:"10%",data:[s.props.data.chart1_data.data[0].label,s.props.data.chart1_data.data[1].label,s.props.data.chart1_data.data[2].label]},grid:{containLabel:!0,left:"5px",bottom:"5px",right:"5px"},xAxis:{show:!0,type:"category",data:s.props.data.chart1_data.x_axis_label_data,axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{show:!0,color:"#ccc",type:"dashed"}},axisLabel:{show:!0},boundaryGap:!0},yAxis:{show:!0,type:"value",axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisLabel:{show:!0},splitLine:{lineStyle:{type:"dashed",color:"#ccc"}},axisTick:{show:!0,lineStyle:{show:!0,color:"#fff",type:"dashed"}}},series:[{name:s.props.data.chart1_data.data[0].label,type:"line",lineStyle:{color:"#007bff"},itemStyle:{color:"#007bff"},smooth:!0,data:s.props.data.chart1_data.data[0].data},{name:s.props.data.chart1_data.data[1].label,type:"line",lineStyle:{color:"#28a745"},itemStyle:{color:"#28a745"},smooth:!0,data:s.props.data.chart1_data.data[1].data},{name:s.props.data.chart1_data.data[2].label,type:"line",lineStyle:{color:"#dc3545"},itemStyle:{color:"#dc3545"},smooth:!0,data:s.props.data.chart1_data.data[2].data}],color:["white"]},o={tooltip:{show:!0},title:{text:"Pendapatan Servis",textStyle:{color:"#444"},left:"center"},legend:{top:"10%",data:[s.props.data.chart2_data.data[0].label]},grid:{containLabel:!0,left:"5px",bottom:"5px",right:"5px"},xAxis:{show:!0,type:"category",data:s.props.data.chart1_data.x_axis_label_data,axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{show:!0,color:"#ccc",type:"dashed"}},axisLabel:{show:!0},boundaryGap:!0},yAxis:{show:!0,type:"value",axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisLabel:{show:!0},splitLine:{lineStyle:{type:"dashed",color:"#ccc"}},axisTick:{show:!0,lineStyle:{show:!0,color:"#fff",type:"dashed"}}},series:[{name:s.props.data.chart2_data.data[0].label,type:"bar",itemStyle:{color:"#007bff"},smooth:!0,data:s.props.data.chart2_data.data[0].data}],color:["white"]};return(n,f)=>(w(),O("div",as,[a("div",os,[e(ie,{square:"",class:"no-shadow",bordered:"",style:{"background-color":"#fff"}},{default:l(()=>[e(le,{class:"q-pa-none"},{default:l(()=>[e(t(Tt),{option:m,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"250px"}})]),_:1})]),_:1})]),a("div",ns,[e(ie,{class:"no-shadow",square:"",bordered:"",style:{"background-color":"#fff"}},{default:l(()=>[e(le,{class:"q-pa-none"},{default:l(()=>[e(t(Tt),{option:o,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"250px"}})]),_:1})]),_:1})])]))}},rs=tt(ss,[["__scopeId","data-v-5c77cb08"]]),is=Object.freeze(Object.defineProperty({__proto__:null,default:rs},Symbol.toStringTag,{value:"Module"})),us={class:"row"},ds={class:"row q-col-gutter-sm"},ms={class:"col-sm-6 col-xs-12"},cs={class:"col-sm-6 col-xs-12"},ps={class:"col-md-3 col-sm-6 col-xs-12"},fs={class:"col-md-3 col-sm-6 col-xs-12"},gs={class:"col-md-3 col-sm-6 col-xs-12"},bs={class:"col-md-3 col-sm-6 col-xs-12"};const _s={__name:"SummaryCard",setup(p){pe();const s=(m,o)=>{const f={...{order_status:"all",service_status:"all",repair_status:"all",payment_status:"all",search:""},...o};localStorage.setItem("fixsync.service-orders.filter",JSON.stringify(f)),F.visit(m,{data:f})};return(m,o)=>(w(),O("div",us,[e(ie,{class:"bg-transparent no-shadow no-border col",bordered:""},{default:l(()=>[e(le,{class:"q-pa-none"},{default:l(()=>[a("div",ds,[a("div",ms,[e(X,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:o[0]||(o[0]=n=>m.$inertia.visit(m.route("admin.customer.index",{status:"active"})))},{default:l(()=>[e(N,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(T,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ue,{class:"text-white text-h6 text-weight-bolder"},{default:l(()=>[g(u(m.$page.props.data.active_customer_count),1)]),_:1}),e(ue,null,{default:l(()=>o[5]||(o[5]=[g("Santri Aktif")])),_:1})]),_:1})]),_:1})]),a("div",cs,[e(X,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:o[1]||(o[1]=n=>m.$inertia.visit(m.route("admin.customer.index",{status:"active"})))},{default:l(()=>[e(N,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(T,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ue,{class:"text-white text-h6 text-weight-bolder"},{default:l(()=>[g(u(m.$page.props.data.active_user_count),1)]),_:1}),e(ue,null,{default:l(()=>o[6]||(o[6]=[g("Pengguna Aktif")])),_:1})]),_:1})]),_:1})]),a("div",ps,[e(X,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:l(()=>[e(N,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(T,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ue,{class:"text-white text-weight-bold"},{default:l(()=>[g(" Rp. "+u(t(z)(m.$page.props.data.total_finance_account_balance)),1)]),_:1}),e(ue,null,{default:l(()=>o[7]||(o[7]=[g("Total Saldo Koperasi")])),_:1})]),_:1})]),_:1})]),a("div",fs,[e(X,{style:"background-color: #dc3545",class:"q-pa-none"},{default:l(()=>[e(N,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(T,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ue,{class:"text-white text-weight-bold"},{default:l(()=>[g(" Rp. "+u(t(z)(m.$page.props.data.total_customer_balance)),1)]),_:1}),e(ue,null,{default:l(()=>o[8]||(o[8]=[g("Total Saldo Santri")])),_:1})]),_:1})]),_:1})]),a("div",gs,[e(X,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:l(()=>[e(N,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(T,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ue,{class:"text-white text-weight-bold"},{default:l(()=>[g(" Rp. "+u(t(z)(m.$page.props.data.total_customer_debt)),1)]),_:1}),e(ue,null,{default:l(()=>o[9]||(o[9]=[g("Total Utang Santri")])),_:1})]),_:1})]),_:1})]),a("div",bs,[e(X,{style:"background-color: #dc3545",class:"q-pa-none"},{default:l(()=>[e(N,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(T,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(N,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ue,{class:"text-white text-weight-bold"},{default:l(()=>[g(" Rp. "+u(t(z)(m.$page.props.data.total_customer_credit)),1)]),_:1}),e(ue,null,{default:l(()=>o[10]||(o[10]=[g("Total Piutang Santri")])),_:1})]),_:1})]),_:1})]),D("",!0),D("",!0),D("",!0)])]),_:1})]),_:1})]))}},vs=Object.freeze(Object.defineProperty({__proto__:null,default:_s},Symbol.toStringTag,{value:"Module"})),ys={class:"text-subtitle1 text-bold text-grey-9"},ws={class:"flex items-center justify-between"},ks={__name:"TopCard",props:{items:Array,title:String,route_url:String},setup(p){const s=p;return(m,o)=>{const n=j("i-link");return w(),E(ie,{class:"no-shadow",square:"",bordered:""},{default:l(()=>[e(le,null,{default:l(()=>[a("div",ys,u(s.title),1),a("div",null,[(w(!0),O(W,null,it(s.items,f=>(w(),O("div",{key:f.id},[a("div",ws,[a("span",null,[e(n,{href:m.route(s.route_url,{id:f.id})},{default:l(()=>[g(u(f.name),1)]),_:2},1032,["href"])]),a("span",null,"Rp. "+u(t(z)(f.total)),1)])]))),128))])]),_:1})]),_:1})}}},hs=Object.freeze(Object.defineProperty({__proto__:null,default:ks},Symbol.toStringTag,{value:"Module"})),$s={class:"q-gutter-sm"},Ss={class:"q-gutter-sm"},xs={class:"col col-lg-6 q-pa-sm"},Cs={class:"row"},qs={class:"detail"},Vs={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ts={class:"flex q-gutter-sm"},Ps={class:""},hl="Rincian Akun",Is={__name:"Detail",setup(p){const s=pe(),m=q("main"),o=q([]),n=q(!0),f=Ne({...Ie()}),r=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),i=[{name:"id",label:"#",field:"id",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!0},{name:"quantity",label:"Jumlah",field:"quantity",align:"center",sortable:!0}];ke(()=>{c()});const c=(S=null)=>Me({pagination:r,filter:f,props:S,rows:o,loading:n}),v=_e(),y=ee(()=>v.screen.gt.sm?i:i.filter(S=>S.name==="id"));return(S,d)=>{const b=j("i-head"),P=j("authenticated-layout");return w(),O(W,null,[e(b,{title:hl}),e(P,null,{title:l(()=>[g(u(hl))]),"left-button":l(()=>[a("div",$s,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=_=>S.$inertia.get(S.route("admin.finance-account.index")))})])]),"right-button":l(()=>[a("div",Ss,[e(R,{icon:"edit",dense:"",color:"primary",onClick:d[1]||(d[1]=_=>t(F).get(S.route("admin.finance-account.edit",{id:t(s).props.data.id})))})])]),default:l(()=>[e(ye,{class:"row justify-center"},{default:l(()=>[a("div",xs,[a("div",Cs,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Kt,{modelValue:m.value,"onUpdate:modelValue":d[2]||(d[2]=_=>m.value=_),align:"left"},{default:l(()=>[e(pt,{name:"main",label:"Info Akun"}),e(pt,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(Qt,{modelValue:m.value,"onUpdate:modelValue":d[4]||(d[4]=_=>m.value=_)},{default:l(()=>[e(ft,{name:"main"},{default:l(()=>[a("table",qs,[a("tbody",null,[a("tr",null,[d[5]||(d[5]=a("td",{style:{width:"150px"}},"Nama",-1)),d[6]||(d[6]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,u(t(s).props.data.name),1)]),a("tr",null,[d[7]||(d[7]=a("td",null,"Jenis",-1)),d[8]||(d[8]=a("td",null,":",-1)),a("td",null,u(S.$CONSTANTS.FINANCE_ACCOUNT_TYPES[t(s).props.data.type]),1)]),t(s).props.data.type=="bank"?(w(),O(W,{key:0},[a("tr",null,[d[9]||(d[9]=a("td",null,"Bank",-1)),d[10]||(d[10]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.bank),1)]),a("tr",null,[d[11]||(d[11]=a("td",null,"No. Rek",-1)),d[12]||(d[12]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.number),1)]),a("tr",null,[d[13]||(d[13]=a("td",null,"Atas Nama",-1)),d[14]||(d[14]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.holder),1)])],64)):D("",!0),a("tr",null,[d[15]||(d[15]=a("td",null,"Tampilkan di Wallet",-1)),d[16]||(d[16]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.has_wallet_access?"Ya":"Tidak"),1)]),a("tr",null,[d[17]||(d[17]=a("td",null,"Status",-1)),d[18]||(d[18]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.active?"Aktif":"Tidak Aktif"),1)]),a("tr",null,[d[19]||(d[19]=a("td",null,"Saldo",-1)),d[20]||(d[20]=a("td",null,":",-1)),a("td",null,"Rp. "+u(t(z)(t(s).props.data.balance)),1)]),a("tr",null,[d[21]||(d[21]=a("td",null,"Catatan",-1)),d[22]||(d[22]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.notes),1)])])])]),_:1}),e(ft,{name:"history"},{default:l(()=>[e(we,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":d[3]||(d[3]=_=>r.value=_),filter:f.search,loading:n.value,columns:y.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:c,"binary-state-sort":""},{loading:l(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":l(({icon:_,message:H,filter:M})=>[a("div",Vs,[a("span",null,u(H)+" "+u(M?" with term "+M:""),1)])]),body:l(_=>[e(ve,{props:_},{default:l(()=>[e(B,{key:"id",props:_},{default:l(()=>[a("div",Ts,[a("div",null,[a("b",null,"#"+u(_.row.id),1)]),a("div",null," - "+u(S.$dayjs(new Date(_.row.created_at)).format("DD/MM/YYYY hh:mm:ss")),1),a("div",null," - "+u(_.row.created_by?_.row.created_by.username:"--"),1)]),t(v).screen.lt.md?(w(),O(W,{key:0},[a("div",Ps,u(S.$CONSTANTS.STOCKMOVEMENT_REFTYPES[_.row.ref_type]),1),a("div",{class:be(_.row.quantity<0?"text-red-10":_.row.quantity>0?"text-green-10":"")},[e(T,{name:_.row.quantity<0?"arrow_downward":_.row.quantity>0?"arrow_upward":""},null,8,["name"]),g(" "+u(t(z)(_.row.quantity)),1)],2)],64)):D("",!0)]),_:2},1032,["props"]),e(B,{key:"type",props:_},{default:l(()=>[g(u(S.$CONSTANTS.STOCKMOVEMENT_REFTYPES[_.row.ref_type]),1)]),_:2},1032,["props"]),e(B,{key:"quantity",props:_},{default:l(()=>[a("div",{class:be(_.row.quantity<0?"text-red-10":_.row.quantity>0?"text-green-10":"")},[e(T,{name:_.row.quantity<0?"arrow_downward":_.row.quantity>0?"arrow_upward":""},null,8,["name"]),g(" "+u(t(z)(_.row.quantity)),1)],2)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},Ms=Object.freeze(Object.defineProperty({__proto__:null,default:Is},Symbol.toStringTag,{value:"Module"})),Os={class:"q-gutter-sm"},Ns={class:"col col-lg-6 q-pa-sm"},Rs={style:{"margin-left":"-10px"}},As={style:{"margin-left":"-10px"}},Us={__name:"Editor",setup(p){const s=pe(),m=(s.props.data.id?"Edit":"Tambah")+" Akun / Kas",o=Se({id:s.props.data.id,name:s.props.data.name,type:s.props.data.type,bank:s.props.data.bank,number:s.props.data.number,holder:s.props.data.holder,balance:s.props.data.balance,active:!!s.props.data.active,has_wallet_access:!!s.props.data.has_wallet_access,notes:s.props.data.notes}),n=Pe(window.CONSTANTS.FINANCE_ACCOUNT_TYPES),f=()=>Ce({form:o,url:route("admin.finance-account.save")});return(r,i)=>{const c=j("i-head"),v=j("authenticated-layout");return w(),O(W,null,[e(c,{title:m}),e(v,null,{title:l(()=>[g(u(m))]),"left-button":l(()=>[a("div",Os,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=y=>r.$inertia.get(r.route("admin.finance-account.index")))})])]),default:l(()=>[e(ye,{class:"row justify-center"},{default:l(()=>[a("div",Ns,[e(Te,{class:"row",onSubmit:G(f,["prevent"]),onValidationError:t(Re)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[K(a("input",{type:"hidden",name:"id","onUpdate:modelValue":i[1]||(i[1]=y=>t(o).id=y)},null,512),[[Fe,t(o).id]]),e(Z,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":i[2]||(i[2]=y=>t(o).name=y),modelModifiers:{trim:!0},label:"Nama Akun","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(ne,{modelValue:t(o).type,"onUpdate:modelValue":i[3]||(i[3]=y=>t(o).type=y),label:"Jenis Akun",options:t(n),"map-options":"","emit-value":"",error:!!t(o).errors.type,disable:t(o).processing,"hide-bottom-space":""},null,8,["modelValue","options","error","disable"]),t(o).type=="bank"?(w(),O(W,{key:0},[e(Z,{modelValue:t(o).bank,"onUpdate:modelValue":i[4]||(i[4]=y=>t(o).bank=y),modelModifiers:{trim:!0},label:"Nama Bank","lazy-rules":"",error:!!t(o).errors.bank,disable:t(o).processing,"error-message":t(o).errors.bank,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(Z,{modelValue:t(o).number,"onUpdate:modelValue":i[5]||(i[5]=y=>t(o).number=y),modelModifiers:{trim:!0},label:"Nomor Rekening","lazy-rules":"",error:!!t(o).errors.number,disable:t(o).processing,"error-message":t(o).errors.number,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(Z,{modelValue:t(o).holder,"onUpdate:modelValue":i[6]||(i[6]=y=>t(o).holder=y),modelModifiers:{trim:!0},label:"Pemilik Rekening","lazy-rules":"",error:!!t(o).errors.holder,disable:t(o).processing,"error-message":t(o).errors.holder,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"])],64)):D("",!0),e(Ee,{modelValue:t(o).balance,"onUpdate:modelValue":i[7]||(i[7]=y=>t(o).balance=y),label:"Saldo",lazyRules:"",disable:t(o).processing,"allow-negative":"true",error:!!t(o).errors.balance,errorMessage:t(o).errors.balance,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),a("div",Rs,[e(ht,{class:"full-width q-pl-none",modelValue:t(o).has_wallet_access,"onUpdate:modelValue":i[8]||(i[8]=y=>t(o).has_wallet_access=y),disable:t(o).processing,label:"Tampilkan di Konfirmasi Topup Wallet"},null,8,["modelValue","disable"])]),a("div",As,[e(ht,{class:"full-width q-pl-none",modelValue:t(o).active,"onUpdate:modelValue":i[9]||(i[9]=y=>t(o).active=y),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"])]),e(Z,{modelValue:t(o).notes,"onUpdate:modelValue":i[10]||(i[10]=y=>t(o).notes=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.notes,"error-message":t(o).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:i[11]||(i[11]=y=>t(F).get(r.route("admin.finance-account.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Es=Object.freeze(Object.defineProperty({__proto__:null,default:Us},Symbol.toStringTag,{value:"Module"})),Ds={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},js={class:"q-pa-sm"},Bs={class:"q-my-sm text-subtitle"},Ls={class:"text-bold text-grey-8"},zs={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Hs={key:2},Ys={key:3},Fs={key:4},Ks={class:"flex justify-end"},$l="Akun Kas",Qs={__name:"Index",setup(p){const s=pe(),m=_e(),o=q(!1),n=q([]),f=q(null),r=q(null),i=Be(r,104),c=q(!0),v=Ne({search:"",status:"active",type:"all",...Ie()}),y=s.props.totalBalance,S=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),d=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right",sortable:!0},{name:"action",align:"right"}],b=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],P=[{value:"all",label:"Semua"},...Pe(window.CONSTANTS.FINANCE_ACCOUNT_TYPES)];ke(()=>{H()});const _=C=>ze({message:`Hapus Akun ${C.name}?`,url:route("admin.finance-account.delete",C.id),fetchItemsCallback:H,loading:c}),H=(C=null)=>{Me({pagination:S,filter:v,props:C,rows:n,url:route("admin.finance-account.data"),loading:c,tableRef:f})},M=()=>H(),x=C=>F.get(route("admin.finance-account.detail",{id:C.id})),I=ee(()=>m.screen.gt.sm?d:d.filter(C=>C.name==="name"||C.name==="action"));return(C,k)=>{const h=j("i-head"),$=j("authenticated-layout");return w(),O(W,null,[e(h,{title:$l}),e($,null,De({title:l(()=>[g(u($l))]),"right-button":l(()=>[e(R,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:k[0]||(k[0]=V=>o.value=!o.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:k[1]||(k[1]=V=>t(F).get(C.route("admin.finance-account.add")))})]),default:l(()=>[a("div",js,[a("div",Bs,[k[7]||(k[7]=g(" Total Saldo Akun Aktif: ")),a("span",Ls,"Rp. "+u(t(z)(t(y))),1)]),e(we,{ref_key:"tableRef",ref:f,class:"full-height-table",style:He({height:t(i)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:S.value,"onUpdate:pagination":k[6]||(k[6]=V=>S.value=V),filter:v.search,loading:c.value,columns:I.value,rows:n.value,"rows-per-page-options":[10,25,50],onRequest:H,"binary-state-sort":""},{loading:l(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":l(({icon:V,message:L,filter:A})=>[a("div",zs,[a("span",null,u(L)+" "+u(A?" with term "+A:""),1)])]),body:l(V=>[e(ve,{props:V,class:be([V.row.active?"":"bg-red-1","cursor-pointer"]),onClick:L=>x(V.row)},{default:l(()=>[e(B,{key:"name",props:V,class:"wrap-column"},{default:l(()=>[t(m).screen.lt.md?(w(),E(We,{key:1,icon:"wallet",text:V.row.name},null,8,["text"])):(w(),O(W,{key:0},[g(u(V.row.name),1)],64)),V.row.type=="bank"?(w(),O("div",Hs,u(V.row.bank??"-")+" "+u(V.row.number??"-")+" an "+u(V.row.holder??"-"),1)):D("",!0),V.row.notes?(w(),O("div",Ys,[e(T,{name:"notes"}),g(" "+u(V.row.notes),1)])):D("",!0),t(m).screen.lt.md?(w(),O("div",Fs,[e(T,{name:"money"}),g(" Rp. "+u(t(z)(V.row.balance)),1)])):D("",!0)]),_:2},1032,["props"]),e(B,{key:"balance",props:V},{default:l(()=>[g(u(t(z)(V.row.balance)),1)]),_:2},1032,["props"]),e(B,{key:"action",props:V},{default:l(()=>[a("div",Ks,[e(R,{disabled:!t(Ye)(C.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:k[5]||(k[5]=G(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ve,{style:{width:"200px"}},{default:l(()=>[K((w(),E(X,{clickable:"",onClick:G(L=>t(F).get(C.route("admin.finance-account.duplicate",V.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:l(()=>k[8]||(k[8]=[g(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]]),K((w(),E(X,{clickable:"",onClick:G(L=>t(F).get(C.route("admin.finance-account.edit",V.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:l(()=>k[9]||(k[9]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]]),K((w(),E(X,{onClick:G(L=>_(V.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>k[10]||(k[10]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:l(()=>[a("div",Ds,[e(ne,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:v.status,"onUpdate:modelValue":[k[2]||(k[2]=V=>v.status=V),M],options:b,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ne,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:v.type,"onUpdate:modelValue":[k[3]||(k[3]=V=>v.type=V),M],options:P,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:v.search,"onUpdate:modelValue":k[4]||(k[4]=V=>v.search=V),placeholder:"Cari",clearable:""},{append:l(()=>[e(T,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Ws=Object.freeze(Object.defineProperty({__proto__:null,default:Qs},Symbol.toStringTag,{value:"Module"})),Js={class:"q-gutter-sm"},Gs={class:"col col-lg-6 q-pa-sm"},Xs={__name:"Editor",setup(p){const s=pe(),m=(s.props.data.id?"Edit":"Catat")+" Transaksi Keuangan",o=s.props.accounts.map(i=>({label:i.name,value:i.id})),n=[{label:"Pemasukan (+)",value:"income"},{label:"Pengeluaran (-)",value:"expense"},{label:"Transfer",value:"transfer"}],f=Se({id:s.props.data.id,account_id:s.props.data.account_id,to_account_id:s.props.data.to_account_id??null,type:s.props.data.type,datetime:Oa(s.props.data.datetime?s.props.data.datetime:new Date),notes:s.props.data.notes,amount:parseFloat(s.props.data.amount)}),r=()=>Ce({form:f,url:route("admin.finance-transaction.save")});return(i,c)=>{const v=j("i-head"),y=j("authenticated-layout");return w(),O(W,null,[e(v,{title:m}),e(y,null,{title:l(()=>[g(u(m))]),"left-button":l(()=>[a("div",Js,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=S=>i.$inertia.get(i.route("admin.finance-transaction.index")))})])]),default:l(()=>[e(ye,{class:"row justify-center"},{default:l(()=>[a("div",Gs,[e(Te,{class:"row",onSubmit:G(r,["prevent"]),onValidationError:t(Re)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[K(a("input",{type:"hidden",name:"id","onUpdate:modelValue":c[1]||(c[1]=S=>t(f).id=S)},null,512),[[Fe,t(f).id]]),e($t,{modelValue:t(f).datetime,"onUpdate:modelValue":c[2]||(c[2]=S=>t(f).datetime=S),label:"Waktu",error:!!t(f).errors.datetime,disable:t(f).processing,errorMessage:t(f).errors.datetime,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(ne,{autofocus:"",modelValue:t(f).type,"onUpdate:modelValue":c[3]||(c[3]=S=>t(f).type=S),label:"Jenis Transaksi",options:n,"map-options":"","emit-value":"",error:!!t(f).errors.type,disable:t(f).processing,errorMessage:t(f).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(ne,{class:"custom-select",modelValue:t(f).account_id,"onUpdate:modelValue":c[4]||(c[4]=S=>t(f).account_id=S),label:t(f).type=="transfer"?"Akun Asal":"Akun",options:t(o),"map-options":"","emit-value":"",errorMessage:t(f).errors.account_id,error:!!t(f).errors.account_id,disable:t(f).processing,"hide-bottom-space":""},null,8,["modelValue","label","options","errorMessage","error","disable"]),t(f).type=="transfer"?(w(),E(ne,{key:0,class:"custom-select",modelValue:t(f).to_account_id,"onUpdate:modelValue":c[5]||(c[5]=S=>t(f).to_account_id=S),label:"Akun Tujuan",options:t(o),"map-options":"","emit-value":"",errorMessage:t(f).errors.to_account_id,error:!!t(f).errors.to_account_id,disable:t(f).processing,"hide-bottom-space":""},null,8,["modelValue","options","errorMessage","error","disable"])):D("",!0),e(Ee,{modelValue:t(f).amount,"onUpdate:modelValue":c[6]||(c[6]=S=>t(f).amount=S),label:"Jumlah",lazyRules:"",disable:t(f).processing,error:!!t(f).errors.amount,errorMessage:t(f).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Z,{modelValue:t(f).notes,"onUpdate:modelValue":c[7]||(c[7]=S=>t(f).notes=S),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(f).processing,error:!!t(f).errors.notes,"error-message":t(f).errors.notes,rules:[S=>S&&S.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(f).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(f).processing,onClick:c[8]||(c[8]=S=>t(F).get(i.route("admin.finance-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Zs=Object.freeze(Object.defineProperty({__proto__:null,default:Xs},Symbol.toStringTag,{value:"Module"})),er={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},tr={class:"q-pa-sm"},lr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ar={class:"text-grey-8"},or={key:0},nr={key:0},sr={key:1},rr={class:"flex justify-end"},Sl="Transaksi Kas",ir={__name:"Index",setup(p){const s=_e(),m=q(!1),o=q([]),n=q(!0),f=q(null),r=q(null),i=Be(r),c=Pt(),v=It(),y=[{label:"Semua Tahun",value:"all"},{label:`${c}`,value:c},...gt(c-2,c-1).reverse()],S=[{value:"all",label:"Semua Bulan"},...bt()],d=Ne({search:"",category_id:"all",year:c,month:v,...Ie()}),b=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),P=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];ke(()=>{H()});const _=I=>ze({message:`Hapus transaksi #-${I.id}?`,url:route("admin.finance-transaction.delete",I.id),fetchItemsCallback:H,loading:n}),H=(I=null)=>{Me({pagination:b,filter:d,props:I,rows:o,url:route("admin.finance-transaction.data"),loading:n,tableRef:f})},M=()=>{H()},x=ee(()=>s.screen.gt.sm?P:P.filter(I=>I.name==="datetime"||I.name==="action"));return xe(()=>d.year,I=>{I===null&&(d.month=null)}),(I,C)=>{const k=j("i-head"),h=j("authenticated-layout");return w(),O(W,null,[e(k,{title:Sl}),e(h,null,De({title:l(()=>[g(u(Sl))]),"right-button":l(()=>[e(R,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:C[0]||(C[0]=$=>m.value=!m.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:C[1]||(C[1]=$=>t(F).get(I.route("admin.finance-transaction.add")))})]),default:l(()=>[a("div",tr,[e(we,{ref_key:"tableRef",ref:f,style:He({height:t(i)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":C[6]||(C[6]=$=>b.value=$),filter:d.search,loading:n.value,columns:x.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:H,"binary-state-sort":""},{loading:l(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":l(({icon:$,message:V,filter:L})=>[a("div",lr,[a("span",null,u(V)+" "+u(L?" with term "+L:""),1)])]),body:l($=>[e(ve,{props:$},{default:l(()=>[e(B,{key:"datetime",props:$,class:"wrap-column"},{default:l(()=>[a("div",null,[g(" #"+u($.row.id)+" - ",1),e(T,{name:"calendar_today"}),g(" "+u(t(Qe)($.row.datetime))+" ",1),a("span",ar,"("+u(t(st)($.row.datetime))+")",1)]),e(Nt,null,{default:l(()=>[e(T,{name:"category"}),g(" "+u($.row.type_label),1)]),_:2},1024),$.row.ref_type?(w(),O("div",or,[e(T,{name:"link"}),g(" "+u($.row.ref_type_label)+" #"+u($.row.ref_id),1)])):D("",!0),t(s).screen.gt.sm?D("",!0):(w(),O(W,{key:1},[$.row.notes?(w(),O("div",nr,[e(T,{name:"notes"}),g(" "+u($.row.notes),1)])):D("",!0),$.row.category?(w(),O("div",sr,[e(T,{name:"category"}),g(" "+u($.row.category.name),1)])):D("",!0),a("div",null,[e(T,{name:"money"}),g(" Rp. "+u(t(et)($.row.amount)+t(z)($.row.amount)),1)])],64))]),_:2},1032,["props"]),e(B,{key:"account",props:$},{default:l(()=>{var V;return[g(u((V=$.row.account)==null?void 0:V.name),1)]}),_:2},1032,["props"]),e(B,{key:"notes",props:$},{default:l(()=>[g(u($.row.notes),1)]),_:2},1032,["props"]),e(B,{key:"amount",props:$,style:{"text-align":"right"}},{default:l(()=>[g(u(t(et)($.row.amount)+t(z)($.row.amount)),1)]),_:2},1032,["props"]),e(B,{key:"action",props:$},{default:l(()=>[a("div",rr,[e(R,{disabled:!t(Ye)(I.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:C[5]||(C[5]=G(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ve,{style:{width:"200px"}},{default:l(()=>[K((w(),E(X,{onClick:G(V=>_($.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>C[7]||(C[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:l(()=>[a("div",er,[e(ne,{modelValue:d.year,"onUpdate:modelValue":[C[2]||(C[2]=$=>d.year=$),M],options:y,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),d.year!="all"?(w(),E(ne,{key:0,modelValue:d.month,"onUpdate:modelValue":[C[3]||(C[3]=$=>d.month=$),M],options:S,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:d.year===null},null,8,["modelValue","disable"])):D("",!0),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":C[4]||(C[4]=$=>d.search=$),placeholder:"Cari",clearable:""},{append:l(()=>[e(T,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},ur=Object.freeze(Object.defineProperty({__proto__:null,default:ir},Symbol.toStringTag,{value:"Module"})),dr={class:"q-gutter-sm"},mr={class:"col col-lg-6 q-pa-sm"},cr={__name:"Editor",setup(p){const s=pe(),m=(s.props.data.id?"Edit":"Tambah")+" Kategori Operasional",o=Se({id:s.props.data.id,name:s.props.data.name,description:s.props.data.description}),n=()=>Ce({form:o,url:route("admin.operational-cost-category.save")});return(f,r)=>{const i=j("i-head"),c=j("authenticated-layout");return w(),O(W,null,[e(i,{title:m}),e(c,null,{title:l(()=>[g(u(m))]),"left-button":l(()=>[a("div",dr,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=v=>f.$inertia.get(f.route("admin.operational-cost-category.index")))})])]),default:l(()=>[e(ye,{class:"row justify-center"},{default:l(()=>[a("div",mr,[e(Te,{class:"row",onSubmit:G(n,["prevent"]),onValidationError:t(Re)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[K(a("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=v=>t(o).id=v)},null,512),[[Fe,t(o).id]]),e(Z,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=v=>t(o).name=v),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[v=>v&&v.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Z,{modelValue:t(o).description,"onUpdate:modelValue":r[3]||(r[3]=v=>t(o).description=v),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Deskripsi","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.description,"error-message":t(o).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[4]||(r[4]=v=>t(F).get(f.route("admin.operational-cost-category.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},pr=Object.freeze(Object.defineProperty({__proto__:null,default:cr},Symbol.toStringTag,{value:"Module"})),fr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},gr={class:"q-pa-sm"},br={class:"full-width row flex-center text-grey-8 q-gutter-sm"},_r={key:0,class:"text-grey-8"},vr={class:"flex justify-end"},xl="Kategori Biaya Operasional",yr={__name:"Index",setup(p){const s=_e(),m=q(!1),o=q([]),n=q(!0),f=q(null),r=q(null),i=Be(r),c=Ne({search:"",...Ie()}),v=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];ke(()=>{d()});const S=P=>ze({message:`Hapus Kategori Biaya ${P.name}?`,url:route("admin.operational-cost-category.delete",P.id),fetchItemsCallback:d,loading:n}),d=(P=null)=>{Me({pagination:v,filter:c,props:P,rows:o,url:route("admin.operational-cost-category.data"),loading:n,tableRef:f})},b=ee(()=>s.screen.gt.sm?y:y.filter(P=>P.name==="name"||P.name==="action"));return(P,_)=>{const H=j("i-head"),M=j("authenticated-layout");return w(),O(W,null,[e(H,{title:xl}),e(M,null,De({title:l(()=>[g(u(xl))]),"right-button":l(()=>[e(R,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:_[0]||(_[0]=x=>m.value=!m.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:_[1]||(_[1]=x=>t(F).get(P.route("admin.operational-cost-category.add")))})]),default:l(()=>[a("div",gr,[e(we,{ref_key:"tableRef",ref:f,class:"full-height-table",style:He({height:t(i)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":_[4]||(_[4]=x=>v.value=x),filter:c.search,loading:n.value,columns:b.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:d,"binary-state-sort":""},{loading:l(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":l(({icon:x,message:I,filter:C})=>[a("div",br,[a("span",null,u(I)+" "+u(C?" with term "+C:""),1)])]),body:l(x=>[e(ve,{props:x},{default:l(()=>[e(B,{key:"name",props:x,class:"wrap-column"},{default:l(()=>[g(u(x.row.name)+" ",1),t(s).screen.gt.sm?D("",!0):(w(),O(W,{key:0},[x.row.description?(w(),O("div",_r,[e(T,{name:"description"}),g(" "+u(x.row.description),1)])):D("",!0)],64))]),_:2},1032,["props"]),e(B,{key:"description",props:x,class:"wrap-column"},{default:l(()=>[g(u(x.row.description),1)]),_:2},1032,["props"]),e(B,{key:"action",props:x},{default:l(()=>[a("div",vr,[e(R,{disabled:!t(Ye)(P.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:_[3]||(_[3]=G(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ve,{style:{width:"200px"}},{default:l(()=>[K((w(),E(X,{clickable:"",onClick:G(I=>t(F).get(P.route("admin.operational-cost-category.duplicate",x.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:l(()=>_[5]||(_[5]=[g("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]]),K((w(),E(X,{clickable:"",onClick:G(I=>t(F).get(P.route("admin.operational-cost-category.edit",x.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:l(()=>_[6]||(_[6]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]]),K((w(),E(X,{onClick:G(I=>S(x.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>_[7]||(_[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:l(()=>[a("div",fr,[e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:c.search,"onUpdate:modelValue":_[2]||(_[2]=x=>c.search=x),placeholder:"Cari",clearable:""},{append:l(()=>[e(T,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},wr=Object.freeze(Object.defineProperty({__proto__:null,default:yr},Symbol.toStringTag,{value:"Module"})),kr={class:"q-gutter-sm"},hr={class:"q-gutter-sm"},$r={class:"col col-lg-6 q-pa-sm"},Sr={class:"row"},xr={class:"detail"},Cr={key:1,class:"text-grey-9"},qr={class:"detail"},Cl="Rincian Teknisi",Vr={__name:"Detail",setup(p){const s=pe();return(m,o)=>{const n=j("i-head"),f=j("i-link"),r=j("authenticated-layout");return w(),O(W,null,[e(n,{title:Cl}),e(r,null,{title:l(()=>[g(u(Cl))]),"left-button":l(()=>[a("div",kr,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=i=>m.$inertia.get(m.route("admin.operational-cost.index")))})])]),"right-button":l(()=>[a("div",hr,[e(R,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=i=>t(F).get(m.route("admin.operational-cost.edit",{id:t(s).props.data.id})))})])]),default:l(()=>[e(ye,{class:"row justify-center"},{default:l(()=>[a("div",$r,[a("div",Sr,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,null,{default:l(()=>[o[12]||(o[12]=a("div",{class:"text-subtitle1 text-bold text-grey-8"}," Profil Teknisi ",-1)),a("table",xr,[a("tbody",null,[a("tr",null,[o[2]||(o[2]=a("td",{style:{width:"125px"}},"Akun Pengguna",-1)),o[3]||(o[3]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,[t(s).props.data.user?(w(),E(f,{key:0,href:m.route("admin.user.detail",{id:t(s).props.data.user.id})},{default:l(()=>[g(u(t(s).props.data.user.username),1)]),_:1},8,["href"])):(w(),O("span",Cr,"Tidak terhubung"))])]),a("tr",null,[o[4]||(o[4]=a("td",null,"Nama Teknisi",-1)),o[5]||(o[5]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.name),1)]),a("tr",null,[o[6]||(o[6]=a("td",null,"No. Telepon",-1)),o[7]||(o[7]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.phone),1)]),a("tr",null,[o[8]||(o[8]=a("td",null,"Email",-1)),o[9]||(o[9]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.email),1)]),a("tr",null,[o[10]||(o[10]=a("td",null,"Alamat",-1)),o[11]||(o[11]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.address),1)])])])]),_:1}),e(le,null,{default:l(()=>o[13]||(o[13]=[a("div",{class:"text-subtitle1 text-bold text-grey-8"}," Statistik Servis ",-1),a("table",{class:"detail"},[a("tbody",null,[a("tr",null,[a("td",{style:{width:"125px"}},"Servis Ditangani"),a("td",{style:{width:"1px"}},":"),a("td",null,"0")]),a("tr",null,[a("td",null,"Servis Sukses"),a("td",null,":"),a("td",null,"0")]),a("tr",null,[a("td",null,"Servis Gagal"),a("td",null,":"),a("td",null,"0")])])],-1)])),_:1}),e(le,null,{default:l(()=>[o[18]||(o[18]=a("div",{class:"text-subtitle1 text-bold text-grey-8"}," Informasi Ekstra ",-1)),a("table",qr,[a("tbody",null,[a("tr",null,[o[14]||(o[14]=a("td",{style:{width:"125px"}},"Dibuat",-1)),o[15]||(o[15]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,u(m.$dayjs(new Date(t(s).props.data.created_at)).format("DD MMMM YY HH:mm:ss")),1)]),a("tr",null,[o[16]||(o[16]=a("td",null,"Diperbarui",-1)),o[17]||(o[17]=a("td",null,":",-1)),a("td",null,u(m.$dayjs(new Date(t(s).props.data.updated_at)).format("DD MMMM YY HH:mm:ss")),1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Tr=Object.freeze(Object.defineProperty({__proto__:null,default:Vr},Symbol.toStringTag,{value:"Module"})),Pr={class:"row items-center justify-end"},Ir={__name:"DatePicker",props:{modelValue:{type:String,required:!0},label:{type:String,default:""},readonly:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},rules:{type:Array,default:[]},mask:{type:String,default:"####-##-##"}},emits:["update:modelValue"],setup(p,{emit:s}){const m=p,o=s,n=q("");xe(()=>m.modelValue,i=>{const[c,v]=i.split(" ");n.value=c||""});const f=q(m.modelValue),r=()=>{let i="";n.value&&(i=`${n.value} 00:00`),o("update:modelValue",i),f.value=i};return(i,c)=>(w(),E(Z,{modelValue:f.value,"onUpdate:modelValue":c[1]||(c[1]=v=>f.value=v),label:m.label,readonly:m.readonly,disable:m.disable,error:m.error,rules:[...m.rules],"error-message":p.errorMessage,mask:m.mask},{append:l(()=>[e(T,{name:"event",class:"cursor-pointer"},{default:l(()=>[e(Na,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ra,{modelValue:n.value,"onUpdate:modelValue":[c[0]||(c[0]=v=>n.value=v),r],mask:"YYYY-MM-DD"},{default:l(()=>[a("div",Pr,[K(e(R,{label:"Close",color:"primary",flat:""},null,512),[[se]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label","readonly","disable","error","rules","error-message","mask"]))}},Mr=tt(Ir,[["__scopeId","data-v-af4e8707"]]);function Zl(p,s=!1){const m=p.map(r=>({value:r.id,label:r.name})),o=s?[{value:"all",label:"Semua"},...m]:m,n=q([...o]);return{filteredCostCategories:n,filterCostCategory:(r,i)=>{const c=r.toLowerCase();i(()=>{n.value=o.filter(v=>v.label.toLowerCase().includes(c))})},costCategoryOptions:o}}const Or={class:"q-gutter-sm"},Nr={class:"col col-lg-6 q-pa-sm"},Rr={__name:"Editor",setup(p){const s=pe(),m=(s.props.data.id?"Edit":"Tambah")+" Biaya Operasional",{costCategoryOptions:o}=Zl(s.props.categories),n=q(o),f=q([...n.value]),r=Se({id:s.props.data.id,category_id:s.props.data.category_id,date:s.props.data.date,description:s.props.data.description,notes:s.props.data.notes,amount:parseFloat(s.props.data.amount)}),i=()=>Ce({form:r,url:route("admin.operational-cost.save")}),c=(v,y)=>{y(()=>{f.value=n.value.filter(S=>S.label.toLowerCase().includes(v.toLowerCase()))})};return(v,y)=>{const S=j("i-head"),d=j("authenticated-layout");return w(),O(W,null,[e(S,{title:m}),e(d,null,{title:l(()=>[g(u(m))]),"left-button":l(()=>[a("div",Or,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:y[0]||(y[0]=b=>v.$inertia.get(v.route("admin.operational-cost.index")))})])]),default:l(()=>[e(ye,{class:"row justify-center"},{default:l(()=>[a("div",Nr,[e(Te,{class:"row",onSubmit:G(i,["prevent"]),onValidationError:t(Re)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[K(a("input",{type:"hidden",name:"id","onUpdate:modelValue":y[1]||(y[1]=b=>t(r).id=b)},null,512),[[Fe,t(r).id]]),e(ne,{autofocus:"",modelValue:t(r).category_id,"onUpdate:modelValue":y[2]||(y[2]=b=>t(r).category_id=b),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:f.value,"map-options":"","emit-value":"",onFilter:c,error:!!t(r).errors.category_id,disable:t(r).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(X,null,{default:l(()=>[e(N,null,{default:l(()=>y[8]||(y[8]=[g("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","error","disable"]),e(Mr,{modelValue:t(r).date,"onUpdate:modelValue":y[3]||(y[3]=b=>t(r).date=b),label:"Tanggal",error:!!t(r).errors.date,disable:t(r).processing},null,8,["modelValue","error","disable"]),e(Z,{modelValue:t(r).description,"onUpdate:modelValue":y[4]||(y[4]=b=>t(r).description=b),modelModifiers:{trim:!0},label:"Deskripsi","lazy-rules":"",error:!!t(r).errors.description,disable:t(r).processing,"error-message":t(r).errors.description,rules:[b=>b&&b.length>0||"Deskripsi harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Ee,{modelValue:t(r).amount,"onUpdate:modelValue":y[5]||(y[5]=b=>t(r).amount=b),label:"Jumlah",lazyRules:"",disable:t(r).processing,error:!!t(r).errors.amount,errorMessage:t(r).errors.amount,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),e(Z,{modelValue:t(r).notes,"onUpdate:modelValue":y[6]||(y[6]=b=>t(r).notes=b),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(r).processing,error:!!t(r).errors.notes,"error-message":t(r).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(r).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(r).processing,onClick:y[7]||(y[7]=b=>t(F).get(v.route("admin.operational-cost.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Ar=Object.freeze(Object.defineProperty({__proto__:null,default:Rr},Symbol.toStringTag,{value:"Module"})),Ur={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Er={class:"q-pa-sm"},Dr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},jr={class:"flex items-center q-gutter-xs"},Br={key:0},Lr={key:0},zr={class:"flex justify-end"},ql="Biaya Operasional",Hr={__name:"Index",setup(p){const s=pe(),m=_e(),o=q(!1),n=q(null),f=q(null),r=Be(f),i=q([]),c=q(!0),v=new Date().getFullYear(),y=new Date().getMonth()+1,S=[{label:"Semua Tahun",value:null},{label:`${v}`,value:v},...gt(v-2,v-1).reverse()],d=[{value:null,label:"Semua Bulan"},...bt()],{costCategoryOptions:b}=Zl(s.props.categories),P=[{value:"all",label:"Semua"},{value:"null",label:"Tanpa Kategori"},...b],_=Ne({search:"",category_id:"all",year:v,month:y,...Ie()}),H=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"date",descending:!0}),M=[{name:"date",label:"Tanggal",field:"date",align:"left",sortable:!0},{name:"description",label:"Deskripsi",field:"description",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right",sortable:!0},{name:"action",align:"right"}];ke(()=>{I()});const x=h=>ze({message:`Hapus Biaya ${h.description}?`,url:route("admin.operational-cost.delete",h.id),fetchItemsCallback:I,loading:c}),I=(h=null)=>{Me({pagination:H,filter:_,props:h,rows:i,url:route("admin.operational-cost.data"),loading:c,tableRef:n})},C=()=>{I()},k=ee(()=>m.screen.gt.sm?M:M.filter(h=>h.name==="date"||h.name==="action"));return xe(()=>_.year,h=>{h===null&&(_.month=null)}),(h,$)=>{const V=j("i-head"),L=j("authenticated-layout");return w(),O(W,null,[e(V,{title:ql}),e(L,null,De({title:l(()=>[g(u(ql))]),"right-button":l(()=>[e(R,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:$[0]||($[0]=A=>o.value=!o.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:$[1]||($[1]=A=>t(F).get(h.route("admin.operational-cost.add")))})]),default:l(()=>[a("div",Er,[e(we,{ref_key:"tableRef",ref:n,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:H.value,"onUpdate:pagination":$[7]||($[7]=A=>H.value=A),filter:_.search,loading:c.value,columns:k.value,rows:i.value,"rows-per-page-options":[10,25,50],style:He({height:t(r)}),onRequest:I,"binary-state-sort":""},{loading:l(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":l(({icon:A,message:Q,filter:te})=>[a("div",Dr,[a("span",null,u(Q)+" "+u(te?" with term "+te:""),1)])]),body:l(A=>[e(ve,{props:A},{default:l(()=>[e(B,{key:"date",props:A,class:"wrap-column"},{default:l(()=>[a("div",jr,[e(T,{name:"calendar_today"}),a("div",null,u(t(Ge)(A.row.date).format("DD/MM/YYYY")),1)]),t(m).screen.gt.sm?D("",!0):(w(),O(W,{key:0},[e(We,{icon:"notes",text:A.row.notes},null,8,["text"]),A.row.category?(w(),O("div",Br,[e(T,{name:"category"}),g(" "+u(A.row.category.name),1)])):D("",!0),a("div",null,[e(T,{name:"paid"}),g(" Rp. "+u(t(z)(A.row.amount)),1)])],64))]),_:2},1032,["props"]),e(B,{key:"description",props:A},{default:l(()=>[g(u(A.row.description)+" ",1),A.row.category?(w(),O("div",Lr,[e(T,{name:"category"}),g(" "+u(A.row.category.name),1)])):D("",!0)]),_:2},1032,["props"]),e(B,{key:"amount",props:A,style:{"text-align":"right"}},{default:l(()=>[g(u(t(z)(A.row.amount)),1)]),_:2},1032,["props"]),e(B,{key:"action",props:A},{default:l(()=>[a("div",zr,[e(R,{disabled:!t(Ye)(h.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:$[6]||($[6]=G(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ve,{style:{width:"200px"}},{default:l(()=>[K((w(),E(X,{clickable:"",onClick:G(Q=>t(F).get(h.route("admin.operational-cost.duplicate",A.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:l(()=>$[8]||($[8]=[g(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]]),K((w(),E(X,{clickable:"",onClick:G(Q=>t(F).get(h.route("admin.operational-cost.edit",A.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:l(()=>$[9]||($[9]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]]),K((w(),E(X,{onClick:G(Q=>x(A.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>$[10]||($[10]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:f},{default:l(()=>[a("div",Ur,[e(ne,{modelValue:_.year,"onUpdate:modelValue":[$[2]||($[2]=A=>_.year=A),C],options:S,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(ne,{modelValue:_.month,"onUpdate:modelValue":[$[3]||($[3]=A=>_.month=A),C],options:d,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:_.year===null},null,8,["modelValue","disable"]),e(ne,{modelValue:_.category_id,"onUpdate:modelValue":[$[4]||($[4]=A=>_.category_id=A),C],options:P,label:"Kategori",dense:"",class:"custom-select col-xs-12 col-sm-3","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:_.search,"onUpdate:modelValue":$[5]||($[5]=A=>_.search=A),placeholder:"Cari",clearable:""},{append:l(()=>[e(T,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Yr=Object.freeze(Object.defineProperty({__proto__:null,default:Hr},Symbol.toStringTag,{value:"Module"})),Fr={class:"q-gutter-sm"},Kr={class:"col col-md-6 q-pa-sm"},Qr={__name:"Editor",setup(p){const s=pe(),m=(s.props.data.id?"Edit":"Tambah")+" Kategori Produk",o=Se({id:s.props.data.id,name:s.props.data.name,description:s.props.data.description}),n=()=>Ce({form:o,url:route("admin.product-category.save")});return(f,r)=>{const i=j("i-head"),c=j("authenticated-layout");return w(),O(W,null,[e(i,{title:m}),e(c,null,{title:l(()=>[g(u(m))]),"left-button":l(()=>[a("div",Fr,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=v=>f.$inertia.get(f.route("admin.product-category.index")))})])]),default:l(()=>[e(ye,{class:"row justify-center"},{default:l(()=>[a("div",Kr,[e(Te,{class:"row",onSubmit:G(n,["prevent"]),onValidationError:t(Re)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[K(a("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=v=>t(o).id=v)},null,512),[[Fe,t(o).id]]),e(Z,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=v=>t(o).name=v),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[v=>v&&v.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Z,{modelValue:t(o).description,"onUpdate:modelValue":r[3]||(r[3]=v=>t(o).description=v),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.description,"error-message":t(o).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[4]||(r[4]=v=>t(F).get(f.route("admin.product-category.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Wr=Object.freeze(Object.defineProperty({__proto__:null,default:Qr},Symbol.toStringTag,{value:"Module"})),Jr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Gr={class:"q-pa-sm"},Xr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Zr={key:0,class:"text-grey-8"},ei={class:"flex justify-end"},Vl="Kategori Produk",ti={__name:"Index",setup(p){const s=_e(),m=q(!1),o=q([]),n=q(!0),f=q(null),r=q(null),i=Be(r),c=Ne({search:"",...Ie()}),v=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];ke(()=>{d()});const S=P=>ze({message:`Hapus Kategori ${P.name}?`,url:route("admin.product-category.delete",P.id),fetchItemsCallback:d,loading:n}),d=(P=null)=>{Me({pagination:v,filter:c,props:P,rows:o,url:route("admin.product-category.data"),loading:n,tableRef:f})},b=ee(()=>s.screen.gt.sm?y:y.filter(P=>P.name==="name"||P.name==="action"));return(P,_)=>{const H=j("i-head"),M=j("authenticated-layout");return w(),O(W,null,[e(H,{title:Vl}),e(M,null,De({title:l(()=>[g(u(Vl))]),"right-button":l(()=>[e(R,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:_[0]||(_[0]=x=>m.value=!m.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:_[1]||(_[1]=x=>t(F).get(P.route("admin.product-category.add")))})]),default:l(()=>[a("div",Gr,[e(we,{ref_key:"tableRef",ref:f,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":_[4]||(_[4]=x=>v.value=x),filter:c.search,loading:n.value,columns:b.value,rows:o.value,"rows-per-page-options":[10,25,50],style:He({height:t(i)}),onRequest:d,"binary-state-sort":""},{loading:l(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":l(({icon:x,message:I,filter:C})=>[a("div",Xr,[a("span",null,u(I)+" "+u(C?" with term "+C:""),1)])]),body:l(x=>[e(ve,{props:x},{default:l(()=>[e(B,{key:"name",props:x,class:"wrap-column"},{default:l(()=>[g(u(x.row.name)+" ",1),t(s).screen.gt.sm?D("",!0):(w(),O(W,{key:0},[x.row.description?(w(),O("div",Zr,[e(T,{name:"description"}),g(" "+u(x.row.description),1)])):D("",!0)],64))]),_:2},1032,["props"]),e(B,{key:"description",props:x,class:"wrap-column"},{default:l(()=>[g(u(x.row.description),1)]),_:2},1032,["props"]),e(B,{key:"action",props:x},{default:l(()=>[a("div",ei,[e(R,{disabled:!t(Ye)(P.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:_[3]||(_[3]=G(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ve,{style:{width:"200px"}},{default:l(()=>[K((w(),E(X,{clickable:"",onClick:G(I=>t(F).get(P.route("admin.product-category.duplicate",x.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:l(()=>_[5]||(_[5]=[g("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]]),K((w(),E(X,{clickable:"",onClick:G(I=>t(F).get(P.route("admin.product-category.edit",x.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:l(()=>_[6]||(_[6]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]]),K((w(),E(X,{onClick:G(I=>S(x.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>_[7]||(_[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:l(()=>[a("div",Jr,[e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:c.search,"onUpdate:modelValue":_[2]||(_[2]=x=>c.search=x),placeholder:"Cari",clearable:""},{append:l(()=>[e(T,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},li=Object.freeze(Object.defineProperty({__proto__:null,default:ti},Symbol.toStringTag,{value:"Module"})),ai={class:"q-gutter-sm"},oi={class:"q-gutter-sm"},ni={class:"row justify-center"},si={class:"col col-lg-6 q-pa-sm"},ri={class:"row"},ii={class:"detail"},ui={key:0},di={key:1},mi={class:"detail"},ci={class:"detail"},pi={key:0},fi={key:1},gi={class:"detail"},bi={class:"full-width row flex-center text-grey-8 q-gutter-sm"},_i={class:"flex q-gutter-sm"},vi={class:""},yi={__name:"Detail",setup(p){const s=pe(),m=`Rincian Produk #${s.props.data.id}`,o=q("main"),n=q([]),f=q(!0),r=Ne({...Ie()}),i=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),c=[{name:"id",label:"#",field:"id",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!0},{name:"quantity",label:"Jumlah",field:"quantity",align:"center",sortable:!0}];ke(()=>{v()});const v=(d=null)=>Me({pagination:i,filter:r,props:d,rows:n,url:route("admin.stock-movement.data",{product_id:s.props.data.id}),loading:f}),y=_e(),S=ee(()=>y.screen.gt.sm?c:c.filter(d=>d.name==="id"));return(d,b)=>{const P=j("i-head"),_=j("i-link"),H=j("authenticated-layout");return w(),O(W,null,[e(P,{title:m}),e(H,null,{title:l(()=>[g(u(m))]),"left-button":l(()=>[a("div",ai,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=M=>d.$inertia.get(d.route("admin.product.index")))})])]),"right-button":l(()=>[a("div",oi,[e(R,{icon:"edit",dense:"",color:"primary",onClick:b[1]||(b[1]=M=>t(F).get(d.route("admin.product.edit",{id:t(s).props.data.id})))})])]),default:l(()=>[a("div",ni,[a("div",si,[a("div",ri,[e(ie,{square:"",flat:"",bordered:"",class:"q-card col"},{default:l(()=>[e(Kt,{modelValue:o.value,"onUpdate:modelValue":b[2]||(b[2]=M=>o.value=M),align:"left"},{default:l(()=>[e(pt,{name:"main",label:"Info Utama"}),e(pt,{name:"history",label:"Riwayat Stok"})]),_:1},8,["modelValue"]),e(Qt,{modelValue:o.value,"onUpdate:modelValue":b[4]||(b[4]=M=>o.value=M)},{default:l(()=>[e(ft,{name:"main"},{default:l(()=>[b[45]||(b[45]=a("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Produk ",-1)),a("table",ii,[a("tbody",null,[a("tr",null,[b[5]||(b[5]=a("td",{style:{width:"120px"}},"ID",-1)),b[6]||(b[6]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,"# "+u(t(s).props.data.id),1)]),a("tr",null,[b[7]||(b[7]=a("td",null,"Nama Produk",-1)),b[8]||(b[8]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.name),1)]),a("tr",null,[b[9]||(b[9]=a("td",null,"Barcode",-1)),b[10]||(b[10]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.barcode),1)]),a("tr",null,[b[11]||(b[11]=a("td",null,"Jenis Produk",-1)),b[12]||(b[12]=a("td",null,":",-1)),a("td",null,u(d.$CONSTANTS.PRODUCT_TYPES[t(s).props.data.type]),1)]),a("tr",null,[b[13]||(b[13]=a("td",null,"Kategori",-1)),b[14]||(b[14]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.category?t(s).props.data.category.name:"--Tidak memiliki kategori--"),1)]),a("tr",null,[b[15]||(b[15]=a("td",null,"Supplier",-1)),b[16]||(b[16]=a("td",null,":",-1)),a("td",null,[t(s).props.data.supplier?(w(),E(_,{key:0,href:d.route("admin.supplier.detail",{id:t(s).props.data.supplier.id})},{default:l(()=>[g(u("#"+t(s).props.data.supplier.id+" - "+t(s).props.data.supplier.name),1)]),_:1},8,["href"])):(w(),O(W,{key:1},[g(u("--Tidak memiliki supplier--"))],64))])]),a("tr",null,[b[17]||(b[17]=a("td",null,"Status",-1)),b[18]||(b[18]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.active?"Aktif":"Tidak Aktif"),1)]),t(s).props.data.created_at?(w(),O("tr",ui,[b[20]||(b[20]=a("td",null,"Dibuat Oleh",-1)),b[21]||(b[21]=a("td",null,":",-1)),a("td",null,[t(s).props.data.creator?(w(),O(W,{key:0},[e(_,{href:d.route("admin.user.detail",{id:t(s).props.data.creator})},{default:l(()=>[g(u(t(s).props.data.creator.username),1)]),_:1},8,["href"]),b[19]||(b[19]=g(" - "))],64)):D("",!0),g(" "+u(t(Qe)(t(s).props.data.created_at)),1)])])):D("",!0),t(s).props.data.updater?(w(),O("tr",di,[b[23]||(b[23]=a("td",null,"Diperbarui oleh",-1)),b[24]||(b[24]=a("td",null,":",-1)),a("td",null,[t(s).props.data.updater?(w(),O(W,{key:0},[e(_,{href:d.route("admin.user.detail",{id:t(s).props.data.updater})},{default:l(()=>[g(u(t(s).props.data.updater.username),1)]),_:1},8,["href"]),b[22]||(b[22]=g(" - "))],64)):D("",!0),g(" "+u(t(Qe)(t(s).props.data.updated_at)),1)])])):D("",!0)])]),b[46]||(b[46]=a("div",{class:"text-subtitle1 q-pt-lg text-bold text-grey-9"}," Info Inventori ",-1)),a("table",mi,[a("tbody",null,[a("tr",null,[b[25]||(b[25]=a("td",{style:{width:"120px"}},"Stok",-1)),b[26]||(b[26]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,u(t(z)(t(s).props.data.stock))+" "+u(t(s).props.data.uom),1)]),a("tr",null,[b[27]||(b[27]=a("td",null,"Stok Minimum",-1)),b[28]||(b[28]=a("td",null,":",-1)),a("td",null,u(t(z)(t(s).props.data.min_stock))+" "+u(t(s).props.data.uom),1)]),a("tr",null,[b[29]||(b[29]=a("td",null,"Stok Maksimum",-1)),b[30]||(b[30]=a("td",null,":",-1)),a("td",null,u(t(z)(t(s).props.data.max_stock))+" "+u(t(s).props.data.uom),1)]),a("tr",null,[b[31]||(b[31]=a("td",null,"Barcode",-1)),b[32]||(b[32]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.barcode),1)])])]),b[47]||(b[47]=a("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Harga ",-1)),a("table",ci,[a("tbody",null,[a("tr",null,[b[33]||(b[33]=a("td",null,"Opsi Harga",-1)),b[34]||(b[34]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.price_editable?"Dapat":"Tidak dapat")+" diubah saat penjualan. ",1)]),d.$page.props.auth.user.role==d.$CONSTANTS.USER_ROLE_ADMIN?(w(),O("tr",pi,[b[35]||(b[35]=a("td",{style:{width:"120px"}},"Harga Beli",-1)),b[36]||(b[36]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,"Rp. "+u(t(z)(t(s).props.data.cost)),1)])):D("",!0),a("tr",null,[b[37]||(b[37]=a("td",null,"Harga Jual",-1)),b[38]||(b[38]=a("td",null,":",-1)),a("td",null,"Rp. "+u(t(z)(t(s).props.data.price)),1)]),d.$page.props.auth.user.role==d.$CONSTANTS.USER_ROLE_ADMIN?(w(),O("tr",fi,[b[39]||(b[39]=a("td",null,"Margin",-1)),b[40]||(b[40]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.price>0?t(z)((t(s).props.data.price-t(s).props.data.cost)/t(s).props.data.price*100,2):0)+" % ",1)])):D("",!0)])]),b[48]||(b[48]=a("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Deskripsi & Catatan ",-1)),a("table",gi,[a("tbody",null,[a("tr",null,[b[41]||(b[41]=a("td",{style:{width:"120px"}},"Deskirpsi",-1)),b[42]||(b[42]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,u(t(s).props.data.description),1)]),a("tr",null,[b[43]||(b[43]=a("td",null,"Catatan",-1)),b[44]||(b[44]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.notes),1)])])])]),_:1}),e(ft,{name:"history"},{default:l(()=>[e(we,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":b[3]||(b[3]=M=>i.value=M),filter:r.search,loading:f.value,columns:S.value,rows:n.value,"rows-per-page-options":[10,25,50],onRequest:v,"binary-state-sort":""},{loading:l(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":l(({icon:M,message:x,filter:I})=>[a("div",bi,[a("span",null,u(x)+" "+u(I?" with term "+I:""),1)])]),body:l(M=>[e(ve,{props:M},{default:l(()=>[e(B,{key:"id",props:M},{default:l(()=>[a("div",_i,[a("div",null,[a("b",null,"#"+u(M.row.id),1)]),a("div",null," - "+u(d.$dayjs(new Date(M.row.created_at)).format("DD/MM/YYYY hh:mm:ss")),1),a("div",null," - "+u(M.row.created_by?M.row.created_by.username:"--"),1)]),t(y).screen.lt.md?(w(),O(W,{key:0},[a("div",vi,u(d.$CONSTANTS.STOCKMOVEMENT_REFTYPES[M.row.ref_type]),1),a("div",{class:be(M.row.quantity<0?"text-red-10":M.row.quantity>0?"text-green-10":"")},[e(T,{name:M.row.quantity<0?"arrow_downward":M.row.quantity>0?"arrow_upward":""},null,8,["name"]),g(" "+u(t(z)(M.row.quantity)),1)],2)],64)):D("",!0)]),_:2},1032,["props"]),e(B,{key:"type",props:M},{default:l(()=>[g(u(d.$CONSTANTS.STOCKMOVEMENT_REFTYPES[M.row.ref_type]),1)]),_:2},1032,["props"]),e(B,{key:"quantity",props:M},{default:l(()=>[a("div",{class:be(M.row.quantity<0?"text-red-10":M.row.quantity>0?"text-green-10":"")},[e(T,{name:M.row.quantity<0?"arrow_downward":M.row.quantity>0?"arrow_upward":""},null,8,["name"]),g(" "+u(t(z)(M.row.quantity)),1)],2)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])])]),_:1})],64)}}},wi=Object.freeze(Object.defineProperty({__proto__:null,default:yi},Symbol.toStringTag,{value:"Module"}));function ea(p,s=!1){const m=p.map(r=>({value:r.id,label:r.name})),o=s?[{value:"all",label:"Semua"},...m]:m,n=q([...o]);return{filteredCategories:n,filterCategories:(r,i)=>{const c=r.toLowerCase();i(()=>{n.value=o.filter(v=>v.label.toLowerCase().includes(c))})},categories:o}}function Wt(p,s=!1){const m=p.map(r=>({value:r.id,label:"#"+r.id+" - "+r.name})),o=s?[{value:"all",label:"Semua"},...m]:m,n=q([...o]);return{filteredSuppliers:n,filterSupplierFn:(r,i)=>{i(()=>{n.value=o.filter(c=>c.label.toLowerCase().includes(r.toLowerCase()))})},suppliers:o}}const ki={style:{"margin-left":"-10px"}},Tl={__name:"CheckBox",props:{modelValue:{type:[Boolean,Array],default:!1},label:{type:String,default:""},disable:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(p){return(s,m)=>(w(),O("div",ki,[e(ht,{class:"full-width q-pl-none","model-value":p.modelValue,"onUpdate:modelValue":m[0]||(m[0]=o=>s.$emit("update:modelValue",o)),disable:p.disable,label:p.label},null,8,["model-value","disable","label"])]))}},hi={class:"q-gutter-sm"},$i={class:"col col-lg-6 q-pa-sm"},Si={__name:"Editor",setup(p){const s=pe(),m=(s.props.data.id?"Edit":"Tambah")+" Produk",o=Pe(window.CONSTANTS.PRODUCT_TYPES),n=Se({id:s.props.data.id,category_id:s.props.data.category_id,supplier_id:s.props.data.supplier_id,type:s.props.data.type,name:s.props.data.name,barcode:s.props.data.barcode,description:s.props.data.description,stock:parseFloat(s.props.data.stock),min_stock:parseFloat(s.props.data.min_stock),max_stock:parseFloat(s.props.data.max_stock),uom:s.props.data.uom,cost:parseFloat(s.props.data.cost),price:parseFloat(s.props.data.price),active:!!s.props.data.active,price_editable:!!s.props.data.price_editable,notes:s.props.data.notes}),f=()=>Ce({form:n,url:route("admin.product.save")}),{filteredCategories:r,filterCategories:i}=ea(s.props.categories),{filteredSuppliers:c,filterSuppliers:v}=Wt(s.props.suppliers),y=ee(()=>n.price>0?(n.price-n.cost)/n.price*100:0);return(S,d)=>{const b=j("i-head"),P=j("authenticated-layout");return w(),O(W,null,[e(b,{title:m}),e(P,null,{title:l(()=>[g(u(m))]),"left-button":l(()=>[a("div",hi,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=_=>S.$inertia.get(S.route("admin.product.index")))})])]),default:l(()=>[e(ye,{class:"row justify-center"},{default:l(()=>[a("div",$i,[e(Te,{class:"row",onSubmit:G(f,["prevent"]),onValidationError:t(Re)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[K(a("input",{type:"hidden",name:"id","onUpdate:modelValue":d[1]||(d[1]=_=>t(n).id=_)},null,512),[[Fe,t(n).id]]),d[21]||(d[21]=a("div",{class:"text-subtitle1 q-pt-lg"},"Info Utama",-1)),e(ne,{autofocus:"",modelValue:t(n).type,"onUpdate:modelValue":d[2]||(d[2]=_=>t(n).type=_),class:"custom-select",options:t(o),label:"Jenis","map-options":"","emit-value":"","hide-bottom-space":""},null,8,["modelValue","options"]),e(Z,{modelValue:t(n).name,"onUpdate:modelValue":d[3]||(d[3]=_=>t(n).name=_),modelModifiers:{trim:!0},label:"Nama Produk","lazy-rules":"",error:!!t(n).errors.name,disable:t(n).processing,"error-message":t(n).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Z,{modelValue:t(n).description,"onUpdate:modelValue":d[4]||(d[4]=_=>t(n).description=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Deskripsi","lazy-rules":"",disable:t(n).processing,error:!!t(n).errors.description,"error-message":t(n).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(ne,{modelValue:t(n).category_id,"onUpdate:modelValue":d[5]||(d[5]=_=>t(n).category_id=_),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:t(r),"map-options":"","emit-value":"",onFilter:t(i),"option-label":"label","option-value":"value",error:!!t(n).errors.category_id,disable:t(n).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(X,null,{default:l(()=>[e(N,null,{default:l(()=>d[19]||(d[19]=[g("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),e(ne,{modelValue:t(n).supplier_id,"onUpdate:modelValue":d[6]||(d[6]=_=>t(n).supplier_id=_),label:"Supplier","use-input":"","input-debounce":"300",clearable:"",options:t(c),"map-options":"","emit-value":"",onFilter:t(v),"option-label":"label","option-value":"value",error:!!t(n).errors.supplier_id,disable:t(n).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(X,null,{default:l(()=>[e(N,null,{default:l(()=>d[20]||(d[20]=[g("Supplier tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),e(Tl,{modelValue:t(n).active,"onUpdate:modelValue":d[7]||(d[7]=_=>t(n).active=_),disable:t(n).processing,label:"Aktif"},null,8,["modelValue","disable"]),d[22]||(d[22]=a("div",{class:"text-subtitle1 q-pt-lg"},"Info Inventori",-1)),e(Z,{modelValue:t(n).barcode,"onUpdate:modelValue":d[8]||(d[8]=_=>t(n).barcode=_),modelModifiers:{trim:!0},label:"Barcode","lazy-rules":"",error:!!t(n).errors.barcode,disable:t(n).processing,"error-message":t(n).errors.barcode,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(Z,{modelValue:t(n).uom,"onUpdate:modelValue":d[9]||(d[9]=_=>t(n).uom=_),modelModifiers:{trim:!0},label:"Satuan","lazy-rules":"",error:!!t(n).errors.uom,disable:t(n).processing,"error-message":t(n).errors.uom,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(Ee,{modelValue:t(n).stock,"onUpdate:modelValue":d[10]||(d[10]=_=>t(n).stock=_),label:"Stok",lazyRules:"",disable:t(n).processing,error:!!t(n).errors.stock,errorMessage:t(n).errors.stock},null,8,["modelValue","disable","error","errorMessage"]),e(Ee,{modelValue:t(n).min_stock,"onUpdate:modelValue":d[11]||(d[11]=_=>t(n).min_stock=_),label:"Stok Minimum",lazyRules:"",disable:t(n).processing,error:!!t(n).errors.min_stock,errorMessage:t(n).errors.min_stock},null,8,["modelValue","disable","error","errorMessage"]),e(Ee,{modelValue:t(n).max_stock,"onUpdate:modelValue":d[12]||(d[12]=_=>t(n).max_stock=_),label:"Stok Maksimum",lazyRules:"",disable:t(n).processing,error:!!t(n).errors.max_stock,errorMessage:t(n).errors.max_stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),d[23]||(d[23]=a("div",{class:"text-subtitle1 q-pt-lg"},"Info Harga",-1)),e(Tl,{modelValue:t(n).price_editable,"onUpdate:modelValue":d[13]||(d[13]=_=>t(n).price_editable=_),disable:t(n).processing,label:"Harga bisa diubah saat penjualan"},null,8,["modelValue","disable"]),e(Ee,{modelValue:t(n).cost,"onUpdate:modelValue":d[14]||(d[14]=_=>t(n).cost=_),label:"Modal / Harga Beli (Rp)",lazyRules:"",disable:t(n).processing,error:!!t(n).errors.cost,errorMessage:t(n).errors.cost,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Ee,{modelValue:t(n).price,"onUpdate:modelValue":d[15]||(d[15]=_=>t(n).price=_),label:"Harga Jual (Rp)",lazyRules:"",disable:t(n).processing,error:!!t(n).errors.max_stock,errorMessage:t(n).errors.price,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Ee,{modelValue:y.value,"onUpdate:modelValue":d[16]||(d[16]=_=>y.value=_),label:"Margin (%)",lazyRules:"",disable:t(n).processing,maxDecimals:2,"hide-bottom-space":""},null,8,["modelValue","disable"]),d[24]||(d[24]=a("div",{class:"text-subtitle1 q-pt-lg"},"Info Lainnya",-1)),e(Z,{modelValue:t(n).notes,"onUpdate:modelValue":d[17]||(d[17]=_=>t(n).notes=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(n).processing,error:!!t(n).errors.notes,"error-message":t(n).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(n).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(n).processing,onClick:d[18]||(d[18]=_=>t(F).get(S.route("admin.product.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},xi=Object.freeze(Object.defineProperty({__proto__:null,default:Si},Symbol.toStringTag,{value:"Module"})),Ci={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},qi={class:"q-pa-sm"},Vi={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ti={key:0,class:"text-grey-8"},Pi={key:1,class:"text-grey-8"},Ii={key:0},Mi={key:1},Oi={class:"flex justify-end"},Pl="Produk",Ni={__name:"Index",setup(p){const s=pe(),m=q(null),o=q(null),n=Be(o),f=q(!1),r=[{value:"all",label:"Semua"},...Pe(window.CONSTANTS.PRODUCT_TYPES)],i=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],c=[{value:"all",label:"Semua"},{value:"ready",label:"Tersedia"},{value:"out",label:"Kosong"},{value:"low",label:"Stok Rendah"},{value:"over",label:"Stok Berlebih"}],v=_e(),y=q(!1),S=q([]),d=q(!0),b=Ne({type:"all",category_id:"all",supplier_id:"all",status:"active",stock_status:"all",search:"",...Ie()}),P=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1});let _=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"cost",label:"Modal",field:"cost",align:"right"},{name:"price",label:"Harga",field:"price",align:"right"},{name:"action",align:"right"}];ke(()=>{const A=new URLSearchParams(window.location.search).get("page");A&&(P.value.page=parseInt(A)),M()});const H=L=>ze({message:`Hapus Produk ${L.name}?`,url:route("admin.product.delete",L.id),fetchItemsCallback:M,loading:d}),M=(L=null)=>{Me({pagination:P,filter:b,props:L,rows:S,url:route("admin.product.data"),loading:d,tableRef:m})},x=()=>{M()},{filteredCategories:I,filterCategories:C}=ea(s.props.categories,!0),{filteredSuppliers:k,filterSuppliers:h}=Wt(s.props.suppliers,!0),$=ee(()=>{let L=[..._];return f.value||L.splice(2,1),v.screen.gt.sm?L:L.filter(A=>A.name==="name"||A.name==="action")}),V=L=>{console.log(window.location.href),F.get(route("admin.product.detail",L.row.id))};return(L,A)=>{const Q=j("i-head"),te=j("authenticated-layout");return w(),O(W,null,[e(Q,{title:Pl}),e(te,null,De({title:l(()=>[g(u(Pl))]),"right-button":l(()=>[L.$can("admin.product.add")?(w(),E(R,{key:0,class:"q-mr-sm",icon:f.value?"visibility":"visibility_off",label:"",dense:"",color:"grey",onClick:A[0]||(A[0]=Y=>f.value=!f.value)},null,8,["icon"])):D("",!0),e(R,{icon:y.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:A[1]||(A[1]=Y=>y.value=!y.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:A[2]||(A[2]=Y=>t(F).get(L.route("admin.product.add")))})]),default:l(()=>[a("div",qi,[e(we,{ref_key:"tableRef",ref:m,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:P.value,"onUpdate:pagination":A[10]||(A[10]=Y=>P.value=Y),filter:b.search,loading:d.value,columns:$.value,rows:S.value,"rows-per-page-options":[10,25,50],style:He({height:t(n)}),onRequest:M,"binary-state-sort":""},{loading:l(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":l(({icon:Y,message:U,filter:de})=>[a("div",Vi,[a("span",null,u(U)+" "+u(de?" with term "+de:""),1)])]),header:l(Y=>[e(ve,{props:Y},{default:l(()=>[e(Vt,{"auto-width":""}),(w(!0),O(W,null,it(Y.cols,U=>(w(),E(Vt,{key:U.name,props:Y},{default:l(()=>[g(u(U.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(Y=>[e(ve,{props:Y,class:be({inactive:!Y.row.active})},{default:l(()=>[e(B,{"auto-width":""},{default:l(()=>[e(R,{size:"xs",color:"grey",round:"",dense:"",onClick:G(U=>Y.expand=!Y.expand,["prevent"]),icon:Y.expand?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["onClick","icon"])]),_:2},1024),e(B,{key:"name",props:Y,class:"wrap-column cursor-pointer",onClick:U=>V(Y)},{default:l(()=>[g(u(Y.row.name)+" ",1),Y.row.category_id?(w(),O("div",Ti,[e(T,{name:"category"}),g(" "+u(Y.row.category.name),1)])):D("",!0),Y.row.supplier_id?(w(),O("div",Pi,[e(T,{name:"local_shipping"}),g(" "+u(Y.row.supplier.name),1)])):D("",!0),t(v).screen.gt.sm?D("",!0):(w(),O(W,{key:2},[Y.row.type=="stocked"?(w(),O("div",Ii,[e(T,{name:"cycle"}),g(" Stok: "+u(t(z)(Y.row.stock))+" "+u(Y.row.uom),1)])):D("",!0),f.value?(w(),O("div",Mi,[e(T,{name:"money"}),g(" Modal: Rp. "+u(t(z)(Y.row.cost)),1)])):D("",!0),a("div",null,[e(T,{name:"sell"}),g(" Harga: Rp. "+u(t(z)(Y.row.price)),1)])],64))]),_:2},1032,["props","onClick"]),e(B,{key:"stock",props:Y,class:be(["wrap-column",{"low-stock":Y.row.type=="stocked"&&(Number(Y.row.stock)==0||Number(Y.row.stock)<Number(Y.row.min_stock)),"over-stock":Y.row.type=="stocked"&&Number(Y.row.max_stock)&&Number(Y.row.stock)>Number(Y.row.max_stock)}])},{default:l(()=>[g(u(Y.row.type=="stocked"?t(z)(Y.row.stock)+" "+Y.row.uom:"-"),1)]),_:2},1032,["props","class"]),(w(),E(B,{key:"cost",props:Y,class:"wrap-column"},{default:l(()=>[g(u(t(z)(Y.row.cost)),1)]),_:2},1032,["props"])),e(B,{key:"price",props:Y,class:"wrap-column"},{default:l(()=>[g(u(t(z)(Y.row.price)),1)]),_:2},1032,["props"]),e(B,{key:"action",props:Y},{default:l(()=>[a("div",Oi,[e(R,{disabled:!t(Ye)(L.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:A[9]||(A[9]=G(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ve,{style:{width:"200px"}},{default:l(()=>[K((w(),E(X,{clickable:"",onClick:G(U=>t(F).get(L.route("admin.product.duplicate",Y.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:l(()=>A[11]||(A[11]=[g("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]]),K((w(),E(X,{clickable:"",onClick:G(U=>t(F).get(L.route("admin.product.edit",Y.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:l(()=>A[12]||(A[12]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]]),L.$page.props.auth.user.role==L.$CONSTANTS.USER_ROLE_ADMIN?K((w(),E(X,{key:0,onClick:G(U=>H(Y.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>A[13]||(A[13]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]]):D("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class"]),K(e(ve,{props:Y},{default:l(()=>[e(B,{colspan:"100%"},{default:l(()=>[e(T,{name:"notes"}),g(" "+u(Y.row.description),1)]),_:2},1024)]),_:2},1032,["props"]),[[Jl,Y.expand]])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[y.value?{name:"header",fn:l(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:o},{default:l(()=>[a("div",Ci,[e(ne,{modelValue:b.type,"onUpdate:modelValue":[A[3]||(A[3]=Y=>b.type=Y),x],class:"custom-select col-xs-4 col-sm-2",options:r,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ne,{modelValue:b.status,"onUpdate:modelValue":[A[4]||(A[4]=Y=>b.status=Y),x],class:"custom-select col-xs-4 col-sm-2",options:i,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ne,{modelValue:b.stock_status,"onUpdate:modelValue":[A[5]||(A[5]=Y=>b.stock_status=Y),x],class:"custom-select col-xs-4 col-sm-2",options:c,label:"Status Stok",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ne,{modelValue:b.category_id,"onUpdate:modelValue":[A[6]||(A[6]=Y=>b.category_id=Y),x],label:"Kategori",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:t(I),"map-options":"",dense:"","emit-value":"",onFilter:t(C),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),e(ne,{modelValue:b.supplier_id,"onUpdate:modelValue":[A[7]||(A[7]=Y=>b.supplier_id=Y),x],label:"Pemasok",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:t(k),"map-options":"",dense:"","emit-value":"",onFilter:t(h),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:b.search,"onUpdate:modelValue":A[8]||(A[8]=Y=>b.search=Y),placeholder:"Cari",clearable:""},{append:l(()=>[e(T,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Ri=Object.freeze(Object.defineProperty({__proto__:null,default:Ni},Symbol.toStringTag,{value:"Module"})),ta={__name:"UpdatePasswordForm",setup(p){const s=q(!1),m=q(null),o=q(null),n=Se({current_password:"",password:"",password_confirmation:""}),f=()=>{n.clearErrors(),n.post(route("admin.profile.update-password"),{preserveScroll:!0,onSuccess:()=>n.reset(),onError:()=>{n.errors.password&&(n.reset("password","password_confirmation"),m.value.focus()),n.errors.current_password&&(n.reset("current_password"),o.value.focus())}})};return(r,i)=>(w(),E(Te,{class:"row",onSubmit:G(f,["prevent"]),onValidationError:t(Re)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,null,{default:l(()=>[i[6]||(i[6]=a("div",{class:"text-h6 q-my-xs text-subtitle1"},"Perbarui Kata Sandi",-1)),i[7]||(i[7]=a("p",{class:"text-caption text-grey-9"}," Pastikan akun anda menggunakan kata sandi yang kuat agar akun tetap aman. ",-1)),e(Z,{modelValue:t(n).current_password,"onUpdate:modelValue":i[1]||(i[1]=c=>t(n).current_password=c),type:s.value?"text":"password",label:"Kata Sandi Sekarang",autocomplete:"off",disable:t(n).processing,error:!!t(n).errors.current_password,"error-message":t(n).errors.current_password,rules:[c=>c&&c.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(R,{dense:"",flat:"",round:"",onClick:i[0]||(i[0]=c=>s.value=!s.value)},{default:l(()=>[e(T,{name:s.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(Z,{modelValue:t(n).password,"onUpdate:modelValue":i[3]||(i[3]=c=>t(n).password=c),type:s.value?"text":"password",label:"Kata Sandi Baru",autocomplete:"off",disable:t(n).processing,error:!!t(n).errors.password,"error-message":t(n).errors.password,rules:[c=>c&&c.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(R,{dense:"",flat:"",round:"",onClick:i[2]||(i[2]=c=>s.value=!s.value)},{default:l(()=>[e(T,{name:s.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(Z,{modelValue:t(n).password_confirmation,"onUpdate:modelValue":i[5]||(i[5]=c=>t(n).password_confirmation=c),type:s.value?"text":"password",label:"Konfirmasi Kata Sandi",autocomplete:"off",disable:t(n).processing,error:!!t(n).errors.password_confirmation,"error-message":t(n).errors.password_confirmation,rules:[c=>c&&c.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(R,{dense:"",flat:"",round:"",onClick:i[4]||(i[4]=c=>s.value=!s.value)},{default:l(()=>[e(T,{name:s.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"])]),_:1}),e(le,null,{default:l(()=>[e(R,{type:"submit",label:"Perbarui Kata Sandi",color:"primary",icon:"save",disable:t(n).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},Ai=Object.freeze(Object.defineProperty({__proto__:null,default:ta},Symbol.toStringTag,{value:"Module"})),la={__name:"UpdateProfileInformationForm",setup(p){const m=pe().props.auth.user,o=Se({name:m.name,username:m.username,role:window.CONSTANTS.USER_ROLES[m.role]}),n=()=>Ce({form:o,url:route("admin.profile.update")});return(f,r)=>(w(),E(Te,{class:"row",onSubmit:G(n,["prevent"]),onValidationError:t(Re)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,null,{default:l(()=>[r[3]||(r[3]=a("div",{class:"text-h6 q-my-xs text-subtitle1"},"Profil Saya",-1)),r[4]||(r[4]=a("p",{class:"text-caption text-grey-9"},"Perbarui profil anda.",-1)),e(Z,{modelValue:t(o).username,"onUpdate:modelValue":r[0]||(r[0]=i=>t(o).username=i),label:"ID Pengguna",disable:t(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"]),e(Z,{modelValue:t(o).name,"onUpdate:modelValue":r[1]||(r[1]=i=>t(o).name=i),modelModifiers:{trim:!0},label:"Nama",disable:t(o).processing,error:!!t(o).errors.name,"error-message":t(o).errors.name,rules:[i=>i&&i.length>0||"Name harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(Z,{modelValue:t(o).role,"onUpdate:modelValue":r[2]||(r[2]=i=>t(o).role=i),label:"Hak Akses",disable:t(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"])]),_:1}),e(le,null,{default:l(()=>[e(R,{type:"submit",label:"Perbarui Profil Saya",icon:"save",color:"primary",disable:t(o).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},Ui=Object.freeze(Object.defineProperty({__proto__:null,default:la},Symbol.toStringTag,{value:"Module"})),Ei={class:"q-pa-sm"},Di={class:"row justify-center"},ji={class:"col col-lg-6"},Il="Profil Saya",Bi={__name:"Edit",setup(p){return(s,m)=>{const o=j("i-head"),n=j("authenticated-layout");return w(),O(W,null,[e(o,{title:Il}),e(n,null,{title:l(()=>[g(u(Il))]),default:l(()=>[a("div",Ei,[a("div",Di,[a("div",ji,[e(la,{class:"q-mb-md"}),e(ta)])])])]),_:1})],64)}}},Li=Object.freeze(Object.defineProperty({__proto__:null,default:Bi},Symbol.toStringTag,{value:"Module"}));function zi(){const p=q(new Date);let s=null;const m=()=>{p.value=new Date};ke(()=>{s=setInterval(m,1e3)}),ao(()=>{s&&clearInterval(s)});const o=ee(()=>p.value.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})),n=ee(()=>p.value.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}));return{currentDate:o,currentTime:n}}const Hi={class:"text-grey-8"},aa={__name:"DigitalClock",setup(p){const{currentDate:s,currentTime:m}=zi();return(o,n)=>(w(),O("div",Hi,u(t(s))+" - "+u(t(m)),1))}},Yi={class:"row q-col-gutter-md items-center q-px-md q-py-sm"},Fi={class:"col-12 col-sm-6 col-md-4"},Ki={class:"text-bold"},Qi={key:0,class:"col-12 col-md-4 text-center"},Wi={class:"text-h6 text-weight-bold text-grey-8"},Ji={key:0,class:"text-subtitle2 text-weight-bold text-grey-8"},Gi={key:1,class:"text-subtitle2 text-weight-bold text-grey-8"},Xi={class:"text-weight-bold"},oa={__name:"TransactionHeader",props:{user:{type:Object,required:!0},company:{type:Object,required:!0}},emits:["edit-supplier"],setup(p){return(s,m)=>(w(),O("div",Yi,[a("div",Fi,[a("div",Ki,[m[1]||(m[1]=g(" Info Supplier ")),e(R,{icon:"edit",flat:"",rounded:"",dense:"",color:"grey",size:"sm",onClick:m[0]||(m[0]=o=>s.$emit("edit-supplier"))})]),m[2]||(m[2]=a("div",{class:"text-grey-8 text-italic"},"Supplier belum dipilih.",-1))]),s.$q.screen.gt.sm?(w(),O("div",Qi,[a("div",Wi,u(p.company.name),1),p.company.address?(w(),O("div",Ji,u(p.company.address),1)):D("",!0),p.company.phone?(w(),O("div",Gi,u(p.company.phone),1)):D("",!0)])):D("",!0),a("div",{class:be(["col-12 col-sm-6 col-md-4",s.$q.screen.gt.sm?"text-right":""])},[a("div",Xi,u(p.user.username)+" - "+u(p.user.name),1),e(aa)],2)]))}},Zi=Object.freeze(Object.defineProperty({__proto__:null,default:oa},Symbol.toStringTag,{value:"Module"})),eu={class:"text-weight-medium"},tu={class:"text-caption text-grey-6"},lu={class:"text-weight-medium"},au={class:"text-weight-bold text-primary"},na={__name:"ItemsListTable",props:{items:{type:Array,required:!0},columns:{type:Array,required:!0}},emits:["update-quantity","remove-item"],setup(p){return(s,m)=>(w(),E(we,{dense:"",rows:p.items,columns:p.columns,"row-key":"id",flat:"",square:"",bordered:"",class:"bg-grey-1 pos-table q-pa-none col","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48},{header:l(o=>[e(ve,{props:o,class:"bg-grey-4"},{default:l(()=>[(w(!0),O(W,null,it(o.cols,n=>(w(),E(Vt,{key:n.name,props:o,class:"text-weight-bold text-grey-8"},{default:l(()=>[g(u(n.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(o=>[e(ve,{props:o,class:"hover-highlight"},{default:l(()=>[e(B,{key:"name",props:o,class:"text-left"},{default:l(()=>[a("div",eu,u(o.row.name),1),a("div",tu," Barcode: "+u(o.row.barcode),1)]),_:2},1032,["props"]),e(B,{key:"price",props:o,class:"text-center"},{default:l(()=>[a("div",lu,[e(Ee,{"model-value":o.row.price,dense:"",style:{width:"80px","text-align":"right"}},null,8,["model-value"])])]),_:2},1032,["props"]),e(B,{key:"quantity",props:o,class:"text-center"},{default:l(()=>[e(Ee,{"model-value":o.row.quantity,dense:"",style:{width:"80px","text-align":"right"},"onUpdate:modelValue":n=>s.$emit("update-quantity",{id:o.row.id,value:n}),onKeyup:m[0]||(m[0]=Yt(n=>n.target.blur(),["enter"]))},null,8,["model-value","onUpdate:modelValue"])]),_:2},1032,["props"]),e(B,{key:"subtotal",props:o,class:"text-center"},{default:l(()=>[a("div",au," Rp. "+u(t(z)(o.row.price*o.row.quantity)),1)]),_:2},1032,["props"]),e(B,{key:"action",props:o,class:"text-center"},{default:l(()=>[e(R,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:n=>s.$emit("remove-item",o.row)},{default:l(()=>[e(Aa,null,{default:l(()=>m[1]||(m[1]=[g("Hapus Item")])),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]))}},ou=Object.freeze(Object.defineProperty({__proto__:null,default:na},Symbol.toStringTag,{value:"Module"})),nu={class:"column"},su={class:"row justify-end items-center q-gutter-sm"},ru={class:"text-h4 text-weight-bold text-primary"},iu={class:"text-caption text-grey-6 q-mt-xs text-right"},uu={class:"q-py-sm"},du={class:"q-py-sm"},sa={__name:"TransactionSummary",props:{subtotal:{type:Number,required:!0},itemCount:{type:Number,required:!0},barcode:{type:String,required:!0},isProcessing:{type:Boolean,default:!1},formProcessing:{type:Boolean,default:!1}},emits:["update:barcode","add-item","process-payment"],setup(p,{expose:s}){const m=q(null);ke(()=>{o()});const o=()=>{Ot(()=>{m.value&&m.value.focus()})};return s({focusOnBarcodeInput:o}),(n,f)=>(w(),O("div",nu,[a("div",su,[f[3]||(f[3]=a("span",{class:"text-weight-bold text-grey-8"},"GRAND TOTAL: Rp.",-1)),a("span",ru,u(t(z)(p.subtotal)),1)]),a("div",iu,u(p.itemCount)+" item(s) ",1),a("div",uu,[e(Z,{ref_key:"barcodeInputRef",ref:m,"model-value":p.barcode,"onUpdate:modelValue":f[0]||(f[0]=r=>n.$emit("update:barcode",r)),placeholder:"<Input Barcode>",outlined:"",square:"",class:"col bg-white",onKeyup:f[1]||(f[1]=Yt(r=>n.$emit("add-item"),["enter"])),loading:p.isProcessing,clearable:"",autofocus:""},{prepend:l(()=>[e(T,{name:"qr_code_scanner"})]),_:1},8,["model-value","loading"])]),a("div",du,[e(R,{class:"full-width",label:"Bayar",color:"primary",icon:"payment",onClick:f[2]||(f[2]=r=>n.$emit("process-payment")),disable:p.itemCount===0,loading:p.formProcessing},null,8,["disable","loading"])])]))}},mu=Object.freeze(Object.defineProperty({__proto__:null,default:sa},Symbol.toStringTag,{value:"Module"})),cu={class:"q-ml-sm"},ra={__name:"ConfirmDeleteDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,default:null}},emits:["update:modelValue","confirm"],setup(p){return(s,m)=>(w(),E(_t,{"model-value":p.modelValue,"onUpdate:modelValue":m[1]||(m[1]=o=>s.$emit("update:modelValue",o)),persistent:""},{default:l(()=>[e(ie,null,{default:l(()=>[e(le,{class:"row items-center"},{default:l(()=>{var o;return[e(rt,{icon:"delete",color:"negative","text-color":"white"}),a("span",cu,'Hapus item "'+u((o=p.item)==null?void 0:o.name)+'"?',1)]}),_:1}),e(ut,{align:"right"},{default:l(()=>[K(e(R,{flat:"",label:"Batal",color:"primary"},null,512),[[se]]),K(e(R,{flat:"",label:"Hapus",color:"negative",onClick:m[0]||(m[0]=o=>s.$emit("confirm"))},null,512),[[se]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},pu=Object.freeze(Object.defineProperty({__proto__:null,default:ra},Symbol.toStringTag,{value:"Module"})),ia={__name:"SupplierEditorDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","save"],setup(p,{emit:s}){const m=s,o=q(""),n=q(""),f=()=>{m("save",{name:o.value,address:n.value})};return(r,i)=>(w(),E(_t,{"model-value":p.modelValue,"onUpdate:modelValue":i[2]||(i[2]=c=>r.$emit("update:modelValue",c)),persistent:""},{default:l(()=>[e(ie,{style:{width:"400px"}},{default:l(()=>[e(le,{class:"q-py-none q-pt-lg"},{default:l(()=>i[3]||(i[3]=[a("div",{class:"text-bold text-grey-8"},"Edit Info Supplier",-1)])),_:1}),e(le,null,{default:l(()=>[e(Z,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=c=>o.value=c),label:"Nama Supplier"},null,8,["modelValue"]),e(Z,{modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=c=>n.value=c),label:"Alamat",type:"textarea",autogrow:"",counter:"",maxlength:"200",class:"q-mt-md"},null,8,["modelValue"])]),_:1}),e(ut,{align:"right"},{default:l(()=>[K(e(R,{flat:"",label:"Batal",color:"primary"},null,512),[[se]]),K(e(R,{flat:"",label:"Simpan",color:"primary",onClick:f},null,512),[[se]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},fu=Object.freeze(Object.defineProperty({__proto__:null,default:ia},Symbol.toStringTag,{value:"Module"})),gu={class:"q-gutter-sm"},bu={class:"row col **grow**"},_u={class:"col-12 q-pa-sm column"},vu={class:"row"},yu={class:"col-xs-12 col-md-8 q-pa-sm"},wu={class:"col-md-4 col-xs-12 q-pa-sm"},ku={__name:"Editor",setup(p){const s=_e(),m=pe(),o=q(null),n=Se({id:null,formatted_id:"Diisi Otomatis",customer_name:"Pelanggan Umum",datetime:Ge().format("YYYY-MM-DD HH:mm:ss"),status:"pending",payment_status:"unpaid",items:[],subtotal:0,tax:0,total:0,notes:""}),f=q(""),r=q(!1),i=q(!1),c=q(null),v=q(!1),y=[{name:"name",required:!0,label:"Item Information",align:"left",field:"name",sortable:!1,style:"width: 300px"},{name:"price",label:"Harga",align:"center",field:"price",sortable:!1,style:"width: 120px"},{name:"quantity",label:"Quantity",align:"center",field:"quantity",sortable:!1,style:"width: 100px"},{name:"subtotal",label:"SubTotal",align:"center",sortable:!1,style:"width: 140px"},{name:"action",label:"Action",align:"center",sortable:!1,style:"width: 80px"}],S=ee(()=>{const M=n.items.reduce((x,I)=>x+I.price*I.quantity,0);return n.subtotal=M,n.total=M+n.tax,M}),d=async()=>{if(!f.value.trim()){s.notify({message:"Silakan masukkan barcode",color:"warning",position:"bottom"});return}let M=1,x=f.value.trim(),I=null;const C=x.split("*");if(C.length===3){const h=parseInt(C[0]),$=parseFloat(C[2]);!isNaN(h)&&h>0?M=h:s.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"bottom"}),!isNaN($)&&$>=0?I=$:s.notify({message:"Harga tidak valid. Menggunakan harga produk default.",color:"warning",position:"bottom"}),x=C[1]}else if(C.length===2){const h=parseInt(C[0]);!isNaN(h)&&h>0?M=h:s.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"bottom"}),x=C[1]}const k=n.items.findIndex(h=>h.barcode===x);if(k!==-1)n.items[k].quantity+=M,s.notify({message:`Quantity ${n.items[k].name} bertambah ${M}`,color:"positive",position:"bottom"});else{r.value=!0;try{await new Promise(V=>setTimeout(V,300));const $={...{id:Date.now(),name:`Item ${x}`,barcode:x,price:I!==null?I:Math.floor(Math.random()*5e4)+1e4},quantity:M};n.items.push($),s.notify({message:`${$.name} berhasil ditambahkan`,color:"positive",position:"bottom",icon:"add_shopping_cart"})}catch(h){console.error("Error fetching item:",h),s.notify({message:"Item tidak ditemukan atau gagal menambahkan item",color:"negative",position:"bottom"})}finally{r.value=!1}}f.value="",await Ot(),o.value.focusOnBarcodeInput()},b=M=>{c.value=M,i.value=!0},P=()=>{if(c.value){const M=n.items.findIndex(x=>x.id===c.value.id);if(M!==-1){const x=n.items.splice(M,1)[0];s.notify({message:`${x.name} dihapus dari keranjang`,color:"info",position:"bottom",icon:"remove_shopping_cart"})}c.value=null}},_=(M,x)=>{const I=n.items.find(C=>C.id===M);I&&x>0&&(I.quantity=parseInt(x)||1)},H=()=>{if(n.items.length===0){s.notify({message:"Tidak ada item dalam keranjang",color:"warning",position:"bottom"});return}n.datetime=Ge().format("YYYY-MM-DD HH:mm:ss"),n.status="completed",n.payment_status="paid",Ce({form:n,url:route("admin.transaction.save")})};return(M,x)=>{const I=j("i-head"),C=j("authenticated-layout");return w(),O(W,null,[e(I,{title:"Order Pembelian"}),e(C,null,{title:l(()=>x[8]||(x[8]=[g("Order Pembelian")])),"left-button":l(()=>[a("div",gu,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:x[0]||(x[0]=k=>t(F).get(M.route("admin.purchase-order.index")))})])]),default:l(()=>[e(ye,{class:"bg-grey-2 q-pa-sm column fit"},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"full-width col column"},{default:l(()=>[e(oa,{user:t(m).props.auth.user,company:t(m).props.company,onEditSupplier:x[1]||(x[1]=k=>v.value=!0)},null,8,["user","company"]),a("div",bu,[a("div",_u,[e(na,{items:t(n).items,columns:y,onUpdateQuantity:x[2]||(x[2]=({id:k,value:h})=>_(k,h)),onRemoveItem:b},null,8,["items"])])]),a("div",vu,[a("div",yu,[e(Z,{modelValue:t(n).notes,"onUpdate:modelValue":x[3]||(x[3]=k=>t(n).notes=k),type:"textarea",placeholder:"Tambahkan catatan transaksi...",square:"",outlined:"",class:"bg-white",rows:3,counter:"",maxlength:"200",error:!!t(n).errors.notes,"error-message":t(n).errors.notes,style:{"margin-bottom":"16px"},"hide-bottom-space":""},{prepend:l(()=>[e(T,{name:"note"})]),_:1},8,["modelValue","error","error-message"])]),a("div",wu,[e(sa,{ref_key:"transactionSummaryRef",ref:o,barcode:f.value,"onUpdate:barcode":x[4]||(x[4]=k=>f.value=k),subtotal:S.value,"item-count":t(n).items.length,"is-processing":r.value,"form-processing":t(n).processing,onAddItem:x[5]||(x[5]=k=>d(f.value)),onProcessPayment:H},null,8,["barcode","subtotal","item-count","is-processing","form-processing"])])])]),_:1}),e(ra,{modelValue:i.value,"onUpdate:modelValue":x[6]||(x[6]=k=>i.value=k),item:c.value,onConfirm:P},null,8,["modelValue","item"]),e(ia,{modelValue:v.value,"onUpdate:modelValue":x[7]||(x[7]=k=>v.value=k)},null,8,["modelValue"])]),_:1})]),_:1})],64)}}},hu=tt(ku,[["__scopeId","data-v-4d8fff94"]]),$u=Object.freeze(Object.defineProperty({__proto__:null,default:hu},Symbol.toStringTag,{value:"Module"})),Su={class:"col col-lg-6 q-pa-sm"},xu={__name:"Editor_v1",setup(p){const s=pe(),m=(s.props.data.id?"Edit":"Tambah")+" Order Pembelian",{filteredSuppliers:o,filterSupplierFn:n}=Wt(s.props.suppliers,!1),f=Pe(window.CONSTANTS.PURCHASE_ORDER_STATUSES),r=Pe(window.CONSTANTS.PURCHASE_ORDER_PAYMENT_STATUSES),i=Pe(window.CONSTANTS.PURCHASE_ORDER_DELIVERY_STATUSES),c=Se({id:s.props.data.id,formatted_id:s.props.data.formatted_id??"Diisi Otomatis",supplier_id:s.props.data.supplier_id,datetime:Ge(s.props.data.datetime).format("YYYY-MM-DD HH:mm:ss"),status:s.props.data.status,payment_status:s.props.data.payment_status,delivery_status:s.props.data.delivery_status,total:parseFloat(s.props.data.total),total_paid:parseFloat(s.props.data.total_paid),notes:s.props.data.notes}),v=()=>Ce({form:c,url:route("admin.purchase-order.save")});return(y,S)=>{const d=j("i-head"),b=j("authenticated-layout");return w(),O(W,null,[e(d,{title:m}),e(b,null,{title:l(()=>[g(u(m))]),default:l(()=>[e(ye,{class:"row justify-center"},{default:l(()=>[a("div",Su,[e(Te,{class:"row",onSubmit:G(v,["prevent"]),onValidationError:t(Re)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[K(a("input",{type:"hidden",name:"id","onUpdate:modelValue":S[0]||(S[0]=P=>t(c).id=P)},null,512),[[Fe,t(c).id]]),e(Z,{modelValue:t(c).formatted_id,"onUpdate:modelValue":S[1]||(S[1]=P=>t(c).formatted_id=P),modelModifiers:{trim:!0},label:"ID Order",readonly:"","hide-bottom-space":""},null,8,["modelValue"]),e($t,{modelValue:t(c).datetime,"onUpdate:modelValue":S[2]||(S[2]=P=>t(c).datetime=P),label:"Waktu",error:!!t(c).errors.datetime,disable:t(c).processing},null,8,["modelValue","error","disable"]),e(ne,{modelValue:t(c).status,"onUpdate:modelValue":S[3]||(S[3]=P=>t(c).status=P),label:"Status Order",options:t(f),"map-options":"","emit-value":"",error:!!t(c).errors.status,disable:t(c).processing,errorMessage:t(c).errors.status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(ne,{modelValue:t(c).payment_status,"onUpdate:modelValue":S[4]||(S[4]=P=>t(c).payment_status=P),label:"Status Pembayaran",options:t(r),"map-options":"","emit-value":"",error:!!t(c).errors.payment_status,disable:t(c).processing,errorMessage:t(c).errors.payment_status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(ne,{modelValue:t(c).delivery_status,"onUpdate:modelValue":S[5]||(S[5]=P=>t(c).delivery_status=P),label:"Status Pengiriman",options:t(i),"map-options":"","emit-value":"",error:!!t(c).errors.delivery_status,disable:t(c).processing,errorMessage:t(c).errors.delivery_status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(ne,{modelValue:t(c).supplier_id,"onUpdate:modelValue":S[6]||(S[6]=P=>t(c).supplier_id=P),label:"Pemasok","use-input":"","input-debounce":"300",clearable:"",options:t(o),"map-options":"","emit-value":"",errorMessage:t(c).errors.supplier_id,onFilter:t(n),error:!!t(c).errors.supplier_id,disable:t(c).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(X,null,{default:l(()=>[e(N,null,{default:l(()=>S[9]||(S[9]=[g("Pemasok tidak ditemukan.")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(R,{dense:"",icon:"add",type:"button",color:"primary",disable:t(c).processing,label:"Pemasok Baru"},null,8,["disable"]),e(Z,{modelValue:t(c).notes,"onUpdate:modelValue":S[7]||(S[7]=P=>t(c).notes=P),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(c).processing,error:!!t(c).errors.notes,"error-message":t(c).errors.notes,rules:[P=>P&&P.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"create",type:"submit",label:"Buat Order",color:"primary",disable:t(c).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(c).processing,onClick:S[8]||(S[8]=P=>t(F).get(y.route("admin.purchase-order.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Cu=Object.freeze(Object.defineProperty({__proto__:null,default:xu},Symbol.toStringTag,{value:"Module"})),qu={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Vu={class:"q-pa-sm"},Tu={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Pu={key:0},Iu={key:0},Mu={key:1},Ou={class:"flex justify-end"},Ml="Order Pembelian",Nu={__name:"Index",setup(p){const s=_e(),m=q(!1),o=q([]),n=q(!0),f=q(null),r=q(null),i=Be(r),c=Pt(),v=It(),y=[{label:"Semua Tahun",value:"all"},{label:`${c}`,value:c},...gt(c-2,c-1).reverse()],S=[{value:"all",label:"Semua Bulan"},...bt()],d=Ne({search:"",category_id:"all",year:c,month:v,...Ie()}),b=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),P=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];ke(()=>{H()});const _=I=>ze({message:`Hapus transaksi #-${I.id}?`,url:route("admin.purchase-order.delete",I.id),fetchItemsCallback:H,loading:n}),H=(I=null)=>{Me({pagination:b,filter:d,props:I,rows:o,url:route("admin.purchase-order.data"),loading:n,tableRef:f})},M=()=>{H()},x=ee(()=>s.screen.gt.sm?P:P.filter(I=>I.name==="datetime"||I.name==="action"));return xe(()=>d.year,I=>{I===null&&(d.month=null)}),(I,C)=>{const k=j("i-head"),h=j("authenticated-layout");return w(),O(W,null,[e(k,{title:Ml}),e(h,null,De({title:l(()=>[g(u(Ml))]),"right-button":l(()=>[e(R,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:C[0]||(C[0]=$=>m.value=!m.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:C[1]||(C[1]=$=>t(F).get(I.route("admin.purchase-order.add")))})]),default:l(()=>[a("div",Vu,[e(we,{ref_key:"tableRef",ref:f,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":C[6]||(C[6]=$=>b.value=$),filter:d.search,loading:n.value,columns:x.value,rows:o.value,"rows-per-page-options":[10,25,50],style:He({height:t(i)}),onRequest:H,"binary-state-sort":""},{loading:l(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":l(({icon:$,message:V,filter:L})=>[a("div",Tu,[a("span",null,u(V)+" "+u(L?" with term "+L:""),1)])]),body:l($=>[e(ve,{props:$},{default:l(()=>[e(B,{key:"datetime",props:$,class:"wrap-column"},{default:l(()=>[a("div",null,[g(" #"+u($.row.id)+" - ",1),e(T,{name:"calendar_today"}),g(" "+u($.row.datetime),1)]),e(Nt,null,{default:l(()=>[e(T,{name:"category"}),g(" "+u($.row.type_label),1)]),_:2},1024),$.row.ref_type?(w(),O("div",Pu,[e(T,{name:"link"}),g(" "+u($.row.ref_type_label)+" #"+u($.row.ref_id),1)])):D("",!0),t(s).screen.gt.sm?D("",!0):(w(),O(W,{key:1},[$.row.notes?(w(),O("div",Iu,[e(T,{name:"notes"}),g(" "+u($.row.notes),1)])):D("",!0),$.row.category?(w(),O("div",Mu,[e(T,{name:"category"}),g(" "+u($.row.category.name),1)])):D("",!0),a("div",null,[e(T,{name:"money"}),g(" Rp. "+u(t(et)($.row.amount)+t(z)($.row.amount)),1)])],64))]),_:2},1032,["props"]),e(B,{key:"account",props:$},{default:l(()=>{var V;return[g(u((V=$.row.account)==null?void 0:V.name),1)]}),_:2},1032,["props"]),e(B,{key:"notes",props:$},{default:l(()=>[g(u($.row.notes),1)]),_:2},1032,["props"]),e(B,{key:"amount",props:$,style:{"text-align":"right"}},{default:l(()=>[g(u(t(et)($.row.amount)+t(z)($.row.amount)),1)]),_:2},1032,["props"]),e(B,{key:"action",props:$},{default:l(()=>[a("div",Ou,[e(R,{disabled:!t(Ye)(I.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:C[5]||(C[5]=G(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ve,{style:{width:"200px"}},{default:l(()=>[K((w(),E(X,{onClick:G(V=>_($.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>C[7]||(C[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:l(()=>[a("div",qu,[e(ne,{modelValue:d.year,"onUpdate:modelValue":[C[2]||(C[2]=$=>d.year=$),M],options:y,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(ne,{modelValue:d.month,"onUpdate:modelValue":[C[3]||(C[3]=$=>d.month=$),M],options:S,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:d.year===null},null,8,["modelValue","disable"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":C[4]||(C[4]=$=>d.search=$),placeholder:"Cari",clearable:""},{append:l(()=>[e(T,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Ru=Object.freeze(Object.defineProperty({__proto__:null,default:Nu},Symbol.toStringTag,{value:"Module"})),Au={class:"q-gutter-sm"},Uu={__name:"Detail",setup(p){const o=`Rincian ${pe().props.data.formatted_id}`;return(n,f)=>{const r=j("i-head"),i=j("authenticated-layout");return w(),O(W,null,[e(r,{title:o}),e(i,null,{title:l(()=>[g(u(o))]),"left-button":l(()=>[a("div",Au,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:f[0]||(f[0]=c=>n.$inertia.get(n.route("admin.sales-order.index")))})])]),_:1})],64)}}},Eu=Object.freeze(Object.defineProperty({__proto__:null,default:Uu},Symbol.toStringTag,{value:"Module"})),Du={__name:"CustomerAutocomplete",props:{modelValue:{type:[String,Number,null],default:null},label:{type:String,default:"Cari Pelanggan"},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},disable:{type:Boolean,default:!1}},emits:["update:modelValue","customerSelected"],setup(p,{emit:s}){const m=p,o=s,n=q(m.modelValue),f=q([]);let r=null;xe(()=>m.modelValue,c=>{n.value=c}),xe(n,c=>{o("update:modelValue",c);const v=f.value.find(y=>y.value===c);v?o("customerSelected",v.data):o("customerSelected",null)});const i=(c,v)=>{if(c.length<2){v(()=>{f.value=[]});return}r&&clearTimeout(r),r=setTimeout(()=>{kt.get(`/web-api/customers?q=${c}`).then(y=>{const S=y.data.data.map(d=>({label:`${d.username} - ${d.name}`,value:d.id,data:d}));v(()=>{f.value=S})}).catch(y=>{console.error("Gagal mengambil data pelanggan:",y),v(()=>{f.value=[]})})},500)};return(c,v)=>(w(),E(ne,{dense:"",modelValue:n.value,"onUpdate:modelValue":v[0]||(v[0]=y=>n.value=y),"use-input":"","input-debounce":"0",label:p.label,options:f.value,onFilter:i,hint:"Ketik minimal 2 karakter untuk mencari",clearable:"",behavior:"menu",error:p.error,"error-message":p.errorMessage,disable:p.disable,"hide-bottom-space":"","emit-value":"","map-options":""},null,8,["modelValue","label","options","error","error-message","disable"]))}},ju={class:"row q-col-gutter-md items-center q-px-md q-py-sm"},Bu={class:"col-12 col-sm-6 col-md-4"},Lu={key:0,class:"text-grey q-mt-xs"},zu={key:0,class:"col-12 col-md-4 text-center"},Hu={class:"text-h6 text-weight-bold text-grey-8"},Yu={key:0,class:"text-subtitle2 text-weight-bold text-grey-8"},Fu={key:1,class:"text-subtitle2 text-weight-bold text-grey-8"},Ku={class:"text-weight-bold"},Jt={__name:"TransactionHeader",props:{user:{type:Object,required:!0},company:{type:Object,required:!0},formProcessing:{type:Boolean,default:!1}},setup(p){const s=q({id:null,data:null});function m(o){s.value.data=o}return(o,n)=>(w(),O("div",ju,[a("div",Bu,[a("div",null,[e(Du,{class:"custom-select",modelValue:s.value.id,"onUpdate:modelValue":n[0]||(n[0]=f=>s.value.id=f),label:"Pelanggan",disable:p.formProcessing,onCustomerSelected:m},null,8,["modelValue","disable"]),s.value.data?(w(),O("div",Lu," Saldo: Rp. "+u(t(z)(s.value.data.balance)),1)):D("",!0)])]),o.$q.screen.gt.sm?(w(),O("div",zu,[a("div",Hu,u(p.company.name),1),p.company.address?(w(),O("div",Yu,u(p.company.address),1)):D("",!0),p.company.phone?(w(),O("div",Fu,u(p.company.phone),1)):D("",!0)])):D("",!0),o.$q.screen.gt.sm?(w(),O("div",{key:1,class:be(["col-12 col-sm-6 col-md-4",o.$q.screen.gt.sm?"text-right":"text-center"])},[a("div",Ku,u(p.user.username)+" - "+u(p.user.name),1),e(aa)],2)):D("",!0)]))}},Qu=Object.freeze(Object.defineProperty({__proto__:null,default:Jt},Symbol.toStringTag,{value:"Module"})),Wu={class:"text-weight-medium"},Ju={class:"text-caption text-grey-6"},Gu={class:"column items-end"},Xu={class:"text-weight-bold text-primary"},Zu={class:"text-caption text-grey-6 text-italic"},Gt={__name:"ItemsListTable",props:{items:{type:Array,required:!0}},emits:["update-quantity","remove-item"],setup(p){_e();const s=[{name:"name",required:!0,label:"Item",align:"left",field:"name",sortable:!1},{name:"subtotal_price",label:"Total",align:"right",sortable:!1},{name:"action",label:"",align:"right",sortable:!1}];return(m,o)=>(w(),E(we,{dense:"",rows:p.items,columns:s,"row-key":"id",flat:"",square:"",bordered:"",class:"bg-grey-1 pos-table q-pa-none col full-height-table","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48},{header:l(n=>[e(ve,{props:n,class:"bg-grey-4"},{default:l(()=>[(w(!0),O(W,null,it(n.cols,f=>(w(),E(Vt,{key:f.name,props:n,class:"text-weight-bold text-grey-8"},{default:l(()=>[g(u(f.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(n=>[e(ve,{props:n,class:"hover-highlight"},{default:l(()=>[e(B,{key:"name",props:n,class:"text-left"},{default:l(()=>[a("div",Wu,u(n.row.product_name),1),a("div",Ju,[g(u(n.row.product_barcode),1),o[0]||(o[0]=a("br",null,null,-1)),g(" "+u(n.row.product_description),1)])]),_:2},1032,["props"]),e(B,{key:"subtotal_price",props:n,class:"text-right"},{default:l(()=>[a("div",Gu,[a("div",Xu," Rp. "+u(t(z)(n.row.subtotal_price)),1),a("div",Zu,u(n.row.quantity)+" x Rp. "+u(t(z)(n.row.price)),1)])]),_:2},1032,["props"]),e(B,{key:"action",props:n,class:"text-right"},{default:l(()=>[e(R,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:f=>m.$emit("remove-item",n.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows"]))}},ed=Object.freeze(Object.defineProperty({__proto__:null,default:Gt},Symbol.toStringTag,{value:"Module"})),td={class:"column"},ld={class:"row justify-end items-center q-gutter-sm"},ad={class:"text-h4 text-weight-bold text-primary"},od={class:"text-caption text-grey-6 q-mt-xs text-right"},nd={class:"q-py-xs"},sd={class:"q-py-xs"},Xt={__name:"TransactionSummary",props:{subtotal:{type:Number,required:!0},itemCount:{type:Number,required:!0},barcode:{type:String,required:!0},isProcessing:{type:Boolean,default:!1},formProcessing:{type:Boolean,default:!1}},emits:["update:barcode","add-item","process-payment"],setup(p,{expose:s}){const m=q(null);ke(()=>{o()});const o=()=>{Ot(()=>{m.value&&m.value.focus()})};return s({focusOnBarcodeInput:o}),(n,f)=>(w(),O("div",td,[a("div",ld,[f[3]||(f[3]=a("span",{class:"text-weight-bold text-grey-8"},"GRAND TOTAL: Rp.",-1)),a("span",ad,u(t(z)(p.subtotal)),1)]),a("div",od,u(p.itemCount)+" item(s) ",1),a("div",nd,[e(Z,{ref_key:"barcodeInputRef",ref:m,"model-value":p.barcode,"onUpdate:modelValue":f[0]||(f[0]=r=>n.$emit("update:barcode",r)),placeholder:"Qty*Kode*Harga",outlined:"",class:"col bg-white",onKeyup:f[1]||(f[1]=Yt(r=>n.$emit("add-item"),["enter"])),loading:p.isProcessing,clearable:"",autofocus:""},{prepend:l(()=>[e(T,{name:"qr_code_scanner"})]),_:1},8,["model-value","loading"])]),a("div",sd,[e(R,{class:"full-width",label:"Bayar",color:"primary",icon:"payment",onClick:f[2]||(f[2]=r=>n.$emit("process-payment")),disable:p.itemCount===0,loading:p.formProcessing},null,8,["disable","loading"])])]))}},rd=Object.freeze(Object.defineProperty({__proto__:null,default:Xt},Symbol.toStringTag,{value:"Module"})),Zt={__name:"CustomerEditorDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","save"],setup(p,{emit:s}){const m=s,o=q(""),n=q(""),f=()=>{m("save",{name:o.value,address:n.value})};return(r,i)=>(w(),E(_t,{"model-value":p.modelValue,"onUpdate:modelValue":i[2]||(i[2]=c=>r.$emit("update:modelValue",c)),persistent:""},{default:l(()=>[e(ie,{style:{width:"400px"}},{default:l(()=>[e(le,{class:"q-py-none q-pt-lg"},{default:l(()=>i[3]||(i[3]=[a("div",{class:"text-bold text-grey-8"},"Edit Info Pelanggan",-1)])),_:1}),e(le,null,{default:l(()=>[e(Z,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=c=>o.value=c),label:"Nama Pelanggan"},null,8,["modelValue"]),e(Z,{modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=c=>n.value=c),label:"Alamat",type:"textarea",autogrow:"",counter:"",maxlength:"200",class:"q-mt-md","hide-bottom-space":""},null,8,["modelValue"])]),_:1}),e(ut,{align:"right"},{default:l(()=>[K(e(R,{flat:"",label:"Batal",color:"primary"},null,512),[[se]]),K(e(R,{flat:"",label:"Simpan",color:"primary",onClick:f},null,512),[[se]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},id=Object.freeze(Object.defineProperty({__proto__:null,default:Zt},Symbol.toStringTag,{value:"Module"})),ud={class:"q-gutter-sm"},dd={class:"row col grow"},md={class:"col-12 q-pa-sm column"},cd={class:"row"},pd={class:"col-xs-12 col-md-8 q-pa-sm"},fd={class:"col-md-4 col-xs-12 q-pa-sm"},gd={key:0,class:"text-center q-mb-md text-grey-8"},bd={class:"text-subtitle1 text-weight-medium"},_d={key:0,class:"text-body1"},vd={class:"text-h4 text-center text-primary q-pb-md"},yd={class:"row q-col-gutter-sm justify-center"},wd={class:"col-12"},kd={class:"col-12"},Ol="Penjualan",hd={__name:"Editor.bak",setup(p){const s=_e(),m=pe(),o=q(null),n=Se({id:null,formatted_id:"Diisi Otomatis",customer_name:"Pelanggan Umum",datetime:Ge().format("YYYY-MM-DD HH:mm:ss"),status:"pending",payment_status:"unpaid",items:[],subtotal:0,tax:0,total:0,notes:""}),f=q(""),r=q(!1),i=q(!1),c=q(null),v=q(!1),y=q(!1),S=q(null),d=q(null),b=ee(()=>s.screen.gt.sm?[{name:"name",required:!0,label:"Item Information",align:"left",field:"name",sortable:!1,style:"width: 300px"},{name:"subtotal",label:"Subtotal",align:"right",field:"subtotal",sortable:!1,style:"width: 120px"},{name:"action",label:"Action",align:"center",sortable:!1,style:"width: 80px"}]:[{name:"name",required:!0,label:"Item",align:"left",field:"name",sortable:!1},{name:"subtotal",label:"Total",align:"right",sortable:!1},{name:"action",label:"Aksi",align:"center",sortable:!1}]),P=ee(()=>{const k=n.items.reduce((h,$)=>h+$.price*$.quantity,0);return n.subtotal=k,n.total=k+n.tax,k}),_=async()=>{var A;if(!f.value.trim()){s.notify({message:"Silakan masukkan barcode",color:"warning",position:"top"});return}let k=1,h=f.value.trim(),$=null;const V=h.split("*");if(V.length===3){const Q=parseInt(V[0]),te=parseFloat(V[2]);!isNaN(Q)&&Q>0?k=Q:s.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"top"}),!isNaN(te)&&te>=0?$=te:s.notify({message:"Harga tidak valid. Menggunakan harga produk default.",color:"warning",position:"top"}),h=V[1]}else if(V.length===2){const Q=parseInt(V[0]);!isNaN(Q)&&Q>0?k=Q:s.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"top"}),h=V[1]}const L=n.items.findIndex(Q=>Q.barcode===h);if(L!==-1)n.items[L].quantity+=k,s.notify({message:`Quantity ${n.items[L].name} bertambah ${k}`,color:"positive",position:"top"});else{r.value=!0;try{await new Promise(Y=>setTimeout(Y,300));const te={...{id:Date.now(),name:`Item ${h}`,barcode:h,price:$!==null?$:Math.floor(Math.random()*5e4)+1e4},quantity:k};n.items.push(te),s.notify({message:`${te.name} berhasil ditambahkan`,color:"positive",position:"top",icon:"add_shopping_cart"})}catch(Q){console.error("Error fetching item:",Q),s.notify({message:"Item tidak ditemukan atau gagal menambahkan item",color:"negative",position:"top"})}finally{r.value=!1}}f.value="",await Ot(),(A=o.value)==null||A.focusOnBarcodeInput()},H=k=>{s.dialog({title:"Hapus Item",message:`Apakah Anda yakin akan menghapus item${k.barcode}?`,cancel:{label:"Batal",color:"grey"},ok:{label:"Hapus",color:"negative"},persistent:!0}).onOk(()=>{const h=n.items.findIndex($=>$.id===k.id);if(h!==-1){const $=n.items.splice(h,1)[0];s.notify({message:`${$.name} dihapus dari keranjang`,color:"info",position:"top",icon:"remove_shopping_cart"})}})},M=(k,h)=>{const $=n.items.find(V=>V.id===k);$&&h>0&&($.quantity=parseInt(h)||1)},x=async()=>{if(n.items.length===0){s.notify({message:"Tidak ada item dalam keranjang",color:"warning",position:"top"});return}await I(),y.value=!0},I=async()=>{try{S.value=n.customer_name==="Pelanggan Umum"?"Pelanggan Umum":"Nama Santri Demo",d.value=Math.floor(Math.random()*5e5)+1e4}catch(k){console.error("Gagal mengambil data santri:",k),S.value="Data tidak ditemukan",d.value=0}},C=k=>{n.items.length!==0&&(n.datetime=Ge().format("YYYY-MM-DD HH:mm:ss"),n.status="completed",n.payment_status=k==="wallet"?"paid_wallet":"paid_cash",Ce({form:n,url:route("admin.transaction.save")}))};return(k,h)=>{const $=j("i-head"),V=j("ConfirmDeleteDialog"),L=j("authenticated-layout");return w(),O(W,null,[e($,{title:Ol}),e(L,null,{title:l(()=>[g(u(Ol))]),"left-button":l(()=>[a("div",ud,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:h[0]||(h[0]=A=>t(F).get(k.route("admin.sales-order.index")))})])]),default:l(()=>[e(ye,{class:"bg-grey-2 q-pa-sm column fit"},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"full-width col column"},{default:l(()=>[e(Jt,{user:t(m).props.auth.user,company:t(m).props.company,onEditCustomer:h[1]||(h[1]=A=>v.value=!0)},null,8,["user","company"]),a("div",dd,[a("div",md,[e(Gt,{items:t(n).items,columns:b.value,onUpdateQuantity:h[2]||(h[2]=({id:A,value:Q})=>M(A,Q)),onRemoveItem:H},null,8,["items","columns"])])]),a("div",cd,[a("div",pd,[a("table",null,[a("tr",null,[h[11]||(h[11]=a("td",null,"#",-1)),h[12]||(h[12]=a("td",null,":",-1)),a("td",null,u(t(m).props.data.formatted_id),1)]),a("tr",null,[h[13]||(h[13]=a("td",null,"Status",-1)),h[14]||(h[14]=a("td",null,":",-1)),a("td",null,u(t(m).props.data.status_label),1)]),a("tr",null,[h[15]||(h[15]=a("td",null,"Pembayaran",-1)),h[16]||(h[16]=a("td",null,":",-1)),a("td",null,u(t(m).props.data.payment_status_label),1)]),a("tr",null,[h[17]||(h[17]=a("td",null,"Pengiriman",-1)),h[18]||(h[18]=a("td",null,":",-1)),a("td",null,u(t(m).props.data.delivery_status_label),1)]),a("tr",null,[h[19]||(h[19]=a("td",null,"Catatan",-1)),h[20]||(h[20]=a("td",null,":",-1)),a("td",null,[e(R,{color:"grey",flat:"",size:"sm",dense:"",rounded:"",small:"",icon:"notes"})])])])]),a("div",fd,[e(Xt,{ref_key:"transactionSummaryRef",ref:o,barcode:f.value,"onUpdate:barcode":h[3]||(h[3]=A=>f.value=A),subtotal:P.value,"item-count":t(n).items.length,"is-processing":r.value,"form-processing":t(n).processing,onAddItem:h[4]||(h[4]=A=>_(f.value)),onProcessPayment:x},null,8,["barcode","subtotal","item-count","is-processing","form-processing"])])])]),_:1}),e(V,{modelValue:i.value,"onUpdate:modelValue":h[5]||(h[5]=A=>i.value=A),item:c.value,onConfirm:k.removeItem},null,8,["modelValue","item","onConfirm"]),e(Zt,{modelValue:v.value,"onUpdate:modelValue":h[6]||(h[6]=A=>v.value=A)},null,8,["modelValue"]),e(_t,{modelValue:y.value,"onUpdate:modelValue":h[10]||(h[10]=A=>y.value=A),persistent:""},{default:l(()=>[e(ie,{style:{"min-width":"350px"}},{default:l(()=>[e(le,null,{default:l(()=>h[21]||(h[21]=[a("div",{class:"text-h6 text-center"},"Pilih Metode Pembayaran",-1)])),_:1}),e(le,{class:"q-pt-none"},{default:l(()=>[S.value?(w(),O("div",gd,[a("div",bd,u(S.value),1),d.value!==null?(w(),O("div",_d," Saldo: Rp. "+u(t(z)(d.value)),1)):D("",!0)])):D("",!0),a("div",vd," Rp. "+u(t(z)(t(n).total)),1),a("div",yd,[a("div",wd,[e(R,{label:"Tunai",icon:"attach_money",color:"primary",class:"full-width",onClick:h[7]||(h[7]=A=>C("cash")),loading:t(n).processing,disable:t(n).processing},null,8,["loading","disable"])]),a("div",kd,[e(R,{label:"Dompet Santri",icon:"wallet",color:"green-6",class:"full-width",onClick:h[8]||(h[8]=A=>C("wallet")),loading:t(n).processing,disable:t(n).processing},null,8,["loading","disable"])])])]),_:1}),e(ut,{align:"right",class:"q-py-md"},{default:l(()=>[e(R,{flat:"",label:"Batal",color:"grey",onClick:h[9]||(h[9]=A=>y.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)}}},$d=tt(hd,[["__scopeId","data-v-ea2f6739"]]),Sd=Object.freeze(Object.defineProperty({__proto__:null,default:$d},Symbol.toStringTag,{value:"Module"})),xd={key:0,class:"text-center q-mb-md text-grey-8"},Cd={class:"text-subtitle1 text-weight-medium"},qd={key:0,class:"text-body1"},Vd={class:"text-h4 text-center text-primary q-pb-md"},Td={class:"row q-col-gutter-sm justify-center"},Pd={class:"col-12"},Id={class:"col-12"},ua={__name:"PaymentDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","accepted"],setup(p,{emit:s}){const m=s,o=n=>{m("accepted",{method:n})};return(n,f)=>(w(),E(_t,{"model-value":p.modelValue,"onUpdate:modelValue":f[3]||(f[3]=r=>n.$emit("update:modelValue",r)),persistent:""},{default:l(()=>[e(ie,{style:{"min-width":"350px"}},{default:l(()=>[e(le,null,{default:l(()=>f[4]||(f[4]=[a("div",{class:"text-h6 text-center"},"Pilih Metode Pembayaran",-1)])),_:1}),e(le,{class:"q-pt-none"},{default:l(()=>[n.studentName?(w(),O("div",xd,[a("div",Cd,u(n.studentName),1),n.walletBalance!==null?(w(),O("div",qd," Saldo: Rp. "+u(t(z)(n.walletBalance)),1)):D("",!0)])):D("",!0),a("div",Vd," Rp. "+u(t(z)(n.form.total)),1),a("div",Td,[a("div",Pd,[e(R,{label:"Tunai",icon:"attach_money",color:"primary",class:"full-width",onClick:f[0]||(f[0]=r=>o("cash")),loading:n.form.processing,disable:n.form.processing},null,8,["loading","disable"])]),a("div",Id,[e(R,{label:"Dompet Santri",icon:"wallet",color:"green-6",class:"full-width",onClick:f[1]||(f[1]=r=>o("wallet")),loading:n.form.processing,disable:n.form.processing},null,8,["loading","disable"])])])]),_:1}),e(ut,{align:"right",class:"q-py-md"},{default:l(()=>[e(R,{flat:"",label:"Batal",color:"grey",onClick:f[2]||(f[2]=r=>n.showPaymentDialog=!1)})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Md=Object.freeze(Object.defineProperty({__proto__:null,default:ua},Symbol.toStringTag,{value:"Module"})),Od={class:"q-ml-sm"},da={__name:"ConfirmDeleteDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,default:null}},emits:["update:modelValue","confirm"],setup(p){return(s,m)=>(w(),E(_t,{"model-value":p.modelValue,"onUpdate:modelValue":m[1]||(m[1]=o=>s.$emit("update:modelValue",o)),persistent:""},{default:l(()=>[e(ie,null,{default:l(()=>[e(le,{class:"row items-center"},{default:l(()=>{var o;return[e(rt,{icon:"delete",color:"negative","text-color":"white"}),a("span",Od,'Hapus item "'+u((o=p.item)==null?void 0:o.name)+'"?',1)]}),_:1}),e(ut,{align:"right"},{default:l(()=>[K(e(R,{flat:"",label:"Batal",color:"primary"},null,512),[[se]]),K(e(R,{flat:"",label:"Hapus",color:"negative",onClick:m[0]||(m[0]=o=>s.$emit("confirm"))},null,512),[[se]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Nd=Object.freeze(Object.defineProperty({__proto__:null,default:da},Symbol.toStringTag,{value:"Module"})),Rd={class:"q-gutter-sm"},Ad={class:"row col grow"},Ud={class:"col-12 q-pa-sm column"},Ed={class:"row"},Dd={class:"col-xs-12 col-md-8 q-pa-sm"},jd={class:"col-md-4 col-xs-12 q-pa-sm"},Nl="Penjualan",Bd={__name:"Editor",setup(p){const s=_e(),m=pe(),o=q(null),n=Se({id:m.props.data.id,formatted_id:m.props.data.formatted_id,customer_id:m.props.data.customer_id,datetime:m.props.data.datetime,status:m.props.data.status,payment_status:m.props.data.payment_status,delivery_status:m.props.data.delivery_status,subtotal:m.props.data.total_price,tax:m.props.data.tax,total:m.props.data.total,notes:m.props.data.notes,items:m.props.data.details??[]}),f=q(""),r=q(!1),i=q(!1),c=q(null),v=q(!1),y=q(!1),S=ee(()=>{const C=n.items.reduce((k,h)=>k+h.price*h.quantity,0);return n.subtotal=C,n.total=C+n.tax,C}),d=(C,k="info",h="top",$=null)=>{s.notify({message:C,color:k,position:h,icon:$})},b=C=>{d(C,"warning")},P=C=>isNaN(C)||C<=0?(b("Kuantitas tidak valid."),!1):!0,_=C=>isNaN(C)||C<0?(b("Harga tidak valid."),!1):!0,H=C=>!C||C.length==0?(b("Barcode tidak valid."),!1):!0,M=async()=>{var V;if(!f.value.trim()){b("Input tidak valid.");return}let C=1,k="",h=null;const $=f.value.trim().split("*");if($.length===1)k=$[0];else if($.length<=3)C=parseInt($[0]),k=$[1],$.length===3&&(h=parseFloat($[2]));else{b("Input tidak valid.");return}!H(k)&&!P(C)&&!_(h)||(r.value=!0,await kt.post(route("admin.sales-order.add-item"),{order_id:n.id,product_code:k,qty:C,price:h}).then(L=>{n.items.push(L.data.data),f.value=""}).catch(L=>{var A,Q;d((Q=(A=L.response)==null?void 0:A.data)==null?void 0:Q.message,"negative"),console.error("Gagal mengambil data produk:",L)}),r.value=!1,(V=o.value)==null||V.focusOnBarcodeInput())},x=C=>{s.dialog({title:"Hapus Item",message:`Apakah Anda yakin akan menghapus item${C.product_barcode}?`,cancel:{label:"Batal",color:"grey"},ok:{label:"Hapus",color:"negative"},persistent:!0}).onOk(()=>{r.value=!0,kt.post(route("admin.sales-order.remove-item"),{id:C.id}).then(k=>{const h=n.items.findIndex($=>$.id===C.id);h!==-1&&(n.items.splice(h,1)[0],s.notify({message:`Item no ${h+1} telah dihapus.`,color:"info",position:"top"}))}).catch(k=>{s.notify({message:"Gagal menghapus item.",color:"negative",position:"top"}),console.error(k)}).finally(()=>{r.value=!1})})},I=(C,k)=>{const h=n.items.find($=>$.id===C);h&&k>0&&(h.quantity=parseInt(k)||1)};return(C,k)=>{const h=j("i-head"),$=j("authenticated-layout");return w(),O(W,null,[e(h,{title:Nl}),e($,null,{title:l(()=>[g(u(Nl))]),"left-button":l(()=>[a("div",Rd,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:k[0]||(k[0]=V=>t(F).get(C.route("admin.sales-order.index")))})])]),default:l(()=>[e(ye,{class:"bg-grey-2 q-pa-sm column fit"},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"full-width col column"},{default:l(()=>[e(Jt,{user:t(m).props.auth.user,company:t(m).props.company,onEditCustomer:k[1]||(k[1]=V=>v.value=!0)},null,8,["user","company"]),a("div",Ad,[a("div",Ud,[e(Gt,{items:t(n).items,onUpdateQuantity:k[2]||(k[2]=({id:V,value:L})=>I(V,L)),onRemoveItem:x},null,8,["items"])])]),a("div",Ed,[a("div",Dd,[a("table",null,[a("tr",null,[k[8]||(k[8]=a("td",null,"#",-1)),k[9]||(k[9]=a("td",null,":",-1)),a("td",null,u(t(m).props.data.formatted_id),1)]),a("tr",null,[k[10]||(k[10]=a("td",null,"Status",-1)),k[11]||(k[11]=a("td",null,":",-1)),a("td",null,u(t(m).props.data.status_label),1)]),a("tr",null,[k[12]||(k[12]=a("td",null,"Pembayaran",-1)),k[13]||(k[13]=a("td",null,":",-1)),a("td",null,u(t(m).props.data.payment_status_label),1)]),a("tr",null,[k[14]||(k[14]=a("td",null,"Pengiriman",-1)),k[15]||(k[15]=a("td",null,":",-1)),a("td",null,u(t(m).props.data.delivery_status_label),1)]),a("tr",null,[k[16]||(k[16]=a("td",null,"Catatan",-1)),k[17]||(k[17]=a("td",null,":",-1)),a("td",null,[e(R,{color:"grey",flat:"",size:"sm",dense:"",rounded:"",small:"",icon:"notes"})])])])]),a("div",jd,[e(Xt,{ref_key:"transactionSummaryRef",ref:o,barcode:f.value,"onUpdate:barcode":k[3]||(k[3]=V=>f.value=V),subtotal:S.value,"item-count":t(n).items.length,"is-processing":r.value,"form-processing":t(n).processing,onAddItem:k[4]||(k[4]=V=>M(f.value)),onProcessPayment:C.processPayment},null,8,["barcode","subtotal","item-count","is-processing","form-processing","onProcessPayment"])])])]),_:1}),e(da,{modelValue:i.value,"onUpdate:modelValue":k[5]||(k[5]=V=>i.value=V),item:c.value,onConfirm:C.removeItem},null,8,["modelValue","item","onConfirm"]),e(Zt,{modelValue:v.value,"onUpdate:modelValue":k[6]||(k[6]=V=>v.value=V)},null,8,["modelValue"]),e(ua,{modelValue:y.value,"onUpdate:modelValue":k[7]||(k[7]=V=>y.value=V)},null,8,["modelValue"])]),_:1})]),_:1})],64)}}},Ld=tt(Bd,[["__scopeId","data-v-76a8c012"]]),zd=Object.freeze(Object.defineProperty({__proto__:null,default:Ld},Symbol.toStringTag,{value:"Module"})),Hd={__name:"SalesOrderStatusChip",props:{status:{type:String,required:!0}},setup(p){const s=window.CONSTANTS.SALES_ORDER_STATUSES,m={draft:"orange",closed:"green",canceled:"red"};return(o,n)=>(w(),E(Ht,{status:p.status,statuses:t(s),colors:m},null,8,["status","statuses"]))}},Yd={__name:"SalesOrderPaymentStatusChip",props:{status:{type:String,required:!0}},setup(p){const s=window.CONSTANTS.SALES_ORDER_PAYMENT_STATUSES,m={unpaid:"red",fully_paid:"green",partially_paid:"orange",refunded:"black"};return(o,n)=>(w(),E(Ht,{status:p.status,statuses:t(s),colors:m},null,8,["status","statuses"]))}},Fd={__name:"SalesOrderDeliveryStatusChip",props:{status:{type:String,required:!0}},setup(p){const s=window.CONSTANTS.SALES_ORDER_DELIVERY_STATUSES,m={not_sent:"grey",sent:"orange",received:"green",failed:"red"};return(o,n)=>(w(),E(Ht,{status:p.status,statuses:t(s),colors:m},null,8,["status","statuses"]))}},Kd={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Qd={class:"q-pa-sm"},Wd={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Jd={key:1},Gd={class:"flex justify-end"},Rl="Penjualan",Xd={__name:"Index",setup(p){const s=_e(),m=q(!1),o=q([]),n=q(!0),f=q(null),r=q(null),i=Be(r),c=Pt(),v=It(),y=[{label:"Semua Tahun",value:"all"},{label:`${c}`,value:c},...gt(c-2,c-1).reverse()],S=[{value:"all",label:"Semua Bulan"},...bt()],d=[{value:"all",label:"Semua Status"},...Pe(window.CONSTANTS.SALES_ORDER_STATUSES)],b=[{value:"all",label:"Semua Status"},...Pe(window.CONSTANTS.SALES_ORDER_PAYMENT_STATUSES)],P=[{value:"all",label:"Semua Status"},...Pe(window.CONSTANTS.SALES_ORDER_DELIVERY_STATUSES)],_=Ne({search:"",year:c,month:v,status:"all",payment_status:"all",delivery_status:"all",...Ie()}),H=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),M=[{name:"id",label:"Info Order",field:"id",align:"left",sortable:!0},{name:"customer_id",label:"Pelanggan",field:"customer_id",align:"left"},{name:"total",label:"Total",field:"total",align:"right"},{name:"action",align:"right"}];ke(()=>{$()});const x=A=>{if(A.status=="draft"){I(A);return}C(A)},I=A=>{F.get(route("admin.sales-order.edit",A.id))},C=A=>{F.get(route("admin.sales-order.detail",A.id))},k=A=>{Kl.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${A.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{kt.post(route("admin.sales-order.cancel",{id:A.id}),{id:A.id}).then(Q=>{const te=Q.data.data,Y=o.value.findIndex(U=>U.id===te.id);if(Y===-1){console.warn("Item tidak ditemukan di tabel.");return}o.value[Y].status="dibatalkan",s.notify({message:Q.data.message,position:"bottom"})}).catch(Q=>{var Y,U;const te=((U=(Y=Q.response)==null?void 0:Y.data)==null?void 0:U.message)||"Terjadi kesalahan saat membatalkan transaksi.";s.notify({message:te,color:"warning",position:"bottom"}),console.error(Q)})})},h=A=>ze({title:"Konfirmasi Penghapusan",message:`Hapus transaksi #${A.formatted_id}?`,url:route("admin.sales-order.delete",A.id),fetchItemsCallback:$,loading:n}),$=(A=null)=>{Me({pagination:H,filter:_,props:A,rows:o,url:route("admin.sales-order.data"),loading:n,tableRef:f})},V=()=>{$()},L=ee(()=>s.screen.gt.sm?M:M.filter(A=>A.name==="id"||A.name==="action"));return xe(()=>_.year,A=>{A===null&&(_.month=null)}),(A,Q)=>{const te=j("i-head"),Y=j("authenticated-layout");return w(),O(W,null,[e(te,{title:Rl}),e(Y,null,De({title:l(()=>[g(u(Rl))]),"right-button":l(()=>[e(R,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:Q[0]||(Q[0]=U=>m.value=!m.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:Q[1]||(Q[1]=U=>t(F).get(A.route("admin.sales-order.add")))})]),default:l(()=>[a("div",Qd,[e(we,{ref_key:"tableRef",ref:f,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:H.value,"onUpdate:pagination":Q[13]||(Q[13]=U=>H.value=U),filter:_.search,loading:n.value,columns:L.value,rows:o.value,"rows-per-page-options":[10,25,50],style:He({height:t(i)}),onRequest:$,"binary-state-sort":""},{loading:l(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":l(({icon:U,message:de,filter:qe})=>[a("div",Wd,[a("span",null,u(de)+" "+u(qe?" with term "+qe:""),1)])]),body:l(U=>[e(ve,{props:U,class:"cursor-pointer",onClick:G(de=>x(U.row),["prevent"])},{default:l(()=>[e(B,{key:"id",props:U,class:"wrap-column"},{default:l(()=>[a("div",null,"# "+u(U.row.formatted_id),1),a("div",null,[e(T,{class:"inline-icon",name:"calendar_today"}),g(u(t(Qe)(U.row.datetime)),1)]),t(s).screen.gt.sm?D("",!0):(w(),O(W,{key:0},[U.row.customer?(w(),E(pl,{key:0,href:A.route("admin.customer.detail",{id:U.row.customer.id}),onClick:Q[8]||(Q[8]=G(()=>{},["stop"]))},{default:l(()=>[g(u(U.row.customer.formatted_id)+" ",1),Q[14]||(Q[14]=a("br",null,null,-1)),g(" "+u(U.row.customer.name),1)]),_:2},1032,["href"])):D("",!0),a("div",null,"Rp. "+u(t(z)(U.row.total_price)),1),U.row.notes?(w(),O("div",Jd,[e(T,{name:"notes"}),g(" "+u(U.row.notes),1)])):D("",!0)],64)),a("div",null,[e(Hd,{status:U.row.status},null,8,["status"]),e(Yd,{status:U.row.payment_status},null,8,["status"]),e(Fd,{status:U.row.delivery_status},null,8,["status"])])]),_:2},1032,["props"]),e(B,{key:"customer_id",props:U,onClick:Q[10]||(Q[10]=G(()=>{},["stop"]))},{default:l(()=>[U.row.customer?(w(),E(pl,{key:0,href:A.route("admin.customer.detail",{id:U.row.customer.id}),onClick:Q[9]||(Q[9]=G(()=>{},["stop"]))},{default:l(()=>[g(u(U.row.customer.formatted_id)+" ",1),Q[15]||(Q[15]=a("br",null,null,-1)),g(" "+u(U.row.customer.name),1)]),_:2},1032,["href"])):D("",!0)]),_:2},1032,["props"]),e(B,{key:"total",props:U},{default:l(()=>[g(u(t(z)(U.row.total_price)),1)]),_:2},1032,["props"]),e(B,{key:"action",props:U,onClick:Q[12]||(Q[12]=G(()=>{},["stop"]))},{default:l(()=>[a("div",Gd,[e(R,{disabled:!t(Ye)(A.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:Q[11]||(Q[11]=G(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ve,{style:{width:"200px"}},{default:l(()=>[U.row.status!="draft"?K((w(),E(X,{key:0,onClick:G(de=>C(U.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"visibility"})]),_:1}),e(N,null,{default:l(()=>Q[16]||(Q[16]=[g(" Lihat ")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]]):D("",!0),K((w(),E(X,{onClick:G(de=>I(U.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"edit"})]),_:1}),e(N,null,{default:l(()=>[g(u(U.row.status=="draft"?"Edit":"Reopen"),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[ae],[se]]),U.row.status=="draft"?K((w(),E(X,{key:1,onClick:G(de=>k(U.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"cancel"})]),_:1}),e(N,null,{default:l(()=>Q[17]||(Q[17]=[g(" Batalkan ")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]]):D("",!0),e(Ke),K((w(),E(X,{onClick:G(de=>h(U.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>Q[18]||(Q[18]=[g(" Hapus ")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:l(()=>[a("div",Kd,[e(ne,{modelValue:_.year,"onUpdate:modelValue":[Q[2]||(Q[2]=U=>_.year=U),V],options:y,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),_.year!="all"?(w(),E(ne,{key:0,modelValue:_.month,"onUpdate:modelValue":[Q[3]||(Q[3]=U=>_.month=U),V],options:S,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:_.year===null},null,8,["modelValue","disable"])):D("",!0),e(ne,{modelValue:_.status,"onUpdate:modelValue":[Q[4]||(Q[4]=U=>_.status=U),V],options:d,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(ne,{modelValue:_.payment_status,"onUpdate:modelValue":[Q[5]||(Q[5]=U=>_.payment_status=U),V],options:b,label:"Status Pembayaran",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(ne,{modelValue:_.delivery_status,"onUpdate:modelValue":[Q[6]||(Q[6]=U=>_.delivery_status=U),V],options:P,label:"Status Pengiriman",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:_.search,"onUpdate:modelValue":Q[7]||(Q[7]=U=>_.search=U),placeholder:"Cari",clearable:""},{append:l(()=>[e(T,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Zd=Object.freeze(Object.defineProperty({__proto__:null,default:Xd},Symbol.toStringTag,{value:"Module"})),em={class:"q-gutter-sm"},tm={class:"col col-lg-6 q-pa-sm"},lm={key:0},am={class:"text-bold"},om={key:0},nm={class:"text-caption text-grey-8"},sm={key:1},Al="Buat Penyesuaian Stok",rm={__name:"Create",setup(p){const m=pe().props.products,o=q([]),n=Se({type:"stock_opname",datetime:Ge().format("YYYY-MM-DD HH:mm:ss"),notes:null,product_ids:[]}),f=[{name:"name",label:"Nama Produk",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"center",sortable:!1,format:(y,S)=>z(y)+" "+S.uom}],r=Pe(window.CONSTANTS.STOCKADJUSTMENT_TYPES),i=()=>{n.product_ids=o.value.map(y=>y.id),Ce({form:n,url:route("admin.stock-adjustment.create")})},c=_e(),v=ee(()=>c.screen.gt.sm?f:f.filter(y=>y.name==="name"));return(y,S)=>{const d=j("i-head"),b=j("authenticated-layout");return w(),O(W,null,[e(d,{title:Al}),e(b,null,{title:l(()=>[g(u(Al))]),"left-button":l(()=>[a("div",em,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:S[0]||(S[0]=P=>t(F).get(y.route("admin.stock-adjustment.index")))})])]),default:l(()=>[e(ye,{class:"row justify-center"},{default:l(()=>[a("div",tm,[e(Te,{class:"row",onSubmit:G(i,["prevent"]),onValidationError:t(Re)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-sm"},{default:l(()=>[S[6]||(S[6]=a("div",{class:"text-subtitle2"},[a("b",null,"Info Penyesuaian Stok")],-1)),e($t,{modelValue:t(n).datetime,"onUpdate:modelValue":S[1]||(S[1]=P=>t(n).datetime=P),label:"Waktu",error:!!t(n).errors.datetime,disable:t(n).processing,"error-message":t(n).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(ne,{modelValue:t(n).type,"onUpdate:modelValue":S[2]||(S[2]=P=>t(n).type=P),options:t(r),label:"Jenis Penyesuaian",class:"custom-select",error:!!t(n).errors.type,disable:t(n).processing,"map-options":"","emit-value":"","error-message":t(n).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","error-message"]),e(Z,{modelValue:t(n).notes,"onUpdate:modelValue":S[3]||(S[3]=P=>t(n).notes=P),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(n).processing,error:!!t(n).errors.notes,"error-message":t(n).errors.notes,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(le,null,{default:l(()=>[S[7]||(S[7]=a("div",{class:"text-subtitle2"},[a("b",null,"Pilih Produk")],-1)),e(we,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:v.value,rows:t(m),"binary-state-sort":"","hide-pagination":!0,dense:"","rows-per-page-options":[0],selection:"multiple",selected:o.value,"onUpdate:selected":S[4]||(S[4]=P=>o.value=P)},{"body-cell-name":l(P=>[e(B,{props:P},{default:l(()=>[t(c).screen.lt.md?(w(),O("div",lm,[a("div",am,u(P.row.name),1),P.row.category?(w(),O("div",om,u(P.row.category.name),1)):D("",!0),a("div",nm,u(t(z)(P.row.stock))+" "+u(P.row.uom),1)])):(w(),O("div",sm,u(P.row.name),1))]),_:2},1032,["props"])]),_:1},8,["columns","rows","selected"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"play_arrow",type:"submit",label:"Lanjutkan",color:"primary",disable:t(n).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(n).processing,onClick:S[5]||(S[5]=P=>t(F).get(y.route("admin.stock-adjustment.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},im=Object.freeze(Object.defineProperty({__proto__:null,default:rm},Symbol.toStringTag,{value:"Module"})),um={class:"q-gutter-sm"},dm={class:"row justify-center"},mm={class:"col col-lg-8 q-pa-sm"},cm={class:"row"},pm={class:"detail"},fm={key:0},gm={key:1},bm={class:"text-grey-9"},_m={__name:"Detail",setup(p){const s=pe(),m=`Rincian Penyesuaian Stok #${s.props.data.id}`,o=s.props.details,n=[{name:"no",label:"#",field:"no",align:"left"},{name:"product_name",label:"Nama Produk",field:"product_name",align:"left"},{name:"uom",label:"Satuan",field:"uom",align:"left"},{name:"old_quantity",label:"Stok Lama",field:"old_quantity",align:"right",format:i=>z(i)},{name:"new_quantity",label:"Stok Baru",field:"new_quantity",align:"right",format:i=>z(i)},{name:"balance",label:"Selisih Stok",field:"balance",align:"right",format:i=>z(i)},{name:"cost_balance",label:"Selisih Modal",field:"cost_balance",align:"right"},{name:"price_balance",label:"Selisih Harga",field:"price_balance",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}],f=_e(),r=ee(()=>f.screen.gt.sm?n:n.filter(i=>i.name==="no"));return(i,c)=>{const v=j("i-head"),y=j("i-link"),S=j("authenticated-layout");return w(),O(W,null,[e(v,{title:m}),e(S,null,{title:l(()=>[g(u(m))]),"left-button":l(()=>[a("div",um,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=d=>i.$inertia.get(i.route("admin.stock-adjustment.index")))})])]),default:l(()=>[a("div",dm,[a("div",mm,[a("div",cm,[e(ie,{square:"",flat:"",bordered:"",class:"q-card col"},{default:l(()=>[e(le,null,{default:l(()=>[c[21]||(c[21]=a("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Penyesuaian Stok ",-1)),a("table",pm,[a("tbody",null,[a("tr",null,[c[1]||(c[1]=a("td",{style:{width:"120px"}},"ID",-1)),c[2]||(c[2]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,"# "+u(t(s).props.data.id),1)]),a("tr",null,[c[3]||(c[3]=a("td",null,"Jenis",-1)),c[4]||(c[4]=a("td",null,":",-1)),a("td",null,u(i.$CONSTANTS.STOCKADJUSTMENT_TYPES[t(s).props.data.type]),1)]),a("tr",null,[c[5]||(c[5]=a("td",null,"Status",-1)),c[6]||(c[6]=a("td",null,":",-1)),a("td",null,u(i.$CONSTANTS.STOCKADJUSTMENT_STATUSES[t(s).props.data.status]),1)]),a("tr",null,[c[7]||(c[7]=a("td",null,"Waktu",-1)),c[8]||(c[8]=a("td",null,":",-1)),a("td",null,u(i.$dayjs(t(s).props.data.datetime).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)]),t(s).props.data.created_at?(w(),O("tr",fm,[c[10]||(c[10]=a("td",null,"Dibuat Oleh",-1)),c[11]||(c[11]=a("td",null,":",-1)),a("td",null,[t(s).props.data.created_by?(w(),O(W,{key:0},[e(y,{href:i.route("admin.user.detail",{id:t(s).props.data.created_by})},{default:l(()=>[g(u(t(s).props.data.created_by.username)+" - "+u(t(s).props.data.created_by.name),1)]),_:1},8,["href"]),c[9]||(c[9]=g(" - "))],64)):D("",!0),g(" "+u(i.$dayjs(new Date(t(s).props.data.created_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):D("",!0),t(s).props.data.updated_at?(w(),O("tr",gm,[c[13]||(c[13]=a("td",null,"Diperbarui oleh",-1)),c[14]||(c[14]=a("td",null,":",-1)),a("td",null,[t(s).props.data.updated_by?(w(),O(W,{key:0},[e(y,{href:i.route("admin.user.detail",{id:t(s).props.data.updated_by})},{default:l(()=>[g(u(t(s).props.data.updated_by.username)+" - "+u(t(s).props.data.updated_by.name),1)]),_:1},8,["href"]),c[12]||(c[12]=g(" - "))],64)):D("",!0),g(" "+u(i.$dayjs(new Date(t(s).props.data.updated_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):D("",!0),a("tr",null,[c[15]||(c[15]=a("td",null,"Total Modal",-1)),c[16]||(c[16]=a("td",null,":",-1)),a("td",null,[a("div",{class:be(t(s).props.data.total_cost<0?"text-red-10":t(s).props.data.total_cost>0?"text-green-10":"")}," Rp. "+u(t(z)(t(s).props.data.total_cost)),3)])]),a("tr",null,[c[17]||(c[17]=a("td",null,"Total Harga",-1)),c[18]||(c[18]=a("td",null,":",-1)),a("td",null,[a("div",{class:be(t(s).props.data.total_price<0?"text-red-10":t(s).props.data.total_price>0?"text-green-10":"")}," Rp. "+u(t(z)(t(s).props.data.total_price)),3)])]),a("tr",null,[c[19]||(c[19]=a("td",null,"Catatan",-1)),c[20]||(c[20]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.notes),1)])])])]),_:1}),e(le,null,{default:l(()=>[c[26]||(c[26]=a("div",{class:"text-subtitle1 text-bold text-grey-9 q-pt-md"}," Rincian ",-1)),e(we,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",dense:"",columns:r.value,rows:t(o),"hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-no":l(d=>[e(B,{props:d},{default:l(()=>[t(f).screen.lt.md?(w(),O(W,{key:1},[a("div",bm,[a("b",null,"#"+u(d.rowIndex+1),1),g(" - "+u(d.row.product_name),1)]),a("div",null,[g(" Stok Lama: "+u(t(z)(d.row.old_quantity))+" "+u(d.row.uom),1),c[23]||(c[23]=a("br",null,null,-1)),g(" Stok Baru: "+u(t(z)(d.row.new_quantity))+" "+u(d.row.uom),1),c[24]||(c[24]=a("br",null,null,-1)),a("div",{class:be(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},[g(" Selisih: "+u((d.row.balance>0?"+":"")+t(z)(d.row.balance))+" "+u(d.row.uom),1),c[22]||(c[22]=a("br",null,null,-1)),g(" (Rp. "+u(t(z)(d.row.subtotal_cost))+" / Rp. "+u(t(z)(d.row.subtotal_price))+") ",1)],2),c[25]||(c[25]=a("br",null,null,-1)),g(" "+u(d.row.notes),1)])],64)):(w(),O(W,{key:0},[g(u(d.rowIndex+1),1)],64))]),_:2},1032,["props"])]),"body-cell-balance":l(d=>[e(B,{props:d},{default:l(()=>[a("div",{class:be(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},u((d.row.balance>0?"+":"")+t(z)(d.row.balance)),3)]),_:2},1032,["props"])]),"body-cell-cost_balance":l(d=>[e(B,{props:d},{default:l(()=>[a("div",{class:be(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},u(t(z)(d.row.subtotal_cost)),3)]),_:2},1032,["props"])]),"body-cell-price_balance":l(d=>[e(B,{props:d},{default:l(()=>[a("div",{class:be(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},u(t(z)(d.row.subtotal_price)),3)]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1})]),_:1})])])])]),_:1})],64)}}},vm=Object.freeze(Object.defineProperty({__proto__:null,default:_m},Symbol.toStringTag,{value:"Module"})),ym={class:"q-gutter-sm"},wm={class:"col col-lg-6 q-pa-sm"},km={class:"text-bold"},hm={key:0},$m={class:"text-caption text-grey-8"},Ul="Penyesuaian Stok",Sm={__name:"Editor",setup(p){const s=pe(),m=Se({id:s.props.item.id,type:s.props.item.type,datetime:Ge(s.props.item.datetime).format("YYYY-MM-DD HH:mm:ss"),notes:s.props.item.notes,action:"save",details:[]}),o=Pe(window.CONSTANTS.STOCKADJUSTMENT_TYPES),n=s.props.details,f=v=>{const y=()=>{m.action=v,m.details=n.map(S=>({id:S.id,new_quantity:S.new_quantity})),Ce({form:m,url:route("admin.stock-adjustment.save")})};v==="close"||v==="cancel"?Kl.create({title:"Konfirmasi",message:"Aksi ini tidak dapat dibatalkan, apakah Anda yakin?",cancel:!0,persistent:!0}).onOk(()=>{y()}).onCancel(()=>{}):y()},r=[{name:"product_name",label:"Nama Produk",field:"product_name",align:"left",sortable:!0},{name:"uom",label:"Satuan",field:"uom",align:"center"},{name:"old_quantity",label:"Tercatat",field:"old_quantity",align:"right",format:v=>z(v)},{name:"new_quantity",label:"Aktual",field:"new_quantity",align:"right",format:v=>z(v)},{name:"balance",label:"Selisih",field:"balance",align:"right",format:(v,y)=>z(y.new_quantity-y.old_quantity)}],i=_e(),c=ee(()=>i.screen.gt.sm?r:r.filter(v=>v.name==="product_name"||v.name==="new_quantity"));return(v,y)=>{const S=j("i-head"),d=j("authenticated-layout");return w(),O(W,null,[e(S,{title:Ul}),e(d,null,{title:l(()=>[g(u(Ul))]),"left-button":l(()=>[a("div",ym,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:y[0]||(y[0]=b=>v.$inertia.get(v.route("admin.stock-adjustment.index")))})])]),default:l(()=>[e(ye,{class:"row justify-center"},{default:l(()=>[a("div",wm,[e(Te,{class:"row",onSubmit:G(f,["prevent"]),onValidationError:t(Re)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,null,{default:l(()=>y[8]||(y[8]=[a("div",{class:"text-subtitle1"},"Info Penyesuaian",-1)])),_:1}),e(le,{class:"q-pt-none"},{default:l(()=>[K(a("input",{type:"hidden",name:"id","onUpdate:modelValue":y[1]||(y[1]=b=>t(m).id=b)},null,512),[[Fe,t(m).id]]),e($t,{modelValue:t(m).datetime,"onUpdate:modelValue":y[2]||(y[2]=b=>t(m).datetime=b),label:"Waktu",error:!!t(m).errors.datetime,disable:t(m).processing,"error-message":t(m).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(ne,{modelValue:t(m).type,"onUpdate:modelValue":y[3]||(y[3]=b=>t(m).type=b),options:t(o),label:"Jenis Penyesuaian",class:"custom-select",error:!!t(m).errors.type,disable:t(m).processing,"map-options":"","emit-value":"","error-message":t(m).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","error-message"]),e(Z,{modelValue:t(m).notes,"onUpdate:modelValue":y[4]||(y[4]=b=>t(m).notes=b),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(m).processing,error:!!t(m).errors.notes,"error-message":t(m).errors.notes,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(le,null,{default:l(()=>[e(we,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:c.value,rows:t(n),"binary-state-sort":"","hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-product_name":l(b=>[e(B,{props:b},{default:l(()=>[a("div",km,u(b.row.product_name),1),t(i).screen.lt.md?(w(),O("div",hm,[a("div",$m,[g(" Tercatat: "+u(t(z)(b.row.old_quantity))+" ",1),y[9]||(y[9]=a("br",null,null,-1)),g(" Selisih: "+u(t(z)(b.row.new_quantity-b.row.old_quantity)),1)])])):D("",!0)]),_:2},1032,["props"])]),"body-cell-new_quantity":l(b=>[e(B,{props:b},{default:l(()=>[e(Z,{modelValue:b.row[b.col.name],"onUpdate:modelValue":P=>b.row[b.col.name]=P,modelModifiers:{number:!0},"input-class":"text-right",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",onClick:y[5]||(y[5]=b=>f("save")),label:"Simpan",color:"primary",disable:t(m).processing},null,8,["disable"]),e(R,{icon:"done_all",onClick:y[6]||(y[6]=b=>f("close")),label:"Selesaikan",color:"green",disable:t(m).processing},null,8,["disable"]),e(R,{icon:"close",onClick:y[7]||(y[7]=b=>f("cancel")),label:"Batalkan",color:"red",disable:t(m).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},xm=Object.freeze(Object.defineProperty({__proto__:null,default:Sm},Symbol.toStringTag,{value:"Module"})),Cm={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},qm={class:"q-pa-sm"},Vm={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Tm={key:0,class:"flex q-gutter-xs"},Pm={class:"flex q-col-gutter-xs"},Im={key:0},Mm={key:1},Om={class:"flex justify-end"},El="Penyesuaian Stok",Nm={__name:"Index",setup(p){const s=q([]),m=q(!0),o=q(!1),n=q(null),f=q(null),r=Be(f),i=Ne({search:"",status:"all",type:"all",...Ie()}),c=[{value:"all",label:"Semua"},...Pe(window.CONSTANTS.STOCKADJUSTMENT_STATUSES)],v=[{value:"all",label:"Semua"},...Pe(window.CONSTANTS.STOCKADJUSTMENT_TYPES)],y=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),S=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"status",label:"Status",field:"status",align:"center",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!1},{name:"total_cost",label:"Total Modal",field:"total_cost",align:"right",sortable:!1},{name:"total_price",label:"Total Harga",field:"total_price",align:"right",sortable:!1},{name:"notes",label:"Notes",field:"notes",align:"left",sortable:!1},{name:"action",align:"right"}];ke(()=>{b()});const d=x=>ze({message:`Hapus Transaksi #${x.id}?`,url:route("admin.stock-adjustment.delete",x.id),fetchItemsCallback:b,loading:m}),b=(x=null)=>Me({pagination:y,filter:i,props:x,rows:s,url:route("admin.stock-adjustment.data"),loading:m,tableRef:n}),P=()=>{b()},_=x=>{x.status=="draft"?F.get(route("admin.stock-adjustment.editor",x.id)):F.get(route("admin.stock-adjustment.detail",x.id))},H=_e(),M=ee(()=>H.screen.gt.sm?S:S.filter(x=>x.name==="id"||x.name==="action"));return(x,I)=>{const C=j("i-head"),k=j("authenticated-layout");return w(),O(W,null,[e(C,{title:El}),e(k,null,De({"right-button":l(()=>[e(R,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:I[0]||(I[0]=h=>o.value=!o.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:I[1]||(I[1]=h=>t(F).get(x.route("admin.stock-adjustment.create")))})]),title:l(()=>[g(u(El))]),default:l(()=>[a("div",qm,[e(we,{ref_key:"tableRef",ref:n,flat:"",bordered:"",square:"",color:"primary",class:"full-height-table stock-adjustment-list","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":I[6]||(I[6]=h=>y.value=h),filter:i.search,loading:m.value,columns:M.value,rows:s.value,"rows-per-page-options":[10,25,50],style:He({height:t(r)}),onRequest:b,"binary-state-sort":""},{loading:l(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":l(({icon:h,message:$,filter:V})=>[a("div",Vm,[a("span",null,u($)+" "+u(V?" with term "+V:""),1)])]),body:l(h=>[e(ve,{props:h,onClick:$=>_(h.row),class:"cursor-pointer"},{default:l(()=>[e(B,{key:"id",props:h},{default:l(()=>[t(H).screen.lt.md?(w(),O(W,{key:1},[a("div",Pm,[a("div",null,[a("b",null,"#"+u(h.row.id),1)]),a("div",null,[e(T,{name:"history"}),g(" "+u(x.$dayjs(new Date(h.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),e(Ua,{dense:"",size:"sm",color:h.row.status==="draft"?"orange":h.row.status==="closed"?"green":h.row.status==="canceled"?"red":"",icon:h.row.status==="draft"?"emergency":h.row.status==="closed"?"check":h.row.status==="canceled"?"close":""},{default:l(()=>[g(u(x.$CONSTANTS.STOCKADJUSTMENT_STATUSES[h.row.status]),1)]),_:2},1032,["color","icon"])]),a("div",null,[e(T,{name:"category"}),g(" "+u(x.$CONSTANTS.STOCKADJUSTMENT_TYPES[h.row.type]),1)]),h.row.created_by?(w(),O("div",Im,[e(T,{name:"person"}),I[7]||(I[7]=g(" Dibuat: ")),a("b",null,u(h.row.created_by.username),1),e(T,{name:"history"}),g(" "+u(x.$dayjs(new Date(h.row.created_at)).format("DD/MM/YYYY HH:mm")),1)])):D("",!0),h.row.updated_by?(w(),O("div",Mm,[e(T,{name:"person"}),I[8]||(I[8]=g(" Diperbarui: ")),a("b",null,u(h.row.updated_by.username),1),e(T,{name:"history"}),g(" "+u(x.$dayjs(new Date(h.row.updated_at)).format("DD/MM/YYYY HH:mm")),1)])):D("",!0),a("div",{class:be(h.row.total_cost<0?"text-red-10":h.row.total_cost>0?"text-green-10":"")},[e(T,{name:"money"}),g(" Rp. "+u(t(z)(h.row.total_cost))+" / Rp. "+u(t(z)(h.row.total_price)),1)],2)],64)):(w(),O("div",Tm,[a("div",null,[a("b",null,"#"+u(h.row.id),1)])]))]),_:2},1032,["props"]),e(B,{key:"datetime",props:h},{default:l(()=>[g(u(x.$dayjs(new Date(h.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),_:2},1032,["props"]),e(B,{key:"status",props:h,class:"text-center"},{default:l(()=>[g(u(x.$CONSTANTS.STOCKADJUSTMENT_STATUSES[h.row.status]),1)]),_:2},1032,["props"]),e(B,{key:"type",props:h},{default:l(()=>[g(u(x.$CONSTANTS.STOCKADJUSTMENT_TYPES[h.row.type]),1)]),_:2},1032,["props"]),e(B,{key:"total_cost",props:h},{default:l(()=>[a("div",{class:be(h.row.total_cost<0?"text-red-10":h.row.total_cost>0?"text-green-10":"")},u(t(z)(h.row.total_cost)),3)]),_:2},1032,["props"]),e(B,{key:"total_price",props:h},{default:l(()=>[a("div",{class:be(h.row.total_price<0?"text-red-10":h.row.total_price>0?"text-green-10":"")},u(t(z)(h.row.total_price)),3)]),_:2},1032,["props"]),e(B,{key:"notes",props:h},{default:l(()=>[g(u(h.row.notes),1)]),_:2},1032,["props"]),e(B,{key:"action",props:h},{default:l(()=>[a("div",Om,[e(R,{icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:I[5]||(I[5]=G(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ve,{style:{width:"200px"}},{default:l(()=>[K((w(),E(X,{onClick:G($=>d(h.row),["stop"]),clickable:"",disabled:!t(Ye)(x.$CONSTANTS.USER_ROLE_ADMIN)},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>I[9]||(I[9]=[g("Hapus")])),_:1})]),_:2},1032,["onClick","disabled"])),[[ae],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:f},{default:l(()=>[a("div",Cm,[e(ne,{modelValue:i.status,"onUpdate:modelValue":[I[2]||(I[2]=h=>i.status=h),P],options:c,label:"Status",dense:"","map-options":"",class:"custom-select col-xs-12 col-sm-2","emit-value":"",outlined:""},null,8,["modelValue"]),e(ne,{modelValue:i.type,"onUpdate:modelValue":[I[3]||(I[3]=h=>i.type=h),P],options:v,label:"Jenis",dense:"",class:"custom-select col-xs-12 col-sm-2","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:i.search,"onUpdate:modelValue":I[4]||(I[4]=h=>i.search=h),placeholder:"Cari",clearable:""},{append:l(()=>[e(T,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Rm=Object.freeze(Object.defineProperty({__proto__:null,default:Nm},Symbol.toStringTag,{value:"Module"})),Am={class:"q-gutter-sm"},Um={class:"q-gutter-sm"},Em={class:"col col-lg-6 q-pa-sm"},Dm={class:"row"},jm={class:"detail"},Dl="Rincian Pemasok",Bm={__name:"Detail",setup(p){const s=pe();return(m,o)=>{const n=j("i-head"),f=j("authenticated-layout");return w(),O(W,null,[e(n,{title:Dl}),e(f,null,{title:l(()=>[g(u(Dl))]),"left-button":l(()=>[a("div",Am,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=r=>t(F).get(m.route("admin.supplier.index")))})])]),"right-button":l(()=>[a("div",Um,[e(R,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=r=>t(F).get(m.route("admin.supplier.edit",{id:t(s).props.data.id})))})])]),default:l(()=>[e(ye,{class:"row justify-center"},{default:l(()=>[a("div",Em,[a("div",Dm,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,null,{default:l(()=>[o[14]||(o[14]=a("div",{class:"text-subtitle1 text-bold text-grey-8"}," Info Pemasok ",-1)),a("table",jm,[a("tbody",null,[a("tr",null,[o[2]||(o[2]=a("td",{style:{width:"70px"}},"Nama",-1)),o[3]||(o[3]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,u(t(s).props.data.name),1)]),a("tr",null,[o[4]||(o[4]=a("td",null,"Telepon",-1)),o[5]||(o[5]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.phone),1)]),a("tr",null,[o[6]||(o[6]=a("td",null,"Alamat",-1)),o[7]||(o[7]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.address),1)]),a("tr",null,[o[8]||(o[8]=a("td",null,"No. Rek",-1)),o[9]||(o[9]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.bank_account_number),1)]),a("tr",null,[o[10]||(o[10]=a("td",null,"Alamat Return",-1)),o[11]||(o[11]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.return_address),1)]),a("tr",null,[o[12]||(o[12]=a("td",null,"Status",-1)),o[13]||(o[13]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.active?"Aktif":"Tidak Aktif"),1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Lm=Object.freeze(Object.defineProperty({__proto__:null,default:Bm},Symbol.toStringTag,{value:"Module"})),zm={class:"q-gutter-sm"},Hm={class:"col col-lg-6 q-pa-sm"},Ym={style:{"margin-left":"-10px"}},Fm={__name:"Editor",setup(p){const s=pe(),m=(s.props.data.id?"Edit":"Tambah")+" Pemasok",o=Se({id:s.props.data.id,name:s.props.data.name,phone:s.props.data.phone,address:s.props.data.address,bank_account_number:s.props.data.bank_account_number,return_address:s.props.data.return_address,active:!!s.props.data.active}),n=()=>Ce({form:o,url:route("admin.supplier.save")});return(f,r)=>{const i=j("i-head"),c=j("authenticated-layout");return w(),O(W,null,[e(i,{title:m}),e(c,null,{title:l(()=>[g(u(m))]),"left-button":l(()=>[a("div",zm,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=v=>t(F).get(f.route("admin.supplier.index")))})])]),default:l(()=>[e(ye,{class:"row justify-center"},{default:l(()=>[a("div",Hm,[e(Te,{class:"row",onSubmit:G(n,["prevent"]),onValidationError:t(Re)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,null,{default:l(()=>r[9]||(r[9]=[a("div",{class:"text-subtitle1"},"Info Supplier",-1)])),_:1}),e(le,{class:"q-pt-none"},{default:l(()=>[K(a("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=v=>t(o).id=v)},null,512),[[Fe,t(o).id]]),e(Z,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=v=>t(o).name=v),modelModifiers:{trim:!0},label:"Nama","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[v=>v&&v.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Z,{modelValue:t(o).phone,"onUpdate:modelValue":r[3]||(r[3]=v=>t(o).phone=v),modelModifiers:{trim:!0},type:"text",label:"No HP","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.phone,"error-message":t(o).errors.phone,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(Z,{modelValue:t(o).address,"onUpdate:modelValue":r[4]||(r[4]=v=>t(o).address=v),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.address,"error-message":t(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(Z,{modelValue:t(o).bank_account_number,"onUpdate:modelValue":r[5]||(r[5]=v=>t(o).bank_account_number=v),modelModifiers:{trim:!0},type:"text",label:"No Rek","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.bank_account_number,"error-message":t(o).errors.bank_account_number,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(Z,{modelValue:t(o).return_address,"onUpdate:modelValue":r[6]||(r[6]=v=>t(o).return_address=v),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat Return","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.return_address,"error-message":t(o).errors.return_address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),a("div",Ym,[e(ht,{class:"full-width q-pl-none",modelValue:t(o).active,"onUpdate:modelValue":r[7]||(r[7]=v=>t(o).active=v),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"])])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[8]||(r[8]=v=>t(F).get(f.route("admin.supplier.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Km=Object.freeze(Object.defineProperty({__proto__:null,default:Fm},Symbol.toStringTag,{value:"Module"})),Qm={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Wm={class:"q-pa-sm"},Jm={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Gm={class:"flex justify-end"},jl="Pemasok",Xm={__name:"Index",setup(p){const s=_e(),m=q(!1),o=q([]),n=q(!0),f=q(null),r=q(null),i=Be(r),c=Ne({search:"",status:"active",...Ie()}),v=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"phone",label:"No HP",field:"phone",align:"left",sortable:!0},{name:"address",label:"Alamat",field:"address",align:"left",sortable:!0},{name:"bank_account_number",label:"No Rek",field:"bank_account_number",align:"left",sortable:!0},{name:"action",align:"right"}],S=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];ke(()=>{b()});const d=M=>ze({message:`Hapus pemasok ${M.name}?`,url:route("admin.supplier.delete",M.id),fetchItemsCallback:b,loading:n}),b=(M=null)=>{Me({pagination:v,filter:c,props:M,rows:o,url:route("admin.supplier.data"),loading:n,tableRef:f})},P=()=>b(),_=M=>F.get(route("admin.supplier.detail",{id:M.id})),H=ee(()=>s.screen.gt.sm?y:y.filter(M=>M.name==="name"||M.name==="action"));return(M,x)=>{const I=j("i-head"),C=j("authenticated-layout");return w(),O(W,null,[e(I,{title:jl}),e(C,null,De({title:l(()=>[g(u(jl))]),"right-button":l(()=>[e(R,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:x[0]||(x[0]=k=>m.value=!m.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:x[1]||(x[1]=k=>t(F).get(M.route("admin.supplier.add")))})]),default:l(()=>[a("div",Wm,[e(we,{class:"full-height-table",ref_key:"tableRef",ref:f,s:"",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":x[5]||(x[5]=k=>v.value=k),filter:c.search,loading:n.value,columns:H.value,rows:o.value,"rows-per-page-options":[10,25,50],style:He({height:t(i)}),onRequest:b,"binary-state-sort":""},{loading:l(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":l(({icon:k,message:h,filter:$})=>[a("div",Jm,[a("span",null,u(h)+" "+u($?" with term "+$:""),1)])]),body:l(k=>[e(ve,{props:k,class:be([k.row.active?"":"bg-red-1","cursor-pointer"]),onClick:h=>_(k.row)},{default:l(()=>[e(B,{key:"name",props:k,class:"wrap-column"},{default:l(()=>[a("div",null,[t(s).screen.lt.md?(w(),E(T,{key:0,name:"person"})):D("",!0),g(" "+u(k.row.name),1)]),t(s).screen.lt.md?(w(),O(W,{key:0},[a("div",null,[e(T,{name:"phone"}),g(" "+u(k.row.phone),1)]),a("div",null,[e(T,{name:"credit_card"}),g(" "+u(k.row.bank_account_number),1)]),a("div",null,[e(T,{name:"home_pin"}),g(" "+u(k.row.address),1)])],64)):D("",!0)]),_:2},1032,["props"]),e(B,{key:"phone",props:k},{default:l(()=>[g(u(k.row.phone),1)]),_:2},1032,["props"]),e(B,{key:"address",props:k},{default:l(()=>[g(u(k.row.address),1)]),_:2},1032,["props"]),e(B,{key:"bank_account_number",props:k},{default:l(()=>[g(u(k.row.bank_account_number),1)]),_:2},1032,["props"]),e(B,{key:"action",props:k},{default:l(()=>[a("div",Gm,[e(R,{disabled:!t(Ye)(M.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:x[4]||(x[4]=G(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ve,{style:{width:"200px"}},{default:l(()=>[K((w(),E(X,{clickable:"",onClick:G(h=>t(F).get(M.route("admin.supplier.duplicate",k.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:l(()=>x[6]||(x[6]=[g(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]]),K((w(),E(X,{clickable:"",onClick:G(h=>t(F).get(M.route("admin.supplier.edit",k.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:l(()=>x[7]||(x[7]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]]),K((w(),E(X,{onClick:G(h=>d(k.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>x[8]||(x[8]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:l(()=>[a("div",Qm,[e(ne,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:c.status,"onUpdate:modelValue":[x[2]||(x[2]=k=>c.status=k),P],options:S,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:c.search,"onUpdate:modelValue":x[3]||(x[3]=k=>c.search=k),placeholder:"Cari",clearable:""},{append:l(()=>[e(T,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Zm=Object.freeze(Object.defineProperty({__proto__:null,default:Xm},Symbol.toStringTag,{value:"Module"})),ec={class:"q-gutter-sm"},tc={class:"q-gutter-sm"},lc={class:"row justify-center"},ac={class:"col col-lg-6 q-pa-sm"},oc={class:"row"},nc={class:"detail"},sc={key:0},Bl="Rincian Pengguna",rc={__name:"Detail",setup(p){const s=pe();return(m,o)=>{const n=j("i-head"),f=j("authenticated-layout");return w(),O(W,null,[e(n,{title:Bl}),e(f,null,{title:l(()=>[g(u(Bl))]),"left-button":l(()=>[a("div",ec,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=r=>m.$inertia.get(m.route("admin.user.index")))})])]),"right-button":l(()=>[a("div",tc,[e(R,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=r=>m.$inertia.get(m.route("admin.user.edit",{id:t(s).props.data.id})))})])]),default:l(()=>[a("div",lc,[a("div",ac,[a("div",oc,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,null,{default:l(()=>[o[17]||(o[17]=a("div",{class:"text-subtitle1 text-bold text-grey-9"}," Profil Pengguna ",-1)),a("table",nc,[a("tbody",null,[a("tr",null,[o[2]||(o[2]=a("td",{style:{width:"125px"}},"ID Pengguna",-1)),o[3]||(o[3]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,u(t(s).props.data.username),1)]),a("tr",null,[o[4]||(o[4]=a("td",null,"Nama Pengguna",-1)),o[5]||(o[5]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.name),1)]),a("tr",null,[o[6]||(o[6]=a("td",null,"Hak Akses",-1)),o[7]||(o[7]=a("td",null,":",-1)),a("td",null,u(m.$CONSTANTS.USER_ROLES[t(s).props.data.role]),1)]),a("tr",null,[o[8]||(o[8]=a("td",null,"Dibuat",-1)),o[9]||(o[9]=a("td",null,":",-1)),a("td",null,u(m.$dayjs(t(s).props.data.created_at).format("DD MMMM YY HH:mm:ss")),1)]),a("tr",null,[o[10]||(o[10]=a("td",null,"Diperbarui",-1)),o[11]||(o[11]=a("td",null,":",-1)),a("td",null,u(m.$dayjs(t(s).props.data.updated_at).format("DD MMMM YY HH:mm:ss")),1)]),a("tr",null,[o[12]||(o[12]=a("td",null,"Terakhir login",-1)),o[13]||(o[13]=a("td",null,":",-1)),a("td",null,u(t(s).props.data.last_login_datetime?m.$dayjs(t(s).props.data.last_login_datetime).format("DD MMMM YYYY HH:mm:ss"):"Belum pernah login"),1)]),t(s).props.data.last_activity_datetime?(w(),O("tr",sc,[o[15]||(o[15]=a("td",null,"Aktifitas Terakhir",-1)),o[16]||(o[16]=a("td",null,":",-1)),a("td",null,[g(u(m.$dayjs(t(s).props.data.last_activity_datetime).format("DD MMMM YYYY HH:mm:ss"))+" ",1),o[14]||(o[14]=a("br",null,null,-1)),g(u(t(s).props.data.last_activity_description),1)])])):D("",!0)])])]),_:1})]),_:1})])])])]),_:1})],64)}}},ic=Object.freeze(Object.defineProperty({__proto__:null,default:rc},Symbol.toStringTag,{value:"Module"}));function uc(p){return new RegExp("^(?=.{3,16}$)(?![_-])(?!.*[_-]{2})[a-zA-Z0-9_-]+(?<![_-])$").test(p)}const dc={class:"q-gutter-sm"},mc={class:"row justify-center"},cc={class:"col col-lg-6 q-pa-sm"},pc={__name:"Editor",setup(p){const s=Pe(window.CONSTANTS.USER_ROLES),m=pe(),o=m.props.data.id?"Edit Pengguna":"Tambah Pengguna",n=Se({id:m.props.data.id,name:m.props.data.name,username:m.props.data.username,password:"",role:m.props.data.role?m.props.data.role:s[0].value,active:!!m.props.data.active}),f=()=>Ce({form:n,url:route("admin.user.save")});return(r,i)=>{const c=j("i-head"),v=j("authenticated-layout");return w(),O(W,null,[e(c,{title:t(o)},null,8,["title"]),e(v,null,{title:l(()=>[g(u(t(o)),1)]),"left-button":l(()=>[a("div",dc,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=y=>r.$inertia.get(r.route("admin.user.index")))})])]),default:l(()=>[a("div",mc,[a("div",cc,[e(Te,{class:"row",onSubmit:G(f,["prevent"])},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[K(a("input",{type:"hidden",name:"id","onUpdate:modelValue":i[1]||(i[1]=y=>t(n).id=y)},null,512),[[Fe,t(n).id]]),e(Z,{modelValue:t(n).name,"onUpdate:modelValue":i[2]||(i[2]=y=>t(n).name=y),modelModifiers:{trim:!0},label:"Nama",error:!!t(n).errors.name,disable:t(n).processing,"error-message":t(n).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Z,{modelValue:t(n).username,"onUpdate:modelValue":i[3]||(i[3]=y=>t(n).username=y),modelModifiers:{trim:!0},type:"text",label:"ID Pengguna","lazy-rules":"",disable:t(n).processing,error:!!t(n).errors.username,"error-message":t(n).errors.username,rules:[y=>y&&y.length>0||"ID Pengguna harus diisi.",y=>t(uc)(y)||"ID Pengguna tidak valid."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(Z,{modelValue:t(n).password,"onUpdate:modelValue":i[4]||(i[4]=y=>t(n).password=y),type:"password",label:"Kata Sandi","lazy-rules":"",disable:t(n).processing,error:!!t(n).errors.password,"error-message":t(n).errors.password,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(ne,{modelValue:t(n).role,"onUpdate:modelValue":i[5]||(i[5]=y=>t(n).role=y),label:"Hak Akses",options:t(s),"map-options":"","emit-value":"","lazy-rules":"",disable:t(n).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!t(n).errors.role,"error-message":t(n).errors.role,"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"]),e(Ft,{modelValue:t(n).active,"onUpdate:modelValue":i[6]||(i[6]=y=>t(n).active=y),disable:t(n).processing,label:"Aktif"},null,8,["modelValue","disable"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(n).processing,onClick:f},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",class:"text-black",disable:t(n).processing,onClick:i[7]||(i[7]=y=>t(F).get(r.route("admin.user.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})],64)}}},fc=Object.freeze(Object.defineProperty({__proto__:null,default:pc},Symbol.toStringTag,{value:"Module"})),gc={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},bc={class:"q-pa-sm"},_c={class:"full-width row flex-center text-grey-8 q-gutter-sm"},vc={class:"elipsis",style:{"max-width":"200px"}},yc={class:"flex justify-end"},Ll="Pengguna",wc={__name:"Index",setup(p){const s=[{value:"all",label:"Semua"},...Pe(window.CONSTANTS.USER_ROLES)],m=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],o=pe(),n=_e(),f=o.props.auth.user,r=q([]),i=q(!0),c=q(!1),v=Ne({role:"all",status:"active",search:""}),y=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"username",descending:!1}),S=[{name:"username",label:"ID Pengguna",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"role",label:"Hak Akses",field:"role",align:"center",sortable:!0},{name:"action",align:"right"}];ke(()=>{b()});const d=()=>b(),b=(C=null)=>Me({pagination:y,props:C,rows:r,loading:i,filter:v,url:route("admin.user.data"),tableRef:M}),P=C=>ze({url:route("admin.user.delete",C.id),message:`Hapus pengguna ${C.username}?`,fetchItemsCallback:b,loading:i}),_=ee(()=>n.screen.gt.sm?S:S.filter(C=>C.name==="username"||C.name==="action")),H=C=>F.get(route("admin.user.detail",C.id)),M=q(null),x=q(null),I=Be(x);return(C,k)=>{const h=j("i-head"),$=j("authenticated-layout");return w(),O(W,null,[e(h,{title:Ll}),e($,null,De({title:l(()=>[g(u(Ll))]),"right-button":l(()=>[e(R,{icon:c.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:k[0]||(k[0]=V=>c.value=!c.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",color:"primary",class:"q-ml-sm",onClick:k[1]||(k[1]=V=>t(F).get(C.route("admin.user.add")))})]),default:l(()=>[a("div",bc,[e(we,{ref_key:"tableRef",ref:M,class:"full-height-table",style:He({height:t(I)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":k[6]||(k[6]=V=>y.value=V),filter:v.search,loading:i.value,columns:_.value,rows:r.value,"rows-per-page-options":[10,25,50],onRequest:b,"binary-state-sort":""},{loading:l(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":l(({icon:V,message:L,term:A})=>[a("div",_c,[a("span",null,u(L)+" "+u(A?" with term "+A:""),1)])]),body:l(V=>[e(ve,{props:V,class:be([V.row.active?"":"bg-red-1","cursor-pointer"]),onClick:L=>H(V.row)},{default:l(()=>[e(B,{key:"username",props:V},{default:l(()=>[a("div",null,u(V.row.username),1),t(n).screen.gt.sm?D("",!0):(w(),O(W,{key:0},[a("div",null,[e(T,{name:"person"}),g(" "+u(V.row.name),1)]),a("div",vc,[e(T,{name:"group"}),a("span",null,u(C.$CONSTANTS.USER_ROLES[V.row.role]),1)])],64))]),_:2},1032,["props"]),e(B,{key:"name",props:V},{default:l(()=>[g(u(V.row.name),1)]),_:2},1032,["props"]),e(B,{key:"role",props:V,align:"center"},{default:l(()=>[a("span",null,u(C.$CONSTANTS.USER_ROLES[V.row.role]),1)]),_:2},1032,["props"]),e(B,{key:"action",props:V},{default:l(()=>[a("div",yc,[e(R,{disable:V.row.id==t(f).id||V.row.username=="admin",icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:k[5]||(k[5]=G(()=>{},["stop"]))},{default:l(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ve,{style:{width:"200px"}},{default:l(()=>[K((w(),E(X,{clickable:"",onClick:G(L=>t(F).get(C.route("admin.user.duplicate",V.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"file_copy"})]),_:1}),e(N,{icon:"copy"},{default:l(()=>k[7]||(k[7]=[g(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]]),K((w(),E(X,{clickable:"",onClick:G(L=>t(F).get(C.route("admin.user.edit",V.row.id)),["stop"])},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"edit"})]),_:1}),e(N,{icon:"edit"},{default:l(()=>k[8]||(k[8]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]]),K((w(),E(X,{onClick:G(L=>P(V.row),["stop"]),clickable:""},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"delete_forever"})]),_:1}),e(N,null,{default:l(()=>k[9]||(k[9]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ae],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disable"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[c.value?{name:"header",fn:l(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:x},{default:l(()=>[a("div",gc,[e(ne,{modelValue:v.role,"onUpdate:modelValue":[k[2]||(k[2]=V=>v.role=V),d],class:"custom-select col-xs-12 col-sm-2",options:s,label:"Role",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(ne,{modelValue:v.status,"onUpdate:modelValue":[k[3]||(k[3]=V=>v.status=V),d],class:"custom-select col-xs-12 col-sm-2",options:m,label:"Status",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:v.search,"onUpdate:modelValue":k[4]||(k[4]=V=>v.search=V),placeholder:"Cari",clearable:""},{append:l(()=>[e(T,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},kc=Object.freeze(Object.defineProperty({__proto__:null,default:wc},Symbol.toStringTag,{value:"Module"})),hc=dt({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(p,{slots:s,emit:m}){let o=!1,n,f,r=null,i=null,c,v;function y(){n&&n(),n=null,o=!1,r!==null&&(clearTimeout(r),r=null),i!==null&&(clearTimeout(i),i=null),f!==void 0&&f.removeEventListener("transitionend",c),c=null}function S(_,H,M){H!==void 0&&(_.style.height=`${H}px`),_.style.transition=`height ${p.duration}ms cubic-bezier(.25, .8, .50, 1)`,o=!0,n=M}function d(_,H){_.style.overflowY=null,_.style.height=null,_.style.transition=null,y(),H!==v&&m(H)}function b(_,H){let M=0;f=_,o===!0?(y(),M=_.offsetHeight===_.scrollHeight?0:void 0):(v="hide",_.style.overflowY="hidden"),S(_,M,H),r=setTimeout(()=>{r=null,_.style.height=`${_.scrollHeight}px`,c=x=>{i=null,(Object(x)!==x||x.target===_)&&d(_,"show")},_.addEventListener("transitionend",c),i=setTimeout(c,p.duration*1.1)},100)}function P(_,H){let M;f=_,o===!0?y():(v="show",_.style.overflowY="hidden",M=_.scrollHeight),S(_,M,H),r=setTimeout(()=>{r=null,_.style.height=0,c=x=>{i=null,(Object(x)!==x||x.target===_)&&d(_,"hide")},_.addEventListener("transitionend",c),i=setTimeout(c,p.duration*1.1)},100)}return Mt(()=>{o===!0&&y()}),()=>ce(Wl,{css:!1,appear:p.appear,onEnter:b,onLeave:P},s.default)}}),at=oo({}),$c=Object.keys(Ql),ot=dt({name:"QExpansionItem",props:{...Ql,...Da,...Yl,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Ea,"click","afterShow","afterHide"],setup(p,{slots:s,emit:m}){const{proxy:{$q:o}}=xt(),n=Fl(p,o),f=q(p.modelValue!==null?p.modelValue:p.defaultOpened),r=q(null),i=ja(),{show:c,hide:v,toggle:y}=Ba({showing:f});let S,d;const b=ee(()=>`q-expansion-item q-item-type q-expansion-item--${f.value===!0?"expanded":"collapsed"} q-expansion-item--${p.popup===!0?"popup":"standard"}`),P=ee(()=>p.contentInsetLevel===void 0?null:{["padding"+(o.lang.rtl===!0?"Right":"Left")]:p.contentInsetLevel*56+"px"}),_=ee(()=>p.disable!==!0&&(p.href!==void 0||p.to!==void 0&&p.to!==null&&p.to!=="")),H=ee(()=>{const re={};return $c.forEach(je=>{re[je]=p[je]}),re}),M=ee(()=>_.value===!0||p.expandIconToggle!==!0),x=ee(()=>p.expandedIcon!==void 0&&f.value===!0?p.expandedIcon:p.expandIcon||o.iconSet.expansionItem[p.denseToggle===!0?"denseIcon":"icon"]),I=ee(()=>p.disable!==!0&&(_.value===!0||p.expandIconToggle===!0)),C=ee(()=>({expanded:f.value===!0,detailsId:i.value,toggle:y,show:c,hide:v})),k=ee(()=>{const re=p.toggleAriaLabel!==void 0?p.toggleAriaLabel:o.lang.label[f.value===!0?"collapse":"expand"](p.label);return{role:"button","aria-expanded":f.value===!0?"true":"false","aria-controls":i.value,"aria-label":re}});xe(()=>p.group,re=>{d!==void 0&&d(),re!==void 0&&Q()});function h(re){_.value!==!0&&y(re),m("click",re)}function $(re){re.keyCode===13&&V(re,!0)}function V(re,je){je!==!0&&r.value!==null&&r.value.focus(),y(re),wt(re)}function L(){m("afterShow")}function A(){m("afterHide")}function Q(){S===void 0&&(S=La()),f.value===!0&&(at[p.group]=S);const re=xe(f,lt=>{lt===!0?at[p.group]=S:at[p.group]===S&&delete at[p.group]}),je=xe(()=>at[p.group],(lt,Rt)=>{Rt===S&&lt!==void 0&&lt!==S&&v()});d=()=>{re(),je(),at[p.group]===S&&delete at[p.group],d=void 0}}function te(){const re={class:[`q-focusable relative-position cursor-pointer${p.denseToggle===!0&&p.switchToggleSide===!0?" items-end":""}`,p.expandIconClass],side:p.switchToggleSide!==!0,avatar:p.switchToggleSide},je=[ce(T,{class:"q-expansion-item__toggle-icon"+(p.expandedIcon===void 0&&f.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:x.value})];return I.value===!0&&(Object.assign(re,{tabindex:0,...k.value,onClick:V,onKeyup:$}),je.unshift(ce("div",{ref:r,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),ce(N,re,()=>je)}function Y(){let re;return s.header!==void 0?re=[].concat(s.header(C.value)):(re=[ce(N,()=>[ce(ue,{lines:p.labelLines},()=>p.label||""),p.caption?ce(ue,{lines:p.captionLines,caption:!0},()=>p.caption):null])],p.icon&&re[p.switchToggleSide===!0?"push":"unshift"](ce(N,{side:p.switchToggleSide===!0,avatar:p.switchToggleSide!==!0},()=>ce(T,{name:p.icon})))),p.disable!==!0&&p.hideExpandIcon!==!0&&re[p.switchToggleSide===!0?"unshift":"push"](te()),re}function U(){const re={ref:"item",style:p.headerStyle,class:p.headerClass,dark:n.value,disable:p.disable,dense:p.dense,insetLevel:p.headerInsetLevel};return M.value===!0&&(re.clickable=!0,re.onClick=h,Object.assign(re,_.value===!0?H.value:k.value)),ce(X,re,Y)}function de(){return K(ce("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:P.value,id:i.value},St(s.default)),[[Jl,f.value]])}function qe(){const re=[U(),ce(hc,{duration:p.duration,onShow:L,onHide:A},de)];return p.expandSeparator===!0&&re.push(ce(Ke,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:n.value}),ce(Ke,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:n.value})),re}return p.group!==void 0&&Q(),Mt(()=>{d!==void 0&&d()}),()=>ce("div",{class:b.value},[ce("div",{class:"q-expansion-item__container relative-position"},qe())])}}),Sc={class:"absolute-top",style:{height:"50px","border-bottom":"1px solid #ddd","align-items":"center","justify-content":"center"}},xc={style:{width:"100%",padding:"8px",display:"flex","justify-content":"space-between"}},Cc={class:"text-bold"},qc={class:"text-grey-8 text-caption"},Vc={class:"absolute-bottom text-grey-6 q-pa-md"},Lt="amanah-pos.layout.left-drawer-open",Tc={__name:"AuthenticatedLayout",setup(p){const s=_e(),m=pe(),o=q(JSON.parse(localStorage.getItem(Lt))),n=q(!1),f=()=>o.value=!o.value;return xe(o,r=>{localStorage.setItem(Lt,r)}),ke(()=>{o.value=JSON.parse(localStorage.getItem(Lt)),s.screen.lt.md&&(o.value=!1)}),(r,i)=>(w(),E(Wa,{view:"lHh LpR lFf"},{default:l(()=>[e(za,null,{default:l(()=>[e(Ae,{class:"bg-grey-1 text-black toolbar-scrolled"},{default:l(()=>[o.value?D("",!0):(w(),E(R,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:f},{default:l(()=>[e(T,{class:"material-symbols-outlined"},{default:l(()=>i[21]||(i[21]=[g("dock_to_right")])),_:1})]),_:1})),nt(r.$slots,"left-button",{},void 0,!0),e(Ha,{class:be({"q-ml-sm":o.value}),style:{"font-size":"18px"}},{default:l(()=>[nt(r.$slots,"title",{},()=>[g(u(r.$config.APP_NAME),1)],!0)]),_:3},8,["class"]),nt(r.$slots,"right-button",{},void 0,!0)]),_:3}),nt(r.$slots,"header",{},void 0,!0)]),_:3}),e(Ya,{breakpoint:768,modelValue:o.value,"onUpdate:modelValue":i[20]||(i[20]=c=>o.value=c),bordered:"",class:"bg-grey-2",style:{color:"#444"}},{default:l(()=>[a("div",Sc,[a("div",xc,[e(Fa,{modelValue:n.value,"onUpdate:modelValue":i[2]||(i[2]=c=>n.value=c),class:be(["profile-btn text-bold",{"profile-btn-active":n.value}]),flat:"",label:t(m).props.company.name,style:{"justify-content":"space-between","flex-grow":"1",overflow:"hidden"}},{default:l(()=>[e(Ve,{id:"profile-btn-popup",style:{color:"#444"}},{default:l(()=>[e(X,null,{default:l(()=>[e(rt,{style:{"margin-left":"-15px"}},{default:l(()=>[e(T,{name:"person"})]),_:1}),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>[a("div",Cc,u(t(m).props.auth.user.name),1),a("div",qc,u(r.$CONSTANTS.USER_ROLES[t(m).props.auth.user.role])+" @ "+u(t(m).props.company.name),1)]),_:1})]),_:1})]),_:1}),e(Ke),K((w(),E(X,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/profile"),onClick:i[0]||(i[0]=c=>t(F).get(r.route("admin.profile.edit")))},{default:l(()=>[e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>[e(T,{name:"manage_accounts",class:"q-mr-sm"}),i[22]||(i[22]=g(" Profil Saya"))]),_:1})]),_:1})]),_:1},8,["active"])),[[se],[ae]]),r.$can("admin.company-profile.edit")?K((w(),E(X,{key:0,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/company-profile"),onClick:i[1]||(i[1]=c=>t(F).get(r.route("admin.company-profile.edit")))},{default:l(()=>[e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>[e(T,{name:"home_work",class:"q-mr-sm"}),i[23]||(i[23]=g(" Profil Perusahaan"))]),_:1})]),_:1})]),_:1},8,["active"])),[[se],[ae]]):D("",!0),e(Ke),K((w(),E(X,{clickable:"",style:{color:"inherit"},href:r.route("admin.auth.logout")},{default:l(()=>[e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>[e(T,{name:"logout",class:"q-mr-sm"}),i[24]||(i[24]=g(" Keluar"))]),_:1})]),_:1})]),_:1},8,["href"])),[[se],[ae]])]),_:1})]),_:1},8,["modelValue","label","class"]),o.value?(w(),E(R,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:f},{default:l(()=>[e(T,{name:"dock_to_right"})]),_:1})):D("",!0)])]),e(Ka,{style:{height:"calc(100% - 50px)","margin-top":"50px"}},{default:l(()=>[e(Ve,{id:"main-nav",style:{"margin-bottom":"50px"}},{default:l(()=>[K((w(),E(X,{clickable:"",active:r.$page.url.startsWith("/admin/dashboard"),onClick:i[3]||(i[3]=c=>t(F).get(r.route("admin.dashboard")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"dashboard"})]),_:1}),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>i[25]||(i[25]=[g("Dashboard")])),_:1})]),_:1})]),_:1},8,["active"])),[[ae]]),e(Ke),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(w(),E(ot,{key:0,icon:"storefront",label:"Penjualan","default-opened":r.$page.url.startsWith("/admin/sales-orders")||r.$page.url.startsWith("/admin/customers")},{default:l(()=>[K((w(),E(X,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/sales-orders"),onClick:i[4]||(i[4]=c=>t(F).get(r.route("admin.sales-order.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"shopping_cart"})]),_:1}),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>i[26]||(i[26]=[g("Penjualan")])),_:1})]),_:1})]),_:1},8,["active"])),[[ae]]),K((w(),E(X,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/customers"),onClick:i[5]||(i[5]=c=>t(F).get(r.route("admin.customer.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"people"})]),_:1}),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>i[27]||(i[27]=[g("Pelanggan")])),_:1})]),_:1})]),_:1},8,["active"])),[[ae]])]),_:1},8,["default-opened"])):D("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(w(),E(ot,{key:1,icon:"local_shipping",label:"Pembelian","default-opened":r.$page.url.startsWith("/admin/purchase-orders")||r.$page.url.startsWith("/admin/suppliers")},{default:l(()=>[K((w(),E(X,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/purchase-orders"),onClick:i[6]||(i[6]=c=>t(F).get(r.route("admin.purchase-order.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"shopping_cart"})]),_:1}),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>i[28]||(i[28]=[g("Pembelian")])),_:1})]),_:1})]),_:1},8,["active"])),[[ae]]),K((w(),E(X,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/suppliers"),onClick:i[7]||(i[7]=c=>t(F).get(r.route("admin.supplier.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"people"})]),_:1}),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>i[29]||(i[29]=[g("Pemasok")])),_:1})]),_:1})]),_:1},8,["active"])),[[ae]])]),_:1},8,["default-opened"])):D("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(w(),E(ot,{key:2,icon:"inventory_2",label:"Inventori","default-opened":r.$page.url.startsWith("/admin/products")||r.$page.url.startsWith("/admin/product-categories")||r.$page.url.startsWith("/admin/stock-adjustments")},{default:l(()=>[K((w(),E(X,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/stock-adjustments"),onClick:i[8]||(i[8]=c=>t(F).get(r.route("admin.stock-adjustment.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"swap_vert"})]),_:1}),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>i[30]||(i[30]=[g("Penyesuaian Stok")])),_:1})]),_:1})]),_:1},8,["active"])),[[ae]]),K((w(),E(X,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/products"),onClick:i[9]||(i[9]=c=>t(F).get(r.route("admin.product.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"box"})]),_:1}),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>i[31]||(i[31]=[g("Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[ae]]),K((w(),E(X,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/product-categories"),onClick:i[10]||(i[10]=c=>t(F).get(r.route("admin.product-category.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"category"})]),_:1}),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>i[32]||(i[32]=[g("Kategori Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[ae]])]),_:1},8,["default-opened"])):D("",!0),e(Ke),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(w(),E(ot,{key:3,icon:"wallet",label:"Wallet","default-opened":r.$page.url.startsWith("/admin/customer-wallet-transactions")||r.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations")},{default:l(()=>[K((w(),E(X,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations"),onClick:i[11]||(i[11]=c=>t(F).get(r.route("admin.customer-wallet-transaction-confirmation.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"add_task"})]),_:1}),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>i[33]||(i[33]=[g("Konfirmasi Top Up")])),_:1})]),_:1})]),_:1},8,["active"])),[[ae]]),K((w(),E(X,{class:"subnav",clickable:"",active:r.$page.url=="/admin/customer-wallet-transactions",onClick:i[12]||(i[12]=c=>t(F).get(r.route("admin.customer-wallet-transaction.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"moving"})]),_:1}),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>i[34]||(i[34]=[g("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[ae]])]),_:1},8,["default-opened"])):D("",!0),e(Ke),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(w(),E(ot,{key:4,icon:"finance",label:"Keuangan","default-opened":r.$page.url.startsWith("/admin/finance-accounts")||r.$page.url.startsWith("/admin/finance-transactions")},{default:l(()=>[K((w(),E(X,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/finance-transactions"),onClick:i[13]||(i[13]=c=>t(F).get(r.route("admin.finance-transaction.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"moving"})]),_:1}),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>i[35]||(i[35]=[g("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[ae]]),K((w(),E(X,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/finance-accounts"),onClick:i[14]||(i[14]=c=>t(F).get(r.route("admin.finance-account.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"groups_2"})]),_:1}),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>i[36]||(i[36]=[g("Akun Kas")])),_:1})]),_:1})]),_:1},8,["active"])),[[ae]])]),_:1},8,["default-opened"])):D("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(w(),E(ot,{key:5,icon:"paid",label:"Operasional","default-opened":r.$page.url.startsWith("/admin/operational-costs")||r.$page.url.startsWith("/admin/operational-cost-categories")},{default:l(()=>[K((w(),E(X,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/operational-costs"),onClick:i[15]||(i[15]=c=>t(F).get(r.route("admin.operational-cost.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"request_quote"})]),_:1}),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>i[37]||(i[37]=[g("Biaya Operasional")])),_:1})]),_:1})]),_:1},8,["active"])),[[ae]]),K((w(),E(X,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/operational-cost-categories"),onClick:i[16]||(i[16]=c=>t(F).get(r.route("admin.operational-cost-category.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"category"})]),_:1}),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>i[38]||(i[38]=[g("Kategori")])),_:1})]),_:1})]),_:1},8,["active"])),[[ae]])]),_:1},8,["default-opened"])):D("",!0),e(Ke),e(ot,{icon:"settings",label:"Pengaturan","default-opened":r.$page.url.startsWith("/admin/settings")},{default:l(()=>[r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?K((w(),E(X,{key:0,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/users"),onClick:i[17]||(i[17]=c=>t(F).get(r.route("admin.user.index")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"group"})]),_:1}),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>i[39]||(i[39]=[g("Pengguna")])),_:1})]),_:1})]),_:1},8,["active"])),[[ae]]):D("",!0),K((w(),E(X,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/profile"),onClick:i[18]||(i[18]=c=>t(F).get(r.route("admin.profile.edit")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"manage_accounts"})]),_:1}),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>i[40]||(i[40]=[g("Profil Saya")])),_:1})]),_:1})]),_:1},8,["active"])),[[ae]]),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?K((w(),E(X,{key:1,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/company-profile"),onClick:i[19]||(i[19]=c=>t(F).get(r.route("admin.company-profile.edit")))},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"apartment"})]),_:1}),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>i[41]||(i[41]=[g("Profil Maqsof")])),_:1})]),_:1})]),_:1},8,["active"])),[[ae]]):D("",!0)]),_:1},8,["default-opened"]),e(Ke),K((w(),E(X,{clickable:"",style:{color:"inherit"},href:r.route("customer.auth.logout")},{default:l(()=>[e(N,{avatar:""},{default:l(()=>[e(T,{name:"logout"})]),_:1}),e(N,null,{default:l(()=>[e(ue,null,{default:l(()=>i[42]||(i[42]=[g("Logout")])),_:1})]),_:1})]),_:1},8,["href"])),[[se],[ae]]),a("div",Vc," © 2025 - "+u(r.$config.APP_NAME+" v"+r.$config.APP_VERSION_STR),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Qa,{class:"bg-grey-1"},{default:l(()=>[e(ye,null,{default:l(()=>[nt(r.$slots,"default",{},void 0,!0)]),_:3})]),_:3}),nt(r.$slots,"footer",{},void 0,!0)]),_:3}))}},Pc=tt(Tc,[["__scopeId","data-v-5701f378"]]),Ic={__name:"GuestLayout",setup(p){return(s,m)=>(w(),E(Ja,null,{default:l(()=>[nt(s.$slots,"default")]),_:3}))}};Ga({layouts:{authenticated:Pc,guest:Ic},pagesGlob:Object.assign({"./pages/About.vue":vo,"./pages/_examples/Autocomplete1.vue":ho,"./pages/auth/Login.vue":Vo,"./pages/company-profile/Edit.vue":No,"./pages/company-profile/partials/CompanyInfoForm.vue":To,"./pages/customer-wallet-transaction-confirmation/Index.vue":Do,"./pages/customer-wallet-transaction/Adjustment.vue":Lo,"./pages/customer-wallet-transaction/Editor.vue":Fo,"./pages/customer-wallet-transaction/Index.vue":Zo,"./pages/customer/Detail.vue":Vn,"./pages/customer/Editor.vue":Mn,"./pages/customer/Index.vue":En,"./pages/dashboard/Index.vue":ls,"./pages/dashboard/cards/ChartCard.vue":is,"./pages/dashboard/cards/SummaryCard.vue":vs,"./pages/dashboard/cards/TopCard.vue":hs,"./pages/finance-account/Detail.vue":Ms,"./pages/finance-account/Editor.vue":Es,"./pages/finance-account/Index.vue":Ws,"./pages/finance-transaction/Editor.vue":Zs,"./pages/finance-transaction/Index.vue":ur,"./pages/operational-cost-category/Editor.vue":pr,"./pages/operational-cost-category/Index.vue":wr,"./pages/operational-cost/Detail.vue":Tr,"./pages/operational-cost/Editor.vue":Ar,"./pages/operational-cost/Index.vue":Yr,"./pages/product-category/Editor.vue":Wr,"./pages/product-category/Index.vue":li,"./pages/product/Detail.vue":wi,"./pages/product/Editor.vue":xi,"./pages/product/Index.vue":Ri,"./pages/profile/Edit.vue":Li,"./pages/profile/partials/UpdatePasswordForm.vue":Ai,"./pages/profile/partials/UpdateProfileInformationForm.vue":Ui,"./pages/purchase-order/Editor.vue":$u,"./pages/purchase-order/Editor_v1.vue":Cu,"./pages/purchase-order/Index.vue":Ru,"./pages/purchase-order/editor/ConfirmDeleteDialog.vue":pu,"./pages/purchase-order/editor/ItemsListTable.vue":ou,"./pages/purchase-order/editor/SupplierEditorDialog.vue":fu,"./pages/purchase-order/editor/TransactionHeader.vue":Zi,"./pages/purchase-order/editor/TransactionSummary.vue":mu,"./pages/sales-order/Detail.vue":Eu,"./pages/sales-order/Editor.bak.vue":Sd,"./pages/sales-order/Editor.vue":zd,"./pages/sales-order/Index.vue":Zd,"./pages/sales-order/editor/ConfirmDeleteDialog.vue":Nd,"./pages/sales-order/editor/CustomerEditorDialog.vue":id,"./pages/sales-order/editor/ItemsListTable.vue":ed,"./pages/sales-order/editor/PaymentDialog.vue":Md,"./pages/sales-order/editor/TransactionHeader.vue":Qu,"./pages/sales-order/editor/TransactionSummary.vue":rd,"./pages/stock-adjustment/Create.vue":im,"./pages/stock-adjustment/Detail.vue":vm,"./pages/stock-adjustment/Editor.vue":xm,"./pages/stock-adjustment/Index.vue":Rm,"./pages/supplier/Detail.vue":Lm,"./pages/supplier/Editor.vue":Km,"./pages/supplier/Index.vue":Zm,"./pages/user/Detail.vue":ic,"./pages/user/Editor.vue":fc,"./pages/user/Index.vue":kc})});
