import{_ as rt,Q as ie,a as ae,b as yt,T as $e,c as Se,d as Ve,h as xe,e as mt,f as q,g as Z,i as R,j as wt,k as pe,s as Re,u as ve,l as Le,m as Vt,n as Tt,o as ft,p as gt,q as Pe,r as Me,t as Ne,v as Ae,w as ne,x as ye,y as _e,z as j,A as Qe,B as nt,L as We,C as z,D as oa,E as Be,F as qe,G,H as na,I as O,R as le,J as se,K as Ke,M as ze,N as Oe,O as bl,P as Ue,S as F,U as Ge,V as kt,W as it,X as Ea,Y as et,Z as Ye,$ as Et,a0 as Ua,a1 as _l,a2 as vl,a3 as vt,a4 as Ut,a5 as Bt,a6 as yl,a7 as wl,a8 as ht,a9 as kl,aa as Dt,ab as _t,ac as jt,ad as sa,ae as hl,af as xt,ag as ra,ah as Sl,ai as ia,aj as $l,ak as xl,al as Cl,am as Da,an as ja,ao as ql,ap as ue,aq as Vl,ar as Tl,as as Pl,at as Ct,au as Ml,av as Pt,aw as zt,ax as ua,ay as La,az as Nl,aA as Ol,aB as Il,aC as Rl,aD as Ba,aE as Al,aF as El,aG as Ul,aH as Dl,aI as jl,aJ as Ll,aK as Bl,aL as zl,aM as Hl,aN as Yl,aO as Fl,aP as Kl}from"./BaseGuestLayout-DZWPybBA.js";import{r as L,f as I,j as w,k as e,l as a,m as l,p as g,F as Q,q as C,v as X,u as t,x as U,y as u,z as Ie,o as we,c as ee,w as Te,A as De,B as D,C as He,D as K,E as Fe,h as ce,i as Ql,g as St,b as Mt,G as Wl,H as Jl,I as Gl,T as za,K as Xl,J as be,L as st,M as Ha,N as Zl,O as Ht,n as Nt,P as eo,Q as ot}from"./vendor1-GW9tcixU.js";import{bT as to,eC as qt}from"./vendor2-BTgPC5ac.js";import{i as ao,a as lo,b as oo,c as no,d as so,e as ro,f as io}from"./vendor3-mvk8gURI.js";const uo={},mo={class:"row"};function co(c,n){const p=L("i-head"),o=L("authenticated-layout");return w(),I(Q,null,[e(p,{title:"About"}),e(o,null,{title:a(()=>n[0]||(n[0]=[g("About")])),default:a(()=>[l("div",mo,[e(ie,{class:"col q-pa-md q-ma-md",square:"",flat:"",bordered:""},{default:a(()=>[e(ae,null,{default:a(()=>n[1]||(n[1]=[l("div",{class:"q-mb-md text-h4"},"About",-1),l("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Autem soluta, accusamus placeat eius eligendi perferendis quisquam veritatis iste debitis laboriosam facere et aliquam quos beatae illo distinctio rerum eos! Expedita, voluptatem. Aut nihil deleniti magni fuga eius labore aliquam nulla quod ullam sunt amet eum asperiores, harum unde eligendi tempore sapiente. Placeat sed, dignissimos voluptatum perspiciatis saepe aspernatur, maxime est, ipsam quas nobis cumque sunt labore molestias? Amet in sed ullam recusandae, nostrum dicta facilis blanditiis incidunt quae commodi soluta id impedit vel fugit illo, molestias reiciendis, provident nam molestiae! Ipsam, hic. Facere aut quisquam praesentium enim illum, pariatur nam.",-1),l("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, cum nulla. Ut eligendi tenetur aliquam cum mollitia repellat voluptas, fugiat doloremque sunt commodi enim excepturi distinctio id sapiente incidunt ipsam asperiores cupiditate, labore libero! Ad facere magni cumque perspiciatis, adipisci possimus pariatur quo nobis minus, est enim similique quaerat vel asperiores ipsam harum et, totam fugit.",-1),l("p",null,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Suscipit aspernatur maxime consectetur, consequatur excepturi facilis praesentium rem placeat sapiente, maiores doloribus modi voluptate. Unde autem dolor officiis numquam incidunt quasi aspernatur nam dolores ratione quidem recusandae, nulla qui provident molestias odit nemo praesentium quas voluptatem aliquid perferendis, iste veritatis vitae. Dolor, eligendi quidem distinctio asperiores doloremque culpa corporis quibusdam earum ex laudantium iure officia ullam nostrum maxime voluptatum laboriosam impedit labore illum. Culpa, veniam dolor odio ad eius nisi, aspernatur quia veritatis blanditiis repellat id minima deserunt beatae?",-1)])),_:1})]),_:1})])]),_:1})],64)}const po=rt(uo,[["render",co]]),fo=Object.freeze(Object.defineProperty({__proto__:null,default:po},Symbol.toStringTag,{value:"Module"})),go={style:{"margin-left":"-10px"}},Yt={__name:"StandardCheckBox",props:{modelValue:{type:Boolean,required:!0},disable:{type:Boolean,default:!1},label:{type:String,default:""}},emits:["update:modelValue"],setup(c,{emit:n}){const p=c,o=n;return(s,f)=>(w(),I("div",go,[e(yt,{class:"full-width q-pl-none","model-value":p.modelValue,disable:p.disable,label:p.label,"onUpdate:modelValue":f[0]||(f[0]=r=>o("update:modelValue",r))},null,8,["model-value","disable","label"])]))}},bo={class:"column"},_o={class:"row"},vo={class:"flex justify-center"},yo={__name:"Login",setup(c){let n=$e({username:window.CONFIG.APP_DEMO?"admin":"",password:window.CONFIG.APP_DEMO?"12345":"",remember:!0});const p=()=>xe({form:n,url:route("admin.auth.login")}),o=C(!1);return(s,f)=>{const r=L("i-head"),i=L("guest-layout");return w(),I(Q,null,[e(r,{title:"Login"}),e(i,null,{default:a(()=>[e(Se,{class:"row justify-center items-center"},{default:a(()=>[l("div",bo,[l("div",_o,[e(Ve,{class:"q-gutter-md",onSubmit:X(p,["prevent"])},{default:a(()=>[e(ie,{square:"",bordered:"",flat:"",class:"q-pa-md"},{default:a(()=>[e(ae,{class:"text-center"},{default:a(()=>[l("div",vo,[e(mt,{size:"80px"},{default:a(()=>[e(q,{name:"badge",color:"primary"})]),_:1})]),f[4]||(f[4]=l("h6",{class:"q-my-sm text-primary"},"Login Staff",-1))]),_:1}),e(ae,null,{default:a(()=>[e(Z,{modelValue:t(n).username,"onUpdate:modelValue":f[0]||(f[0]=m=>t(n).username=m),modelModifiers:{trim:!0},label:"Username","lazy-rules":"",error:!!t(n).errors.username,autocomplete:"username","error-message":t(n).errors.username,disable:t(n).processing,rules:[m=>m&&m.length>0||"Masukkan Username"],"hide-bottom-space":""},{append:a(()=>[e(q,{name:"person"})]),_:1},8,["modelValue","error","error-message","disable","rules"]),e(Z,{modelValue:t(n).password,"onUpdate:modelValue":f[2]||(f[2]=m=>t(n).password=m),type:o.value?"text":"password",label:"Kata Sandi",error:!!t(n).errors.password,autocomplete:"current-password","error-message":t(n).errors.password,"lazy-rules":"",disable:t(n).processing,rules:[m=>m&&m.length>0||"Masukkan kata sandi"],"hide-bottom-space":""},{append:a(()=>[e(R,{dense:"",flat:"",round:"",onClick:f[1]||(f[1]=m=>o.value=!o.value)},{default:a(()=>[e(q,{name:o.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","error","error-message","disable","rules"]),e(Yt,{class:"q-mt-sm",modelValue:t(n).remember,"onUpdate:modelValue":f[3]||(f[3]=m=>t(n).remember=m),disable:t(n).processing,label:"Ingat saya di perangkat ini"},null,8,["modelValue","disable"])]),_:1}),e(wt,null,{default:a(()=>[e(R,{icon:"login",type:"submit",color:"primary",class:"full-width",label:"Login",disable:t(n).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},wo=Object.freeze(Object.defineProperty({__proto__:null,default:yo},Symbol.toStringTag,{value:"Module"})),Ya={__name:"CompanyInfoForm",setup(c){const n=C(),p=pe(),o=$e({name:p.props.data.name,phone:p.props.data.phone,address:p.props.data.address}),s=()=>xe({form:o,url:route("admin.company-profile.update")});return(f,r)=>(w(),U(Ve,{class:"row",onSubmit:X(s,["prevent"]),onValidationError:t(Re)},{default:a(()=>[e(ie,{flat:"",bordered:"",square:"",class:"col"},{default:a(()=>[e(ae,null,{default:a(()=>[r[3]||(r[3]=l("div",{class:"text-subtitle1 q-my-xs"},"Profil Maqsof",-1)),r[4]||(r[4]=l("p",{class:"text-caption text-grey-9"},"Perbarui profil koperasi.",-1)),e(Z,{ref_key:"nameInputRef",ref:n,modelValue:t(o).name,"onUpdate:modelValue":r[0]||(r[0]=i=>t(o).name=i),modelModifiers:{trim:!0},label:"Nama Koperasi",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.name,"error-message":t(o).errors.name,rules:[i=>i&&i.length>0||"Nama Koperasi harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(Z,{modelValue:t(o).phone,"onUpdate:modelValue":r[1]||(r[1]=i=>t(o).phone=i),modelModifiers:{trim:!0},label:"No Telepon",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.phone,"error-message":t(o).errors.phone,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(Z,{type:"textarea",counter:"",autogrow:"",maxlength:"200",modelValue:t(o).address,"onUpdate:modelValue":r[2]||(r[2]=i=>t(o).address=i),modelModifiers:{trim:!0},label:"Alamat",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.address,"error-message":t(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,null,{default:a(()=>[e(R,{icon:"save",type:"submit",color:"primary",label:"Simpan",disable:t(o).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},ko=Object.freeze(Object.defineProperty({__proto__:null,default:Ya},Symbol.toStringTag,{value:"Module"})),ho={class:"q-pa-sm"},So={class:"row justify-center"},$o={class:"col col-lg-6"},da="Profil Maqsof",xo={__name:"Edit",setup(c){return(n,p)=>{const o=L("i-head"),s=L("authenticated-layout");return w(),I(Q,null,[e(o,{title:da}),e(s,null,{title:a(()=>[g(u(da))]),default:a(()=>[l("div",ho,[l("div",So,[l("div",$o,[e(Ya)])])])]),_:1})],64)}}},Co=Object.freeze(Object.defineProperty({__proto__:null,default:xo},Symbol.toStringTag,{value:"Module"})),qo={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Vo={class:"q-pa-sm"},To={class:"flex justify-end"},ma="Konfirmasi Top Up Wallet",Po={__name:"Index",setup(c){const n=ve(),p=C(!1),o=C([]),s=C(!0),f=C(null),r=C(null),i=Le(r),m=C(null),y=C(!1),v=Vt(),S=Tt(),d=[{label:"Semua Tahun",value:"all"},...ft(v-2,v).reverse()],_=[{value:"all",label:"Semua Bulan"},...gt()],V=[{value:"all",label:"Semua Status"},...Pe(window.CONSTANTS.CUSTOMER_WALLET_TRANSACTION_CONFIRMATION_STATUSES)],b=Ie({search:"",year:v,month:S,status:"all",...Me()}),Y=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!1}),M=[{name:"datetime",label:"Tanggal",field:"datetime",align:"left",sortable:!0},{name:"finance_account_id",label:"Bank Tujuan",field:"finance_account_id",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"status",label:"Status",field:"status",align:"center"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",label:"Aksi",field:"action",align:"center"}];we(()=>{$()});const $=(N=null)=>{Ne({pagination:Y,filter:b,props:N,rows:o,url:route("admin.customer-wallet-transaction-confirmation.data"),loading:s,tableRef:f})},T=()=>{$()},P=ee(()=>n.screen.gt.sm?M:M.filter(N=>["datetime","action"].includes(N.name)));Te(()=>b.year,N=>{N===null&&(b.month=null)});const x=N=>na({message:`Setujui konfirmasi transaksi #${N.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",N.id),fetchItemsCallback:$,loading:s,data:{id:N.id,action:"accept"}}),h=N=>na({message:`Tolak konfirmasi transaksi #${N.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",N.id),fetchItemsCallback:$,loading:s,data:{id:N.id,action:"reject"}}),k=N=>ze({message:`Hapus konfirmasi transaksi #${N.id}?`,url:route("admin.customer-wallet-transaction-confirmation.delete",N.id),fetchItemsCallback:$,loading:s});return(N,B)=>{const A=L("i-head"),W=L("authenticated-layout");return w(),I(Q,null,[e(A,{title:ma}),e(W,null,De({title:a(()=>[g(u(ma))]),"right-button":a(()=>[e(R,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",flat:"",rounded:"",dense:"",onClick:B[0]||(B[0]=te=>p.value=!p.value)},null,8,["icon"])]),default:a(()=>[l("div",Vo,[e(ye,{ref_key:"tableRef",ref:f,class:"full-height-table",style:He({height:t(i)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:Y.value,"onUpdate:pagination":B[6]||(B[6]=te=>Y.value=te),filter:b.search,loading:s.value,columns:P.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:$,"binary-state-sort":""},{loading:a(()=>[e(Oe,{showing:"",color:"red"})]),body:a(te=>[e(_e,{props:te},{default:a(()=>[e(j,{key:"datetime",props:te,class:"wrap-column"},{default:a(()=>[l("div",null,"#: "+u(te.row.formatted_id),1),l("div",null,[e(q,{name:"calendar_today",class:"inline-icon"}),g(" "+u(t(Qe)(te.row.datetime))+" ("+u(t(nt)(te.row.datetime))+") ",1)]),t(n).screen.gt.sm?D("",!0):(w(),I(Q,{key:0},[e(We,{icon:"account_balance",text:te.row.finance_account.name},null,8,["text"]),l("div",null,[e(q,{name:"person",class:"inline-icon"}),g(" "+u(te.row.customer.username)+" - "+u(te.row.customer.name),1)]),l("div",null,[e(q,{name:"money",class:"inline-icon"}),g(" Rp. "+u(t(z)(te.row.amount)),1)]),te.row.description?(w(),U(We,{key:0,icon:"notes",text:te.row.description},null,8,["text"])):D("",!0),l("div",null,[e(oa,{status:te.row.status},null,8,["status"])])],64))]),_:2},1032,["props"]),e(j,{key:"finance_account_id",props:te},{default:a(()=>[g(u(te.row.finance_account.name),1),B[8]||(B[8]=l("br",null,null,-1)),g(" "+u(te.row.finance_account.bank)+" "+u(te.row.finance_account.number)+" an. "+u(te.row.finance_account.holder),1)]),_:2},1032,["props"]),e(j,{key:"amount",props:te,style:{"text-align":"right"}},{default:a(()=>[g(" Rp. "+u(t(z)(te.row.amount)),1)]),_:2},1032,["props"]),e(j,{key:"status",props:te,class:"text-center"},{default:a(()=>[e(oa,{status:te.row.status},null,8,["status"])]),_:2},1032,["props"]),e(j,{key:"notes",props:te},{default:a(()=>[g(u(te.row.notes),1)]),_:2},1032,["props"]),e(j,{key:"action",props:te,class:"text-center"},{default:a(()=>[l("div",To,[e(R,{icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:B[5]||(B[5]=X(()=>{},["stop"])),disable:te.row.status!=="pending"},{default:a(()=>[e(Be,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(qe,{style:{width:"200px"}},{default:a(()=>[K((w(),U(G,{onClick:X(H=>x(te.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"check"})]),_:1}),e(O,null,{default:a(()=>B[9]||(B[9]=[g("Setujui")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]]),K((w(),U(G,{onClick:X(H=>h(te.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"cancel"})]),_:1}),e(O,null,{default:a(()=>B[10]||(B[10]=[g("Tolak")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]]),e(Ke),K((w(),U(G,{onClick:X(H=>k(te.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>B[11]||(B[11]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disable"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"]),e(bl,{modelValue:y.value,"onUpdate:modelValue":B[7]||(B[7]=te=>y.value=te),imageUrl:`/${m.value}`},null,8,["modelValue","imageUrl"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",qo,[e(ne,{modelValue:b.year,"onUpdate:modelValue":[B[1]||(B[1]=te=>b.year=te),T],options:d,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),b.year!=="all"?(w(),U(ne,{key:0,modelValue:b.month,"onUpdate:modelValue":[B[2]||(B[2]=te=>b.month=te),T],options:_,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:b.year===null},null,8,["modelValue","disable"])):D("",!0),e(ne,{modelValue:b.status,"onUpdate:modelValue":[B[3]||(B[3]=te=>b.status=te),T],options:V,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:b.search,"onUpdate:modelValue":B[4]||(B[4]=te=>b.search=te),placeholder:"Cari...",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Mo=Object.freeze(Object.defineProperty({__proto__:null,default:Po},Symbol.toStringTag,{value:"Module"}));function Ft(c,n=!1){const p=c.map(r=>({value:r.id,label:r.username+" - "+r.name})),o=n?[{value:"all",label:"Semua"},...p]:p,s=C([...o]);return{filteredCustomers:s,filterCustomersFn:(r,i)=>{i(()=>{s.value=o.filter(m=>m.label.toLowerCase().includes(r.toLowerCase()))})},customers:o}}const No={class:"col col-lg-6 q-pa-sm"},ca="Penyesuaian Saldo Dompet Santri",Oo={__name:"Adjustment",setup(c){const n=pe(),{filteredCustomers:p,filterCustomersFn:o}=Ft(n.props.customers,!1),s=$e({customer_id:null,old_balance:0,new_balance:0,notes:""}),f=()=>s.amount=s.new_balance-s.old_balance;Te(()=>s.customer_id,async m=>{if(!m){s.old_balance=0,s.new_balance=0,f();return}s.processing=!0;try{const y=await axios.get(route("admin.customer.balance",{id:m}));s.new_balance=s.old_balance=y.data.balance}catch(y){console.error("Gagal mengambil saldo:",y),s.old_balance=0,s.new_balance=0}s.processing=!1,f()});const r=ee(()=>s.new_balance-s.old_balance),i=()=>xe({form:s,url:route("admin.customer-wallet-transaction.adjustment")});return(m,y)=>{const v=L("i-head"),S=L("authenticated-layout");return w(),I(Q,null,[e(v,{title:ca}),e(S,null,{title:a(()=>[g(u(ca))]),default:a(()=>[e(Se,{class:"row justify-center"},{default:a(()=>[l("div",No,[e(Ve,{class:"row",onSubmit:X(i,["prevent"]),onValidationError:t(Re)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[e(ne,{class:"custom-select",modelValue:t(s).customer_id,"onUpdate:modelValue":y[0]||(y[0]=d=>t(s).customer_id=d),label:"Santri","use-input":"","input-debounce":"300",clearable:"",options:t(p),"map-options":"","emit-value":"",errorMessage:t(s).errors.customer_id,onFilter:t(o),error:!!t(s).errors.customer_id,disable:t(s).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(G,null,{default:a(()=>[e(O,null,{default:a(()=>y[6]||(y[6]=[g("Santri tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(Ue,{modelValue:t(s).old_balance,"onUpdate:modelValue":y[1]||(y[1]=d=>t(s).old_balance=d),label:"Saldo Tercatat",readonly:"",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.balance,errorMessage:t(s).errors.balance},null,8,["modelValue","disable","error","errorMessage"]),e(Ue,{modelValue:t(s).new_balance,"onUpdate:modelValue":y[2]||(y[2]=d=>t(s).new_balance=d),label:"Saldo Seharusnya",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.new_balance,errorMessage:t(s).errors.new_balance},null,8,["modelValue","disable","error","errorMessage"]),e(Ue,{modelValue:r.value,"onUpdate:modelValue":y[3]||(y[3]=d=>r.value=d),label:"Selisih",readonly:"",lazyRules:"",disable:t(s).processing},null,8,["modelValue","disable"]),e(Z,{modelValue:t(s).notes,"onUpdate:modelValue":y[4]||(y[4]=d=>t(s).notes=d),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,rules:[d=>d&&d.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:y[5]||(y[5]=d=>t(F).get(m.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Io=Object.freeze(Object.defineProperty({__proto__:null,default:Oo},Symbol.toStringTag,{value:"Module"})),Ro={class:"q-gutter-sm"},Ao={class:"col col-lg-6 q-pa-sm"},Eo={__name:"Editor",setup(c){const n=pe(),p=(n.props.data.id?"Edit":"Catat")+" Transaksi Dompet Santri",{filteredCustomers:o,filterCustomersFn:s}=Ft(n.props.customers,!1),f=[{label:"Deposit (+)",value:"deposit"},{label:"Penarikan (-)",value:"withdrawal"},{label:"Pembelian (-)",value:"purchase"},{label:"Refund (+)",value:"refund"}],r=n.props.finance_accounts.map(y=>({label:y.name,value:y.id})),i=$e({id:n.props.data.id,customer_id:n.props.data.customer_id,finance_account_id:n.props.data.finance_account_id,type:n.props.data.type,datetime:Ge(n.props.data.datetime).format("YYYY-MM-DD HH:mm:ss"),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),m=()=>xe({form:i,url:route("admin.customer-wallet-transaction.save")});return(y,v)=>{const S=L("i-head"),d=L("authenticated-layout");return w(),I(Q,null,[e(S,{title:p}),e(d,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",Ro,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:v[0]||(v[0]=_=>y.$inertia.get(y.route("admin.customer-wallet-transaction.index")))})])]),default:a(()=>[e(Se,{class:"row justify-center"},{default:a(()=>[l("div",Ao,[e(Ve,{class:"row",onSubmit:X(m,["prevent"]),onValidationError:t(Re)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":v[1]||(v[1]=_=>t(i).id=_)},null,512),[[Fe,t(i).id]]),e(kt,{autofocus:"",modelValue:t(i).datetime,"onUpdate:modelValue":v[2]||(v[2]=_=>t(i).datetime=_),label:"Tanggal",error:!!t(i).errors.datetime,disable:t(i).processing},null,8,["modelValue","error","disable"]),e(ne,{class:"custom-select",modelValue:t(i).customer_id,"onUpdate:modelValue":v[3]||(v[3]=_=>t(i).customer_id=_),label:"Santri","use-input":"","input-debounce":"300",clearable:"",options:t(o),"map-options":"","emit-value":"",errorMessage:t(i).errors.customer_id,onFilter:t(s),error:!!t(i).errors.customer_id,disable:t(i).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(G,null,{default:a(()=>[e(O,null,{default:a(()=>v[9]||(v[9]=[g("Santri tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(ne,{modelValue:t(i).type,"onUpdate:modelValue":v[4]||(v[4]=_=>t(i).type=_),label:"Jenis",options:f,"map-options":"","emit-value":"",error:!!t(i).errors.type,disable:t(i).processing,errorMessage:t(i).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),t(i).type=="deposit"||t(i).type=="withdrawal"?(w(),U(ne,{key:0,modelValue:t(i).finance_account_id,"onUpdate:modelValue":v[5]||(v[5]=_=>t(i).finance_account_id=_),label:t(i).type=="deposit"?"Kas Tujuan":"Kas Asal",options:t(r),"map-options":"","emit-value":"",error:!!t(i).errors.finance_account_id,disable:t(i).processing,errorMessage:t(i).errors.finance_account_id,"hide-bottom-space":""},null,8,["modelValue","label","options","error","disable","errorMessage"])):D("",!0),e(Ue,{modelValue:t(i).amount,"onUpdate:modelValue":v[6]||(v[6]=_=>t(i).amount=_),label:"Jumlah",lazyRules:"",disable:t(i).processing,error:!!t(i).errors.amount,errorMessage:t(i).errors.amount,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),e(Z,{modelValue:t(i).notes,"onUpdate:modelValue":v[7]||(v[7]=_=>t(i).notes=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(i).processing,error:!!t(i).errors.notes,"error-message":t(i).errors.notes,rules:[_=>_&&_.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(i).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(i).processing,onClick:v[8]||(v[8]=_=>t(F).get(y.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Uo=Object.freeze(Object.defineProperty({__proto__:null,default:Eo},Symbol.toStringTag,{value:"Module"})),Do=["top","middle","bottom"],Ot=it({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:c=>Do.includes(c)}},setup(c,{slots:n}){const p=ee(()=>c.align!==void 0?{verticalAlign:c.align}:null),o=ee(()=>{const s=c.outline===!0&&c.color||c.textColor;return`q-badge flex inline items-center no-wrap q-badge--${c.multiLine===!0?"multi":"single"}-line`+(c.outline===!0?" q-badge--outline":c.color!==void 0?` bg-${c.color}`:"")+(s!==void 0?` text-${s}`:"")+(c.floating===!0?" q-badge--floating":"")+(c.rounded===!0?" q-badge--rounded":"")+(c.transparent===!0?" q-badge--transparent":"")});return()=>ce("div",{class:o.value,style:p.value,role:"status","aria-label":c.label},Ea(n.default,c.label!==void 0?[c.label]:[]))}}),jo={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Lo={class:"q-pa-sm"},Bo={class:"full-width row flex-center text-grey-8 q-gutter-sm"},zo={class:"flex justify-end"},pa="Transaksi Dompet Santri",Ho={__name:"Index",setup(c){const n=ve(),p=C(!1),o=C([]),s=C(!0),f=C(null),r=C(null),i=Le(r),m=new Date().getFullYear(),y=new Date().getMonth()+1,v=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...ft(m-2,m-1).reverse()],S=[{value:"all",label:"Semua Bulan"},...gt()],d=Ie({search:"",year:m,month:y,...Me()}),_=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!0}),V=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"customer",label:"Santri",field:"customer",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];we(()=>{Y()});const b=T=>ze({message:`Hapus transaksi #-${T.id}?`,url:route("admin.customer-wallet-transaction.delete",T.id),fetchItemsCallback:Y,loading:s}),Y=(T=null)=>{Ne({pagination:_,filter:d,props:T,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:s,tableRef:f})},M=()=>{Y()},$=ee(()=>n.screen.gt.sm?V:V.filter(T=>T.name==="datetime"||T.name==="action"));return Te(()=>d.year,T=>{T===null&&(d.month=null)}),(T,P)=>{const x=L("i-head"),h=L("authenticated-layout");return w(),I(Q,null,[e(x,{title:pa}),e(h,null,De({title:a(()=>[g(u(pa))]),"right-button":a(()=>[e(R,{icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:P[0]||(P[0]=k=>p.value=!p.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:P[1]||(P[1]=k=>t(F).get(T.route("admin.customer-wallet-transaction.add")))})]),default:a(()=>[l("div",Lo,[e(ye,{ref_key:"tableRef",ref:f,style:He({height:t(i)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:_.value,"onUpdate:pagination":P[6]||(P[6]=k=>_.value=k),filter:d.search,loading:s.value,columns:$.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:Y,"binary-state-sort":""},{loading:a(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":a(({icon:k,message:N,filter:B})=>[l("div",Bo,[l("span",null,u(N)+" "+u(B?" with term "+B:""),1)])]),body:a(k=>[e(_e,{props:k},{default:a(()=>[e(j,{key:"datetime",props:k,class:"wrap-column"},{default:a(()=>[l("div",null,[g(" #: "+u(k.row.formatted_id)+" ",1),P[7]||(P[7]=l("br",null,null,-1)),e(q,{name:"calendar_today"}),g(" "+u(t(Qe)(k.row.datetime))+" ("+u(t(nt)(k.row.datetime))+") ",1)]),l("div",null,[e(q,{name:"account_balance",class:"inline-icon"}),g(" "+u(k.row.finance_account?k.row.finance_account.name:"-"),1)]),t(n).screen.gt.sm?D("",!0):(w(),I(Q,{key:0},[e(We,{icon:"person",text:k.row.customer.username+" -"+k.row.customer.name},null,8,["text"]),l("div",null,[e(q,{name:"money",class:"inline-icon"}),g(" Rp. "+u(t(et)(k.row.amount)+t(z)(k.row.amount))+" ",1),e(Ot,null,{default:a(()=>[e(q,{name:"category"}),g(" "+u(k.row.type_label),1)]),_:2},1024)]),e(We,{text:k.row.notes,icon:"notes"},null,8,["text"])],64))]),_:2},1032,["props"]),e(j,{key:"customer",props:k},{default:a(()=>[e(We,{text:k.row.customer.username+" -"+k.row.customer.name},null,8,["text"])]),_:2},1032,["props"]),e(j,{key:"notes",props:k},{default:a(()=>[e(We,{text:k.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(j,{key:"amount",props:k,style:{"text-align":"right"}},{default:a(()=>[g(u(t(et)(k.row.amount)+t(z)(k.row.amount)),1)]),_:2},1032,["props"]),e(j,{key:"action",props:k},{default:a(()=>[l("div",zo,[e(R,{disabled:!t(Ye)(T.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:P[5]||(P[5]=X(()=>{},["stop"]))},{default:a(()=>[e(Be,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(qe,{style:{width:"200px"}},{default:a(()=>[K((w(),U(G,{onClick:X(N=>b(k.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>P[8]||(P[8]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",jo,[e(ne,{modelValue:d.year,"onUpdate:modelValue":[P[2]||(P[2]=k=>d.year=k),M],options:v,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(ne,{modelValue:d.month,"onUpdate:modelValue":[P[3]||(P[3]=k=>d.month=k),M],options:S,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:d.year===null},null,8,["modelValue","disable"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":P[4]||(P[4]=k=>d.search=k),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Yo=Object.freeze(Object.defineProperty({__proto__:null,default:Ho},Symbol.toStringTag,{value:"Module"}));let Fo=0;const Ko=["click","keydown"],Qo={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Fo++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Wo(c,n,p,o){const s=Ql(Ua,Et);if(s===Et)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Et;const{proxy:f}=St(),r=C(null),i=C(null),m=C(null),y=ee(()=>c.disable===!0||c.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},c.ripple===!0?{}:c.ripple)),v=ee(()=>s.currentModel.value===c.name),S=ee(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(v.value===!0?" q-tab--active"+(s.tabProps.value.activeClass?" "+s.tabProps.value.activeClass:"")+(s.tabProps.value.activeColor?` text-${s.tabProps.value.activeColor}`:"")+(s.tabProps.value.activeBgColor?` bg-${s.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(c.icon&&c.label&&s.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(c.noCaps===!0||s.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(c.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),d=ee(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(s.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(c.contentClass!==void 0?` ${c.contentClass}`:"")),_=ee(()=>c.disable===!0||s.hasFocus.value===!0||v.value===!1&&s.hasActiveTab.value===!0?-1:c.tabindex||0);function V(T,P){if(P!==!0&&r.value!==null&&r.value.focus(),c.disable!==!0){s.updateModel({name:c.name}),p("click",T);return}}function b(T){_l(T,[13,32])?V(T,!0):vl(T)!==!0&&T.keyCode>=35&&T.keyCode<=40&&T.altKey!==!0&&T.metaKey!==!0&&s.onKbdNavigate(T.keyCode,f.$el)===!0&&vt(T),p("keydown",T)}function Y(){const T=s.tabProps.value.narrowIndicator,P=[],x=ce("div",{ref:m,class:["q-tab__indicator",s.tabProps.value.indicatorClass]});c.icon!==void 0&&P.push(ce(q,{class:"q-tab__icon",name:c.icon})),c.label!==void 0&&P.push(ce("div",{class:"q-tab__label"},c.label)),c.alert!==!1&&P.push(c.alertIcon!==void 0?ce(q,{class:"q-tab__alert-icon",color:c.alert!==!0?c.alert:void 0,name:c.alertIcon}):ce("div",{class:"q-tab__alert"+(c.alert!==!0?` text-${c.alert}`:"")})),T===!0&&P.push(x);const h=[ce("div",{class:"q-focus-helper",tabindex:-1,ref:r}),ce("div",{class:d.value},Ea(n.default,P))];return T===!1&&h.push(x),h}const M={name:ee(()=>c.name),rootRef:i,tabIndicatorRef:m,routeData:o};Mt(()=>{s.unregisterTab(M)}),we(()=>{s.registerTab(M)});function $(T,P){const x={ref:i,class:S.value,tabindex:_.value,role:"tab","aria-selected":v.value===!0?"true":"false","aria-disabled":c.disable===!0?"true":void 0,onClick:V,onKeydown:b,...P};return K(ce(T,x,Y()),[[le,y.value]])}return{renderTab:$,$tabs:s}}const ct=it({name:"QTab",props:Qo,emits:Ko,setup(c,{slots:n,emit:p}){const{renderTab:o}=Wo(c,n,p);return()=>o("div")}});function Jo(c,n,p){const o=p===!0?["left","right"]:["top","bottom"];return`absolute-${n===!0?o[0]:o[1]}${c?` text-${c}`:""}`}const Go=["left","center","right","justify"],Kt=it({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:c=>Go.includes(c)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(c,{slots:n,emit:p}){const{proxy:o}=St(),{$q:s}=o,{registerTick:f}=Ut(),{registerTick:r}=Ut(),{registerTick:i}=Ut(),{registerTimeout:m,removeTimeout:y}=Bt(),{registerTimeout:v,removeTimeout:S}=Bt(),d=C(null),_=C(null),V=C(c.modelValue),b=C(!1),Y=C(!0),M=C(!1),$=C(!1),T=[],P=C(0),x=C(!1);let h=null,k=null,N;const B=ee(()=>({activeClass:c.activeClass,activeColor:c.activeColor,activeBgColor:c.activeBgColor,indicatorClass:Jo(c.indicatorColor,c.switchIndicator,c.vertical),narrowIndicator:c.narrowIndicator,inlineLabel:c.inlineLabel,noCaps:c.noCaps})),A=ee(()=>{const J=P.value,oe=V.value;for(let me=0;me<J;me++)if(T[me].name.value===oe)return!0;return!1}),W=ee(()=>`q-tabs__content--align-${b.value===!0?"left":$.value===!0?"justify":c.align}`),te=ee(()=>`q-tabs row no-wrap items-center q-tabs--${b.value===!0?"":"not-"}scrollable q-tabs--${c.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${c.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${c.mobileArrows===!0?"":"out"}-arrows`+(c.dense===!0?" q-tabs--dense":"")+(c.shrink===!0?" col-shrink":"")+(c.stretch===!0?" self-stretch":"")),H=ee(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+W.value+(c.contentClass!==void 0?` ${c.contentClass}`:"")),E=ee(()=>c.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),de=ee(()=>c.vertical!==!0&&s.lang.rtl===!0),Ce=ee(()=>yl===!1&&de.value===!0);Te(de,dt),Te(()=>c.modelValue,J=>{re({name:J,setCurrent:!0,skipEmit:!0})}),Te(()=>c.outsideArrows,je);function re({name:J,setCurrent:oe,skipEmit:me}){V.value!==J&&(me!==!0&&c["onUpdate:modelValue"]!==void 0&&p("update:modelValue",J),(oe===!0||c["onUpdate:modelValue"]===void 0)&&(It(V.value,J),V.value=J))}function je(){f(()=>{tt({width:d.value.offsetWidth,height:d.value.offsetHeight})})}function tt(J){if(E.value===void 0||_.value===null)return;const oe=J[E.value.container],me=Math.min(_.value[E.value.scroll],Array.prototype.reduce.call(_.value.children,(he,ge)=>he+(ge[E.value.content]||0),0)),ke=oe>0&&me>oe;b.value=ke,ke===!0&&r(dt),$.value=oe<parseInt(c.breakpoint,10)}function It(J,oe){const me=J!=null&&J!==""?T.find(he=>he.name.value===J):null,ke=oe!=null&&oe!==""?T.find(he=>he.name.value===oe):null;if($t===!0)$t=!1;else if(me&&ke){const he=me.tabIndicatorRef.value,ge=ke.tabIndicatorRef.value;h!==null&&(clearTimeout(h),h=null),he.style.transition="none",he.style.transform="none",ge.style.transition="none",ge.style.transform="none";const fe=he.getBoundingClientRect(),Ee=ge.getBoundingClientRect();ge.style.transform=c.vertical===!0?`translate3d(0,${fe.top-Ee.top}px,0) scale3d(1,${Ee.height?fe.height/Ee.height:1},1)`:`translate3d(${fe.left-Ee.left}px,0,0) scale3d(${Ee.width?fe.width/Ee.width:1},1,1)`,i(()=>{h=setTimeout(()=>{h=null,ge.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",ge.style.transform="none"},70)})}ke&&b.value===!0&&ut(ke.rootRef.value)}function ut(J){const{left:oe,width:me,top:ke,height:he}=_.value.getBoundingClientRect(),ge=J.getBoundingClientRect();let fe=c.vertical===!0?ge.top-ke:ge.left-oe;if(fe<0){_.value[c.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(fe),dt();return}fe+=c.vertical===!0?ge.height-he:ge.width-me,fe>0&&(_.value[c.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(fe),dt())}function dt(){const J=_.value;if(J===null)return;const oe=J.getBoundingClientRect(),me=c.vertical===!0?J.scrollTop:Math.abs(J.scrollLeft);de.value===!0?(Y.value=Math.ceil(me+oe.width)<J.scrollWidth-1,M.value=me>0):(Y.value=me>0,M.value=c.vertical===!0?Math.ceil(me+oe.height)<J.scrollHeight:Math.ceil(me+oe.width)<J.scrollWidth)}function Jt(J){k!==null&&clearInterval(k),k=setInterval(()=>{il(J)===!0&&Xe()},5)}function Gt(){Jt(Ce.value===!0?Number.MAX_SAFE_INTEGER:0)}function Xt(){Jt(Ce.value===!0?0:Number.MAX_SAFE_INTEGER)}function Xe(){k!==null&&(clearInterval(k),k=null)}function sl(J,oe){const me=Array.prototype.filter.call(_.value.children,Ee=>Ee===oe||Ee.matches&&Ee.matches(".q-tab.q-focusable")===!0),ke=me.length;if(ke===0)return;if(J===36)return ut(me[0]),me[0].focus(),!0;if(J===35)return ut(me[ke-1]),me[ke-1].focus(),!0;const he=J===(c.vertical===!0?38:37),ge=J===(c.vertical===!0?40:39),fe=he===!0?-1:ge===!0?1:void 0;if(fe!==void 0){const Ee=de.value===!0?-1:1,Je=me.indexOf(oe)+fe*Ee;return Je>=0&&Je<ke&&(ut(me[Je]),me[Je].focus({preventScroll:!0})),!0}}const rl=ee(()=>Ce.value===!0?{get:J=>Math.abs(J.scrollLeft),set:(J,oe)=>{J.scrollLeft=-oe}}:c.vertical===!0?{get:J=>J.scrollTop,set:(J,oe)=>{J.scrollTop=oe}}:{get:J=>J.scrollLeft,set:(J,oe)=>{J.scrollLeft=oe}});function il(J){const oe=_.value,{get:me,set:ke}=rl.value;let he=!1,ge=me(oe);const fe=J<ge?-1:1;return ge+=fe*5,ge<0?(he=!0,ge=0):(fe===-1&&ge<=J||fe===1&&ge>=J)&&(he=!0,ge=J),ke(oe,ge),dt(),he}function Zt(J,oe){for(const me in J)if(J[me]!==oe[me])return!1;return!0}function ul(){let J=null,oe={matchedLen:0,queryDiff:9999,hrefLen:0};const me=T.filter(fe=>fe.routeData!==void 0&&fe.routeData.hasRouterLink.value===!0),{hash:ke,query:he}=o.$route,ge=Object.keys(he).length;for(const fe of me){const Ee=fe.routeData.exact.value===!0;if(fe.routeData[Ee===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:Je,query:Rt,matched:fl,href:gl}=fe.routeData.resolvedLink.value,At=Object.keys(Rt).length;if(Ee===!0){if(Je!==ke||At!==ge||Zt(he,Rt)===!1)continue;J=fe.name.value;break}if(Je!==""&&Je!==ke||At!==0&&Zt(Rt,he)===!1)continue;const Ze={matchedLen:fl.length,queryDiff:ge-At,hrefLen:gl.length-Je.length};if(Ze.matchedLen>oe.matchedLen){J=fe.name.value,oe=Ze;continue}else if(Ze.matchedLen!==oe.matchedLen)continue;if(Ze.queryDiff<oe.queryDiff)J=fe.name.value,oe=Ze;else if(Ze.queryDiff!==oe.queryDiff)continue;Ze.hrefLen>oe.hrefLen&&(J=fe.name.value,oe=Ze)}if(J===null&&T.some(fe=>fe.routeData===void 0&&fe.name.value===V.value)===!0){$t=!1;return}re({name:J,setCurrent:!0})}function dl(J){if(y(),x.value!==!0&&d.value!==null&&J.target&&typeof J.target.closest=="function"){const oe=J.target.closest(".q-tab");oe&&d.value.contains(oe)===!0&&(x.value=!0,b.value===!0&&ut(oe))}}function ml(){m(()=>{x.value=!1},30)}function bt(){ta.avoidRouteWatcher===!1?v(ul):S()}function ea(){if(N===void 0){const J=Te(()=>o.$route.fullPath,bt);N=()=>{J(),N=void 0}}}function cl(J){T.push(J),P.value++,je(),J.routeData===void 0||o.$route===void 0?v(()=>{if(b.value===!0){const oe=V.value,me=oe!=null&&oe!==""?T.find(ke=>ke.name.value===oe):null;me&&ut(me.rootRef.value)}}):(ea(),J.routeData.hasRouterLink.value===!0&&bt())}function pl(J){T.splice(T.indexOf(J),1),P.value--,je(),N!==void 0&&J.routeData!==void 0&&(T.every(oe=>oe.routeData===void 0)===!0&&N(),bt())}const ta={currentModel:V,tabProps:B,hasFocus:x,hasActiveTab:A,registerTab:cl,unregisterTab:pl,verifyRouteModel:bt,updateModel:re,onKbdNavigate:sl,avoidRouteWatcher:!1};Gl(Ua,ta);function aa(){h!==null&&clearTimeout(h),Xe(),N!==void 0&&N()}let la,$t;return Mt(aa),Wl(()=>{la=N!==void 0,aa()}),Jl(()=>{la===!0&&(ea(),$t=!0,bt()),je()}),()=>ce("div",{ref:d,class:te.value,role:"tablist",onFocusin:dl,onFocusout:ml},[ce(wl,{onResize:tt}),ce("div",{ref:_,class:H.value,onScroll:dt},ht(n.default)),ce(q,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(Y.value===!0?"":" q-tabs__arrow--faded"),name:c.leftIcon||s.iconSet.tabs[c.vertical===!0?"up":"left"],onMousedownPassive:Gt,onTouchstartPassive:Gt,onMouseupPassive:Xe,onMouseleavePassive:Xe,onTouchendPassive:Xe}),ce(q,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(M.value===!0?"":" q-tabs__arrow--faded"),name:c.rightIcon||s.iconSet.tabs[c.vertical===!0?"down":"right"],onMousedownPassive:Xt,onTouchstartPassive:Xt,onMouseupPassive:Xe,onMouseleavePassive:Xe,onTouchendPassive:Xe})])}});function Xo(c){const n=[.06,6,50];return typeof c=="string"&&c.length&&c.split(":").forEach((p,o)=>{const s=parseFloat(p);s&&(n[o]=s)}),n}const Zo=kl({name:"touch-swipe",beforeMount(c,{value:n,arg:p,modifiers:o}){if(o.mouse!==!0&&_t.has.touch!==!0)return;const s=o.mouseCapture===!0?"Capture":"",f={handler:n,sensitivity:Xo(p),direction:sa(o),noop:hl,mouseStart(r){ia(r,f)&&$l(r)&&(xt(f,"temp",[[document,"mousemove","move",`notPassive${s}`],[document,"mouseup","end","notPassiveCapture"]]),f.start(r,!0))},touchStart(r){if(ia(r,f)){const i=r.target;xt(f,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","notPassiveCapture"],[i,"touchend","end","notPassiveCapture"]]),f.start(r)}},start(r,i){_t.is.firefox===!0&&jt(c,!0);const m=ra(r);f.event={x:m.left,y:m.top,time:Date.now(),mouse:i===!0,dir:!1}},move(r){if(f.event===void 0)return;if(f.event.dir!==!1){vt(r);return}const i=Date.now()-f.event.time;if(i===0)return;const m=ra(r),y=m.left-f.event.x,v=Math.abs(y),S=m.top-f.event.y,d=Math.abs(S);if(f.event.mouse!==!0){if(v<f.sensitivity[1]&&d<f.sensitivity[1]){f.end(r);return}}else if(window.getSelection().toString()!==""){f.end(r);return}else if(v<f.sensitivity[2]&&d<f.sensitivity[2])return;const _=v/i,V=d/i;f.direction.vertical===!0&&v<d&&v<100&&V>f.sensitivity[0]&&(f.event.dir=S<0?"up":"down"),f.direction.horizontal===!0&&v>d&&d<100&&_>f.sensitivity[0]&&(f.event.dir=y<0?"left":"right"),f.direction.up===!0&&v<d&&S<0&&v<100&&V>f.sensitivity[0]&&(f.event.dir="up"),f.direction.down===!0&&v<d&&S>0&&v<100&&V>f.sensitivity[0]&&(f.event.dir="down"),f.direction.left===!0&&v>d&&y<0&&d<100&&_>f.sensitivity[0]&&(f.event.dir="left"),f.direction.right===!0&&v>d&&y>0&&d<100&&_>f.sensitivity[0]&&(f.event.dir="right"),f.event.dir!==!1?(vt(r),f.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Sl(),f.styleCleanup=b=>{f.styleCleanup=void 0,document.body.classList.remove("non-selectable");const Y=()=>{document.body.classList.remove("no-pointer-events--children")};b===!0?setTimeout(Y,50):Y()}),f.handler({evt:r,touch:f.event.mouse!==!0,mouse:f.event.mouse,direction:f.event.dir,duration:i,distance:{x:v,y:d}})):f.end(r)},end(r){f.event!==void 0&&(Dt(f,"temp"),_t.is.firefox===!0&&jt(c,!1),f.styleCleanup!==void 0&&f.styleCleanup(!0),r!==void 0&&f.event.dir!==!1&&vt(r),f.event=void 0)}};if(c.__qtouchswipe=f,o.mouse===!0){const r=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";xt(f,"main",[[c,"mousedown","mouseStart",`passive${r}`]])}_t.has.touch===!0&&xt(f,"main",[[c,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[c,"touchmove","noop","notPassiveCapture"]])},updated(c,n){const p=c.__qtouchswipe;p!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&p.end(),p.handler=n.value),p.direction=sa(n.modifiers))},beforeUnmount(c){const n=c.__qtouchswipe;n!==void 0&&(Dt(n,"main"),Dt(n,"temp"),_t.is.firefox===!0&&jt(c,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete c.__qtouchswipe)}}),en={name:{required:!0},disable:Boolean},fa={setup(c,{slots:n}){return()=>ce("div",{class:"q-panel scroll",role:"tabpanel"},ht(n.default))}},tn={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},an=["update:modelValue","beforeTransition","transition"];function ln(){const{props:c,emit:n,proxy:p}=St(),{getCache:o}=Cl(),{registerTimeout:s}=Bt();let f,r;const i=C(null),m=C(null);function y(E){const de=c.vertical===!0?"up":"left";N((p.$q.lang.rtl===!0?-1:1)*(E.direction===de?1:-1))}const v=ee(()=>[[Zo,y,void 0,{horizontal:c.vertical!==!0,vertical:c.vertical,mouse:!0}]]),S=ee(()=>c.transitionPrev||`slide-${c.vertical===!0?"down":"right"}`),d=ee(()=>c.transitionNext||`slide-${c.vertical===!0?"up":"left"}`),_=ee(()=>`--q-transition-duration: ${c.transitionDuration}ms`),V=ee(()=>typeof c.modelValue=="string"||typeof c.modelValue=="number"?c.modelValue:String(c.modelValue)),b=ee(()=>({include:c.keepAliveInclude,exclude:c.keepAliveExclude,max:c.keepAliveMax})),Y=ee(()=>c.keepAliveInclude!==void 0||c.keepAliveExclude!==void 0);Te(()=>c.modelValue,(E,de)=>{const Ce=P(E)===!0?x(E):-1;r!==!0&&k(Ce===-1?0:Ce<x(de)?-1:1),i.value!==Ce&&(i.value=Ce,n("beforeTransition",E,de),s(()=>{n("transition",E,de)},c.transitionDuration))});function M(){N(1)}function $(){N(-1)}function T(E){n("update:modelValue",E)}function P(E){return E!=null&&E!==""}function x(E){return f.findIndex(de=>de.props.name===E&&de.props.disable!==""&&de.props.disable!==!0)}function h(){return f.filter(E=>E.props.disable!==""&&E.props.disable!==!0)}function k(E){const de=E!==0&&c.animated===!0&&i.value!==-1?"q-transition--"+(E===-1?S.value:d.value):null;m.value!==de&&(m.value=de)}function N(E,de=i.value){let Ce=de+E;for(;Ce!==-1&&Ce<f.length;){const re=f[Ce];if(re!==void 0&&re.props.disable!==""&&re.props.disable!==!0){k(E),r=!0,n("update:modelValue",re.props.name),setTimeout(()=>{r=!1});return}Ce+=E}c.infinite===!0&&f.length!==0&&de!==-1&&de!==f.length&&N(E,E===-1?f.length:-1)}function B(){const E=x(c.modelValue);return i.value!==E&&(i.value=E),!0}function A(){const E=P(c.modelValue)===!0&&B()&&f[i.value];return c.keepAlive===!0?[ce(Xl,b.value,[ce(Y.value===!0?o(V.value,()=>({...fa,name:V.value})):fa,{key:V.value,style:_.value},()=>E)])]:[ce("div",{class:"q-panel scroll",style:_.value,key:V.value,role:"tabpanel"},[E])]}function W(){if(f.length!==0)return c.animated===!0?[ce(za,{name:m.value},A)]:A()}function te(E){return f=xl(ht(E.default,[])).filter(de=>de.props!==null&&de.props.slot===void 0&&P(de.props.name)===!0),f.length}function H(){return f}return Object.assign(p,{next:M,previous:$,goTo:T}),{panelIndex:i,panelDirectives:v,updatePanelsList:te,updatePanelIndex:B,getPanelContent:W,getEnabledPanels:h,getPanels:H,isValidPanelName:P,keepAliveProps:b,needsUniqueKeepAliveWrapper:Y,goToPanelByOffset:N,goToPanel:T,nextPanel:M,previousPanel:$}}const pt=it({name:"QTabPanel",props:en,setup(c,{slots:n}){return()=>ce("div",{class:"q-tab-panel",role:"tabpanel"},ht(n.default))}}),Qt=it({name:"QTabPanels",props:{...tn,...Da},emits:an,setup(c,{slots:n}){const p=St(),o=ja(c,p.proxy.$q),{updatePanelsList:s,getPanelContent:f,panelDirectives:r}=ln(),i=ee(()=>"q-tab-panels q-panel-parent"+(o.value===!0?" q-tab-panels--dark q-dark":""));return()=>(s(n),ql("div",{class:i.value},f(),"pan",c.swipeable,()=>r.value))}}),on={class:"q-gutter-sm"},nn={class:"q-gutter-sm"},sn={class:"col col-lg-6 q-pa-sm"},rn={class:"row"},un={class:"detail"},dn={key:0},mn={class:"text-grey-8"},cn={key:1},pn={class:"text-grey-8"},fn={class:"text-grey-8"},gn={key:2},bn={class:"text-grey-8"},_n={class:"full-width row flex-center text-grey-8 q-gutter-sm"},vn={class:"text-grey-8"},ga="Rincian Santri",yn={__name:"Detail",setup(c){const n=pe(),p=C("main"),o=C([]),s=C(!0),f=Ie({customer_id:n.props.data.id,...Me()}),r=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),i=[{name:"id",label:"#",field:"id",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah",field:"amount",align:"right"}];we(()=>{m()});const m=(S=null)=>Ne({pagination:r,filter:f,props:S,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:s}),y=ve(),v=ee(()=>y.screen.gt.sm?i:i.filter(S=>S.name==="id"));return(S,d)=>{const _=L("i-head"),V=L("authenticated-layout");return w(),I(Q,null,[e(_,{title:ga}),e(V,null,{title:a(()=>[g(u(ga))]),"left-button":a(()=>[l("div",on,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=b=>S.$inertia.get(S.route("admin.customer.index")))})])]),"right-button":a(()=>[l("div",nn,[e(R,{icon:"edit",dense:"",color:"primary",onClick:d[1]||(d[1]=b=>S.$inertia.get(S.route("admin.customer.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(Se,{class:"row justify-center"},{default:a(()=>[l("div",sn,[l("div",rn,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Kt,{modelValue:p.value,"onUpdate:modelValue":d[2]||(d[2]=b=>p.value=b),align:"left"},{default:a(()=>[e(ct,{name:"main",label:"Info Utama"}),e(ct,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(Qt,{modelValue:p.value,"onUpdate:modelValue":d[4]||(d[4]=b=>p.value=b)},{default:a(()=>[e(pt,{name:"main"},{default:a(()=>[l("table",un,[l("tbody",null,[d[28]||(d[28]=l("tr",null,[l("td",{colspan:"3"},[l("div",{class:"text-bold text-grey-8"},"Info Pelanggan")])],-1)),l("tr",null,[d[5]||(d[5]=l("td",{style:{width:"120px"}},"Username",-1)),d[6]||(d[6]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.username),1)]),l("tr",null,[d[7]||(d[7]=l("td",null,"Jenis",-1)),d[8]||(d[8]=l("td",null,":",-1)),l("td",null,u(S.$CONSTANTS.CUSTOMER_TYPES[t(n).props.data.type]),1)]),l("tr",null,[d[9]||(d[9]=l("td",null,"Nama",-1)),d[10]||(d[10]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[d[11]||(d[11]=l("td",null,"No. Telepon",-1)),d[12]||(d[12]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.phone),1)]),l("tr",null,[d[13]||(d[13]=l("td",null,"Alamat",-1)),d[14]||(d[14]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.address),1)]),l("tr",null,[d[15]||(d[15]=l("td",null,"Saldo",-1)),d[16]||(d[16]=l("td",null,":",-1)),l("td",null,"Rp. "+u(t(z)(t(n).props.data.balance)),1)]),l("tr",null,[d[17]||(d[17]=l("td",null,"Status",-1)),d[18]||(d[18]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),d[29]||(d[29]=l("tr",null,[l("td",{colspan:"3"},[l("div",{class:"text-bold text-grey-8 q-mt-md"}," Info Akun ")])],-1)),t(n).props.data.created_at?(w(),I("tr",dn,[d[19]||(d[19]=l("td",null,"Dibuat",-1)),d[20]||(d[20]=l("td",null,":",-1)),l("td",null,[g(u(t(Qe)(t(n).props.data.created_at))+" ",1),l("span",mn,"("+u(t(nt)(t(n).props.data.created_at))+")",1)])])):D("",!0),t(n).props.data.updated_at?(w(),I("tr",cn,[d[21]||(d[21]=l("td",null,"Diperbarui",-1)),d[22]||(d[22]=l("td",null,":",-1)),l("td",null,[g(u(t(Qe)(t(n).props.data.updated_at))+" ",1),l("span",pn,"("+u(t(nt)(t(n).props.data.updated_at))+")",1)])])):D("",!0),l("tr",null,[d[23]||(d[23]=l("td",null,"Terakhir login",-1)),d[24]||(d[24]=l("td",null,":",-1)),l("td",null,[g(u(t(n).props.data.last_login_datetime?t(Qe)(t(n).props.data.last_login_datetime):"Belum pernah login")+" ",1),l("span",fn,"("+u(t(nt)(t(n).props.data.last_login_datetime))+")",1)])]),t(n).props.data.last_activity_datetime?(w(),I("tr",gn,[d[26]||(d[26]=l("td",null,"Aktifitas Terakhir",-1)),d[27]||(d[27]=l("td",null,":",-1)),l("td",null,[g(u(t(Qe)(t(n).props.data.last_activity_datetime))+" ",1),l("span",bn,[g("("+u(t(nt)(t(n).props.data.last_activity_datetime))+") ",1),d[25]||(d[25]=l("br",null,null,-1)),g(u(t(n).props.data.last_activity_description),1)])])])):D("",!0)])])]),_:1}),e(pt,{name:"history"},{default:a(()=>[e(ye,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":d[3]||(d[3]=b=>r.value=b),filter:f.search,loading:s.value,columns:v.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:m,"binary-state-sort":""},{loading:a(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":a(({icon:b,message:Y,filter:M})=>[l("div",_n,[l("span",null,u(Y)+" "+u(M?" with term "+M:""),1)])]),body:a(b=>[e(_e,{props:b},{default:a(()=>[e(j,{key:"id",props:b},{default:a(()=>[l("div",null,[l("b",null,"#"+u(b.row.formatted_id),1),g(" - "+u(t(Qe)(b.row.datetime)),1)]),e(Ot,{size:"xs"},{default:a(()=>[e(q,{name:"category"}),g(" "+u(b.row.type_label),1)]),_:2},1024),t(y).screen.lt.md?(w(),I(Q,{key:0},[l("div",null,[e(q,{name:"money"}),l("span",{class:be(b.row.amount<0?"text-red-10":b.row.amount>0?"text-green-10":"")},u(t(et)(b.row.amount))+" "+u(t(z)(b.row.amount)),3)]),l("div",vn,[e(q,{name:"notes"}),g(" "+u(b.row.notes),1)])],64)):D("",!0)]),_:2},1032,["props"]),e(j,{key:"notes",props:b},{default:a(()=>[g(u(b.row.notes),1)]),_:2},1032,["props"]),e(j,{key:"amount",props:b},{default:a(()=>[l("div",{class:be(b.row.amount<0?"text-red-10":b.row.amount>0?"text-green-10":"")},u(t(et)(b.row.amount))+" "+u(t(z)(b.row.amount)),3)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},wn=Object.freeze(Object.defineProperty({__proto__:null,default:yn},Symbol.toStringTag,{value:"Module"})),kn={class:"q-gutter-sm"},hn={class:"col col-lg-6 q-pa-sm"},Sn={__name:"Editor",setup(c){const n=pe(),p=(n.props.data.id?"Edit":"Tambah")+" Pelanggan",o=$e({id:n.props.data.id,username:n.props.data.username,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,active:!!n.props.data.active,password:n.props.data.password}),s=()=>xe({form:o,url:route("admin.customer.save")});return(f,r)=>{const i=L("i-head"),m=L("authenticated-layout");return w(),I(Q,null,[e(i,{title:p}),e(m,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",kn,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=y=>f.$inertia.get(f.route("admin.customer.index")))})])]),default:a(()=>[e(Se,{class:"row justify-center"},{default:a(()=>[l("div",hn,[e(Ve,{class:"row",onSubmit:X(s,["prevent"]),onValidationError:t(Re)},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=y=>t(o).id=y)},null,512),[[Fe,t(o).id]]),e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[e(Z,{modelValue:t(o).username,"onUpdate:modelValue":r[2]||(r[2]=y=>t(o).username=y),modelModifiers:{trim:!0},label:"NIS",error:!!t(o).errors.username,disable:t(o).processing,"error-message":t(o).errors.username,rules:[y=>y&&y.length>0||"NIS harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Z,{modelValue:t(o).name,"onUpdate:modelValue":r[3]||(r[3]=y=>t(o).name=y),modelModifiers:{trim:!0},label:"Nama Santri",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Z,{modelValue:t(o).phone,"onUpdate:modelValue":r[4]||(r[4]=y=>t(o).phone=y),modelModifiers:{trim:!0},type:"text",label:"No HP",disable:t(o).processing,error:!!t(o).errors.phone,"error-message":t(o).errors.phone,rules:[y=>y&&y.length>0||"No HP harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(Z,{modelValue:t(o).address,"onUpdate:modelValue":r[5]||(r[5]=y=>t(o).address=y),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Alamat",disable:t(o).processing,error:!!t(o).errors.address,"error-message":t(o).errors.address,rules:[y=>y&&y.length>0||"Alamat harus diisi."],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(Z,{modelValue:t(o).password,"onUpdate:modelValue":r[6]||(r[6]=y=>t(o).password=y),type:"password",label:t(o).id?"Kata Sandi Baru (Wajib diisi)":"Kata Sandi (Isi jika ingin mengganti)",disable:t(o).processing,error:!!t(o).errors.password,"error-message":t(o).errors.password,"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","label","disable","error","error-message"]),e(Yt,{modelValue:t(o).active,"onUpdate:modelValue":r[7]||(r[7]=y=>t(o).active=y),label:"Aktif",disable:t(o).processing},null,8,["modelValue","disable"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(R,{type:"submit",label:"Simpan",icon:"save",color:"primary",disable:t(o).processing},null,8,["disable"]),e(R,{label:"Batal",icon:"cancel",disable:t(o).processing,onClick:r[8]||(r[8]=y=>t(F).get(f.route("admin.customer.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},$n=Object.freeze(Object.defineProperty({__proto__:null,default:Sn},Symbol.toStringTag,{value:"Module"})),xn={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Cn={class:"q-pa-sm"},qn={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Vn={class:"flex justify-end"},ba="Pelanggan",Tn={__name:"Index",setup(c){const n=ve(),p=C(!1),o=C([]),s=C(!0),f=C(null),r=C(null),i=Le(r),m=Ie({search:"",status:"active",...Me()}),y=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),v=[{name:"username",label:n.screen.lt.md?"Pelanggan":"Kode",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right"},{name:"phone",label:"No HP",field:"phone",align:"left"},{name:"address",label:"Alamat",field:"address",align:"left"},{name:"action",align:"right"}],S=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];we(()=>{_()});const d=M=>ze({message:`Hapus Santri ${M.name}?`,url:route("admin.customer.delete",M.id),fetchItemsCallback:_,loading:s}),_=(M=null)=>{Ne({pagination:y,filter:m,props:M,rows:o,url:route("admin.customer.data"),loading:s,tableRef:f})},V=()=>_(),b=M=>F.get(route("admin.customer.detail",{id:M.id})),Y=ee(()=>n.screen.gt.sm?v:v.filter(M=>M.name==="username"||M.name==="action"));return(M,$)=>{const T=L("i-head"),P=L("authenticated-layout");return w(),I(Q,null,[e(T,{title:ba}),e(P,null,De({title:a(()=>[g(u(ba))]),"right-button":a(()=>[e(R,{icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:$[0]||($[0]=x=>p.value=!p.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:$[1]||($[1]=x=>t(F).get(M.route("admin.customer.add")))})]),default:a(()=>[l("div",Cn,[e(ye,{class:"full-height-table",style:He({height:t(i)}),ref_key:"tableRef",ref:f,flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":$[5]||($[5]=x=>y.value=x),filter:m.search,loading:s.value,columns:Y.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:_,"binary-state-sort":""},{loading:a(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":a(({icon:x,message:h,filter:k})=>[l("div",qn,[l("span",null,u(h)+" "+u(k?" with term "+k:""),1)])]),body:a(x=>[e(_e,{props:x,class:be([x.row.active?"":"bg-red-1","cursor-pointer"]),onClick:h=>b(x.row)},{default:a(()=>[e(j,{key:"username",props:x,class:"wrap-column"},{default:a(()=>[l("div",null,[t(n).screen.lt.md?(w(),U(q,{key:0,name:"person"})):D("",!0),g(" "+u(x.row.username),1)]),t(n).screen.lt.md?(w(),I(Q,{key:0},[l("div",null,[t(n).screen.lt.md?(w(),U(q,{key:0,name:"person"})):D("",!0),g(" "+u(x.row.name),1)]),l("div",null,[e(q,{name:"phone"}),g(" "+u(x.row.phone),1)]),e(We,{text:x.row.address,icon:"home_pin"},null,8,["text"]),l("div",null,[e(q,{name:"wallet"}),g(" Rp. "+u(t(z)(x.row.balance)),1)])],64)):D("",!0)]),_:2},1032,["props"]),e(j,{key:"name",props:x},{default:a(()=>[g(u(x.row.name),1)]),_:2},1032,["props"]),e(j,{key:"balance",props:x},{default:a(()=>[g(u(t(z)(x.row.balance)),1)]),_:2},1032,["props"]),e(j,{key:"phone",props:x},{default:a(()=>[g(u(x.row.phone),1)]),_:2},1032,["props"]),e(j,{key:"address",props:x},{default:a(()=>[e(We,{text:x.row.address},null,8,["text"])]),_:2},1032,["props"]),e(j,{key:"action",props:x},{default:a(()=>[l("div",Vn,[e(R,{disabled:!t(Ye)(M.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:$[4]||($[4]=X(()=>{},["stop"]))},{default:a(()=>[e(Be,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(qe,{style:{width:"200px"}},{default:a(()=>[K((w(),U(G,{clickable:"",onClick:X(h=>t(F).get(M.route("admin.customer.edit",x.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(O,{icon:"edit"},{default:a(()=>$[6]||($[6]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]]),K((w(),U(G,{onClick:X(h=>d(x.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>$[7]||($[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",xn,[e(ne,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:m.status,"onUpdate:modelValue":[$[2]||($[2]=x=>m.status=x),V],options:S,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":$[3]||($[3]=x=>m.search=x),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Pn=Object.freeze(Object.defineProperty({__proto__:null,default:Tn},Symbol.toStringTag,{value:"Module"})),Mn={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Nn={class:"q-pa-sm"},On={class:"q-pa-none"},In={class:"q-pb-sm"},Rn={class:"row q-col-gutter-sm"},An={class:"row items-center no-wrap"},En={class:"q-ml-md"},Un={class:"text-subtitle2 text-grey-8"},Dn={class:"text-h6 text-weight-bold"},jn={class:"row q-col-gutter-sm q-pb-sm"},Ln={class:"col-md-6 col-12"},Bn={class:"col-md-6 col-12"},zn={class:"row q-col-gutter-sm q-pb-sm"},Hn={class:"col-md-6 col-12"},Yn={class:"col-md-6 col-12"},_a="Dashboard",Fn={__name:"Index",setup(c){to([ao,lo,oo,no,so,ro,io]);const n=C({summary:{total_santri:1500,active_santri:1450,total_sales:155e5,total_transactions:1250,total_wallet_balance:55e6,total_topup:75e6,total_purchase:85e6,total_withdrawal:65e6},top_customers_sales:[{name:"Wildan Medina",value:1822e3},{name:"Syafiq",value:1754500},{name:"Umar",value:1534e3},{name:"Fauzan",value:1212e3},{name:"Rizky",value:981500}],top_customers_topup:[{name:"Abdullah",value:175e4},{name:"Abdurrahman",value:15e5},{name:"Zayd",value:125e4},{name:"Syafiq",value:8e5},{name:"Umar",value:65e4}],monthly_sales:{labels:["Jan","Feb","Mar","Apr","Mei","Jun"],data:[14123e3,21344e3,15155e3,17128e3,12557e3,12723e3]},transaction_type_distribution:[{value:500,name:"Deposit"},{value:350,name:"Purchase"},{value:200,name:"Withdrawal"},{value:200,name:"Refund"}]}),p=C(!1),o=C(Me().month??"this_month"),s=C([{value:"this_month",label:"Bulan Ini"},{value:"prev_month",label:"1 Bulan Sebelumnya"},{value:"prev_2month",label:"2 Bulan Sebelumnya"},{value:"prev_3month",label:"3 Bulan Sebelumnya"}]),f=()=>{F.visit(route("admin.dashboard",{month:o.value}))},r=["#82B1FF","#4DB6AC","#FFB74D","#9575CD"],i=ee(()=>({title:{text:"Penjualan Bulanan",left:"center"},tooltip:{trigger:"axis",formatter:function(v){let S=v[0].name+"<br/>";return v.forEach(function(d){S+=d.marker+" "+d.seriesName+": "+z(d.value)+"<br/>"}),S}},xAxis:{type:"category",data:n.value.monthly_sales.labels,axisLabel:{color:"#616161"}},yAxis:{type:"value",axisLabel:{formatter:v=>z(v),color:"#616161"}},series:[{name:"Penjualan",type:"bar",data:n.value.monthly_sales.data,itemStyle:{borderRadius:[5,5,0,0],color:r[0]}}]})),m=ee(()=>({title:{text:"Distribusi Jenis Transaksi",left:"center"},tooltip:{trigger:"item",formatter:function(v){return v.name+"<br/>"+v.seriesName+": "+z(v.value)+" ("+v.percent+"%)"}},legend:{orient:"vertical",left:"left",textStyle:{color:"#616161"}},series:[{name:"Jumlah Transaksi",type:"pie",radius:["40%","70%"],data:n.value.transaction_type_distribution,itemStyle:{borderRadius:5,borderColor:"#fff",borderWidth:2,color:v=>r[v.dataIndex%r.length]},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})),y=C([{label:"Total Santri",value:ee(()=>n.value.summary.total_santri),icon:"groups",color:"primary",bgColor:"#e3f2fd"},{label:"Total Penjualan",value:ee(()=>z(n.value.summary.total_sales)),icon:"shopping_cart",color:"green-7",bgColor:"#e8f5e9"},{label:"Saldo Dompet Santri",value:ee(()=>z(n.value.summary.total_wallet_balance)),icon:"account_balance_wallet",color:"orange-9",bgColor:"#fff3e0"},{label:"Total Transaksi",value:ee(()=>z(n.value.summary.total_transactions)),icon:"swap_horiz",color:"purple-8",bgColor:"#f3e5f5"}]);return(v,S)=>{const d=L("i-head"),_=L("authenticated-layout");return w(),I(Q,null,[e(d,{title:_a}),e(_,null,De({title:a(()=>[g(u(_a))]),"right-button":a(()=>[e(R,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:S[0]||(S[0]=V=>p.value=!p.value)},null,8,["icon"])]),default:a(()=>[l("div",Nn,[l("div",On,[l("div",In,[S[2]||(S[2]=l("div",{class:"text-h6 text-bold text-grey-8 q-mb-sm"}," Statistik Ringkasan ",-1)),l("div",Rn,[(w(!0),I(Q,null,st(y.value,(V,b)=>(w(),I("div",{key:b,class:"col-12 col-md-3"},[e(ie,{square:"",bordered:"",flat:"",class:"q-pa-md",style:{width:"100%"}},{default:a(()=>[l("div",An,[e(mt,{icon:V.icon,color:V.color,"text-color":V.bgColor},null,8,["icon","color","text-color"]),l("div",En,[l("div",Un,u(V.label),1),l("div",Dn,u(V.value),1)])])]),_:2},1024)]))),128))])])]),l("div",jn,[l("div",Ln,[e(ie,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:a(()=>[S[3]||(S[3]=l("div",{class:"text-h6 q-pb-sm"},"Penjualan Bulanan",-1)),e(t(qt),{class:"chart",option:i.value,autoresize:""},null,8,["option"])]),_:1})]),l("div",Bn,[e(ie,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:a(()=>[S[4]||(S[4]=l("div",{class:"text-h6 q-pb-sm"},"Distribusi Transaksi",-1)),e(t(qt),{class:"chart",option:m.value,autoresize:""},null,8,["option"])]),_:1})])]),l("div",zn,[l("div",Hn,[e(ie,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:a(()=>[S[5]||(S[5]=l("div",{class:"text-h6 q-mb-sm"},"Top 5 Pembelian Santri",-1)),e(qe,{separator:""},{default:a(()=>[(w(!0),I(Q,null,st(n.value.top_customers_sales,(V,b)=>(w(),U(G,{key:b},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(mt,{color:"primary","text-color":"white",size:"sm"},{default:a(()=>[g(u(b+1),1)]),_:2},1024)]),_:2},1024),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>[g(u(V.name),1)]),_:2},1024)]),_:2},1024),e(O,{side:""},{default:a(()=>[e(ue,{class:"text-primary"},{default:a(()=>[g(u(t(z)(V.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),l("div",Yn,[e(ie,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:a(()=>[S[6]||(S[6]=l("div",{class:"text-h6 q-mb-sm"},"Top 5 Top Up Santri",-1)),e(qe,{separator:""},{default:a(()=>[(w(!0),I(Q,null,st(n.value.top_customers_topup,(V,b)=>(w(),U(G,{key:b},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(mt,{color:"green-7","text-color":"white",size:"sm"},{default:a(()=>[g(u(b+1),1)]),_:2},1024)]),_:2},1024),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>[g(u(V.name),1)]),_:2},1024)]),_:2},1024),e(O,{side:""},{default:a(()=>[e(ue,{class:"text-green-7"},{default:a(()=>[g(u(t(z)(V.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar"},{default:a(()=>[l("div",Mn,[e(ne,{class:"custom-select col-12",style:{"min-width":"150px"},modelValue:o.value,"onUpdate:modelValue":[S[1]||(S[1]=V=>o.value=V),f],options:s.value,label:"Bulan",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue","options"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},Kn=rt(Fn,[["__scopeId","data-v-45790296"]]),Qn=Object.freeze(Object.defineProperty({__proto__:null,default:Kn},Symbol.toStringTag,{value:"Module"})),Wn={class:"row q-col-gutter-sm"},Jn={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},Gn={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},Xn={__name:"ChartCard",setup(c){const n=pe(),p={tooltip:{show:!0},title:{text:"Servis Diterima vs Sukses vs Gagal",textStyle:{color:"#444"},left:"center"},legend:{top:"10%",data:[n.props.data.chart1_data.data[0].label,n.props.data.chart1_data.data[1].label,n.props.data.chart1_data.data[2].label]},grid:{containLabel:!0,left:"5px",bottom:"5px",right:"5px"},xAxis:{show:!0,type:"category",data:n.props.data.chart1_data.x_axis_label_data,axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{show:!0,color:"#ccc",type:"dashed"}},axisLabel:{show:!0},boundaryGap:!0},yAxis:{show:!0,type:"value",axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisLabel:{show:!0},splitLine:{lineStyle:{type:"dashed",color:"#ccc"}},axisTick:{show:!0,lineStyle:{show:!0,color:"#fff",type:"dashed"}}},series:[{name:n.props.data.chart1_data.data[0].label,type:"line",lineStyle:{color:"#007bff"},itemStyle:{color:"#007bff"},smooth:!0,data:n.props.data.chart1_data.data[0].data},{name:n.props.data.chart1_data.data[1].label,type:"line",lineStyle:{color:"#28a745"},itemStyle:{color:"#28a745"},smooth:!0,data:n.props.data.chart1_data.data[1].data},{name:n.props.data.chart1_data.data[2].label,type:"line",lineStyle:{color:"#dc3545"},itemStyle:{color:"#dc3545"},smooth:!0,data:n.props.data.chart1_data.data[2].data}],color:["white"]},o={tooltip:{show:!0},title:{text:"Pendapatan Servis",textStyle:{color:"#444"},left:"center"},legend:{top:"10%",data:[n.props.data.chart2_data.data[0].label]},grid:{containLabel:!0,left:"5px",bottom:"5px",right:"5px"},xAxis:{show:!0,type:"category",data:n.props.data.chart1_data.x_axis_label_data,axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{show:!0,color:"#ccc",type:"dashed"}},axisLabel:{show:!0},boundaryGap:!0},yAxis:{show:!0,type:"value",axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisLabel:{show:!0},splitLine:{lineStyle:{type:"dashed",color:"#ccc"}},axisTick:{show:!0,lineStyle:{show:!0,color:"#fff",type:"dashed"}}},series:[{name:n.props.data.chart2_data.data[0].label,type:"bar",itemStyle:{color:"#007bff"},smooth:!0,data:n.props.data.chart2_data.data[0].data}],color:["white"]};return(s,f)=>(w(),I("div",Wn,[l("div",Jn,[e(ie,{square:"",class:"no-shadow",bordered:"",style:{"background-color":"#fff"}},{default:a(()=>[e(ae,{class:"q-pa-none"},{default:a(()=>[e(t(qt),{option:p,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"250px"}})]),_:1})]),_:1})]),l("div",Gn,[e(ie,{class:"no-shadow",square:"",bordered:"",style:{"background-color":"#fff"}},{default:a(()=>[e(ae,{class:"q-pa-none"},{default:a(()=>[e(t(qt),{option:o,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"250px"}})]),_:1})]),_:1})])]))}},Zn=rt(Xn,[["__scopeId","data-v-5c77cb08"]]),es=Object.freeze(Object.defineProperty({__proto__:null,default:Zn},Symbol.toStringTag,{value:"Module"})),ts={class:"row"},as={class:"row q-col-gutter-sm"},ls={class:"col-sm-6 col-xs-12"},os={class:"col-sm-6 col-xs-12"},ns={class:"col-md-3 col-sm-6 col-xs-12"},ss={class:"col-md-3 col-sm-6 col-xs-12"},rs={class:"col-md-3 col-sm-6 col-xs-12"},is={class:"col-md-3 col-sm-6 col-xs-12"};const us={__name:"SummaryCard",setup(c){pe();const n=(p,o)=>{const f={...{order_status:"all",service_status:"all",repair_status:"all",payment_status:"all",search:""},...o};localStorage.setItem("fixsync.service-orders.filter",JSON.stringify(f)),F.visit(p,{data:f})};return(p,o)=>(w(),I("div",ts,[e(ie,{class:"bg-transparent no-shadow no-border col",bordered:""},{default:a(()=>[e(ae,{class:"q-pa-none"},{default:a(()=>[l("div",as,[l("div",ls,[e(G,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:o[0]||(o[0]=s=>p.$inertia.visit(p.route("admin.customer.index",{status:"active"})))},{default:a(()=>[e(O,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(q,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(O,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ue,{class:"text-white text-h6 text-weight-bolder"},{default:a(()=>[g(u(p.$page.props.data.active_customer_count),1)]),_:1}),e(ue,null,{default:a(()=>o[5]||(o[5]=[g("Santri Aktif")])),_:1})]),_:1})]),_:1})]),l("div",os,[e(G,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:o[1]||(o[1]=s=>p.$inertia.visit(p.route("admin.customer.index",{status:"active"})))},{default:a(()=>[e(O,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(q,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(O,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ue,{class:"text-white text-h6 text-weight-bolder"},{default:a(()=>[g(u(p.$page.props.data.active_user_count),1)]),_:1}),e(ue,null,{default:a(()=>o[6]||(o[6]=[g("Pengguna Aktif")])),_:1})]),_:1})]),_:1})]),l("div",ns,[e(G,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:a(()=>[e(O,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(q,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(O,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ue,{class:"text-white text-weight-bold"},{default:a(()=>[g(" Rp. "+u(t(z)(p.$page.props.data.total_finance_account_balance)),1)]),_:1}),e(ue,null,{default:a(()=>o[7]||(o[7]=[g("Total Saldo Koperasi")])),_:1})]),_:1})]),_:1})]),l("div",ss,[e(G,{style:"background-color: #dc3545",class:"q-pa-none"},{default:a(()=>[e(O,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(q,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(O,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ue,{class:"text-white text-weight-bold"},{default:a(()=>[g(" Rp. "+u(t(z)(p.$page.props.data.total_customer_balance)),1)]),_:1}),e(ue,null,{default:a(()=>o[8]||(o[8]=[g("Total Saldo Santri")])),_:1})]),_:1})]),_:1})]),l("div",rs,[e(G,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:a(()=>[e(O,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(q,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(O,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ue,{class:"text-white text-weight-bold"},{default:a(()=>[g(" Rp. "+u(t(z)(p.$page.props.data.total_customer_debt)),1)]),_:1}),e(ue,null,{default:a(()=>o[9]||(o[9]=[g("Total Utang Santri")])),_:1})]),_:1})]),_:1})]),l("div",is,[e(G,{style:"background-color: #dc3545",class:"q-pa-none"},{default:a(()=>[e(O,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(q,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(O,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ue,{class:"text-white text-weight-bold"},{default:a(()=>[g(" Rp. "+u(t(z)(p.$page.props.data.total_customer_credit)),1)]),_:1}),e(ue,null,{default:a(()=>o[10]||(o[10]=[g("Total Piutang Santri")])),_:1})]),_:1})]),_:1})]),D("",!0),D("",!0),D("",!0)])]),_:1})]),_:1})]))}},ds=Object.freeze(Object.defineProperty({__proto__:null,default:us},Symbol.toStringTag,{value:"Module"})),ms={class:"text-subtitle1 text-bold text-grey-9"},cs={class:"flex items-center justify-between"},ps={__name:"TopCard",props:{items:Array,title:String,route_url:String},setup(c){const n=c;return(p,o)=>{const s=L("i-link");return w(),U(ie,{class:"no-shadow",square:"",bordered:""},{default:a(()=>[e(ae,null,{default:a(()=>[l("div",ms,u(n.title),1),l("div",null,[(w(!0),I(Q,null,st(n.items,f=>(w(),I("div",{key:f.id},[l("div",cs,[l("span",null,[e(s,{href:p.route(n.route_url,{id:f.id})},{default:a(()=>[g(u(f.name),1)]),_:2},1032,["href"])]),l("span",null,"Rp. "+u(t(z)(f.total)),1)])]))),128))])]),_:1})]),_:1})}}},fs=Object.freeze(Object.defineProperty({__proto__:null,default:ps},Symbol.toStringTag,{value:"Module"})),gs={class:"q-gutter-sm"},bs={class:"q-gutter-sm"},_s={class:"col col-lg-6 q-pa-sm"},vs={class:"row"},ys={class:"detail"},ws={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ks={class:"flex q-gutter-sm"},hs={class:""},va="Rincian Akun",Ss={__name:"Detail",setup(c){const n=pe(),p=C("main"),o=C([]),s=C(!0),f=Ie({...Me()}),r=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),i=[{name:"id",label:"#",field:"id",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!0},{name:"quantity",label:"Jumlah",field:"quantity",align:"center",sortable:!0}];we(()=>{m()});const m=(S=null)=>Ne({pagination:r,filter:f,props:S,rows:o,loading:s}),y=ve(),v=ee(()=>y.screen.gt.sm?i:i.filter(S=>S.name==="id"));return(S,d)=>{const _=L("i-head"),V=L("authenticated-layout");return w(),I(Q,null,[e(_,{title:va}),e(V,null,{title:a(()=>[g(u(va))]),"left-button":a(()=>[l("div",gs,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=b=>S.$inertia.get(S.route("admin.finance-account.index")))})])]),"right-button":a(()=>[l("div",bs,[e(R,{icon:"edit",dense:"",color:"primary",onClick:d[1]||(d[1]=b=>t(F).get(S.route("admin.finance-account.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(Se,{class:"row justify-center"},{default:a(()=>[l("div",_s,[l("div",vs,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Kt,{modelValue:p.value,"onUpdate:modelValue":d[2]||(d[2]=b=>p.value=b),align:"left"},{default:a(()=>[e(ct,{name:"main",label:"Info Akun"}),e(ct,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(Qt,{modelValue:p.value,"onUpdate:modelValue":d[4]||(d[4]=b=>p.value=b)},{default:a(()=>[e(pt,{name:"main"},{default:a(()=>[l("table",ys,[l("tbody",null,[l("tr",null,[d[5]||(d[5]=l("td",{style:{width:"150px"}},"Nama",-1)),d[6]||(d[6]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[d[7]||(d[7]=l("td",null,"Jenis",-1)),d[8]||(d[8]=l("td",null,":",-1)),l("td",null,u(S.$CONSTANTS.FINANCE_ACCOUNT_TYPES[t(n).props.data.type]),1)]),t(n).props.data.type=="bank"?(w(),I(Q,{key:0},[l("tr",null,[d[9]||(d[9]=l("td",null,"Bank",-1)),d[10]||(d[10]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.bank),1)]),l("tr",null,[d[11]||(d[11]=l("td",null,"No. Rek",-1)),d[12]||(d[12]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.number),1)]),l("tr",null,[d[13]||(d[13]=l("td",null,"Atas Nama",-1)),d[14]||(d[14]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.holder),1)])],64)):D("",!0),l("tr",null,[d[15]||(d[15]=l("td",null,"Tampilkan di Wallet",-1)),d[16]||(d[16]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.has_wallet_access?"Ya":"Tidak"),1)]),l("tr",null,[d[17]||(d[17]=l("td",null,"Status",-1)),d[18]||(d[18]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),l("tr",null,[d[19]||(d[19]=l("td",null,"Saldo",-1)),d[20]||(d[20]=l("td",null,":",-1)),l("td",null,"Rp. "+u(t(z)(t(n).props.data.balance)),1)]),l("tr",null,[d[21]||(d[21]=l("td",null,"Catatan",-1)),d[22]||(d[22]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.notes),1)])])])]),_:1}),e(pt,{name:"history"},{default:a(()=>[e(ye,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":d[3]||(d[3]=b=>r.value=b),filter:f.search,loading:s.value,columns:v.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:m,"binary-state-sort":""},{loading:a(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":a(({icon:b,message:Y,filter:M})=>[l("div",ws,[l("span",null,u(Y)+" "+u(M?" with term "+M:""),1)])]),body:a(b=>[e(_e,{props:b},{default:a(()=>[e(j,{key:"id",props:b},{default:a(()=>[l("div",ks,[l("div",null,[l("b",null,"#"+u(b.row.id),1)]),l("div",null," - "+u(S.$dayjs(new Date(b.row.created_at)).format("DD/MM/YYYY hh:mm:ss")),1),l("div",null," - "+u(b.row.created_by?b.row.created_by.username:"--"),1)]),t(y).screen.lt.md?(w(),I(Q,{key:0},[l("div",hs,u(S.$CONSTANTS.STOCKMOVEMENT_REFTYPES[b.row.ref_type]),1),l("div",{class:be(b.row.quantity<0?"text-red-10":b.row.quantity>0?"text-green-10":"")},[e(q,{name:b.row.quantity<0?"arrow_downward":b.row.quantity>0?"arrow_upward":""},null,8,["name"]),g(" "+u(t(z)(b.row.quantity)),1)],2)],64)):D("",!0)]),_:2},1032,["props"]),e(j,{key:"type",props:b},{default:a(()=>[g(u(S.$CONSTANTS.STOCKMOVEMENT_REFTYPES[b.row.ref_type]),1)]),_:2},1032,["props"]),e(j,{key:"quantity",props:b},{default:a(()=>[l("div",{class:be(b.row.quantity<0?"text-red-10":b.row.quantity>0?"text-green-10":"")},[e(q,{name:b.row.quantity<0?"arrow_downward":b.row.quantity>0?"arrow_upward":""},null,8,["name"]),g(" "+u(t(z)(b.row.quantity)),1)],2)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},$s=Object.freeze(Object.defineProperty({__proto__:null,default:Ss},Symbol.toStringTag,{value:"Module"})),xs={class:"q-gutter-sm"},Cs={class:"col col-lg-6 q-pa-sm"},qs={style:{"margin-left":"-10px"}},Vs={style:{"margin-left":"-10px"}},Ts={__name:"Editor",setup(c){const n=pe(),p=(n.props.data.id?"Edit":"Tambah")+" Akun / Kas",o=$e({id:n.props.data.id,name:n.props.data.name,type:n.props.data.type,bank:n.props.data.bank,number:n.props.data.number,holder:n.props.data.holder,balance:n.props.data.balance,active:!!n.props.data.active,has_wallet_access:!!n.props.data.has_wallet_access,notes:n.props.data.notes}),s=Pe(window.CONSTANTS.FINANCE_ACCOUNT_TYPES),f=()=>xe({form:o,url:route("admin.finance-account.save")});return(r,i)=>{const m=L("i-head"),y=L("authenticated-layout");return w(),I(Q,null,[e(m,{title:p}),e(y,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",xs,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=v=>r.$inertia.get(r.route("admin.finance-account.index")))})])]),default:a(()=>[e(Se,{class:"row justify-center"},{default:a(()=>[l("div",Cs,[e(Ve,{class:"row",onSubmit:X(f,["prevent"]),onValidationError:t(Re)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":i[1]||(i[1]=v=>t(o).id=v)},null,512),[[Fe,t(o).id]]),e(Z,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":i[2]||(i[2]=v=>t(o).name=v),modelModifiers:{trim:!0},label:"Nama Akun","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[v=>v&&v.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(ne,{modelValue:t(o).type,"onUpdate:modelValue":i[3]||(i[3]=v=>t(o).type=v),label:"Jenis Akun",options:t(s),"map-options":"","emit-value":"",error:!!t(o).errors.type,disable:t(o).processing,"hide-bottom-space":""},null,8,["modelValue","options","error","disable"]),t(o).type=="bank"?(w(),I(Q,{key:0},[e(Z,{modelValue:t(o).bank,"onUpdate:modelValue":i[4]||(i[4]=v=>t(o).bank=v),modelModifiers:{trim:!0},label:"Nama Bank","lazy-rules":"",error:!!t(o).errors.bank,disable:t(o).processing,"error-message":t(o).errors.bank,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(Z,{modelValue:t(o).number,"onUpdate:modelValue":i[5]||(i[5]=v=>t(o).number=v),modelModifiers:{trim:!0},label:"Nomor Rekening","lazy-rules":"",error:!!t(o).errors.number,disable:t(o).processing,"error-message":t(o).errors.number,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(Z,{modelValue:t(o).holder,"onUpdate:modelValue":i[6]||(i[6]=v=>t(o).holder=v),modelModifiers:{trim:!0},label:"Pemilik Rekening","lazy-rules":"",error:!!t(o).errors.holder,disable:t(o).processing,"error-message":t(o).errors.holder,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"])],64)):D("",!0),e(Ue,{modelValue:t(o).balance,"onUpdate:modelValue":i[7]||(i[7]=v=>t(o).balance=v),label:"Saldo",lazyRules:"",disable:t(o).processing,"allow-negative":"true",error:!!t(o).errors.balance,errorMessage:t(o).errors.balance,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),l("div",qs,[e(yt,{class:"full-width q-pl-none",modelValue:t(o).has_wallet_access,"onUpdate:modelValue":i[8]||(i[8]=v=>t(o).has_wallet_access=v),disable:t(o).processing,label:"Tampilkan di Konfirmasi Topup Wallet"},null,8,["modelValue","disable"])]),l("div",Vs,[e(yt,{class:"full-width q-pl-none",modelValue:t(o).active,"onUpdate:modelValue":i[9]||(i[9]=v=>t(o).active=v),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"])]),e(Z,{modelValue:t(o).notes,"onUpdate:modelValue":i[10]||(i[10]=v=>t(o).notes=v),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.notes,"error-message":t(o).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:i[11]||(i[11]=v=>t(F).get(r.route("admin.finance-account.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Ps=Object.freeze(Object.defineProperty({__proto__:null,default:Ts},Symbol.toStringTag,{value:"Module"})),Ms={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Ns={class:"q-pa-sm"},Os={class:"q-my-sm text-subtitle"},Is={class:"text-bold text-grey-8"},Rs={class:"full-width row flex-center text-grey-8 q-gutter-sm"},As={key:2},Es={key:3},Us={key:4},Ds={class:"flex justify-end"},ya="Akun Kas",js={__name:"Index",setup(c){const n=pe(),p=ve(),o=C(!1),s=C([]),f=C(null),r=C(null),i=Le(r,104),m=C(!0),y=Ie({search:"",status:"active",type:"all",...Me()}),v=n.props.totalBalance,S=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),d=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right",sortable:!0},{name:"action",align:"right"}],_=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],V=[{value:"all",label:"Semua"},...Pe(window.CONSTANTS.FINANCE_ACCOUNT_TYPES)];we(()=>{Y()});const b=P=>ze({message:`Hapus Akun ${P.name}?`,url:route("admin.finance-account.delete",P.id),fetchItemsCallback:Y,loading:m}),Y=(P=null)=>{Ne({pagination:S,filter:y,props:P,rows:s,url:route("admin.finance-account.data"),loading:m,tableRef:f})},M=()=>Y(),$=P=>F.get(route("admin.finance-account.detail",{id:P.id})),T=ee(()=>p.screen.gt.sm?d:d.filter(P=>P.name==="name"||P.name==="action"));return(P,x)=>{const h=L("i-head"),k=L("authenticated-layout");return w(),I(Q,null,[e(h,{title:ya}),e(k,null,De({title:a(()=>[g(u(ya))]),"right-button":a(()=>[e(R,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:x[0]||(x[0]=N=>o.value=!o.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:x[1]||(x[1]=N=>t(F).get(P.route("admin.finance-account.add")))})]),default:a(()=>[l("div",Ns,[l("div",Os,[x[7]||(x[7]=g(" Total Saldo Akun Aktif: ")),l("span",Is,"Rp. "+u(t(z)(t(v))),1)]),e(ye,{ref_key:"tableRef",ref:f,class:"full-height-table",style:He({height:t(i)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:S.value,"onUpdate:pagination":x[6]||(x[6]=N=>S.value=N),filter:y.search,loading:m.value,columns:T.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:Y,"binary-state-sort":""},{loading:a(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":a(({icon:N,message:B,filter:A})=>[l("div",Rs,[l("span",null,u(B)+" "+u(A?" with term "+A:""),1)])]),body:a(N=>[e(_e,{props:N,class:be([N.row.active?"":"bg-red-1","cursor-pointer"]),onClick:B=>$(N.row)},{default:a(()=>[e(j,{key:"name",props:N,class:"wrap-column"},{default:a(()=>[t(p).screen.lt.md?(w(),U(We,{key:1,icon:"wallet",text:N.row.name},null,8,["text"])):(w(),I(Q,{key:0},[g(u(N.row.name),1)],64)),N.row.type=="bank"?(w(),I("div",As,u(N.row.bank??"-")+" "+u(N.row.number??"-")+" an "+u(N.row.holder??"-"),1)):D("",!0),N.row.notes?(w(),I("div",Es,[e(q,{name:"notes"}),g(" "+u(N.row.notes),1)])):D("",!0),t(p).screen.lt.md?(w(),I("div",Us,[e(q,{name:"money"}),g(" Rp. "+u(t(z)(N.row.balance)),1)])):D("",!0)]),_:2},1032,["props"]),e(j,{key:"balance",props:N},{default:a(()=>[g(u(t(z)(N.row.balance)),1)]),_:2},1032,["props"]),e(j,{key:"action",props:N},{default:a(()=>[l("div",Ds,[e(R,{disabled:!t(Ye)(P.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:x[5]||(x[5]=X(()=>{},["stop"]))},{default:a(()=>[e(Be,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(qe,{style:{width:"200px"}},{default:a(()=>[K((w(),U(G,{clickable:"",onClick:X(B=>t(F).get(P.route("admin.finance-account.duplicate",N.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"file_copy"})]),_:1}),e(O,{icon:"copy"},{default:a(()=>x[8]||(x[8]=[g(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]]),K((w(),U(G,{clickable:"",onClick:X(B=>t(F).get(P.route("admin.finance-account.edit",N.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(O,{icon:"edit"},{default:a(()=>x[9]||(x[9]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]]),K((w(),U(G,{onClick:X(B=>b(N.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>x[10]||(x[10]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[o.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",Ms,[e(ne,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:y.status,"onUpdate:modelValue":[x[2]||(x[2]=N=>y.status=N),M],options:_,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ne,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:y.type,"onUpdate:modelValue":[x[3]||(x[3]=N=>y.type=N),M],options:V,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:y.search,"onUpdate:modelValue":x[4]||(x[4]=N=>y.search=N),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Ls=Object.freeze(Object.defineProperty({__proto__:null,default:js},Symbol.toStringTag,{value:"Module"})),Bs={class:"q-gutter-sm"},zs={class:"col col-lg-6 q-pa-sm"},Hs={__name:"Editor",setup(c){const n=pe(),p=(n.props.data.id?"Edit":"Catat")+" Transaksi Keuangan",o=n.props.accounts.map(i=>({label:i.name,value:i.id})),s=[{label:"Pemasukan (+)",value:"income"},{label:"Pengeluaran (-)",value:"expense"},{label:"Transfer",value:"transfer"}],f=$e({id:n.props.data.id,account_id:n.props.data.account_id,to_account_id:n.props.data.to_account_id??null,type:n.props.data.type,datetime:Vl(n.props.data.datetime?n.props.data.datetime:new Date),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),r=()=>xe({form:f,url:route("admin.finance-transaction.save")});return(i,m)=>{const y=L("i-head"),v=L("authenticated-layout");return w(),I(Q,null,[e(y,{title:p}),e(v,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",Bs,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:m[0]||(m[0]=S=>i.$inertia.get(i.route("admin.finance-transaction.index")))})])]),default:a(()=>[e(Se,{class:"row justify-center"},{default:a(()=>[l("div",zs,[e(Ve,{class:"row",onSubmit:X(r,["prevent"]),onValidationError:t(Re)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":m[1]||(m[1]=S=>t(f).id=S)},null,512),[[Fe,t(f).id]]),e(kt,{modelValue:t(f).datetime,"onUpdate:modelValue":m[2]||(m[2]=S=>t(f).datetime=S),label:"Waktu",error:!!t(f).errors.datetime,disable:t(f).processing,errorMessage:t(f).errors.datetime,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(ne,{autofocus:"",modelValue:t(f).type,"onUpdate:modelValue":m[3]||(m[3]=S=>t(f).type=S),label:"Jenis Transaksi",options:s,"map-options":"","emit-value":"",error:!!t(f).errors.type,disable:t(f).processing,errorMessage:t(f).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(ne,{class:"custom-select",modelValue:t(f).account_id,"onUpdate:modelValue":m[4]||(m[4]=S=>t(f).account_id=S),label:t(f).type=="transfer"?"Akun Asal":"Akun",options:t(o),"map-options":"","emit-value":"",errorMessage:t(f).errors.account_id,error:!!t(f).errors.account_id,disable:t(f).processing,"hide-bottom-space":""},null,8,["modelValue","label","options","errorMessage","error","disable"]),t(f).type=="transfer"?(w(),U(ne,{key:0,class:"custom-select",modelValue:t(f).to_account_id,"onUpdate:modelValue":m[5]||(m[5]=S=>t(f).to_account_id=S),label:"Akun Tujuan",options:t(o),"map-options":"","emit-value":"",errorMessage:t(f).errors.to_account_id,error:!!t(f).errors.to_account_id,disable:t(f).processing,"hide-bottom-space":""},null,8,["modelValue","options","errorMessage","error","disable"])):D("",!0),e(Ue,{modelValue:t(f).amount,"onUpdate:modelValue":m[6]||(m[6]=S=>t(f).amount=S),label:"Jumlah",lazyRules:"",disable:t(f).processing,error:!!t(f).errors.amount,errorMessage:t(f).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Z,{modelValue:t(f).notes,"onUpdate:modelValue":m[7]||(m[7]=S=>t(f).notes=S),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(f).processing,error:!!t(f).errors.notes,"error-message":t(f).errors.notes,rules:[S=>S&&S.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(f).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(f).processing,onClick:m[8]||(m[8]=S=>t(F).get(i.route("admin.finance-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Ys=Object.freeze(Object.defineProperty({__proto__:null,default:Hs},Symbol.toStringTag,{value:"Module"})),Fs={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Ks={class:"q-pa-sm"},Qs={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ws={class:"text-grey-8"},Js={key:0},Gs={key:0},Xs={key:1},Zs={class:"flex justify-end"},wa="Transaksi Kas",er={__name:"Index",setup(c){const n=ve(),p=C(!1),o=C([]),s=C(!0),f=C(null),r=C(null),i=Le(r),m=Vt(),y=Tt(),v=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...ft(m-2,m-1).reverse()],S=[{value:"all",label:"Semua Bulan"},...gt()],d=Ie({search:"",category_id:"all",year:m,month:y,...Me()}),_=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),V=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];we(()=>{Y()});const b=T=>ze({message:`Hapus transaksi #-${T.id}?`,url:route("admin.finance-transaction.delete",T.id),fetchItemsCallback:Y,loading:s}),Y=(T=null)=>{Ne({pagination:_,filter:d,props:T,rows:o,url:route("admin.finance-transaction.data"),loading:s,tableRef:f})},M=()=>{Y()},$=ee(()=>n.screen.gt.sm?V:V.filter(T=>T.name==="datetime"||T.name==="action"));return Te(()=>d.year,T=>{T===null&&(d.month=null)}),(T,P)=>{const x=L("i-head"),h=L("authenticated-layout");return w(),I(Q,null,[e(x,{title:wa}),e(h,null,De({title:a(()=>[g(u(wa))]),"right-button":a(()=>[e(R,{icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:P[0]||(P[0]=k=>p.value=!p.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:P[1]||(P[1]=k=>t(F).get(T.route("admin.finance-transaction.add")))})]),default:a(()=>[l("div",Ks,[e(ye,{ref_key:"tableRef",ref:f,style:He({height:t(i)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:_.value,"onUpdate:pagination":P[6]||(P[6]=k=>_.value=k),filter:d.search,loading:s.value,columns:$.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:Y,"binary-state-sort":""},{loading:a(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":a(({icon:k,message:N,filter:B})=>[l("div",Qs,[l("span",null,u(N)+" "+u(B?" with term "+B:""),1)])]),body:a(k=>[e(_e,{props:k},{default:a(()=>[e(j,{key:"datetime",props:k,class:"wrap-column"},{default:a(()=>[l("div",null,[g(" #"+u(k.row.id)+" - ",1),e(q,{name:"calendar_today"}),g(" "+u(t(Qe)(k.row.datetime))+" ",1),l("span",Ws,"("+u(t(nt)(k.row.datetime))+")",1)]),e(Ot,null,{default:a(()=>[e(q,{name:"category"}),g(" "+u(k.row.type_label),1)]),_:2},1024),k.row.ref_type?(w(),I("div",Js,[e(q,{name:"link"}),g(" "+u(k.row.ref_type_label)+" #"+u(k.row.ref_id),1)])):D("",!0),t(n).screen.gt.sm?D("",!0):(w(),I(Q,{key:1},[k.row.notes?(w(),I("div",Gs,[e(q,{name:"notes"}),g(" "+u(k.row.notes),1)])):D("",!0),k.row.category?(w(),I("div",Xs,[e(q,{name:"category"}),g(" "+u(k.row.category.name),1)])):D("",!0),l("div",null,[e(q,{name:"money"}),g(" Rp. "+u(t(et)(k.row.amount)+t(z)(k.row.amount)),1)])],64))]),_:2},1032,["props"]),e(j,{key:"account",props:k},{default:a(()=>{var N;return[g(u((N=k.row.account)==null?void 0:N.name),1)]}),_:2},1032,["props"]),e(j,{key:"notes",props:k},{default:a(()=>[g(u(k.row.notes),1)]),_:2},1032,["props"]),e(j,{key:"amount",props:k,style:{"text-align":"right"}},{default:a(()=>[g(u(t(et)(k.row.amount)+t(z)(k.row.amount)),1)]),_:2},1032,["props"]),e(j,{key:"action",props:k},{default:a(()=>[l("div",Zs,[e(R,{disabled:!t(Ye)(T.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:P[5]||(P[5]=X(()=>{},["stop"]))},{default:a(()=>[e(Be,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(qe,{style:{width:"200px"}},{default:a(()=>[K((w(),U(G,{onClick:X(N=>b(k.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>P[7]||(P[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",Fs,[e(ne,{modelValue:d.year,"onUpdate:modelValue":[P[2]||(P[2]=k=>d.year=k),M],options:v,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),d.year!="all"?(w(),U(ne,{key:0,modelValue:d.month,"onUpdate:modelValue":[P[3]||(P[3]=k=>d.month=k),M],options:S,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:d.year===null},null,8,["modelValue","disable"])):D("",!0),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":P[4]||(P[4]=k=>d.search=k),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},tr=Object.freeze(Object.defineProperty({__proto__:null,default:er},Symbol.toStringTag,{value:"Module"})),ar={class:"q-gutter-sm"},lr={class:"col col-lg-6 q-pa-sm"},or={__name:"Editor",setup(c){const n=pe(),p=(n.props.data.id?"Edit":"Tambah")+" Kategori Operasional",o=$e({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description}),s=()=>xe({form:o,url:route("admin.operational-cost-category.save")});return(f,r)=>{const i=L("i-head"),m=L("authenticated-layout");return w(),I(Q,null,[e(i,{title:p}),e(m,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",ar,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=y=>f.$inertia.get(f.route("admin.operational-cost-category.index")))})])]),default:a(()=>[e(Se,{class:"row justify-center"},{default:a(()=>[l("div",lr,[e(Ve,{class:"row",onSubmit:X(s,["prevent"]),onValidationError:t(Re)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=y=>t(o).id=y)},null,512),[[Fe,t(o).id]]),e(Z,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=y=>t(o).name=y),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Z,{modelValue:t(o).description,"onUpdate:modelValue":r[3]||(r[3]=y=>t(o).description=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Deskripsi","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.description,"error-message":t(o).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[4]||(r[4]=y=>t(F).get(f.route("admin.operational-cost-category.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},nr=Object.freeze(Object.defineProperty({__proto__:null,default:or},Symbol.toStringTag,{value:"Module"})),sr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},rr={class:"q-pa-sm"},ir={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ur={key:0,class:"text-grey-8"},dr={class:"flex justify-end"},ka="Kategori Biaya Operasional",mr={__name:"Index",setup(c){const n=ve(),p=C(!1),o=C([]),s=C(!0),f=C(null),r=C(null),i=Le(r),m=Ie({search:"",...Me()}),y=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),v=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];we(()=>{d()});const S=V=>ze({message:`Hapus Kategori Biaya ${V.name}?`,url:route("admin.operational-cost-category.delete",V.id),fetchItemsCallback:d,loading:s}),d=(V=null)=>{Ne({pagination:y,filter:m,props:V,rows:o,url:route("admin.operational-cost-category.data"),loading:s,tableRef:f})},_=ee(()=>n.screen.gt.sm?v:v.filter(V=>V.name==="name"||V.name==="action"));return(V,b)=>{const Y=L("i-head"),M=L("authenticated-layout");return w(),I(Q,null,[e(Y,{title:ka}),e(M,null,De({title:a(()=>[g(u(ka))]),"right-button":a(()=>[e(R,{icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:b[0]||(b[0]=$=>p.value=!p.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:b[1]||(b[1]=$=>t(F).get(V.route("admin.operational-cost-category.add")))})]),default:a(()=>[l("div",rr,[e(ye,{ref_key:"tableRef",ref:f,class:"full-height-table",style:He({height:t(i)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":b[4]||(b[4]=$=>y.value=$),filter:m.search,loading:s.value,columns:_.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:d,"binary-state-sort":""},{loading:a(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":a(({icon:$,message:T,filter:P})=>[l("div",ir,[l("span",null,u(T)+" "+u(P?" with term "+P:""),1)])]),body:a($=>[e(_e,{props:$},{default:a(()=>[e(j,{key:"name",props:$,class:"wrap-column"},{default:a(()=>[g(u($.row.name)+" ",1),t(n).screen.gt.sm?D("",!0):(w(),I(Q,{key:0},[$.row.description?(w(),I("div",ur,[e(q,{name:"description"}),g(" "+u($.row.description),1)])):D("",!0)],64))]),_:2},1032,["props"]),e(j,{key:"description",props:$,class:"wrap-column"},{default:a(()=>[g(u($.row.description),1)]),_:2},1032,["props"]),e(j,{key:"action",props:$},{default:a(()=>[l("div",dr,[e(R,{disabled:!t(Ye)(V.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:b[3]||(b[3]=X(()=>{},["stop"]))},{default:a(()=>[e(Be,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(qe,{style:{width:"200px"}},{default:a(()=>[K((w(),U(G,{clickable:"",onClick:X(T=>t(F).get(V.route("admin.operational-cost-category.duplicate",$.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"file_copy"})]),_:1}),e(O,{icon:"copy"},{default:a(()=>b[5]||(b[5]=[g("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]]),K((w(),U(G,{clickable:"",onClick:X(T=>t(F).get(V.route("admin.operational-cost-category.edit",$.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(O,{icon:"edit"},{default:a(()=>b[6]||(b[6]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]]),K((w(),U(G,{onClick:X(T=>S($.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>b[7]||(b[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",sr,[e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":b[2]||(b[2]=$=>m.search=$),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},cr=Object.freeze(Object.defineProperty({__proto__:null,default:mr},Symbol.toStringTag,{value:"Module"})),pr={class:"q-gutter-sm"},fr={class:"q-gutter-sm"},gr={class:"col col-lg-6 q-pa-sm"},br={class:"row"},_r={class:"detail"},vr={key:1,class:"text-grey-9"},yr={class:"detail"},ha="Rincian Teknisi",wr={__name:"Detail",setup(c){const n=pe();return(p,o)=>{const s=L("i-head"),f=L("i-link"),r=L("authenticated-layout");return w(),I(Q,null,[e(s,{title:ha}),e(r,null,{title:a(()=>[g(u(ha))]),"left-button":a(()=>[l("div",pr,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=i=>p.$inertia.get(p.route("admin.operational-cost.index")))})])]),"right-button":a(()=>[l("div",fr,[e(R,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=i=>t(F).get(p.route("admin.operational-cost.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(Se,{class:"row justify-center"},{default:a(()=>[l("div",gr,[l("div",br,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,null,{default:a(()=>[o[12]||(o[12]=l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Profil Teknisi ",-1)),l("table",_r,[l("tbody",null,[l("tr",null,[o[2]||(o[2]=l("td",{style:{width:"125px"}},"Akun Pengguna",-1)),o[3]||(o[3]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,[t(n).props.data.user?(w(),U(f,{key:0,href:p.route("admin.user.detail",{id:t(n).props.data.user.id})},{default:a(()=>[g(u(t(n).props.data.user.username),1)]),_:1},8,["href"])):(w(),I("span",vr,"Tidak terhubung"))])]),l("tr",null,[o[4]||(o[4]=l("td",null,"Nama Teknisi",-1)),o[5]||(o[5]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"No. Telepon",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.phone),1)]),l("tr",null,[o[8]||(o[8]=l("td",null,"Email",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.email),1)]),l("tr",null,[o[10]||(o[10]=l("td",null,"Alamat",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.address),1)])])])]),_:1}),e(ae,null,{default:a(()=>o[13]||(o[13]=[l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Statistik Servis ",-1),l("table",{class:"detail"},[l("tbody",null,[l("tr",null,[l("td",{style:{width:"125px"}},"Servis Ditangani"),l("td",{style:{width:"1px"}},":"),l("td",null,"0")]),l("tr",null,[l("td",null,"Servis Sukses"),l("td",null,":"),l("td",null,"0")]),l("tr",null,[l("td",null,"Servis Gagal"),l("td",null,":"),l("td",null,"0")])])],-1)])),_:1}),e(ae,null,{default:a(()=>[o[18]||(o[18]=l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Informasi Ekstra ",-1)),l("table",yr,[l("tbody",null,[l("tr",null,[o[14]||(o[14]=l("td",{style:{width:"125px"}},"Dibuat",-1)),o[15]||(o[15]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(p.$dayjs(new Date(t(n).props.data.created_at)).format("DD MMMM YY HH:mm:ss")),1)]),l("tr",null,[o[16]||(o[16]=l("td",null,"Diperbarui",-1)),o[17]||(o[17]=l("td",null,":",-1)),l("td",null,u(p.$dayjs(new Date(t(n).props.data.updated_at)).format("DD MMMM YY HH:mm:ss")),1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},kr=Object.freeze(Object.defineProperty({__proto__:null,default:wr},Symbol.toStringTag,{value:"Module"})),hr={class:"row items-center justify-end"},Sr={__name:"DatePicker",props:{modelValue:{type:String,required:!0},label:{type:String,default:""},readonly:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},rules:{type:Array,default:[]},mask:{type:String,default:"####-##-##"}},emits:["update:modelValue"],setup(c,{emit:n}){const p=c,o=n,s=C("");Te(()=>p.modelValue,i=>{const[m,y]=i.split(" ");s.value=m||""});const f=C(p.modelValue),r=()=>{let i="";s.value&&(i=`${s.value} 00:00`),o("update:modelValue",i),f.value=i};return(i,m)=>(w(),U(Z,{modelValue:f.value,"onUpdate:modelValue":m[1]||(m[1]=y=>f.value=y),label:p.label,readonly:p.readonly,disable:p.disable,error:p.error,rules:[...p.rules],"error-message":c.errorMessage,mask:p.mask},{append:a(()=>[e(q,{name:"event",class:"cursor-pointer"},{default:a(()=>[e(Tl,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Pl,{modelValue:s.value,"onUpdate:modelValue":[m[0]||(m[0]=y=>s.value=y),r],mask:"YYYY-MM-DD"},{default:a(()=>[l("div",hr,[K(e(R,{label:"Close",color:"primary",flat:""},null,512),[[se]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label","readonly","disable","error","rules","error-message","mask"]))}},$r=rt(Sr,[["__scopeId","data-v-af4e8707"]]);function Fa(c,n=!1){const p=c.map(r=>({value:r.id,label:r.name})),o=n?[{value:"all",label:"Semua"},...p]:p,s=C([...o]);return{filteredCostCategories:s,filterCostCategory:(r,i)=>{const m=r.toLowerCase();i(()=>{s.value=o.filter(y=>y.label.toLowerCase().includes(m))})},costCategoryOptions:o}}const xr={class:"q-gutter-sm"},Cr={class:"col col-lg-6 q-pa-sm"},qr={__name:"Editor",setup(c){const n=pe(),p=(n.props.data.id?"Edit":"Tambah")+" Biaya Operasional",{costCategoryOptions:o}=Fa(n.props.categories),s=C(o),f=C([...s.value]),r=$e({id:n.props.data.id,category_id:n.props.data.category_id,date:n.props.data.date,description:n.props.data.description,notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),i=()=>xe({form:r,url:route("admin.operational-cost.save")}),m=(y,v)=>{v(()=>{f.value=s.value.filter(S=>S.label.toLowerCase().includes(y.toLowerCase()))})};return(y,v)=>{const S=L("i-head"),d=L("authenticated-layout");return w(),I(Q,null,[e(S,{title:p}),e(d,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",xr,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:v[0]||(v[0]=_=>y.$inertia.get(y.route("admin.operational-cost.index")))})])]),default:a(()=>[e(Se,{class:"row justify-center"},{default:a(()=>[l("div",Cr,[e(Ve,{class:"row",onSubmit:X(i,["prevent"]),onValidationError:t(Re)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":v[1]||(v[1]=_=>t(r).id=_)},null,512),[[Fe,t(r).id]]),e(ne,{autofocus:"",modelValue:t(r).category_id,"onUpdate:modelValue":v[2]||(v[2]=_=>t(r).category_id=_),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:f.value,"map-options":"","emit-value":"",onFilter:m,error:!!t(r).errors.category_id,disable:t(r).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(G,null,{default:a(()=>[e(O,null,{default:a(()=>v[8]||(v[8]=[g("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","error","disable"]),e($r,{modelValue:t(r).date,"onUpdate:modelValue":v[3]||(v[3]=_=>t(r).date=_),label:"Tanggal",error:!!t(r).errors.date,disable:t(r).processing},null,8,["modelValue","error","disable"]),e(Z,{modelValue:t(r).description,"onUpdate:modelValue":v[4]||(v[4]=_=>t(r).description=_),modelModifiers:{trim:!0},label:"Deskripsi","lazy-rules":"",error:!!t(r).errors.description,disable:t(r).processing,"error-message":t(r).errors.description,rules:[_=>_&&_.length>0||"Deskripsi harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Ue,{modelValue:t(r).amount,"onUpdate:modelValue":v[5]||(v[5]=_=>t(r).amount=_),label:"Jumlah",lazyRules:"",disable:t(r).processing,error:!!t(r).errors.amount,errorMessage:t(r).errors.amount,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),e(Z,{modelValue:t(r).notes,"onUpdate:modelValue":v[6]||(v[6]=_=>t(r).notes=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(r).processing,error:!!t(r).errors.notes,"error-message":t(r).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(r).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(r).processing,onClick:v[7]||(v[7]=_=>t(F).get(y.route("admin.operational-cost.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Vr=Object.freeze(Object.defineProperty({__proto__:null,default:qr},Symbol.toStringTag,{value:"Module"})),Tr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Pr={class:"q-pa-sm"},Mr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Nr={class:"flex items-center q-gutter-xs"},Or={key:0},Ir={key:0},Rr={class:"flex justify-end"},Sa="Biaya Operasional",Ar={__name:"Index",setup(c){const n=pe(),p=ve(),o=C(!1),s=C(null),f=C(null),r=Le(f),i=C([]),m=C(!0),y=new Date().getFullYear(),v=new Date().getMonth()+1,S=[{label:"Semua Tahun",value:null},{label:`${y}`,value:y},...ft(y-2,y-1).reverse()],d=[{value:null,label:"Semua Bulan"},...gt()],{costCategoryOptions:_}=Fa(n.props.categories),V=[{value:"all",label:"Semua"},{value:"null",label:"Tanpa Kategori"},..._],b=Ie({search:"",category_id:"all",year:y,month:v,...Me()}),Y=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"date",descending:!0}),M=[{name:"date",label:"Tanggal",field:"date",align:"left",sortable:!0},{name:"description",label:"Deskripsi",field:"description",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right",sortable:!0},{name:"action",align:"right"}];we(()=>{T()});const $=h=>ze({message:`Hapus Biaya ${h.description}?`,url:route("admin.operational-cost.delete",h.id),fetchItemsCallback:T,loading:m}),T=(h=null)=>{Ne({pagination:Y,filter:b,props:h,rows:i,url:route("admin.operational-cost.data"),loading:m,tableRef:s})},P=()=>{T()},x=ee(()=>p.screen.gt.sm?M:M.filter(h=>h.name==="date"||h.name==="action"));return Te(()=>b.year,h=>{h===null&&(b.month=null)}),(h,k)=>{const N=L("i-head"),B=L("authenticated-layout");return w(),I(Q,null,[e(N,{title:Sa}),e(B,null,De({title:a(()=>[g(u(Sa))]),"right-button":a(()=>[e(R,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:k[0]||(k[0]=A=>o.value=!o.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:k[1]||(k[1]=A=>t(F).get(h.route("admin.operational-cost.add")))})]),default:a(()=>[l("div",Pr,[e(ye,{ref_key:"tableRef",ref:s,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:Y.value,"onUpdate:pagination":k[7]||(k[7]=A=>Y.value=A),filter:b.search,loading:m.value,columns:x.value,rows:i.value,"rows-per-page-options":[10,25,50],style:He({height:t(r)}),onRequest:T,"binary-state-sort":""},{loading:a(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":a(({icon:A,message:W,filter:te})=>[l("div",Mr,[l("span",null,u(W)+" "+u(te?" with term "+te:""),1)])]),body:a(A=>[e(_e,{props:A},{default:a(()=>[e(j,{key:"date",props:A,class:"wrap-column"},{default:a(()=>[l("div",Nr,[e(q,{name:"calendar_today"}),l("div",null,u(t(Ge)(A.row.date).format("DD/MM/YYYY")),1)]),t(p).screen.gt.sm?D("",!0):(w(),I(Q,{key:0},[e(We,{icon:"notes",text:A.row.notes},null,8,["text"]),A.row.category?(w(),I("div",Or,[e(q,{name:"category"}),g(" "+u(A.row.category.name),1)])):D("",!0),l("div",null,[e(q,{name:"paid"}),g(" Rp. "+u(t(z)(A.row.amount)),1)])],64))]),_:2},1032,["props"]),e(j,{key:"description",props:A},{default:a(()=>[g(u(A.row.description)+" ",1),A.row.category?(w(),I("div",Ir,[e(q,{name:"category"}),g(" "+u(A.row.category.name),1)])):D("",!0)]),_:2},1032,["props"]),e(j,{key:"amount",props:A,style:{"text-align":"right"}},{default:a(()=>[g(u(t(z)(A.row.amount)),1)]),_:2},1032,["props"]),e(j,{key:"action",props:A},{default:a(()=>[l("div",Rr,[e(R,{disabled:!t(Ye)(h.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:k[6]||(k[6]=X(()=>{},["stop"]))},{default:a(()=>[e(Be,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(qe,{style:{width:"200px"}},{default:a(()=>[K((w(),U(G,{clickable:"",onClick:X(W=>t(F).get(h.route("admin.operational-cost.duplicate",A.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"file_copy"})]),_:1}),e(O,{icon:"copy"},{default:a(()=>k[8]||(k[8]=[g(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]]),K((w(),U(G,{clickable:"",onClick:X(W=>t(F).get(h.route("admin.operational-cost.edit",A.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(O,{icon:"edit"},{default:a(()=>k[9]||(k[9]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]]),K((w(),U(G,{onClick:X(W=>$(A.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>k[10]||(k[10]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[o.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:f},{default:a(()=>[l("div",Tr,[e(ne,{modelValue:b.year,"onUpdate:modelValue":[k[2]||(k[2]=A=>b.year=A),P],options:S,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(ne,{modelValue:b.month,"onUpdate:modelValue":[k[3]||(k[3]=A=>b.month=A),P],options:d,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:b.year===null},null,8,["modelValue","disable"]),e(ne,{modelValue:b.category_id,"onUpdate:modelValue":[k[4]||(k[4]=A=>b.category_id=A),P],options:V,label:"Kategori",dense:"",class:"custom-select col-xs-12 col-sm-3","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:b.search,"onUpdate:modelValue":k[5]||(k[5]=A=>b.search=A),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Er=Object.freeze(Object.defineProperty({__proto__:null,default:Ar},Symbol.toStringTag,{value:"Module"})),Ur={class:"q-gutter-sm"},Dr={class:"col col-md-6 q-pa-sm"},jr={__name:"Editor",setup(c){const n=pe(),p=(n.props.data.id?"Edit":"Tambah")+" Kategori Produk",o=$e({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description}),s=()=>xe({form:o,url:route("admin.product-category.save")});return(f,r)=>{const i=L("i-head"),m=L("authenticated-layout");return w(),I(Q,null,[e(i,{title:p}),e(m,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",Ur,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=y=>f.$inertia.get(f.route("admin.product-category.index")))})])]),default:a(()=>[e(Se,{class:"row justify-center"},{default:a(()=>[l("div",Dr,[e(Ve,{class:"row",onSubmit:X(s,["prevent"]),onValidationError:t(Re)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=y=>t(o).id=y)},null,512),[[Fe,t(o).id]]),e(Z,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=y=>t(o).name=y),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Z,{modelValue:t(o).description,"onUpdate:modelValue":r[3]||(r[3]=y=>t(o).description=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.description,"error-message":t(o).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[4]||(r[4]=y=>t(F).get(f.route("admin.product-category.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Lr=Object.freeze(Object.defineProperty({__proto__:null,default:jr},Symbol.toStringTag,{value:"Module"})),Br={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},zr={class:"q-pa-sm"},Hr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Yr={key:0,class:"text-grey-8"},Fr={class:"flex justify-end"},$a="Kategori Produk",Kr={__name:"Index",setup(c){const n=ve(),p=C(!1),o=C([]),s=C(!0),f=C(null),r=C(null),i=Le(r),m=Ie({search:"",...Me()}),y=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),v=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];we(()=>{d()});const S=V=>ze({message:`Hapus Kategori ${V.name}?`,url:route("admin.product-category.delete",V.id),fetchItemsCallback:d,loading:s}),d=(V=null)=>{Ne({pagination:y,filter:m,props:V,rows:o,url:route("admin.product-category.data"),loading:s,tableRef:f})},_=ee(()=>n.screen.gt.sm?v:v.filter(V=>V.name==="name"||V.name==="action"));return(V,b)=>{const Y=L("i-head"),M=L("authenticated-layout");return w(),I(Q,null,[e(Y,{title:$a}),e(M,null,De({title:a(()=>[g(u($a))]),"right-button":a(()=>[e(R,{icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:b[0]||(b[0]=$=>p.value=!p.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:b[1]||(b[1]=$=>t(F).get(V.route("admin.product-category.add")))})]),default:a(()=>[l("div",zr,[e(ye,{ref_key:"tableRef",ref:f,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":b[4]||(b[4]=$=>y.value=$),filter:m.search,loading:s.value,columns:_.value,rows:o.value,"rows-per-page-options":[10,25,50],style:He({height:t(i)}),onRequest:d,"binary-state-sort":""},{loading:a(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":a(({icon:$,message:T,filter:P})=>[l("div",Hr,[l("span",null,u(T)+" "+u(P?" with term "+P:""),1)])]),body:a($=>[e(_e,{props:$},{default:a(()=>[e(j,{key:"name",props:$,class:"wrap-column"},{default:a(()=>[g(u($.row.name)+" ",1),t(n).screen.gt.sm?D("",!0):(w(),I(Q,{key:0},[$.row.description?(w(),I("div",Yr,[e(q,{name:"description"}),g(" "+u($.row.description),1)])):D("",!0)],64))]),_:2},1032,["props"]),e(j,{key:"description",props:$,class:"wrap-column"},{default:a(()=>[g(u($.row.description),1)]),_:2},1032,["props"]),e(j,{key:"action",props:$},{default:a(()=>[l("div",Fr,[e(R,{disabled:!t(Ye)(V.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:b[3]||(b[3]=X(()=>{},["stop"]))},{default:a(()=>[e(Be,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(qe,{style:{width:"200px"}},{default:a(()=>[K((w(),U(G,{clickable:"",onClick:X(T=>t(F).get(V.route("admin.product-category.duplicate",$.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"file_copy"})]),_:1}),e(O,{icon:"copy"},{default:a(()=>b[5]||(b[5]=[g("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]]),K((w(),U(G,{clickable:"",onClick:X(T=>t(F).get(V.route("admin.product-category.edit",$.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(O,{icon:"edit"},{default:a(()=>b[6]||(b[6]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]]),K((w(),U(G,{onClick:X(T=>S($.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>b[7]||(b[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",Br,[e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":b[2]||(b[2]=$=>m.search=$),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Qr=Object.freeze(Object.defineProperty({__proto__:null,default:Kr},Symbol.toStringTag,{value:"Module"})),Wr={class:"q-gutter-sm"},Jr={class:"q-gutter-sm"},Gr={class:"row justify-center"},Xr={class:"col col-lg-6 q-pa-sm"},Zr={class:"row"},ei={class:"detail"},ti={key:0},ai={key:1},li={class:"detail"},oi={class:"detail"},ni={key:0},si={key:1},ri={class:"detail"},ii={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ui={class:"flex q-gutter-sm"},di={class:""},mi={__name:"Detail",setup(c){const n=pe(),p=`Rincian Produk #${n.props.data.id}`,o=C("main"),s=C([]),f=C(!0),r=Ie({...Me()}),i=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),m=[{name:"id",label:"#",field:"id",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!0},{name:"quantity",label:"Jumlah",field:"quantity",align:"center",sortable:!0}];we(()=>{y()});const y=(d=null)=>Ne({pagination:i,filter:r,props:d,rows:s,url:route("admin.stock-movement.data",{product_id:n.props.data.id}),loading:f}),v=ve(),S=ee(()=>v.screen.gt.sm?m:m.filter(d=>d.name==="id"));return(d,_)=>{const V=L("i-head"),b=L("i-link"),Y=L("authenticated-layout");return w(),I(Q,null,[e(V,{title:p}),e(Y,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",Wr,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:_[0]||(_[0]=M=>d.$inertia.get(d.route("admin.product.index")))})])]),"right-button":a(()=>[l("div",Jr,[e(R,{icon:"edit",dense:"",color:"primary",onClick:_[1]||(_[1]=M=>t(F).get(d.route("admin.product.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[l("div",Gr,[l("div",Xr,[l("div",Zr,[e(ie,{square:"",flat:"",bordered:"",class:"q-card col"},{default:a(()=>[e(Kt,{modelValue:o.value,"onUpdate:modelValue":_[2]||(_[2]=M=>o.value=M),align:"left"},{default:a(()=>[e(ct,{name:"main",label:"Info Utama"}),e(ct,{name:"history",label:"Riwayat Stok"})]),_:1},8,["modelValue"]),e(Qt,{modelValue:o.value,"onUpdate:modelValue":_[4]||(_[4]=M=>o.value=M)},{default:a(()=>[e(pt,{name:"main"},{default:a(()=>[_[41]||(_[41]=l("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Produk ",-1)),l("table",ei,[l("tbody",null,[l("tr",null,[_[5]||(_[5]=l("td",{style:{width:"120px"}},"ID",-1)),_[6]||(_[6]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,"# "+u(t(n).props.data.id),1)]),l("tr",null,[_[7]||(_[7]=l("td",null,"Nama Produk",-1)),_[8]||(_[8]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[_[9]||(_[9]=l("td",null,"Jenis Produk",-1)),_[10]||(_[10]=l("td",null,":",-1)),l("td",null,u(d.$CONSTANTS.PRODUCT_TYPES[t(n).props.data.type]),1)]),l("tr",null,[_[11]||(_[11]=l("td",null,"Kategori",-1)),_[12]||(_[12]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.category?t(n).props.data.category.name:"--Tidak memiliki kategori--"),1)]),l("tr",null,[_[13]||(_[13]=l("td",null,"Supplier",-1)),_[14]||(_[14]=l("td",null,":",-1)),l("td",null,[t(n).props.data.supplier?(w(),U(b,{key:0,href:d.route("admin.supplier.detail",{id:t(n).props.data.supplier.id})},{default:a(()=>[g(u("#"+t(n).props.data.supplier.id+" - "+t(n).props.data.supplier.name),1)]),_:1},8,["href"])):(w(),I(Q,{key:1},[g(u("--Tidak memiliki supplier--"))],64))])]),l("tr",null,[_[15]||(_[15]=l("td",null,"Status",-1)),_[16]||(_[16]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),t(n).props.data.created_at?(w(),I("tr",ti,[_[18]||(_[18]=l("td",null,"Dibuat Oleh",-1)),_[19]||(_[19]=l("td",null,":",-1)),l("td",null,[t(n).props.data.creator?(w(),I(Q,{key:0},[e(b,{href:d.route("admin.user.detail",{id:t(n).props.data.creator})},{default:a(()=>[g(u(t(n).props.data.creator.username),1)]),_:1},8,["href"]),_[17]||(_[17]=g(" - "))],64)):D("",!0),g(" "+u(t(Qe)(t(n).props.data.created_at)),1)])])):D("",!0),t(n).props.data.updater?(w(),I("tr",ai,[_[21]||(_[21]=l("td",null,"Diperbarui oleh",-1)),_[22]||(_[22]=l("td",null,":",-1)),l("td",null,[t(n).props.data.updater?(w(),I(Q,{key:0},[e(b,{href:d.route("admin.user.detail",{id:t(n).props.data.updater})},{default:a(()=>[g(u(t(n).props.data.updater.username),1)]),_:1},8,["href"]),_[20]||(_[20]=g(" - "))],64)):D("",!0),g(" "+u(t(Qe)(t(n).props.data.updated_at)),1)])])):D("",!0)])]),_[42]||(_[42]=l("div",{class:"text-subtitle1 q-pt-lg text-bold text-grey-9"}," Info Inventori ",-1)),l("table",li,[l("tbody",null,[l("tr",null,[_[23]||(_[23]=l("td",{style:{width:"120px"}},"Stok",-1)),_[24]||(_[24]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(z)(t(n).props.data.stock))+" "+u(t(n).props.data.uom),1)]),l("tr",null,[_[25]||(_[25]=l("td",null,"Stok Minimum",-1)),_[26]||(_[26]=l("td",null,":",-1)),l("td",null,u(t(z)(t(n).props.data.min_stock))+" "+u(t(n).props.data.uom),1)]),l("tr",null,[_[27]||(_[27]=l("td",null,"Stok Maksimum",-1)),_[28]||(_[28]=l("td",null,":",-1)),l("td",null,u(t(z)(t(n).props.data.max_stock))+" "+u(t(n).props.data.uom),1)]),l("tr",null,[_[29]||(_[29]=l("td",null,"Barcode",-1)),_[30]||(_[30]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.barcode),1)])])]),_[43]||(_[43]=l("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Harga ",-1)),l("table",oi,[l("tbody",null,[d.$page.props.auth.user.role==d.$CONSTANTS.USER_ROLE_ADMIN?(w(),I("tr",ni,[_[31]||(_[31]=l("td",{style:{width:"120px"}},"Harga Beli",-1)),_[32]||(_[32]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,"Rp. "+u(t(z)(t(n).props.data.cost)),1)])):D("",!0),l("tr",null,[_[33]||(_[33]=l("td",null,"Harga Jual",-1)),_[34]||(_[34]=l("td",null,":",-1)),l("td",null,"Rp. "+u(t(z)(t(n).props.data.price)),1)]),d.$page.props.auth.user.role==d.$CONSTANTS.USER_ROLE_ADMIN?(w(),I("tr",si,[_[35]||(_[35]=l("td",null,"Margin",-1)),_[36]||(_[36]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.price>0?t(z)((t(n).props.data.price-t(n).props.data.cost)/t(n).props.data.price*100,2):0)+" % ",1)])):D("",!0)])]),_[44]||(_[44]=l("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Deskripsi & Catatan ",-1)),l("table",ri,[l("tbody",null,[l("tr",null,[_[37]||(_[37]=l("td",{style:{width:"120px"}},"Deskirpsi",-1)),_[38]||(_[38]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.description),1)]),l("tr",null,[_[39]||(_[39]=l("td",null,"Catatan",-1)),_[40]||(_[40]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.notes),1)])])])]),_:1}),e(pt,{name:"history"},{default:a(()=>[e(ye,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":_[3]||(_[3]=M=>i.value=M),filter:r.search,loading:f.value,columns:S.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:y,"binary-state-sort":""},{loading:a(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":a(({icon:M,message:$,filter:T})=>[l("div",ii,[l("span",null,u($)+" "+u(T?" with term "+T:""),1)])]),body:a(M=>[e(_e,{props:M},{default:a(()=>[e(j,{key:"id",props:M},{default:a(()=>[l("div",ui,[l("div",null,[l("b",null,"#"+u(M.row.id),1)]),l("div",null," - "+u(d.$dayjs(new Date(M.row.created_at)).format("DD/MM/YYYY hh:mm:ss")),1),l("div",null," - "+u(M.row.created_by?M.row.created_by.username:"--"),1)]),t(v).screen.lt.md?(w(),I(Q,{key:0},[l("div",di,u(d.$CONSTANTS.STOCKMOVEMENT_REFTYPES[M.row.ref_type]),1),l("div",{class:be(M.row.quantity<0?"text-red-10":M.row.quantity>0?"text-green-10":"")},[e(q,{name:M.row.quantity<0?"arrow_downward":M.row.quantity>0?"arrow_upward":""},null,8,["name"]),g(" "+u(t(z)(M.row.quantity)),1)],2)],64)):D("",!0)]),_:2},1032,["props"]),e(j,{key:"type",props:M},{default:a(()=>[g(u(d.$CONSTANTS.STOCKMOVEMENT_REFTYPES[M.row.ref_type]),1)]),_:2},1032,["props"]),e(j,{key:"quantity",props:M},{default:a(()=>[l("div",{class:be(M.row.quantity<0?"text-red-10":M.row.quantity>0?"text-green-10":"")},[e(q,{name:M.row.quantity<0?"arrow_downward":M.row.quantity>0?"arrow_upward":""},null,8,["name"]),g(" "+u(t(z)(M.row.quantity)),1)],2)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])])]),_:1})],64)}}},ci=Object.freeze(Object.defineProperty({__proto__:null,default:mi},Symbol.toStringTag,{value:"Module"}));function Ka(c,n=!1){const p=c.map(r=>({value:r.id,label:r.name})),o=n?[{value:"all",label:"Semua"},...p]:p,s=C([...o]);return{filteredCategories:s,filterCategories:(r,i)=>{const m=r.toLowerCase();i(()=>{s.value=o.filter(y=>y.label.toLowerCase().includes(m))})},categories:o}}function Wt(c,n=!1){const p=c.map(r=>({value:r.id,label:"#"+r.id+" - "+r.name})),o=n?[{value:"all",label:"Semua"},...p]:p,s=C([...o]);return{filteredSuppliers:s,filterSupplierFn:(r,i)=>{i(()=>{s.value=o.filter(m=>m.label.toLowerCase().includes(r.toLowerCase()))})},suppliers:o}}const pi={class:"q-gutter-sm"},fi={class:"col col-lg-6 q-pa-sm"},gi={style:{"margin-left":"-10px"}},bi={__name:"Editor",setup(c){const n=pe(),p=(n.props.data.id?"Edit":"Tambah")+" Produk",o=Pe(window.CONSTANTS.PRODUCT_TYPES),s=$e({id:n.props.data.id,category_id:n.props.data.category_id,supplier_id:n.props.data.supplier_id,type:n.props.data.type,name:n.props.data.name,barcode:n.props.data.barcode,description:n.props.data.description,stock:parseFloat(n.props.data.stock),min_stock:parseFloat(n.props.data.min_stock),max_stock:parseFloat(n.props.data.max_stock),uom:n.props.data.uom,cost:parseFloat(n.props.data.cost),price:parseFloat(n.props.data.price),active:!!n.props.data.active,notes:n.props.data.notes}),f=()=>xe({form:s,url:route("admin.product.save")}),{filteredCategories:r,filterCategories:i}=Ka(n.props.categories),{filteredSuppliers:m,filterSuppliers:y}=Wt(n.props.suppliers),v=ee(()=>s.price>0?(s.price-s.cost)/s.price*100:0);return(S,d)=>{const _=L("i-head"),V=L("authenticated-layout");return w(),I(Q,null,[e(_,{title:p}),e(V,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",pi,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=b=>S.$inertia.get(S.route("admin.product.index")))})])]),default:a(()=>[e(Se,{class:"row justify-center"},{default:a(()=>[l("div",fi,[e(Ve,{class:"row",onSubmit:X(f,["prevent"]),onValidationError:t(Re)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":d[1]||(d[1]=b=>t(s).id=b)},null,512),[[Fe,t(s).id]]),d[20]||(d[20]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Utama",-1)),e(ne,{autofocus:"",modelValue:t(s).type,"onUpdate:modelValue":d[2]||(d[2]=b=>t(s).type=b),class:"custom-select",options:t(o),label:"Jenis","map-options":"","emit-value":"","hide-bottom-space":""},null,8,["modelValue","options"]),e(Z,{modelValue:t(s).name,"onUpdate:modelValue":d[3]||(d[3]=b=>t(s).name=b),modelModifiers:{trim:!0},label:"Nama Produk","lazy-rules":"",error:!!t(s).errors.name,disable:t(s).processing,"error-message":t(s).errors.name,rules:[b=>b&&b.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Z,{modelValue:t(s).description,"onUpdate:modelValue":d[4]||(d[4]=b=>t(s).description=b),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Deskripsi","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.description,"error-message":t(s).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(ne,{modelValue:t(s).category_id,"onUpdate:modelValue":d[5]||(d[5]=b=>t(s).category_id=b),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:t(r),"map-options":"","emit-value":"",onFilter:t(i),"option-label":"label","option-value":"value",error:!!t(s).errors.category_id,disable:t(s).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(G,null,{default:a(()=>[e(O,null,{default:a(()=>d[18]||(d[18]=[g("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),e(ne,{modelValue:t(s).supplier_id,"onUpdate:modelValue":d[6]||(d[6]=b=>t(s).supplier_id=b),label:"Supplier","use-input":"","input-debounce":"300",clearable:"",options:t(m),"map-options":"","emit-value":"",onFilter:t(y),"option-label":"label","option-value":"value",error:!!t(s).errors.supplier_id,disable:t(s).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(G,null,{default:a(()=>[e(O,null,{default:a(()=>d[19]||(d[19]=[g("Supplier tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),l("div",gi,[e(yt,{class:"full-width q-pl-none",modelValue:t(s).active,"onUpdate:modelValue":d[7]||(d[7]=b=>t(s).active=b),disable:t(s).processing,label:"Aktif"},null,8,["modelValue","disable"])]),d[21]||(d[21]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Inventori",-1)),e(Z,{modelValue:t(s).barcode,"onUpdate:modelValue":d[8]||(d[8]=b=>t(s).barcode=b),modelModifiers:{trim:!0},label:"Barcode","lazy-rules":"",error:!!t(s).errors.barcode,disable:t(s).processing,"error-message":t(s).errors.barcode,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(Z,{modelValue:t(s).uom,"onUpdate:modelValue":d[9]||(d[9]=b=>t(s).uom=b),modelModifiers:{trim:!0},label:"Satuan","lazy-rules":"",error:!!t(s).errors.uom,disable:t(s).processing,"error-message":t(s).errors.uom,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(Ue,{modelValue:t(s).stock,"onUpdate:modelValue":d[10]||(d[10]=b=>t(s).stock=b),label:"Stok",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.stock,errorMessage:t(s).errors.stock},null,8,["modelValue","disable","error","errorMessage"]),e(Ue,{modelValue:t(s).min_stock,"onUpdate:modelValue":d[11]||(d[11]=b=>t(s).min_stock=b),label:"Stok Minimum",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.min_stock,errorMessage:t(s).errors.min_stock},null,8,["modelValue","disable","error","errorMessage"]),e(Ue,{modelValue:t(s).max_stock,"onUpdate:modelValue":d[12]||(d[12]=b=>t(s).max_stock=b),label:"Stok Maksimum",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.max_stock,errorMessage:t(s).errors.max_stock},null,8,["modelValue","disable","error","errorMessage"]),d[22]||(d[22]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Harga",-1)),e(Ue,{modelValue:t(s).cost,"onUpdate:modelValue":d[13]||(d[13]=b=>t(s).cost=b),label:"Modal / Harga Beli (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.cost,errorMessage:t(s).errors.cost},null,8,["modelValue","disable","error","errorMessage"]),e(Ue,{modelValue:t(s).price,"onUpdate:modelValue":d[14]||(d[14]=b=>t(s).price=b),label:"Harga Jual (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.max_stock,errorMessage:t(s).errors.price},null,8,["modelValue","disable","error","errorMessage"]),e(Ue,{modelValue:v.value,"onUpdate:modelValue":d[15]||(d[15]=b=>v.value=b),label:"Margin (%)",lazyRules:"",disable:t(s).processing,maxDecimals:2},null,8,["modelValue","disable"]),d[23]||(d[23]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Lainnya",-1)),e(Z,{modelValue:t(s).notes,"onUpdate:modelValue":d[16]||(d[16]=b=>t(s).notes=b),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:d[17]||(d[17]=b=>t(F).get(S.route("admin.product.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},_i=Object.freeze(Object.defineProperty({__proto__:null,default:bi},Symbol.toStringTag,{value:"Module"})),vi={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},yi={class:"q-pa-sm"},wi={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ki={key:0,class:"text-grey-8"},hi={key:1,class:"text-grey-8"},Si={key:0},$i={key:1},xi={class:"flex justify-end"},xa="Produk",Ci={__name:"Index",setup(c){const n=pe(),p=C(null),o=C(null),s=Le(o),f=C(!1),r=[{value:"all",label:"Semua"},...Pe(window.CONSTANTS.PRODUCT_TYPES)],i=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],m=[{value:"all",label:"Semua"},{value:"ready",label:"Tersedia"},{value:"out",label:"Kosong"},{value:"low",label:"Stok Rendah"},{value:"over",label:"Stok Berlebih"}],y=ve(),v=C(!1),S=C([]),d=C(!0),_=Ie({type:"all",category_id:"all",supplier_id:"all",status:"active",stock_status:"all",search:"",...Me()}),V=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1});let b=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"cost",label:"Modal",field:"cost",align:"right"},{name:"price",label:"Harga",field:"price",align:"right"},{name:"action",align:"right"}];we(()=>{const A=new URLSearchParams(window.location.search).get("page");A&&(V.value.page=parseInt(A)),M()});const Y=B=>ze({message:`Hapus Produk ${B.name}?`,url:route("admin.product.delete",B.id),fetchItemsCallback:M,loading:d}),M=(B=null)=>{Ne({pagination:V,filter:_,props:B,rows:S,url:route("admin.product.data"),loading:d,tableRef:p})},$=()=>{M()},{filteredCategories:T,filterCategories:P}=Ka(n.props.categories,!0),{filteredSuppliers:x,filterSuppliers:h}=Wt(n.props.suppliers,!0),k=ee(()=>{let B=[...b];return f.value||B.splice(2,1),y.screen.gt.sm?B:B.filter(A=>A.name==="name"||A.name==="action")}),N=B=>{console.log(window.location.href),F.get(route("admin.product.detail",B.row.id))};return(B,A)=>{const W=L("i-head"),te=L("authenticated-layout");return w(),I(Q,null,[e(W,{title:xa}),e(te,null,De({title:a(()=>[g(u(xa))]),"right-button":a(()=>[B.$can("admin.product.add")?(w(),U(R,{key:0,class:"q-mr-sm",icon:f.value?"visibility":"visibility_off",label:"",dense:"",color:"grey",onClick:A[0]||(A[0]=H=>f.value=!f.value)},null,8,["icon"])):D("",!0),e(R,{icon:v.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:A[1]||(A[1]=H=>v.value=!v.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:A[2]||(A[2]=H=>t(F).get(B.route("admin.product.add")))})]),default:a(()=>[l("div",yi,[e(ye,{ref_key:"tableRef",ref:p,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:V.value,"onUpdate:pagination":A[10]||(A[10]=H=>V.value=H),filter:_.search,loading:d.value,columns:k.value,rows:S.value,"rows-per-page-options":[10,25,50],style:He({height:t(s)}),onRequest:M,"binary-state-sort":""},{loading:a(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":a(({icon:H,message:E,filter:de})=>[l("div",wi,[l("span",null,u(E)+" "+u(de?" with term "+de:""),1)])]),header:a(H=>[e(_e,{props:H},{default:a(()=>[e(Ct,{"auto-width":""}),(w(!0),I(Q,null,st(H.cols,E=>(w(),U(Ct,{key:E.name,props:H},{default:a(()=>[g(u(E.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(H=>[e(_e,{props:H,class:be({inactive:!H.row.active})},{default:a(()=>[e(j,{"auto-width":""},{default:a(()=>[e(R,{size:"xs",color:"grey",round:"",dense:"",onClick:X(E=>H.expand=!H.expand,["prevent"]),icon:H.expand?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["onClick","icon"])]),_:2},1024),e(j,{key:"name",props:H,class:"wrap-column cursor-pointer",onClick:E=>N(H)},{default:a(()=>[g(u(H.row.name)+" ",1),H.row.category_id?(w(),I("div",ki,[e(q,{name:"category"}),g(" "+u(H.row.category.name),1)])):D("",!0),H.row.supplier_id?(w(),I("div",hi,[e(q,{name:"local_shipping"}),g(" "+u(H.row.supplier.name),1)])):D("",!0),t(y).screen.gt.sm?D("",!0):(w(),I(Q,{key:2},[H.row.type=="stocked"?(w(),I("div",Si,[e(q,{name:"cycle"}),g(" Stok: "+u(t(z)(H.row.stock))+" "+u(H.row.uom),1)])):D("",!0),f.value?(w(),I("div",$i,[e(q,{name:"money"}),g(" Modal: Rp. "+u(t(z)(H.row.cost)),1)])):D("",!0),l("div",null,[e(q,{name:"sell"}),g(" Harga: Rp. "+u(t(z)(H.row.price)),1)])],64))]),_:2},1032,["props","onClick"]),e(j,{key:"stock",props:H,class:be(["wrap-column",{"low-stock":H.row.type=="stocked"&&(Number(H.row.stock)==0||Number(H.row.stock)<Number(H.row.min_stock)),"over-stock":H.row.type=="stocked"&&Number(H.row.max_stock)&&Number(H.row.stock)>Number(H.row.max_stock)}])},{default:a(()=>[g(u(H.row.type=="stocked"?t(z)(H.row.stock)+" "+H.row.uom:"-"),1)]),_:2},1032,["props","class"]),(w(),U(j,{key:"cost",props:H,class:"wrap-column"},{default:a(()=>[g(u(t(z)(H.row.cost)),1)]),_:2},1032,["props"])),e(j,{key:"price",props:H,class:"wrap-column"},{default:a(()=>[g(u(t(z)(H.row.price)),1)]),_:2},1032,["props"]),e(j,{key:"action",props:H},{default:a(()=>[l("div",xi,[e(R,{disabled:!t(Ye)(B.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:A[9]||(A[9]=X(()=>{},["stop"]))},{default:a(()=>[e(Be,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(qe,{style:{width:"200px"}},{default:a(()=>[K((w(),U(G,{clickable:"",onClick:X(E=>t(F).get(B.route("admin.product.duplicate",H.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"file_copy"})]),_:1}),e(O,{icon:"copy"},{default:a(()=>A[11]||(A[11]=[g("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]]),K((w(),U(G,{clickable:"",onClick:X(E=>t(F).get(B.route("admin.product.edit",H.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(O,{icon:"edit"},{default:a(()=>A[12]||(A[12]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]]),B.$page.props.auth.user.role==B.$CONSTANTS.USER_ROLE_ADMIN?K((w(),U(G,{key:0,onClick:X(E=>Y(H.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>A[13]||(A[13]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]]):D("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class"]),K(e(_e,{props:H},{default:a(()=>[e(j,{colspan:"100%"},{default:a(()=>[e(q,{name:"notes"}),g(" "+u(H.row.description),1)]),_:2},1024)]),_:2},1032,["props"]),[[Ha,H.expand]])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[v.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:o},{default:a(()=>[l("div",vi,[e(ne,{modelValue:_.type,"onUpdate:modelValue":[A[3]||(A[3]=H=>_.type=H),$],class:"custom-select col-xs-4 col-sm-2",options:r,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ne,{modelValue:_.status,"onUpdate:modelValue":[A[4]||(A[4]=H=>_.status=H),$],class:"custom-select col-xs-4 col-sm-2",options:i,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ne,{modelValue:_.stock_status,"onUpdate:modelValue":[A[5]||(A[5]=H=>_.stock_status=H),$],class:"custom-select col-xs-4 col-sm-2",options:m,label:"Status Stok",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ne,{modelValue:_.category_id,"onUpdate:modelValue":[A[6]||(A[6]=H=>_.category_id=H),$],label:"Kategori",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:t(T),"map-options":"",dense:"","emit-value":"",onFilter:t(P),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),e(ne,{modelValue:_.supplier_id,"onUpdate:modelValue":[A[7]||(A[7]=H=>_.supplier_id=H),$],label:"Pemasok",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:t(x),"map-options":"",dense:"","emit-value":"",onFilter:t(h),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:_.search,"onUpdate:modelValue":A[8]||(A[8]=H=>_.search=H),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},qi=Object.freeze(Object.defineProperty({__proto__:null,default:Ci},Symbol.toStringTag,{value:"Module"})),Qa={__name:"UpdatePasswordForm",setup(c){const n=C(!1),p=C(null),o=C(null),s=$e({current_password:"",password:"",password_confirmation:""}),f=()=>{s.clearErrors(),s.post(route("admin.profile.update-password"),{preserveScroll:!0,onSuccess:()=>s.reset(),onError:()=>{s.errors.password&&(s.reset("password","password_confirmation"),p.value.focus()),s.errors.current_password&&(s.reset("current_password"),o.value.focus())}})};return(r,i)=>(w(),U(Ve,{class:"row",onSubmit:X(f,["prevent"]),onValidationError:t(Re)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,null,{default:a(()=>[i[6]||(i[6]=l("div",{class:"text-h6 q-my-xs text-subtitle1"},"Perbarui Kata Sandi",-1)),i[7]||(i[7]=l("p",{class:"text-caption text-grey-9"}," Pastikan akun anda menggunakan kata sandi yang kuat agar akun tetap aman. ",-1)),e(Z,{modelValue:t(s).current_password,"onUpdate:modelValue":i[1]||(i[1]=m=>t(s).current_password=m),type:n.value?"text":"password",label:"Kata Sandi Sekarang",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.current_password,"error-message":t(s).errors.current_password,rules:[m=>m&&m.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:a(()=>[e(R,{dense:"",flat:"",round:"",onClick:i[0]||(i[0]=m=>n.value=!n.value)},{default:a(()=>[e(q,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(Z,{modelValue:t(s).password,"onUpdate:modelValue":i[3]||(i[3]=m=>t(s).password=m),type:n.value?"text":"password",label:"Kata Sandi Baru",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.password,"error-message":t(s).errors.password,rules:[m=>m&&m.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:a(()=>[e(R,{dense:"",flat:"",round:"",onClick:i[2]||(i[2]=m=>n.value=!n.value)},{default:a(()=>[e(q,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(Z,{modelValue:t(s).password_confirmation,"onUpdate:modelValue":i[5]||(i[5]=m=>t(s).password_confirmation=m),type:n.value?"text":"password",label:"Konfirmasi Kata Sandi",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.password_confirmation,"error-message":t(s).errors.password_confirmation,rules:[m=>m&&m.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:a(()=>[e(R,{dense:"",flat:"",round:"",onClick:i[4]||(i[4]=m=>n.value=!n.value)},{default:a(()=>[e(q,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"])]),_:1}),e(ae,null,{default:a(()=>[e(R,{type:"submit",label:"Perbarui Kata Sandi",color:"primary",icon:"save",disable:t(s).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},Vi=Object.freeze(Object.defineProperty({__proto__:null,default:Qa},Symbol.toStringTag,{value:"Module"})),Wa={__name:"UpdateProfileInformationForm",setup(c){const p=pe().props.auth.user,o=$e({name:p.name,username:p.username,role:window.CONSTANTS.USER_ROLES[p.role]}),s=()=>xe({form:o,url:route("admin.profile.update")});return(f,r)=>(w(),U(Ve,{class:"row",onSubmit:X(s,["prevent"]),onValidationError:t(Re)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,null,{default:a(()=>[r[3]||(r[3]=l("div",{class:"text-h6 q-my-xs text-subtitle1"},"Profil Saya",-1)),r[4]||(r[4]=l("p",{class:"text-caption text-grey-9"},"Perbarui profil anda.",-1)),e(Z,{modelValue:t(o).username,"onUpdate:modelValue":r[0]||(r[0]=i=>t(o).username=i),label:"ID Pengguna",disable:t(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"]),e(Z,{modelValue:t(o).name,"onUpdate:modelValue":r[1]||(r[1]=i=>t(o).name=i),modelModifiers:{trim:!0},label:"Nama",disable:t(o).processing,error:!!t(o).errors.name,"error-message":t(o).errors.name,rules:[i=>i&&i.length>0||"Name harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(Z,{modelValue:t(o).role,"onUpdate:modelValue":r[2]||(r[2]=i=>t(o).role=i),label:"Hak Akses",disable:t(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"])]),_:1}),e(ae,null,{default:a(()=>[e(R,{type:"submit",label:"Perbarui Profil Saya",icon:"save",color:"primary",disable:t(o).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},Ti=Object.freeze(Object.defineProperty({__proto__:null,default:Wa},Symbol.toStringTag,{value:"Module"})),Pi={class:"q-pa-sm"},Mi={class:"row justify-center"},Ni={class:"col col-lg-6"},Ca="Profil Saya",Oi={__name:"Edit",setup(c){return(n,p)=>{const o=L("i-head"),s=L("authenticated-layout");return w(),I(Q,null,[e(o,{title:Ca}),e(s,null,{title:a(()=>[g(u(Ca))]),default:a(()=>[l("div",Pi,[l("div",Mi,[l("div",Ni,[e(Wa,{class:"q-mb-md"}),e(Qa)])])])]),_:1})],64)}}},Ii=Object.freeze(Object.defineProperty({__proto__:null,default:Oi},Symbol.toStringTag,{value:"Module"}));function Ri(){const c=C(new Date);let n=null;const p=()=>{c.value=new Date};we(()=>{n=setInterval(p,1e3)}),Zl(()=>{n&&clearInterval(n)});const o=ee(()=>c.value.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})),s=ee(()=>c.value.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}));return{currentDate:o,currentTime:s}}const Ai={class:"text-grey-8"},Ja={__name:"DigitalClock",setup(c){const{currentDate:n,currentTime:p}=Ri();return(o,s)=>(w(),I("div",Ai,u(t(n))+" - "+u(t(p)),1))}},Ei={class:"row q-col-gutter-md items-center q-px-md q-py-sm"},Ui={class:"col-12 col-sm-6 col-md-4"},Di={class:"text-bold"},ji={key:0,class:"col-12 col-md-4 text-center"},Li={class:"text-h6 text-weight-bold text-grey-8"},Bi={key:0,class:"text-subtitle2 text-weight-bold text-grey-8"},zi={key:1,class:"text-subtitle2 text-weight-bold text-grey-8"},Hi={class:"text-weight-bold"},Ga={__name:"TransactionHeader",props:{user:{type:Object,required:!0},company:{type:Object,required:!0}},emits:["edit-supplier"],setup(c){return(n,p)=>(w(),I("div",Ei,[l("div",Ui,[l("div",Di,[p[1]||(p[1]=g(" Info Supplier ")),e(R,{icon:"edit",flat:"",rounded:"",dense:"",color:"grey",size:"sm",onClick:p[0]||(p[0]=o=>n.$emit("edit-supplier"))})]),p[2]||(p[2]=l("div",{class:"text-grey-8 text-italic"},"Supplier belum dipilih.",-1))]),n.$q.screen.gt.sm?(w(),I("div",ji,[l("div",Li,u(c.company.name),1),c.company.address?(w(),I("div",Bi,u(c.company.address),1)):D("",!0),c.company.phone?(w(),I("div",zi,u(c.company.phone),1)):D("",!0)])):D("",!0),l("div",{class:be(["col-12 col-sm-6 col-md-4",n.$q.screen.gt.sm?"text-right":""])},[l("div",Hi,u(c.user.username)+" - "+u(c.user.name),1),e(Ja)],2)]))}},Yi=Object.freeze(Object.defineProperty({__proto__:null,default:Ga},Symbol.toStringTag,{value:"Module"})),Fi={class:"text-weight-medium"},Ki={class:"text-caption text-grey-6"},Qi={class:"text-weight-medium"},Wi={class:"text-weight-bold text-primary"},Xa={__name:"ItemsListTable",props:{items:{type:Array,required:!0},columns:{type:Array,required:!0}},emits:["update-quantity","remove-item"],setup(c){return(n,p)=>(w(),U(ye,{dense:"",rows:c.items,columns:c.columns,"row-key":"id",flat:"",square:"",bordered:"",class:"bg-grey-1 pos-table q-pa-none col","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48},{header:a(o=>[e(_e,{props:o,class:"bg-grey-4"},{default:a(()=>[(w(!0),I(Q,null,st(o.cols,s=>(w(),U(Ct,{key:s.name,props:o,class:"text-weight-bold text-grey-8"},{default:a(()=>[g(u(s.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(o=>[e(_e,{props:o,class:"hover-highlight"},{default:a(()=>[e(j,{key:"name",props:o,class:"text-left"},{default:a(()=>[l("div",Fi,u(o.row.name),1),l("div",Ki," Barcode: "+u(o.row.barcode),1)]),_:2},1032,["props"]),e(j,{key:"price",props:o,class:"text-center"},{default:a(()=>[l("div",Qi,[e(Ue,{"model-value":o.row.price,dense:"",style:{width:"80px","text-align":"right"}},null,8,["model-value"])])]),_:2},1032,["props"]),e(j,{key:"quantity",props:o,class:"text-center"},{default:a(()=>[e(Ue,{"model-value":o.row.quantity,dense:"",style:{width:"80px","text-align":"right"},"onUpdate:modelValue":s=>n.$emit("update-quantity",{id:o.row.id,value:s}),onKeyup:p[0]||(p[0]=Ht(s=>s.target.blur(),["enter"]))},null,8,["model-value","onUpdate:modelValue"])]),_:2},1032,["props"]),e(j,{key:"subtotal",props:o,class:"text-center"},{default:a(()=>[l("div",Wi," Rp. "+u(t(z)(o.row.price*o.row.quantity)),1)]),_:2},1032,["props"]),e(j,{key:"action",props:o,class:"text-center"},{default:a(()=>[e(R,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:s=>n.$emit("remove-item",o.row)},{default:a(()=>[e(Ml,null,{default:a(()=>p[1]||(p[1]=[g("Hapus Item")])),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]))}},Ji=Object.freeze(Object.defineProperty({__proto__:null,default:Xa},Symbol.toStringTag,{value:"Module"})),Gi={class:"column"},Xi={class:"row justify-end items-center q-gutter-sm"},Zi={class:"text-h4 text-weight-bold text-primary"},eu={class:"text-caption text-grey-6 q-mt-xs text-right"},tu={class:"q-py-sm"},au={class:"q-py-sm"},Za={__name:"TransactionSummary",props:{subtotal:{type:Number,required:!0},itemCount:{type:Number,required:!0},barcode:{type:String,required:!0},isProcessing:{type:Boolean,default:!1},formProcessing:{type:Boolean,default:!1}},emits:["update:barcode","add-item","process-payment"],setup(c,{expose:n}){const p=C(null);we(()=>{o()});const o=()=>{Nt(()=>{p.value&&p.value.focus()})};return n({focusOnBarcodeInput:o}),(s,f)=>(w(),I("div",Gi,[l("div",Xi,[f[3]||(f[3]=l("span",{class:"text-weight-bold text-grey-8"},"GRAND TOTAL: Rp.",-1)),l("span",Zi,u(t(z)(c.subtotal)),1)]),l("div",eu,u(c.itemCount)+" item(s) ",1),l("div",tu,[e(Z,{ref_key:"barcodeInputRef",ref:p,"model-value":c.barcode,"onUpdate:modelValue":f[0]||(f[0]=r=>s.$emit("update:barcode",r)),placeholder:"<Input Barcode>",outlined:"",square:"",class:"col bg-white",onKeyup:f[1]||(f[1]=Ht(r=>s.$emit("add-item"),["enter"])),loading:c.isProcessing,clearable:"",autofocus:""},{prepend:a(()=>[e(q,{name:"qr_code_scanner"})]),_:1},8,["model-value","loading"])]),l("div",au,[e(R,{class:"full-width",label:"Bayar",color:"primary",icon:"payment",onClick:f[2]||(f[2]=r=>s.$emit("process-payment")),disable:c.itemCount===0,loading:c.formProcessing},null,8,["disable","loading"])])]))}},lu=Object.freeze(Object.defineProperty({__proto__:null,default:Za},Symbol.toStringTag,{value:"Module"})),ou={class:"q-ml-sm"},el={__name:"ConfirmDeleteDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,default:null}},emits:["update:modelValue","confirm"],setup(c){return(n,p)=>(w(),U(Pt,{"model-value":c.modelValue,"onUpdate:modelValue":p[1]||(p[1]=o=>n.$emit("update:modelValue",o)),persistent:""},{default:a(()=>[e(ie,null,{default:a(()=>[e(ae,{class:"row items-center"},{default:a(()=>{var o;return[e(mt,{icon:"delete",color:"negative","text-color":"white"}),l("span",ou,'Hapus item "'+u((o=c.item)==null?void 0:o.name)+'"?',1)]}),_:1}),e(wt,{align:"right"},{default:a(()=>[K(e(R,{flat:"",label:"Batal",color:"primary"},null,512),[[se]]),K(e(R,{flat:"",label:"Hapus",color:"negative",onClick:p[0]||(p[0]=o=>n.$emit("confirm"))},null,512),[[se]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},nu=Object.freeze(Object.defineProperty({__proto__:null,default:el},Symbol.toStringTag,{value:"Module"})),tl={__name:"SupplierEditorDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","save"],setup(c,{emit:n}){const p=n,o=C(""),s=C(""),f=()=>{p("save",{name:o.value,address:s.value})};return(r,i)=>(w(),U(Pt,{"model-value":c.modelValue,"onUpdate:modelValue":i[2]||(i[2]=m=>r.$emit("update:modelValue",m)),persistent:""},{default:a(()=>[e(ie,{style:{width:"400px"}},{default:a(()=>[e(ae,{class:"q-py-none q-pt-lg"},{default:a(()=>i[3]||(i[3]=[l("div",{class:"text-bold text-grey-8"},"Edit Info Supplier",-1)])),_:1}),e(ae,null,{default:a(()=>[e(Z,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=m=>o.value=m),label:"Nama Supplier"},null,8,["modelValue"]),e(Z,{modelValue:s.value,"onUpdate:modelValue":i[1]||(i[1]=m=>s.value=m),label:"Alamat",type:"textarea",autogrow:"",counter:"",maxlength:"200",class:"q-mt-md"},null,8,["modelValue"])]),_:1}),e(wt,{align:"right"},{default:a(()=>[K(e(R,{flat:"",label:"Batal",color:"primary"},null,512),[[se]]),K(e(R,{flat:"",label:"Simpan",color:"primary",onClick:f},null,512),[[se]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},su=Object.freeze(Object.defineProperty({__proto__:null,default:tl},Symbol.toStringTag,{value:"Module"})),ru={class:"q-gutter-sm"},iu={class:"row col **grow**"},uu={class:"col-12 q-pa-sm column"},du={class:"row"},mu={class:"col-xs-12 col-md-8 q-pa-sm"},cu={class:"col-md-4 col-xs-12 q-pa-sm"},pu={__name:"Editor",setup(c){const n=ve(),p=pe(),o=C(null),s=$e({id:null,formatted_id:"Diisi Otomatis",customer_name:"Pelanggan Umum",datetime:Ge().format("YYYY-MM-DD HH:mm:ss"),status:"pending",payment_status:"unpaid",items:[],subtotal:0,tax:0,total:0,notes:""}),f=C(""),r=C(!1),i=C(!1),m=C(null),y=C(!1),v=[{name:"name",required:!0,label:"Item Information",align:"left",field:"name",sortable:!1,style:"width: 300px"},{name:"price",label:"Harga",align:"center",field:"price",sortable:!1,style:"width: 120px"},{name:"quantity",label:"Quantity",align:"center",field:"quantity",sortable:!1,style:"width: 100px"},{name:"subtotal",label:"SubTotal",align:"center",sortable:!1,style:"width: 140px"},{name:"action",label:"Action",align:"center",sortable:!1,style:"width: 80px"}],S=ee(()=>{const M=s.items.reduce(($,T)=>$+T.price*T.quantity,0);return s.subtotal=M,s.total=M+s.tax,M}),d=async()=>{if(!f.value.trim()){n.notify({message:"Silakan masukkan barcode",color:"warning",position:"bottom"});return}let M=1,$=f.value.trim(),T=null;const P=$.split("*");if(P.length===3){const h=parseInt(P[0]),k=parseFloat(P[2]);!isNaN(h)&&h>0?M=h:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"bottom"}),!isNaN(k)&&k>=0?T=k:n.notify({message:"Harga tidak valid. Menggunakan harga produk default.",color:"warning",position:"bottom"}),$=P[1]}else if(P.length===2){const h=parseInt(P[0]);!isNaN(h)&&h>0?M=h:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"bottom"}),$=P[1]}const x=s.items.findIndex(h=>h.barcode===$);if(x!==-1)s.items[x].quantity+=M,n.notify({message:`Quantity ${s.items[x].name} bertambah ${M}`,color:"positive",position:"bottom"});else{r.value=!0;try{await new Promise(N=>setTimeout(N,300));const k={...{id:Date.now(),name:`Item ${$}`,barcode:$,price:T!==null?T:Math.floor(Math.random()*5e4)+1e4},quantity:M};s.items.push(k),n.notify({message:`${k.name} berhasil ditambahkan`,color:"positive",position:"bottom",icon:"add_shopping_cart"})}catch(h){console.error("Error fetching item:",h),n.notify({message:"Item tidak ditemukan atau gagal menambahkan item",color:"negative",position:"bottom"})}finally{r.value=!1}}f.value="",await Nt(),o.value.focusOnBarcodeInput()},_=M=>{m.value=M,i.value=!0},V=()=>{if(m.value){const M=s.items.findIndex($=>$.id===m.value.id);if(M!==-1){const $=s.items.splice(M,1)[0];n.notify({message:`${$.name} dihapus dari keranjang`,color:"info",position:"bottom",icon:"remove_shopping_cart"})}m.value=null}},b=(M,$)=>{const T=s.items.find(P=>P.id===M);T&&$>0&&(T.quantity=parseInt($)||1)},Y=()=>{if(s.items.length===0){n.notify({message:"Tidak ada item dalam keranjang",color:"warning",position:"bottom"});return}s.datetime=Ge().format("YYYY-MM-DD HH:mm:ss"),s.status="completed",s.payment_status="paid",xe({form:s,url:route("admin.transaction.save")})};return(M,$)=>{const T=L("i-head"),P=L("authenticated-layout");return w(),I(Q,null,[e(T,{title:"Order Pembelian"}),e(P,null,{title:a(()=>$[8]||($[8]=[g("Order Pembelian")])),"left-button":a(()=>[l("div",ru,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:$[0]||($[0]=x=>t(F).get(M.route("admin.purchase-order.index")))})])]),default:a(()=>[e(Se,{class:"bg-grey-2 q-pa-sm column fit"},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"full-width col column"},{default:a(()=>[e(Ga,{user:t(p).props.auth.user,company:t(p).props.company,onEditSupplier:$[1]||($[1]=x=>y.value=!0)},null,8,["user","company"]),l("div",iu,[l("div",uu,[e(Xa,{items:t(s).items,columns:v,onUpdateQuantity:$[2]||($[2]=({id:x,value:h})=>b(x,h)),onRemoveItem:_},null,8,["items"])])]),l("div",du,[l("div",mu,[e(Z,{modelValue:t(s).notes,"onUpdate:modelValue":$[3]||($[3]=x=>t(s).notes=x),type:"textarea",placeholder:"Tambahkan catatan transaksi...",square:"",outlined:"",class:"bg-white",rows:3,counter:"",maxlength:"200",error:!!t(s).errors.notes,"error-message":t(s).errors.notes,style:{"margin-bottom":"16px"},"hide-bottom-space":""},{prepend:a(()=>[e(q,{name:"note"})]),_:1},8,["modelValue","error","error-message"])]),l("div",cu,[e(Za,{ref_key:"transactionSummaryRef",ref:o,barcode:f.value,"onUpdate:barcode":$[4]||($[4]=x=>f.value=x),subtotal:S.value,"item-count":t(s).items.length,"is-processing":r.value,"form-processing":t(s).processing,onAddItem:$[5]||($[5]=x=>d(f.value)),onProcessPayment:Y},null,8,["barcode","subtotal","item-count","is-processing","form-processing"])])])]),_:1}),e(el,{modelValue:i.value,"onUpdate:modelValue":$[6]||($[6]=x=>i.value=x),item:m.value,onConfirm:V},null,8,["modelValue","item"]),e(tl,{modelValue:y.value,"onUpdate:modelValue":$[7]||($[7]=x=>y.value=x)},null,8,["modelValue"])]),_:1})]),_:1})],64)}}},fu=rt(pu,[["__scopeId","data-v-4d8fff94"]]),gu=Object.freeze(Object.defineProperty({__proto__:null,default:fu},Symbol.toStringTag,{value:"Module"})),bu={class:"col col-lg-6 q-pa-sm"},_u={__name:"Editor_v1",setup(c){const n=pe(),p=(n.props.data.id?"Edit":"Tambah")+" Order Pembelian",{filteredSuppliers:o,filterSupplierFn:s}=Wt(n.props.suppliers,!1),f=Pe(window.CONSTANTS.PURCHASE_ORDER_STATUSES),r=Pe(window.CONSTANTS.PURCHASE_ORDER_PAYMENT_STATUSES),i=Pe(window.CONSTANTS.PURCHASE_ORDER_DELIVERY_STATUSES),m=$e({id:n.props.data.id,formatted_id:n.props.data.formatted_id??"Diisi Otomatis",supplier_id:n.props.data.supplier_id,datetime:Ge(n.props.data.datetime).format("YYYY-MM-DD HH:mm:ss"),status:n.props.data.status,payment_status:n.props.data.payment_status,delivery_status:n.props.data.delivery_status,total:parseFloat(n.props.data.total),total_paid:parseFloat(n.props.data.total_paid),notes:n.props.data.notes}),y=()=>xe({form:m,url:route("admin.purchase-order.save")});return(v,S)=>{const d=L("i-head"),_=L("authenticated-layout");return w(),I(Q,null,[e(d,{title:p}),e(_,null,{title:a(()=>[g(u(p))]),default:a(()=>[e(Se,{class:"row justify-center"},{default:a(()=>[l("div",bu,[e(Ve,{class:"row",onSubmit:X(y,["prevent"]),onValidationError:t(Re)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":S[0]||(S[0]=V=>t(m).id=V)},null,512),[[Fe,t(m).id]]),e(Z,{modelValue:t(m).formatted_id,"onUpdate:modelValue":S[1]||(S[1]=V=>t(m).formatted_id=V),modelModifiers:{trim:!0},label:"ID Order",readonly:"","hide-bottom-space":""},null,8,["modelValue"]),e(kt,{modelValue:t(m).datetime,"onUpdate:modelValue":S[2]||(S[2]=V=>t(m).datetime=V),label:"Waktu",error:!!t(m).errors.datetime,disable:t(m).processing},null,8,["modelValue","error","disable"]),e(ne,{modelValue:t(m).status,"onUpdate:modelValue":S[3]||(S[3]=V=>t(m).status=V),label:"Status Order",options:t(f),"map-options":"","emit-value":"",error:!!t(m).errors.status,disable:t(m).processing,errorMessage:t(m).errors.status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(ne,{modelValue:t(m).payment_status,"onUpdate:modelValue":S[4]||(S[4]=V=>t(m).payment_status=V),label:"Status Pembayaran",options:t(r),"map-options":"","emit-value":"",error:!!t(m).errors.payment_status,disable:t(m).processing,errorMessage:t(m).errors.payment_status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(ne,{modelValue:t(m).delivery_status,"onUpdate:modelValue":S[5]||(S[5]=V=>t(m).delivery_status=V),label:"Status Pengiriman",options:t(i),"map-options":"","emit-value":"",error:!!t(m).errors.delivery_status,disable:t(m).processing,errorMessage:t(m).errors.delivery_status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(ne,{modelValue:t(m).supplier_id,"onUpdate:modelValue":S[6]||(S[6]=V=>t(m).supplier_id=V),label:"Pemasok","use-input":"","input-debounce":"300",clearable:"",options:t(o),"map-options":"","emit-value":"",errorMessage:t(m).errors.supplier_id,onFilter:t(s),error:!!t(m).errors.supplier_id,disable:t(m).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(G,null,{default:a(()=>[e(O,null,{default:a(()=>S[9]||(S[9]=[g("Pemasok tidak ditemukan.")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(R,{dense:"",icon:"add",type:"button",color:"primary",disable:t(m).processing,label:"Pemasok Baru"},null,8,["disable"]),e(Z,{modelValue:t(m).notes,"onUpdate:modelValue":S[7]||(S[7]=V=>t(m).notes=V),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(m).processing,error:!!t(m).errors.notes,"error-message":t(m).errors.notes,rules:[V=>V&&V.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(R,{icon:"create",type:"submit",label:"Buat Order",color:"primary",disable:t(m).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(m).processing,onClick:S[8]||(S[8]=V=>t(F).get(v.route("admin.purchase-order.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},vu=Object.freeze(Object.defineProperty({__proto__:null,default:_u},Symbol.toStringTag,{value:"Module"})),yu={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},wu={class:"q-pa-sm"},ku={class:"full-width row flex-center text-grey-8 q-gutter-sm"},hu={key:0},Su={key:0},$u={key:1},xu={class:"flex justify-end"},qa="Order Pembelian",Cu={__name:"Index",setup(c){const n=ve(),p=C(!1),o=C([]),s=C(!0),f=C(null),r=C(null),i=Le(r),m=Vt(),y=Tt(),v=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...ft(m-2,m-1).reverse()],S=[{value:"all",label:"Semua Bulan"},...gt()],d=Ie({search:"",category_id:"all",year:m,month:y,...Me()}),_=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),V=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];we(()=>{Y()});const b=T=>ze({message:`Hapus transaksi #-${T.id}?`,url:route("admin.purchase-order.delete",T.id),fetchItemsCallback:Y,loading:s}),Y=(T=null)=>{Ne({pagination:_,filter:d,props:T,rows:o,url:route("admin.purchase-order.data"),loading:s,tableRef:f})},M=()=>{Y()},$=ee(()=>n.screen.gt.sm?V:V.filter(T=>T.name==="datetime"||T.name==="action"));return Te(()=>d.year,T=>{T===null&&(d.month=null)}),(T,P)=>{const x=L("i-head"),h=L("authenticated-layout");return w(),I(Q,null,[e(x,{title:qa}),e(h,null,De({title:a(()=>[g(u(qa))]),"right-button":a(()=>[e(R,{icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:P[0]||(P[0]=k=>p.value=!p.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:P[1]||(P[1]=k=>t(F).get(T.route("admin.purchase-order.add")))})]),default:a(()=>[l("div",wu,[e(ye,{ref_key:"tableRef",ref:f,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:_.value,"onUpdate:pagination":P[6]||(P[6]=k=>_.value=k),filter:d.search,loading:s.value,columns:$.value,rows:o.value,"rows-per-page-options":[10,25,50],style:He({height:t(i)}),onRequest:Y,"binary-state-sort":""},{loading:a(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":a(({icon:k,message:N,filter:B})=>[l("div",ku,[l("span",null,u(N)+" "+u(B?" with term "+B:""),1)])]),body:a(k=>[e(_e,{props:k},{default:a(()=>[e(j,{key:"datetime",props:k,class:"wrap-column"},{default:a(()=>[l("div",null,[g(" #"+u(k.row.id)+" - ",1),e(q,{name:"calendar_today"}),g(" "+u(k.row.datetime),1)]),e(Ot,null,{default:a(()=>[e(q,{name:"category"}),g(" "+u(k.row.type_label),1)]),_:2},1024),k.row.ref_type?(w(),I("div",hu,[e(q,{name:"link"}),g(" "+u(k.row.ref_type_label)+" #"+u(k.row.ref_id),1)])):D("",!0),t(n).screen.gt.sm?D("",!0):(w(),I(Q,{key:1},[k.row.notes?(w(),I("div",Su,[e(q,{name:"notes"}),g(" "+u(k.row.notes),1)])):D("",!0),k.row.category?(w(),I("div",$u,[e(q,{name:"category"}),g(" "+u(k.row.category.name),1)])):D("",!0),l("div",null,[e(q,{name:"money"}),g(" Rp. "+u(t(et)(k.row.amount)+t(z)(k.row.amount)),1)])],64))]),_:2},1032,["props"]),e(j,{key:"account",props:k},{default:a(()=>{var N;return[g(u((N=k.row.account)==null?void 0:N.name),1)]}),_:2},1032,["props"]),e(j,{key:"notes",props:k},{default:a(()=>[g(u(k.row.notes),1)]),_:2},1032,["props"]),e(j,{key:"amount",props:k,style:{"text-align":"right"}},{default:a(()=>[g(u(t(et)(k.row.amount)+t(z)(k.row.amount)),1)]),_:2},1032,["props"]),e(j,{key:"action",props:k},{default:a(()=>[l("div",xu,[e(R,{disabled:!t(Ye)(T.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:P[5]||(P[5]=X(()=>{},["stop"]))},{default:a(()=>[e(Be,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(qe,{style:{width:"200px"}},{default:a(()=>[K((w(),U(G,{onClick:X(N=>b(k.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>P[7]||(P[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",yu,[e(ne,{modelValue:d.year,"onUpdate:modelValue":[P[2]||(P[2]=k=>d.year=k),M],options:v,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(ne,{modelValue:d.month,"onUpdate:modelValue":[P[3]||(P[3]=k=>d.month=k),M],options:S,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:d.year===null},null,8,["modelValue","disable"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":P[4]||(P[4]=k=>d.search=k),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},qu=Object.freeze(Object.defineProperty({__proto__:null,default:Cu},Symbol.toStringTag,{value:"Module"})),Vu={class:"q-gutter-sm"},Tu={__name:"Detail",setup(c){const o=`Rincian ${pe().props.data.formatted_id}`;return(s,f)=>{const r=L("i-head"),i=L("authenticated-layout");return w(),I(Q,null,[e(r,{title:o}),e(i,null,{title:a(()=>[g(u(o))]),"left-button":a(()=>[l("div",Vu,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:f[0]||(f[0]=m=>s.$inertia.get(s.route("admin.sales-order.index")))})])]),_:1})],64)}}},Pu=Object.freeze(Object.defineProperty({__proto__:null,default:Tu},Symbol.toStringTag,{value:"Module"})),Mu={class:"row q-col-gutter-md items-center q-px-md q-py-sm"},Nu={class:"col-12 col-sm-6 col-md-4"},Ou={key:0,class:"text-grey q-mt-xs"},Iu={key:0,class:"col-12 col-md-4 text-center"},Ru={class:"text-h6 text-weight-bold text-grey-8"},Au={key:0,class:"text-subtitle2 text-weight-bold text-grey-8"},Eu={key:1,class:"text-subtitle2 text-weight-bold text-grey-8"},Uu={class:"text-weight-bold"},al={__name:"TransactionHeader",props:{user:{type:Object,required:!0},company:{type:Object,required:!0},modelValue:{type:[Object,null],default:null},formProcessing:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(c,{emit:n}){const p=pe(),{filterCustomersFn:o,customers:s}=Ft(p.props.customers,!1),f=C(null);function r(){return f.value?p.props.customers.find(m=>m.id===f.value):null}return(i,m)=>(w(),I("div",Mu,[l("div",Nu,[l("div",null,[e(ne,{class:"custom-select",modelValue:f.value,"onUpdate:modelValue":m[0]||(m[0]=y=>f.value=y),label:"Pelanggan","use-input":"","input-debounce":"300",clearable:"","map-options":"","emit-value":"",options:t(s),onFilter:t(o),disable:c.formProcessing},{"no-option":a(()=>[e(G,null,{default:a(()=>[e(O,null,{default:a(()=>m[1]||(m[1]=[g("Pelanggan tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","disable"]),f.value?(w(),I("div",Ou," Saldo: Rp. "+u(t(z)(r().balance)),1)):D("",!0)])]),i.$q.screen.gt.sm?(w(),I("div",Iu,[l("div",Ru,u(c.company.name),1),c.company.address?(w(),I("div",Au,u(c.company.address),1)):D("",!0),c.company.phone?(w(),I("div",Eu,u(c.company.phone),1)):D("",!0)])):D("",!0),i.$q.screen.gt.sm?(w(),I("div",{key:1,class:be(["col-12 col-sm-6 col-md-4",i.$q.screen.gt.sm?"text-right":"text-center"])},[l("div",Uu,u(c.user.username)+" - "+u(c.user.name),1),e(Ja)],2)):D("",!0)]))}},Du=Object.freeze(Object.defineProperty({__proto__:null,default:al},Symbol.toStringTag,{value:"Module"})),ju={class:"text-weight-medium"},Lu={class:"text-caption text-grey-6"},Bu={class:"column items-end"},zu={class:"text-weight-bold text-primary"},Hu={class:"text-caption text-grey-6 text-italic"},ll={__name:"ItemsListTable",props:{items:{type:Array,required:!0},columns:{type:Array,required:!0}},emits:["update-quantity","remove-item"],setup(c){return(n,p)=>(w(),U(ye,{dense:"",rows:c.items,columns:c.columns,"row-key":"id",flat:"",square:"",bordered:"",class:"bg-grey-1 pos-table q-pa-none col full-height-table","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48},{header:a(o=>[e(_e,{props:o,class:"bg-grey-4"},{default:a(()=>[(w(!0),I(Q,null,st(o.cols,s=>(w(),U(Ct,{key:s.name,props:o,class:"text-weight-bold text-grey-8"},{default:a(()=>[g(u(s.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(o=>[e(_e,{props:o,class:"hover-highlight"},{default:a(()=>[e(j,{key:"name",props:o,class:"text-left"},{default:a(()=>[l("div",ju,u(o.row.name),1),l("div",Lu," Barcode: "+u(o.row.barcode),1)]),_:2},1032,["props"]),e(j,{key:"subtotal",props:o,class:"text-right"},{default:a(()=>[l("div",Bu,[l("div",zu," Rp. "+u(t(z)(o.row.price*o.row.quantity)),1),l("div",Hu,u(o.row.quantity)+" x Rp. "+u(t(z)(o.row.price)),1)])]),_:2},1032,["props"]),e(j,{key:"action",props:o,class:"text-right"},{default:a(()=>[e(R,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:s=>n.$emit("remove-item",o.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]))}},Yu=Object.freeze(Object.defineProperty({__proto__:null,default:ll},Symbol.toStringTag,{value:"Module"})),Fu={class:"column"},Ku={class:"row justify-end items-center q-gutter-sm"},Qu={class:"text-h4 text-weight-bold text-primary"},Wu={class:"text-caption text-grey-6 q-mt-xs text-right"},Ju={class:"q-py-xs"},Gu={class:"q-py-xs"},ol={__name:"TransactionSummary",props:{subtotal:{type:Number,required:!0},itemCount:{type:Number,required:!0},barcode:{type:String,required:!0},isProcessing:{type:Boolean,default:!1},formProcessing:{type:Boolean,default:!1}},emits:["update:barcode","add-item","process-payment"],setup(c,{expose:n}){const p=C(null);we(()=>{o()});const o=()=>{Nt(()=>{p.value&&p.value.focus()})};return n({focusOnBarcodeInput:o}),(s,f)=>(w(),I("div",Fu,[l("div",Ku,[f[3]||(f[3]=l("span",{class:"text-weight-bold text-grey-8"},"GRAND TOTAL: Rp.",-1)),l("span",Qu,u(t(z)(c.subtotal)),1)]),l("div",Wu,u(c.itemCount)+" item(s) ",1),l("div",Ju,[e(Z,{ref_key:"barcodeInputRef",ref:p,"model-value":c.barcode,"onUpdate:modelValue":f[0]||(f[0]=r=>s.$emit("update:barcode",r)),placeholder:"Qty*Kode*Harga",outlined:"",class:"col bg-white",onKeyup:f[1]||(f[1]=Ht(r=>s.$emit("add-item"),["enter"])),loading:c.isProcessing,clearable:"",autofocus:""},{prepend:a(()=>[e(q,{name:"qr_code_scanner"})]),_:1},8,["model-value","loading"])]),l("div",Gu,[e(R,{class:"full-width",label:"Bayar",color:"primary",icon:"payment",onClick:f[2]||(f[2]=r=>s.$emit("process-payment")),disable:c.itemCount===0,loading:c.formProcessing},null,8,["disable","loading"])])]))}},Xu=Object.freeze(Object.defineProperty({__proto__:null,default:ol},Symbol.toStringTag,{value:"Module"})),nl={__name:"CustomerEditorDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","save"],setup(c,{emit:n}){const p=n,o=C(""),s=C(""),f=()=>{p("save",{name:o.value,address:s.value})};return(r,i)=>(w(),U(Pt,{"model-value":c.modelValue,"onUpdate:modelValue":i[2]||(i[2]=m=>r.$emit("update:modelValue",m)),persistent:""},{default:a(()=>[e(ie,{style:{width:"400px"}},{default:a(()=>[e(ae,{class:"q-py-none q-pt-lg"},{default:a(()=>i[3]||(i[3]=[l("div",{class:"text-bold text-grey-8"},"Edit Info Pelanggan",-1)])),_:1}),e(ae,null,{default:a(()=>[e(Z,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=m=>o.value=m),label:"Nama Pelanggan"},null,8,["modelValue"]),e(Z,{modelValue:s.value,"onUpdate:modelValue":i[1]||(i[1]=m=>s.value=m),label:"Alamat",type:"textarea",autogrow:"",counter:"",maxlength:"200",class:"q-mt-md","hide-bottom-space":""},null,8,["modelValue"])]),_:1}),e(wt,{align:"right"},{default:a(()=>[K(e(R,{flat:"",label:"Batal",color:"primary"},null,512),[[se]]),K(e(R,{flat:"",label:"Simpan",color:"primary",onClick:f},null,512),[[se]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Zu=Object.freeze(Object.defineProperty({__proto__:null,default:nl},Symbol.toStringTag,{value:"Module"})),ed={class:"q-gutter-sm"},td={class:"row col grow"},ad={class:"col-12 q-pa-sm column"},ld={class:"row"},od={class:"col-xs-12 col-md-8 q-pa-sm"},nd={class:"col-md-4 col-xs-12 q-pa-sm"},sd={key:0,class:"text-center q-mb-md text-grey-8"},rd={class:"text-subtitle1 text-weight-medium"},id={key:0,class:"text-body1"},ud={class:"text-h4 text-center text-primary q-pb-md"},dd={class:"row q-col-gutter-sm justify-center"},md={class:"col-12"},cd={class:"col-12"},Va="Penjualan",pd={__name:"Editor",setup(c){const n=ve(),p=pe(),o=C(null),s=$e({id:null,formatted_id:"Diisi Otomatis",customer_name:"Pelanggan Umum",datetime:Ge().format("YYYY-MM-DD HH:mm:ss"),status:"pending",payment_status:"unpaid",items:[],subtotal:0,tax:0,total:0,notes:""}),f=C(""),r=C(!1),i=C(!1),m=C(null),y=C(!1),v=C(!1),S=C(null),d=C(null),_=ee(()=>n.screen.gt.sm?[{name:"name",required:!0,label:"Item Information",align:"left",field:"name",sortable:!1,style:"width: 300px"},{name:"subtotal",label:"Subtotal",align:"right",field:"subtotal",sortable:!1,style:"width: 120px"},{name:"action",label:"Action",align:"center",sortable:!1,style:"width: 80px"}]:[{name:"name",required:!0,label:"Item",align:"left",field:"name",sortable:!1},{name:"subtotal",label:"Total",align:"right",sortable:!1},{name:"action",label:"Aksi",align:"center",sortable:!1}]),V=ee(()=>{const x=s.items.reduce((h,k)=>h+k.price*k.quantity,0);return s.subtotal=x,s.total=x+s.tax,x}),b=async()=>{var A;if(!f.value.trim()){n.notify({message:"Silakan masukkan barcode",color:"warning",position:"top"});return}let x=1,h=f.value.trim(),k=null;const N=h.split("*");if(N.length===3){const W=parseInt(N[0]),te=parseFloat(N[2]);!isNaN(W)&&W>0?x=W:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"top"}),!isNaN(te)&&te>=0?k=te:n.notify({message:"Harga tidak valid. Menggunakan harga produk default.",color:"warning",position:"top"}),h=N[1]}else if(N.length===2){const W=parseInt(N[0]);!isNaN(W)&&W>0?x=W:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"top"}),h=N[1]}const B=s.items.findIndex(W=>W.barcode===h);if(B!==-1)s.items[B].quantity+=x,n.notify({message:`Quantity ${s.items[B].name} bertambah ${x}`,color:"positive",position:"top"});else{r.value=!0;try{await new Promise(H=>setTimeout(H,300));const te={...{id:Date.now(),name:`Item ${h}`,barcode:h,price:k!==null?k:Math.floor(Math.random()*5e4)+1e4},quantity:x};s.items.push(te),n.notify({message:`${te.name} berhasil ditambahkan`,color:"positive",position:"top",icon:"add_shopping_cart"})}catch(W){console.error("Error fetching item:",W),n.notify({message:"Item tidak ditemukan atau gagal menambahkan item",color:"negative",position:"top"})}finally{r.value=!1}}f.value="",await Nt(),(A=o.value)==null||A.focusOnBarcodeInput()},Y=x=>{n.dialog({title:"Hapus Item",message:`Apakah Anda yakin akan menghapus item${x.barcode}?`,cancel:{label:"Batal",color:"grey"},ok:{label:"Hapus",color:"negative"},persistent:!0}).onOk(()=>{const h=s.items.findIndex(k=>k.id===x.id);if(h!==-1){const k=s.items.splice(h,1)[0];n.notify({message:`${k.name} dihapus dari keranjang`,color:"info",position:"top",icon:"remove_shopping_cart"})}})},M=(x,h)=>{const k=s.items.find(N=>N.id===x);k&&h>0&&(k.quantity=parseInt(h)||1)},$=async()=>{if(s.items.length===0){n.notify({message:"Tidak ada item dalam keranjang",color:"warning",position:"top"});return}await T(),v.value=!0},T=async()=>{try{S.value=s.customer_name==="Pelanggan Umum"?"Pelanggan Umum":"Nama Santri Demo",d.value=Math.floor(Math.random()*5e5)+1e4}catch(x){console.error("Gagal mengambil data santri:",x),S.value="Data tidak ditemukan",d.value=0}},P=x=>{s.items.length!==0&&(s.datetime=Ge().format("YYYY-MM-DD HH:mm:ss"),s.status="completed",s.payment_status=x==="wallet"?"paid_wallet":"paid_cash",xe({form:s,url:route("admin.transaction.save")}))};return(x,h)=>{const k=L("i-head"),N=L("ConfirmDeleteDialog"),B=L("authenticated-layout");return w(),I(Q,null,[e(k,{title:Va}),e(B,null,{title:a(()=>[g(u(Va))]),"left-button":a(()=>[l("div",ed,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:h[0]||(h[0]=A=>t(F).get(x.route("admin.sales-order.index")))})])]),default:a(()=>[e(Se,{class:"bg-grey-2 q-pa-sm column fit"},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"full-width col column"},{default:a(()=>[e(al,{user:t(p).props.auth.user,company:t(p).props.company,onEditCustomer:h[1]||(h[1]=A=>y.value=!0)},null,8,["user","company"]),l("div",td,[l("div",ad,[e(ll,{items:t(s).items,columns:_.value,onUpdateQuantity:h[2]||(h[2]=({id:A,value:W})=>M(A,W)),onRemoveItem:Y},null,8,["items","columns"])])]),l("div",ld,[l("div",od,[l("table",null,[l("tr",null,[h[11]||(h[11]=l("td",null,"#",-1)),h[12]||(h[12]=l("td",null,":",-1)),l("td",null,u(t(p).props.data.formatted_id),1)]),l("tr",null,[h[13]||(h[13]=l("td",null,"Status",-1)),h[14]||(h[14]=l("td",null,":",-1)),l("td",null,u(t(p).props.data.status_label),1)]),l("tr",null,[h[15]||(h[15]=l("td",null,"Pembayaran",-1)),h[16]||(h[16]=l("td",null,":",-1)),l("td",null,u(t(p).props.data.payment_status_label),1)]),l("tr",null,[h[17]||(h[17]=l("td",null,"Pengiriman",-1)),h[18]||(h[18]=l("td",null,":",-1)),l("td",null,u(t(p).props.data.delivery_status_label),1)]),l("tr",null,[h[19]||(h[19]=l("td",null,"Catatan",-1)),h[20]||(h[20]=l("td",null,":",-1)),l("td",null,[e(R,{color:"grey",flat:"",size:"sm",dense:"",rounded:"",small:"",icon:"notes"})])])])]),l("div",nd,[e(ol,{ref_key:"transactionSummaryRef",ref:o,barcode:f.value,"onUpdate:barcode":h[3]||(h[3]=A=>f.value=A),subtotal:V.value,"item-count":t(s).items.length,"is-processing":r.value,"form-processing":t(s).processing,onAddItem:h[4]||(h[4]=A=>b(f.value)),onProcessPayment:$},null,8,["barcode","subtotal","item-count","is-processing","form-processing"])])])]),_:1}),e(N,{modelValue:i.value,"onUpdate:modelValue":h[5]||(h[5]=A=>i.value=A),item:m.value,onConfirm:x.removeItem},null,8,["modelValue","item","onConfirm"]),e(nl,{modelValue:y.value,"onUpdate:modelValue":h[6]||(h[6]=A=>y.value=A)},null,8,["modelValue"]),e(Pt,{modelValue:v.value,"onUpdate:modelValue":h[10]||(h[10]=A=>v.value=A),persistent:""},{default:a(()=>[e(ie,{style:{"min-width":"350px"}},{default:a(()=>[e(ae,null,{default:a(()=>h[21]||(h[21]=[l("div",{class:"text-h6 text-center"},"Pilih Metode Pembayaran",-1)])),_:1}),e(ae,{class:"q-pt-none"},{default:a(()=>[S.value?(w(),I("div",sd,[l("div",rd,u(S.value),1),d.value!==null?(w(),I("div",id," Saldo: Rp. "+u(t(z)(d.value)),1)):D("",!0)])):D("",!0),l("div",ud," Rp. "+u(t(z)(t(s).total)),1),l("div",dd,[l("div",md,[e(R,{label:"Tunai",icon:"attach_money",color:"primary",class:"full-width",onClick:h[7]||(h[7]=A=>P("cash")),loading:t(s).processing,disable:t(s).processing},null,8,["loading","disable"])]),l("div",cd,[e(R,{label:"Dompet Santri",icon:"wallet",color:"green-6",class:"full-width",onClick:h[8]||(h[8]=A=>P("wallet")),loading:t(s).processing,disable:t(s).processing},null,8,["loading","disable"])])])]),_:1}),e(wt,{align:"right",class:"q-py-md"},{default:a(()=>[e(R,{flat:"",label:"Batal",color:"grey",onClick:h[9]||(h[9]=A=>v.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)}}},fd=rt(pd,[["__scopeId","data-v-75169a75"]]),gd=Object.freeze(Object.defineProperty({__proto__:null,default:fd},Symbol.toStringTag,{value:"Module"})),bd={__name:"SalesOrderStatusChip",props:{status:{type:String,required:!0}},setup(c){const n=window.CONSTANTS.SALES_ORDER_STATUSES,p={draft:"orange",closed:"green",canceled:"red"};return(o,s)=>(w(),U(zt,{status:c.status,statuses:t(n),colors:p},null,8,["status","statuses"]))}},_d={__name:"SalesOrderPaymentStatusChip",props:{status:{type:String,required:!0}},setup(c){const n=window.CONSTANTS.SALES_ORDER_PAYMENT_STATUSES,p={unpaid:"red",fully_paid:"green",partially_paid:"orange",refunded:"black"};return(o,s)=>(w(),U(zt,{status:c.status,statuses:t(n),colors:p},null,8,["status","statuses"]))}},vd={__name:"SalesOrderDeliveryStatusChip",props:{status:{type:String,required:!0}},setup(c){const n=window.CONSTANTS.SALES_ORDER_DELIVERY_STATUSES,p={not_sent:"grey",sent:"orange",received:"green",failed:"red"};return(o,s)=>(w(),U(zt,{status:c.status,statuses:t(n),colors:p},null,8,["status","statuses"]))}},yd={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},wd={class:"q-pa-sm"},kd={class:"full-width row flex-center text-grey-8 q-gutter-sm"},hd={key:1},Sd={class:"flex justify-end"},Ta="Penjualan",$d={__name:"Index",setup(c){const n=ve(),p=C(!1),o=C([]),s=C(!0),f=C(null),r=C(null),i=Le(r),m=Vt(),y=Tt(),v=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...ft(m-2,m-1).reverse()],S=[{value:"all",label:"Semua Bulan"},...gt()],d=[{value:"all",label:"Semua Status"},...Pe(window.CONSTANTS.SALES_ORDER_STATUSES)],_=[{value:"all",label:"Semua Status"},...Pe(window.CONSTANTS.SALES_ORDER_PAYMENT_STATUSES)],V=[{value:"all",label:"Semua Status"},...Pe(window.CONSTANTS.SALES_ORDER_DELIVERY_STATUSES)],b=Ie({search:"",year:m,month:y,status:"all",payment_status:"all",delivery_status:"all",...Me()}),Y=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),M=[{name:"id",label:"Info Order",field:"id",align:"left",sortable:!0},{name:"customer_id",label:"Pelanggan",field:"customer_id",align:"left"},{name:"total",label:"Total",field:"total",align:"right"},{name:"action",align:"right"}];we(()=>{k()});const $=A=>{if(A.status=="draft"){T(A);return}P(A)},T=A=>{F.get(route("admin.sales-order.edit",A.id))},P=A=>{F.get(route("admin.sales-order.detail",A.id))},x=A=>{La.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${A.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{Nl.post(route("admin.sales-order.cancel",{id:A.id}),{id:A.id}).then(W=>{const te=W.data.data,H=o.value.findIndex(E=>E.id===te.id);if(H===-1){console.warn("Item tidak ditemukan di tabel.");return}o.value[H].status="dibatalkan",n.notify({message:"Transaksi berhasil dibatalkan!",color:"positive",position:"bottom"})}).catch(W=>{var H,E;const te=((E=(H=W.response)==null?void 0:H.data)==null?void 0:E.message)||"Terjadi kesalahan saat membatalkan transaksi.";n.notify({message:te,color:"warning",position:"bottom"}),console.error(W)})})},h=A=>ze({title:"Konfirmasi Penghapusan",message:`Hapus transaksi #${A.formatted_id}?`,url:route("admin.sales-order.delete",A.id),fetchItemsCallback:k,loading:s}),k=(A=null)=>{Ne({pagination:Y,filter:b,props:A,rows:o,url:route("admin.sales-order.data"),loading:s,tableRef:f})},N=()=>{k()},B=ee(()=>n.screen.gt.sm?M:M.filter(A=>A.name==="id"||A.name==="action"));return Te(()=>b.year,A=>{A===null&&(b.month=null)}),(A,W)=>{const te=L("i-head"),H=L("authenticated-layout");return w(),I(Q,null,[e(te,{title:Ta}),e(H,null,De({title:a(()=>[g(u(Ta))]),"right-button":a(()=>[e(R,{icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:W[0]||(W[0]=E=>p.value=!p.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:W[1]||(W[1]=E=>t(F).get(A.route("admin.sales-order.add")))})]),default:a(()=>[l("div",wd,[e(ye,{ref_key:"tableRef",ref:f,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:Y.value,"onUpdate:pagination":W[13]||(W[13]=E=>Y.value=E),filter:b.search,loading:s.value,columns:B.value,rows:o.value,"rows-per-page-options":[10,25,50],style:He({height:t(i)}),onRequest:k,"binary-state-sort":""},{loading:a(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":a(({icon:E,message:de,filter:Ce})=>[l("div",kd,[l("span",null,u(de)+" "+u(Ce?" with term "+Ce:""),1)])]),body:a(E=>[e(_e,{props:E,class:"cursor-pointer",onClick:X(de=>$(E.row),["prevent"])},{default:a(()=>[e(j,{key:"id",props:E,class:"wrap-column"},{default:a(()=>[l("div",null,"# "+u(E.row.formatted_id),1),l("div",null,[e(q,{class:"inline-icon",name:"calendar_today"}),g(u(t(Qe)(E.row.datetime)),1)]),t(n).screen.gt.sm?D("",!0):(w(),I(Q,{key:0},[E.row.customer?(w(),U(ua,{key:0,href:A.route("admin.customer.detail",{id:E.row.customer.id}),onClick:W[8]||(W[8]=X(()=>{},["stop"]))},{default:a(()=>[g(u(E.row.customer.formatted_id)+" ",1),W[14]||(W[14]=l("br",null,null,-1)),g(" "+u(E.row.customer.name),1)]),_:2},1032,["href"])):D("",!0),l("div",null,"Rp. "+u(t(z)(E.row.total_price)),1),E.row.notes?(w(),I("div",hd,[e(q,{name:"notes"}),g(" "+u(E.row.notes),1)])):D("",!0)],64)),l("div",null,[e(bd,{status:E.row.status},null,8,["status"]),e(_d,{status:E.row.payment_status},null,8,["status"]),e(vd,{status:E.row.delivery_status},null,8,["status"])])]),_:2},1032,["props"]),e(j,{key:"customer_id",props:E,onClick:W[10]||(W[10]=X(()=>{},["stop"]))},{default:a(()=>[E.row.customer?(w(),U(ua,{key:0,href:A.route("admin.customer.detail",{id:E.row.customer.id}),onClick:W[9]||(W[9]=X(()=>{},["stop"]))},{default:a(()=>[g(u(E.row.customer.formatted_id)+" ",1),W[15]||(W[15]=l("br",null,null,-1)),g(" "+u(E.row.customer.name),1)]),_:2},1032,["href"])):D("",!0)]),_:2},1032,["props"]),e(j,{key:"total",props:E},{default:a(()=>[g(u(t(z)(E.row.total_price)),1)]),_:2},1032,["props"]),e(j,{key:"action",props:E,onClick:W[12]||(W[12]=X(()=>{},["stop"]))},{default:a(()=>[l("div",Sd,[e(R,{disabled:!t(Ye)(A.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:W[11]||(W[11]=X(()=>{},["stop"]))},{default:a(()=>[e(Be,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(qe,{style:{width:"200px"}},{default:a(()=>[E.row.status!="draft"?K((w(),U(G,{key:0,onClick:X(de=>P(E.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"visibility"})]),_:1}),e(O,null,{default:a(()=>W[16]||(W[16]=[g(" Lihat ")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]]):D("",!0),K((w(),U(G,{onClick:X(de=>T(E.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(O,null,{default:a(()=>[g(u(E.row.status=="draft"?"Edit":"Reopen"),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[le],[se]]),E.row.status=="draft"?K((w(),U(G,{key:1,onClick:X(de=>x(E.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"cancel"})]),_:1}),e(O,null,{default:a(()=>W[17]||(W[17]=[g(" Batalkan ")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]]):D("",!0),e(Ke),K((w(),U(G,{onClick:X(de=>h(E.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>W[18]||(W[18]=[g(" Hapus ")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",yd,[e(ne,{modelValue:b.year,"onUpdate:modelValue":[W[2]||(W[2]=E=>b.year=E),N],options:v,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),b.year!="all"?(w(),U(ne,{key:0,modelValue:b.month,"onUpdate:modelValue":[W[3]||(W[3]=E=>b.month=E),N],options:S,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:b.year===null},null,8,["modelValue","disable"])):D("",!0),e(ne,{modelValue:b.status,"onUpdate:modelValue":[W[4]||(W[4]=E=>b.status=E),N],options:d,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(ne,{modelValue:b.payment_status,"onUpdate:modelValue":[W[5]||(W[5]=E=>b.payment_status=E),N],options:_,label:"Status Pembayaran",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(ne,{modelValue:b.delivery_status,"onUpdate:modelValue":[W[6]||(W[6]=E=>b.delivery_status=E),N],options:V,label:"Status Pengiriman",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:b.search,"onUpdate:modelValue":W[7]||(W[7]=E=>b.search=E),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},xd=Object.freeze(Object.defineProperty({__proto__:null,default:$d},Symbol.toStringTag,{value:"Module"})),Cd={class:"q-gutter-sm"},qd={class:"col col-lg-6 q-pa-sm"},Vd={key:0},Td={class:"text-bold"},Pd={key:0},Md={class:"text-caption text-grey-8"},Nd={key:1},Pa="Buat Penyesuaian Stok",Od={__name:"Create",setup(c){const p=pe().props.products,o=C([]),s=$e({type:"stock_opname",datetime:Ge().format("YYYY-MM-DD HH:mm:ss"),notes:null,product_ids:[]}),f=[{name:"name",label:"Nama Produk",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"center",sortable:!1,format:(v,S)=>z(v)+" "+S.uom}],r=Pe(window.CONSTANTS.STOCKADJUSTMENT_TYPES),i=()=>{s.product_ids=o.value.map(v=>v.id),xe({form:s,url:route("admin.stock-adjustment.create")})},m=ve(),y=ee(()=>m.screen.gt.sm?f:f.filter(v=>v.name==="name"));return(v,S)=>{const d=L("i-head"),_=L("authenticated-layout");return w(),I(Q,null,[e(d,{title:Pa}),e(_,null,{title:a(()=>[g(u(Pa))]),"left-button":a(()=>[l("div",Cd,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:S[0]||(S[0]=V=>t(F).get(v.route("admin.stock-adjustment.index")))})])]),default:a(()=>[e(Se,{class:"row justify-center"},{default:a(()=>[l("div",qd,[e(Ve,{class:"row",onSubmit:X(i,["prevent"]),onValidationError:t(Re)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-sm"},{default:a(()=>[S[6]||(S[6]=l("div",{class:"text-subtitle2"},[l("b",null,"Info Penyesuaian Stok")],-1)),e(kt,{modelValue:t(s).datetime,"onUpdate:modelValue":S[1]||(S[1]=V=>t(s).datetime=V),label:"Waktu",error:!!t(s).errors.datetime,disable:t(s).processing,"error-message":t(s).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(ne,{modelValue:t(s).type,"onUpdate:modelValue":S[2]||(S[2]=V=>t(s).type=V),options:t(r),label:"Jenis Penyesuaian",class:"custom-select",error:!!t(s).errors.type,disable:t(s).processing,"map-options":"","emit-value":"","error-message":t(s).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","error-message"]),e(Z,{modelValue:t(s).notes,"onUpdate:modelValue":S[3]||(S[3]=V=>t(s).notes=V),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,null,{default:a(()=>[S[7]||(S[7]=l("div",{class:"text-subtitle2"},[l("b",null,"Pilih Produk")],-1)),e(ye,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:y.value,rows:t(p),"binary-state-sort":"","hide-pagination":!0,dense:"","rows-per-page-options":[0],selection:"multiple",selected:o.value,"onUpdate:selected":S[4]||(S[4]=V=>o.value=V)},{"body-cell-name":a(V=>[e(j,{props:V},{default:a(()=>[t(m).screen.lt.md?(w(),I("div",Vd,[l("div",Td,u(V.row.name),1),V.row.category?(w(),I("div",Pd,u(V.row.category.name),1)):D("",!0),l("div",Md,u(t(z)(V.row.stock))+" "+u(V.row.uom),1)])):(w(),I("div",Nd,u(V.row.name),1))]),_:2},1032,["props"])]),_:1},8,["columns","rows","selected"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(R,{icon:"play_arrow",type:"submit",label:"Lanjutkan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:S[5]||(S[5]=V=>t(F).get(v.route("admin.stock-adjustment.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Id=Object.freeze(Object.defineProperty({__proto__:null,default:Od},Symbol.toStringTag,{value:"Module"})),Rd={class:"q-gutter-sm"},Ad={class:"row justify-center"},Ed={class:"col col-lg-8 q-pa-sm"},Ud={class:"row"},Dd={class:"detail"},jd={key:0},Ld={key:1},Bd={class:"text-grey-9"},zd={__name:"Detail",setup(c){const n=pe(),p=`Rincian Penyesuaian Stok #${n.props.data.id}`,o=n.props.details,s=[{name:"no",label:"#",field:"no",align:"left"},{name:"product_name",label:"Nama Produk",field:"product_name",align:"left"},{name:"uom",label:"Satuan",field:"uom",align:"left"},{name:"old_quantity",label:"Stok Lama",field:"old_quantity",align:"right",format:i=>z(i)},{name:"new_quantity",label:"Stok Baru",field:"new_quantity",align:"right",format:i=>z(i)},{name:"balance",label:"Selisih Stok",field:"balance",align:"right",format:i=>z(i)},{name:"cost_balance",label:"Selisih Modal",field:"cost_balance",align:"right"},{name:"price_balance",label:"Selisih Harga",field:"price_balance",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}],f=ve(),r=ee(()=>f.screen.gt.sm?s:s.filter(i=>i.name==="no"));return(i,m)=>{const y=L("i-head"),v=L("i-link"),S=L("authenticated-layout");return w(),I(Q,null,[e(y,{title:p}),e(S,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",Rd,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:m[0]||(m[0]=d=>i.$inertia.get(i.route("admin.stock-adjustment.index")))})])]),default:a(()=>[l("div",Ad,[l("div",Ed,[l("div",Ud,[e(ie,{square:"",flat:"",bordered:"",class:"q-card col"},{default:a(()=>[e(ae,null,{default:a(()=>[m[21]||(m[21]=l("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Penyesuaian Stok ",-1)),l("table",Dd,[l("tbody",null,[l("tr",null,[m[1]||(m[1]=l("td",{style:{width:"120px"}},"ID",-1)),m[2]||(m[2]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,"# "+u(t(n).props.data.id),1)]),l("tr",null,[m[3]||(m[3]=l("td",null,"Jenis",-1)),m[4]||(m[4]=l("td",null,":",-1)),l("td",null,u(i.$CONSTANTS.STOCKADJUSTMENT_TYPES[t(n).props.data.type]),1)]),l("tr",null,[m[5]||(m[5]=l("td",null,"Status",-1)),m[6]||(m[6]=l("td",null,":",-1)),l("td",null,u(i.$CONSTANTS.STOCKADJUSTMENT_STATUSES[t(n).props.data.status]),1)]),l("tr",null,[m[7]||(m[7]=l("td",null,"Waktu",-1)),m[8]||(m[8]=l("td",null,":",-1)),l("td",null,u(i.$dayjs(t(n).props.data.datetime).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)]),t(n).props.data.created_at?(w(),I("tr",jd,[m[10]||(m[10]=l("td",null,"Dibuat Oleh",-1)),m[11]||(m[11]=l("td",null,":",-1)),l("td",null,[t(n).props.data.created_by?(w(),I(Q,{key:0},[e(v,{href:i.route("admin.user.detail",{id:t(n).props.data.created_by})},{default:a(()=>[g(u(t(n).props.data.created_by.username)+" - "+u(t(n).props.data.created_by.name),1)]),_:1},8,["href"]),m[9]||(m[9]=g(" - "))],64)):D("",!0),g(" "+u(i.$dayjs(new Date(t(n).props.data.created_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):D("",!0),t(n).props.data.updated_at?(w(),I("tr",Ld,[m[13]||(m[13]=l("td",null,"Diperbarui oleh",-1)),m[14]||(m[14]=l("td",null,":",-1)),l("td",null,[t(n).props.data.updated_by?(w(),I(Q,{key:0},[e(v,{href:i.route("admin.user.detail",{id:t(n).props.data.updated_by})},{default:a(()=>[g(u(t(n).props.data.updated_by.username)+" - "+u(t(n).props.data.updated_by.name),1)]),_:1},8,["href"]),m[12]||(m[12]=g(" - "))],64)):D("",!0),g(" "+u(i.$dayjs(new Date(t(n).props.data.updated_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):D("",!0),l("tr",null,[m[15]||(m[15]=l("td",null,"Total Modal",-1)),m[16]||(m[16]=l("td",null,":",-1)),l("td",null,[l("div",{class:be(t(n).props.data.total_cost<0?"text-red-10":t(n).props.data.total_cost>0?"text-green-10":"")}," Rp. "+u(t(z)(t(n).props.data.total_cost)),3)])]),l("tr",null,[m[17]||(m[17]=l("td",null,"Total Harga",-1)),m[18]||(m[18]=l("td",null,":",-1)),l("td",null,[l("div",{class:be(t(n).props.data.total_price<0?"text-red-10":t(n).props.data.total_price>0?"text-green-10":"")}," Rp. "+u(t(z)(t(n).props.data.total_price)),3)])]),l("tr",null,[m[19]||(m[19]=l("td",null,"Catatan",-1)),m[20]||(m[20]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.notes),1)])])])]),_:1}),e(ae,null,{default:a(()=>[m[26]||(m[26]=l("div",{class:"text-subtitle1 text-bold text-grey-9 q-pt-md"}," Rincian ",-1)),e(ye,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",dense:"",columns:r.value,rows:t(o),"hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-no":a(d=>[e(j,{props:d},{default:a(()=>[t(f).screen.lt.md?(w(),I(Q,{key:1},[l("div",Bd,[l("b",null,"#"+u(d.rowIndex+1),1),g(" - "+u(d.row.product_name),1)]),l("div",null,[g(" Stok Lama: "+u(t(z)(d.row.old_quantity))+" "+u(d.row.uom),1),m[23]||(m[23]=l("br",null,null,-1)),g(" Stok Baru: "+u(t(z)(d.row.new_quantity))+" "+u(d.row.uom),1),m[24]||(m[24]=l("br",null,null,-1)),l("div",{class:be(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},[g(" Selisih: "+u((d.row.balance>0?"+":"")+t(z)(d.row.balance))+" "+u(d.row.uom),1),m[22]||(m[22]=l("br",null,null,-1)),g(" (Rp. "+u(t(z)(d.row.subtotal_cost))+" / Rp. "+u(t(z)(d.row.subtotal_price))+") ",1)],2),m[25]||(m[25]=l("br",null,null,-1)),g(" "+u(d.row.notes),1)])],64)):(w(),I(Q,{key:0},[g(u(d.rowIndex+1),1)],64))]),_:2},1032,["props"])]),"body-cell-balance":a(d=>[e(j,{props:d},{default:a(()=>[l("div",{class:be(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},u((d.row.balance>0?"+":"")+t(z)(d.row.balance)),3)]),_:2},1032,["props"])]),"body-cell-cost_balance":a(d=>[e(j,{props:d},{default:a(()=>[l("div",{class:be(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},u(t(z)(d.row.subtotal_cost)),3)]),_:2},1032,["props"])]),"body-cell-price_balance":a(d=>[e(j,{props:d},{default:a(()=>[l("div",{class:be(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},u(t(z)(d.row.subtotal_price)),3)]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1})]),_:1})])])])]),_:1})],64)}}},Hd=Object.freeze(Object.defineProperty({__proto__:null,default:zd},Symbol.toStringTag,{value:"Module"})),Yd={class:"q-gutter-sm"},Fd={class:"col col-lg-6 q-pa-sm"},Kd={class:"text-bold"},Qd={key:0},Wd={class:"text-caption text-grey-8"},Ma="Penyesuaian Stok",Jd={__name:"Editor",setup(c){const n=pe(),p=$e({id:n.props.item.id,type:n.props.item.type,datetime:Ge(n.props.item.datetime).format("YYYY-MM-DD HH:mm:ss"),notes:n.props.item.notes,action:"save",details:[]}),o=Pe(window.CONSTANTS.STOCKADJUSTMENT_TYPES),s=n.props.details,f=y=>{const v=()=>{p.action=y,p.details=s.map(S=>({id:S.id,new_quantity:S.new_quantity})),xe({form:p,url:route("admin.stock-adjustment.save")})};y==="close"||y==="cancel"?La.create({title:"Konfirmasi",message:"Aksi ini tidak dapat dibatalkan, apakah Anda yakin?",cancel:!0,persistent:!0}).onOk(()=>{v()}).onCancel(()=>{}):v()},r=[{name:"product_name",label:"Nama Produk",field:"product_name",align:"left",sortable:!0},{name:"uom",label:"Satuan",field:"uom",align:"center"},{name:"old_quantity",label:"Tercatat",field:"old_quantity",align:"right",format:y=>z(y)},{name:"new_quantity",label:"Aktual",field:"new_quantity",align:"right",format:y=>z(y)},{name:"balance",label:"Selisih",field:"balance",align:"right",format:(y,v)=>z(v.new_quantity-v.old_quantity)}],i=ve(),m=ee(()=>i.screen.gt.sm?r:r.filter(y=>y.name==="product_name"||y.name==="new_quantity"));return(y,v)=>{const S=L("i-head"),d=L("authenticated-layout");return w(),I(Q,null,[e(S,{title:Ma}),e(d,null,{title:a(()=>[g(u(Ma))]),"left-button":a(()=>[l("div",Yd,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:v[0]||(v[0]=_=>y.$inertia.get(y.route("admin.stock-adjustment.index")))})])]),default:a(()=>[e(Se,{class:"row justify-center"},{default:a(()=>[l("div",Fd,[e(Ve,{class:"row",onSubmit:X(f,["prevent"]),onValidationError:t(Re)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,null,{default:a(()=>v[8]||(v[8]=[l("div",{class:"text-subtitle1"},"Info Penyesuaian",-1)])),_:1}),e(ae,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":v[1]||(v[1]=_=>t(p).id=_)},null,512),[[Fe,t(p).id]]),e(kt,{modelValue:t(p).datetime,"onUpdate:modelValue":v[2]||(v[2]=_=>t(p).datetime=_),label:"Waktu",error:!!t(p).errors.datetime,disable:t(p).processing,"error-message":t(p).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(ne,{modelValue:t(p).type,"onUpdate:modelValue":v[3]||(v[3]=_=>t(p).type=_),options:t(o),label:"Jenis Penyesuaian",class:"custom-select",error:!!t(p).errors.type,disable:t(p).processing,"map-options":"","emit-value":"","error-message":t(p).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","error-message"]),e(Z,{modelValue:t(p).notes,"onUpdate:modelValue":v[4]||(v[4]=_=>t(p).notes=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(p).processing,error:!!t(p).errors.notes,"error-message":t(p).errors.notes,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,null,{default:a(()=>[e(ye,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:m.value,rows:t(s),"binary-state-sort":"","hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-product_name":a(_=>[e(j,{props:_},{default:a(()=>[l("div",Kd,u(_.row.product_name),1),t(i).screen.lt.md?(w(),I("div",Qd,[l("div",Wd,[g(" Tercatat: "+u(t(z)(_.row.old_quantity))+" ",1),v[9]||(v[9]=l("br",null,null,-1)),g(" Selisih: "+u(t(z)(_.row.new_quantity-_.row.old_quantity)),1)])])):D("",!0)]),_:2},1032,["props"])]),"body-cell-new_quantity":a(_=>[e(j,{props:_},{default:a(()=>[e(Z,{modelValue:_.row[_.col.name],"onUpdate:modelValue":V=>_.row[_.col.name]=V,modelModifiers:{number:!0},"input-class":"text-right",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(R,{icon:"save",onClick:v[5]||(v[5]=_=>f("save")),label:"Simpan",color:"primary",disable:t(p).processing},null,8,["disable"]),e(R,{icon:"done_all",onClick:v[6]||(v[6]=_=>f("close")),label:"Selesaikan",color:"green",disable:t(p).processing},null,8,["disable"]),e(R,{icon:"close",onClick:v[7]||(v[7]=_=>f("cancel")),label:"Batalkan",color:"red",disable:t(p).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Gd=Object.freeze(Object.defineProperty({__proto__:null,default:Jd},Symbol.toStringTag,{value:"Module"})),Xd={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Zd={class:"q-pa-sm"},em={class:"full-width row flex-center text-grey-8 q-gutter-sm"},tm={key:0,class:"flex q-gutter-xs"},am={class:"flex q-col-gutter-xs"},lm={key:0},om={key:1},nm={class:"flex justify-end"},Na="Penyesuaian Stok",sm={__name:"Index",setup(c){const n=C([]),p=C(!0),o=C(!1),s=C(null),f=C(null),r=Le(f),i=Ie({search:"",status:"all",type:"all",...Me()}),m=[{value:"all",label:"Semua"},...Pe(window.CONSTANTS.STOCKADJUSTMENT_STATUSES)],y=[{value:"all",label:"Semua"},...Pe(window.CONSTANTS.STOCKADJUSTMENT_TYPES)],v=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),S=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"status",label:"Status",field:"status",align:"center",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!1},{name:"total_cost",label:"Total Modal",field:"total_cost",align:"right",sortable:!1},{name:"total_price",label:"Total Harga",field:"total_price",align:"right",sortable:!1},{name:"notes",label:"Notes",field:"notes",align:"left",sortable:!1},{name:"action",align:"right"}];we(()=>{_()});const d=$=>ze({message:`Hapus Transaksi #${$.id}?`,url:route("admin.stock-adjustment.delete",$.id),fetchItemsCallback:_,loading:p}),_=($=null)=>Ne({pagination:v,filter:i,props:$,rows:n,url:route("admin.stock-adjustment.data"),loading:p,tableRef:s}),V=()=>{_()},b=$=>{$.status=="draft"?F.get(route("admin.stock-adjustment.editor",$.id)):F.get(route("admin.stock-adjustment.detail",$.id))},Y=ve(),M=ee(()=>Y.screen.gt.sm?S:S.filter($=>$.name==="id"||$.name==="action"));return($,T)=>{const P=L("i-head"),x=L("authenticated-layout");return w(),I(Q,null,[e(P,{title:Na}),e(x,null,De({"right-button":a(()=>[e(R,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:T[0]||(T[0]=h=>o.value=!o.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:T[1]||(T[1]=h=>t(F).get($.route("admin.stock-adjustment.create")))})]),title:a(()=>[g(u(Na))]),default:a(()=>[l("div",Zd,[e(ye,{ref_key:"tableRef",ref:s,flat:"",bordered:"",square:"",color:"primary",class:"full-height-table stock-adjustment-list","row-key":"id","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":T[6]||(T[6]=h=>v.value=h),filter:i.search,loading:p.value,columns:M.value,rows:n.value,"rows-per-page-options":[10,25,50],style:He({height:t(r)}),onRequest:_,"binary-state-sort":""},{loading:a(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":a(({icon:h,message:k,filter:N})=>[l("div",em,[l("span",null,u(k)+" "+u(N?" with term "+N:""),1)])]),body:a(h=>[e(_e,{props:h,onClick:k=>b(h.row),class:"cursor-pointer"},{default:a(()=>[e(j,{key:"id",props:h},{default:a(()=>[t(Y).screen.lt.md?(w(),I(Q,{key:1},[l("div",am,[l("div",null,[l("b",null,"#"+u(h.row.id),1)]),l("div",null,[e(q,{name:"history"}),g(" "+u($.$dayjs(new Date(h.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),e(Ol,{dense:"",size:"sm",color:h.row.status==="draft"?"orange":h.row.status==="closed"?"green":h.row.status==="canceled"?"red":"",icon:h.row.status==="draft"?"emergency":h.row.status==="closed"?"check":h.row.status==="canceled"?"close":""},{default:a(()=>[g(u($.$CONSTANTS.STOCKADJUSTMENT_STATUSES[h.row.status]),1)]),_:2},1032,["color","icon"])]),l("div",null,[e(q,{name:"category"}),g(" "+u($.$CONSTANTS.STOCKADJUSTMENT_TYPES[h.row.type]),1)]),h.row.created_by?(w(),I("div",lm,[e(q,{name:"person"}),T[7]||(T[7]=g(" Dibuat: ")),l("b",null,u(h.row.created_by.username),1),e(q,{name:"history"}),g(" "+u($.$dayjs(new Date(h.row.created_at)).format("DD/MM/YYYY HH:mm")),1)])):D("",!0),h.row.updated_by?(w(),I("div",om,[e(q,{name:"person"}),T[8]||(T[8]=g(" Diperbarui: ")),l("b",null,u(h.row.updated_by.username),1),e(q,{name:"history"}),g(" "+u($.$dayjs(new Date(h.row.updated_at)).format("DD/MM/YYYY HH:mm")),1)])):D("",!0),l("div",{class:be(h.row.total_cost<0?"text-red-10":h.row.total_cost>0?"text-green-10":"")},[e(q,{name:"money"}),g(" Rp. "+u(t(z)(h.row.total_cost))+" / Rp. "+u(t(z)(h.row.total_price)),1)],2)],64)):(w(),I("div",tm,[l("div",null,[l("b",null,"#"+u(h.row.id),1)])]))]),_:2},1032,["props"]),e(j,{key:"datetime",props:h},{default:a(()=>[g(u($.$dayjs(new Date(h.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),_:2},1032,["props"]),e(j,{key:"status",props:h,class:"text-center"},{default:a(()=>[g(u($.$CONSTANTS.STOCKADJUSTMENT_STATUSES[h.row.status]),1)]),_:2},1032,["props"]),e(j,{key:"type",props:h},{default:a(()=>[g(u($.$CONSTANTS.STOCKADJUSTMENT_TYPES[h.row.type]),1)]),_:2},1032,["props"]),e(j,{key:"total_cost",props:h},{default:a(()=>[l("div",{class:be(h.row.total_cost<0?"text-red-10":h.row.total_cost>0?"text-green-10":"")},u(t(z)(h.row.total_cost)),3)]),_:2},1032,["props"]),e(j,{key:"total_price",props:h},{default:a(()=>[l("div",{class:be(h.row.total_price<0?"text-red-10":h.row.total_price>0?"text-green-10":"")},u(t(z)(h.row.total_price)),3)]),_:2},1032,["props"]),e(j,{key:"notes",props:h},{default:a(()=>[g(u(h.row.notes),1)]),_:2},1032,["props"]),e(j,{key:"action",props:h},{default:a(()=>[l("div",nm,[e(R,{icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:T[5]||(T[5]=X(()=>{},["stop"]))},{default:a(()=>[e(Be,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(qe,{style:{width:"200px"}},{default:a(()=>[K((w(),U(G,{onClick:X(k=>d(h.row),["stop"]),clickable:"",disabled:!t(Ye)($.$CONSTANTS.USER_ROLE_ADMIN)},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>T[9]||(T[9]=[g("Hapus")])),_:1})]),_:2},1032,["onClick","disabled"])),[[le],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[o.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:f},{default:a(()=>[l("div",Xd,[e(ne,{modelValue:i.status,"onUpdate:modelValue":[T[2]||(T[2]=h=>i.status=h),V],options:m,label:"Status",dense:"","map-options":"",class:"custom-select col-xs-12 col-sm-2","emit-value":"",outlined:""},null,8,["modelValue"]),e(ne,{modelValue:i.type,"onUpdate:modelValue":[T[3]||(T[3]=h=>i.type=h),V],options:y,label:"Jenis",dense:"",class:"custom-select col-xs-12 col-sm-2","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:i.search,"onUpdate:modelValue":T[4]||(T[4]=h=>i.search=h),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},rm=Object.freeze(Object.defineProperty({__proto__:null,default:sm},Symbol.toStringTag,{value:"Module"})),im={class:"q-gutter-sm"},um={class:"q-gutter-sm"},dm={class:"col col-lg-6 q-pa-sm"},mm={class:"row"},cm={class:"detail"},Oa="Rincian Pemasok",pm={__name:"Detail",setup(c){const n=pe();return(p,o)=>{const s=L("i-head"),f=L("authenticated-layout");return w(),I(Q,null,[e(s,{title:Oa}),e(f,null,{title:a(()=>[g(u(Oa))]),"left-button":a(()=>[l("div",im,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=r=>t(F).get(p.route("admin.supplier.index")))})])]),"right-button":a(()=>[l("div",um,[e(R,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=r=>t(F).get(p.route("admin.supplier.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(Se,{class:"row justify-center"},{default:a(()=>[l("div",dm,[l("div",mm,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,null,{default:a(()=>[o[14]||(o[14]=l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Info Pemasok ",-1)),l("table",cm,[l("tbody",null,[l("tr",null,[o[2]||(o[2]=l("td",{style:{width:"70px"}},"Nama",-1)),o[3]||(o[3]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[o[4]||(o[4]=l("td",null,"Telepon",-1)),o[5]||(o[5]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.phone),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"Alamat",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.address),1)]),l("tr",null,[o[8]||(o[8]=l("td",null,"No. Rek",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.bank_account_number),1)]),l("tr",null,[o[10]||(o[10]=l("td",null,"Alamat Return",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.return_address),1)]),l("tr",null,[o[12]||(o[12]=l("td",null,"Status",-1)),o[13]||(o[13]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},fm=Object.freeze(Object.defineProperty({__proto__:null,default:pm},Symbol.toStringTag,{value:"Module"})),gm={class:"q-gutter-sm"},bm={class:"col col-lg-6 q-pa-sm"},_m={style:{"margin-left":"-10px"}},vm={__name:"Editor",setup(c){const n=pe(),p=(n.props.data.id?"Edit":"Tambah")+" Pemasok",o=$e({id:n.props.data.id,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,bank_account_number:n.props.data.bank_account_number,return_address:n.props.data.return_address,active:!!n.props.data.active}),s=()=>xe({form:o,url:route("admin.supplier.save")});return(f,r)=>{const i=L("i-head"),m=L("authenticated-layout");return w(),I(Q,null,[e(i,{title:p}),e(m,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",gm,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=y=>t(F).get(f.route("admin.supplier.index")))})])]),default:a(()=>[e(Se,{class:"row justify-center"},{default:a(()=>[l("div",bm,[e(Ve,{class:"row",onSubmit:X(s,["prevent"]),onValidationError:t(Re)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,null,{default:a(()=>r[9]||(r[9]=[l("div",{class:"text-subtitle1"},"Info Supplier",-1)])),_:1}),e(ae,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=y=>t(o).id=y)},null,512),[[Fe,t(o).id]]),e(Z,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=y=>t(o).name=y),modelModifiers:{trim:!0},label:"Nama","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Z,{modelValue:t(o).phone,"onUpdate:modelValue":r[3]||(r[3]=y=>t(o).phone=y),modelModifiers:{trim:!0},type:"text",label:"No HP","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.phone,"error-message":t(o).errors.phone,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(Z,{modelValue:t(o).address,"onUpdate:modelValue":r[4]||(r[4]=y=>t(o).address=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.address,"error-message":t(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(Z,{modelValue:t(o).bank_account_number,"onUpdate:modelValue":r[5]||(r[5]=y=>t(o).bank_account_number=y),modelModifiers:{trim:!0},type:"text",label:"No Rek","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.bank_account_number,"error-message":t(o).errors.bank_account_number,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(Z,{modelValue:t(o).return_address,"onUpdate:modelValue":r[6]||(r[6]=y=>t(o).return_address=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat Return","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.return_address,"error-message":t(o).errors.return_address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),l("div",_m,[e(yt,{class:"full-width q-pl-none",modelValue:t(o).active,"onUpdate:modelValue":r[7]||(r[7]=y=>t(o).active=y),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"])])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[8]||(r[8]=y=>t(F).get(f.route("admin.supplier.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},ym=Object.freeze(Object.defineProperty({__proto__:null,default:vm},Symbol.toStringTag,{value:"Module"})),wm={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},km={class:"q-pa-sm"},hm={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Sm={class:"flex justify-end"},Ia="Pemasok",$m={__name:"Index",setup(c){const n=ve(),p=C(!1),o=C([]),s=C(!0),f=C(null),r=C(null),i=Le(r),m=Ie({search:"",status:"active",...Me()}),y=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),v=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"phone",label:"No HP",field:"phone",align:"left",sortable:!0},{name:"address",label:"Alamat",field:"address",align:"left",sortable:!0},{name:"bank_account_number",label:"No Rek",field:"bank_account_number",align:"left",sortable:!0},{name:"action",align:"right"}],S=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];we(()=>{_()});const d=M=>ze({message:`Hapus pemasok ${M.name}?`,url:route("admin.supplier.delete",M.id),fetchItemsCallback:_,loading:s}),_=(M=null)=>{Ne({pagination:y,filter:m,props:M,rows:o,url:route("admin.supplier.data"),loading:s,tableRef:f})},V=()=>_(),b=M=>F.get(route("admin.supplier.detail",{id:M.id})),Y=ee(()=>n.screen.gt.sm?v:v.filter(M=>M.name==="name"||M.name==="action"));return(M,$)=>{const T=L("i-head"),P=L("authenticated-layout");return w(),I(Q,null,[e(T,{title:Ia}),e(P,null,De({title:a(()=>[g(u(Ia))]),"right-button":a(()=>[e(R,{icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:$[0]||($[0]=x=>p.value=!p.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:$[1]||($[1]=x=>t(F).get(M.route("admin.supplier.add")))})]),default:a(()=>[l("div",km,[e(ye,{class:"full-height-table",ref_key:"tableRef",ref:f,s:"",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":$[5]||($[5]=x=>y.value=x),filter:m.search,loading:s.value,columns:Y.value,rows:o.value,"rows-per-page-options":[10,25,50],style:He({height:t(i)}),onRequest:_,"binary-state-sort":""},{loading:a(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":a(({icon:x,message:h,filter:k})=>[l("div",hm,[l("span",null,u(h)+" "+u(k?" with term "+k:""),1)])]),body:a(x=>[e(_e,{props:x,class:be([x.row.active?"":"bg-red-1","cursor-pointer"]),onClick:h=>b(x.row)},{default:a(()=>[e(j,{key:"name",props:x,class:"wrap-column"},{default:a(()=>[l("div",null,[t(n).screen.lt.md?(w(),U(q,{key:0,name:"person"})):D("",!0),g(" "+u(x.row.name),1)]),t(n).screen.lt.md?(w(),I(Q,{key:0},[l("div",null,[e(q,{name:"phone"}),g(" "+u(x.row.phone),1)]),l("div",null,[e(q,{name:"credit_card"}),g(" "+u(x.row.bank_account_number),1)]),l("div",null,[e(q,{name:"home_pin"}),g(" "+u(x.row.address),1)])],64)):D("",!0)]),_:2},1032,["props"]),e(j,{key:"phone",props:x},{default:a(()=>[g(u(x.row.phone),1)]),_:2},1032,["props"]),e(j,{key:"address",props:x},{default:a(()=>[g(u(x.row.address),1)]),_:2},1032,["props"]),e(j,{key:"bank_account_number",props:x},{default:a(()=>[g(u(x.row.bank_account_number),1)]),_:2},1032,["props"]),e(j,{key:"action",props:x},{default:a(()=>[l("div",Sm,[e(R,{disabled:!t(Ye)(M.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:$[4]||($[4]=X(()=>{},["stop"]))},{default:a(()=>[e(Be,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(qe,{style:{width:"200px"}},{default:a(()=>[K((w(),U(G,{clickable:"",onClick:X(h=>t(F).get(M.route("admin.supplier.duplicate",x.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"file_copy"})]),_:1}),e(O,{icon:"copy"},{default:a(()=>$[6]||($[6]=[g(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]]),K((w(),U(G,{clickable:"",onClick:X(h=>t(F).get(M.route("admin.supplier.edit",x.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(O,{icon:"edit"},{default:a(()=>$[7]||($[7]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]]),K((w(),U(G,{onClick:X(h=>d(x.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>$[8]||($[8]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",wm,[e(ne,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:m.status,"onUpdate:modelValue":[$[2]||($[2]=x=>m.status=x),V],options:S,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":$[3]||($[3]=x=>m.search=x),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},xm=Object.freeze(Object.defineProperty({__proto__:null,default:$m},Symbol.toStringTag,{value:"Module"})),Cm={class:"q-gutter-sm"},qm={class:"q-gutter-sm"},Vm={class:"row justify-center"},Tm={class:"col col-lg-6 q-pa-sm"},Pm={class:"row"},Mm={class:"detail"},Nm={key:0},Ra="Rincian Pengguna",Om={__name:"Detail",setup(c){const n=pe();return(p,o)=>{const s=L("i-head"),f=L("authenticated-layout");return w(),I(Q,null,[e(s,{title:Ra}),e(f,null,{title:a(()=>[g(u(Ra))]),"left-button":a(()=>[l("div",Cm,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=r=>p.$inertia.get(p.route("admin.user.index")))})])]),"right-button":a(()=>[l("div",qm,[e(R,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=r=>p.$inertia.get(p.route("admin.user.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[l("div",Vm,[l("div",Tm,[l("div",Pm,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,null,{default:a(()=>[o[17]||(o[17]=l("div",{class:"text-subtitle1 text-bold text-grey-9"}," Profil Pengguna ",-1)),l("table",Mm,[l("tbody",null,[l("tr",null,[o[2]||(o[2]=l("td",{style:{width:"125px"}},"ID Pengguna",-1)),o[3]||(o[3]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.username),1)]),l("tr",null,[o[4]||(o[4]=l("td",null,"Nama Pengguna",-1)),o[5]||(o[5]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"Hak Akses",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,u(p.$CONSTANTS.USER_ROLES[t(n).props.data.role]),1)]),l("tr",null,[o[8]||(o[8]=l("td",null,"Dibuat",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,u(p.$dayjs(t(n).props.data.created_at).format("DD MMMM YY HH:mm:ss")),1)]),l("tr",null,[o[10]||(o[10]=l("td",null,"Diperbarui",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,u(p.$dayjs(t(n).props.data.updated_at).format("DD MMMM YY HH:mm:ss")),1)]),l("tr",null,[o[12]||(o[12]=l("td",null,"Terakhir login",-1)),o[13]||(o[13]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.last_login_datetime?p.$dayjs(t(n).props.data.last_login_datetime).format("DD MMMM YYYY HH:mm:ss"):"Belum pernah login"),1)]),t(n).props.data.last_activity_datetime?(w(),I("tr",Nm,[o[15]||(o[15]=l("td",null,"Aktifitas Terakhir",-1)),o[16]||(o[16]=l("td",null,":",-1)),l("td",null,[g(u(p.$dayjs(t(n).props.data.last_activity_datetime).format("DD MMMM YYYY HH:mm:ss"))+" ",1),o[14]||(o[14]=l("br",null,null,-1)),g(u(t(n).props.data.last_activity_description),1)])])):D("",!0)])])]),_:1})]),_:1})])])])]),_:1})],64)}}},Im=Object.freeze(Object.defineProperty({__proto__:null,default:Om},Symbol.toStringTag,{value:"Module"}));function Rm(c){return new RegExp("^(?=.{3,16}$)(?![_-])(?!.*[_-]{2})[a-zA-Z0-9_-]+(?<![_-])$").test(c)}const Am={class:"q-gutter-sm"},Em={class:"row justify-center"},Um={class:"col col-lg-6 q-pa-sm"},Dm={__name:"Editor",setup(c){const n=Pe(window.CONSTANTS.USER_ROLES),p=pe(),o=p.props.data.id?"Edit Pengguna":"Tambah Pengguna",s=$e({id:p.props.data.id,name:p.props.data.name,username:p.props.data.username,password:"",role:p.props.data.role?p.props.data.role:n[0].value,active:!!p.props.data.active}),f=()=>xe({form:s,url:route("admin.user.save")});return(r,i)=>{const m=L("i-head"),y=L("authenticated-layout");return w(),I(Q,null,[e(m,{title:t(o)},null,8,["title"]),e(y,null,{title:a(()=>[g(u(t(o)),1)]),"left-button":a(()=>[l("div",Am,[e(R,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=v=>r.$inertia.get(r.route("admin.user.index")))})])]),default:a(()=>[l("div",Em,[l("div",Um,[e(Ve,{class:"row",onSubmit:X(f,["prevent"])},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[K(l("input",{type:"hidden",name:"id","onUpdate:modelValue":i[1]||(i[1]=v=>t(s).id=v)},null,512),[[Fe,t(s).id]]),e(Z,{modelValue:t(s).name,"onUpdate:modelValue":i[2]||(i[2]=v=>t(s).name=v),modelModifiers:{trim:!0},label:"Nama",error:!!t(s).errors.name,disable:t(s).processing,"error-message":t(s).errors.name,rules:[v=>v&&v.length>0||"Nama harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Z,{modelValue:t(s).username,"onUpdate:modelValue":i[3]||(i[3]=v=>t(s).username=v),modelModifiers:{trim:!0},type:"text",label:"ID Pengguna","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.username,"error-message":t(s).errors.username,rules:[v=>v&&v.length>0||"ID Pengguna harus diisi.",v=>t(Rm)(v)||"ID Pengguna tidak valid."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(Z,{modelValue:t(s).password,"onUpdate:modelValue":i[4]||(i[4]=v=>t(s).password=v),type:"password",label:"Kata Sandi","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.password,"error-message":t(s).errors.password,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(ne,{modelValue:t(s).role,"onUpdate:modelValue":i[5]||(i[5]=v=>t(s).role=v),label:"Hak Akses",options:t(n),"map-options":"","emit-value":"","lazy-rules":"",disable:t(s).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!t(s).errors.role,"error-message":t(s).errors.role,"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"]),e(Yt,{modelValue:t(s).active,"onUpdate:modelValue":i[6]||(i[6]=v=>t(s).active=v),disable:t(s).processing,label:"Aktif"},null,8,["modelValue","disable"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(R,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing,onClick:f},null,8,["disable"]),e(R,{icon:"cancel",label:"Batal",class:"text-black",disable:t(s).processing,onClick:i[7]||(i[7]=v=>t(F).get(r.route("admin.user.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})],64)}}},jm=Object.freeze(Object.defineProperty({__proto__:null,default:Dm},Symbol.toStringTag,{value:"Module"})),Lm={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Bm={class:"q-pa-sm"},zm={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Hm={class:"elipsis",style:{"max-width":"200px"}},Ym={class:"flex justify-end"},Aa="Pengguna",Fm={__name:"Index",setup(c){const n=[{value:"all",label:"Semua"},...Pe(window.CONSTANTS.USER_ROLES)],p=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],o=pe(),s=ve(),f=o.props.auth.user,r=C([]),i=C(!0),m=C(!1),y=Ie({role:"all",status:"active",search:""}),v=C({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"username",descending:!1}),S=[{name:"username",label:"ID Pengguna",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"role",label:"Hak Akses",field:"role",align:"center",sortable:!0},{name:"action",align:"right"}];we(()=>{_()});const d=()=>_(),_=(P=null)=>Ne({pagination:v,props:P,rows:r,loading:i,filter:y,url:route("admin.user.data"),tableRef:M}),V=P=>ze({url:route("admin.user.delete",P.id),message:`Hapus pengguna ${P.username}?`,fetchItemsCallback:_,loading:i}),b=ee(()=>s.screen.gt.sm?S:S.filter(P=>P.name==="username"||P.name==="action")),Y=P=>F.get(route("admin.user.detail",P.id)),M=C(null),$=C(null),T=Le($);return(P,x)=>{const h=L("i-head"),k=L("authenticated-layout");return w(),I(Q,null,[e(h,{title:Aa}),e(k,null,De({title:a(()=>[g(u(Aa))]),"right-button":a(()=>[e(R,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:x[0]||(x[0]=N=>m.value=!m.value)},null,8,["icon"]),e(R,{icon:"add",dense:"",rounded:"",color:"primary",class:"q-ml-sm",onClick:x[1]||(x[1]=N=>t(F).get(P.route("admin.user.add")))})]),default:a(()=>[l("div",Bm,[e(ye,{ref_key:"tableRef",ref:M,class:"full-height-table",style:He({height:t(T)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":x[6]||(x[6]=N=>v.value=N),filter:y.search,loading:i.value,columns:b.value,rows:r.value,"rows-per-page-options":[10,25,50],onRequest:_,"binary-state-sort":""},{loading:a(()=>[e(Oe,{showing:"",color:"red"})]),"no-data":a(({icon:N,message:B,term:A})=>[l("div",zm,[l("span",null,u(B)+" "+u(A?" with term "+A:""),1)])]),body:a(N=>[e(_e,{props:N,class:be([N.row.active?"":"bg-red-1","cursor-pointer"]),onClick:B=>Y(N.row)},{default:a(()=>[e(j,{key:"username",props:N},{default:a(()=>[l("div",null,u(N.row.username),1),t(s).screen.gt.sm?D("",!0):(w(),I(Q,{key:0},[l("div",null,[e(q,{name:"person"}),g(" "+u(N.row.name),1)]),l("div",Hm,[e(q,{name:"group"}),l("span",null,u(P.$CONSTANTS.USER_ROLES[N.row.role]),1)])],64))]),_:2},1032,["props"]),e(j,{key:"name",props:N},{default:a(()=>[g(u(N.row.name),1)]),_:2},1032,["props"]),e(j,{key:"role",props:N,align:"center"},{default:a(()=>[l("span",null,u(P.$CONSTANTS.USER_ROLES[N.row.role]),1)]),_:2},1032,["props"]),e(j,{key:"action",props:N},{default:a(()=>[l("div",Ym,[e(R,{disable:N.row.id==t(f).id||N.row.username=="admin",icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:x[5]||(x[5]=X(()=>{},["stop"]))},{default:a(()=>[e(Be,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(qe,{style:{width:"200px"}},{default:a(()=>[K((w(),U(G,{clickable:"",onClick:X(B=>t(F).get(P.route("admin.user.duplicate",N.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"file_copy"})]),_:1}),e(O,{icon:"copy"},{default:a(()=>x[7]||(x[7]=[g(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]]),K((w(),U(G,{clickable:"",onClick:X(B=>t(F).get(P.route("admin.user.edit",N.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"edit"})]),_:1}),e(O,{icon:"edit"},{default:a(()=>x[8]||(x[8]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]]),K((w(),U(G,{onClick:X(B=>V(N.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>x[9]||(x[9]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[se]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disable"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[m.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:$},{default:a(()=>[l("div",Lm,[e(ne,{modelValue:y.role,"onUpdate:modelValue":[x[2]||(x[2]=N=>y.role=N),d],class:"custom-select col-xs-12 col-sm-2",options:n,label:"Role",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(ne,{modelValue:y.status,"onUpdate:modelValue":[x[3]||(x[3]=N=>y.status=N),d],class:"custom-select col-xs-12 col-sm-2",options:p,label:"Status",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(Z,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:y.search,"onUpdate:modelValue":x[4]||(x[4]=N=>y.search=N),placeholder:"Cari",clearable:""},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Km=Object.freeze(Object.defineProperty({__proto__:null,default:Fm},Symbol.toStringTag,{value:"Module"})),Qm=it({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(c,{slots:n,emit:p}){let o=!1,s,f,r=null,i=null,m,y;function v(){s&&s(),s=null,o=!1,r!==null&&(clearTimeout(r),r=null),i!==null&&(clearTimeout(i),i=null),f!==void 0&&f.removeEventListener("transitionend",m),m=null}function S(b,Y,M){Y!==void 0&&(b.style.height=`${Y}px`),b.style.transition=`height ${c.duration}ms cubic-bezier(.25, .8, .50, 1)`,o=!0,s=M}function d(b,Y){b.style.overflowY=null,b.style.height=null,b.style.transition=null,v(),Y!==y&&p(Y)}function _(b,Y){let M=0;f=b,o===!0?(v(),M=b.offsetHeight===b.scrollHeight?0:void 0):(y="hide",b.style.overflowY="hidden"),S(b,M,Y),r=setTimeout(()=>{r=null,b.style.height=`${b.scrollHeight}px`,m=$=>{i=null,(Object($)!==$||$.target===b)&&d(b,"show")},b.addEventListener("transitionend",m),i=setTimeout(m,c.duration*1.1)},100)}function V(b,Y){let M;f=b,o===!0?v():(y="show",b.style.overflowY="hidden",M=b.scrollHeight),S(b,M,Y),r=setTimeout(()=>{r=null,b.style.height=0,m=$=>{i=null,(Object($)!==$||$.target===b)&&d(b,"hide")},b.addEventListener("transitionend",m),i=setTimeout(m,c.duration*1.1)},100)}return Mt(()=>{o===!0&&v()}),()=>ce(za,{css:!1,appear:c.appear,onEnter:_,onLeave:V},n.default)}}),at=eo({}),Wm=Object.keys(Ba),lt=it({name:"QExpansionItem",props:{...Ba,...Rl,...Da,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Il,"click","afterShow","afterHide"],setup(c,{slots:n,emit:p}){const{proxy:{$q:o}}=St(),s=ja(c,o),f=C(c.modelValue!==null?c.modelValue:c.defaultOpened),r=C(null),i=Al(),{show:m,hide:y,toggle:v}=El({showing:f});let S,d;const _=ee(()=>`q-expansion-item q-item-type q-expansion-item--${f.value===!0?"expanded":"collapsed"} q-expansion-item--${c.popup===!0?"popup":"standard"}`),V=ee(()=>c.contentInsetLevel===void 0?null:{["padding"+(o.lang.rtl===!0?"Right":"Left")]:c.contentInsetLevel*56+"px"}),b=ee(()=>c.disable!==!0&&(c.href!==void 0||c.to!==void 0&&c.to!==null&&c.to!=="")),Y=ee(()=>{const re={};return Wm.forEach(je=>{re[je]=c[je]}),re}),M=ee(()=>b.value===!0||c.expandIconToggle!==!0),$=ee(()=>c.expandedIcon!==void 0&&f.value===!0?c.expandedIcon:c.expandIcon||o.iconSet.expansionItem[c.denseToggle===!0?"denseIcon":"icon"]),T=ee(()=>c.disable!==!0&&(b.value===!0||c.expandIconToggle===!0)),P=ee(()=>({expanded:f.value===!0,detailsId:i.value,toggle:v,show:m,hide:y})),x=ee(()=>{const re=c.toggleAriaLabel!==void 0?c.toggleAriaLabel:o.lang.label[f.value===!0?"collapse":"expand"](c.label);return{role:"button","aria-expanded":f.value===!0?"true":"false","aria-controls":i.value,"aria-label":re}});Te(()=>c.group,re=>{d!==void 0&&d(),re!==void 0&&W()});function h(re){b.value!==!0&&v(re),p("click",re)}function k(re){re.keyCode===13&&N(re,!0)}function N(re,je){je!==!0&&r.value!==null&&r.value.focus(),v(re),vt(re)}function B(){p("afterShow")}function A(){p("afterHide")}function W(){S===void 0&&(S=Ul()),f.value===!0&&(at[c.group]=S);const re=Te(f,tt=>{tt===!0?at[c.group]=S:at[c.group]===S&&delete at[c.group]}),je=Te(()=>at[c.group],(tt,It)=>{It===S&&tt!==void 0&&tt!==S&&y()});d=()=>{re(),je(),at[c.group]===S&&delete at[c.group],d=void 0}}function te(){const re={class:[`q-focusable relative-position cursor-pointer${c.denseToggle===!0&&c.switchToggleSide===!0?" items-end":""}`,c.expandIconClass],side:c.switchToggleSide!==!0,avatar:c.switchToggleSide},je=[ce(q,{class:"q-expansion-item__toggle-icon"+(c.expandedIcon===void 0&&f.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:$.value})];return T.value===!0&&(Object.assign(re,{tabindex:0,...x.value,onClick:N,onKeyup:k}),je.unshift(ce("div",{ref:r,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),ce(O,re,()=>je)}function H(){let re;return n.header!==void 0?re=[].concat(n.header(P.value)):(re=[ce(O,()=>[ce(ue,{lines:c.labelLines},()=>c.label||""),c.caption?ce(ue,{lines:c.captionLines,caption:!0},()=>c.caption):null])],c.icon&&re[c.switchToggleSide===!0?"push":"unshift"](ce(O,{side:c.switchToggleSide===!0,avatar:c.switchToggleSide!==!0},()=>ce(q,{name:c.icon})))),c.disable!==!0&&c.hideExpandIcon!==!0&&re[c.switchToggleSide===!0?"unshift":"push"](te()),re}function E(){const re={ref:"item",style:c.headerStyle,class:c.headerClass,dark:s.value,disable:c.disable,dense:c.dense,insetLevel:c.headerInsetLevel};return M.value===!0&&(re.clickable=!0,re.onClick=h,Object.assign(re,b.value===!0?Y.value:x.value)),ce(G,re,H)}function de(){return K(ce("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:V.value,id:i.value},ht(n.default)),[[Ha,f.value]])}function Ce(){const re=[E(),ce(Qm,{duration:c.duration,onShow:B,onHide:A},de)];return c.expandSeparator===!0&&re.push(ce(Ke,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:s.value}),ce(Ke,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:s.value})),re}return c.group!==void 0&&W(),Mt(()=>{d!==void 0&&d()}),()=>ce("div",{class:_.value},[ce("div",{class:"q-expansion-item__container relative-position"},Ce())])}}),Jm={class:"absolute-top",style:{height:"50px","border-bottom":"1px solid #ddd","align-items":"center","justify-content":"center"}},Gm={style:{width:"100%",padding:"8px",display:"flex","justify-content":"space-between"}},Xm={class:"text-bold"},Zm={class:"text-grey-8 text-caption"},ec={class:"absolute-bottom text-grey-6 q-pa-md"},Lt="amanah-pos.layout.left-drawer-open",tc={__name:"AuthenticatedLayout",setup(c){const n=ve(),p=pe(),o=C(JSON.parse(localStorage.getItem(Lt))),s=C(!1),f=()=>o.value=!o.value;return Te(o,r=>{localStorage.setItem(Lt,r)}),we(()=>{o.value=JSON.parse(localStorage.getItem(Lt)),n.screen.lt.md&&(o.value=!1)}),(r,i)=>(w(),U(Yl,{view:"lHh LpR lFf"},{default:a(()=>[e(Dl,null,{default:a(()=>[e(Ae,{class:"bg-grey-1 text-black toolbar-scrolled"},{default:a(()=>[o.value?D("",!0):(w(),U(R,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:f},{default:a(()=>[e(q,{class:"material-symbols-outlined"},{default:a(()=>i[21]||(i[21]=[g("dock_to_right")])),_:1})]),_:1})),ot(r.$slots,"left-button",{},void 0,!0),e(jl,{class:be({"q-ml-sm":o.value}),style:{"font-size":"18px"}},{default:a(()=>[ot(r.$slots,"title",{},()=>[g(u(r.$config.APP_NAME),1)],!0)]),_:3},8,["class"]),ot(r.$slots,"right-button",{},void 0,!0)]),_:3}),ot(r.$slots,"header",{},void 0,!0)]),_:3}),e(Ll,{breakpoint:768,modelValue:o.value,"onUpdate:modelValue":i[20]||(i[20]=m=>o.value=m),bordered:"",class:"bg-grey-2",style:{color:"#444"}},{default:a(()=>[l("div",Jm,[l("div",Gm,[e(Bl,{modelValue:s.value,"onUpdate:modelValue":i[2]||(i[2]=m=>s.value=m),class:be(["profile-btn text-bold",{"profile-btn-active":s.value}]),flat:"",label:t(p).props.company.name,style:{"justify-content":"space-between","flex-grow":"1",overflow:"hidden"}},{default:a(()=>[e(qe,{id:"profile-btn-popup",style:{color:"#444"}},{default:a(()=>[e(G,null,{default:a(()=>[e(mt,{style:{"margin-left":"-15px"}},{default:a(()=>[e(q,{name:"person"})]),_:1}),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>[l("div",Xm,u(t(p).props.auth.user.name),1),l("div",Zm,u(r.$CONSTANTS.USER_ROLES[t(p).props.auth.user.role])+" @ "+u(t(p).props.company.name),1)]),_:1})]),_:1})]),_:1}),e(Ke),K((w(),U(G,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/profile"),onClick:i[0]||(i[0]=m=>t(F).get(r.route("admin.profile.edit")))},{default:a(()=>[e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>[e(q,{name:"manage_accounts",class:"q-mr-sm"}),i[22]||(i[22]=g(" Profil Saya"))]),_:1})]),_:1})]),_:1},8,["active"])),[[se],[le]]),r.$can("admin.company-profile.edit")?K((w(),U(G,{key:0,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/company-profile"),onClick:i[1]||(i[1]=m=>t(F).get(r.route("admin.company-profile.edit")))},{default:a(()=>[e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>[e(q,{name:"home_work",class:"q-mr-sm"}),i[23]||(i[23]=g(" Profil Perusahaan"))]),_:1})]),_:1})]),_:1},8,["active"])),[[se],[le]]):D("",!0),e(Ke),K((w(),U(G,{clickable:"",style:{color:"inherit"},href:r.route("admin.auth.logout")},{default:a(()=>[e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>[e(q,{name:"logout",class:"q-mr-sm"}),i[24]||(i[24]=g(" Keluar"))]),_:1})]),_:1})]),_:1},8,["href"])),[[se],[le]])]),_:1})]),_:1},8,["modelValue","label","class"]),o.value?(w(),U(R,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:f},{default:a(()=>[e(q,{name:"dock_to_right"})]),_:1})):D("",!0)])]),e(zl,{style:{height:"calc(100% - 50px)","margin-top":"50px"}},{default:a(()=>[e(qe,{id:"main-nav",style:{"margin-bottom":"50px"}},{default:a(()=>[K((w(),U(G,{clickable:"",active:r.$page.url.startsWith("/admin/dashboard"),onClick:i[3]||(i[3]=m=>t(F).get(r.route("admin.dashboard")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"dashboard"})]),_:1}),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>i[25]||(i[25]=[g("Dashboard")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]),e(Ke),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(w(),U(lt,{key:0,icon:"storefront",label:"Penjualan","default-opened":r.$page.url.startsWith("/admin/sales-orders")||r.$page.url.startsWith("/admin/customers")},{default:a(()=>[K((w(),U(G,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/sales-orders"),onClick:i[4]||(i[4]=m=>t(F).get(r.route("admin.sales-order.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"shopping_cart"})]),_:1}),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>i[26]||(i[26]=[g("Penjualan")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]),K((w(),U(G,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/customers"),onClick:i[5]||(i[5]=m=>t(F).get(r.route("admin.customer.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"people"})]),_:1}),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>i[27]||(i[27]=[g("Pelanggan")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]])]),_:1},8,["default-opened"])):D("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(w(),U(lt,{key:1,icon:"local_shipping",label:"Pembelian","default-opened":r.$page.url.startsWith("/admin/purchase-orders")||r.$page.url.startsWith("/admin/suppliers")},{default:a(()=>[K((w(),U(G,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/purchase-orders"),onClick:i[6]||(i[6]=m=>t(F).get(r.route("admin.purchase-order.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"shopping_cart"})]),_:1}),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>i[28]||(i[28]=[g("Pembelian")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]),K((w(),U(G,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/suppliers"),onClick:i[7]||(i[7]=m=>t(F).get(r.route("admin.supplier.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"people"})]),_:1}),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>i[29]||(i[29]=[g("Pemasok")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]])]),_:1},8,["default-opened"])):D("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(w(),U(lt,{key:2,icon:"inventory_2",label:"Inventori","default-opened":r.$page.url.startsWith("/admin/products")||r.$page.url.startsWith("/admin/product-categories")||r.$page.url.startsWith("/admin/stock-adjustments")},{default:a(()=>[K((w(),U(G,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/stock-adjustments"),onClick:i[8]||(i[8]=m=>t(F).get(r.route("admin.stock-adjustment.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"swap_vert"})]),_:1}),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>i[30]||(i[30]=[g("Penyesuaian Stok")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]),K((w(),U(G,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/products"),onClick:i[9]||(i[9]=m=>t(F).get(r.route("admin.product.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"box"})]),_:1}),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>i[31]||(i[31]=[g("Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]),K((w(),U(G,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/product-categories"),onClick:i[10]||(i[10]=m=>t(F).get(r.route("admin.product-category.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"category"})]),_:1}),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>i[32]||(i[32]=[g("Kategori Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]])]),_:1},8,["default-opened"])):D("",!0),e(Ke),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(w(),U(lt,{key:3,icon:"wallet",label:"Wallet","default-opened":r.$page.url.startsWith("/admin/customer-wallet-transactions")||r.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations")},{default:a(()=>[K((w(),U(G,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations"),onClick:i[11]||(i[11]=m=>t(F).get(r.route("admin.customer-wallet-transaction-confirmation.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"add_task"})]),_:1}),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>i[33]||(i[33]=[g("Konfirmasi Top Up")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]),K((w(),U(G,{class:"subnav",clickable:"",active:r.$page.url=="/admin/customer-wallet-transactions",onClick:i[12]||(i[12]=m=>t(F).get(r.route("admin.customer-wallet-transaction.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"moving"})]),_:1}),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>i[34]||(i[34]=[g("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]])]),_:1},8,["default-opened"])):D("",!0),e(Ke),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(w(),U(lt,{key:4,icon:"finance",label:"Keuangan","default-opened":r.$page.url.startsWith("/admin/finance-accounts")||r.$page.url.startsWith("/admin/finance-transactions")},{default:a(()=>[K((w(),U(G,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/finance-transactions"),onClick:i[13]||(i[13]=m=>t(F).get(r.route("admin.finance-transaction.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"moving"})]),_:1}),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>i[35]||(i[35]=[g("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]),K((w(),U(G,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/finance-accounts"),onClick:i[14]||(i[14]=m=>t(F).get(r.route("admin.finance-account.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"groups_2"})]),_:1}),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>i[36]||(i[36]=[g("Akun Kas")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]])]),_:1},8,["default-opened"])):D("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(w(),U(lt,{key:5,icon:"paid",label:"Operasional","default-opened":r.$page.url.startsWith("/admin/operational-costs")||r.$page.url.startsWith("/admin/operational-cost-categories")},{default:a(()=>[K((w(),U(G,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/operational-costs"),onClick:i[15]||(i[15]=m=>t(F).get(r.route("admin.operational-cost.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"request_quote"})]),_:1}),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>i[37]||(i[37]=[g("Biaya Operasional")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]),K((w(),U(G,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/operational-cost-categories"),onClick:i[16]||(i[16]=m=>t(F).get(r.route("admin.operational-cost-category.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"category"})]),_:1}),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>i[38]||(i[38]=[g("Kategori")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]])]),_:1},8,["default-opened"])):D("",!0),e(Ke),e(lt,{icon:"settings",label:"Pengaturan","default-opened":r.$page.url.startsWith("/admin/settings")},{default:a(()=>[r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?K((w(),U(G,{key:0,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/users"),onClick:i[17]||(i[17]=m=>t(F).get(r.route("admin.user.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"group"})]),_:1}),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>i[39]||(i[39]=[g("Pengguna")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]):D("",!0),K((w(),U(G,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/profile"),onClick:i[18]||(i[18]=m=>t(F).get(r.route("admin.profile.edit")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"manage_accounts"})]),_:1}),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>i[40]||(i[40]=[g("Profil Saya")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?K((w(),U(G,{key:1,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/company-profile"),onClick:i[19]||(i[19]=m=>t(F).get(r.route("admin.company-profile.edit")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"apartment"})]),_:1}),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>i[41]||(i[41]=[g("Profil Maqsof")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]):D("",!0)]),_:1},8,["default-opened"]),e(Ke),K((w(),U(G,{clickable:"",style:{color:"inherit"},href:r.route("customer.auth.logout")},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(q,{name:"logout"})]),_:1}),e(O,null,{default:a(()=>[e(ue,null,{default:a(()=>i[42]||(i[42]=[g("Logout")])),_:1})]),_:1})]),_:1},8,["href"])),[[se],[le]]),l("div",ec,"  2025 - "+u(r.$config.APP_NAME+" v"+r.$config.APP_VERSION_STR),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Hl,{class:"bg-grey-1"},{default:a(()=>[e(Se,null,{default:a(()=>[ot(r.$slots,"default",{},void 0,!0)]),_:3})]),_:3}),ot(r.$slots,"footer",{},void 0,!0)]),_:3}))}},ac=rt(tc,[["__scopeId","data-v-5701f378"]]),lc={__name:"GuestLayout",setup(c){return(n,p)=>(w(),U(Fl,null,{default:a(()=>[ot(n.$slots,"default")]),_:3}))}};Kl({layouts:{authenticated:ac,guest:lc},pagesGlob:Object.assign({"./pages/About.vue":fo,"./pages/auth/Login.vue":wo,"./pages/company-profile/Edit.vue":Co,"./pages/company-profile/partials/CompanyInfoForm.vue":ko,"./pages/customer-wallet-transaction-confirmation/Index.vue":Mo,"./pages/customer-wallet-transaction/Adjustment.vue":Io,"./pages/customer-wallet-transaction/Editor.vue":Uo,"./pages/customer-wallet-transaction/Index.vue":Yo,"./pages/customer/Detail.vue":wn,"./pages/customer/Editor.vue":$n,"./pages/customer/Index.vue":Pn,"./pages/dashboard/Index.vue":Qn,"./pages/dashboard/cards/ChartCard.vue":es,"./pages/dashboard/cards/SummaryCard.vue":ds,"./pages/dashboard/cards/TopCard.vue":fs,"./pages/finance-account/Detail.vue":$s,"./pages/finance-account/Editor.vue":Ps,"./pages/finance-account/Index.vue":Ls,"./pages/finance-transaction/Editor.vue":Ys,"./pages/finance-transaction/Index.vue":tr,"./pages/operational-cost-category/Editor.vue":nr,"./pages/operational-cost-category/Index.vue":cr,"./pages/operational-cost/Detail.vue":kr,"./pages/operational-cost/Editor.vue":Vr,"./pages/operational-cost/Index.vue":Er,"./pages/product-category/Editor.vue":Lr,"./pages/product-category/Index.vue":Qr,"./pages/product/Detail.vue":ci,"./pages/product/Editor.vue":_i,"./pages/product/Index.vue":qi,"./pages/profile/Edit.vue":Ii,"./pages/profile/partials/UpdatePasswordForm.vue":Vi,"./pages/profile/partials/UpdateProfileInformationForm.vue":Ti,"./pages/purchase-order/Editor.vue":gu,"./pages/purchase-order/Editor_v1.vue":vu,"./pages/purchase-order/Index.vue":qu,"./pages/purchase-order/editor/ConfirmDeleteDialog.vue":nu,"./pages/purchase-order/editor/ItemsListTable.vue":Ji,"./pages/purchase-order/editor/SupplierEditorDialog.vue":su,"./pages/purchase-order/editor/TransactionHeader.vue":Yi,"./pages/purchase-order/editor/TransactionSummary.vue":lu,"./pages/sales-order/Detail.vue":Pu,"./pages/sales-order/Editor.vue":gd,"./pages/sales-order/Index.vue":xd,"./pages/sales-order/editor/CustomerEditorDialog.vue":Zu,"./pages/sales-order/editor/ItemsListTable.vue":Yu,"./pages/sales-order/editor/TransactionHeader.vue":Du,"./pages/sales-order/editor/TransactionSummary.vue":Xu,"./pages/stock-adjustment/Create.vue":Id,"./pages/stock-adjustment/Detail.vue":Hd,"./pages/stock-adjustment/Editor.vue":Gd,"./pages/stock-adjustment/Index.vue":rm,"./pages/supplier/Detail.vue":fm,"./pages/supplier/Editor.vue":ym,"./pages/supplier/Index.vue":xm,"./pages/user/Detail.vue":Im,"./pages/user/Editor.vue":jm,"./pages/user/Index.vue":Km})});
