import{_ as it,Q as ie,a as ae,b as se,f as F,c as kt,d as ht,T as Ce,e as xe,g as Pe,h as Ne,i as nt,j as V,k as X,l as M,m as ut,n as pe,s as Ee,u as ye,o as Be,p as Nt,q as Ot,r as bt,t as _t,v as Re,w as Oe,x as Ie,y as Ae,z as ke,A as ve,B as L,C as Qe,D as ot,L as We,E as na,F as Le,G as Te,H as ee,I as sa,J as I,R as le,K as re,M as Ke,N as ze,O as Ue,P as hl,S as qe,U as K,V as rt,W as St,X as dt,Y as Aa,Z as et,$ as Fe,a0 as At,a1 as Da,a2 as $l,a3 as Sl,a4 as wt,a5 as Dt,a6 as zt,a7 as xl,a8 as Vl,a9 as xt,aa as Cl,ab as jt,ac as yt,ad as Bt,ae as ra,af as ql,ag as qt,ah as ia,ai as Tl,aj as ua,ak as Pl,al as Nl,am as Ol,an as ja,ao as Ba,ap as Il,aq as de,ar as Ml,as as Rl,at as Ul,au as Tt,av as El,aw as mt,ax as Ft,ay as da,az as La,aA as Al,aB as Dl,aC as jl,aD as za,aE as Bl,aF as Ll,aG as zl,aH as Hl,aI as Fl,aJ as Yl,aK as Kl,aL as Ql,aM as Wl,aN as Jl,aO as Gl,aP as Xl}from"./BaseGuestLayout-t91ZrE8J.js";import{r as z,f as O,j as w,k as e,l as a,m as l,p as g,F as W,q as S,v as D,x as B,y as u,u as t,z as J,A as Me,o as we,c as te,w as Ve,B as je,C as He,D as Y,E as Ye,h as ce,i as Zl,g as Vt,b as It,G as eo,H as to,I as ao,T as Ha,K as lo,J as be,L as st,M as Fa,N as Ya,O as $t,n as Yt,P as oo,Q as lt}from"./vendor1-DHVJnoe5.js";import{bT as no,eC as Pt}from"./vendor2-Cbh-CLSD.js";import{i as so,a as ro,b as io,c as uo,d as mo,e as co,f as po}from"./vendor3-Brm-UOXT.js";const fo={},go={class:"row"};function bo(m,n){const p=z("i-head"),o=z("authenticated-layout");return w(),O(W,null,[e(p,{title:"About"}),e(o,null,{title:a(()=>n[0]||(n[0]=[g("About")])),default:a(()=>[l("div",go,[e(ie,{class:"col q-pa-md q-ma-md",square:"",flat:"",bordered:""},{default:a(()=>[e(ae,null,{default:a(()=>n[1]||(n[1]=[l("div",{class:"q-mb-md text-h4"},"About",-1),l("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Autem soluta, accusamus placeat eius eligendi perferendis quisquam veritatis iste debitis laboriosam facere et aliquam quos beatae illo distinctio rerum eos! Expedita, voluptatem. Aut nihil deleniti magni fuga eius labore aliquam nulla quod ullam sunt amet eum asperiores, harum unde eligendi tempore sapiente. Placeat sed, dignissimos voluptatum perspiciatis saepe aspernatur, maxime est, ipsam quas nobis cumque sunt labore molestias? Amet in sed ullam recusandae, nostrum dicta facilis blanditiis incidunt quae commodi soluta id impedit vel fugit illo, molestias reiciendis, provident nam molestiae! Ipsam, hic. Facere aut quisquam praesentium enim illum, pariatur nam.",-1),l("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, cum nulla. Ut eligendi tenetur aliquam cum mollitia repellat voluptas, fugiat doloremque sunt commodi enim excepturi distinctio id sapiente incidunt ipsam asperiores cupiditate, labore libero! Ad facere magni cumque perspiciatis, adipisci possimus pariatur quo nobis minus, est enim similique quaerat vel asperiores ipsam harum et, totam fugit.",-1),l("p",null,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Suscipit aspernatur maxime consectetur, consequatur excepturi facilis praesentium rem placeat sapiente, maiores doloribus modi voluptate. Unde autem dolor officiis numquam incidunt quasi aspernatur nam dolores ratione quidem recusandae, nulla qui provident molestias odit nemo praesentium quas voluptatem aliquid perferendis, iste veritatis vitae. Dolor, eligendi quidem distinctio asperiores doloremque culpa corporis quibusdam earum ex laudantium iure officia ullam nostrum maxime voluptatum laboriosam impedit labore illum. Culpa, veniam dolor odio ad eius nisi, aspernatur quia veritatis blanditiis repellat id minima deserunt beatae?",-1)])),_:1})]),_:1})])]),_:1})],64)}const _o=it(fo,[["render",bo]]),vo=Object.freeze(Object.defineProperty({__proto__:null,default:_o},Symbol.toStringTag,{value:"Module"})),yo={class:"q-ma-md"},wo={key:0},ko={__name:"Autocomplete1",setup(m){const n=S(null),p=S([]);let o=null;const s=(f,r)=>{if(f.length<2){r(()=>{p.value=[]});return}o&&clearTimeout(o),o=setTimeout(()=>{kt.get(`/web-api/customers?q=${f}`).then(i=>{const d=i.data.data.map(b=>({label:`${b.username} - ${b.name}`,value:b.id,data:b}));r(()=>{p.value=d})}).catch(i=>{console.error("Gagal mengambil data pelanggan:",i),r(()=>{p.value=[]})})})};return(f,r)=>{const i=z("guest-layout");return w(),D(i,null,{default:a(()=>[l("div",yo,[e(se,{class:"full-width",modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=d=>n.value=d),"use-input":"",label:"Cari Pelanggan",options:p.value,onFilter:s,hint:"Ketik minimal 2 karakter untuk mencari",clearable:""},null,8,["modelValue","options"]),n.value?(w(),O("div",wo," Saldo: Rp. "+u(t(F)(n.value.data.balance)),1)):B("",!0)])]),_:1})}}},ho=Object.freeze(Object.defineProperty({__proto__:null,default:ko},Symbol.toStringTag,{value:"Module"})),$o={style:{"margin-left":"-10px"}},Kt={__name:"StandardCheckBox",props:{modelValue:{type:Boolean,required:!0},disable:{type:Boolean,default:!1},label:{type:String,default:""}},emits:["update:modelValue"],setup(m,{emit:n}){const p=m,o=n;return(s,f)=>(w(),O("div",$o,[e(ht,{class:"full-width q-pl-none","model-value":p.modelValue,disable:p.disable,label:p.label,"onUpdate:modelValue":f[0]||(f[0]=r=>o("update:modelValue",r))},null,8,["model-value","disable","label"])]))}},So={class:"column"},xo={class:"row"},Vo={class:"flex justify-center"},Co={__name:"Login",setup(m){let n=Ce({username:window.CONFIG.APP_DEMO?"admin":"",password:window.CONFIG.APP_DEMO?"12345":"",remember:!0});const p=()=>Ne({form:n,url:route("admin.auth.login")}),o=S(!1);return(s,f)=>{const r=z("i-head"),i=z("guest-layout");return w(),O(W,null,[e(r,{title:"Login"}),e(i,null,{default:a(()=>[e(xe,{class:"row justify-center items-center"},{default:a(()=>[l("div",So,[l("div",xo,[e(Pe,{class:"q-gutter-md",onSubmit:J(p,["prevent"])},{default:a(()=>[e(ie,{square:"",bordered:"",flat:"",class:"q-pa-md"},{default:a(()=>[e(ae,{class:"text-center"},{default:a(()=>[l("div",Vo,[e(nt,{size:"80px"},{default:a(()=>[e(V,{name:"badge",color:"primary"})]),_:1})]),f[4]||(f[4]=l("h6",{class:"q-my-sm text-primary"},"Login Staff",-1))]),_:1}),e(ae,null,{default:a(()=>[e(X,{modelValue:t(n).username,"onUpdate:modelValue":f[0]||(f[0]=d=>t(n).username=d),modelModifiers:{trim:!0},label:"Username","lazy-rules":"",error:!!t(n).errors.username,autocomplete:"username","error-message":t(n).errors.username,disable:t(n).processing,rules:[d=>d&&d.length>0||"Masukkan Username"],"hide-bottom-space":""},{append:a(()=>[e(V,{name:"person"})]),_:1},8,["modelValue","error","error-message","disable","rules"]),e(X,{modelValue:t(n).password,"onUpdate:modelValue":f[2]||(f[2]=d=>t(n).password=d),type:o.value?"text":"password",label:"Kata Sandi",error:!!t(n).errors.password,autocomplete:"current-password","error-message":t(n).errors.password,"lazy-rules":"",disable:t(n).processing,rules:[d=>d&&d.length>0||"Masukkan kata sandi"],"hide-bottom-space":""},{append:a(()=>[e(M,{dense:"",flat:"",round:"",onClick:f[1]||(f[1]=d=>o.value=!o.value)},{default:a(()=>[e(V,{name:o.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","error","error-message","disable","rules"]),e(Kt,{class:"q-mt-sm",modelValue:t(n).remember,"onUpdate:modelValue":f[3]||(f[3]=d=>t(n).remember=d),disable:t(n).processing,label:"Ingat saya di perangkat ini"},null,8,["modelValue","disable"])]),_:1}),e(ut,null,{default:a(()=>[e(M,{icon:"login",type:"submit",color:"primary",class:"full-width",label:"Login",disable:t(n).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},qo=Object.freeze(Object.defineProperty({__proto__:null,default:Co},Symbol.toStringTag,{value:"Module"})),Ka={__name:"CompanyInfoForm",setup(m){const n=S(),p=pe(),o=Ce({name:p.props.data.name,phone:p.props.data.phone,address:p.props.data.address}),s=()=>Ne({form:o,url:route("admin.company-profile.update")});return(f,r)=>(w(),D(Pe,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(Ee)},{default:a(()=>[e(ie,{flat:"",bordered:"",square:"",class:"col"},{default:a(()=>[e(ae,null,{default:a(()=>[r[3]||(r[3]=l("div",{class:"text-subtitle1 q-my-xs"},"Profil Maqsof",-1)),r[4]||(r[4]=l("p",{class:"text-caption text-grey-9"},"Perbarui profil koperasi.",-1)),e(X,{ref_key:"nameInputRef",ref:n,modelValue:t(o).name,"onUpdate:modelValue":r[0]||(r[0]=i=>t(o).name=i),modelModifiers:{trim:!0},label:"Nama Koperasi",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.name,"error-message":t(o).errors.name,rules:[i=>i&&i.length>0||"Nama Koperasi harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(X,{modelValue:t(o).phone,"onUpdate:modelValue":r[1]||(r[1]=i=>t(o).phone=i),modelModifiers:{trim:!0},label:"No Telepon",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.phone,"error-message":t(o).errors.phone,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(X,{type:"textarea",counter:"",autogrow:"",maxlength:"200",modelValue:t(o).address,"onUpdate:modelValue":r[2]||(r[2]=i=>t(o).address=i),modelModifiers:{trim:!0},label:"Alamat",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.address,"error-message":t(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,null,{default:a(()=>[e(M,{icon:"save",type:"submit",color:"primary",label:"Simpan",disable:t(o).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},To=Object.freeze(Object.defineProperty({__proto__:null,default:Ka},Symbol.toStringTag,{value:"Module"})),Po={class:"q-pa-sm"},No={class:"row justify-center"},Oo={class:"col col-lg-6"},ma="Profil Maqsof",Io={__name:"Edit",setup(m){return(n,p)=>{const o=z("i-head"),s=z("authenticated-layout");return w(),O(W,null,[e(o,{title:ma}),e(s,null,{title:a(()=>[g(u(ma))]),default:a(()=>[l("div",Po,[l("div",No,[l("div",Oo,[e(Ka)])])])]),_:1})],64)}}},Mo=Object.freeze(Object.defineProperty({__proto__:null,default:Io},Symbol.toStringTag,{value:"Module"})),Ro={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Uo={class:"q-pa-sm"},Eo={class:"flex justify-end"},ca="Konfirmasi Top Up Wallet",Ao={__name:"Index",setup(m){const n=ye(),p=S(!1),o=S([]),s=S(!0),f=S(null),r=S(null),i=Be(r),d=S(null),b=S(!1),y=Nt(),k=Ot(),c=[{label:"Semua Tahun",value:"all"},...bt(y-2,y).reverse()],v=[{value:"all",label:"Semua Bulan"},..._t()],x=[{value:"all",label:"Semua Status"},...Re(window.CONSTANTS.CUSTOMER_WALLET_TRANSACTION_CONFIRMATION_STATUSES)],_=Me({search:"",year:y,month:k,status:"all",...Oe()}),A=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!1}),q=[{name:"datetime",label:"Tanggal",field:"datetime",align:"left",sortable:!0},{name:"finance_account_id",label:"Bank Tujuan",field:"finance_account_id",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"status",label:"Status",field:"status",align:"center"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",label:"Aksi",field:"action",align:"center"}];we(()=>{h()});const h=(E=null)=>{Ie({pagination:A,filter:_,props:E,rows:o,url:route("admin.customer-wallet-transaction-confirmation.data"),loading:s,tableRef:f})},T=()=>{h()},P=te(()=>n.screen.gt.sm?q:q.filter(E=>["datetime","action"].includes(E.name)));Ve(()=>_.year,E=>{E===null&&(_.month=null)});const C=E=>sa({message:`Setujui konfirmasi transaksi #${E.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",E.id),fetchItemsCallback:h,loading:s,data:{id:E.id,action:"accept"}}),U=E=>sa({message:`Tolak konfirmasi transaksi #${E.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",E.id),fetchItemsCallback:h,loading:s,data:{id:E.id,action:"reject"}}),$=E=>ze({message:`Hapus konfirmasi transaksi #${E.id}?`,url:route("admin.customer-wallet-transaction-confirmation.delete",E.id),fetchItemsCallback:h,loading:s});return(E,Q)=>{const N=z("i-head"),j=z("authenticated-layout");return w(),O(W,null,[e(N,{title:ca}),e(j,null,je({title:a(()=>[g(u(ca))]),"right-button":a(()=>[e(M,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",flat:"",rounded:"",dense:"",onClick:Q[0]||(Q[0]=Z=>p.value=!p.value)},null,8,["icon"])]),default:a(()=>[l("div",Uo,[e(ke,{ref_key:"tableRef",ref:f,class:"full-height-table",style:He({height:t(i)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:A.value,"onUpdate:pagination":Q[6]||(Q[6]=Z=>A.value=Z),filter:_.search,loading:s.value,columns:P.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:h,"binary-state-sort":""},{loading:a(()=>[e(Ue,{showing:"",color:"red"})]),body:a(Z=>[e(ve,{props:Z},{default:a(()=>[e(L,{key:"datetime",props:Z,class:"wrap-column"},{default:a(()=>[l("div",null,"#: "+u(Z.row.formatted_id),1),l("div",null,[e(V,{name:"calendar_today",class:"inline-icon"}),g(" "+u(t(Qe)(Z.row.datetime))+" ("+u(t(ot)(Z.row.datetime))+") ",1)]),t(n).screen.gt.sm?B("",!0):(w(),O(W,{key:0},[e(We,{icon:"account_balance",text:Z.row.finance_account.name},null,8,["text"]),l("div",null,[e(V,{name:"person",class:"inline-icon"}),g(" "+u(Z.row.customer.username)+" - "+u(Z.row.customer.name),1)]),l("div",null,[e(V,{name:"money",class:"inline-icon"}),g(" Rp. "+u(t(F)(Z.row.amount)),1)]),Z.row.description?(w(),D(We,{key:0,icon:"notes",text:Z.row.description},null,8,["text"])):B("",!0),l("div",null,[e(na,{status:Z.row.status},null,8,["status"])])],64))]),_:2},1032,["props"]),e(L,{key:"finance_account_id",props:Z},{default:a(()=>[g(u(Z.row.finance_account.name),1),Q[8]||(Q[8]=l("br",null,null,-1)),g(" "+u(Z.row.finance_account.bank)+" "+u(Z.row.finance_account.number)+" an. "+u(Z.row.finance_account.holder),1)]),_:2},1032,["props"]),e(L,{key:"amount",props:Z,style:{"text-align":"right"}},{default:a(()=>[g(" Rp. "+u(t(F)(Z.row.amount)),1)]),_:2},1032,["props"]),e(L,{key:"status",props:Z,class:"text-center"},{default:a(()=>[e(na,{status:Z.row.status},null,8,["status"])]),_:2},1032,["props"]),e(L,{key:"notes",props:Z},{default:a(()=>[g(u(Z.row.notes),1)]),_:2},1032,["props"]),e(L,{key:"action",props:Z,class:"text-center"},{default:a(()=>[l("div",Eo,[e(M,{icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:Q[5]||(Q[5]=J(()=>{},["stop"])),disable:Z.row.status!=="pending"},{default:a(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[Y((w(),D(ee,{onClick:J(H=>C(Z.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"check"})]),_:1}),e(I,null,{default:a(()=>Q[9]||(Q[9]=[g("Setujui")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]]),Y((w(),D(ee,{onClick:J(H=>U(Z.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"cancel"})]),_:1}),e(I,null,{default:a(()=>Q[10]||(Q[10]=[g("Tolak")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]]),e(Ke),Y((w(),D(ee,{onClick:J(H=>$(Z.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>Q[11]||(Q[11]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disable"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"]),e(hl,{modelValue:b.value,"onUpdate:modelValue":Q[7]||(Q[7]=Z=>b.value=Z),imageUrl:`/${d.value}`},null,8,["modelValue","imageUrl"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",Ro,[e(se,{modelValue:_.year,"onUpdate:modelValue":[Q[1]||(Q[1]=Z=>_.year=Z),T],options:c,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),_.year!=="all"?(w(),D(se,{key:0,modelValue:_.month,"onUpdate:modelValue":[Q[2]||(Q[2]=Z=>_.month=Z),T],options:v,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:_.year===null},null,8,["modelValue","disable"])):B("",!0),e(se,{modelValue:_.status,"onUpdate:modelValue":[Q[3]||(Q[3]=Z=>_.status=Z),T],options:x,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:_.search,"onUpdate:modelValue":Q[4]||(Q[4]=Z=>_.search=Z),placeholder:"Cari...",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Do=Object.freeze(Object.defineProperty({__proto__:null,default:Ao},Symbol.toStringTag,{value:"Module"}));function Qa(m,n=!1){const p=m.map(r=>({value:r.id,label:r.username+" - "+r.name})),o=n?[{value:"all",label:"Semua"},...p]:p,s=S([...o]);return{filteredCustomers:s,filterCustomersFn:(r,i)=>{i(()=>{s.value=o.filter(d=>d.label.toLowerCase().includes(r.toLowerCase()))})},customers:o}}const jo={class:"col col-lg-6 q-pa-sm"},pa="Penyesuaian Saldo Dompet Santri",Bo={__name:"Adjustment",setup(m){const n=pe(),{filteredCustomers:p,filterCustomersFn:o}=Qa(n.props.customers,!1),s=Ce({customer_id:null,old_balance:0,new_balance:0,notes:""}),f=()=>s.amount=s.new_balance-s.old_balance;Ve(()=>s.customer_id,async d=>{if(!d){s.old_balance=0,s.new_balance=0,f();return}s.processing=!0;try{const b=await axios.get(route("admin.customer.balance",{id:d}));s.new_balance=s.old_balance=b.data.balance}catch(b){console.error("Gagal mengambil saldo:",b),s.old_balance=0,s.new_balance=0}s.processing=!1,f()});const r=te(()=>s.new_balance-s.old_balance),i=()=>Ne({form:s,url:route("admin.customer-wallet-transaction.adjustment")});return(d,b)=>{const y=z("i-head"),k=z("authenticated-layout");return w(),O(W,null,[e(y,{title:pa}),e(k,null,{title:a(()=>[g(u(pa))]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",jo,[e(Pe,{class:"row",onSubmit:J(i,["prevent"]),onValidationError:t(Ee)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[e(se,{class:"custom-select",modelValue:t(s).customer_id,"onUpdate:modelValue":b[0]||(b[0]=c=>t(s).customer_id=c),label:"Santri","use-input":"","input-debounce":"300",clearable:"",options:t(p),"map-options":"","emit-value":"",errorMessage:t(s).errors.customer_id,onFilter:t(o),error:!!t(s).errors.customer_id,disable:t(s).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(ee,null,{default:a(()=>[e(I,null,{default:a(()=>b[6]||(b[6]=[g("Santri tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(qe,{modelValue:t(s).old_balance,"onUpdate:modelValue":b[1]||(b[1]=c=>t(s).old_balance=c),label:"Saldo Tercatat",readonly:"",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.balance,errorMessage:t(s).errors.balance},null,8,["modelValue","disable","error","errorMessage"]),e(qe,{modelValue:t(s).new_balance,"onUpdate:modelValue":b[2]||(b[2]=c=>t(s).new_balance=c),label:"Saldo Seharusnya",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.new_balance,errorMessage:t(s).errors.new_balance},null,8,["modelValue","disable","error","errorMessage"]),e(qe,{modelValue:r.value,"onUpdate:modelValue":b[3]||(b[3]=c=>r.value=c),label:"Selisih",readonly:"",lazyRules:"",disable:t(s).processing},null,8,["modelValue","disable"]),e(X,{modelValue:t(s).notes,"onUpdate:modelValue":b[4]||(b[4]=c=>t(s).notes=c),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,rules:[c=>c&&c.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(M,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(M,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:b[5]||(b[5]=c=>t(K).get(d.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Lo=Object.freeze(Object.defineProperty({__proto__:null,default:Bo},Symbol.toStringTag,{value:"Module"})),zo={class:"q-gutter-sm"},Ho={class:"col col-lg-6 q-pa-sm"},Fo={__name:"Editor",setup(m){const n=pe(),p=(n.props.data.id?"Edit":"Catat")+" Transaksi Dompet Santri",{filteredCustomers:o,filterCustomersFn:s}=Qa(n.props.customers,!1),f=[{label:"Deposit (+)",value:"deposit"},{label:"Penarikan (-)",value:"withdrawal"},{label:"Pembelian (-)",value:"purchase"},{label:"Refund (+)",value:"refund"}],r=n.props.finance_accounts.map(b=>({label:b.name,value:b.id})),i=Ce({id:n.props.data.id,customer_id:n.props.data.customer_id,finance_account_id:n.props.data.finance_account_id,type:n.props.data.type,datetime:rt(n.props.data.datetime).format("YYYY-MM-DD HH:mm:ss"),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),d=()=>Ne({form:i,url:route("admin.customer-wallet-transaction.save")});return(b,y)=>{const k=z("i-head"),c=z("authenticated-layout");return w(),O(W,null,[e(k,{title:p}),e(c,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",zo,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:y[0]||(y[0]=v=>b.$inertia.get(b.route("admin.customer-wallet-transaction.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",Ho,[e(Pe,{class:"row",onSubmit:J(d,["prevent"]),onValidationError:t(Ee)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[Y(l("input",{type:"hidden",name:"id","onUpdate:modelValue":y[1]||(y[1]=v=>t(i).id=v)},null,512),[[Ye,t(i).id]]),e(St,{autofocus:"",modelValue:t(i).datetime,"onUpdate:modelValue":y[2]||(y[2]=v=>t(i).datetime=v),label:"Tanggal",error:!!t(i).errors.datetime,disable:t(i).processing},null,8,["modelValue","error","disable"]),e(se,{class:"custom-select",modelValue:t(i).customer_id,"onUpdate:modelValue":y[3]||(y[3]=v=>t(i).customer_id=v),label:"Santri","use-input":"","input-debounce":"300",clearable:"",options:t(o),"map-options":"","emit-value":"",errorMessage:t(i).errors.customer_id,onFilter:t(s),error:!!t(i).errors.customer_id,disable:t(i).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(ee,null,{default:a(()=>[e(I,null,{default:a(()=>y[9]||(y[9]=[g("Santri tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(se,{modelValue:t(i).type,"onUpdate:modelValue":y[4]||(y[4]=v=>t(i).type=v),label:"Jenis",options:f,"map-options":"","emit-value":"",error:!!t(i).errors.type,disable:t(i).processing,errorMessage:t(i).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),t(i).type=="deposit"||t(i).type=="withdrawal"?(w(),D(se,{key:0,modelValue:t(i).finance_account_id,"onUpdate:modelValue":y[5]||(y[5]=v=>t(i).finance_account_id=v),label:t(i).type=="deposit"?"Kas Tujuan":"Kas Asal",options:t(r),"map-options":"","emit-value":"",error:!!t(i).errors.finance_account_id,disable:t(i).processing,errorMessage:t(i).errors.finance_account_id,"hide-bottom-space":""},null,8,["modelValue","label","options","error","disable","errorMessage"])):B("",!0),e(qe,{modelValue:t(i).amount,"onUpdate:modelValue":y[6]||(y[6]=v=>t(i).amount=v),label:"Jumlah",lazyRules:"",disable:t(i).processing,error:!!t(i).errors.amount,errorMessage:t(i).errors.amount,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),e(X,{modelValue:t(i).notes,"onUpdate:modelValue":y[7]||(y[7]=v=>t(i).notes=v),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(i).processing,error:!!t(i).errors.notes,"error-message":t(i).errors.notes,rules:[v=>v&&v.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(M,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(i).processing},null,8,["disable"]),e(M,{icon:"cancel",label:"Batal",disable:t(i).processing,onClick:y[8]||(y[8]=v=>t(K).get(b.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Yo=Object.freeze(Object.defineProperty({__proto__:null,default:Fo},Symbol.toStringTag,{value:"Module"})),Ko=["top","middle","bottom"],Mt=dt({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:m=>Ko.includes(m)}},setup(m,{slots:n}){const p=te(()=>m.align!==void 0?{verticalAlign:m.align}:null),o=te(()=>{const s=m.outline===!0&&m.color||m.textColor;return`q-badge flex inline items-center no-wrap q-badge--${m.multiLine===!0?"multi":"single"}-line`+(m.outline===!0?" q-badge--outline":m.color!==void 0?` bg-${m.color}`:"")+(s!==void 0?` text-${s}`:"")+(m.floating===!0?" q-badge--floating":"")+(m.rounded===!0?" q-badge--rounded":"")+(m.transparent===!0?" q-badge--transparent":"")});return()=>ce("div",{class:o.value,style:p.value,role:"status","aria-label":m.label},Aa(n.default,m.label!==void 0?[m.label]:[]))}}),Qo={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Wo={class:"q-pa-sm"},Jo={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Go={class:"flex justify-end"},fa="Transaksi Dompet Santri",Xo={__name:"Index",setup(m){const n=ye(),p=S(!1),o=S([]),s=S(!0),f=S(null),r=S(null),i=Be(r),d=new Date().getFullYear(),b=new Date().getMonth()+1,y=[{label:"Semua Tahun",value:"all"},{label:`${d}`,value:d},...bt(d-2,d-1).reverse()],k=[{value:"all",label:"Semua Bulan"},..._t()],c=Me({search:"",year:d,month:b,...Oe()}),v=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!0}),x=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"customer",label:"Santri",field:"customer",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];we(()=>{A()});const _=T=>ze({message:`Hapus transaksi #-${T.id}?`,url:route("admin.customer-wallet-transaction.delete",T.id),fetchItemsCallback:A,loading:s}),A=(T=null)=>{Ie({pagination:v,filter:c,props:T,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:s,tableRef:f})},q=()=>{A()},h=te(()=>n.screen.gt.sm?x:x.filter(T=>T.name==="datetime"||T.name==="action"));return Ve(()=>c.year,T=>{T===null&&(c.month=null)}),(T,P)=>{const C=z("i-head"),U=z("authenticated-layout");return w(),O(W,null,[e(C,{title:fa}),e(U,null,je({title:a(()=>[g(u(fa))]),"right-button":a(()=>[e(M,{icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:P[0]||(P[0]=$=>p.value=!p.value)},null,8,["icon"]),e(M,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:P[1]||(P[1]=$=>t(K).get(T.route("admin.customer-wallet-transaction.add")))})]),default:a(()=>[l("div",Wo,[e(ke,{ref_key:"tableRef",ref:f,style:He({height:t(i)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":P[6]||(P[6]=$=>v.value=$),filter:c.search,loading:s.value,columns:h.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:A,"binary-state-sort":""},{loading:a(()=>[e(Ue,{showing:"",color:"red"})]),"no-data":a(({icon:$,message:E,filter:Q})=>[l("div",Jo,[l("span",null,u(E)+" "+u(Q?" with term "+Q:""),1)])]),body:a($=>[e(ve,{props:$},{default:a(()=>[e(L,{key:"datetime",props:$,class:"wrap-column"},{default:a(()=>[l("div",null,[g(" #: "+u($.row.formatted_id)+" ",1),P[7]||(P[7]=l("br",null,null,-1)),e(V,{name:"calendar_today"}),g(" "+u(t(Qe)($.row.datetime))+" ("+u(t(ot)($.row.datetime))+") ",1)]),l("div",null,[e(V,{name:"account_balance",class:"inline-icon"}),g(" "+u($.row.finance_account?$.row.finance_account.name:"-"),1)]),t(n).screen.gt.sm?B("",!0):(w(),O(W,{key:0},[e(We,{icon:"person",text:$.row.customer.username+" -"+$.row.customer.name},null,8,["text"]),l("div",null,[e(V,{name:"money",class:"inline-icon"}),g(" Rp. "+u(t(et)($.row.amount)+t(F)($.row.amount))+" ",1),e(Mt,null,{default:a(()=>[e(V,{name:"category"}),g(" "+u($.row.type_label),1)]),_:2},1024)]),e(We,{text:$.row.notes,icon:"notes"},null,8,["text"])],64))]),_:2},1032,["props"]),e(L,{key:"customer",props:$},{default:a(()=>[e(We,{text:$.row.customer.username+" -"+$.row.customer.name},null,8,["text"])]),_:2},1032,["props"]),e(L,{key:"notes",props:$},{default:a(()=>[e(We,{text:$.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(L,{key:"amount",props:$,style:{"text-align":"right"}},{default:a(()=>[g(u(t(et)($.row.amount)+t(F)($.row.amount)),1)]),_:2},1032,["props"]),e(L,{key:"action",props:$},{default:a(()=>[l("div",Go,[e(M,{disabled:!t(Fe)(T.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:P[5]||(P[5]=J(()=>{},["stop"]))},{default:a(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[Y((w(),D(ee,{onClick:J(E=>_($.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>P[8]||(P[8]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",Qo,[e(se,{modelValue:c.year,"onUpdate:modelValue":[P[2]||(P[2]=$=>c.year=$),q],options:y,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(se,{modelValue:c.month,"onUpdate:modelValue":[P[3]||(P[3]=$=>c.month=$),q],options:k,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:c.year===null},null,8,["modelValue","disable"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:c.search,"onUpdate:modelValue":P[4]||(P[4]=$=>c.search=$),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Zo=Object.freeze(Object.defineProperty({__proto__:null,default:Xo},Symbol.toStringTag,{value:"Module"}));let en=0;const tn=["click","keydown"],an={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${en++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function ln(m,n,p,o){const s=Zl(Da,At);if(s===At)return console.error("QTab/QRouteTab component needs to be child of QTabs"),At;const{proxy:f}=Vt(),r=S(null),i=S(null),d=S(null),b=te(()=>m.disable===!0||m.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},m.ripple===!0?{}:m.ripple)),y=te(()=>s.currentModel.value===m.name),k=te(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(y.value===!0?" q-tab--active"+(s.tabProps.value.activeClass?" "+s.tabProps.value.activeClass:"")+(s.tabProps.value.activeColor?` text-${s.tabProps.value.activeColor}`:"")+(s.tabProps.value.activeBgColor?` bg-${s.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(m.icon&&m.label&&s.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(m.noCaps===!0||s.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(m.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),c=te(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(s.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(m.contentClass!==void 0?` ${m.contentClass}`:"")),v=te(()=>m.disable===!0||s.hasFocus.value===!0||y.value===!1&&s.hasActiveTab.value===!0?-1:m.tabindex||0);function x(T,P){if(P!==!0&&r.value!==null&&r.value.focus(),m.disable!==!0){s.updateModel({name:m.name}),p("click",T);return}}function _(T){$l(T,[13,32])?x(T,!0):Sl(T)!==!0&&T.keyCode>=35&&T.keyCode<=40&&T.altKey!==!0&&T.metaKey!==!0&&s.onKbdNavigate(T.keyCode,f.$el)===!0&&wt(T),p("keydown",T)}function A(){const T=s.tabProps.value.narrowIndicator,P=[],C=ce("div",{ref:d,class:["q-tab__indicator",s.tabProps.value.indicatorClass]});m.icon!==void 0&&P.push(ce(V,{class:"q-tab__icon",name:m.icon})),m.label!==void 0&&P.push(ce("div",{class:"q-tab__label"},m.label)),m.alert!==!1&&P.push(m.alertIcon!==void 0?ce(V,{class:"q-tab__alert-icon",color:m.alert!==!0?m.alert:void 0,name:m.alertIcon}):ce("div",{class:"q-tab__alert"+(m.alert!==!0?` text-${m.alert}`:"")})),T===!0&&P.push(C);const U=[ce("div",{class:"q-focus-helper",tabindex:-1,ref:r}),ce("div",{class:c.value},Aa(n.default,P))];return T===!1&&U.push(C),U}const q={name:te(()=>m.name),rootRef:i,tabIndicatorRef:d,routeData:o};It(()=>{s.unregisterTab(q)}),we(()=>{s.registerTab(q)});function h(T,P){const C={ref:i,class:k.value,tabindex:v.value,role:"tab","aria-selected":y.value===!0?"true":"false","aria-disabled":m.disable===!0?"true":void 0,onClick:x,onKeydown:_,...P};return Y(ce(T,C,A()),[[le,b.value]])}return{renderTab:h,$tabs:s}}const ft=dt({name:"QTab",props:an,emits:tn,setup(m,{slots:n,emit:p}){const{renderTab:o}=ln(m,n,p);return()=>o("div")}});function on(m,n,p){const o=p===!0?["left","right"]:["top","bottom"];return`absolute-${n===!0?o[0]:o[1]}${m?` text-${m}`:""}`}const nn=["left","center","right","justify"],Qt=dt({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:m=>nn.includes(m)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(m,{slots:n,emit:p}){const{proxy:o}=Vt(),{$q:s}=o,{registerTick:f}=Dt(),{registerTick:r}=Dt(),{registerTick:i}=Dt(),{registerTimeout:d,removeTimeout:b}=zt(),{registerTimeout:y,removeTimeout:k}=zt(),c=S(null),v=S(null),x=S(m.modelValue),_=S(!1),A=S(!0),q=S(!1),h=S(!1),T=[],P=S(0),C=S(!1);let U=null,$=null,E;const Q=te(()=>({activeClass:m.activeClass,activeColor:m.activeColor,activeBgColor:m.activeBgColor,indicatorClass:on(m.indicatorColor,m.switchIndicator,m.vertical),narrowIndicator:m.narrowIndicator,inlineLabel:m.inlineLabel,noCaps:m.noCaps})),N=te(()=>{const G=P.value,ne=x.value;for(let me=0;me<G;me++)if(T[me].name.value===ne)return!0;return!1}),j=te(()=>`q-tabs__content--align-${_.value===!0?"left":h.value===!0?"justify":m.align}`),Z=te(()=>`q-tabs row no-wrap items-center q-tabs--${_.value===!0?"":"not-"}scrollable q-tabs--${m.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${m.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${m.mobileArrows===!0?"":"out"}-arrows`+(m.dense===!0?" q-tabs--dense":"")+(m.shrink===!0?" col-shrink":"")+(m.stretch===!0?" self-stretch":"")),H=te(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+j.value+(m.contentClass!==void 0?` ${m.contentClass}`:"")),R=te(()=>m.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),ue=te(()=>m.vertical!==!0&&s.lang.rtl===!0),_e=te(()=>xl===!1&&ue.value===!0);Ve(ue,pt),Ve(()=>m.modelValue,G=>{oe({name:G,setCurrent:!0,skipEmit:!0})}),Ve(()=>m.outsideArrows,he);function oe({name:G,setCurrent:ne,skipEmit:me}){x.value!==G&&(me!==!0&&m["onUpdate:modelValue"]!==void 0&&p("update:modelValue",G),(ne===!0||m["onUpdate:modelValue"]===void 0)&&(Rt(x.value,G),x.value=G))}function he(){f(()=>{Je({width:c.value.offsetWidth,height:c.value.offsetHeight})})}function Je(G){if(R.value===void 0||v.value===null)return;const ne=G[R.value.container],me=Math.min(v.value[R.value.scroll],Array.prototype.reduce.call(v.value.children,(Se,ge)=>Se+(ge[R.value.content]||0),0)),$e=ne>0&&me>ne;_.value=$e,$e===!0&&r(pt),h.value=ne<parseInt(m.breakpoint,10)}function Rt(G,ne){const me=G!=null&&G!==""?T.find(Se=>Se.name.value===G):null,$e=ne!=null&&ne!==""?T.find(Se=>Se.name.value===ne):null;if(Ct===!0)Ct=!1;else if(me&&$e){const Se=me.tabIndicatorRef.value,ge=$e.tabIndicatorRef.value;U!==null&&(clearTimeout(U),U=null),Se.style.transition="none",Se.style.transform="none",ge.style.transition="none",ge.style.transform="none";const fe=Se.getBoundingClientRect(),De=ge.getBoundingClientRect();ge.style.transform=m.vertical===!0?`translate3d(0,${fe.top-De.top}px,0) scale3d(1,${De.height?fe.height/De.height:1},1)`:`translate3d(${fe.left-De.left}px,0,0) scale3d(${De.width?fe.width/De.width:1},1,1)`,i(()=>{U=setTimeout(()=>{U=null,ge.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",ge.style.transform="none"},70)})}$e&&_.value===!0&&ct($e.rootRef.value)}function ct(G){const{left:ne,width:me,top:$e,height:Se}=v.value.getBoundingClientRect(),ge=G.getBoundingClientRect();let fe=m.vertical===!0?ge.top-$e:ge.left-ne;if(fe<0){v.value[m.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(fe),pt();return}fe+=m.vertical===!0?ge.height-Se:ge.width-me,fe>0&&(v.value[m.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(fe),pt())}function pt(){const G=v.value;if(G===null)return;const ne=G.getBoundingClientRect(),me=m.vertical===!0?G.scrollTop:Math.abs(G.scrollLeft);ue.value===!0?(A.value=Math.ceil(me+ne.width)<G.scrollWidth-1,q.value=me>0):(A.value=me>0,q.value=m.vertical===!0?Math.ceil(me+ne.height)<G.scrollHeight:Math.ceil(me+ne.width)<G.scrollWidth)}function Gt(G){$!==null&&clearInterval($),$=setInterval(()=>{fl(G)===!0&&Xe()},5)}function Xt(){Gt(_e.value===!0?Number.MAX_SAFE_INTEGER:0)}function Zt(){Gt(_e.value===!0?0:Number.MAX_SAFE_INTEGER)}function Xe(){$!==null&&(clearInterval($),$=null)}function cl(G,ne){const me=Array.prototype.filter.call(v.value.children,De=>De===ne||De.matches&&De.matches(".q-tab.q-focusable")===!0),$e=me.length;if($e===0)return;if(G===36)return ct(me[0]),me[0].focus(),!0;if(G===35)return ct(me[$e-1]),me[$e-1].focus(),!0;const Se=G===(m.vertical===!0?38:37),ge=G===(m.vertical===!0?40:39),fe=Se===!0?-1:ge===!0?1:void 0;if(fe!==void 0){const De=ue.value===!0?-1:1,Ge=me.indexOf(ne)+fe*De;return Ge>=0&&Ge<$e&&(ct(me[Ge]),me[Ge].focus({preventScroll:!0})),!0}}const pl=te(()=>_e.value===!0?{get:G=>Math.abs(G.scrollLeft),set:(G,ne)=>{G.scrollLeft=-ne}}:m.vertical===!0?{get:G=>G.scrollTop,set:(G,ne)=>{G.scrollTop=ne}}:{get:G=>G.scrollLeft,set:(G,ne)=>{G.scrollLeft=ne}});function fl(G){const ne=v.value,{get:me,set:$e}=pl.value;let Se=!1,ge=me(ne);const fe=G<ge?-1:1;return ge+=fe*5,ge<0?(Se=!0,ge=0):(fe===-1&&ge<=G||fe===1&&ge>=G)&&(Se=!0,ge=G),$e(ne,ge),pt(),Se}function ea(G,ne){for(const me in G)if(G[me]!==ne[me])return!1;return!0}function gl(){let G=null,ne={matchedLen:0,queryDiff:9999,hrefLen:0};const me=T.filter(fe=>fe.routeData!==void 0&&fe.routeData.hasRouterLink.value===!0),{hash:$e,query:Se}=o.$route,ge=Object.keys(Se).length;for(const fe of me){const De=fe.routeData.exact.value===!0;if(fe.routeData[De===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:Ge,query:Ut,matched:wl,href:kl}=fe.routeData.resolvedLink.value,Et=Object.keys(Ut).length;if(De===!0){if(Ge!==$e||Et!==ge||ea(Se,Ut)===!1)continue;G=fe.name.value;break}if(Ge!==""&&Ge!==$e||Et!==0&&ea(Ut,Se)===!1)continue;const Ze={matchedLen:wl.length,queryDiff:ge-Et,hrefLen:kl.length-Ge.length};if(Ze.matchedLen>ne.matchedLen){G=fe.name.value,ne=Ze;continue}else if(Ze.matchedLen!==ne.matchedLen)continue;if(Ze.queryDiff<ne.queryDiff)G=fe.name.value,ne=Ze;else if(Ze.queryDiff!==ne.queryDiff)continue;Ze.hrefLen>ne.hrefLen&&(G=fe.name.value,ne=Ze)}if(G===null&&T.some(fe=>fe.routeData===void 0&&fe.name.value===x.value)===!0){Ct=!1;return}oe({name:G,setCurrent:!0})}function bl(G){if(b(),C.value!==!0&&c.value!==null&&G.target&&typeof G.target.closest=="function"){const ne=G.target.closest(".q-tab");ne&&c.value.contains(ne)===!0&&(C.value=!0,_.value===!0&&ct(ne))}}function _l(){d(()=>{C.value=!1},30)}function vt(){aa.avoidRouteWatcher===!1?y(gl):k()}function ta(){if(E===void 0){const G=Ve(()=>o.$route.fullPath,vt);E=()=>{G(),E=void 0}}}function vl(G){T.push(G),P.value++,he(),G.routeData===void 0||o.$route===void 0?y(()=>{if(_.value===!0){const ne=x.value,me=ne!=null&&ne!==""?T.find($e=>$e.name.value===ne):null;me&&ct(me.rootRef.value)}}):(ta(),G.routeData.hasRouterLink.value===!0&&vt())}function yl(G){T.splice(T.indexOf(G),1),P.value--,he(),E!==void 0&&G.routeData!==void 0&&(T.every(ne=>ne.routeData===void 0)===!0&&E(),vt())}const aa={currentModel:x,tabProps:Q,hasFocus:C,hasActiveTab:N,registerTab:vl,unregisterTab:yl,verifyRouteModel:vt,updateModel:oe,onKbdNavigate:cl,avoidRouteWatcher:!1};ao(Da,aa);function la(){U!==null&&clearTimeout(U),Xe(),E!==void 0&&E()}let oa,Ct;return It(la),eo(()=>{oa=E!==void 0,la()}),to(()=>{oa===!0&&(ta(),Ct=!0,vt()),he()}),()=>ce("div",{ref:c,class:Z.value,role:"tablist",onFocusin:bl,onFocusout:_l},[ce(Vl,{onResize:Je}),ce("div",{ref:v,class:H.value,onScroll:pt},xt(n.default)),ce(V,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(A.value===!0?"":" q-tabs__arrow--faded"),name:m.leftIcon||s.iconSet.tabs[m.vertical===!0?"up":"left"],onMousedownPassive:Xt,onTouchstartPassive:Xt,onMouseupPassive:Xe,onMouseleavePassive:Xe,onTouchendPassive:Xe}),ce(V,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(q.value===!0?"":" q-tabs__arrow--faded"),name:m.rightIcon||s.iconSet.tabs[m.vertical===!0?"down":"right"],onMousedownPassive:Zt,onTouchstartPassive:Zt,onMouseupPassive:Xe,onMouseleavePassive:Xe,onTouchendPassive:Xe})])}});function sn(m){const n=[.06,6,50];return typeof m=="string"&&m.length&&m.split(":").forEach((p,o)=>{const s=parseFloat(p);s&&(n[o]=s)}),n}const rn=Cl({name:"touch-swipe",beforeMount(m,{value:n,arg:p,modifiers:o}){if(o.mouse!==!0&&yt.has.touch!==!0)return;const s=o.mouseCapture===!0?"Capture":"",f={handler:n,sensitivity:sn(p),direction:ra(o),noop:ql,mouseStart(r){ua(r,f)&&Pl(r)&&(qt(f,"temp",[[document,"mousemove","move",`notPassive${s}`],[document,"mouseup","end","notPassiveCapture"]]),f.start(r,!0))},touchStart(r){if(ua(r,f)){const i=r.target;qt(f,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","notPassiveCapture"],[i,"touchend","end","notPassiveCapture"]]),f.start(r)}},start(r,i){yt.is.firefox===!0&&Bt(m,!0);const d=ia(r);f.event={x:d.left,y:d.top,time:Date.now(),mouse:i===!0,dir:!1}},move(r){if(f.event===void 0)return;if(f.event.dir!==!1){wt(r);return}const i=Date.now()-f.event.time;if(i===0)return;const d=ia(r),b=d.left-f.event.x,y=Math.abs(b),k=d.top-f.event.y,c=Math.abs(k);if(f.event.mouse!==!0){if(y<f.sensitivity[1]&&c<f.sensitivity[1]){f.end(r);return}}else if(window.getSelection().toString()!==""){f.end(r);return}else if(y<f.sensitivity[2]&&c<f.sensitivity[2])return;const v=y/i,x=c/i;f.direction.vertical===!0&&y<c&&y<100&&x>f.sensitivity[0]&&(f.event.dir=k<0?"up":"down"),f.direction.horizontal===!0&&y>c&&c<100&&v>f.sensitivity[0]&&(f.event.dir=b<0?"left":"right"),f.direction.up===!0&&y<c&&k<0&&y<100&&x>f.sensitivity[0]&&(f.event.dir="up"),f.direction.down===!0&&y<c&&k>0&&y<100&&x>f.sensitivity[0]&&(f.event.dir="down"),f.direction.left===!0&&y>c&&b<0&&c<100&&v>f.sensitivity[0]&&(f.event.dir="left"),f.direction.right===!0&&y>c&&b>0&&c<100&&v>f.sensitivity[0]&&(f.event.dir="right"),f.event.dir!==!1?(wt(r),f.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Tl(),f.styleCleanup=_=>{f.styleCleanup=void 0,document.body.classList.remove("non-selectable");const A=()=>{document.body.classList.remove("no-pointer-events--children")};_===!0?setTimeout(A,50):A()}),f.handler({evt:r,touch:f.event.mouse!==!0,mouse:f.event.mouse,direction:f.event.dir,duration:i,distance:{x:y,y:c}})):f.end(r)},end(r){f.event!==void 0&&(jt(f,"temp"),yt.is.firefox===!0&&Bt(m,!1),f.styleCleanup!==void 0&&f.styleCleanup(!0),r!==void 0&&f.event.dir!==!1&&wt(r),f.event=void 0)}};if(m.__qtouchswipe=f,o.mouse===!0){const r=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";qt(f,"main",[[m,"mousedown","mouseStart",`passive${r}`]])}yt.has.touch===!0&&qt(f,"main",[[m,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[m,"touchmove","noop","notPassiveCapture"]])},updated(m,n){const p=m.__qtouchswipe;p!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&p.end(),p.handler=n.value),p.direction=ra(n.modifiers))},beforeUnmount(m){const n=m.__qtouchswipe;n!==void 0&&(jt(n,"main"),jt(n,"temp"),yt.is.firefox===!0&&Bt(m,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete m.__qtouchswipe)}}),un={name:{required:!0},disable:Boolean},ga={setup(m,{slots:n}){return()=>ce("div",{class:"q-panel scroll",role:"tabpanel"},xt(n.default))}},dn={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},mn=["update:modelValue","beforeTransition","transition"];function cn(){const{props:m,emit:n,proxy:p}=Vt(),{getCache:o}=Ol(),{registerTimeout:s}=zt();let f,r;const i=S(null),d=S(null);function b(R){const ue=m.vertical===!0?"up":"left";E((p.$q.lang.rtl===!0?-1:1)*(R.direction===ue?1:-1))}const y=te(()=>[[rn,b,void 0,{horizontal:m.vertical!==!0,vertical:m.vertical,mouse:!0}]]),k=te(()=>m.transitionPrev||`slide-${m.vertical===!0?"down":"right"}`),c=te(()=>m.transitionNext||`slide-${m.vertical===!0?"up":"left"}`),v=te(()=>`--q-transition-duration: ${m.transitionDuration}ms`),x=te(()=>typeof m.modelValue=="string"||typeof m.modelValue=="number"?m.modelValue:String(m.modelValue)),_=te(()=>({include:m.keepAliveInclude,exclude:m.keepAliveExclude,max:m.keepAliveMax})),A=te(()=>m.keepAliveInclude!==void 0||m.keepAliveExclude!==void 0);Ve(()=>m.modelValue,(R,ue)=>{const _e=P(R)===!0?C(R):-1;r!==!0&&$(_e===-1?0:_e<C(ue)?-1:1),i.value!==_e&&(i.value=_e,n("beforeTransition",R,ue),s(()=>{n("transition",R,ue)},m.transitionDuration))});function q(){E(1)}function h(){E(-1)}function T(R){n("update:modelValue",R)}function P(R){return R!=null&&R!==""}function C(R){return f.findIndex(ue=>ue.props.name===R&&ue.props.disable!==""&&ue.props.disable!==!0)}function U(){return f.filter(R=>R.props.disable!==""&&R.props.disable!==!0)}function $(R){const ue=R!==0&&m.animated===!0&&i.value!==-1?"q-transition--"+(R===-1?k.value:c.value):null;d.value!==ue&&(d.value=ue)}function E(R,ue=i.value){let _e=ue+R;for(;_e!==-1&&_e<f.length;){const oe=f[_e];if(oe!==void 0&&oe.props.disable!==""&&oe.props.disable!==!0){$(R),r=!0,n("update:modelValue",oe.props.name),setTimeout(()=>{r=!1});return}_e+=R}m.infinite===!0&&f.length!==0&&ue!==-1&&ue!==f.length&&E(R,R===-1?f.length:-1)}function Q(){const R=C(m.modelValue);return i.value!==R&&(i.value=R),!0}function N(){const R=P(m.modelValue)===!0&&Q()&&f[i.value];return m.keepAlive===!0?[ce(lo,_.value,[ce(A.value===!0?o(x.value,()=>({...ga,name:x.value})):ga,{key:x.value,style:v.value},()=>R)])]:[ce("div",{class:"q-panel scroll",style:v.value,key:x.value,role:"tabpanel"},[R])]}function j(){if(f.length!==0)return m.animated===!0?[ce(Ha,{name:d.value},N)]:N()}function Z(R){return f=Nl(xt(R.default,[])).filter(ue=>ue.props!==null&&ue.props.slot===void 0&&P(ue.props.name)===!0),f.length}function H(){return f}return Object.assign(p,{next:q,previous:h,goTo:T}),{panelIndex:i,panelDirectives:y,updatePanelsList:Z,updatePanelIndex:Q,getPanelContent:j,getEnabledPanels:U,getPanels:H,isValidPanelName:P,keepAliveProps:_,needsUniqueKeepAliveWrapper:A,goToPanelByOffset:E,goToPanel:T,nextPanel:q,previousPanel:h}}const gt=dt({name:"QTabPanel",props:un,setup(m,{slots:n}){return()=>ce("div",{class:"q-tab-panel",role:"tabpanel"},xt(n.default))}}),Wt=dt({name:"QTabPanels",props:{...dn,...ja},emits:mn,setup(m,{slots:n}){const p=Vt(),o=Ba(m,p.proxy.$q),{updatePanelsList:s,getPanelContent:f,panelDirectives:r}=cn(),i=te(()=>"q-tab-panels q-panel-parent"+(o.value===!0?" q-tab-panels--dark q-dark":""));return()=>(s(n),Il("div",{class:i.value},f(),"pan",m.swipeable,()=>r.value))}}),pn={class:"q-gutter-sm"},fn={class:"q-gutter-sm"},gn={class:"col col-lg-6 q-pa-sm"},bn={class:"row"},_n={class:"detail"},vn={key:0},yn={class:"text-grey-8"},wn={key:1},kn={class:"text-grey-8"},hn={class:"text-grey-8"},$n={key:2},Sn={class:"text-grey-8"},xn={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Vn={class:"text-grey-8"},ba="Rincian Santri",Cn={__name:"Detail",setup(m){const n=pe(),p=S("main"),o=S([]),s=S(!0),f=Me({customer_id:n.props.data.id,...Oe()}),r=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),i=[{name:"id",label:"#",field:"id",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah",field:"amount",align:"right"}];we(()=>{d()});const d=(k=null)=>Ie({pagination:r,filter:f,props:k,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:s}),b=ye(),y=te(()=>b.screen.gt.sm?i:i.filter(k=>k.name==="id"));return(k,c)=>{const v=z("i-head"),x=z("authenticated-layout");return w(),O(W,null,[e(v,{title:ba}),e(x,null,{title:a(()=>[g(u(ba))]),"left-button":a(()=>[l("div",pn,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=_=>k.$inertia.get(k.route("admin.customer.index")))})])]),"right-button":a(()=>[l("div",fn,[e(M,{icon:"edit",dense:"",color:"primary",onClick:c[1]||(c[1]=_=>k.$inertia.get(k.route("admin.customer.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",gn,[l("div",bn,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Qt,{modelValue:p.value,"onUpdate:modelValue":c[2]||(c[2]=_=>p.value=_),align:"left"},{default:a(()=>[e(ft,{name:"main",label:"Info Utama"}),e(ft,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(Wt,{modelValue:p.value,"onUpdate:modelValue":c[4]||(c[4]=_=>p.value=_)},{default:a(()=>[e(gt,{name:"main"},{default:a(()=>[l("table",_n,[l("tbody",null,[c[28]||(c[28]=l("tr",null,[l("td",{colspan:"3"},[l("div",{class:"text-bold text-grey-8"},"Info Pelanggan")])],-1)),l("tr",null,[c[5]||(c[5]=l("td",{style:{width:"120px"}},"Username",-1)),c[6]||(c[6]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.username),1)]),l("tr",null,[c[7]||(c[7]=l("td",null,"Jenis",-1)),c[8]||(c[8]=l("td",null,":",-1)),l("td",null,u(k.$CONSTANTS.CUSTOMER_TYPES[t(n).props.data.type]),1)]),l("tr",null,[c[9]||(c[9]=l("td",null,"Nama",-1)),c[10]||(c[10]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[c[11]||(c[11]=l("td",null,"No. Telepon",-1)),c[12]||(c[12]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.phone),1)]),l("tr",null,[c[13]||(c[13]=l("td",null,"Alamat",-1)),c[14]||(c[14]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.address),1)]),l("tr",null,[c[15]||(c[15]=l("td",null,"Saldo",-1)),c[16]||(c[16]=l("td",null,":",-1)),l("td",null,"Rp. "+u(t(F)(t(n).props.data.balance)),1)]),l("tr",null,[c[17]||(c[17]=l("td",null,"Status",-1)),c[18]||(c[18]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),c[29]||(c[29]=l("tr",null,[l("td",{colspan:"3"},[l("div",{class:"text-bold text-grey-8 q-mt-md"}," Info Akun ")])],-1)),t(n).props.data.created_at?(w(),O("tr",vn,[c[19]||(c[19]=l("td",null,"Dibuat",-1)),c[20]||(c[20]=l("td",null,":",-1)),l("td",null,[g(u(t(Qe)(t(n).props.data.created_at))+" ",1),l("span",yn,"("+u(t(ot)(t(n).props.data.created_at))+")",1)])])):B("",!0),t(n).props.data.updated_at?(w(),O("tr",wn,[c[21]||(c[21]=l("td",null,"Diperbarui",-1)),c[22]||(c[22]=l("td",null,":",-1)),l("td",null,[g(u(t(Qe)(t(n).props.data.updated_at))+" ",1),l("span",kn,"("+u(t(ot)(t(n).props.data.updated_at))+")",1)])])):B("",!0),l("tr",null,[c[23]||(c[23]=l("td",null,"Terakhir login",-1)),c[24]||(c[24]=l("td",null,":",-1)),l("td",null,[g(u(t(n).props.data.last_login_datetime?t(Qe)(t(n).props.data.last_login_datetime):"Belum pernah login")+" ",1),l("span",hn,"("+u(t(ot)(t(n).props.data.last_login_datetime))+")",1)])]),t(n).props.data.last_activity_datetime?(w(),O("tr",$n,[c[26]||(c[26]=l("td",null,"Aktifitas Terakhir",-1)),c[27]||(c[27]=l("td",null,":",-1)),l("td",null,[g(u(t(Qe)(t(n).props.data.last_activity_datetime))+" ",1),l("span",Sn,[g("("+u(t(ot)(t(n).props.data.last_activity_datetime))+") ",1),c[25]||(c[25]=l("br",null,null,-1)),g(u(t(n).props.data.last_activity_description),1)])])])):B("",!0)])])]),_:1}),e(gt,{name:"history"},{default:a(()=>[e(ke,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":c[3]||(c[3]=_=>r.value=_),filter:f.search,loading:s.value,columns:y.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:d,"binary-state-sort":""},{loading:a(()=>[e(Ue,{showing:"",color:"red"})]),"no-data":a(({icon:_,message:A,filter:q})=>[l("div",xn,[l("span",null,u(A)+" "+u(q?" with term "+q:""),1)])]),body:a(_=>[e(ve,{props:_},{default:a(()=>[e(L,{key:"id",props:_},{default:a(()=>[l("div",null,[l("b",null,"#"+u(_.row.formatted_id),1),g(" - "+u(t(Qe)(_.row.datetime)),1)]),e(Mt,{size:"xs"},{default:a(()=>[e(V,{name:"category"}),g(" "+u(_.row.type_label),1)]),_:2},1024),t(b).screen.lt.md?(w(),O(W,{key:0},[l("div",null,[e(V,{name:"money"}),l("span",{class:be(_.row.amount<0?"text-red-10":_.row.amount>0?"text-green-10":"")},u(t(et)(_.row.amount))+" "+u(t(F)(_.row.amount)),3)]),l("div",Vn,[e(V,{name:"notes"}),g(" "+u(_.row.notes),1)])],64)):B("",!0)]),_:2},1032,["props"]),e(L,{key:"notes",props:_},{default:a(()=>[g(u(_.row.notes),1)]),_:2},1032,["props"]),e(L,{key:"amount",props:_},{default:a(()=>[l("div",{class:be(_.row.amount<0?"text-red-10":_.row.amount>0?"text-green-10":"")},u(t(et)(_.row.amount))+" "+u(t(F)(_.row.amount)),3)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},qn=Object.freeze(Object.defineProperty({__proto__:null,default:Cn},Symbol.toStringTag,{value:"Module"})),Tn={class:"q-gutter-sm"},Pn={class:"col col-lg-6 q-pa-sm"},Nn={__name:"Editor",setup(m){const n=pe(),p=(n.props.data.id?"Edit":"Tambah")+" Pelanggan",o=Ce({id:n.props.data.id,username:n.props.data.username,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,active:!!n.props.data.active,password:n.props.data.password}),s=()=>Ne({form:o,url:route("admin.customer.save")});return(f,r)=>{const i=z("i-head"),d=z("authenticated-layout");return w(),O(W,null,[e(i,{title:p}),e(d,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",Tn,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=b=>f.$inertia.get(f.route("admin.customer.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",Pn,[e(Pe,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(Ee)},{default:a(()=>[Y(l("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=b=>t(o).id=b)},null,512),[[Ye,t(o).id]]),e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[e(X,{modelValue:t(o).username,"onUpdate:modelValue":r[2]||(r[2]=b=>t(o).username=b),modelModifiers:{trim:!0},label:"NIS",error:!!t(o).errors.username,disable:t(o).processing,"error-message":t(o).errors.username,rules:[b=>b&&b.length>0||"NIS harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(o).name,"onUpdate:modelValue":r[3]||(r[3]=b=>t(o).name=b),modelModifiers:{trim:!0},label:"Nama Santri",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[b=>b&&b.length>0||"Nama harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(o).phone,"onUpdate:modelValue":r[4]||(r[4]=b=>t(o).phone=b),modelModifiers:{trim:!0},type:"text",label:"No HP",disable:t(o).processing,error:!!t(o).errors.phone,"error-message":t(o).errors.phone,rules:[b=>b&&b.length>0||"No HP harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(X,{modelValue:t(o).address,"onUpdate:modelValue":r[5]||(r[5]=b=>t(o).address=b),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Alamat",disable:t(o).processing,error:!!t(o).errors.address,"error-message":t(o).errors.address,rules:[b=>b&&b.length>0||"Alamat harus diisi."],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(X,{modelValue:t(o).password,"onUpdate:modelValue":r[6]||(r[6]=b=>t(o).password=b),type:"password",label:t(o).id?"Kata Sandi Baru (Wajib diisi)":"Kata Sandi (Isi jika ingin mengganti)",disable:t(o).processing,error:!!t(o).errors.password,"error-message":t(o).errors.password,"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","label","disable","error","error-message"]),e(Kt,{modelValue:t(o).active,"onUpdate:modelValue":r[7]||(r[7]=b=>t(o).active=b),label:"Aktif",disable:t(o).processing},null,8,["modelValue","disable"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(M,{type:"submit",label:"Simpan",icon:"save",color:"primary",disable:t(o).processing},null,8,["disable"]),e(M,{label:"Batal",icon:"cancel",disable:t(o).processing,onClick:r[8]||(r[8]=b=>t(K).get(f.route("admin.customer.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},On=Object.freeze(Object.defineProperty({__proto__:null,default:Nn},Symbol.toStringTag,{value:"Module"})),In={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Mn={class:"q-pa-sm"},Rn={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Un={class:"flex justify-end"},_a="Pelanggan",En={__name:"Index",setup(m){const n=ye(),p=S(!1),o=S([]),s=S(!0),f=S(null),r=S(null),i=Be(r),d=Me({search:"",status:"active",...Oe()}),b=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"username",label:n.screen.lt.md?"Pelanggan":"Kode",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right"},{name:"phone",label:"No HP",field:"phone",align:"left"},{name:"address",label:"Alamat",field:"address",align:"left"},{name:"action",align:"right"}],k=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];we(()=>{v()});const c=q=>ze({message:`Hapus Santri ${q.name}?`,url:route("admin.customer.delete",q.id),fetchItemsCallback:v,loading:s}),v=(q=null)=>{Ie({pagination:b,filter:d,props:q,rows:o,url:route("admin.customer.data"),loading:s,tableRef:f})},x=()=>v(),_=q=>K.get(route("admin.customer.detail",{id:q.id})),A=te(()=>n.screen.gt.sm?y:y.filter(q=>q.name==="username"||q.name==="action"));return(q,h)=>{const T=z("i-head"),P=z("authenticated-layout");return w(),O(W,null,[e(T,{title:_a}),e(P,null,je({title:a(()=>[g(u(_a))]),"right-button":a(()=>[e(M,{icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:h[0]||(h[0]=C=>p.value=!p.value)},null,8,["icon"]),e(M,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:h[1]||(h[1]=C=>t(K).get(q.route("admin.customer.add")))})]),default:a(()=>[l("div",Mn,[e(ke,{class:"full-height-table",style:He({height:t(i)}),ref_key:"tableRef",ref:f,flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":h[5]||(h[5]=C=>b.value=C),filter:d.search,loading:s.value,columns:A.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:v,"binary-state-sort":""},{loading:a(()=>[e(Ue,{showing:"",color:"red"})]),"no-data":a(({icon:C,message:U,filter:$})=>[l("div",Rn,[l("span",null,u(U)+" "+u($?" with term "+$:""),1)])]),body:a(C=>[e(ve,{props:C,class:be([C.row.active?"":"bg-red-1","cursor-pointer"]),onClick:U=>_(C.row)},{default:a(()=>[e(L,{key:"username",props:C,class:"wrap-column"},{default:a(()=>[l("div",null,[t(n).screen.lt.md?(w(),D(V,{key:0,name:"person"})):B("",!0),g(" "+u(C.row.username),1)]),t(n).screen.lt.md?(w(),O(W,{key:0},[l("div",null,[t(n).screen.lt.md?(w(),D(V,{key:0,name:"person"})):B("",!0),g(" "+u(C.row.name),1)]),l("div",null,[e(V,{name:"phone"}),g(" "+u(C.row.phone),1)]),e(We,{text:C.row.address,icon:"home_pin"},null,8,["text"]),l("div",null,[e(V,{name:"wallet"}),g(" Rp. "+u(t(F)(C.row.balance)),1)])],64)):B("",!0)]),_:2},1032,["props"]),e(L,{key:"name",props:C},{default:a(()=>[g(u(C.row.name),1)]),_:2},1032,["props"]),e(L,{key:"balance",props:C},{default:a(()=>[g(u(t(F)(C.row.balance)),1)]),_:2},1032,["props"]),e(L,{key:"phone",props:C},{default:a(()=>[g(u(C.row.phone),1)]),_:2},1032,["props"]),e(L,{key:"address",props:C},{default:a(()=>[e(We,{text:C.row.address},null,8,["text"])]),_:2},1032,["props"]),e(L,{key:"action",props:C},{default:a(()=>[l("div",Un,[e(M,{disabled:!t(Fe)(q.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:h[4]||(h[4]=J(()=>{},["stop"]))},{default:a(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[Y((w(),D(ee,{clickable:"",onClick:J(U=>t(K).get(q.route("admin.customer.edit",C.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:a(()=>h[6]||(h[6]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]]),Y((w(),D(ee,{onClick:J(U=>c(C.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>h[7]||(h[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",In,[e(se,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:d.status,"onUpdate:modelValue":[h[2]||(h[2]=C=>d.status=C),x],options:k,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":h[3]||(h[3]=C=>d.search=C),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},An=Object.freeze(Object.defineProperty({__proto__:null,default:En},Symbol.toStringTag,{value:"Module"})),Dn={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},jn={class:"q-pa-sm"},Bn={class:"q-pa-none"},Ln={class:"q-pb-sm"},zn={class:"row q-col-gutter-sm"},Hn={class:"row items-center no-wrap"},Fn={class:"q-ml-md"},Yn={class:"text-subtitle2 text-grey-8"},Kn={class:"text-h6 text-weight-bold"},Qn={class:"row q-col-gutter-sm q-pb-sm"},Wn={class:"col-md-6 col-12"},Jn={class:"col-md-6 col-12"},Gn={class:"row q-col-gutter-sm q-pb-sm"},Xn={class:"col-md-6 col-12"},Zn={class:"col-md-6 col-12"},va="Dashboard",es={__name:"Index",setup(m){no([so,ro,io,uo,mo,co,po]);const n=S({summary:{total_santri:1500,active_santri:1450,total_sales:155e5,total_transactions:1250,total_wallet_balance:55e6,total_topup:75e6,total_purchase:85e6,total_withdrawal:65e6},top_customers_sales:[{name:"Wildan Medina",value:1822e3},{name:"Syafiq",value:1754500},{name:"Umar",value:1534e3},{name:"Fauzan",value:1212e3},{name:"Rizky",value:981500}],top_customers_topup:[{name:"Abdullah",value:175e4},{name:"Abdurrahman",value:15e5},{name:"Zayd",value:125e4},{name:"Syafiq",value:8e5},{name:"Umar",value:65e4}],monthly_sales:{labels:["Jan","Feb","Mar","Apr","Mei","Jun"],data:[14123e3,21344e3,15155e3,17128e3,12557e3,12723e3]},transaction_type_distribution:[{value:500,name:"Deposit"},{value:350,name:"Purchase"},{value:200,name:"Withdrawal"},{value:200,name:"Refund"}]}),p=S(!1),o=S(Oe().month??"this_month"),s=S([{value:"this_month",label:"Bulan Ini"},{value:"prev_month",label:"1 Bulan Sebelumnya"},{value:"prev_2month",label:"2 Bulan Sebelumnya"},{value:"prev_3month",label:"3 Bulan Sebelumnya"}]),f=()=>{K.visit(route("admin.dashboard",{month:o.value}))},r=["#82B1FF","#4DB6AC","#FFB74D","#9575CD"],i=te(()=>({title:{text:"Penjualan Bulanan",left:"center"},tooltip:{trigger:"axis",formatter:function(y){let k=y[0].name+"<br/>";return y.forEach(function(c){k+=c.marker+" "+c.seriesName+": "+F(c.value)+"<br/>"}),k}},xAxis:{type:"category",data:n.value.monthly_sales.labels,axisLabel:{color:"#616161"}},yAxis:{type:"value",axisLabel:{formatter:y=>F(y),color:"#616161"}},series:[{name:"Penjualan",type:"bar",data:n.value.monthly_sales.data,itemStyle:{borderRadius:[5,5,0,0],color:r[0]}}]})),d=te(()=>({title:{text:"Distribusi Jenis Transaksi",left:"center"},tooltip:{trigger:"item",formatter:function(y){return y.name+"<br/>"+y.seriesName+": "+F(y.value)+" ("+y.percent+"%)"}},legend:{orient:"vertical",left:"left",textStyle:{color:"#616161"}},series:[{name:"Jumlah Transaksi",type:"pie",radius:["40%","70%"],data:n.value.transaction_type_distribution,itemStyle:{borderRadius:5,borderColor:"#fff",borderWidth:2,color:y=>r[y.dataIndex%r.length]},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})),b=S([{label:"Total Santri",value:te(()=>n.value.summary.total_santri),icon:"groups",color:"primary",bgColor:"#e3f2fd"},{label:"Total Penjualan",value:te(()=>F(n.value.summary.total_sales)),icon:"shopping_cart",color:"green-7",bgColor:"#e8f5e9"},{label:"Saldo Dompet Santri",value:te(()=>F(n.value.summary.total_wallet_balance)),icon:"account_balance_wallet",color:"orange-9",bgColor:"#fff3e0"},{label:"Total Transaksi",value:te(()=>F(n.value.summary.total_transactions)),icon:"swap_horiz",color:"purple-8",bgColor:"#f3e5f5"}]);return(y,k)=>{const c=z("i-head"),v=z("authenticated-layout");return w(),O(W,null,[e(c,{title:va}),e(v,null,je({title:a(()=>[g(u(va))]),"right-button":a(()=>[e(M,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:k[0]||(k[0]=x=>p.value=!p.value)},null,8,["icon"])]),default:a(()=>[l("div",jn,[l("div",Bn,[l("div",Ln,[k[2]||(k[2]=l("div",{class:"text-h6 text-bold text-grey-8 q-mb-sm"}," Statistik Ringkasan ",-1)),l("div",zn,[(w(!0),O(W,null,st(b.value,(x,_)=>(w(),O("div",{key:_,class:"col-12 col-md-3"},[e(ie,{square:"",bordered:"",flat:"",class:"q-pa-md",style:{width:"100%"}},{default:a(()=>[l("div",Hn,[e(nt,{icon:x.icon,color:x.color,"text-color":x.bgColor},null,8,["icon","color","text-color"]),l("div",Fn,[l("div",Yn,u(x.label),1),l("div",Kn,u(x.value),1)])])]),_:2},1024)]))),128))])])]),l("div",Qn,[l("div",Wn,[e(ie,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:a(()=>[k[3]||(k[3]=l("div",{class:"text-h6 q-pb-sm"},"Penjualan Bulanan",-1)),e(t(Pt),{class:"chart",option:i.value,autoresize:""},null,8,["option"])]),_:1})]),l("div",Jn,[e(ie,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:a(()=>[k[4]||(k[4]=l("div",{class:"text-h6 q-pb-sm"},"Distribusi Transaksi",-1)),e(t(Pt),{class:"chart",option:d.value,autoresize:""},null,8,["option"])]),_:1})])]),l("div",Gn,[l("div",Xn,[e(ie,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:a(()=>[k[5]||(k[5]=l("div",{class:"text-h6 q-mb-sm"},"Top 5 Pembelian Santri",-1)),e(Te,{separator:""},{default:a(()=>[(w(!0),O(W,null,st(n.value.top_customers_sales,(x,_)=>(w(),D(ee,{key:_},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(nt,{color:"primary","text-color":"white",size:"sm"},{default:a(()=>[g(u(_+1),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>[g(u(x.name),1)]),_:2},1024)]),_:2},1024),e(I,{side:""},{default:a(()=>[e(de,{class:"text-primary"},{default:a(()=>[g(u(t(F)(x.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),l("div",Zn,[e(ie,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:a(()=>[k[6]||(k[6]=l("div",{class:"text-h6 q-mb-sm"},"Top 5 Top Up Santri",-1)),e(Te,{separator:""},{default:a(()=>[(w(!0),O(W,null,st(n.value.top_customers_topup,(x,_)=>(w(),D(ee,{key:_},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(nt,{color:"green-7","text-color":"white",size:"sm"},{default:a(()=>[g(u(_+1),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>[g(u(x.name),1)]),_:2},1024)]),_:2},1024),e(I,{side:""},{default:a(()=>[e(de,{class:"text-green-7"},{default:a(()=>[g(u(t(F)(x.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar"},{default:a(()=>[l("div",Dn,[e(se,{class:"custom-select col-12",style:{"min-width":"150px"},modelValue:o.value,"onUpdate:modelValue":[k[1]||(k[1]=x=>o.value=x),f],options:s.value,label:"Bulan",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue","options"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},ts=it(es,[["__scopeId","data-v-45790296"]]),as=Object.freeze(Object.defineProperty({__proto__:null,default:ts},Symbol.toStringTag,{value:"Module"})),ls={class:"row q-col-gutter-sm"},os={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},ns={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},ss={__name:"ChartCard",setup(m){const n=pe(),p={tooltip:{show:!0},title:{text:"Servis Diterima vs Sukses vs Gagal",textStyle:{color:"#444"},left:"center"},legend:{top:"10%",data:[n.props.data.chart1_data.data[0].label,n.props.data.chart1_data.data[1].label,n.props.data.chart1_data.data[2].label]},grid:{containLabel:!0,left:"5px",bottom:"5px",right:"5px"},xAxis:{show:!0,type:"category",data:n.props.data.chart1_data.x_axis_label_data,axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{show:!0,color:"#ccc",type:"dashed"}},axisLabel:{show:!0},boundaryGap:!0},yAxis:{show:!0,type:"value",axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisLabel:{show:!0},splitLine:{lineStyle:{type:"dashed",color:"#ccc"}},axisTick:{show:!0,lineStyle:{show:!0,color:"#fff",type:"dashed"}}},series:[{name:n.props.data.chart1_data.data[0].label,type:"line",lineStyle:{color:"#007bff"},itemStyle:{color:"#007bff"},smooth:!0,data:n.props.data.chart1_data.data[0].data},{name:n.props.data.chart1_data.data[1].label,type:"line",lineStyle:{color:"#28a745"},itemStyle:{color:"#28a745"},smooth:!0,data:n.props.data.chart1_data.data[1].data},{name:n.props.data.chart1_data.data[2].label,type:"line",lineStyle:{color:"#dc3545"},itemStyle:{color:"#dc3545"},smooth:!0,data:n.props.data.chart1_data.data[2].data}],color:["white"]},o={tooltip:{show:!0},title:{text:"Pendapatan Servis",textStyle:{color:"#444"},left:"center"},legend:{top:"10%",data:[n.props.data.chart2_data.data[0].label]},grid:{containLabel:!0,left:"5px",bottom:"5px",right:"5px"},xAxis:{show:!0,type:"category",data:n.props.data.chart1_data.x_axis_label_data,axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{show:!0,color:"#ccc",type:"dashed"}},axisLabel:{show:!0},boundaryGap:!0},yAxis:{show:!0,type:"value",axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisLabel:{show:!0},splitLine:{lineStyle:{type:"dashed",color:"#ccc"}},axisTick:{show:!0,lineStyle:{show:!0,color:"#fff",type:"dashed"}}},series:[{name:n.props.data.chart2_data.data[0].label,type:"bar",itemStyle:{color:"#007bff"},smooth:!0,data:n.props.data.chart2_data.data[0].data}],color:["white"]};return(s,f)=>(w(),O("div",ls,[l("div",os,[e(ie,{square:"",class:"no-shadow",bordered:"",style:{"background-color":"#fff"}},{default:a(()=>[e(ae,{class:"q-pa-none"},{default:a(()=>[e(t(Pt),{option:p,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"250px"}})]),_:1})]),_:1})]),l("div",ns,[e(ie,{class:"no-shadow",square:"",bordered:"",style:{"background-color":"#fff"}},{default:a(()=>[e(ae,{class:"q-pa-none"},{default:a(()=>[e(t(Pt),{option:o,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"250px"}})]),_:1})]),_:1})])]))}},rs=it(ss,[["__scopeId","data-v-5c77cb08"]]),is=Object.freeze(Object.defineProperty({__proto__:null,default:rs},Symbol.toStringTag,{value:"Module"})),us={class:"row"},ds={class:"row q-col-gutter-sm"},ms={class:"col-sm-6 col-xs-12"},cs={class:"col-sm-6 col-xs-12"},ps={class:"col-md-3 col-sm-6 col-xs-12"},fs={class:"col-md-3 col-sm-6 col-xs-12"},gs={class:"col-md-3 col-sm-6 col-xs-12"},bs={class:"col-md-3 col-sm-6 col-xs-12"};const _s={__name:"SummaryCard",setup(m){pe();const n=(p,o)=>{const f={...{order_status:"all",service_status:"all",repair_status:"all",payment_status:"all",search:""},...o};localStorage.setItem("fixsync.service-orders.filter",JSON.stringify(f)),K.visit(p,{data:f})};return(p,o)=>(w(),O("div",us,[e(ie,{class:"bg-transparent no-shadow no-border col",bordered:""},{default:a(()=>[e(ae,{class:"q-pa-none"},{default:a(()=>[l("div",ds,[l("div",ms,[e(ee,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:o[0]||(o[0]=s=>p.$inertia.visit(p.route("admin.customer.index",{status:"active"})))},{default:a(()=>[e(I,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(V,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(I,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(de,{class:"text-white text-h6 text-weight-bolder"},{default:a(()=>[g(u(p.$page.props.data.active_customer_count),1)]),_:1}),e(de,null,{default:a(()=>o[5]||(o[5]=[g("Santri Aktif")])),_:1})]),_:1})]),_:1})]),l("div",cs,[e(ee,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:o[1]||(o[1]=s=>p.$inertia.visit(p.route("admin.customer.index",{status:"active"})))},{default:a(()=>[e(I,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(V,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(I,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(de,{class:"text-white text-h6 text-weight-bolder"},{default:a(()=>[g(u(p.$page.props.data.active_user_count),1)]),_:1}),e(de,null,{default:a(()=>o[6]||(o[6]=[g("Pengguna Aktif")])),_:1})]),_:1})]),_:1})]),l("div",ps,[e(ee,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:a(()=>[e(I,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(V,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(I,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(de,{class:"text-white text-weight-bold"},{default:a(()=>[g(" Rp. "+u(t(F)(p.$page.props.data.total_finance_account_balance)),1)]),_:1}),e(de,null,{default:a(()=>o[7]||(o[7]=[g("Total Saldo Koperasi")])),_:1})]),_:1})]),_:1})]),l("div",fs,[e(ee,{style:"background-color: #dc3545",class:"q-pa-none"},{default:a(()=>[e(I,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(V,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(I,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(de,{class:"text-white text-weight-bold"},{default:a(()=>[g(" Rp. "+u(t(F)(p.$page.props.data.total_customer_balance)),1)]),_:1}),e(de,null,{default:a(()=>o[8]||(o[8]=[g("Total Saldo Santri")])),_:1})]),_:1})]),_:1})]),l("div",gs,[e(ee,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:a(()=>[e(I,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(V,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(I,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(de,{class:"text-white text-weight-bold"},{default:a(()=>[g(" Rp. "+u(t(F)(p.$page.props.data.total_customer_debt)),1)]),_:1}),e(de,null,{default:a(()=>o[9]||(o[9]=[g("Total Utang Santri")])),_:1})]),_:1})]),_:1})]),l("div",bs,[e(ee,{style:"background-color: #dc3545",class:"q-pa-none"},{default:a(()=>[e(I,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(V,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(I,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(de,{class:"text-white text-weight-bold"},{default:a(()=>[g(" Rp. "+u(t(F)(p.$page.props.data.total_customer_credit)),1)]),_:1}),e(de,null,{default:a(()=>o[10]||(o[10]=[g("Total Piutang Santri")])),_:1})]),_:1})]),_:1})]),B("",!0),B("",!0),B("",!0)])]),_:1})]),_:1})]))}},vs=Object.freeze(Object.defineProperty({__proto__:null,default:_s},Symbol.toStringTag,{value:"Module"})),ys={class:"text-subtitle1 text-bold text-grey-9"},ws={class:"flex items-center justify-between"},ks={__name:"TopCard",props:{items:Array,title:String,route_url:String},setup(m){const n=m;return(p,o)=>{const s=z("i-link");return w(),D(ie,{class:"no-shadow",square:"",bordered:""},{default:a(()=>[e(ae,null,{default:a(()=>[l("div",ys,u(n.title),1),l("div",null,[(w(!0),O(W,null,st(n.items,f=>(w(),O("div",{key:f.id},[l("div",ws,[l("span",null,[e(s,{href:p.route(n.route_url,{id:f.id})},{default:a(()=>[g(u(f.name),1)]),_:2},1032,["href"])]),l("span",null,"Rp. "+u(t(F)(f.total)),1)])]))),128))])]),_:1})]),_:1})}}},hs=Object.freeze(Object.defineProperty({__proto__:null,default:ks},Symbol.toStringTag,{value:"Module"})),$s={class:"q-gutter-sm"},Ss={class:"q-gutter-sm"},xs={class:"col col-lg-6 q-pa-sm"},Vs={class:"row"},Cs={class:"detail"},qs={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ts={class:"flex q-gutter-sm"},Ps={class:""},ya="Rincian Akun",Ns={__name:"Detail",setup(m){const n=pe(),p=S("main"),o=S([]),s=S(!0),f=Me({...Oe()}),r=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),i=[{name:"id",label:"#",field:"id",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!0},{name:"quantity",label:"Jumlah",field:"quantity",align:"center",sortable:!0}];we(()=>{d()});const d=(k=null)=>Ie({pagination:r,filter:f,props:k,rows:o,loading:s}),b=ye(),y=te(()=>b.screen.gt.sm?i:i.filter(k=>k.name==="id"));return(k,c)=>{const v=z("i-head"),x=z("authenticated-layout");return w(),O(W,null,[e(v,{title:ya}),e(x,null,{title:a(()=>[g(u(ya))]),"left-button":a(()=>[l("div",$s,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=_=>k.$inertia.get(k.route("admin.finance-account.index")))})])]),"right-button":a(()=>[l("div",Ss,[e(M,{icon:"edit",dense:"",color:"primary",onClick:c[1]||(c[1]=_=>t(K).get(k.route("admin.finance-account.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",xs,[l("div",Vs,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Qt,{modelValue:p.value,"onUpdate:modelValue":c[2]||(c[2]=_=>p.value=_),align:"left"},{default:a(()=>[e(ft,{name:"main",label:"Info Akun"}),e(ft,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(Wt,{modelValue:p.value,"onUpdate:modelValue":c[4]||(c[4]=_=>p.value=_)},{default:a(()=>[e(gt,{name:"main"},{default:a(()=>[l("table",Cs,[l("tbody",null,[l("tr",null,[c[5]||(c[5]=l("td",{style:{width:"150px"}},"Nama",-1)),c[6]||(c[6]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[c[7]||(c[7]=l("td",null,"Jenis",-1)),c[8]||(c[8]=l("td",null,":",-1)),l("td",null,u(k.$CONSTANTS.FINANCE_ACCOUNT_TYPES[t(n).props.data.type]),1)]),t(n).props.data.type=="bank"?(w(),O(W,{key:0},[l("tr",null,[c[9]||(c[9]=l("td",null,"Bank",-1)),c[10]||(c[10]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.bank),1)]),l("tr",null,[c[11]||(c[11]=l("td",null,"No. Rek",-1)),c[12]||(c[12]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.number),1)]),l("tr",null,[c[13]||(c[13]=l("td",null,"Atas Nama",-1)),c[14]||(c[14]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.holder),1)])],64)):B("",!0),l("tr",null,[c[15]||(c[15]=l("td",null,"Tampilkan di Wallet",-1)),c[16]||(c[16]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.has_wallet_access?"Ya":"Tidak"),1)]),l("tr",null,[c[17]||(c[17]=l("td",null,"Status",-1)),c[18]||(c[18]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),l("tr",null,[c[19]||(c[19]=l("td",null,"Saldo",-1)),c[20]||(c[20]=l("td",null,":",-1)),l("td",null,"Rp. "+u(t(F)(t(n).props.data.balance)),1)]),l("tr",null,[c[21]||(c[21]=l("td",null,"Catatan",-1)),c[22]||(c[22]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.notes),1)])])])]),_:1}),e(gt,{name:"history"},{default:a(()=>[e(ke,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":c[3]||(c[3]=_=>r.value=_),filter:f.search,loading:s.value,columns:y.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:d,"binary-state-sort":""},{loading:a(()=>[e(Ue,{showing:"",color:"red"})]),"no-data":a(({icon:_,message:A,filter:q})=>[l("div",qs,[l("span",null,u(A)+" "+u(q?" with term "+q:""),1)])]),body:a(_=>[e(ve,{props:_},{default:a(()=>[e(L,{key:"id",props:_},{default:a(()=>[l("div",Ts,[l("div",null,[l("b",null,"#"+u(_.row.id),1)]),l("div",null," - "+u(k.$dayjs(new Date(_.row.created_at)).format("DD/MM/YYYY hh:mm:ss")),1),l("div",null," - "+u(_.row.created_by?_.row.created_by.username:"--"),1)]),t(b).screen.lt.md?(w(),O(W,{key:0},[l("div",Ps,u(k.$CONSTANTS.STOCKMOVEMENT_REFTYPES[_.row.ref_type]),1),l("div",{class:be(_.row.quantity<0?"text-red-10":_.row.quantity>0?"text-green-10":"")},[e(V,{name:_.row.quantity<0?"arrow_downward":_.row.quantity>0?"arrow_upward":""},null,8,["name"]),g(" "+u(t(F)(_.row.quantity)),1)],2)],64)):B("",!0)]),_:2},1032,["props"]),e(L,{key:"type",props:_},{default:a(()=>[g(u(k.$CONSTANTS.STOCKMOVEMENT_REFTYPES[_.row.ref_type]),1)]),_:2},1032,["props"]),e(L,{key:"quantity",props:_},{default:a(()=>[l("div",{class:be(_.row.quantity<0?"text-red-10":_.row.quantity>0?"text-green-10":"")},[e(V,{name:_.row.quantity<0?"arrow_downward":_.row.quantity>0?"arrow_upward":""},null,8,["name"]),g(" "+u(t(F)(_.row.quantity)),1)],2)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},Os=Object.freeze(Object.defineProperty({__proto__:null,default:Ns},Symbol.toStringTag,{value:"Module"})),Is={class:"q-gutter-sm"},Ms={class:"col col-lg-6 q-pa-sm"},Rs={style:{"margin-left":"-10px"}},Us={style:{"margin-left":"-10px"}},Es={__name:"Editor",setup(m){const n=pe(),p=(n.props.data.id?"Edit":"Tambah")+" Akun / Kas",o=Ce({id:n.props.data.id,name:n.props.data.name,type:n.props.data.type,bank:n.props.data.bank,number:n.props.data.number,holder:n.props.data.holder,balance:n.props.data.balance,active:!!n.props.data.active,has_wallet_access:!!n.props.data.has_wallet_access,notes:n.props.data.notes}),s=Re(window.CONSTANTS.FINANCE_ACCOUNT_TYPES),f=()=>Ne({form:o,url:route("admin.finance-account.save")});return(r,i)=>{const d=z("i-head"),b=z("authenticated-layout");return w(),O(W,null,[e(d,{title:p}),e(b,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",Is,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=y=>r.$inertia.get(r.route("admin.finance-account.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",Ms,[e(Pe,{class:"row",onSubmit:J(f,["prevent"]),onValidationError:t(Ee)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[Y(l("input",{type:"hidden",name:"id","onUpdate:modelValue":i[1]||(i[1]=y=>t(o).id=y)},null,512),[[Ye,t(o).id]]),e(X,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":i[2]||(i[2]=y=>t(o).name=y),modelModifiers:{trim:!0},label:"Nama Akun","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(se,{modelValue:t(o).type,"onUpdate:modelValue":i[3]||(i[3]=y=>t(o).type=y),label:"Jenis Akun",options:t(s),"map-options":"","emit-value":"",error:!!t(o).errors.type,disable:t(o).processing,"hide-bottom-space":""},null,8,["modelValue","options","error","disable"]),t(o).type=="bank"?(w(),O(W,{key:0},[e(X,{modelValue:t(o).bank,"onUpdate:modelValue":i[4]||(i[4]=y=>t(o).bank=y),modelModifiers:{trim:!0},label:"Nama Bank","lazy-rules":"",error:!!t(o).errors.bank,disable:t(o).processing,"error-message":t(o).errors.bank,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(X,{modelValue:t(o).number,"onUpdate:modelValue":i[5]||(i[5]=y=>t(o).number=y),modelModifiers:{trim:!0},label:"Nomor Rekening","lazy-rules":"",error:!!t(o).errors.number,disable:t(o).processing,"error-message":t(o).errors.number,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(X,{modelValue:t(o).holder,"onUpdate:modelValue":i[6]||(i[6]=y=>t(o).holder=y),modelModifiers:{trim:!0},label:"Pemilik Rekening","lazy-rules":"",error:!!t(o).errors.holder,disable:t(o).processing,"error-message":t(o).errors.holder,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"])],64)):B("",!0),e(qe,{modelValue:t(o).balance,"onUpdate:modelValue":i[7]||(i[7]=y=>t(o).balance=y),label:"Saldo",lazyRules:"",disable:t(o).processing,"allow-negative":"true",error:!!t(o).errors.balance,errorMessage:t(o).errors.balance,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),l("div",Rs,[e(ht,{class:"full-width q-pl-none",modelValue:t(o).has_wallet_access,"onUpdate:modelValue":i[8]||(i[8]=y=>t(o).has_wallet_access=y),disable:t(o).processing,label:"Tampilkan di Konfirmasi Topup Wallet"},null,8,["modelValue","disable"])]),l("div",Us,[e(ht,{class:"full-width q-pl-none",modelValue:t(o).active,"onUpdate:modelValue":i[9]||(i[9]=y=>t(o).active=y),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"])]),e(X,{modelValue:t(o).notes,"onUpdate:modelValue":i[10]||(i[10]=y=>t(o).notes=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.notes,"error-message":t(o).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(M,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(M,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:i[11]||(i[11]=y=>t(K).get(r.route("admin.finance-account.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},As=Object.freeze(Object.defineProperty({__proto__:null,default:Es},Symbol.toStringTag,{value:"Module"})),Ds={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},js={class:"q-pa-sm"},Bs={class:"q-my-sm text-subtitle"},Ls={class:"text-bold text-grey-8"},zs={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Hs={key:2},Fs={key:3},Ys={key:4},Ks={class:"flex justify-end"},wa="Akun Kas",Qs={__name:"Index",setup(m){const n=pe(),p=ye(),o=S(!1),s=S([]),f=S(null),r=S(null),i=Be(r,104),d=S(!0),b=Me({search:"",status:"active",type:"all",...Oe()}),y=n.props.totalBalance,k=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),c=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right",sortable:!0},{name:"action",align:"right"}],v=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],x=[{value:"all",label:"Semua"},...Re(window.CONSTANTS.FINANCE_ACCOUNT_TYPES)];we(()=>{A()});const _=P=>ze({message:`Hapus Akun ${P.name}?`,url:route("admin.finance-account.delete",P.id),fetchItemsCallback:A,loading:d}),A=(P=null)=>{Ie({pagination:k,filter:b,props:P,rows:s,url:route("admin.finance-account.data"),loading:d,tableRef:f})},q=()=>A(),h=P=>K.get(route("admin.finance-account.detail",{id:P.id})),T=te(()=>p.screen.gt.sm?c:c.filter(P=>P.name==="name"||P.name==="action"));return(P,C)=>{const U=z("i-head"),$=z("authenticated-layout");return w(),O(W,null,[e(U,{title:wa}),e($,null,je({title:a(()=>[g(u(wa))]),"right-button":a(()=>[e(M,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:C[0]||(C[0]=E=>o.value=!o.value)},null,8,["icon"]),e(M,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:C[1]||(C[1]=E=>t(K).get(P.route("admin.finance-account.add")))})]),default:a(()=>[l("div",js,[l("div",Bs,[C[7]||(C[7]=g(" Total Saldo Akun Aktif: ")),l("span",Ls,"Rp. "+u(t(F)(t(y))),1)]),e(ke,{ref_key:"tableRef",ref:f,class:"full-height-table",style:He({height:t(i)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:k.value,"onUpdate:pagination":C[6]||(C[6]=E=>k.value=E),filter:b.search,loading:d.value,columns:T.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:A,"binary-state-sort":""},{loading:a(()=>[e(Ue,{showing:"",color:"red"})]),"no-data":a(({icon:E,message:Q,filter:N})=>[l("div",zs,[l("span",null,u(Q)+" "+u(N?" with term "+N:""),1)])]),body:a(E=>[e(ve,{props:E,class:be([E.row.active?"":"bg-red-1","cursor-pointer"]),onClick:Q=>h(E.row)},{default:a(()=>[e(L,{key:"name",props:E,class:"wrap-column"},{default:a(()=>[t(p).screen.lt.md?(w(),D(We,{key:1,icon:"wallet",text:E.row.name},null,8,["text"])):(w(),O(W,{key:0},[g(u(E.row.name),1)],64)),E.row.type=="bank"?(w(),O("div",Hs,u(E.row.bank??"-")+" "+u(E.row.number??"-")+" an "+u(E.row.holder??"-"),1)):B("",!0),E.row.notes?(w(),O("div",Fs,[e(V,{name:"notes"}),g(" "+u(E.row.notes),1)])):B("",!0),t(p).screen.lt.md?(w(),O("div",Ys,[e(V,{name:"money"}),g(" Rp. "+u(t(F)(E.row.balance)),1)])):B("",!0)]),_:2},1032,["props"]),e(L,{key:"balance",props:E},{default:a(()=>[g(u(t(F)(E.row.balance)),1)]),_:2},1032,["props"]),e(L,{key:"action",props:E},{default:a(()=>[l("div",Ks,[e(M,{disabled:!t(Fe)(P.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:C[5]||(C[5]=J(()=>{},["stop"]))},{default:a(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[Y((w(),D(ee,{clickable:"",onClick:J(Q=>t(K).get(P.route("admin.finance-account.duplicate",E.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:a(()=>C[8]||(C[8]=[g(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]]),Y((w(),D(ee,{clickable:"",onClick:J(Q=>t(K).get(P.route("admin.finance-account.edit",E.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:a(()=>C[9]||(C[9]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]]),Y((w(),D(ee,{onClick:J(Q=>_(E.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>C[10]||(C[10]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[o.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",Ds,[e(se,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:b.status,"onUpdate:modelValue":[C[2]||(C[2]=E=>b.status=E),q],options:v,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:b.type,"onUpdate:modelValue":[C[3]||(C[3]=E=>b.type=E),q],options:x,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:b.search,"onUpdate:modelValue":C[4]||(C[4]=E=>b.search=E),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Ws=Object.freeze(Object.defineProperty({__proto__:null,default:Qs},Symbol.toStringTag,{value:"Module"})),Js={class:"q-gutter-sm"},Gs={class:"col col-lg-6 q-pa-sm"},Xs={__name:"Editor",setup(m){const n=pe(),p=(n.props.data.id?"Edit":"Catat")+" Transaksi Keuangan",o=n.props.accounts.map(i=>({label:i.name,value:i.id})),s=[{label:"Pemasukan (+)",value:"income"},{label:"Pengeluaran (-)",value:"expense"},{label:"Transfer",value:"transfer"}],f=Ce({id:n.props.data.id,account_id:n.props.data.account_id,to_account_id:n.props.data.to_account_id??null,type:n.props.data.type,datetime:Ml(n.props.data.datetime?n.props.data.datetime:new Date),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),r=()=>Ne({form:f,url:route("admin.finance-transaction.save")});return(i,d)=>{const b=z("i-head"),y=z("authenticated-layout");return w(),O(W,null,[e(b,{title:p}),e(y,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",Js,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=k=>i.$inertia.get(i.route("admin.finance-transaction.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",Gs,[e(Pe,{class:"row",onSubmit:J(r,["prevent"]),onValidationError:t(Ee)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[Y(l("input",{type:"hidden",name:"id","onUpdate:modelValue":d[1]||(d[1]=k=>t(f).id=k)},null,512),[[Ye,t(f).id]]),e(St,{modelValue:t(f).datetime,"onUpdate:modelValue":d[2]||(d[2]=k=>t(f).datetime=k),label:"Waktu",error:!!t(f).errors.datetime,disable:t(f).processing,errorMessage:t(f).errors.datetime,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(se,{autofocus:"",modelValue:t(f).type,"onUpdate:modelValue":d[3]||(d[3]=k=>t(f).type=k),label:"Jenis Transaksi",options:s,"map-options":"","emit-value":"",error:!!t(f).errors.type,disable:t(f).processing,errorMessage:t(f).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(se,{class:"custom-select",modelValue:t(f).account_id,"onUpdate:modelValue":d[4]||(d[4]=k=>t(f).account_id=k),label:t(f).type=="transfer"?"Akun Asal":"Akun",options:t(o),"map-options":"","emit-value":"",errorMessage:t(f).errors.account_id,error:!!t(f).errors.account_id,disable:t(f).processing,"hide-bottom-space":""},null,8,["modelValue","label","options","errorMessage","error","disable"]),t(f).type=="transfer"?(w(),D(se,{key:0,class:"custom-select",modelValue:t(f).to_account_id,"onUpdate:modelValue":d[5]||(d[5]=k=>t(f).to_account_id=k),label:"Akun Tujuan",options:t(o),"map-options":"","emit-value":"",errorMessage:t(f).errors.to_account_id,error:!!t(f).errors.to_account_id,disable:t(f).processing,"hide-bottom-space":""},null,8,["modelValue","options","errorMessage","error","disable"])):B("",!0),e(qe,{modelValue:t(f).amount,"onUpdate:modelValue":d[6]||(d[6]=k=>t(f).amount=k),label:"Jumlah",lazyRules:"",disable:t(f).processing,error:!!t(f).errors.amount,errorMessage:t(f).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(X,{modelValue:t(f).notes,"onUpdate:modelValue":d[7]||(d[7]=k=>t(f).notes=k),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(f).processing,error:!!t(f).errors.notes,"error-message":t(f).errors.notes,rules:[k=>k&&k.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(M,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(f).processing},null,8,["disable"]),e(M,{icon:"cancel",label:"Batal",disable:t(f).processing,onClick:d[8]||(d[8]=k=>t(K).get(i.route("admin.finance-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Zs=Object.freeze(Object.defineProperty({__proto__:null,default:Xs},Symbol.toStringTag,{value:"Module"})),er={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},tr={class:"q-pa-sm"},ar={class:"full-width row flex-center text-grey-8 q-gutter-sm"},lr={class:"text-grey-8"},or={key:0},nr={key:0},sr={key:1},rr={class:"flex justify-end"},ka="Transaksi Kas",ir={__name:"Index",setup(m){const n=ye(),p=S(!1),o=S([]),s=S(!0),f=S(null),r=S(null),i=Be(r),d=Nt(),b=Ot(),y=[{label:"Semua Tahun",value:"all"},{label:`${d}`,value:d},...bt(d-2,d-1).reverse()],k=[{value:"all",label:"Semua Bulan"},..._t()],c=Me({search:"",category_id:"all",year:d,month:b,...Oe()}),v=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),x=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];we(()=>{A()});const _=T=>ze({message:`Hapus transaksi #-${T.id}?`,url:route("admin.finance-transaction.delete",T.id),fetchItemsCallback:A,loading:s}),A=(T=null)=>{Ie({pagination:v,filter:c,props:T,rows:o,url:route("admin.finance-transaction.data"),loading:s,tableRef:f})},q=()=>{A()},h=te(()=>n.screen.gt.sm?x:x.filter(T=>T.name==="datetime"||T.name==="action"));return Ve(()=>c.year,T=>{T===null&&(c.month=null)}),(T,P)=>{const C=z("i-head"),U=z("authenticated-layout");return w(),O(W,null,[e(C,{title:ka}),e(U,null,je({title:a(()=>[g(u(ka))]),"right-button":a(()=>[e(M,{icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:P[0]||(P[0]=$=>p.value=!p.value)},null,8,["icon"]),e(M,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:P[1]||(P[1]=$=>t(K).get(T.route("admin.finance-transaction.add")))})]),default:a(()=>[l("div",tr,[e(ke,{ref_key:"tableRef",ref:f,style:He({height:t(i)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":P[6]||(P[6]=$=>v.value=$),filter:c.search,loading:s.value,columns:h.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:A,"binary-state-sort":""},{loading:a(()=>[e(Ue,{showing:"",color:"red"})]),"no-data":a(({icon:$,message:E,filter:Q})=>[l("div",ar,[l("span",null,u(E)+" "+u(Q?" with term "+Q:""),1)])]),body:a($=>[e(ve,{props:$},{default:a(()=>[e(L,{key:"datetime",props:$,class:"wrap-column"},{default:a(()=>[l("div",null,[g(" #"+u($.row.id)+" - ",1),e(V,{name:"calendar_today"}),g(" "+u(t(Qe)($.row.datetime))+" ",1),l("span",lr,"("+u(t(ot)($.row.datetime))+")",1)]),e(Mt,null,{default:a(()=>[e(V,{name:"category"}),g(" "+u($.row.type_label),1)]),_:2},1024),$.row.ref_type?(w(),O("div",or,[e(V,{name:"link"}),g(" "+u($.row.ref_type_label)+" #"+u($.row.ref_id),1)])):B("",!0),t(n).screen.gt.sm?B("",!0):(w(),O(W,{key:1},[$.row.notes?(w(),O("div",nr,[e(V,{name:"notes"}),g(" "+u($.row.notes),1)])):B("",!0),$.row.category?(w(),O("div",sr,[e(V,{name:"category"}),g(" "+u($.row.category.name),1)])):B("",!0),l("div",null,[e(V,{name:"money"}),g(" Rp. "+u(t(et)($.row.amount)+t(F)($.row.amount)),1)])],64))]),_:2},1032,["props"]),e(L,{key:"account",props:$},{default:a(()=>{var E;return[g(u((E=$.row.account)==null?void 0:E.name),1)]}),_:2},1032,["props"]),e(L,{key:"notes",props:$},{default:a(()=>[g(u($.row.notes),1)]),_:2},1032,["props"]),e(L,{key:"amount",props:$,style:{"text-align":"right"}},{default:a(()=>[g(u(t(et)($.row.amount)+t(F)($.row.amount)),1)]),_:2},1032,["props"]),e(L,{key:"action",props:$},{default:a(()=>[l("div",rr,[e(M,{disabled:!t(Fe)(T.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:P[5]||(P[5]=J(()=>{},["stop"]))},{default:a(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[Y((w(),D(ee,{onClick:J(E=>_($.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>P[7]||(P[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",er,[e(se,{modelValue:c.year,"onUpdate:modelValue":[P[2]||(P[2]=$=>c.year=$),q],options:y,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),c.year!="all"?(w(),D(se,{key:0,modelValue:c.month,"onUpdate:modelValue":[P[3]||(P[3]=$=>c.month=$),q],options:k,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:c.year===null},null,8,["modelValue","disable"])):B("",!0),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:c.search,"onUpdate:modelValue":P[4]||(P[4]=$=>c.search=$),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},ur=Object.freeze(Object.defineProperty({__proto__:null,default:ir},Symbol.toStringTag,{value:"Module"})),dr={class:"q-gutter-sm"},mr={class:"col col-lg-6 q-pa-sm"},cr={__name:"Editor",setup(m){const n=pe(),p=(n.props.data.id?"Edit":"Tambah")+" Kategori Operasional",o=Ce({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description}),s=()=>Ne({form:o,url:route("admin.operational-cost-category.save")});return(f,r)=>{const i=z("i-head"),d=z("authenticated-layout");return w(),O(W,null,[e(i,{title:p}),e(d,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",dr,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=b=>f.$inertia.get(f.route("admin.operational-cost-category.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",mr,[e(Pe,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(Ee)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[Y(l("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=b=>t(o).id=b)},null,512),[[Ye,t(o).id]]),e(X,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=b=>t(o).name=b),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[b=>b&&b.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(o).description,"onUpdate:modelValue":r[3]||(r[3]=b=>t(o).description=b),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Deskripsi","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.description,"error-message":t(o).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(M,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(M,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[4]||(r[4]=b=>t(K).get(f.route("admin.operational-cost-category.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},pr=Object.freeze(Object.defineProperty({__proto__:null,default:cr},Symbol.toStringTag,{value:"Module"})),fr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},gr={class:"q-pa-sm"},br={class:"full-width row flex-center text-grey-8 q-gutter-sm"},_r={key:0,class:"text-grey-8"},vr={class:"flex justify-end"},ha="Kategori Biaya Operasional",yr={__name:"Index",setup(m){const n=ye(),p=S(!1),o=S([]),s=S(!0),f=S(null),r=S(null),i=Be(r),d=Me({search:"",...Oe()}),b=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];we(()=>{c()});const k=x=>ze({message:`Hapus Kategori Biaya ${x.name}?`,url:route("admin.operational-cost-category.delete",x.id),fetchItemsCallback:c,loading:s}),c=(x=null)=>{Ie({pagination:b,filter:d,props:x,rows:o,url:route("admin.operational-cost-category.data"),loading:s,tableRef:f})},v=te(()=>n.screen.gt.sm?y:y.filter(x=>x.name==="name"||x.name==="action"));return(x,_)=>{const A=z("i-head"),q=z("authenticated-layout");return w(),O(W,null,[e(A,{title:ha}),e(q,null,je({title:a(()=>[g(u(ha))]),"right-button":a(()=>[e(M,{icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:_[0]||(_[0]=h=>p.value=!p.value)},null,8,["icon"]),e(M,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:_[1]||(_[1]=h=>t(K).get(x.route("admin.operational-cost-category.add")))})]),default:a(()=>[l("div",gr,[e(ke,{ref_key:"tableRef",ref:f,class:"full-height-table",style:He({height:t(i)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":_[4]||(_[4]=h=>b.value=h),filter:d.search,loading:s.value,columns:v.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:c,"binary-state-sort":""},{loading:a(()=>[e(Ue,{showing:"",color:"red"})]),"no-data":a(({icon:h,message:T,filter:P})=>[l("div",br,[l("span",null,u(T)+" "+u(P?" with term "+P:""),1)])]),body:a(h=>[e(ve,{props:h},{default:a(()=>[e(L,{key:"name",props:h,class:"wrap-column"},{default:a(()=>[g(u(h.row.name)+" ",1),t(n).screen.gt.sm?B("",!0):(w(),O(W,{key:0},[h.row.description?(w(),O("div",_r,[e(V,{name:"description"}),g(" "+u(h.row.description),1)])):B("",!0)],64))]),_:2},1032,["props"]),e(L,{key:"description",props:h,class:"wrap-column"},{default:a(()=>[g(u(h.row.description),1)]),_:2},1032,["props"]),e(L,{key:"action",props:h},{default:a(()=>[l("div",vr,[e(M,{disabled:!t(Fe)(x.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:_[3]||(_[3]=J(()=>{},["stop"]))},{default:a(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[Y((w(),D(ee,{clickable:"",onClick:J(T=>t(K).get(x.route("admin.operational-cost-category.duplicate",h.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:a(()=>_[5]||(_[5]=[g("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]]),Y((w(),D(ee,{clickable:"",onClick:J(T=>t(K).get(x.route("admin.operational-cost-category.edit",h.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:a(()=>_[6]||(_[6]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]]),Y((w(),D(ee,{onClick:J(T=>k(h.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>_[7]||(_[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",fr,[e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":_[2]||(_[2]=h=>d.search=h),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},wr=Object.freeze(Object.defineProperty({__proto__:null,default:yr},Symbol.toStringTag,{value:"Module"})),kr={class:"q-gutter-sm"},hr={class:"q-gutter-sm"},$r={class:"col col-lg-6 q-pa-sm"},Sr={class:"row"},xr={class:"detail"},Vr={key:1,class:"text-grey-9"},Cr={class:"detail"},$a="Rincian Teknisi",qr={__name:"Detail",setup(m){const n=pe();return(p,o)=>{const s=z("i-head"),f=z("i-link"),r=z("authenticated-layout");return w(),O(W,null,[e(s,{title:$a}),e(r,null,{title:a(()=>[g(u($a))]),"left-button":a(()=>[l("div",kr,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=i=>p.$inertia.get(p.route("admin.operational-cost.index")))})])]),"right-button":a(()=>[l("div",hr,[e(M,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=i=>t(K).get(p.route("admin.operational-cost.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",$r,[l("div",Sr,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,null,{default:a(()=>[o[12]||(o[12]=l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Profil Teknisi ",-1)),l("table",xr,[l("tbody",null,[l("tr",null,[o[2]||(o[2]=l("td",{style:{width:"125px"}},"Akun Pengguna",-1)),o[3]||(o[3]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,[t(n).props.data.user?(w(),D(f,{key:0,href:p.route("admin.user.detail",{id:t(n).props.data.user.id})},{default:a(()=>[g(u(t(n).props.data.user.username),1)]),_:1},8,["href"])):(w(),O("span",Vr,"Tidak terhubung"))])]),l("tr",null,[o[4]||(o[4]=l("td",null,"Nama Teknisi",-1)),o[5]||(o[5]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"No. Telepon",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.phone),1)]),l("tr",null,[o[8]||(o[8]=l("td",null,"Email",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.email),1)]),l("tr",null,[o[10]||(o[10]=l("td",null,"Alamat",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.address),1)])])])]),_:1}),e(ae,null,{default:a(()=>o[13]||(o[13]=[l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Statistik Servis ",-1),l("table",{class:"detail"},[l("tbody",null,[l("tr",null,[l("td",{style:{width:"125px"}},"Servis Ditangani"),l("td",{style:{width:"1px"}},":"),l("td",null,"0")]),l("tr",null,[l("td",null,"Servis Sukses"),l("td",null,":"),l("td",null,"0")]),l("tr",null,[l("td",null,"Servis Gagal"),l("td",null,":"),l("td",null,"0")])])],-1)])),_:1}),e(ae,null,{default:a(()=>[o[18]||(o[18]=l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Informasi Ekstra ",-1)),l("table",Cr,[l("tbody",null,[l("tr",null,[o[14]||(o[14]=l("td",{style:{width:"125px"}},"Dibuat",-1)),o[15]||(o[15]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(p.$dayjs(new Date(t(n).props.data.created_at)).format("DD MMMM YY HH:mm:ss")),1)]),l("tr",null,[o[16]||(o[16]=l("td",null,"Diperbarui",-1)),o[17]||(o[17]=l("td",null,":",-1)),l("td",null,u(p.$dayjs(new Date(t(n).props.data.updated_at)).format("DD MMMM YY HH:mm:ss")),1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Tr=Object.freeze(Object.defineProperty({__proto__:null,default:qr},Symbol.toStringTag,{value:"Module"})),Pr={class:"row items-center justify-end"},Nr={__name:"DatePicker",props:{modelValue:{type:String,required:!0},label:{type:String,default:""},readonly:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},rules:{type:Array,default:[]},mask:{type:String,default:"####-##-##"}},emits:["update:modelValue"],setup(m,{emit:n}){const p=m,o=n,s=S("");Ve(()=>p.modelValue,i=>{const[d,b]=i.split(" ");s.value=d||""});const f=S(p.modelValue),r=()=>{let i="";s.value&&(i=`${s.value} 00:00`),o("update:modelValue",i),f.value=i};return(i,d)=>(w(),D(X,{modelValue:f.value,"onUpdate:modelValue":d[1]||(d[1]=b=>f.value=b),label:p.label,readonly:p.readonly,disable:p.disable,error:p.error,rules:[...p.rules],"error-message":m.errorMessage,mask:p.mask},{append:a(()=>[e(V,{name:"event",class:"cursor-pointer"},{default:a(()=>[e(Rl,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Ul,{modelValue:s.value,"onUpdate:modelValue":[d[0]||(d[0]=b=>s.value=b),r],mask:"YYYY-MM-DD"},{default:a(()=>[l("div",Pr,[Y(e(M,{label:"Close",color:"primary",flat:""},null,512),[[re]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label","readonly","disable","error","rules","error-message","mask"]))}},Or=it(Nr,[["__scopeId","data-v-af4e8707"]]);function Wa(m,n=!1){const p=m.map(r=>({value:r.id,label:r.name})),o=n?[{value:"all",label:"Semua"},...p]:p,s=S([...o]);return{filteredCostCategories:s,filterCostCategory:(r,i)=>{const d=r.toLowerCase();i(()=>{s.value=o.filter(b=>b.label.toLowerCase().includes(d))})},costCategoryOptions:o}}const Ir={class:"q-gutter-sm"},Mr={class:"col col-lg-6 q-pa-sm"},Rr={__name:"Editor",setup(m){const n=pe(),p=(n.props.data.id?"Edit":"Tambah")+" Biaya Operasional",{costCategoryOptions:o}=Wa(n.props.categories),s=S(o),f=S([...s.value]),r=Ce({id:n.props.data.id,category_id:n.props.data.category_id,date:n.props.data.date,description:n.props.data.description,notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),i=()=>Ne({form:r,url:route("admin.operational-cost.save")}),d=(b,y)=>{y(()=>{f.value=s.value.filter(k=>k.label.toLowerCase().includes(b.toLowerCase()))})};return(b,y)=>{const k=z("i-head"),c=z("authenticated-layout");return w(),O(W,null,[e(k,{title:p}),e(c,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",Ir,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:y[0]||(y[0]=v=>b.$inertia.get(b.route("admin.operational-cost.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",Mr,[e(Pe,{class:"row",onSubmit:J(i,["prevent"]),onValidationError:t(Ee)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[Y(l("input",{type:"hidden",name:"id","onUpdate:modelValue":y[1]||(y[1]=v=>t(r).id=v)},null,512),[[Ye,t(r).id]]),e(se,{autofocus:"",modelValue:t(r).category_id,"onUpdate:modelValue":y[2]||(y[2]=v=>t(r).category_id=v),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:f.value,"map-options":"","emit-value":"",onFilter:d,error:!!t(r).errors.category_id,disable:t(r).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(ee,null,{default:a(()=>[e(I,null,{default:a(()=>y[8]||(y[8]=[g("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","error","disable"]),e(Or,{modelValue:t(r).date,"onUpdate:modelValue":y[3]||(y[3]=v=>t(r).date=v),label:"Tanggal",error:!!t(r).errors.date,disable:t(r).processing},null,8,["modelValue","error","disable"]),e(X,{modelValue:t(r).description,"onUpdate:modelValue":y[4]||(y[4]=v=>t(r).description=v),modelModifiers:{trim:!0},label:"Deskripsi","lazy-rules":"",error:!!t(r).errors.description,disable:t(r).processing,"error-message":t(r).errors.description,rules:[v=>v&&v.length>0||"Deskripsi harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(qe,{modelValue:t(r).amount,"onUpdate:modelValue":y[5]||(y[5]=v=>t(r).amount=v),label:"Jumlah",lazyRules:"",disable:t(r).processing,error:!!t(r).errors.amount,errorMessage:t(r).errors.amount,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),e(X,{modelValue:t(r).notes,"onUpdate:modelValue":y[6]||(y[6]=v=>t(r).notes=v),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(r).processing,error:!!t(r).errors.notes,"error-message":t(r).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(M,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(r).processing},null,8,["disable"]),e(M,{icon:"cancel",label:"Batal",disable:t(r).processing,onClick:y[7]||(y[7]=v=>t(K).get(b.route("admin.operational-cost.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Ur=Object.freeze(Object.defineProperty({__proto__:null,default:Rr},Symbol.toStringTag,{value:"Module"})),Er={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Ar={class:"q-pa-sm"},Dr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},jr={class:"flex items-center q-gutter-xs"},Br={key:0},Lr={key:0},zr={class:"flex justify-end"},Sa="Biaya Operasional",Hr={__name:"Index",setup(m){const n=pe(),p=ye(),o=S(!1),s=S(null),f=S(null),r=Be(f),i=S([]),d=S(!0),b=new Date().getFullYear(),y=new Date().getMonth()+1,k=[{label:"Semua Tahun",value:null},{label:`${b}`,value:b},...bt(b-2,b-1).reverse()],c=[{value:null,label:"Semua Bulan"},..._t()],{costCategoryOptions:v}=Wa(n.props.categories),x=[{value:"all",label:"Semua"},{value:"null",label:"Tanpa Kategori"},...v],_=Me({search:"",category_id:"all",year:b,month:y,...Oe()}),A=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"date",descending:!0}),q=[{name:"date",label:"Tanggal",field:"date",align:"left",sortable:!0},{name:"description",label:"Deskripsi",field:"description",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right",sortable:!0},{name:"action",align:"right"}];we(()=>{T()});const h=U=>ze({message:`Hapus Biaya ${U.description}?`,url:route("admin.operational-cost.delete",U.id),fetchItemsCallback:T,loading:d}),T=(U=null)=>{Ie({pagination:A,filter:_,props:U,rows:i,url:route("admin.operational-cost.data"),loading:d,tableRef:s})},P=()=>{T()},C=te(()=>p.screen.gt.sm?q:q.filter(U=>U.name==="date"||U.name==="action"));return Ve(()=>_.year,U=>{U===null&&(_.month=null)}),(U,$)=>{const E=z("i-head"),Q=z("authenticated-layout");return w(),O(W,null,[e(E,{title:Sa}),e(Q,null,je({title:a(()=>[g(u(Sa))]),"right-button":a(()=>[e(M,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:$[0]||($[0]=N=>o.value=!o.value)},null,8,["icon"]),e(M,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:$[1]||($[1]=N=>t(K).get(U.route("admin.operational-cost.add")))})]),default:a(()=>[l("div",Ar,[e(ke,{ref_key:"tableRef",ref:s,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:A.value,"onUpdate:pagination":$[7]||($[7]=N=>A.value=N),filter:_.search,loading:d.value,columns:C.value,rows:i.value,"rows-per-page-options":[10,25,50],style:He({height:t(r)}),onRequest:T,"binary-state-sort":""},{loading:a(()=>[e(Ue,{showing:"",color:"red"})]),"no-data":a(({icon:N,message:j,filter:Z})=>[l("div",Dr,[l("span",null,u(j)+" "+u(Z?" with term "+Z:""),1)])]),body:a(N=>[e(ve,{props:N},{default:a(()=>[e(L,{key:"date",props:N,class:"wrap-column"},{default:a(()=>[l("div",jr,[e(V,{name:"calendar_today"}),l("div",null,u(t(rt)(N.row.date).format("DD/MM/YYYY")),1)]),t(p).screen.gt.sm?B("",!0):(w(),O(W,{key:0},[e(We,{icon:"notes",text:N.row.notes},null,8,["text"]),N.row.category?(w(),O("div",Br,[e(V,{name:"category"}),g(" "+u(N.row.category.name),1)])):B("",!0),l("div",null,[e(V,{name:"paid"}),g(" Rp. "+u(t(F)(N.row.amount)),1)])],64))]),_:2},1032,["props"]),e(L,{key:"description",props:N},{default:a(()=>[g(u(N.row.description)+" ",1),N.row.category?(w(),O("div",Lr,[e(V,{name:"category"}),g(" "+u(N.row.category.name),1)])):B("",!0)]),_:2},1032,["props"]),e(L,{key:"amount",props:N,style:{"text-align":"right"}},{default:a(()=>[g(u(t(F)(N.row.amount)),1)]),_:2},1032,["props"]),e(L,{key:"action",props:N},{default:a(()=>[l("div",zr,[e(M,{disabled:!t(Fe)(U.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:$[6]||($[6]=J(()=>{},["stop"]))},{default:a(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[Y((w(),D(ee,{clickable:"",onClick:J(j=>t(K).get(U.route("admin.operational-cost.duplicate",N.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:a(()=>$[8]||($[8]=[g(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]]),Y((w(),D(ee,{clickable:"",onClick:J(j=>t(K).get(U.route("admin.operational-cost.edit",N.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:a(()=>$[9]||($[9]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]]),Y((w(),D(ee,{onClick:J(j=>h(N.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>$[10]||($[10]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[o.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:f},{default:a(()=>[l("div",Er,[e(se,{modelValue:_.year,"onUpdate:modelValue":[$[2]||($[2]=N=>_.year=N),P],options:k,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(se,{modelValue:_.month,"onUpdate:modelValue":[$[3]||($[3]=N=>_.month=N),P],options:c,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:_.year===null},null,8,["modelValue","disable"]),e(se,{modelValue:_.category_id,"onUpdate:modelValue":[$[4]||($[4]=N=>_.category_id=N),P],options:x,label:"Kategori",dense:"",class:"custom-select col-xs-12 col-sm-3","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:_.search,"onUpdate:modelValue":$[5]||($[5]=N=>_.search=N),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Fr=Object.freeze(Object.defineProperty({__proto__:null,default:Hr},Symbol.toStringTag,{value:"Module"})),Yr={class:"q-gutter-sm"},Kr={class:"col col-md-6 q-pa-sm"},Qr={__name:"Editor",setup(m){const n=pe(),p=(n.props.data.id?"Edit":"Tambah")+" Kategori Produk",o=Ce({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description}),s=()=>Ne({form:o,url:route("admin.product-category.save")});return(f,r)=>{const i=z("i-head"),d=z("authenticated-layout");return w(),O(W,null,[e(i,{title:p}),e(d,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",Yr,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=b=>f.$inertia.get(f.route("admin.product-category.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",Kr,[e(Pe,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(Ee)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[Y(l("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=b=>t(o).id=b)},null,512),[[Ye,t(o).id]]),e(X,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=b=>t(o).name=b),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[b=>b&&b.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(o).description,"onUpdate:modelValue":r[3]||(r[3]=b=>t(o).description=b),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.description,"error-message":t(o).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(M,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(M,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[4]||(r[4]=b=>t(K).get(f.route("admin.product-category.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Wr=Object.freeze(Object.defineProperty({__proto__:null,default:Qr},Symbol.toStringTag,{value:"Module"})),Jr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Gr={class:"q-pa-sm"},Xr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Zr={key:0,class:"text-grey-8"},ei={class:"flex justify-end"},xa="Kategori Produk",ti={__name:"Index",setup(m){const n=ye(),p=S(!1),o=S([]),s=S(!0),f=S(null),r=S(null),i=Be(r),d=Me({search:"",...Oe()}),b=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];we(()=>{c()});const k=x=>ze({message:`Hapus Kategori ${x.name}?`,url:route("admin.product-category.delete",x.id),fetchItemsCallback:c,loading:s}),c=(x=null)=>{Ie({pagination:b,filter:d,props:x,rows:o,url:route("admin.product-category.data"),loading:s,tableRef:f})},v=te(()=>n.screen.gt.sm?y:y.filter(x=>x.name==="name"||x.name==="action"));return(x,_)=>{const A=z("i-head"),q=z("authenticated-layout");return w(),O(W,null,[e(A,{title:xa}),e(q,null,je({title:a(()=>[g(u(xa))]),"right-button":a(()=>[e(M,{icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:_[0]||(_[0]=h=>p.value=!p.value)},null,8,["icon"]),e(M,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:_[1]||(_[1]=h=>t(K).get(x.route("admin.product-category.add")))})]),default:a(()=>[l("div",Gr,[e(ke,{ref_key:"tableRef",ref:f,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":_[4]||(_[4]=h=>b.value=h),filter:d.search,loading:s.value,columns:v.value,rows:o.value,"rows-per-page-options":[10,25,50],style:He({height:t(i)}),onRequest:c,"binary-state-sort":""},{loading:a(()=>[e(Ue,{showing:"",color:"red"})]),"no-data":a(({icon:h,message:T,filter:P})=>[l("div",Xr,[l("span",null,u(T)+" "+u(P?" with term "+P:""),1)])]),body:a(h=>[e(ve,{props:h},{default:a(()=>[e(L,{key:"name",props:h,class:"wrap-column"},{default:a(()=>[g(u(h.row.name)+" ",1),t(n).screen.gt.sm?B("",!0):(w(),O(W,{key:0},[h.row.description?(w(),O("div",Zr,[e(V,{name:"description"}),g(" "+u(h.row.description),1)])):B("",!0)],64))]),_:2},1032,["props"]),e(L,{key:"description",props:h,class:"wrap-column"},{default:a(()=>[g(u(h.row.description),1)]),_:2},1032,["props"]),e(L,{key:"action",props:h},{default:a(()=>[l("div",ei,[e(M,{disabled:!t(Fe)(x.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:_[3]||(_[3]=J(()=>{},["stop"]))},{default:a(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[Y((w(),D(ee,{clickable:"",onClick:J(T=>t(K).get(x.route("admin.product-category.duplicate",h.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:a(()=>_[5]||(_[5]=[g("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]]),Y((w(),D(ee,{clickable:"",onClick:J(T=>t(K).get(x.route("admin.product-category.edit",h.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:a(()=>_[6]||(_[6]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]]),Y((w(),D(ee,{onClick:J(T=>k(h.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>_[7]||(_[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",Jr,[e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":_[2]||(_[2]=h=>d.search=h),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},ai=Object.freeze(Object.defineProperty({__proto__:null,default:ti},Symbol.toStringTag,{value:"Module"})),li={class:"q-gutter-sm"},oi={class:"q-gutter-sm"},ni={class:"row justify-center"},si={class:"col col-lg-6 q-pa-sm"},ri={class:"row"},ii={class:"detail"},ui={key:0},di={key:1},mi={class:"detail"},ci={class:"detail"},pi={key:0},fi={key:1},gi={class:"detail"},bi={class:"full-width row flex-center text-grey-8 q-gutter-sm"},_i={class:"flex q-gutter-sm"},vi={class:""},yi={__name:"Detail",setup(m){const n=pe(),p=`Rincian Produk #${n.props.data.id}`,o=S("main"),s=S([]),f=S(!0),r=Me({...Oe()}),i=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),d=[{name:"id",label:"#",field:"id",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!0},{name:"quantity",label:"Jumlah",field:"quantity",align:"center",sortable:!0}];we(()=>{b()});const b=(c=null)=>Ie({pagination:i,filter:r,props:c,rows:s,url:route("admin.stock-movement.data",{product_id:n.props.data.id}),loading:f}),y=ye(),k=te(()=>y.screen.gt.sm?d:d.filter(c=>c.name==="id"));return(c,v)=>{const x=z("i-head"),_=z("i-link"),A=z("authenticated-layout");return w(),O(W,null,[e(x,{title:p}),e(A,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",li,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:v[0]||(v[0]=q=>c.$inertia.get(c.route("admin.product.index")))})])]),"right-button":a(()=>[l("div",oi,[e(M,{icon:"edit",dense:"",color:"primary",onClick:v[1]||(v[1]=q=>t(K).get(c.route("admin.product.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[l("div",ni,[l("div",si,[l("div",ri,[e(ie,{square:"",flat:"",bordered:"",class:"q-card col"},{default:a(()=>[e(Qt,{modelValue:o.value,"onUpdate:modelValue":v[2]||(v[2]=q=>o.value=q),align:"left"},{default:a(()=>[e(ft,{name:"main",label:"Info Utama"}),e(ft,{name:"history",label:"Riwayat Stok"})]),_:1},8,["modelValue"]),e(Wt,{modelValue:o.value,"onUpdate:modelValue":v[4]||(v[4]=q=>o.value=q)},{default:a(()=>[e(gt,{name:"main"},{default:a(()=>[v[45]||(v[45]=l("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Produk ",-1)),l("table",ii,[l("tbody",null,[l("tr",null,[v[5]||(v[5]=l("td",{style:{width:"120px"}},"ID",-1)),v[6]||(v[6]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,"# "+u(t(n).props.data.id),1)]),l("tr",null,[v[7]||(v[7]=l("td",null,"Nama Produk",-1)),v[8]||(v[8]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[v[9]||(v[9]=l("td",null,"Barcode",-1)),v[10]||(v[10]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.barcode),1)]),l("tr",null,[v[11]||(v[11]=l("td",null,"Jenis Produk",-1)),v[12]||(v[12]=l("td",null,":",-1)),l("td",null,u(c.$CONSTANTS.PRODUCT_TYPES[t(n).props.data.type]),1)]),l("tr",null,[v[13]||(v[13]=l("td",null,"Kategori",-1)),v[14]||(v[14]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.category?t(n).props.data.category.name:"--Tidak memiliki kategori--"),1)]),l("tr",null,[v[15]||(v[15]=l("td",null,"Supplier",-1)),v[16]||(v[16]=l("td",null,":",-1)),l("td",null,[t(n).props.data.supplier?(w(),D(_,{key:0,href:c.route("admin.supplier.detail",{id:t(n).props.data.supplier.id})},{default:a(()=>[g(u("#"+t(n).props.data.supplier.id+" - "+t(n).props.data.supplier.name),1)]),_:1},8,["href"])):(w(),O(W,{key:1},[g(u("--Tidak memiliki supplier--"))],64))])]),l("tr",null,[v[17]||(v[17]=l("td",null,"Status",-1)),v[18]||(v[18]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),t(n).props.data.created_at?(w(),O("tr",ui,[v[20]||(v[20]=l("td",null,"Dibuat Oleh",-1)),v[21]||(v[21]=l("td",null,":",-1)),l("td",null,[t(n).props.data.creator?(w(),O(W,{key:0},[e(_,{href:c.route("admin.user.detail",{id:t(n).props.data.creator})},{default:a(()=>[g(u(t(n).props.data.creator.username),1)]),_:1},8,["href"]),v[19]||(v[19]=g(" - "))],64)):B("",!0),g(" "+u(t(Qe)(t(n).props.data.created_at)),1)])])):B("",!0),t(n).props.data.updater?(w(),O("tr",di,[v[23]||(v[23]=l("td",null,"Diperbarui oleh",-1)),v[24]||(v[24]=l("td",null,":",-1)),l("td",null,[t(n).props.data.updater?(w(),O(W,{key:0},[e(_,{href:c.route("admin.user.detail",{id:t(n).props.data.updater})},{default:a(()=>[g(u(t(n).props.data.updater.username),1)]),_:1},8,["href"]),v[22]||(v[22]=g(" - "))],64)):B("",!0),g(" "+u(t(Qe)(t(n).props.data.updated_at)),1)])])):B("",!0)])]),v[46]||(v[46]=l("div",{class:"text-subtitle1 q-pt-lg text-bold text-grey-9"}," Info Inventori ",-1)),l("table",mi,[l("tbody",null,[l("tr",null,[v[25]||(v[25]=l("td",{style:{width:"120px"}},"Stok",-1)),v[26]||(v[26]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(F)(t(n).props.data.stock))+" "+u(t(n).props.data.uom),1)]),l("tr",null,[v[27]||(v[27]=l("td",null,"Stok Minimum",-1)),v[28]||(v[28]=l("td",null,":",-1)),l("td",null,u(t(F)(t(n).props.data.min_stock))+" "+u(t(n).props.data.uom),1)]),l("tr",null,[v[29]||(v[29]=l("td",null,"Stok Maksimum",-1)),v[30]||(v[30]=l("td",null,":",-1)),l("td",null,u(t(F)(t(n).props.data.max_stock))+" "+u(t(n).props.data.uom),1)]),l("tr",null,[v[31]||(v[31]=l("td",null,"Barcode",-1)),v[32]||(v[32]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.barcode),1)])])]),v[47]||(v[47]=l("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Harga ",-1)),l("table",ci,[l("tbody",null,[l("tr",null,[v[33]||(v[33]=l("td",null,"Opsi Harga",-1)),v[34]||(v[34]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.price_editable?"Dapat":"Tidak dapat")+" diubah saat penjualan. ",1)]),c.$page.props.auth.user.role==c.$CONSTANTS.USER_ROLE_ADMIN?(w(),O("tr",pi,[v[35]||(v[35]=l("td",{style:{width:"120px"}},"Harga Beli",-1)),v[36]||(v[36]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,"Rp. "+u(t(F)(t(n).props.data.cost)),1)])):B("",!0),l("tr",null,[v[37]||(v[37]=l("td",null,"Harga Jual",-1)),v[38]||(v[38]=l("td",null,":",-1)),l("td",null,"Rp. "+u(t(F)(t(n).props.data.price)),1)]),c.$page.props.auth.user.role==c.$CONSTANTS.USER_ROLE_ADMIN?(w(),O("tr",fi,[v[39]||(v[39]=l("td",null,"Margin",-1)),v[40]||(v[40]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.price>0?t(F)((t(n).props.data.price-t(n).props.data.cost)/t(n).props.data.price*100,2):0)+" % ",1)])):B("",!0)])]),v[48]||(v[48]=l("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Deskripsi & Catatan ",-1)),l("table",gi,[l("tbody",null,[l("tr",null,[v[41]||(v[41]=l("td",{style:{width:"120px"}},"Deskirpsi",-1)),v[42]||(v[42]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.description),1)]),l("tr",null,[v[43]||(v[43]=l("td",null,"Catatan",-1)),v[44]||(v[44]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.notes),1)])])])]),_:1}),e(gt,{name:"history"},{default:a(()=>[e(ke,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":v[3]||(v[3]=q=>i.value=q),filter:r.search,loading:f.value,columns:k.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:b,"binary-state-sort":""},{loading:a(()=>[e(Ue,{showing:"",color:"red"})]),"no-data":a(({icon:q,message:h,filter:T})=>[l("div",bi,[l("span",null,u(h)+" "+u(T?" with term "+T:""),1)])]),body:a(q=>[e(ve,{props:q},{default:a(()=>[e(L,{key:"id",props:q},{default:a(()=>[l("div",_i,[l("div",null,[l("b",null,"#"+u(q.row.id),1)]),l("div",null," - "+u(c.$dayjs(new Date(q.row.created_at)).format("DD/MM/YYYY hh:mm:ss")),1),l("div",null," - "+u(q.row.created_by?q.row.created_by.username:"--"),1)]),t(y).screen.lt.md?(w(),O(W,{key:0},[l("div",vi,u(c.$CONSTANTS.STOCKMOVEMENT_REFTYPES[q.row.ref_type]),1),l("div",{class:be(q.row.quantity<0?"text-red-10":q.row.quantity>0?"text-green-10":"")},[e(V,{name:q.row.quantity<0?"arrow_downward":q.row.quantity>0?"arrow_upward":""},null,8,["name"]),g(" "+u(t(F)(q.row.quantity)),1)],2)],64)):B("",!0)]),_:2},1032,["props"]),e(L,{key:"type",props:q},{default:a(()=>[g(u(c.$CONSTANTS.STOCKMOVEMENT_REFTYPES[q.row.ref_type]),1)]),_:2},1032,["props"]),e(L,{key:"quantity",props:q},{default:a(()=>[l("div",{class:be(q.row.quantity<0?"text-red-10":q.row.quantity>0?"text-green-10":"")},[e(V,{name:q.row.quantity<0?"arrow_downward":q.row.quantity>0?"arrow_upward":""},null,8,["name"]),g(" "+u(t(F)(q.row.quantity)),1)],2)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])])]),_:1})],64)}}},wi=Object.freeze(Object.defineProperty({__proto__:null,default:yi},Symbol.toStringTag,{value:"Module"}));function Ja(m,n=!1){const p=m.map(r=>({value:r.id,label:r.name})),o=n?[{value:"all",label:"Semua"},...p]:p,s=S([...o]);return{filteredCategories:s,filterCategories:(r,i)=>{const d=r.toLowerCase();i(()=>{s.value=o.filter(b=>b.label.toLowerCase().includes(d))})},categories:o}}function Jt(m,n=!1){const p=m.map(r=>({value:r.id,label:"#"+r.id+" - "+r.name})),o=n?[{value:"all",label:"Semua"},...p]:p,s=S([...o]);return{filteredSuppliers:s,filterSupplierFn:(r,i)=>{i(()=>{s.value=o.filter(d=>d.label.toLowerCase().includes(r.toLowerCase()))})},suppliers:o}}const ki={style:{"margin-left":"-10px"}},Ht={__name:"CheckBox",props:{modelValue:{type:[Boolean,Array],default:!1},label:{type:String,default:""},disable:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(m){return(n,p)=>(w(),O("div",ki,[e(ht,{class:"full-width q-pl-none","model-value":m.modelValue,"onUpdate:modelValue":p[0]||(p[0]=o=>n.$emit("update:modelValue",o)),disable:m.disable,label:m.label},null,8,["model-value","disable","label"])]))}},hi={class:"q-gutter-sm"},$i={class:"col col-lg-6 q-pa-sm"},Si={__name:"Editor",setup(m){const n=pe(),p=(n.props.data.id?"Edit":"Tambah")+" Produk",o=Re(window.CONSTANTS.PRODUCT_TYPES),s=Ce({id:n.props.data.id,category_id:n.props.data.category_id,supplier_id:n.props.data.supplier_id,type:n.props.data.type,name:n.props.data.name,barcode:n.props.data.barcode,description:n.props.data.description,stock:parseFloat(n.props.data.stock),min_stock:parseFloat(n.props.data.min_stock),max_stock:parseFloat(n.props.data.max_stock),uom:n.props.data.uom,cost:parseFloat(n.props.data.cost),price:parseFloat(n.props.data.price),active:!!n.props.data.active,price_editable:!!n.props.data.price_editable,notes:n.props.data.notes}),f=()=>Ne({form:s,url:route("admin.product.save")}),{filteredCategories:r,filterCategories:i}=Ja(n.props.categories),{filteredSuppliers:d,filterSuppliers:b}=Jt(n.props.suppliers),y=te(()=>s.price>0?(s.price-s.cost)/s.price*100:0);return(k,c)=>{const v=z("i-head"),x=z("authenticated-layout");return w(),O(W,null,[e(v,{title:p}),e(x,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",hi,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=_=>k.$inertia.get(k.route("admin.product.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",$i,[e(Pe,{class:"row",onSubmit:J(f,["prevent"]),onValidationError:t(Ee)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[Y(l("input",{type:"hidden",name:"id","onUpdate:modelValue":c[1]||(c[1]=_=>t(s).id=_)},null,512),[[Ye,t(s).id]]),c[21]||(c[21]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Utama",-1)),e(se,{autofocus:"",modelValue:t(s).type,"onUpdate:modelValue":c[2]||(c[2]=_=>t(s).type=_),class:"custom-select",options:t(o),label:"Jenis","map-options":"","emit-value":"","hide-bottom-space":""},null,8,["modelValue","options"]),e(X,{modelValue:t(s).name,"onUpdate:modelValue":c[3]||(c[3]=_=>t(s).name=_),modelModifiers:{trim:!0},label:"Nama Produk","lazy-rules":"",error:!!t(s).errors.name,disable:t(s).processing,"error-message":t(s).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(s).description,"onUpdate:modelValue":c[4]||(c[4]=_=>t(s).description=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Deskripsi","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.description,"error-message":t(s).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(se,{modelValue:t(s).category_id,"onUpdate:modelValue":c[5]||(c[5]=_=>t(s).category_id=_),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:t(r),"map-options":"","emit-value":"",onFilter:t(i),"option-label":"label","option-value":"value",error:!!t(s).errors.category_id,disable:t(s).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(ee,null,{default:a(()=>[e(I,null,{default:a(()=>c[19]||(c[19]=[g("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),e(se,{modelValue:t(s).supplier_id,"onUpdate:modelValue":c[6]||(c[6]=_=>t(s).supplier_id=_),label:"Supplier","use-input":"","input-debounce":"300",clearable:"",options:t(d),"map-options":"","emit-value":"",onFilter:t(b),"option-label":"label","option-value":"value",error:!!t(s).errors.supplier_id,disable:t(s).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(ee,null,{default:a(()=>[e(I,null,{default:a(()=>c[20]||(c[20]=[g("Supplier tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),e(Ht,{modelValue:t(s).active,"onUpdate:modelValue":c[7]||(c[7]=_=>t(s).active=_),disable:t(s).processing,label:"Aktif"},null,8,["modelValue","disable"]),c[22]||(c[22]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Inventori",-1)),e(X,{modelValue:t(s).barcode,"onUpdate:modelValue":c[8]||(c[8]=_=>t(s).barcode=_),modelModifiers:{trim:!0},label:"Barcode","lazy-rules":"",error:!!t(s).errors.barcode,disable:t(s).processing,"error-message":t(s).errors.barcode,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(X,{modelValue:t(s).uom,"onUpdate:modelValue":c[9]||(c[9]=_=>t(s).uom=_),modelModifiers:{trim:!0},label:"Satuan","lazy-rules":"",error:!!t(s).errors.uom,disable:t(s).processing,"error-message":t(s).errors.uom,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(qe,{modelValue:t(s).stock,"onUpdate:modelValue":c[10]||(c[10]=_=>t(s).stock=_),label:"Stok",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.stock,errorMessage:t(s).errors.stock},null,8,["modelValue","disable","error","errorMessage"]),e(qe,{modelValue:t(s).min_stock,"onUpdate:modelValue":c[11]||(c[11]=_=>t(s).min_stock=_),label:"Stok Minimum",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.min_stock,errorMessage:t(s).errors.min_stock},null,8,["modelValue","disable","error","errorMessage"]),e(qe,{modelValue:t(s).max_stock,"onUpdate:modelValue":c[12]||(c[12]=_=>t(s).max_stock=_),label:"Stok Maksimum",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.max_stock,errorMessage:t(s).errors.max_stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),c[23]||(c[23]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Harga",-1)),e(Ht,{modelValue:t(s).price_editable,"onUpdate:modelValue":c[13]||(c[13]=_=>t(s).price_editable=_),disable:t(s).processing,label:"Harga bisa diubah saat penjualan"},null,8,["modelValue","disable"]),e(qe,{modelValue:t(s).cost,"onUpdate:modelValue":c[14]||(c[14]=_=>t(s).cost=_),label:"Modal / Harga Beli (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.cost,errorMessage:t(s).errors.cost,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(qe,{modelValue:t(s).price,"onUpdate:modelValue":c[15]||(c[15]=_=>t(s).price=_),label:"Harga Jual (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.max_stock,errorMessage:t(s).errors.price,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(qe,{modelValue:y.value,"onUpdate:modelValue":c[16]||(c[16]=_=>y.value=_),label:"Margin (%)",lazyRules:"",disable:t(s).processing,maxDecimals:2,"hide-bottom-space":""},null,8,["modelValue","disable"]),c[24]||(c[24]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Lainnya",-1)),e(X,{modelValue:t(s).notes,"onUpdate:modelValue":c[17]||(c[17]=_=>t(s).notes=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(M,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(M,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:c[18]||(c[18]=_=>t(K).get(k.route("admin.product.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},xi=Object.freeze(Object.defineProperty({__proto__:null,default:Si},Symbol.toStringTag,{value:"Module"})),Vi={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Ci={class:"q-pa-sm"},qi={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ti={key:0,class:"text-grey-8"},Pi={key:1,class:"text-grey-8"},Ni={key:0},Oi={key:1},Ii={class:"flex justify-end"},Va="Produk",Mi={__name:"Index",setup(m){const n=pe(),p=S(null),o=S(null),s=Be(o),f=S(!1),r=[{value:"all",label:"Semua"},...Re(window.CONSTANTS.PRODUCT_TYPES)],i=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],d=[{value:"all",label:"Semua"},{value:"ready",label:"Tersedia"},{value:"out",label:"Kosong"},{value:"low",label:"Stok Rendah"},{value:"over",label:"Stok Berlebih"}],b=ye(),y=S(!1),k=S([]),c=S(!0),v=Me({type:"all",category_id:"all",supplier_id:"all",status:"active",stock_status:"all",search:"",...Oe()}),x=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1});let _=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"cost",label:"Modal",field:"cost",align:"right"},{name:"price",label:"Harga",field:"price",align:"right"},{name:"action",align:"right"}];we(()=>{const N=new URLSearchParams(window.location.search).get("page");N&&(x.value.page=parseInt(N)),q()});const A=Q=>ze({message:`Hapus Produk ${Q.name}?`,url:route("admin.product.delete",Q.id),fetchItemsCallback:q,loading:c}),q=(Q=null)=>{Ie({pagination:x,filter:v,props:Q,rows:k,url:route("admin.product.data"),loading:c,tableRef:p})},h=()=>{q()},{filteredCategories:T,filterCategories:P}=Ja(n.props.categories,!0),{filteredSuppliers:C,filterSuppliers:U}=Jt(n.props.suppliers,!0),$=te(()=>{let Q=[..._];return f.value||Q.splice(2,1),b.screen.gt.sm?Q:Q.filter(N=>N.name==="name"||N.name==="action")}),E=Q=>{console.log(window.location.href),K.get(route("admin.product.detail",Q.row.id))};return(Q,N)=>{const j=z("i-head"),Z=z("authenticated-layout");return w(),O(W,null,[e(j,{title:Va}),e(Z,null,je({title:a(()=>[g(u(Va))]),"right-button":a(()=>[Q.$can("admin.product.add")?(w(),D(M,{key:0,class:"q-mr-sm",icon:f.value?"visibility":"visibility_off",label:"",dense:"",color:"grey",onClick:N[0]||(N[0]=H=>f.value=!f.value)},null,8,["icon"])):B("",!0),e(M,{icon:y.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:N[1]||(N[1]=H=>y.value=!y.value)},null,8,["icon"]),e(M,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:N[2]||(N[2]=H=>t(K).get(Q.route("admin.product.add")))})]),default:a(()=>[l("div",Ci,[e(ke,{ref_key:"tableRef",ref:p,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:x.value,"onUpdate:pagination":N[10]||(N[10]=H=>x.value=H),filter:v.search,loading:c.value,columns:$.value,rows:k.value,"rows-per-page-options":[10,25,50],style:He({height:t(s)}),onRequest:q,"binary-state-sort":""},{loading:a(()=>[e(Ue,{showing:"",color:"red"})]),"no-data":a(({icon:H,message:R,filter:ue})=>[l("div",qi,[l("span",null,u(R)+" "+u(ue?" with term "+ue:""),1)])]),header:a(H=>[e(ve,{props:H},{default:a(()=>[e(Tt,{"auto-width":""}),(w(!0),O(W,null,st(H.cols,R=>(w(),D(Tt,{key:R.name,props:H},{default:a(()=>[g(u(R.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(H=>[e(ve,{props:H,class:be({inactive:!H.row.active})},{default:a(()=>[e(L,{"auto-width":""},{default:a(()=>[e(M,{size:"xs",color:"grey",round:"",dense:"",onClick:J(R=>H.expand=!H.expand,["prevent"]),icon:H.expand?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["onClick","icon"])]),_:2},1024),e(L,{key:"name",props:H,class:"wrap-column cursor-pointer",onClick:R=>E(H)},{default:a(()=>[g(u(H.row.name)+" ",1),H.row.category_id?(w(),O("div",Ti,[e(V,{name:"category"}),g(" "+u(H.row.category.name),1)])):B("",!0),H.row.supplier_id?(w(),O("div",Pi,[e(V,{name:"local_shipping"}),g(" "+u(H.row.supplier.name),1)])):B("",!0),t(b).screen.gt.sm?B("",!0):(w(),O(W,{key:2},[H.row.type=="stocked"?(w(),O("div",Ni,[e(V,{name:"cycle"}),g(" Stok: "+u(t(F)(H.row.stock))+" "+u(H.row.uom),1)])):B("",!0),f.value?(w(),O("div",Oi,[e(V,{name:"money"}),g(" Modal: Rp. "+u(t(F)(H.row.cost)),1)])):B("",!0),l("div",null,[e(V,{name:"sell"}),g(" Harga: Rp. "+u(t(F)(H.row.price)),1)])],64))]),_:2},1032,["props","onClick"]),e(L,{key:"stock",props:H,class:be(["wrap-column",{"low-stock":H.row.type=="stocked"&&(Number(H.row.stock)==0||Number(H.row.stock)<Number(H.row.min_stock)),"over-stock":H.row.type=="stocked"&&Number(H.row.max_stock)&&Number(H.row.stock)>Number(H.row.max_stock)}])},{default:a(()=>[g(u(H.row.type=="stocked"?t(F)(H.row.stock)+" "+H.row.uom:"-"),1)]),_:2},1032,["props","class"]),(w(),D(L,{key:"cost",props:H,class:"wrap-column"},{default:a(()=>[g(u(t(F)(H.row.cost)),1)]),_:2},1032,["props"])),e(L,{key:"price",props:H,class:"wrap-column"},{default:a(()=>[g(u(t(F)(H.row.price)),1)]),_:2},1032,["props"]),e(L,{key:"action",props:H},{default:a(()=>[l("div",Ii,[e(M,{disabled:!t(Fe)(Q.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:N[9]||(N[9]=J(()=>{},["stop"]))},{default:a(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[Y((w(),D(ee,{clickable:"",onClick:J(R=>t(K).get(Q.route("admin.product.duplicate",H.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:a(()=>N[11]||(N[11]=[g("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]]),Y((w(),D(ee,{clickable:"",onClick:J(R=>t(K).get(Q.route("admin.product.edit",H.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:a(()=>N[12]||(N[12]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]]),Q.$page.props.auth.user.role==Q.$CONSTANTS.USER_ROLE_ADMIN?Y((w(),D(ee,{key:0,onClick:J(R=>A(H.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>N[13]||(N[13]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]]):B("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class"]),Y(e(ve,{props:H},{default:a(()=>[e(L,{colspan:"100%"},{default:a(()=>[e(V,{name:"notes"}),g(" "+u(H.row.description),1)]),_:2},1024)]),_:2},1032,["props"]),[[Fa,H.expand]])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[y.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:o},{default:a(()=>[l("div",Vi,[e(se,{modelValue:v.type,"onUpdate:modelValue":[N[3]||(N[3]=H=>v.type=H),h],class:"custom-select col-xs-4 col-sm-2",options:r,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{modelValue:v.status,"onUpdate:modelValue":[N[4]||(N[4]=H=>v.status=H),h],class:"custom-select col-xs-4 col-sm-2",options:i,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{modelValue:v.stock_status,"onUpdate:modelValue":[N[5]||(N[5]=H=>v.stock_status=H),h],class:"custom-select col-xs-4 col-sm-2",options:d,label:"Status Stok",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{modelValue:v.category_id,"onUpdate:modelValue":[N[6]||(N[6]=H=>v.category_id=H),h],label:"Kategori",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:t(T),"map-options":"",dense:"","emit-value":"",onFilter:t(P),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),e(se,{modelValue:v.supplier_id,"onUpdate:modelValue":[N[7]||(N[7]=H=>v.supplier_id=H),h],label:"Pemasok",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:t(C),"map-options":"",dense:"","emit-value":"",onFilter:t(U),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:v.search,"onUpdate:modelValue":N[8]||(N[8]=H=>v.search=H),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Ri=Object.freeze(Object.defineProperty({__proto__:null,default:Mi},Symbol.toStringTag,{value:"Module"})),Ga={__name:"UpdatePasswordForm",setup(m){const n=S(!1),p=S(null),o=S(null),s=Ce({current_password:"",password:"",password_confirmation:""}),f=()=>{s.clearErrors(),s.post(route("admin.profile.update-password"),{preserveScroll:!0,onSuccess:()=>s.reset(),onError:()=>{s.errors.password&&(s.reset("password","password_confirmation"),p.value.focus()),s.errors.current_password&&(s.reset("current_password"),o.value.focus())}})};return(r,i)=>(w(),D(Pe,{class:"row",onSubmit:J(f,["prevent"]),onValidationError:t(Ee)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,null,{default:a(()=>[i[6]||(i[6]=l("div",{class:"text-h6 q-my-xs text-subtitle1"},"Perbarui Kata Sandi",-1)),i[7]||(i[7]=l("p",{class:"text-caption text-grey-9"}," Pastikan akun anda menggunakan kata sandi yang kuat agar akun tetap aman. ",-1)),e(X,{modelValue:t(s).current_password,"onUpdate:modelValue":i[1]||(i[1]=d=>t(s).current_password=d),type:n.value?"text":"password",label:"Kata Sandi Sekarang",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.current_password,"error-message":t(s).errors.current_password,rules:[d=>d&&d.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:a(()=>[e(M,{dense:"",flat:"",round:"",onClick:i[0]||(i[0]=d=>n.value=!n.value)},{default:a(()=>[e(V,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(X,{modelValue:t(s).password,"onUpdate:modelValue":i[3]||(i[3]=d=>t(s).password=d),type:n.value?"text":"password",label:"Kata Sandi Baru",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.password,"error-message":t(s).errors.password,rules:[d=>d&&d.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:a(()=>[e(M,{dense:"",flat:"",round:"",onClick:i[2]||(i[2]=d=>n.value=!n.value)},{default:a(()=>[e(V,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(X,{modelValue:t(s).password_confirmation,"onUpdate:modelValue":i[5]||(i[5]=d=>t(s).password_confirmation=d),type:n.value?"text":"password",label:"Konfirmasi Kata Sandi",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.password_confirmation,"error-message":t(s).errors.password_confirmation,rules:[d=>d&&d.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:a(()=>[e(M,{dense:"",flat:"",round:"",onClick:i[4]||(i[4]=d=>n.value=!n.value)},{default:a(()=>[e(V,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"])]),_:1}),e(ae,null,{default:a(()=>[e(M,{type:"submit",label:"Perbarui Kata Sandi",color:"primary",icon:"save",disable:t(s).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},Ui=Object.freeze(Object.defineProperty({__proto__:null,default:Ga},Symbol.toStringTag,{value:"Module"})),Xa={__name:"UpdateProfileInformationForm",setup(m){const p=pe().props.auth.user,o=Ce({name:p.name,username:p.username,role:window.CONSTANTS.USER_ROLES[p.role]}),s=()=>Ne({form:o,url:route("admin.profile.update")});return(f,r)=>(w(),D(Pe,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(Ee)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,null,{default:a(()=>[r[3]||(r[3]=l("div",{class:"text-h6 q-my-xs text-subtitle1"},"Profil Saya",-1)),r[4]||(r[4]=l("p",{class:"text-caption text-grey-9"},"Perbarui profil anda.",-1)),e(X,{modelValue:t(o).username,"onUpdate:modelValue":r[0]||(r[0]=i=>t(o).username=i),label:"ID Pengguna",disable:t(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"]),e(X,{modelValue:t(o).name,"onUpdate:modelValue":r[1]||(r[1]=i=>t(o).name=i),modelModifiers:{trim:!0},label:"Nama",disable:t(o).processing,error:!!t(o).errors.name,"error-message":t(o).errors.name,rules:[i=>i&&i.length>0||"Name harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(X,{modelValue:t(o).role,"onUpdate:modelValue":r[2]||(r[2]=i=>t(o).role=i),label:"Hak Akses",disable:t(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"])]),_:1}),e(ae,null,{default:a(()=>[e(M,{type:"submit",label:"Perbarui Profil Saya",icon:"save",color:"primary",disable:t(o).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},Ei=Object.freeze(Object.defineProperty({__proto__:null,default:Xa},Symbol.toStringTag,{value:"Module"})),Ai={class:"q-pa-sm"},Di={class:"row justify-center"},ji={class:"col col-lg-6"},Ca="Profil Saya",Bi={__name:"Edit",setup(m){return(n,p)=>{const o=z("i-head"),s=z("authenticated-layout");return w(),O(W,null,[e(o,{title:Ca}),e(s,null,{title:a(()=>[g(u(Ca))]),default:a(()=>[l("div",Ai,[l("div",Di,[l("div",ji,[e(Xa,{class:"q-mb-md"}),e(Ga)])])])]),_:1})],64)}}},Li=Object.freeze(Object.defineProperty({__proto__:null,default:Bi},Symbol.toStringTag,{value:"Module"}));function zi(){const m=S(new Date);let n=null;const p=()=>{m.value=new Date};we(()=>{n=setInterval(p,1e3)}),Ya(()=>{n&&clearInterval(n)});const o=te(()=>m.value.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})),s=te(()=>m.value.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}));return{currentDate:o,currentTime:s}}const Hi={class:"text-grey-8"},Za={__name:"DigitalClock",setup(m){const{currentDate:n,currentTime:p}=zi();return(o,s)=>(w(),O("div",Hi,u(t(n))+" - "+u(t(p)),1))}},Fi={class:"row q-col-gutter-md items-center q-px-md q-py-sm"},Yi={class:"col-12 col-sm-6 col-md-4"},Ki={class:"text-bold"},Qi={key:0,class:"col-12 col-md-4 text-center"},Wi={class:"text-h6 text-weight-bold text-grey-8"},Ji={key:0,class:"text-subtitle2 text-weight-bold text-grey-8"},Gi={key:1,class:"text-subtitle2 text-weight-bold text-grey-8"},Xi={class:"text-weight-bold"},el={__name:"TransactionHeader",props:{user:{type:Object,required:!0},company:{type:Object,required:!0}},emits:["edit-supplier"],setup(m){return(n,p)=>(w(),O("div",Fi,[l("div",Yi,[l("div",Ki,[p[1]||(p[1]=g(" Info Supplier ")),e(M,{icon:"edit",flat:"",rounded:"",dense:"",color:"grey",size:"sm",onClick:p[0]||(p[0]=o=>n.$emit("edit-supplier"))})]),p[2]||(p[2]=l("div",{class:"text-grey-8 text-italic"},"Supplier belum dipilih.",-1))]),n.$q.screen.gt.sm?(w(),O("div",Qi,[l("div",Wi,u(m.company.name),1),m.company.address?(w(),O("div",Ji,u(m.company.address),1)):B("",!0),m.company.phone?(w(),O("div",Gi,u(m.company.phone),1)):B("",!0)])):B("",!0),l("div",{class:be(["col-12 col-sm-6 col-md-4",n.$q.screen.gt.sm?"text-right":""])},[l("div",Xi,u(m.user.username)+" - "+u(m.user.name),1),e(Za)],2)]))}},Zi=Object.freeze(Object.defineProperty({__proto__:null,default:el},Symbol.toStringTag,{value:"Module"})),eu={class:"text-weight-medium"},tu={class:"text-caption text-grey-6"},au={class:"text-weight-medium"},lu={class:"text-weight-bold text-primary"},tl={__name:"ItemsListTable",props:{items:{type:Array,required:!0},columns:{type:Array,required:!0}},emits:["update-quantity","remove-item"],setup(m){return(n,p)=>(w(),D(ke,{dense:"",rows:m.items,columns:m.columns,"row-key":"id",flat:"",square:"",bordered:"",class:"bg-grey-1 pos-table q-pa-none col","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48},{header:a(o=>[e(ve,{props:o,class:"bg-grey-4"},{default:a(()=>[(w(!0),O(W,null,st(o.cols,s=>(w(),D(Tt,{key:s.name,props:o,class:"text-weight-bold text-grey-8"},{default:a(()=>[g(u(s.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(o=>[e(ve,{props:o,class:"hover-highlight"},{default:a(()=>[e(L,{key:"name",props:o,class:"text-left"},{default:a(()=>[l("div",eu,u(o.row.name),1),l("div",tu," Barcode: "+u(o.row.barcode),1)]),_:2},1032,["props"]),e(L,{key:"price",props:o,class:"text-center"},{default:a(()=>[l("div",au,[e(qe,{"model-value":o.row.price,dense:"",style:{width:"80px","text-align":"right"}},null,8,["model-value"])])]),_:2},1032,["props"]),e(L,{key:"quantity",props:o,class:"text-center"},{default:a(()=>[e(qe,{"model-value":o.row.quantity,dense:"",style:{width:"80px","text-align":"right"},"onUpdate:modelValue":s=>n.$emit("update-quantity",{id:o.row.id,value:s}),onKeyup:p[0]||(p[0]=$t(s=>s.target.blur(),["enter"]))},null,8,["model-value","onUpdate:modelValue"])]),_:2},1032,["props"]),e(L,{key:"subtotal",props:o,class:"text-center"},{default:a(()=>[l("div",lu," Rp. "+u(t(F)(o.row.price*o.row.quantity)),1)]),_:2},1032,["props"]),e(L,{key:"action",props:o,class:"text-center"},{default:a(()=>[e(M,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:s=>n.$emit("remove-item",o.row)},{default:a(()=>[e(El,null,{default:a(()=>p[1]||(p[1]=[g("Hapus Item")])),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]))}},ou=Object.freeze(Object.defineProperty({__proto__:null,default:tl},Symbol.toStringTag,{value:"Module"})),nu={class:"column"},su={class:"row justify-end items-center q-gutter-sm"},ru={class:"text-h4 text-weight-bold text-primary"},iu={class:"text-caption text-grey-6 q-mt-xs text-right"},uu={class:"q-py-sm"},du={class:"q-py-sm"},al={__name:"TransactionSummary",props:{subtotal:{type:Number,required:!0},itemCount:{type:Number,required:!0},barcode:{type:String,required:!0},isProcessing:{type:Boolean,default:!1},formProcessing:{type:Boolean,default:!1}},emits:["update:barcode","add-item","process-payment"],setup(m,{expose:n}){const p=S(null);we(()=>{o()});const o=()=>{Yt(()=>{p.value&&p.value.focus()})};return n({focusOnBarcodeInput:o}),(s,f)=>(w(),O("div",nu,[l("div",su,[f[3]||(f[3]=l("span",{class:"text-weight-bold text-grey-8"},"GRAND TOTAL: Rp.",-1)),l("span",ru,u(t(F)(m.subtotal)),1)]),l("div",iu,u(m.itemCount)+" item(s) ",1),l("div",uu,[e(X,{ref_key:"barcodeInputRef",ref:p,"model-value":m.barcode,"onUpdate:modelValue":f[0]||(f[0]=r=>s.$emit("update:barcode",r)),placeholder:"<Input Barcode>",outlined:"",square:"",class:"col bg-white",onKeyup:f[1]||(f[1]=$t(r=>s.$emit("add-item"),["enter"])),loading:m.isProcessing,clearable:"",autofocus:""},{prepend:a(()=>[e(V,{name:"qr_code_scanner"})]),_:1},8,["model-value","loading"])]),l("div",du,[e(M,{class:"full-width",label:"Bayar",color:"primary",icon:"payment",onClick:f[2]||(f[2]=r=>s.$emit("process-payment")),disable:m.itemCount===0,loading:m.formProcessing},null,8,["disable","loading"])])]))}},mu=Object.freeze(Object.defineProperty({__proto__:null,default:al},Symbol.toStringTag,{value:"Module"})),cu={class:"q-ml-sm"},ll={__name:"ConfirmDeleteDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,default:null}},emits:["update:modelValue","confirm"],setup(m){return(n,p)=>(w(),D(mt,{"model-value":m.modelValue,"onUpdate:modelValue":p[1]||(p[1]=o=>n.$emit("update:modelValue",o)),persistent:""},{default:a(()=>[e(ie,null,{default:a(()=>[e(ae,{class:"row items-center"},{default:a(()=>{var o;return[e(nt,{icon:"delete",color:"negative","text-color":"white"}),l("span",cu,'Hapus item "'+u((o=m.item)==null?void 0:o.name)+'"?',1)]}),_:1}),e(ut,{align:"right"},{default:a(()=>[Y(e(M,{flat:"",label:"Batal",color:"primary"},null,512),[[re]]),Y(e(M,{flat:"",label:"Hapus",color:"negative",onClick:p[0]||(p[0]=o=>n.$emit("confirm"))},null,512),[[re]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},pu=Object.freeze(Object.defineProperty({__proto__:null,default:ll},Symbol.toStringTag,{value:"Module"})),ol={__name:"SupplierEditorDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","save"],setup(m,{emit:n}){const p=n,o=S(""),s=S(""),f=()=>{p("save",{name:o.value,address:s.value})};return(r,i)=>(w(),D(mt,{"model-value":m.modelValue,"onUpdate:modelValue":i[2]||(i[2]=d=>r.$emit("update:modelValue",d)),persistent:""},{default:a(()=>[e(ie,{style:{width:"400px"}},{default:a(()=>[e(ae,{class:"q-py-none q-pt-lg"},{default:a(()=>i[3]||(i[3]=[l("div",{class:"text-bold text-grey-8"},"Edit Info Supplier",-1)])),_:1}),e(ae,null,{default:a(()=>[e(X,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=d=>o.value=d),label:"Nama Supplier"},null,8,["modelValue"]),e(X,{modelValue:s.value,"onUpdate:modelValue":i[1]||(i[1]=d=>s.value=d),label:"Alamat",type:"textarea",autogrow:"",counter:"",maxlength:"200",class:"q-mt-md"},null,8,["modelValue"])]),_:1}),e(ut,{align:"right"},{default:a(()=>[Y(e(M,{flat:"",label:"Batal",color:"primary"},null,512),[[re]]),Y(e(M,{flat:"",label:"Simpan",color:"primary",onClick:f},null,512),[[re]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},fu=Object.freeze(Object.defineProperty({__proto__:null,default:ol},Symbol.toStringTag,{value:"Module"})),gu={class:"q-gutter-sm"},bu={class:"row col **grow**"},_u={class:"col-12 q-pa-sm column"},vu={class:"row"},yu={class:"col-xs-12 col-md-8 q-pa-sm"},wu={class:"col-md-4 col-xs-12 q-pa-sm"},ku={__name:"Editor",setup(m){const n=ye(),p=pe(),o=S(null),s=Ce({id:null,formatted_id:"Diisi Otomatis",customer_name:"Pelanggan Umum",datetime:rt().format("YYYY-MM-DD HH:mm:ss"),status:"pending",payment_status:"unpaid",items:[],subtotal:0,tax:0,total:0,notes:""}),f=S(""),r=S(!1),i=S(!1),d=S(null),b=S(!1),y=[{name:"name",required:!0,label:"Item Information",align:"left",field:"name",sortable:!1,style:"width: 300px"},{name:"price",label:"Harga",align:"center",field:"price",sortable:!1,style:"width: 120px"},{name:"quantity",label:"Quantity",align:"center",field:"quantity",sortable:!1,style:"width: 100px"},{name:"subtotal",label:"SubTotal",align:"center",sortable:!1,style:"width: 140px"},{name:"action",label:"Action",align:"center",sortable:!1,style:"width: 80px"}],k=te(()=>{const q=s.items.reduce((h,T)=>h+T.price*T.quantity,0);return s.subtotal=q,s.total=q+s.tax,q}),c=async()=>{if(!f.value.trim()){n.notify({message:"Silakan masukkan barcode",color:"warning",position:"bottom"});return}let q=1,h=f.value.trim(),T=null;const P=h.split("*");if(P.length===3){const U=parseInt(P[0]),$=parseFloat(P[2]);!isNaN(U)&&U>0?q=U:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"bottom"}),!isNaN($)&&$>=0?T=$:n.notify({message:"Harga tidak valid. Menggunakan harga produk default.",color:"warning",position:"bottom"}),h=P[1]}else if(P.length===2){const U=parseInt(P[0]);!isNaN(U)&&U>0?q=U:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"bottom"}),h=P[1]}const C=s.items.findIndex(U=>U.barcode===h);if(C!==-1)s.items[C].quantity+=q,n.notify({message:`Quantity ${s.items[C].name} bertambah ${q}`,color:"positive",position:"bottom"});else{r.value=!0;try{await new Promise(E=>setTimeout(E,300));const $={...{id:Date.now(),name:`Item ${h}`,barcode:h,price:T!==null?T:Math.floor(Math.random()*5e4)+1e4},quantity:q};s.items.push($),n.notify({message:`${$.name} berhasil ditambahkan`,color:"positive",position:"bottom",icon:"add_shopping_cart"})}catch(U){console.error("Error fetching item:",U),n.notify({message:"Item tidak ditemukan atau gagal menambahkan item",color:"negative",position:"bottom"})}finally{r.value=!1}}f.value="",await Yt(),o.value.focusOnBarcodeInput()},v=q=>{d.value=q,i.value=!0},x=()=>{if(d.value){const q=s.items.findIndex(h=>h.id===d.value.id);if(q!==-1){const h=s.items.splice(q,1)[0];n.notify({message:`${h.name} dihapus dari keranjang`,color:"info",position:"bottom",icon:"remove_shopping_cart"})}d.value=null}},_=(q,h)=>{const T=s.items.find(P=>P.id===q);T&&h>0&&(T.quantity=parseInt(h)||1)},A=()=>{if(s.items.length===0){n.notify({message:"Tidak ada item dalam keranjang",color:"warning",position:"bottom"});return}s.datetime=rt().format("YYYY-MM-DD HH:mm:ss"),s.status="completed",s.payment_status="paid",Ne({form:s,url:route("admin.transaction.save")})};return(q,h)=>{const T=z("i-head"),P=z("authenticated-layout");return w(),O(W,null,[e(T,{title:"Order Pembelian"}),e(P,null,{title:a(()=>h[8]||(h[8]=[g("Order Pembelian")])),"left-button":a(()=>[l("div",gu,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:h[0]||(h[0]=C=>t(K).get(q.route("admin.purchase-order.index")))})])]),default:a(()=>[e(xe,{class:"bg-grey-2 q-pa-sm column fit"},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"full-width col column"},{default:a(()=>[e(el,{user:t(p).props.auth.user,company:t(p).props.company,onEditSupplier:h[1]||(h[1]=C=>b.value=!0)},null,8,["user","company"]),l("div",bu,[l("div",_u,[e(tl,{items:t(s).items,columns:y,onUpdateQuantity:h[2]||(h[2]=({id:C,value:U})=>_(C,U)),onRemoveItem:v},null,8,["items"])])]),l("div",vu,[l("div",yu,[e(X,{modelValue:t(s).notes,"onUpdate:modelValue":h[3]||(h[3]=C=>t(s).notes=C),type:"textarea",placeholder:"Tambahkan catatan transaksi...",square:"",outlined:"",class:"bg-white",rows:3,counter:"",maxlength:"200",error:!!t(s).errors.notes,"error-message":t(s).errors.notes,style:{"margin-bottom":"16px"},"hide-bottom-space":""},{prepend:a(()=>[e(V,{name:"note"})]),_:1},8,["modelValue","error","error-message"])]),l("div",wu,[e(al,{ref_key:"transactionSummaryRef",ref:o,barcode:f.value,"onUpdate:barcode":h[4]||(h[4]=C=>f.value=C),subtotal:k.value,"item-count":t(s).items.length,"is-processing":r.value,"form-processing":t(s).processing,onAddItem:h[5]||(h[5]=C=>c(f.value)),onProcessPayment:A},null,8,["barcode","subtotal","item-count","is-processing","form-processing"])])])]),_:1}),e(ll,{modelValue:i.value,"onUpdate:modelValue":h[6]||(h[6]=C=>i.value=C),item:d.value,onConfirm:x},null,8,["modelValue","item"]),e(ol,{modelValue:b.value,"onUpdate:modelValue":h[7]||(h[7]=C=>b.value=C)},null,8,["modelValue"])]),_:1})]),_:1})],64)}}},hu=it(ku,[["__scopeId","data-v-4d8fff94"]]),$u=Object.freeze(Object.defineProperty({__proto__:null,default:hu},Symbol.toStringTag,{value:"Module"})),Su={class:"col col-lg-6 q-pa-sm"},xu={__name:"Editor_v1",setup(m){const n=pe(),p=(n.props.data.id?"Edit":"Tambah")+" Order Pembelian",{filteredSuppliers:o,filterSupplierFn:s}=Jt(n.props.suppliers,!1),f=Re(window.CONSTANTS.PURCHASE_ORDER_STATUSES),r=Re(window.CONSTANTS.PURCHASE_ORDER_PAYMENT_STATUSES),i=Re(window.CONSTANTS.PURCHASE_ORDER_DELIVERY_STATUSES),d=Ce({id:n.props.data.id,formatted_id:n.props.data.formatted_id??"Diisi Otomatis",supplier_id:n.props.data.supplier_id,datetime:rt(n.props.data.datetime).format("YYYY-MM-DD HH:mm:ss"),status:n.props.data.status,payment_status:n.props.data.payment_status,delivery_status:n.props.data.delivery_status,total:parseFloat(n.props.data.total),total_paid:parseFloat(n.props.data.total_paid),notes:n.props.data.notes}),b=()=>Ne({form:d,url:route("admin.purchase-order.save")});return(y,k)=>{const c=z("i-head"),v=z("authenticated-layout");return w(),O(W,null,[e(c,{title:p}),e(v,null,{title:a(()=>[g(u(p))]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",Su,[e(Pe,{class:"row",onSubmit:J(b,["prevent"]),onValidationError:t(Ee)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[Y(l("input",{type:"hidden",name:"id","onUpdate:modelValue":k[0]||(k[0]=x=>t(d).id=x)},null,512),[[Ye,t(d).id]]),e(X,{modelValue:t(d).formatted_id,"onUpdate:modelValue":k[1]||(k[1]=x=>t(d).formatted_id=x),modelModifiers:{trim:!0},label:"ID Order",readonly:"","hide-bottom-space":""},null,8,["modelValue"]),e(St,{modelValue:t(d).datetime,"onUpdate:modelValue":k[2]||(k[2]=x=>t(d).datetime=x),label:"Waktu",error:!!t(d).errors.datetime,disable:t(d).processing},null,8,["modelValue","error","disable"]),e(se,{modelValue:t(d).status,"onUpdate:modelValue":k[3]||(k[3]=x=>t(d).status=x),label:"Status Order",options:t(f),"map-options":"","emit-value":"",error:!!t(d).errors.status,disable:t(d).processing,errorMessage:t(d).errors.status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(se,{modelValue:t(d).payment_status,"onUpdate:modelValue":k[4]||(k[4]=x=>t(d).payment_status=x),label:"Status Pembayaran",options:t(r),"map-options":"","emit-value":"",error:!!t(d).errors.payment_status,disable:t(d).processing,errorMessage:t(d).errors.payment_status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(se,{modelValue:t(d).delivery_status,"onUpdate:modelValue":k[5]||(k[5]=x=>t(d).delivery_status=x),label:"Status Pengiriman",options:t(i),"map-options":"","emit-value":"",error:!!t(d).errors.delivery_status,disable:t(d).processing,errorMessage:t(d).errors.delivery_status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(se,{modelValue:t(d).supplier_id,"onUpdate:modelValue":k[6]||(k[6]=x=>t(d).supplier_id=x),label:"Pemasok","use-input":"","input-debounce":"300",clearable:"",options:t(o),"map-options":"","emit-value":"",errorMessage:t(d).errors.supplier_id,onFilter:t(s),error:!!t(d).errors.supplier_id,disable:t(d).processing,"hide-bottom-space":""},{"no-option":a(()=>[e(ee,null,{default:a(()=>[e(I,null,{default:a(()=>k[9]||(k[9]=[g("Pemasok tidak ditemukan.")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(M,{dense:"",icon:"add",type:"button",color:"primary",disable:t(d).processing,label:"Pemasok Baru"},null,8,["disable"]),e(X,{modelValue:t(d).notes,"onUpdate:modelValue":k[7]||(k[7]=x=>t(d).notes=x),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(d).processing,error:!!t(d).errors.notes,"error-message":t(d).errors.notes,rules:[x=>x&&x.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(M,{icon:"create",type:"submit",label:"Buat Order",color:"primary",disable:t(d).processing},null,8,["disable"]),e(M,{icon:"cancel",label:"Batal",disable:t(d).processing,onClick:k[8]||(k[8]=x=>t(K).get(y.route("admin.purchase-order.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Vu=Object.freeze(Object.defineProperty({__proto__:null,default:xu},Symbol.toStringTag,{value:"Module"})),Cu={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},qu={class:"q-pa-sm"},Tu={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Pu={key:0},Nu={key:0},Ou={key:1},Iu={class:"flex justify-end"},qa="Order Pembelian",Mu={__name:"Index",setup(m){const n=ye(),p=S(!1),o=S([]),s=S(!0),f=S(null),r=S(null),i=Be(r),d=Nt(),b=Ot(),y=[{label:"Semua Tahun",value:"all"},{label:`${d}`,value:d},...bt(d-2,d-1).reverse()],k=[{value:"all",label:"Semua Bulan"},..._t()],c=Me({search:"",category_id:"all",year:d,month:b,...Oe()}),v=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),x=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];we(()=>{A()});const _=T=>ze({message:`Hapus transaksi #-${T.id}?`,url:route("admin.purchase-order.delete",T.id),fetchItemsCallback:A,loading:s}),A=(T=null)=>{Ie({pagination:v,filter:c,props:T,rows:o,url:route("admin.purchase-order.data"),loading:s,tableRef:f})},q=()=>{A()},h=te(()=>n.screen.gt.sm?x:x.filter(T=>T.name==="datetime"||T.name==="action"));return Ve(()=>c.year,T=>{T===null&&(c.month=null)}),(T,P)=>{const C=z("i-head"),U=z("authenticated-layout");return w(),O(W,null,[e(C,{title:qa}),e(U,null,je({title:a(()=>[g(u(qa))]),"right-button":a(()=>[e(M,{icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:P[0]||(P[0]=$=>p.value=!p.value)},null,8,["icon"]),e(M,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:P[1]||(P[1]=$=>t(K).get(T.route("admin.purchase-order.add")))})]),default:a(()=>[l("div",qu,[e(ke,{ref_key:"tableRef",ref:f,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":P[6]||(P[6]=$=>v.value=$),filter:c.search,loading:s.value,columns:h.value,rows:o.value,"rows-per-page-options":[10,25,50],style:He({height:t(i)}),onRequest:A,"binary-state-sort":""},{loading:a(()=>[e(Ue,{showing:"",color:"red"})]),"no-data":a(({icon:$,message:E,filter:Q})=>[l("div",Tu,[l("span",null,u(E)+" "+u(Q?" with term "+Q:""),1)])]),body:a($=>[e(ve,{props:$},{default:a(()=>[e(L,{key:"datetime",props:$,class:"wrap-column"},{default:a(()=>[l("div",null,[g(" #"+u($.row.id)+" - ",1),e(V,{name:"calendar_today"}),g(" "+u($.row.datetime),1)]),e(Mt,null,{default:a(()=>[e(V,{name:"category"}),g(" "+u($.row.type_label),1)]),_:2},1024),$.row.ref_type?(w(),O("div",Pu,[e(V,{name:"link"}),g(" "+u($.row.ref_type_label)+" #"+u($.row.ref_id),1)])):B("",!0),t(n).screen.gt.sm?B("",!0):(w(),O(W,{key:1},[$.row.notes?(w(),O("div",Nu,[e(V,{name:"notes"}),g(" "+u($.row.notes),1)])):B("",!0),$.row.category?(w(),O("div",Ou,[e(V,{name:"category"}),g(" "+u($.row.category.name),1)])):B("",!0),l("div",null,[e(V,{name:"money"}),g(" Rp. "+u(t(et)($.row.amount)+t(F)($.row.amount)),1)])],64))]),_:2},1032,["props"]),e(L,{key:"account",props:$},{default:a(()=>{var E;return[g(u((E=$.row.account)==null?void 0:E.name),1)]}),_:2},1032,["props"]),e(L,{key:"notes",props:$},{default:a(()=>[g(u($.row.notes),1)]),_:2},1032,["props"]),e(L,{key:"amount",props:$,style:{"text-align":"right"}},{default:a(()=>[g(u(t(et)($.row.amount)+t(F)($.row.amount)),1)]),_:2},1032,["props"]),e(L,{key:"action",props:$},{default:a(()=>[l("div",Iu,[e(M,{disabled:!t(Fe)(T.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:P[5]||(P[5]=J(()=>{},["stop"]))},{default:a(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[Y((w(),D(ee,{onClick:J(E=>_($.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>P[7]||(P[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",Cu,[e(se,{modelValue:c.year,"onUpdate:modelValue":[P[2]||(P[2]=$=>c.year=$),q],options:y,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(se,{modelValue:c.month,"onUpdate:modelValue":[P[3]||(P[3]=$=>c.month=$),q],options:k,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:c.year===null},null,8,["modelValue","disable"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:c.search,"onUpdate:modelValue":P[4]||(P[4]=$=>c.search=$),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Ru=Object.freeze(Object.defineProperty({__proto__:null,default:Mu},Symbol.toStringTag,{value:"Module"})),Uu={class:"q-gutter-sm"},Eu={__name:"Detail",setup(m){const o=`Rincian ${pe().props.data.formatted_id}`;return(s,f)=>{const r=z("i-head"),i=z("authenticated-layout");return w(),O(W,null,[e(r,{title:o}),e(i,null,{title:a(()=>[g(u(o))]),"left-button":a(()=>[l("div",Uu,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:f[0]||(f[0]=d=>s.$inertia.get(s.route("admin.sales-order.index")))})])]),_:1})],64)}}},Au=Object.freeze(Object.defineProperty({__proto__:null,default:Eu},Symbol.toStringTag,{value:"Module"})),Du={__name:"CustomerAutocomplete",props:{modelValue:{type:[String,Number,null],default:null},label:{type:String,default:"Cari Pelanggan"},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},disable:{type:Boolean,default:!1}},emits:["update:modelValue","customerSelected"],setup(m,{emit:n}){const p=m,o=n,s=S(p.modelValue),f=S([]);let r=null;Ve(()=>p.modelValue,d=>{s.value=d}),Ve(s,d=>{o("update:modelValue",d);const b=f.value.find(y=>y.value===d);b?o("customerSelected",b.data):o("customerSelected",null)});const i=(d,b)=>{if(d.length<2){b(()=>{f.value=[]});return}r&&clearTimeout(r),r=setTimeout(()=>{kt.get(`/web-api/customers?q=${d}`).then(y=>{const k=y.data.data.map(c=>({label:`${c.username} - ${c.name}`,value:c.id,data:c}));b(()=>{f.value=k})}).catch(y=>{console.error("Gagal mengambil data pelanggan:",y),b(()=>{f.value=[]})})},500)};return(d,b)=>(w(),D(se,{dense:"",modelValue:s.value,"onUpdate:modelValue":b[0]||(b[0]=y=>s.value=y),"use-input":"","input-debounce":"0",label:m.label,options:f.value,onFilter:i,hint:"Ketik minimal 2 karakter untuk mencari",clearable:"",behavior:"menu",error:m.error,"error-message":m.errorMessage,disable:m.disable,"hide-bottom-space":"","emit-value":"","map-options":""},null,8,["modelValue","label","options","error","error-message","disable"]))}},ju={class:"row q-col-gutter-md items-center q-px-md q-py-sm"},Bu={class:"col-12 col-sm-6 col-md-4"},Lu={key:0,class:"text-grey q-mt-xs"},zu={key:0,class:"col-12 col-md-4 text-center"},Hu={class:"text-h6 text-weight-bold text-grey-8"},Fu={key:0,class:"text-subtitle2 text-weight-bold text-grey-8"},Yu={key:1,class:"text-subtitle2 text-weight-bold text-grey-8"},Ku={class:"text-weight-bold"},nl={__name:"TransactionHeader",props:{user:{type:Object,required:!0},company:{type:Object,required:!0},formProcessing:{type:Boolean,default:!1}},setup(m){const n=S({id:null,data:null});function p(o){n.value.data=o}return(o,s)=>(w(),O("div",ju,[l("div",Bu,[l("div",null,[e(Du,{class:"custom-select",modelValue:n.value.id,"onUpdate:modelValue":s[0]||(s[0]=f=>n.value.id=f),label:"Pelanggan",disable:m.formProcessing,onCustomerSelected:p},null,8,["modelValue","disable"]),n.value.data?(w(),O("div",Lu," Saldo: Rp. "+u(t(F)(n.value.data.balance)),1)):B("",!0)])]),o.$q.screen.gt.sm?(w(),O("div",zu,[l("div",Hu,u(m.company.name),1),m.company.address?(w(),O("div",Fu,u(m.company.address),1)):B("",!0),m.company.phone?(w(),O("div",Yu,u(m.company.phone),1)):B("",!0)])):B("",!0),o.$q.screen.gt.sm?(w(),O("div",{key:1,class:be(["col-12 col-sm-6 col-md-4",o.$q.screen.gt.sm?"text-right":"text-center"])},[l("div",Ku,u(m.user.username)+" - "+u(m.user.name),1),e(Za)],2)):B("",!0)]))}},Qu=Object.freeze(Object.defineProperty({__proto__:null,default:nl},Symbol.toStringTag,{value:"Module"})),Wu={class:"text-weight-medium"},Ju={class:"text-caption text-grey-6"},Gu={class:"column items-end"},Xu={class:"text-weight-bold text-primary"},Zu={class:"text-caption text-grey-6 text-italic"},sl={__name:"ItemsListTable",props:{items:{type:Array,required:!0}},emits:["update-quantity","remove-item","edit-item"],setup(m){ye();const n=[{name:"name",required:!0,label:"Item",align:"left",field:"name",sortable:!1},{name:"subtotal_price",label:"Total",align:"right",sortable:!1},{name:"action",label:"",align:"right",sortable:!1}];return(p,o)=>(w(),D(ke,{dense:"",rows:m.items,columns:n,"row-key":"id",flat:"",square:"",bordered:"",class:"bg-grey-1 pos-table q-pa-none col full-height-table","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48},{header:a(s=>[e(ve,{props:s,class:"bg-grey-4"},{default:a(()=>[(w(!0),O(W,null,st(s.cols,f=>(w(),D(Tt,{key:f.name,props:s,class:"text-weight-bold text-grey-8"},{default:a(()=>[g(u(f.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(s=>[e(ve,{props:s,class:"hover-highlight"},{default:a(()=>[e(L,{key:"name",props:s,class:"text-left"},{default:a(()=>[l("div",Wu,u(s.row.product_name),1),l("div",Ju,[g(u(s.row.product_barcode),1),o[0]||(o[0]=l("br",null,null,-1)),g(" "+u(s.row.product_description),1)])]),_:2},1032,["props"]),e(L,{key:"subtotal_price",props:s,class:"text-right"},{default:a(()=>[l("div",Gu,[l("div",Xu," Rp. "+u(t(F)(s.row.subtotal_price)),1),l("div",Zu,u(s.row.quantity)+" x Rp. "+u(t(F)(s.row.price)),1)])]),_:2},1032,["props"]),e(L,{key:"action",props:s,class:"text-right"},{default:a(()=>[e(M,{icon:"edit",color:"grey",flat:"",round:"",size:"xs",onClick:f=>p.$emit("edit-item",s.row)},null,8,["onClick"]),e(M,{icon:"delete",color:"negative",flat:"",round:"",size:"xs",onClick:f=>p.$emit("remove-item",s.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows"]))}},ed=Object.freeze(Object.defineProperty({__proto__:null,default:sl},Symbol.toStringTag,{value:"Module"})),td={class:"column"},ad={class:"row justify-end items-center q-gutter-sm"},ld={class:"text-h4 text-weight-bold text-primary"},od={class:"text-caption text-grey-6 q-mt-xs text-right"},nd={class:"q-py-xs"},sd={class:"q-py-xs"},rl={__name:"TransactionSummary",props:{subtotal:{type:Number,required:!0},itemCount:{type:Number,required:!0},barcode:{type:String,required:!0},isProcessing:{type:Boolean,default:!1},formProcessing:{type:Boolean,default:!1},isProductBrowserOpen:{type:Boolean,default:!1}},emits:["update:barcode","add-item","process-payment"],setup(m,{expose:n,emit:p}){const o=S(null),s=m,f=p;we(()=>{r()});const r=()=>{Yt(()=>{o.value&&o.value.focus()})},i=()=>{console.log(s.isProductBrowserOpen),s.isProductBrowserOpen||f("addItem")};return n({focusOnBarcodeInput:r}),(d,b)=>(w(),O("div",td,[l("div",ad,[b[3]||(b[3]=l("span",{class:"text-weight-bold text-grey-8"},"GRAND TOTAL: Rp.",-1)),l("span",ld,u(t(F)(m.subtotal)),1)]),l("div",od,u(m.itemCount)+" item(s) ",1),l("div",nd,[e(X,{ref_key:"barcodeInputRef",ref:o,"model-value":m.barcode,"onUpdate:modelValue":b[0]||(b[0]=y=>d.$emit("update:barcode",y)),placeholder:"Qty*Kode*Harga",outlined:"",class:"col bg-white",onKeyup:b[1]||(b[1]=$t(J(y=>i(),["prevent"]),["enter"])),loading:m.isProcessing,clearable:"",autofocus:""},{prepend:a(()=>[e(V,{name:"qr_code_scanner"})]),_:1},8,["model-value","loading"])]),l("div",sd,[e(M,{class:"full-width",label:"Bayar",color:"primary",icon:"payment",onClick:b[2]||(b[2]=y=>d.$emit("process-payment")),disable:m.itemCount===0,loading:m.formProcessing},null,8,["disable","loading"])])]))}},rd=Object.freeze(Object.defineProperty({__proto__:null,default:rl},Symbol.toStringTag,{value:"Module"})),il={__name:"CustomerEditorDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","save"],setup(m,{emit:n}){const p=n,o=S(""),s=S(""),f=()=>{p("save",{name:o.value,address:s.value})};return(r,i)=>(w(),D(mt,{"model-value":m.modelValue,"onUpdate:modelValue":i[2]||(i[2]=d=>r.$emit("update:modelValue",d)),persistent:""},{default:a(()=>[e(ie,{style:{width:"400px"}},{default:a(()=>[e(ae,{class:"q-py-none q-pt-lg"},{default:a(()=>i[3]||(i[3]=[l("div",{class:"text-bold text-grey-8"},"Edit Info Pelanggan",-1)])),_:1}),e(ae,null,{default:a(()=>[e(X,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=d=>o.value=d),label:"Nama Pelanggan"},null,8,["modelValue"]),e(X,{modelValue:s.value,"onUpdate:modelValue":i[1]||(i[1]=d=>s.value=d),label:"Alamat",type:"textarea",autogrow:"",counter:"",maxlength:"200",class:"q-mt-md","hide-bottom-space":""},null,8,["modelValue"])]),_:1}),e(ut,{align:"right"},{default:a(()=>[Y(e(M,{flat:"",label:"Batal",color:"primary"},null,512),[[re]]),Y(e(M,{flat:"",label:"Simpan",color:"primary",onClick:f},null,512),[[re]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},id=Object.freeze(Object.defineProperty({__proto__:null,default:il},Symbol.toStringTag,{value:"Module"})),ud={key:0,class:"text-center q-mb-md text-grey-8"},dd={class:"text-subtitle1 text-weight-medium"},md={key:0,class:"text-body1"},cd={class:"text-h4 text-center text-primary q-pb-md"},pd={class:"row q-col-gutter-sm justify-center"},fd={class:"col-12"},gd={class:"col-12"},ul={__name:"PaymentDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","accepted"],setup(m,{emit:n}){const p=n,o=s=>{p("accepted",{method:s})};return(s,f)=>(w(),D(mt,{"model-value":m.modelValue,"onUpdate:modelValue":f[3]||(f[3]=r=>s.$emit("update:modelValue",r)),persistent:""},{default:a(()=>[e(ie,{style:{"min-width":"350px"}},{default:a(()=>[e(ae,null,{default:a(()=>f[4]||(f[4]=[l("div",{class:"text-h6 text-center"},"Pilih Metode Pembayaran",-1)])),_:1}),e(ae,{class:"q-pt-none"},{default:a(()=>[s.studentName?(w(),O("div",ud,[l("div",dd,u(s.studentName),1),s.walletBalance!==null?(w(),O("div",md," Saldo: Rp. "+u(t(F)(s.walletBalance)),1)):B("",!0)])):B("",!0),l("div",cd," Rp. "+u(t(F)(s.form.total)),1),l("div",pd,[l("div",fd,[e(M,{label:"Tunai",icon:"attach_money",color:"primary",class:"full-width",onClick:f[0]||(f[0]=r=>o("cash")),loading:s.form.processing,disable:s.form.processing},null,8,["loading","disable"])]),l("div",gd,[e(M,{label:"Dompet Santri",icon:"wallet",color:"green-6",class:"full-width",onClick:f[1]||(f[1]=r=>o("wallet")),loading:s.form.processing,disable:s.form.processing},null,8,["loading","disable"])])])]),_:1}),e(ut,{align:"right",class:"q-py-md"},{default:a(()=>[e(M,{flat:"",label:"Batal",color:"grey",onClick:f[2]||(f[2]=r=>s.showPaymentDialog=!1)})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},bd=Object.freeze(Object.defineProperty({__proto__:null,default:ul},Symbol.toStringTag,{value:"Module"})),_d={class:"q-ml-sm"},dl={__name:"ConfirmDeleteDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,default:null}},emits:["update:modelValue","confirm"],setup(m){return(n,p)=>(w(),D(mt,{"model-value":m.modelValue,"onUpdate:modelValue":p[1]||(p[1]=o=>n.$emit("update:modelValue",o)),persistent:""},{default:a(()=>[e(ie,null,{default:a(()=>[e(ae,{class:"row items-center"},{default:a(()=>{var o;return[e(nt,{icon:"delete",color:"negative","text-color":"white"}),l("span",_d,'Hapus item "'+u((o=m.item)==null?void 0:o.name)+'"?',1)]}),_:1}),e(ut,{align:"right"},{default:a(()=>[Y(e(M,{flat:"",label:"Batal",color:"primary"},null,512),[[re]]),Y(e(M,{flat:"",label:"Hapus",color:"negative",onClick:p[0]||(p[0]=o=>n.$emit("confirm"))},null,512),[[re]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},vd=Object.freeze(Object.defineProperty({__proto__:null,default:dl},Symbol.toStringTag,{value:"Module"})),yd={class:"row items-center no-wrap"},wd={class:"col-auto"},kd={class:"full-width row flex-center text-grey-8 q-gutter-sm"},hd={key:0,class:"text-grey-8 text-caption"},$d={key:1,class:"text-grey-8 text-caption"},Sd={__name:"ProductBrowserDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","product-selected"],setup(m,{emit:n}){const p=m,o=n,s=S(null),f=S([]),r=S(!0),i=Me({search:"",status:"active",...Oe()}),d=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),b=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"price",label:"Harga",field:"price",align:"right"}],y=te(()=>b);we(()=>{k()});const k=(x=null)=>{r.value=!0,Ie({pagination:d,filter:i,props:x,rows:f,url:route("admin.product.data"),loading:r,tableRef:s})},c=()=>{k()},v=x=>{o("product-selected",x),setTimeout(()=>{o("update:modelValue",!1)},100)};return Ve(()=>p.modelValue,(x,_)=>{_===!0&&x===!1?i.search="":k()}),(x,_)=>(w(),D(mt,{"model-value":m.modelValue,"onUpdate:modelValue":_[3]||(_[3]=A=>x.$emit("update:modelValue",A)),maximized:x.$q.screen.lt.md},{default:a(()=>[e(ie,{style:{"min-width":"600px","min-height":"400px"}},{default:a(()=>[e(ae,{class:"q-py-sm"},{default:a(()=>[l("div",yd,[_[4]||(_[4]=l("div",{class:"col text-subtitle text-grey-8 text-bold"},"Cari Produk",-1)),l("div",wd,[e(M,{flat:"",round:"",size:"xs",icon:"close",onClick:_[0]||(_[0]=A=>x.$emit("update:modelValue",!1))})])])]),_:1}),e(ae,{class:"q-py-sm"},{default:a(()=>[e(X,{autofocus:"",outlined:"",dense:"",debounce:"300",modelValue:i.search,"onUpdate:modelValue":[_[1]||(_[1]=A=>i.search=A),c],placeholder:"Cari produk berdasarkan nama atau barcode",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])]),_:1}),e(ke,{ref_key:"tableRef",ref:s,flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:d.value,"onUpdate:pagination":_[2]||(_[2]=A=>d.value=A),filter:i.search,loading:r.value,columns:y.value,rows:f.value,"rows-per-page-options":[10,25,50],onRequest:k,"binary-state-sort":"","no-data-label":"Tidak ada produk ditemukan"},{"no-data":a(({icon:A,message:q,filter:h})=>[l("div",kd,[l("span",null,u(q),1)])]),body:a(A=>[e(ve,{tabindex:"0",props:A,class:be([{inactive:!A.row.active},"cursor-pointer"]),onClick:q=>v(A.row),onKeydown:[$t(J(q=>v(A.row),["prevent","stop"]),["enter"]),$t(J(q=>v(A.row),["prevent"]),["space"])]},{default:a(()=>[e(L,{key:"name",props:A,class:"wrap-column"},{default:a(()=>[g(u(A.row.name)+" ",1),A.row.category_id?(w(),O("div",hd,[e(V,{name:"category"}),g(" "+u(A.row.category.name),1)])):B("",!0),A.row.supplier_id?(w(),O("div",$d,[e(V,{name:"local_shipping"}),g(" "+u(A.row.supplier.name),1)])):B("",!0)]),_:2},1032,["props"]),e(L,{key:"stock",props:A,class:"wrap-column text-right"},{default:a(()=>[g(u(A.row.type=="stocked"?t(F)(A.row.stock)+" "+A.row.uom:"-"),1)]),_:2},1032,["props"]),e(L,{key:"price",props:A,class:"wrap-column text-right"},{default:a(()=>[g(" Rp. "+u(t(F)(A.row.price)),1)]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick","onKeydown"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["model-value","maximized"]))}},xd={class:"row items-center no-wrap"},Vd={class:"col-auto"},ml={__name:"ItemEditorDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,required:!0}},emits:["update:modelValue","save"],setup(m,{emit:n}){const p=m,o=n,s=()=>{o("save")},f=te(()=>p.item.quantity*p.item.price),r=d=>{o("update:modelValue",!1),d.stopPropagation(),d.preventDefault()},i=d=>{p.modelValue&&(d.key==="Enter"?(s(),r(d)):d.key==="Escape"&&r(d))};return we(()=>{window.addEventListener("keydown",i)}),Ya(()=>{window.removeEventListener("keydown",i)}),(d,b)=>(w(),D(mt,{"model-value":m.modelValue,"onUpdate:modelValue":b[5]||(b[5]=y=>d.$emit("update:modelValue",y))},{default:a(()=>[e(ie,null,{default:a(()=>[e(ae,{class:"q-py-sm"},{default:a(()=>[l("div",xd,[b[6]||(b[6]=l("div",{class:"col text-subtite text-bold text-grey-8"},"Edit Item",-1)),l("div",Vd,[e(M,{flat:"",size:"xs",round:"",icon:"close",onClick:b[0]||(b[0]=y=>d.$emit("update:modelValue",!1))})])])]),_:1}),e(ae,{class:"q-py-sm"},{default:a(()=>[e(X,{modelValue:m.item.product_name,"onUpdate:modelValue":b[1]||(b[1]=y=>m.item.product_name=y),label:"Produk","hide-bottom-space":"",readonly:""},null,8,["modelValue"]),e(qe,{modelValue:m.item.quantity,"onUpdate:modelValue":b[2]||(b[2]=y=>m.item.quantity=y),label:"Kwantitas","hide-bottom-space":"",autofocus:""},null,8,["modelValue"]),e(qe,{modelValue:m.item.price,"onUpdate:modelValue":b[3]||(b[3]=y=>m.item.price=y),label:"Harga",readonly:!m.item.price_editable,"hide-bottom-space":""},null,8,["modelValue","readonly"]),e(qe,{modelValue:f.value,"onUpdate:modelValue":b[4]||(b[4]=y=>f.value=y),label:"Subtotal","hide-bottom-space":""},null,8,["modelValue"])]),_:1}),e(ut,{align:"right"},{default:a(()=>[Y(e(M,{flat:"",label:"Batal",color:"primary"},null,512),[[re]]),Y(e(M,{flat:"",label:"Simpan",color:"primary",onClick:s},null,512),[[re]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Cd=Object.freeze(Object.defineProperty({__proto__:null,default:ml},Symbol.toStringTag,{value:"Module"})),qd={class:"q-gutter-sm"},Td={class:"row col grow"},Pd={class:"col-12 q-pa-sm column"},Nd={class:"row"};const Od={class:"col-md-4 col-xs-12 q-pa-sm"},Ta="Penjualan",Id={__name:"Editor",setup(m){const n=ye(),p=pe(),o=S(!0),s=S(null),f=Ce({id:p.props.data.id,formatted_id:p.props.data.formatted_id,customer_id:p.props.data.customer_id,datetime:p.props.data.datetime,status:p.props.data.status,payment_status:p.props.data.payment_status,delivery_status:p.props.data.delivery_status,subtotal:p.props.data.total_price,tax:p.props.data.tax,total:p.props.data.total,notes:p.props.data.notes,items:p.props.data.details??[]}),r=S(""),i=S(!1),d=S(!1),b=S(null),y=S(!1),k=S(!1),c=S(!1),v=S(!1),x=S(null),_=N=>{r.value+=N.name},A=te(()=>{const N=f.items.reduce((j,Z)=>j+Z.price*Z.quantity,0);return f.subtotal=N,f.total=N+f.tax,N}),q=(N,j="info",Z="top",H=null)=>{n.notify({message:N,color:j,position:Z,icon:H})},h=N=>{q(N,"warning")},T=N=>isNaN(N)||N<=0?(h("Kuantitas tidak valid."),!1):!0,P=N=>isNaN(N)||N<0?(h("Harga tidak valid."),!1):!0,C=N=>!N||N.length==0?(h("Barcode tidak valid."),!1):!0,U=async()=>{var ue;const N=r.value.trim();if(N.length===0){c.value=!0;return}const j=N.split("*");let Z=1,H="",R=null;if(j.length===1)H=j[0];else if(j.length<=3)Z=parseInt(j[0]),H=j[1],j.length===3&&(R=parseFloat(j[2]));else{h("Input tidak valid.");return}if(H.length===0){c.value=!0;return}!C(H)&&!T(Z)&&!P(R)||(i.value=!0,await kt.post(route("admin.sales-order.add-item"),{order_id:f.id,product_code:H,qty:Z,price:R,merge:o.value}).then(_e=>{const oe=_e.data.data.item;let he=-1;_e.data.data.mergeItem&&(he=f.items.findIndex(Je=>Je.id===oe.id)),he===-1?f.items.push(oe):f.items[he]=oe,r.value="",R!==null&&R!==parseFloat(oe.price)&&h("Harga tidak dapat diubah!")}).catch(_e=>{var oe,he;q((he=(oe=_e.response)==null?void 0:oe.data)==null?void 0:he.message,"negative"),console.error("Gagal mengambil data produk:",_e)}),i.value=!1,(ue=s.value)==null||ue.focusOnBarcodeInput())},$=N=>{x.value=Object.create(N),v.value=!0},E=N=>{n.dialog({title:"Hapus Item",message:`Apakah Anda yakin akan menghapus item${N.product_barcode}?`,cancel:{label:"Batal",color:"grey"},ok:{label:"Hapus",color:"negative"},persistent:!0}).onOk(()=>{i.value=!0,kt.post(route("admin.sales-order.remove-item"),{id:N.id}).then(()=>{const j=f.items.findIndex(Z=>Z.id===N.id);j!==-1&&(f.items.splice(j,1)[0],n.notify({message:`Item no ${j+1} telah dihapus.`,color:"info",position:"top"}))}).catch(j=>{n.notify({message:"Gagal menghapus item.",color:"negative",position:"top"}),console.error(j)}).finally(()=>{i.value=!1})})},Q=()=>{};return(N,j)=>{const Z=z("i-head"),H=z("authenticated-layout");return w(),O(W,null,[e(Z,{title:Ta}),e(H,null,{title:a(()=>[g(u(Ta))]),"left-button":a(()=>[l("div",qd,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:j[0]||(j[0]=R=>t(K).get(N.route("admin.sales-order.index")))})])]),default:a(()=>[e(xe,{class:"bg-grey-2 q-pa-sm column fit"},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"full-width col column"},{default:a(()=>[e(nl,{user:t(p).props.auth.user,company:t(p).props.company,onEditCustomer:j[1]||(j[1]=R=>y.value=!0)},null,8,["user","company"]),l("div",Td,[l("div",Pd,[e(sl,{items:t(f).items,onUpdateQuantity:j[2]||(j[2]=({id:R,value:ue})=>N.updateQuantity(R,ue)),onRemoveItem:E,onEditItem:$},null,8,["items"])])]),l("div",Nd,[B("",!0),l("div",Od,[e(rl,{ref_key:"transactionSummaryRef",ref:s,barcode:r.value,"onUpdate:barcode":j[3]||(j[3]=R=>r.value=R),subtotal:A.value,"item-count":t(f).items.length,"is-processing":i.value,"form-processing":t(f).processing,onAddItem:j[4]||(j[4]=R=>U(r.value)),onProcessPayment:N.processPayment,"is-product-browser-open":c.value},null,8,["barcode","subtotal","item-count","is-processing","form-processing","onProcessPayment","is-product-browser-open"]),e(Ht,{modelValue:o.value,"onUpdate:modelValue":j[5]||(j[5]=R=>o.value=R),label:"Gabungkan item"},null,8,["modelValue"])])])]),_:1}),e(dl,{modelValue:d.value,"onUpdate:modelValue":j[6]||(j[6]=R=>d.value=R),item:b.value,onConfirm:N.removeItem},null,8,["modelValue","item","onConfirm"]),e(ml,{modelValue:v.value,"onUpdate:modelValue":j[7]||(j[7]=R=>v.value=R),item:x.value,onSave:Q},null,8,["modelValue","item"]),e(il,{modelValue:y.value,"onUpdate:modelValue":j[8]||(j[8]=R=>y.value=R)},null,8,["modelValue"]),e(ul,{modelValue:k.value,"onUpdate:modelValue":j[9]||(j[9]=R=>k.value=R)},null,8,["modelValue"]),e(Sd,{modelValue:c.value,"onUpdate:modelValue":j[10]||(j[10]=R=>c.value=R),onProductSelected:_},null,8,["modelValue"])]),_:1})]),_:1})],64)}}},Md=it(Id,[["__scopeId","data-v-d4a61ddc"]]),Rd=Object.freeze(Object.defineProperty({__proto__:null,default:Md},Symbol.toStringTag,{value:"Module"})),Ud={__name:"SalesOrderStatusChip",props:{status:{type:String,required:!0}},setup(m){const n=window.CONSTANTS.SALES_ORDER_STATUSES,p={draft:"orange",closed:"green",canceled:"red"};return(o,s)=>(w(),D(Ft,{status:m.status,statuses:t(n),colors:p},null,8,["status","statuses"]))}},Ed={__name:"SalesOrderPaymentStatusChip",props:{status:{type:String,required:!0}},setup(m){const n=window.CONSTANTS.SALES_ORDER_PAYMENT_STATUSES,p={unpaid:"red",fully_paid:"green",partially_paid:"orange",refunded:"black"};return(o,s)=>(w(),D(Ft,{status:m.status,statuses:t(n),colors:p},null,8,["status","statuses"]))}},Ad={__name:"SalesOrderDeliveryStatusChip",props:{status:{type:String,required:!0}},setup(m){const n=window.CONSTANTS.SALES_ORDER_DELIVERY_STATUSES,p={not_sent:"grey",sent:"orange",received:"green",failed:"red"};return(o,s)=>(w(),D(Ft,{status:m.status,statuses:t(n),colors:p},null,8,["status","statuses"]))}},Dd={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},jd={class:"q-pa-sm"},Bd={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ld={key:1},zd={class:"flex justify-end"},Pa="Penjualan",Hd={__name:"Index",setup(m){const n=ye(),p=S(!1),o=S([]),s=S(!0),f=S(null),r=S(null),i=Be(r),d=Nt(),b=Ot(),y=[{label:"Semua Tahun",value:"all"},{label:`${d}`,value:d},...bt(d-2,d-1).reverse()],k=[{value:"all",label:"Semua Bulan"},..._t()],c=[{value:"all",label:"Semua Status"},...Re(window.CONSTANTS.SALES_ORDER_STATUSES)],v=[{value:"all",label:"Semua Status"},...Re(window.CONSTANTS.SALES_ORDER_PAYMENT_STATUSES)],x=[{value:"all",label:"Semua Status"},...Re(window.CONSTANTS.SALES_ORDER_DELIVERY_STATUSES)],_=Me({search:"",year:d,month:b,status:"all",payment_status:"all",delivery_status:"all",...Oe()}),A=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),q=[{name:"id",label:"Info Order",field:"id",align:"left",sortable:!0},{name:"customer_id",label:"Pelanggan",field:"customer_id",align:"left"},{name:"total",label:"Total",field:"total",align:"right"},{name:"action",align:"right"}];we(()=>{$()});const h=N=>{if(N.status=="draft"){T(N);return}P(N)},T=N=>{K.get(route("admin.sales-order.edit",N.id))},P=N=>{K.get(route("admin.sales-order.detail",N.id))},C=N=>{La.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${N.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{kt.post(route("admin.sales-order.cancel",{id:N.id}),{id:N.id}).then(j=>{const Z=j.data.data,H=o.value.findIndex(R=>R.id===Z.id);if(H===-1){console.warn("Item tidak ditemukan di tabel.");return}o.value[H].status="dibatalkan",n.notify({message:j.data.message,position:"bottom"})}).catch(j=>{var H,R;const Z=((R=(H=j.response)==null?void 0:H.data)==null?void 0:R.message)||"Terjadi kesalahan saat membatalkan transaksi.";n.notify({message:Z,color:"warning",position:"bottom"}),console.error(j)})})},U=N=>ze({title:"Konfirmasi Penghapusan",message:`Hapus transaksi #${N.formatted_id}?`,url:route("admin.sales-order.delete",N.id),fetchItemsCallback:$,loading:s}),$=(N=null)=>{Ie({pagination:A,filter:_,props:N,rows:o,url:route("admin.sales-order.data"),loading:s,tableRef:f})},E=()=>{$()},Q=te(()=>n.screen.gt.sm?q:q.filter(N=>N.name==="id"||N.name==="action"));return Ve(()=>_.year,N=>{N===null&&(_.month=null)}),(N,j)=>{const Z=z("i-head"),H=z("authenticated-layout");return w(),O(W,null,[e(Z,{title:Pa}),e(H,null,je({title:a(()=>[g(u(Pa))]),"right-button":a(()=>[e(M,{icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:j[0]||(j[0]=R=>p.value=!p.value)},null,8,["icon"]),e(M,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:j[1]||(j[1]=R=>t(K).get(N.route("admin.sales-order.add")))})]),default:a(()=>[l("div",jd,[e(ke,{ref_key:"tableRef",ref:f,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:A.value,"onUpdate:pagination":j[13]||(j[13]=R=>A.value=R),filter:_.search,loading:s.value,columns:Q.value,rows:o.value,"rows-per-page-options":[10,25,50],style:He({height:t(i)}),onRequest:$,"binary-state-sort":""},{loading:a(()=>[e(Ue,{showing:"",color:"red"})]),"no-data":a(({icon:R,message:ue,filter:_e})=>[l("div",Bd,[l("span",null,u(ue)+" "+u(_e?" with term "+_e:""),1)])]),body:a(R=>[e(ve,{props:R,class:"cursor-pointer",onClick:J(ue=>h(R.row),["prevent"])},{default:a(()=>[e(L,{key:"id",props:R,class:"wrap-column"},{default:a(()=>[l("div",null,"# "+u(R.row.formatted_id),1),l("div",null,[e(V,{class:"inline-icon",name:"calendar_today"}),g(u(t(Qe)(R.row.datetime)),1)]),t(n).screen.gt.sm?B("",!0):(w(),O(W,{key:0},[R.row.customer?(w(),D(da,{key:0,href:N.route("admin.customer.detail",{id:R.row.customer.id}),onClick:j[8]||(j[8]=J(()=>{},["stop"]))},{default:a(()=>[g(u(R.row.customer.formatted_id)+" ",1),j[14]||(j[14]=l("br",null,null,-1)),g(" "+u(R.row.customer.name),1)]),_:2},1032,["href"])):B("",!0),l("div",null,"Rp. "+u(t(F)(R.row.total_price)),1),R.row.notes?(w(),O("div",Ld,[e(V,{name:"notes"}),g(" "+u(R.row.notes),1)])):B("",!0)],64)),l("div",null,[e(Ud,{status:R.row.status},null,8,["status"]),e(Ed,{status:R.row.payment_status},null,8,["status"]),e(Ad,{status:R.row.delivery_status},null,8,["status"])])]),_:2},1032,["props"]),e(L,{key:"customer_id",props:R,onClick:j[10]||(j[10]=J(()=>{},["stop"]))},{default:a(()=>[R.row.customer?(w(),D(da,{key:0,href:N.route("admin.customer.detail",{id:R.row.customer.id}),onClick:j[9]||(j[9]=J(()=>{},["stop"]))},{default:a(()=>[g(u(R.row.customer.formatted_id)+" ",1),j[15]||(j[15]=l("br",null,null,-1)),g(" "+u(R.row.customer.name),1)]),_:2},1032,["href"])):B("",!0)]),_:2},1032,["props"]),e(L,{key:"total",props:R},{default:a(()=>[g(u(t(F)(R.row.total_price)),1)]),_:2},1032,["props"]),e(L,{key:"action",props:R,onClick:j[12]||(j[12]=J(()=>{},["stop"]))},{default:a(()=>[l("div",zd,[e(M,{disabled:!t(Fe)(N.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:j[11]||(j[11]=J(()=>{},["stop"]))},{default:a(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[R.row.status!="draft"?Y((w(),D(ee,{key:0,onClick:J(ue=>P(R.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"visibility"})]),_:1}),e(I,null,{default:a(()=>j[16]||(j[16]=[g(" Lihat ")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]]):B("",!0),Y((w(),D(ee,{onClick:J(ue=>T(R.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"edit"})]),_:1}),e(I,null,{default:a(()=>[g(u(R.row.status=="draft"?"Edit":"Reopen"),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[le],[re]]),R.row.status=="draft"?Y((w(),D(ee,{key:1,onClick:J(ue=>C(R.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"cancel"})]),_:1}),e(I,null,{default:a(()=>j[17]||(j[17]=[g(" Batalkan ")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]]):B("",!0),e(Ke),Y((w(),D(ee,{onClick:J(ue=>U(R.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>j[18]||(j[18]=[g(" Hapus ")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",Dd,[e(se,{modelValue:_.year,"onUpdate:modelValue":[j[2]||(j[2]=R=>_.year=R),E],options:y,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),_.year!="all"?(w(),D(se,{key:0,modelValue:_.month,"onUpdate:modelValue":[j[3]||(j[3]=R=>_.month=R),E],options:k,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:_.year===null},null,8,["modelValue","disable"])):B("",!0),e(se,{modelValue:_.status,"onUpdate:modelValue":[j[4]||(j[4]=R=>_.status=R),E],options:c,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(se,{modelValue:_.payment_status,"onUpdate:modelValue":[j[5]||(j[5]=R=>_.payment_status=R),E],options:v,label:"Status Pembayaran",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(se,{modelValue:_.delivery_status,"onUpdate:modelValue":[j[6]||(j[6]=R=>_.delivery_status=R),E],options:x,label:"Status Pengiriman",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:_.search,"onUpdate:modelValue":j[7]||(j[7]=R=>_.search=R),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Fd=Object.freeze(Object.defineProperty({__proto__:null,default:Hd},Symbol.toStringTag,{value:"Module"})),Yd={class:"q-gutter-sm"},Kd={class:"col col-lg-6 q-pa-sm"},Qd={key:0},Wd={class:"text-bold"},Jd={key:0},Gd={class:"text-caption text-grey-8"},Xd={key:1},Na="Buat Penyesuaian Stok",Zd={__name:"Create",setup(m){const p=pe().props.products,o=S([]),s=Ce({type:"stock_opname",datetime:rt().format("YYYY-MM-DD HH:mm:ss"),notes:null,product_ids:[]}),f=[{name:"name",label:"Nama Produk",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"center",sortable:!1,format:(y,k)=>F(y)+" "+k.uom}],r=Re(window.CONSTANTS.STOCKADJUSTMENT_TYPES),i=()=>{s.product_ids=o.value.map(y=>y.id),Ne({form:s,url:route("admin.stock-adjustment.create")})},d=ye(),b=te(()=>d.screen.gt.sm?f:f.filter(y=>y.name==="name"));return(y,k)=>{const c=z("i-head"),v=z("authenticated-layout");return w(),O(W,null,[e(c,{title:Na}),e(v,null,{title:a(()=>[g(u(Na))]),"left-button":a(()=>[l("div",Yd,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:k[0]||(k[0]=x=>t(K).get(y.route("admin.stock-adjustment.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",Kd,[e(Pe,{class:"row",onSubmit:J(i,["prevent"]),onValidationError:t(Ee)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-sm"},{default:a(()=>[k[6]||(k[6]=l("div",{class:"text-subtitle2"},[l("b",null,"Info Penyesuaian Stok")],-1)),e(St,{modelValue:t(s).datetime,"onUpdate:modelValue":k[1]||(k[1]=x=>t(s).datetime=x),label:"Waktu",error:!!t(s).errors.datetime,disable:t(s).processing,"error-message":t(s).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(se,{modelValue:t(s).type,"onUpdate:modelValue":k[2]||(k[2]=x=>t(s).type=x),options:t(r),label:"Jenis Penyesuaian",class:"custom-select",error:!!t(s).errors.type,disable:t(s).processing,"map-options":"","emit-value":"","error-message":t(s).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","error-message"]),e(X,{modelValue:t(s).notes,"onUpdate:modelValue":k[3]||(k[3]=x=>t(s).notes=x),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,null,{default:a(()=>[k[7]||(k[7]=l("div",{class:"text-subtitle2"},[l("b",null,"Pilih Produk")],-1)),e(ke,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:b.value,rows:t(p),"binary-state-sort":"","hide-pagination":!0,dense:"","rows-per-page-options":[0],selection:"multiple",selected:o.value,"onUpdate:selected":k[4]||(k[4]=x=>o.value=x)},{"body-cell-name":a(x=>[e(L,{props:x},{default:a(()=>[t(d).screen.lt.md?(w(),O("div",Qd,[l("div",Wd,u(x.row.name),1),x.row.category?(w(),O("div",Jd,u(x.row.category.name),1)):B("",!0),l("div",Gd,u(t(F)(x.row.stock))+" "+u(x.row.uom),1)])):(w(),O("div",Xd,u(x.row.name),1))]),_:2},1032,["props"])]),_:1},8,["columns","rows","selected"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(M,{icon:"play_arrow",type:"submit",label:"Lanjutkan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(M,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:k[5]||(k[5]=x=>t(K).get(y.route("admin.stock-adjustment.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},em=Object.freeze(Object.defineProperty({__proto__:null,default:Zd},Symbol.toStringTag,{value:"Module"})),tm={class:"q-gutter-sm"},am={class:"row justify-center"},lm={class:"col col-lg-8 q-pa-sm"},om={class:"row"},nm={class:"detail"},sm={key:0},rm={key:1},im={class:"text-grey-9"},um={__name:"Detail",setup(m){const n=pe(),p=`Rincian Penyesuaian Stok #${n.props.data.id}`,o=n.props.details,s=[{name:"no",label:"#",field:"no",align:"left"},{name:"product_name",label:"Nama Produk",field:"product_name",align:"left"},{name:"uom",label:"Satuan",field:"uom",align:"left"},{name:"old_quantity",label:"Stok Lama",field:"old_quantity",align:"right",format:i=>F(i)},{name:"new_quantity",label:"Stok Baru",field:"new_quantity",align:"right",format:i=>F(i)},{name:"balance",label:"Selisih Stok",field:"balance",align:"right",format:i=>F(i)},{name:"cost_balance",label:"Selisih Modal",field:"cost_balance",align:"right"},{name:"price_balance",label:"Selisih Harga",field:"price_balance",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}],f=ye(),r=te(()=>f.screen.gt.sm?s:s.filter(i=>i.name==="no"));return(i,d)=>{const b=z("i-head"),y=z("i-link"),k=z("authenticated-layout");return w(),O(W,null,[e(b,{title:p}),e(k,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",tm,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=c=>i.$inertia.get(i.route("admin.stock-adjustment.index")))})])]),default:a(()=>[l("div",am,[l("div",lm,[l("div",om,[e(ie,{square:"",flat:"",bordered:"",class:"q-card col"},{default:a(()=>[e(ae,null,{default:a(()=>[d[21]||(d[21]=l("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Penyesuaian Stok ",-1)),l("table",nm,[l("tbody",null,[l("tr",null,[d[1]||(d[1]=l("td",{style:{width:"120px"}},"ID",-1)),d[2]||(d[2]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,"# "+u(t(n).props.data.id),1)]),l("tr",null,[d[3]||(d[3]=l("td",null,"Jenis",-1)),d[4]||(d[4]=l("td",null,":",-1)),l("td",null,u(i.$CONSTANTS.STOCKADJUSTMENT_TYPES[t(n).props.data.type]),1)]),l("tr",null,[d[5]||(d[5]=l("td",null,"Status",-1)),d[6]||(d[6]=l("td",null,":",-1)),l("td",null,u(i.$CONSTANTS.STOCKADJUSTMENT_STATUSES[t(n).props.data.status]),1)]),l("tr",null,[d[7]||(d[7]=l("td",null,"Waktu",-1)),d[8]||(d[8]=l("td",null,":",-1)),l("td",null,u(i.$dayjs(t(n).props.data.datetime).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)]),t(n).props.data.created_at?(w(),O("tr",sm,[d[10]||(d[10]=l("td",null,"Dibuat Oleh",-1)),d[11]||(d[11]=l("td",null,":",-1)),l("td",null,[t(n).props.data.created_by?(w(),O(W,{key:0},[e(y,{href:i.route("admin.user.detail",{id:t(n).props.data.created_by})},{default:a(()=>[g(u(t(n).props.data.created_by.username)+" - "+u(t(n).props.data.created_by.name),1)]),_:1},8,["href"]),d[9]||(d[9]=g(" - "))],64)):B("",!0),g(" "+u(i.$dayjs(new Date(t(n).props.data.created_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):B("",!0),t(n).props.data.updated_at?(w(),O("tr",rm,[d[13]||(d[13]=l("td",null,"Diperbarui oleh",-1)),d[14]||(d[14]=l("td",null,":",-1)),l("td",null,[t(n).props.data.updated_by?(w(),O(W,{key:0},[e(y,{href:i.route("admin.user.detail",{id:t(n).props.data.updated_by})},{default:a(()=>[g(u(t(n).props.data.updated_by.username)+" - "+u(t(n).props.data.updated_by.name),1)]),_:1},8,["href"]),d[12]||(d[12]=g(" - "))],64)):B("",!0),g(" "+u(i.$dayjs(new Date(t(n).props.data.updated_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):B("",!0),l("tr",null,[d[15]||(d[15]=l("td",null,"Total Modal",-1)),d[16]||(d[16]=l("td",null,":",-1)),l("td",null,[l("div",{class:be(t(n).props.data.total_cost<0?"text-red-10":t(n).props.data.total_cost>0?"text-green-10":"")}," Rp. "+u(t(F)(t(n).props.data.total_cost)),3)])]),l("tr",null,[d[17]||(d[17]=l("td",null,"Total Harga",-1)),d[18]||(d[18]=l("td",null,":",-1)),l("td",null,[l("div",{class:be(t(n).props.data.total_price<0?"text-red-10":t(n).props.data.total_price>0?"text-green-10":"")}," Rp. "+u(t(F)(t(n).props.data.total_price)),3)])]),l("tr",null,[d[19]||(d[19]=l("td",null,"Catatan",-1)),d[20]||(d[20]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.notes),1)])])])]),_:1}),e(ae,null,{default:a(()=>[d[26]||(d[26]=l("div",{class:"text-subtitle1 text-bold text-grey-9 q-pt-md"}," Rincian ",-1)),e(ke,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",dense:"",columns:r.value,rows:t(o),"hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-no":a(c=>[e(L,{props:c},{default:a(()=>[t(f).screen.lt.md?(w(),O(W,{key:1},[l("div",im,[l("b",null,"#"+u(c.rowIndex+1),1),g(" - "+u(c.row.product_name),1)]),l("div",null,[g(" Stok Lama: "+u(t(F)(c.row.old_quantity))+" "+u(c.row.uom),1),d[23]||(d[23]=l("br",null,null,-1)),g(" Stok Baru: "+u(t(F)(c.row.new_quantity))+" "+u(c.row.uom),1),d[24]||(d[24]=l("br",null,null,-1)),l("div",{class:be(c.row.balance<0?"text-red-10":c.row.balance>0?"text-green-10":"")},[g(" Selisih: "+u((c.row.balance>0?"+":"")+t(F)(c.row.balance))+" "+u(c.row.uom),1),d[22]||(d[22]=l("br",null,null,-1)),g(" (Rp. "+u(t(F)(c.row.subtotal_cost))+" / Rp. "+u(t(F)(c.row.subtotal_price))+") ",1)],2),d[25]||(d[25]=l("br",null,null,-1)),g(" "+u(c.row.notes),1)])],64)):(w(),O(W,{key:0},[g(u(c.rowIndex+1),1)],64))]),_:2},1032,["props"])]),"body-cell-balance":a(c=>[e(L,{props:c},{default:a(()=>[l("div",{class:be(c.row.balance<0?"text-red-10":c.row.balance>0?"text-green-10":"")},u((c.row.balance>0?"+":"")+t(F)(c.row.balance)),3)]),_:2},1032,["props"])]),"body-cell-cost_balance":a(c=>[e(L,{props:c},{default:a(()=>[l("div",{class:be(c.row.balance<0?"text-red-10":c.row.balance>0?"text-green-10":"")},u(t(F)(c.row.subtotal_cost)),3)]),_:2},1032,["props"])]),"body-cell-price_balance":a(c=>[e(L,{props:c},{default:a(()=>[l("div",{class:be(c.row.balance<0?"text-red-10":c.row.balance>0?"text-green-10":"")},u(t(F)(c.row.subtotal_price)),3)]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1})]),_:1})])])])]),_:1})],64)}}},dm=Object.freeze(Object.defineProperty({__proto__:null,default:um},Symbol.toStringTag,{value:"Module"})),mm={class:"q-gutter-sm"},cm={class:"col col-lg-6 q-pa-sm"},pm={class:"text-bold"},fm={key:0},gm={class:"text-caption text-grey-8"},Oa="Penyesuaian Stok",bm={__name:"Editor",setup(m){const n=pe(),p=Ce({id:n.props.item.id,type:n.props.item.type,datetime:rt(n.props.item.datetime).format("YYYY-MM-DD HH:mm:ss"),notes:n.props.item.notes,action:"save",details:[]}),o=Re(window.CONSTANTS.STOCKADJUSTMENT_TYPES),s=n.props.details,f=b=>{const y=()=>{p.action=b,p.details=s.map(k=>({id:k.id,new_quantity:k.new_quantity})),Ne({form:p,url:route("admin.stock-adjustment.save")})};b==="close"||b==="cancel"?La.create({title:"Konfirmasi",message:"Aksi ini tidak dapat dibatalkan, apakah Anda yakin?",cancel:!0,persistent:!0}).onOk(()=>{y()}).onCancel(()=>{}):y()},r=[{name:"product_name",label:"Nama Produk",field:"product_name",align:"left",sortable:!0},{name:"uom",label:"Satuan",field:"uom",align:"center"},{name:"old_quantity",label:"Tercatat",field:"old_quantity",align:"right",format:b=>F(b)},{name:"new_quantity",label:"Aktual",field:"new_quantity",align:"right",format:b=>F(b)},{name:"balance",label:"Selisih",field:"balance",align:"right",format:(b,y)=>F(y.new_quantity-y.old_quantity)}],i=ye(),d=te(()=>i.screen.gt.sm?r:r.filter(b=>b.name==="product_name"||b.name==="new_quantity"));return(b,y)=>{const k=z("i-head"),c=z("authenticated-layout");return w(),O(W,null,[e(k,{title:Oa}),e(c,null,{title:a(()=>[g(u(Oa))]),"left-button":a(()=>[l("div",mm,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:y[0]||(y[0]=v=>b.$inertia.get(b.route("admin.stock-adjustment.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",cm,[e(Pe,{class:"row",onSubmit:J(f,["prevent"]),onValidationError:t(Ee)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,null,{default:a(()=>y[8]||(y[8]=[l("div",{class:"text-subtitle1"},"Info Penyesuaian",-1)])),_:1}),e(ae,{class:"q-pt-none"},{default:a(()=>[Y(l("input",{type:"hidden",name:"id","onUpdate:modelValue":y[1]||(y[1]=v=>t(p).id=v)},null,512),[[Ye,t(p).id]]),e(St,{modelValue:t(p).datetime,"onUpdate:modelValue":y[2]||(y[2]=v=>t(p).datetime=v),label:"Waktu",error:!!t(p).errors.datetime,disable:t(p).processing,"error-message":t(p).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(se,{modelValue:t(p).type,"onUpdate:modelValue":y[3]||(y[3]=v=>t(p).type=v),options:t(o),label:"Jenis Penyesuaian",class:"custom-select",error:!!t(p).errors.type,disable:t(p).processing,"map-options":"","emit-value":"","error-message":t(p).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","error-message"]),e(X,{modelValue:t(p).notes,"onUpdate:modelValue":y[4]||(y[4]=v=>t(p).notes=v),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(p).processing,error:!!t(p).errors.notes,"error-message":t(p).errors.notes,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,null,{default:a(()=>[e(ke,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:d.value,rows:t(s),"binary-state-sort":"","hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-product_name":a(v=>[e(L,{props:v},{default:a(()=>[l("div",pm,u(v.row.product_name),1),t(i).screen.lt.md?(w(),O("div",fm,[l("div",gm,[g(" Tercatat: "+u(t(F)(v.row.old_quantity))+" ",1),y[9]||(y[9]=l("br",null,null,-1)),g(" Selisih: "+u(t(F)(v.row.new_quantity-v.row.old_quantity)),1)])])):B("",!0)]),_:2},1032,["props"])]),"body-cell-new_quantity":a(v=>[e(L,{props:v},{default:a(()=>[e(X,{modelValue:v.row[v.col.name],"onUpdate:modelValue":x=>v.row[v.col.name]=x,modelModifiers:{number:!0},"input-class":"text-right",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(M,{icon:"save",onClick:y[5]||(y[5]=v=>f("save")),label:"Simpan",color:"primary",disable:t(p).processing},null,8,["disable"]),e(M,{icon:"done_all",onClick:y[6]||(y[6]=v=>f("close")),label:"Selesaikan",color:"green",disable:t(p).processing},null,8,["disable"]),e(M,{icon:"close",onClick:y[7]||(y[7]=v=>f("cancel")),label:"Batalkan",color:"red",disable:t(p).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},_m=Object.freeze(Object.defineProperty({__proto__:null,default:bm},Symbol.toStringTag,{value:"Module"})),vm={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},ym={class:"q-pa-sm"},wm={class:"full-width row flex-center text-grey-8 q-gutter-sm"},km={key:0,class:"flex q-gutter-xs"},hm={class:"flex q-col-gutter-xs"},$m={key:0},Sm={key:1},xm={class:"flex justify-end"},Ia="Penyesuaian Stok",Vm={__name:"Index",setup(m){const n=S([]),p=S(!0),o=S(!1),s=S(null),f=S(null),r=Be(f),i=Me({search:"",status:"all",type:"all",...Oe()}),d=[{value:"all",label:"Semua"},...Re(window.CONSTANTS.STOCKADJUSTMENT_STATUSES)],b=[{value:"all",label:"Semua"},...Re(window.CONSTANTS.STOCKADJUSTMENT_TYPES)],y=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),k=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"status",label:"Status",field:"status",align:"center",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!1},{name:"total_cost",label:"Total Modal",field:"total_cost",align:"right",sortable:!1},{name:"total_price",label:"Total Harga",field:"total_price",align:"right",sortable:!1},{name:"notes",label:"Notes",field:"notes",align:"left",sortable:!1},{name:"action",align:"right"}];we(()=>{v()});const c=h=>ze({message:`Hapus Transaksi #${h.id}?`,url:route("admin.stock-adjustment.delete",h.id),fetchItemsCallback:v,loading:p}),v=(h=null)=>Ie({pagination:y,filter:i,props:h,rows:n,url:route("admin.stock-adjustment.data"),loading:p,tableRef:s}),x=()=>{v()},_=h=>{h.status=="draft"?K.get(route("admin.stock-adjustment.editor",h.id)):K.get(route("admin.stock-adjustment.detail",h.id))},A=ye(),q=te(()=>A.screen.gt.sm?k:k.filter(h=>h.name==="id"||h.name==="action"));return(h,T)=>{const P=z("i-head"),C=z("authenticated-layout");return w(),O(W,null,[e(P,{title:Ia}),e(C,null,je({"right-button":a(()=>[e(M,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:T[0]||(T[0]=U=>o.value=!o.value)},null,8,["icon"]),e(M,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:T[1]||(T[1]=U=>t(K).get(h.route("admin.stock-adjustment.create")))})]),title:a(()=>[g(u(Ia))]),default:a(()=>[l("div",ym,[e(ke,{ref_key:"tableRef",ref:s,flat:"",bordered:"",square:"",color:"primary",class:"full-height-table stock-adjustment-list","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":T[6]||(T[6]=U=>y.value=U),filter:i.search,loading:p.value,columns:q.value,rows:n.value,"rows-per-page-options":[10,25,50],style:He({height:t(r)}),onRequest:v,"binary-state-sort":""},{loading:a(()=>[e(Ue,{showing:"",color:"red"})]),"no-data":a(({icon:U,message:$,filter:E})=>[l("div",wm,[l("span",null,u($)+" "+u(E?" with term "+E:""),1)])]),body:a(U=>[e(ve,{props:U,onClick:$=>_(U.row),class:"cursor-pointer"},{default:a(()=>[e(L,{key:"id",props:U},{default:a(()=>[t(A).screen.lt.md?(w(),O(W,{key:1},[l("div",hm,[l("div",null,[l("b",null,"#"+u(U.row.id),1)]),l("div",null,[e(V,{name:"history"}),g(" "+u(h.$dayjs(new Date(U.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),e(Al,{dense:"",size:"sm",color:U.row.status==="draft"?"orange":U.row.status==="closed"?"green":U.row.status==="canceled"?"red":"",icon:U.row.status==="draft"?"emergency":U.row.status==="closed"?"check":U.row.status==="canceled"?"close":""},{default:a(()=>[g(u(h.$CONSTANTS.STOCKADJUSTMENT_STATUSES[U.row.status]),1)]),_:2},1032,["color","icon"])]),l("div",null,[e(V,{name:"category"}),g(" "+u(h.$CONSTANTS.STOCKADJUSTMENT_TYPES[U.row.type]),1)]),U.row.created_by?(w(),O("div",$m,[e(V,{name:"person"}),T[7]||(T[7]=g(" Dibuat: ")),l("b",null,u(U.row.created_by.username),1),e(V,{name:"history"}),g(" "+u(h.$dayjs(new Date(U.row.created_at)).format("DD/MM/YYYY HH:mm")),1)])):B("",!0),U.row.updated_by?(w(),O("div",Sm,[e(V,{name:"person"}),T[8]||(T[8]=g(" Diperbarui: ")),l("b",null,u(U.row.updated_by.username),1),e(V,{name:"history"}),g(" "+u(h.$dayjs(new Date(U.row.updated_at)).format("DD/MM/YYYY HH:mm")),1)])):B("",!0),l("div",{class:be(U.row.total_cost<0?"text-red-10":U.row.total_cost>0?"text-green-10":"")},[e(V,{name:"money"}),g(" Rp. "+u(t(F)(U.row.total_cost))+" / Rp. "+u(t(F)(U.row.total_price)),1)],2)],64)):(w(),O("div",km,[l("div",null,[l("b",null,"#"+u(U.row.id),1)])]))]),_:2},1032,["props"]),e(L,{key:"datetime",props:U},{default:a(()=>[g(u(h.$dayjs(new Date(U.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),_:2},1032,["props"]),e(L,{key:"status",props:U,class:"text-center"},{default:a(()=>[g(u(h.$CONSTANTS.STOCKADJUSTMENT_STATUSES[U.row.status]),1)]),_:2},1032,["props"]),e(L,{key:"type",props:U},{default:a(()=>[g(u(h.$CONSTANTS.STOCKADJUSTMENT_TYPES[U.row.type]),1)]),_:2},1032,["props"]),e(L,{key:"total_cost",props:U},{default:a(()=>[l("div",{class:be(U.row.total_cost<0?"text-red-10":U.row.total_cost>0?"text-green-10":"")},u(t(F)(U.row.total_cost)),3)]),_:2},1032,["props"]),e(L,{key:"total_price",props:U},{default:a(()=>[l("div",{class:be(U.row.total_price<0?"text-red-10":U.row.total_price>0?"text-green-10":"")},u(t(F)(U.row.total_price)),3)]),_:2},1032,["props"]),e(L,{key:"notes",props:U},{default:a(()=>[g(u(U.row.notes),1)]),_:2},1032,["props"]),e(L,{key:"action",props:U},{default:a(()=>[l("div",xm,[e(M,{icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:T[5]||(T[5]=J(()=>{},["stop"]))},{default:a(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[Y((w(),D(ee,{onClick:J($=>c(U.row),["stop"]),clickable:"",disabled:!t(Fe)(h.$CONSTANTS.USER_ROLE_ADMIN)},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>T[9]||(T[9]=[g("Hapus")])),_:1})]),_:2},1032,["onClick","disabled"])),[[le],[re]])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[o.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:f},{default:a(()=>[l("div",vm,[e(se,{modelValue:i.status,"onUpdate:modelValue":[T[2]||(T[2]=U=>i.status=U),x],options:d,label:"Status",dense:"","map-options":"",class:"custom-select col-xs-12 col-sm-2","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{modelValue:i.type,"onUpdate:modelValue":[T[3]||(T[3]=U=>i.type=U),x],options:b,label:"Jenis",dense:"",class:"custom-select col-xs-12 col-sm-2","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:i.search,"onUpdate:modelValue":T[4]||(T[4]=U=>i.search=U),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Cm=Object.freeze(Object.defineProperty({__proto__:null,default:Vm},Symbol.toStringTag,{value:"Module"})),qm={class:"q-gutter-sm"},Tm={class:"q-gutter-sm"},Pm={class:"col col-lg-6 q-pa-sm"},Nm={class:"row"},Om={class:"detail"},Ma="Rincian Pemasok",Im={__name:"Detail",setup(m){const n=pe();return(p,o)=>{const s=z("i-head"),f=z("authenticated-layout");return w(),O(W,null,[e(s,{title:Ma}),e(f,null,{title:a(()=>[g(u(Ma))]),"left-button":a(()=>[l("div",qm,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=r=>t(K).get(p.route("admin.supplier.index")))})])]),"right-button":a(()=>[l("div",Tm,[e(M,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=r=>t(K).get(p.route("admin.supplier.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",Pm,[l("div",Nm,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,null,{default:a(()=>[o[14]||(o[14]=l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Info Pemasok ",-1)),l("table",Om,[l("tbody",null,[l("tr",null,[o[2]||(o[2]=l("td",{style:{width:"70px"}},"Nama",-1)),o[3]||(o[3]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[o[4]||(o[4]=l("td",null,"Telepon",-1)),o[5]||(o[5]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.phone),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"Alamat",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.address),1)]),l("tr",null,[o[8]||(o[8]=l("td",null,"No. Rek",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.bank_account_number),1)]),l("tr",null,[o[10]||(o[10]=l("td",null,"Alamat Return",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.return_address),1)]),l("tr",null,[o[12]||(o[12]=l("td",null,"Status",-1)),o[13]||(o[13]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Mm=Object.freeze(Object.defineProperty({__proto__:null,default:Im},Symbol.toStringTag,{value:"Module"})),Rm={class:"q-gutter-sm"},Um={class:"col col-lg-6 q-pa-sm"},Em={style:{"margin-left":"-10px"}},Am={__name:"Editor",setup(m){const n=pe(),p=(n.props.data.id?"Edit":"Tambah")+" Pemasok",o=Ce({id:n.props.data.id,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,bank_account_number:n.props.data.bank_account_number,return_address:n.props.data.return_address,active:!!n.props.data.active}),s=()=>Ne({form:o,url:route("admin.supplier.save")});return(f,r)=>{const i=z("i-head"),d=z("authenticated-layout");return w(),O(W,null,[e(i,{title:p}),e(d,null,{title:a(()=>[g(u(p))]),"left-button":a(()=>[l("div",Rm,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=b=>t(K).get(f.route("admin.supplier.index")))})])]),default:a(()=>[e(xe,{class:"row justify-center"},{default:a(()=>[l("div",Um,[e(Pe,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(Ee)},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,null,{default:a(()=>r[9]||(r[9]=[l("div",{class:"text-subtitle1"},"Info Supplier",-1)])),_:1}),e(ae,{class:"q-pt-none"},{default:a(()=>[Y(l("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=b=>t(o).id=b)},null,512),[[Ye,t(o).id]]),e(X,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=b=>t(o).name=b),modelModifiers:{trim:!0},label:"Nama","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[b=>b&&b.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(o).phone,"onUpdate:modelValue":r[3]||(r[3]=b=>t(o).phone=b),modelModifiers:{trim:!0},type:"text",label:"No HP","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.phone,"error-message":t(o).errors.phone,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(X,{modelValue:t(o).address,"onUpdate:modelValue":r[4]||(r[4]=b=>t(o).address=b),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.address,"error-message":t(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(X,{modelValue:t(o).bank_account_number,"onUpdate:modelValue":r[5]||(r[5]=b=>t(o).bank_account_number=b),modelModifiers:{trim:!0},type:"text",label:"No Rek","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.bank_account_number,"error-message":t(o).errors.bank_account_number,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(X,{modelValue:t(o).return_address,"onUpdate:modelValue":r[6]||(r[6]=b=>t(o).return_address=b),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat Return","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.return_address,"error-message":t(o).errors.return_address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),l("div",Em,[e(ht,{class:"full-width q-pl-none",modelValue:t(o).active,"onUpdate:modelValue":r[7]||(r[7]=b=>t(o).active=b),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"])])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(M,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(M,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[8]||(r[8]=b=>t(K).get(f.route("admin.supplier.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Dm=Object.freeze(Object.defineProperty({__proto__:null,default:Am},Symbol.toStringTag,{value:"Module"})),jm={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Bm={class:"q-pa-sm"},Lm={class:"full-width row flex-center text-grey-8 q-gutter-sm"},zm={class:"flex justify-end"},Ra="Pemasok",Hm={__name:"Index",setup(m){const n=ye(),p=S(!1),o=S([]),s=S(!0),f=S(null),r=S(null),i=Be(r),d=Me({search:"",status:"active",...Oe()}),b=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"phone",label:"No HP",field:"phone",align:"left",sortable:!0},{name:"address",label:"Alamat",field:"address",align:"left",sortable:!0},{name:"bank_account_number",label:"No Rek",field:"bank_account_number",align:"left",sortable:!0},{name:"action",align:"right"}],k=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];we(()=>{v()});const c=q=>ze({message:`Hapus pemasok ${q.name}?`,url:route("admin.supplier.delete",q.id),fetchItemsCallback:v,loading:s}),v=(q=null)=>{Ie({pagination:b,filter:d,props:q,rows:o,url:route("admin.supplier.data"),loading:s,tableRef:f})},x=()=>v(),_=q=>K.get(route("admin.supplier.detail",{id:q.id})),A=te(()=>n.screen.gt.sm?y:y.filter(q=>q.name==="name"||q.name==="action"));return(q,h)=>{const T=z("i-head"),P=z("authenticated-layout");return w(),O(W,null,[e(T,{title:Ra}),e(P,null,je({title:a(()=>[g(u(Ra))]),"right-button":a(()=>[e(M,{icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:h[0]||(h[0]=C=>p.value=!p.value)},null,8,["icon"]),e(M,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:h[1]||(h[1]=C=>t(K).get(q.route("admin.supplier.add")))})]),default:a(()=>[l("div",Bm,[e(ke,{class:"full-height-table",ref_key:"tableRef",ref:f,s:"",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":h[5]||(h[5]=C=>b.value=C),filter:d.search,loading:s.value,columns:A.value,rows:o.value,"rows-per-page-options":[10,25,50],style:He({height:t(i)}),onRequest:v,"binary-state-sort":""},{loading:a(()=>[e(Ue,{showing:"",color:"red"})]),"no-data":a(({icon:C,message:U,filter:$})=>[l("div",Lm,[l("span",null,u(U)+" "+u($?" with term "+$:""),1)])]),body:a(C=>[e(ve,{props:C,class:be([C.row.active?"":"bg-red-1","cursor-pointer"]),onClick:U=>_(C.row)},{default:a(()=>[e(L,{key:"name",props:C,class:"wrap-column"},{default:a(()=>[l("div",null,[t(n).screen.lt.md?(w(),D(V,{key:0,name:"person"})):B("",!0),g(" "+u(C.row.name),1)]),t(n).screen.lt.md?(w(),O(W,{key:0},[l("div",null,[e(V,{name:"phone"}),g(" "+u(C.row.phone),1)]),l("div",null,[e(V,{name:"credit_card"}),g(" "+u(C.row.bank_account_number),1)]),l("div",null,[e(V,{name:"home_pin"}),g(" "+u(C.row.address),1)])],64)):B("",!0)]),_:2},1032,["props"]),e(L,{key:"phone",props:C},{default:a(()=>[g(u(C.row.phone),1)]),_:2},1032,["props"]),e(L,{key:"address",props:C},{default:a(()=>[g(u(C.row.address),1)]),_:2},1032,["props"]),e(L,{key:"bank_account_number",props:C},{default:a(()=>[g(u(C.row.bank_account_number),1)]),_:2},1032,["props"]),e(L,{key:"action",props:C},{default:a(()=>[l("div",zm,[e(M,{disabled:!t(Fe)(q.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:h[4]||(h[4]=J(()=>{},["stop"]))},{default:a(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[Y((w(),D(ee,{clickable:"",onClick:J(U=>t(K).get(q.route("admin.supplier.duplicate",C.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:a(()=>h[6]||(h[6]=[g(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]]),Y((w(),D(ee,{clickable:"",onClick:J(U=>t(K).get(q.route("admin.supplier.edit",C.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:a(()=>h[7]||(h[7]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]]),Y((w(),D(ee,{onClick:J(U=>c(C.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>h[8]||(h[8]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:r},{default:a(()=>[l("div",jm,[e(se,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:d.status,"onUpdate:modelValue":[h[2]||(h[2]=C=>d.status=C),x],options:k,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":h[3]||(h[3]=C=>d.search=C),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Fm=Object.freeze(Object.defineProperty({__proto__:null,default:Hm},Symbol.toStringTag,{value:"Module"})),Ym={class:"q-gutter-sm"},Km={class:"q-gutter-sm"},Qm={class:"row justify-center"},Wm={class:"col col-lg-6 q-pa-sm"},Jm={class:"row"},Gm={class:"detail"},Xm={key:0},Ua="Rincian Pengguna",Zm={__name:"Detail",setup(m){const n=pe();return(p,o)=>{const s=z("i-head"),f=z("authenticated-layout");return w(),O(W,null,[e(s,{title:Ua}),e(f,null,{title:a(()=>[g(u(Ua))]),"left-button":a(()=>[l("div",Ym,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=r=>p.$inertia.get(p.route("admin.user.index")))})])]),"right-button":a(()=>[l("div",Km,[e(M,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=r=>p.$inertia.get(p.route("admin.user.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[l("div",Qm,[l("div",Wm,[l("div",Jm,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,null,{default:a(()=>[o[17]||(o[17]=l("div",{class:"text-subtitle1 text-bold text-grey-9"}," Profil Pengguna ",-1)),l("table",Gm,[l("tbody",null,[l("tr",null,[o[2]||(o[2]=l("td",{style:{width:"125px"}},"ID Pengguna",-1)),o[3]||(o[3]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.username),1)]),l("tr",null,[o[4]||(o[4]=l("td",null,"Nama Pengguna",-1)),o[5]||(o[5]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"Hak Akses",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,u(p.$CONSTANTS.USER_ROLES[t(n).props.data.role]),1)]),l("tr",null,[o[8]||(o[8]=l("td",null,"Dibuat",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,u(p.$dayjs(t(n).props.data.created_at).format("DD MMMM YY HH:mm:ss")),1)]),l("tr",null,[o[10]||(o[10]=l("td",null,"Diperbarui",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,u(p.$dayjs(t(n).props.data.updated_at).format("DD MMMM YY HH:mm:ss")),1)]),l("tr",null,[o[12]||(o[12]=l("td",null,"Terakhir login",-1)),o[13]||(o[13]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.last_login_datetime?p.$dayjs(t(n).props.data.last_login_datetime).format("DD MMMM YYYY HH:mm:ss"):"Belum pernah login"),1)]),t(n).props.data.last_activity_datetime?(w(),O("tr",Xm,[o[15]||(o[15]=l("td",null,"Aktifitas Terakhir",-1)),o[16]||(o[16]=l("td",null,":",-1)),l("td",null,[g(u(p.$dayjs(t(n).props.data.last_activity_datetime).format("DD MMMM YYYY HH:mm:ss"))+" ",1),o[14]||(o[14]=l("br",null,null,-1)),g(u(t(n).props.data.last_activity_description),1)])])):B("",!0)])])]),_:1})]),_:1})])])])]),_:1})],64)}}},ec=Object.freeze(Object.defineProperty({__proto__:null,default:Zm},Symbol.toStringTag,{value:"Module"}));function tc(m){return new RegExp("^(?=.{3,16}$)(?![_-])(?!.*[_-]{2})[a-zA-Z0-9_-]+(?<![_-])$").test(m)}const ac={class:"q-gutter-sm"},lc={class:"row justify-center"},oc={class:"col col-lg-6 q-pa-sm"},nc={__name:"Editor",setup(m){const n=Re(window.CONSTANTS.USER_ROLES),p=pe(),o=p.props.data.id?"Edit Pengguna":"Tambah Pengguna",s=Ce({id:p.props.data.id,name:p.props.data.name,username:p.props.data.username,password:"",role:p.props.data.role?p.props.data.role:n[0].value,active:!!p.props.data.active}),f=()=>Ne({form:s,url:route("admin.user.save")});return(r,i)=>{const d=z("i-head"),b=z("authenticated-layout");return w(),O(W,null,[e(d,{title:t(o)},null,8,["title"]),e(b,null,{title:a(()=>[g(u(t(o)),1)]),"left-button":a(()=>[l("div",ac,[e(M,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=y=>r.$inertia.get(r.route("admin.user.index")))})])]),default:a(()=>[l("div",lc,[l("div",oc,[e(Pe,{class:"row",onSubmit:J(f,["prevent"])},{default:a(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(ae,{class:"q-pt-none"},{default:a(()=>[Y(l("input",{type:"hidden",name:"id","onUpdate:modelValue":i[1]||(i[1]=y=>t(s).id=y)},null,512),[[Ye,t(s).id]]),e(X,{modelValue:t(s).name,"onUpdate:modelValue":i[2]||(i[2]=y=>t(s).name=y),modelModifiers:{trim:!0},label:"Nama",error:!!t(s).errors.name,disable:t(s).processing,"error-message":t(s).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(s).username,"onUpdate:modelValue":i[3]||(i[3]=y=>t(s).username=y),modelModifiers:{trim:!0},type:"text",label:"ID Pengguna","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.username,"error-message":t(s).errors.username,rules:[y=>y&&y.length>0||"ID Pengguna harus diisi.",y=>t(tc)(y)||"ID Pengguna tidak valid."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(X,{modelValue:t(s).password,"onUpdate:modelValue":i[4]||(i[4]=y=>t(s).password=y),type:"password",label:"Kata Sandi","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.password,"error-message":t(s).errors.password,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(se,{modelValue:t(s).role,"onUpdate:modelValue":i[5]||(i[5]=y=>t(s).role=y),label:"Hak Akses",options:t(n),"map-options":"","emit-value":"","lazy-rules":"",disable:t(s).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!t(s).errors.role,"error-message":t(s).errors.role,"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"]),e(Kt,{modelValue:t(s).active,"onUpdate:modelValue":i[6]||(i[6]=y=>t(s).active=y),disable:t(s).processing,label:"Aktif"},null,8,["modelValue","disable"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:a(()=>[e(M,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing,onClick:f},null,8,["disable"]),e(M,{icon:"cancel",label:"Batal",class:"text-black",disable:t(s).processing,onClick:i[7]||(i[7]=y=>t(K).get(r.route("admin.user.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})],64)}}},sc=Object.freeze(Object.defineProperty({__proto__:null,default:nc},Symbol.toStringTag,{value:"Module"})),rc={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},ic={class:"q-pa-sm"},uc={class:"full-width row flex-center text-grey-8 q-gutter-sm"},dc={class:"elipsis",style:{"max-width":"200px"}},mc={class:"flex justify-end"},Ea="Pengguna",cc={__name:"Index",setup(m){const n=[{value:"all",label:"Semua"},...Re(window.CONSTANTS.USER_ROLES)],p=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],o=pe(),s=ye(),f=o.props.auth.user,r=S([]),i=S(!0),d=S(!1),b=Me({role:"all",status:"active",search:""}),y=S({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"username",descending:!1}),k=[{name:"username",label:"ID Pengguna",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"role",label:"Hak Akses",field:"role",align:"center",sortable:!0},{name:"action",align:"right"}];we(()=>{v()});const c=()=>v(),v=(P=null)=>Ie({pagination:y,props:P,rows:r,loading:i,filter:b,url:route("admin.user.data"),tableRef:q}),x=P=>ze({url:route("admin.user.delete",P.id),message:`Hapus pengguna ${P.username}?`,fetchItemsCallback:v,loading:i}),_=te(()=>s.screen.gt.sm?k:k.filter(P=>P.name==="username"||P.name==="action")),A=P=>K.get(route("admin.user.detail",P.id)),q=S(null),h=S(null),T=Be(h);return(P,C)=>{const U=z("i-head"),$=z("authenticated-layout");return w(),O(W,null,[e(U,{title:Ea}),e($,null,je({title:a(()=>[g(u(Ea))]),"right-button":a(()=>[e(M,{icon:d.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:C[0]||(C[0]=E=>d.value=!d.value)},null,8,["icon"]),e(M,{icon:"add",dense:"",rounded:"",color:"primary",class:"q-ml-sm",onClick:C[1]||(C[1]=E=>t(K).get(P.route("admin.user.add")))})]),default:a(()=>[l("div",ic,[e(ke,{ref_key:"tableRef",ref:q,class:"full-height-table",style:He({height:t(T)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":C[6]||(C[6]=E=>y.value=E),filter:b.search,loading:i.value,columns:_.value,rows:r.value,"rows-per-page-options":[10,25,50],onRequest:v,"binary-state-sort":""},{loading:a(()=>[e(Ue,{showing:"",color:"red"})]),"no-data":a(({icon:E,message:Q,term:N})=>[l("div",uc,[l("span",null,u(Q)+" "+u(N?" with term "+N:""),1)])]),body:a(E=>[e(ve,{props:E,class:be([E.row.active?"":"bg-red-1","cursor-pointer"]),onClick:Q=>A(E.row)},{default:a(()=>[e(L,{key:"username",props:E},{default:a(()=>[l("div",null,u(E.row.username),1),t(s).screen.gt.sm?B("",!0):(w(),O(W,{key:0},[l("div",null,[e(V,{name:"person"}),g(" "+u(E.row.name),1)]),l("div",dc,[e(V,{name:"group"}),l("span",null,u(P.$CONSTANTS.USER_ROLES[E.row.role]),1)])],64))]),_:2},1032,["props"]),e(L,{key:"name",props:E},{default:a(()=>[g(u(E.row.name),1)]),_:2},1032,["props"]),e(L,{key:"role",props:E,align:"center"},{default:a(()=>[l("span",null,u(P.$CONSTANTS.USER_ROLES[E.row.role]),1)]),_:2},1032,["props"]),e(L,{key:"action",props:E},{default:a(()=>[l("div",mc,[e(M,{disable:E.row.id==t(f).id||E.row.username=="admin",icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:C[5]||(C[5]=J(()=>{},["stop"]))},{default:a(()=>[e(Le,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Te,{style:{width:"200px"}},{default:a(()=>[Y((w(),D(ee,{clickable:"",onClick:J(Q=>t(K).get(P.route("admin.user.duplicate",E.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:a(()=>C[7]||(C[7]=[g(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]]),Y((w(),D(ee,{clickable:"",onClick:J(Q=>t(K).get(P.route("admin.user.edit",E.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:a(()=>C[8]||(C[8]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]]),Y((w(),D(ee,{onClick:J(Q=>x(E.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>C[9]||(C[9]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[le],[re]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disable"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[d.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar",ref_key:"filterToolbarRef",ref:h},{default:a(()=>[l("div",rc,[e(se,{modelValue:b.role,"onUpdate:modelValue":[C[2]||(C[2]=E=>b.role=E),c],class:"custom-select col-xs-12 col-sm-2",options:n,label:"Role",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(se,{modelValue:b.status,"onUpdate:modelValue":[C[3]||(C[3]=E=>b.status=E),c],class:"custom-select col-xs-12 col-sm-2",options:p,label:"Status",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:b.search,"onUpdate:modelValue":C[4]||(C[4]=E=>b.search=E),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},pc=Object.freeze(Object.defineProperty({__proto__:null,default:cc},Symbol.toStringTag,{value:"Module"})),fc=dt({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(m,{slots:n,emit:p}){let o=!1,s,f,r=null,i=null,d,b;function y(){s&&s(),s=null,o=!1,r!==null&&(clearTimeout(r),r=null),i!==null&&(clearTimeout(i),i=null),f!==void 0&&f.removeEventListener("transitionend",d),d=null}function k(_,A,q){A!==void 0&&(_.style.height=`${A}px`),_.style.transition=`height ${m.duration}ms cubic-bezier(.25, .8, .50, 1)`,o=!0,s=q}function c(_,A){_.style.overflowY=null,_.style.height=null,_.style.transition=null,y(),A!==b&&p(A)}function v(_,A){let q=0;f=_,o===!0?(y(),q=_.offsetHeight===_.scrollHeight?0:void 0):(b="hide",_.style.overflowY="hidden"),k(_,q,A),r=setTimeout(()=>{r=null,_.style.height=`${_.scrollHeight}px`,d=h=>{i=null,(Object(h)!==h||h.target===_)&&c(_,"show")},_.addEventListener("transitionend",d),i=setTimeout(d,m.duration*1.1)},100)}function x(_,A){let q;f=_,o===!0?y():(b="show",_.style.overflowY="hidden",q=_.scrollHeight),k(_,q,A),r=setTimeout(()=>{r=null,_.style.height=0,d=h=>{i=null,(Object(h)!==h||h.target===_)&&c(_,"hide")},_.addEventListener("transitionend",d),i=setTimeout(d,m.duration*1.1)},100)}return It(()=>{o===!0&&y()}),()=>ce(Ha,{css:!1,appear:m.appear,onEnter:v,onLeave:x},n.default)}}),tt=oo({}),gc=Object.keys(za),at=dt({name:"QExpansionItem",props:{...za,...jl,...ja,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Dl,"click","afterShow","afterHide"],setup(m,{slots:n,emit:p}){const{proxy:{$q:o}}=Vt(),s=Ba(m,o),f=S(m.modelValue!==null?m.modelValue:m.defaultOpened),r=S(null),i=Bl(),{show:d,hide:b,toggle:y}=Ll({showing:f});let k,c;const v=te(()=>`q-expansion-item q-item-type q-expansion-item--${f.value===!0?"expanded":"collapsed"} q-expansion-item--${m.popup===!0?"popup":"standard"}`),x=te(()=>m.contentInsetLevel===void 0?null:{["padding"+(o.lang.rtl===!0?"Right":"Left")]:m.contentInsetLevel*56+"px"}),_=te(()=>m.disable!==!0&&(m.href!==void 0||m.to!==void 0&&m.to!==null&&m.to!=="")),A=te(()=>{const oe={};return gc.forEach(he=>{oe[he]=m[he]}),oe}),q=te(()=>_.value===!0||m.expandIconToggle!==!0),h=te(()=>m.expandedIcon!==void 0&&f.value===!0?m.expandedIcon:m.expandIcon||o.iconSet.expansionItem[m.denseToggle===!0?"denseIcon":"icon"]),T=te(()=>m.disable!==!0&&(_.value===!0||m.expandIconToggle===!0)),P=te(()=>({expanded:f.value===!0,detailsId:i.value,toggle:y,show:d,hide:b})),C=te(()=>{const oe=m.toggleAriaLabel!==void 0?m.toggleAriaLabel:o.lang.label[f.value===!0?"collapse":"expand"](m.label);return{role:"button","aria-expanded":f.value===!0?"true":"false","aria-controls":i.value,"aria-label":oe}});Ve(()=>m.group,oe=>{c!==void 0&&c(),oe!==void 0&&j()});function U(oe){_.value!==!0&&y(oe),p("click",oe)}function $(oe){oe.keyCode===13&&E(oe,!0)}function E(oe,he){he!==!0&&r.value!==null&&r.value.focus(),y(oe),wt(oe)}function Q(){p("afterShow")}function N(){p("afterHide")}function j(){k===void 0&&(k=zl()),f.value===!0&&(tt[m.group]=k);const oe=Ve(f,Je=>{Je===!0?tt[m.group]=k:tt[m.group]===k&&delete tt[m.group]}),he=Ve(()=>tt[m.group],(Je,Rt)=>{Rt===k&&Je!==void 0&&Je!==k&&b()});c=()=>{oe(),he(),tt[m.group]===k&&delete tt[m.group],c=void 0}}function Z(){const oe={class:[`q-focusable relative-position cursor-pointer${m.denseToggle===!0&&m.switchToggleSide===!0?" items-end":""}`,m.expandIconClass],side:m.switchToggleSide!==!0,avatar:m.switchToggleSide},he=[ce(V,{class:"q-expansion-item__toggle-icon"+(m.expandedIcon===void 0&&f.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:h.value})];return T.value===!0&&(Object.assign(oe,{tabindex:0,...C.value,onClick:E,onKeyup:$}),he.unshift(ce("div",{ref:r,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),ce(I,oe,()=>he)}function H(){let oe;return n.header!==void 0?oe=[].concat(n.header(P.value)):(oe=[ce(I,()=>[ce(de,{lines:m.labelLines},()=>m.label||""),m.caption?ce(de,{lines:m.captionLines,caption:!0},()=>m.caption):null])],m.icon&&oe[m.switchToggleSide===!0?"push":"unshift"](ce(I,{side:m.switchToggleSide===!0,avatar:m.switchToggleSide!==!0},()=>ce(V,{name:m.icon})))),m.disable!==!0&&m.hideExpandIcon!==!0&&oe[m.switchToggleSide===!0?"unshift":"push"](Z()),oe}function R(){const oe={ref:"item",style:m.headerStyle,class:m.headerClass,dark:s.value,disable:m.disable,dense:m.dense,insetLevel:m.headerInsetLevel};return q.value===!0&&(oe.clickable=!0,oe.onClick=U,Object.assign(oe,_.value===!0?A.value:C.value)),ce(ee,oe,H)}function ue(){return Y(ce("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:x.value,id:i.value},xt(n.default)),[[Fa,f.value]])}function _e(){const oe=[R(),ce(fc,{duration:m.duration,onShow:Q,onHide:N},ue)];return m.expandSeparator===!0&&oe.push(ce(Ke,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:s.value}),ce(Ke,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:s.value})),oe}return m.group!==void 0&&j(),It(()=>{c!==void 0&&c()}),()=>ce("div",{class:v.value},[ce("div",{class:"q-expansion-item__container relative-position"},_e())])}}),bc={class:"absolute-top",style:{height:"50px","border-bottom":"1px solid #ddd","align-items":"center","justify-content":"center"}},_c={style:{width:"100%",padding:"8px",display:"flex","justify-content":"space-between"}},vc={class:"text-bold"},yc={class:"text-grey-8 text-caption"},wc={class:"absolute-bottom text-grey-6 q-pa-md"},Lt="amanah-pos.layout.left-drawer-open",kc={__name:"AuthenticatedLayout",setup(m){const n=ye(),p=pe(),o=S(JSON.parse(localStorage.getItem(Lt))),s=S(!1),f=()=>o.value=!o.value;return Ve(o,r=>{localStorage.setItem(Lt,r)}),we(()=>{o.value=JSON.parse(localStorage.getItem(Lt)),n.screen.lt.md&&(o.value=!1)}),(r,i)=>(w(),D(Jl,{view:"lHh LpR lFf"},{default:a(()=>[e(Hl,null,{default:a(()=>[e(Ae,{class:"bg-grey-1 text-black toolbar-scrolled"},{default:a(()=>[o.value?B("",!0):(w(),D(M,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:f},{default:a(()=>[e(V,{class:"material-symbols-outlined"},{default:a(()=>i[21]||(i[21]=[g("dock_to_right")])),_:1})]),_:1})),lt(r.$slots,"left-button",{},void 0,!0),e(Fl,{class:be({"q-ml-sm":o.value}),style:{"font-size":"18px"}},{default:a(()=>[lt(r.$slots,"title",{},()=>[g(u(r.$config.APP_NAME),1)],!0)]),_:3},8,["class"]),lt(r.$slots,"right-button",{},void 0,!0)]),_:3}),lt(r.$slots,"header",{},void 0,!0)]),_:3}),e(Yl,{breakpoint:768,modelValue:o.value,"onUpdate:modelValue":i[20]||(i[20]=d=>o.value=d),bordered:"",class:"bg-grey-2",style:{color:"#444"}},{default:a(()=>[l("div",bc,[l("div",_c,[e(Kl,{modelValue:s.value,"onUpdate:modelValue":i[2]||(i[2]=d=>s.value=d),class:be(["profile-btn text-bold",{"profile-btn-active":s.value}]),flat:"",label:t(p).props.company.name,style:{"justify-content":"space-between","flex-grow":"1",overflow:"hidden"}},{default:a(()=>[e(Te,{id:"profile-btn-popup",style:{color:"#444"}},{default:a(()=>[e(ee,null,{default:a(()=>[e(nt,{style:{"margin-left":"-15px"}},{default:a(()=>[e(V,{name:"person"})]),_:1}),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>[l("div",vc,u(t(p).props.auth.user.name),1),l("div",yc,u(r.$CONSTANTS.USER_ROLES[t(p).props.auth.user.role])+" @ "+u(t(p).props.company.name),1)]),_:1})]),_:1})]),_:1}),e(Ke),Y((w(),D(ee,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/profile"),onClick:i[0]||(i[0]=d=>t(K).get(r.route("admin.profile.edit")))},{default:a(()=>[e(I,null,{default:a(()=>[e(de,null,{default:a(()=>[e(V,{name:"manage_accounts",class:"q-mr-sm"}),i[22]||(i[22]=g(" Profil Saya"))]),_:1})]),_:1})]),_:1},8,["active"])),[[re],[le]]),r.$can("admin.company-profile.edit")?Y((w(),D(ee,{key:0,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/company-profile"),onClick:i[1]||(i[1]=d=>t(K).get(r.route("admin.company-profile.edit")))},{default:a(()=>[e(I,null,{default:a(()=>[e(de,null,{default:a(()=>[e(V,{name:"home_work",class:"q-mr-sm"}),i[23]||(i[23]=g(" Profil Perusahaan"))]),_:1})]),_:1})]),_:1},8,["active"])),[[re],[le]]):B("",!0),e(Ke),Y((w(),D(ee,{clickable:"",style:{color:"inherit"},href:r.route("admin.auth.logout")},{default:a(()=>[e(I,null,{default:a(()=>[e(de,null,{default:a(()=>[e(V,{name:"logout",class:"q-mr-sm"}),i[24]||(i[24]=g(" Keluar"))]),_:1})]),_:1})]),_:1},8,["href"])),[[re],[le]])]),_:1})]),_:1},8,["modelValue","label","class"]),o.value?(w(),D(M,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:f},{default:a(()=>[e(V,{name:"dock_to_right"})]),_:1})):B("",!0)])]),e(Ql,{style:{height:"calc(100% - 50px)","margin-top":"50px"}},{default:a(()=>[e(Te,{id:"main-nav",style:{"margin-bottom":"50px"}},{default:a(()=>[Y((w(),D(ee,{clickable:"",active:r.$page.url.startsWith("/admin/dashboard"),onClick:i[3]||(i[3]=d=>t(K).get(r.route("admin.dashboard")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"dashboard"})]),_:1}),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>i[25]||(i[25]=[g("Dashboard")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]),e(Ke),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(w(),D(at,{key:0,icon:"storefront",label:"Penjualan","default-opened":r.$page.url.startsWith("/admin/sales-orders")||r.$page.url.startsWith("/admin/customers")},{default:a(()=>[Y((w(),D(ee,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/sales-orders"),onClick:i[4]||(i[4]=d=>t(K).get(r.route("admin.sales-order.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"shopping_cart"})]),_:1}),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>i[26]||(i[26]=[g("Penjualan")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]),Y((w(),D(ee,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/customers"),onClick:i[5]||(i[5]=d=>t(K).get(r.route("admin.customer.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"people"})]),_:1}),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>i[27]||(i[27]=[g("Pelanggan")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]])]),_:1},8,["default-opened"])):B("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(w(),D(at,{key:1,icon:"local_shipping",label:"Pembelian","default-opened":r.$page.url.startsWith("/admin/purchase-orders")||r.$page.url.startsWith("/admin/suppliers")},{default:a(()=>[Y((w(),D(ee,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/purchase-orders"),onClick:i[6]||(i[6]=d=>t(K).get(r.route("admin.purchase-order.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"shopping_cart"})]),_:1}),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>i[28]||(i[28]=[g("Pembelian")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]),Y((w(),D(ee,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/suppliers"),onClick:i[7]||(i[7]=d=>t(K).get(r.route("admin.supplier.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"people"})]),_:1}),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>i[29]||(i[29]=[g("Pemasok")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]])]),_:1},8,["default-opened"])):B("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(w(),D(at,{key:2,icon:"inventory_2",label:"Inventori","default-opened":r.$page.url.startsWith("/admin/products")||r.$page.url.startsWith("/admin/product-categories")||r.$page.url.startsWith("/admin/stock-adjustments")},{default:a(()=>[Y((w(),D(ee,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/stock-adjustments"),onClick:i[8]||(i[8]=d=>t(K).get(r.route("admin.stock-adjustment.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"swap_vert"})]),_:1}),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>i[30]||(i[30]=[g("Penyesuaian Stok")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]),Y((w(),D(ee,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/products"),onClick:i[9]||(i[9]=d=>t(K).get(r.route("admin.product.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"box"})]),_:1}),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>i[31]||(i[31]=[g("Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]),Y((w(),D(ee,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/product-categories"),onClick:i[10]||(i[10]=d=>t(K).get(r.route("admin.product-category.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"category"})]),_:1}),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>i[32]||(i[32]=[g("Kategori Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]])]),_:1},8,["default-opened"])):B("",!0),e(Ke),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(w(),D(at,{key:3,icon:"wallet",label:"Wallet","default-opened":r.$page.url.startsWith("/admin/customer-wallet-transactions")||r.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations")},{default:a(()=>[Y((w(),D(ee,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations"),onClick:i[11]||(i[11]=d=>t(K).get(r.route("admin.customer-wallet-transaction-confirmation.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"add_task"})]),_:1}),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>i[33]||(i[33]=[g("Konfirmasi Top Up")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]),Y((w(),D(ee,{class:"subnav",clickable:"",active:r.$page.url=="/admin/customer-wallet-transactions",onClick:i[12]||(i[12]=d=>t(K).get(r.route("admin.customer-wallet-transaction.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"moving"})]),_:1}),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>i[34]||(i[34]=[g("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]])]),_:1},8,["default-opened"])):B("",!0),e(Ke),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(w(),D(at,{key:4,icon:"finance",label:"Keuangan","default-opened":r.$page.url.startsWith("/admin/finance-accounts")||r.$page.url.startsWith("/admin/finance-transactions")},{default:a(()=>[Y((w(),D(ee,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/finance-transactions"),onClick:i[13]||(i[13]=d=>t(K).get(r.route("admin.finance-transaction.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"moving"})]),_:1}),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>i[35]||(i[35]=[g("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]),Y((w(),D(ee,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/finance-accounts"),onClick:i[14]||(i[14]=d=>t(K).get(r.route("admin.finance-account.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"groups_2"})]),_:1}),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>i[36]||(i[36]=[g("Akun Kas")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]])]),_:1},8,["default-opened"])):B("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(w(),D(at,{key:5,icon:"paid",label:"Operasional","default-opened":r.$page.url.startsWith("/admin/operational-costs")||r.$page.url.startsWith("/admin/operational-cost-categories")},{default:a(()=>[Y((w(),D(ee,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/operational-costs"),onClick:i[15]||(i[15]=d=>t(K).get(r.route("admin.operational-cost.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"request_quote"})]),_:1}),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>i[37]||(i[37]=[g("Biaya Operasional")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]),Y((w(),D(ee,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/operational-cost-categories"),onClick:i[16]||(i[16]=d=>t(K).get(r.route("admin.operational-cost-category.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"category"})]),_:1}),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>i[38]||(i[38]=[g("Kategori")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]])]),_:1},8,["default-opened"])):B("",!0),e(Ke),e(at,{icon:"settings",label:"Pengaturan","default-opened":r.$page.url.startsWith("/admin/settings")},{default:a(()=>[r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?Y((w(),D(ee,{key:0,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/users"),onClick:i[17]||(i[17]=d=>t(K).get(r.route("admin.user.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"group"})]),_:1}),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>i[39]||(i[39]=[g("Pengguna")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]):B("",!0),Y((w(),D(ee,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/profile"),onClick:i[18]||(i[18]=d=>t(K).get(r.route("admin.profile.edit")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"manage_accounts"})]),_:1}),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>i[40]||(i[40]=[g("Profil Saya")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?Y((w(),D(ee,{key:1,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/company-profile"),onClick:i[19]||(i[19]=d=>t(K).get(r.route("admin.company-profile.edit")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"apartment"})]),_:1}),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>i[41]||(i[41]=[g("Profil Maqsof")])),_:1})]),_:1})]),_:1},8,["active"])),[[le]]):B("",!0)]),_:1},8,["default-opened"]),e(Ke),Y((w(),D(ee,{clickable:"",style:{color:"inherit"},href:r.route("customer.auth.logout")},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(V,{name:"logout"})]),_:1}),e(I,null,{default:a(()=>[e(de,null,{default:a(()=>i[42]||(i[42]=[g("Logout")])),_:1})]),_:1})]),_:1},8,["href"])),[[re],[le]]),l("div",wc," © 2025 - "+u(r.$config.APP_NAME+" v"+r.$config.APP_VERSION_STR),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Wl,{class:"bg-grey-1"},{default:a(()=>[e(xe,null,{default:a(()=>[lt(r.$slots,"default",{},void 0,!0)]),_:3})]),_:3}),lt(r.$slots,"footer",{},void 0,!0)]),_:3}))}},hc=it(kc,[["__scopeId","data-v-5701f378"]]),$c={__name:"GuestLayout",setup(m){return(n,p)=>(w(),D(Gl,null,{default:a(()=>[lt(n.$slots,"default")]),_:3}))}};Xl({layouts:{authenticated:hc,guest:$c},pagesGlob:Object.assign({"./pages/About.vue":vo,"./pages/_examples/Autocomplete1.vue":ho,"./pages/auth/Login.vue":qo,"./pages/company-profile/Edit.vue":Mo,"./pages/company-profile/partials/CompanyInfoForm.vue":To,"./pages/customer-wallet-transaction-confirmation/Index.vue":Do,"./pages/customer-wallet-transaction/Adjustment.vue":Lo,"./pages/customer-wallet-transaction/Editor.vue":Yo,"./pages/customer-wallet-transaction/Index.vue":Zo,"./pages/customer/Detail.vue":qn,"./pages/customer/Editor.vue":On,"./pages/customer/Index.vue":An,"./pages/dashboard/Index.vue":as,"./pages/dashboard/cards/ChartCard.vue":is,"./pages/dashboard/cards/SummaryCard.vue":vs,"./pages/dashboard/cards/TopCard.vue":hs,"./pages/finance-account/Detail.vue":Os,"./pages/finance-account/Editor.vue":As,"./pages/finance-account/Index.vue":Ws,"./pages/finance-transaction/Editor.vue":Zs,"./pages/finance-transaction/Index.vue":ur,"./pages/operational-cost-category/Editor.vue":pr,"./pages/operational-cost-category/Index.vue":wr,"./pages/operational-cost/Detail.vue":Tr,"./pages/operational-cost/Editor.vue":Ur,"./pages/operational-cost/Index.vue":Fr,"./pages/product-category/Editor.vue":Wr,"./pages/product-category/Index.vue":ai,"./pages/product/Detail.vue":wi,"./pages/product/Editor.vue":xi,"./pages/product/Index.vue":Ri,"./pages/profile/Edit.vue":Li,"./pages/profile/partials/UpdatePasswordForm.vue":Ui,"./pages/profile/partials/UpdateProfileInformationForm.vue":Ei,"./pages/purchase-order/Editor.vue":$u,"./pages/purchase-order/Editor_v1.vue":Vu,"./pages/purchase-order/Index.vue":Ru,"./pages/purchase-order/editor/ConfirmDeleteDialog.vue":pu,"./pages/purchase-order/editor/ItemsListTable.vue":ou,"./pages/purchase-order/editor/SupplierEditorDialog.vue":fu,"./pages/purchase-order/editor/TransactionHeader.vue":Zi,"./pages/purchase-order/editor/TransactionSummary.vue":mu,"./pages/sales-order/Detail.vue":Au,"./pages/sales-order/Editor.vue":Rd,"./pages/sales-order/Index.vue":Fd,"./pages/sales-order/editor/ConfirmDeleteDialog.vue":vd,"./pages/sales-order/editor/CustomerEditorDialog.vue":id,"./pages/sales-order/editor/ItemEditorDialog.vue":Cd,"./pages/sales-order/editor/ItemsListTable.vue":ed,"./pages/sales-order/editor/PaymentDialog.vue":bd,"./pages/sales-order/editor/TransactionHeader.vue":Qu,"./pages/sales-order/editor/TransactionSummary.vue":rd,"./pages/stock-adjustment/Create.vue":em,"./pages/stock-adjustment/Detail.vue":dm,"./pages/stock-adjustment/Editor.vue":_m,"./pages/stock-adjustment/Index.vue":Cm,"./pages/supplier/Detail.vue":Mm,"./pages/supplier/Editor.vue":Dm,"./pages/supplier/Index.vue":Fm,"./pages/user/Detail.vue":ec,"./pages/user/Editor.vue":sc,"./pages/user/Index.vue":pc})});
