import{_ as _t,r as Q,c as h,o as f,a as e,w as l,b as t,Q as ce,d as ae,e as y,F as Y,f as q,g as O,h as k,i as de,t as r,u as a,j as H,k as Ye,l as la,T as Le,m as Io,n as Se,p as Fe,q as W,s as Xe,v as zt,x as S,y as ne,z as U,A as mt,B as fe,C as Be,D as Z,E as dt,G as it,H as X,I as Ro,J as ca,K as xl,L as Ct,M as J,N as oa,O as we,R as se,P as ve,S as Sl,U as Do,V as Uo,W as Ot,X as ht,Y as pa,Z as va,$ as Ao,a0 as Ae,a1 as Eo,a2 as jo,a3 as Mo,a4 as qt,a5 as No,a6 as Bo,a7 as fa,a8 as jt,a9 as ga,aa as Ta,ab as Fo,ac as Gt,ad as Pa,ae as zo,af as Oa,ag as Lo,ah as Vl,ai as Ho,aj as Ko,ak as Yo,al as _a,am as ka,an as Qo,ao as St,ap as be,aq as Pe,ar as De,as as Ue,at as he,au as qe,av as K,aw as _e,ax as ut,ay as je,az as Te,aA as Zt,aB as xe,aC as Je,aD as We,aE as ze,aF as Ze,aG as Me,aH as Qe,aI as Ee,aJ as le,aK as F,aL as ue,aM as at,aN as Re,aO as ql,aP as na,aQ as Ht,aR as Kt,aS as Yt,aT as It,aU as Rt,aV as Ge,aW as Ia,aX as sa,aY as Ra,aZ as ra,a_ as Mt,a$ as Nt,b0 as wa,b1 as Qt,b2 as Wo,b3 as Jo,b4 as Cl,b5 as Go,b6 as Xo,b7 as Zo,b8 as en,b9 as Da,ba as tn,bb as an,bc as ln,bd as on,be as Tl,bf as tt,bg as nn,bh as Ua,bi as sn,bj as rn,bk as dn,bl as un,bm as mn,bn as cn,bo as pn,bp as ye,bq as Lt,br as ot,bs as fn,bt as gn,bu as bn,bv as Pl,bw as ea,bx as ct,by as vn,bz as yn,bA as _n,bB as wt,bC as ta,bD as Dt,bE as Ol,bF as Il,bG as kn,bH as bt,bI as vt,bJ as yt,bK as Wt,bL as ia,bM as Rl,bN as wn,bO as hn,bP as $n,bQ as Dl,bR as xn,bS as Sn,bT as Vn,bU as Pt,bV as qn,bW as Cn,bX as Tn,bY as Pn,bZ as On,b_ as In,b$ as Rn,c0 as Dn,c1 as Un}from"./BaseGuestLayout-Bpy6VPPc.js";const An={},En={class:"row"};function jn(d,n){const m=Q("i-head"),o=Q("authenticated-layout");return f(),h(Y,null,[e(m,{title:"About"}),e(o,null,{title:l(()=>n[0]||(n[0]=[y("About")])),default:l(()=>[t("div",En,[e(ce,{class:"col q-pa-md q-ma-md",square:"",flat:"",bordered:""},{default:l(()=>[e(ae,null,{default:l(()=>n[1]||(n[1]=[t("div",{class:"q-mb-md text-h4"},"About",-1),t("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Autem soluta, accusamus placeat eius eligendi perferendis quisquam veritatis iste debitis laboriosam facere et aliquam quos beatae illo distinctio rerum eos! Expedita, voluptatem. Aut nihil deleniti magni fuga eius labore aliquam nulla quod ullam sunt amet eum asperiores, harum unde eligendi tempore sapiente. Placeat sed, dignissimos voluptatum perspiciatis saepe aspernatur, maxime est, ipsam quas nobis cumque sunt labore molestias? Amet in sed ullam recusandae, nostrum dicta facilis blanditiis incidunt quae commodi soluta id impedit vel fugit illo, molestias reiciendis, provident nam molestiae! Ipsam, hic. Facere aut quisquam praesentium enim illum, pariatur nam.",-1),t("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, cum nulla. Ut eligendi tenetur aliquam cum mollitia repellat voluptas, fugiat doloremque sunt commodi enim excepturi distinctio id sapiente incidunt ipsam asperiores cupiditate, labore libero! Ad facere magni cumque perspiciatis, adipisci possimus pariatur quo nobis minus, est enim similique quaerat vel asperiores ipsam harum et, totam fugit.",-1),t("p",null,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Suscipit aspernatur maxime consectetur, consequatur excepturi facilis praesentium rem placeat sapiente, maiores doloribus modi voluptate. Unde autem dolor officiis numquam incidunt quasi aspernatur nam dolores ratione quidem recusandae, nulla qui provident molestias odit nemo praesentium quas voluptatem aliquid perferendis, iste veritatis vitae. Dolor, eligendi quidem distinctio asperiores doloremque culpa corporis quibusdam earum ex laudantium iure officia ullam nostrum maxime voluptatum laboriosam impedit labore illum. Culpa, veniam dolor odio ad eius nisi, aspernatur quia veritatis blanditiis repellat id minima deserunt beatae?",-1)])),_:1})]),_:1})])]),_:1})],64)}const Mn=_t(An,[["render",jn]]),Nn=Object.freeze(Object.defineProperty({__proto__:null,default:Mn},Symbol.toStringTag,{value:"Module"})),Bn={class:"q-ma-md"},Fn={key:0},zn={__name:"Autocomplete1",setup(d){const n=q(null),m=q([]);let o=null;const s=(i,b)=>{if(i.length<2){b(()=>{m.value=[]});return}o&&clearTimeout(o),o=setTimeout(()=>{Ye.get(`/web-api/customers?q=${i}`).then(g=>{const u=g.data.data.map(c=>({label:`${c.username} - ${c.name}`,value:c.id,data:c}));b(()=>{m.value=u})}).catch(g=>{console.error("Gagal mengambil data pelanggan:",g),b(()=>{m.value=[]})})})};return(i,b)=>{const g=Q("guest-layout");return f(),O(g,null,{default:l(()=>[t("div",Bn,[e(de,{class:"full-width",modelValue:n.value,"onUpdate:modelValue":b[0]||(b[0]=u=>n.value=u),"use-input":"",label:"Cari Pelanggan",options:m.value,onFilter:s,hint:"Ketik minimal 2 karakter untuk mencari",clearable:""},null,8,["modelValue","options"]),n.value?(f(),h("div",Fn," Saldo: Rp. "+r(a(H)(n.value.data.balance)),1)):k("",!0)])]),_:1})}}},Ln=Object.freeze(Object.defineProperty({__proto__:null,default:zn},Symbol.toStringTag,{value:"Module"})),Hn={style:{"margin-left":"-10px"}},da={__name:"StandardCheckBox",props:{modelValue:{type:Boolean,required:!0},disable:{type:Boolean,default:!1},label:{type:String,default:""}},emits:["update:modelValue"],setup(d,{emit:n}){const m=d,o=n;return(s,i)=>(f(),h("div",Hn,[e(la,{class:"full-width q-pl-none","model-value":m.modelValue,disable:m.disable,label:m.label,"onUpdate:modelValue":i[0]||(i[0]=b=>o("update:modelValue",b))},null,8,["model-value","disable","label"])]))}};function ya(d){return d instanceof File||d instanceof Blob||d instanceof FileList&&d.length>0||d instanceof FormData&&Array.from(d.values()).some(n=>ya(n))||typeof d=="object"&&d!==null&&Object.values(d).some(n=>ya(n))}function Ul(d,n=null){const m=Le(d,n);let o=b=>b,s=null;const i={transform:b=>g=>(o=g,b),submit:b=>(g,u,c={})=>{m.wasSuccessful=!1,m.recentlySuccessful=!1,m.clearErrors(),clearTimeout(s),c.onBefore&&c.onBefore(),m.processing=!0,c.onStart&&c.onStart();const v=o(m.data());axios[g](u,v,{headers:{"Content-Type":ya(v)?"multipart/form-data":"application/json"},onUploadProgress:_=>{m.progress=_,c.onProgress&&c.onProgress(_)}}).then(_=>{m.processing=!1,m.progress=null,m.clearErrors(),m.wasSuccessful=!0,m.recentlySuccessful=!0,s=setTimeout(()=>m.recentlySuccessful=!1,2e3),c.onSuccess&&c.onSuccess(_.data),m.defaults(Io(m.data())),m.isDirty=!1}).catch(_=>{var p;m.processing=!1,m.progress=null,m.clearErrors(),((p=_.response)==null?void 0:p.status)===422&&Object.keys(_.response.data.errors).forEach(V=>{m.setError(V,_.response.data.errors[V][0])}),c.onError&&c.onError(_)}).finally(()=>{m.processing=!1,m.progress=null,c.onFinish&&c.onFinish()})}};return new Proxy(m,{get:(b,g,u)=>Object.keys(i).indexOf(g)<0?b[g]:i[g](u)})}const Kn={class:"column"},Yn={class:"row"},Qn={class:"flex justify-center"},Wn={__name:"Login",setup(d){let n=Ul({username:window.CONFIG.APP_DEMO?"admin":"",password:window.CONFIG.APP_DEMO?"12345":"",remember:!0});const m=()=>Xe({form:n,url:route("admin.auth.login"),onSuccess:()=>{n.processing=!0,window.location.href=route("admin.dashboard")}}),o=q(!1);return(s,i)=>{const b=Q("i-head"),g=Q("guest-layout");return f(),h(Y,null,[e(b,{title:"Login"}),e(g,null,{default:l(()=>[e(Se,{class:"row justify-center items-center"},{default:l(()=>[t("div",Kn,[t("div",Yn,[e(Fe,{class:"q-gutter-md",onSubmit:W(m,["prevent"])},{default:l(()=>[e(ce,{square:"",bordered:"",flat:"",class:"q-pa-md"},{default:l(()=>[e(ae,{class:"text-center"},{default:l(()=>[t("div",Qn,[e(zt,{size:"80px"},{default:l(()=>[e(S,{name:"badge",color:"primary"})]),_:1})]),i[4]||(i[4]=t("h6",{class:"q-my-sm text-primary"},"Login Staff",-1))]),_:1}),e(ae,null,{default:l(()=>[e(ne,{modelValue:a(n).username,"onUpdate:modelValue":i[0]||(i[0]=u=>a(n).username=u),modelModifiers:{trim:!0},label:"Username","lazy-rules":"",error:!!a(n).errors.username,autocomplete:"username","error-message":a(n).errors.username,disable:a(n).processing,rules:[u=>u&&u.length>0||"Masukkan Username"],"hide-bottom-space":"","data-test":"username"},{append:l(()=>[e(S,{name:"person"})]),_:1},8,["modelValue","error","error-message","disable","rules"]),e(ne,{modelValue:a(n).password,"onUpdate:modelValue":i[2]||(i[2]=u=>a(n).password=u),type:o.value?"text":"password",label:"Kata Sandi",error:!!a(n).errors.password,autocomplete:"current-password","error-message":a(n).errors.password,"lazy-rules":"",disable:a(n).processing,rules:[u=>u&&u.length>0||"Masukkan kata sandi"],"hide-bottom-space":"","data-test":"password"},{append:l(()=>[e(U,{dense:"",flat:"",round:"",onClick:i[1]||(i[1]=u=>o.value=!o.value)},{default:l(()=>[e(S,{name:o.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","error","error-message","disable","rules"]),e(da,{class:"q-mt-sm",modelValue:a(n).remember,"onUpdate:modelValue":i[3]||(i[3]=u=>a(n).remember=u),disable:a(n).processing,label:"Ingat saya di perangkat ini"},null,8,["modelValue","disable"])]),_:1}),e(mt,null,{default:l(()=>[e(U,{icon:"login",type:"submit",color:"primary",class:"full-width",label:"Login",disable:a(n).processing,loading:a(n).loading,"data-test":"submit"},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Jn=Object.freeze(Object.defineProperty({__proto__:null,default:Wn},Symbol.toStringTag,{value:"Module"})),Gn={class:"q-gutter-sm"},Xn={class:"col col-md-6 q-pa-xs"},Zn={class:"detail q-mt-md"},es={key:0},ts={class:"text-bold"},Aa="Tutup Sesi Kasir",as={__name:"Close",setup(d){const n=fe(),m=Le({closing_notes:n.props.data.closing_notes,closing_balance:parseFloat(n.props.data.closing_balance)}),o=()=>Xe({form:m,url:route("admin.cashier-session.close",{id:n.props.data.id})});return(s,i)=>{const b=Q("i-head"),g=Q("authenticated-layout");return f(),h(Y,null,[e(b,{title:Aa}),e(g,null,{title:l(()=>[y(r(Aa))]),"left-button":l(()=>[t("div",Gn,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=u=>s.$inertia.get(s.route("admin.cashier-session.index")))})])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",Xn,[e(Fe,{class:"row",onSubmit:W(o,["prevent"]),onValidationError:a(Be)},{default:l(()=>[Z(t("input",{type:"hidden",name:"id","onUpdate:modelValue":i[1]||(i[1]=u=>a(m).id=u)},null,512),[[dt,a(m).id]]),e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[t("table",Zn,[t("tbody",null,[t("tr",null,[i[4]||(i[4]=t("td",{style:{width:"130px"}},"Session ID",-1)),i[5]||(i[5]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.id),1)]),t("tr",null,[i[6]||(i[6]=t("td",null,"Terminal",-1)),i[7]||(i[7]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.cashier_terminal.name),1)]),t("tr",null,[i[8]||(i[8]=t("td",null,"Kasir",-1)),i[9]||(i[9]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.user.username)+" - "+r(a(n).props.data.user.name),1)]),t("tr",null,[i[10]||(i[10]=t("td",null,"Saldo Awal",-1)),i[11]||(i[11]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.opening_balance)),1)]),a(n).props.data.opening_notes?(f(),h("tr",es,[i[12]||(i[12]=t("td",null,"Catatan Buka",-1)),i[13]||(i[13]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.opening_notes),1)])):k("",!0),t("tr",null,[i[14]||(i[14]=t("td",null,"Total Penjualan",-1)),i[15]||(i[15]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.total_sales)),1)]),t("tr",null,[i[16]||(i[16]=t("td",null,"Total Pemasukan",-1)),i[17]||(i[17]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.total_income)),1)]),t("tr",null,[i[18]||(i[18]=t("td",null,"Total Pengeluaran",-1)),i[19]||(i[19]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.total_expense)),1)]),t("tr",null,[i[21]||(i[21]=t("td",null,"Saldo Akhir",-1)),i[22]||(i[22]=t("td",null,":",-1)),t("td",null,[t("div",ts,r(a(it)(a(n).props.data.closing_balance)),1),i[20]||(i[20]=t("div",{class:"text-red"}," Pastikan saldo akhir sesuai dengan jumlah uang di laci! ",-1))])])])]),e(ne,{modelValue:a(m).closing_notes,"onUpdate:modelValue":i[2]||(i[2]=u=>a(m).closing_notes=u),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Catatan",disable:a(m).processing,error:!!a(m).errors.closing_notes,"error-message":a(m).errors.closing_notes,rules:[],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(U,{type:"submit",label:"Tutup",icon:"logout",color:"primary",disable:a(m).processing},null,8,["disable"]),e(U,{label:"Batal",icon:"cancel",disable:a(m).processing,onClick:i[3]||(i[3]=u=>a(X).get(s.route("admin.cashier-session.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},ls=Object.freeze(Object.defineProperty({__proto__:null,default:as},Symbol.toStringTag,{value:"Module"}));let os=0;const ns=["click","keydown"],ss={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${os++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function rs(d,n,m,o){const s=Ro(xl,ca);if(s===ca)return console.error("QTab/QRouteTab component needs to be child of QTabs"),ca;const{proxy:i}=Ct(),b=q(null),g=q(null),u=q(null),c=J(()=>d.disable===!0||d.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},d.ripple===!0?{}:d.ripple)),v=J(()=>s.currentModel.value===d.name),_=J(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(v.value===!0?" q-tab--active"+(s.tabProps.value.activeClass?" "+s.tabProps.value.activeClass:"")+(s.tabProps.value.activeColor?` text-${s.tabProps.value.activeColor}`:"")+(s.tabProps.value.activeBgColor?` bg-${s.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(d.icon&&d.label&&s.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(d.noCaps===!0||s.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(d.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),p=J(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(s.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(d.contentClass!==void 0?` ${d.contentClass}`:"")),V=J(()=>d.disable===!0||s.hasFocus.value===!0||v.value===!1&&s.hasActiveTab.value===!0?-1:d.tabindex||0);function I(A,z){if(z!==!0&&b.value!==null&&b.value.focus(),d.disable!==!0){s.updateModel({name:d.name}),m("click",A);return}}function w(A){Do(A,[13,32])?I(A,!0):Uo(A)!==!0&&A.keyCode>=35&&A.keyCode<=40&&A.altKey!==!0&&A.metaKey!==!0&&s.onKbdNavigate(A.keyCode,i.$el)===!0&&Ot(A),m("keydown",A)}function R(){const A=s.tabProps.value.narrowIndicator,z=[],T=ve("div",{ref:u,class:["q-tab__indicator",s.tabProps.value.indicatorClass]});d.icon!==void 0&&z.push(ve(S,{class:"q-tab__icon",name:d.icon})),d.label!==void 0&&z.push(ve("div",{class:"q-tab__label"},d.label)),d.alert!==!1&&z.push(d.alertIcon!==void 0?ve(S,{class:"q-tab__alert-icon",color:d.alert!==!0?d.alert:void 0,name:d.alertIcon}):ve("div",{class:"q-tab__alert"+(d.alert!==!0?` text-${d.alert}`:"")})),A===!0&&z.push(T);const D=[ve("div",{class:"q-focus-helper",tabindex:-1,ref:b}),ve("div",{class:p.value},Sl(n.default,z))];return A===!1&&D.push(T),D}const C={name:J(()=>d.name),rootRef:g,tabIndicatorRef:u,routeData:o};oa(()=>{s.unregisterTab(C)}),we(()=>{s.registerTab(C)});function $(A,z){const T={ref:g,class:_.value,tabindex:V.value,role:"tab","aria-selected":v.value===!0?"true":"false","aria-disabled":d.disable===!0?"true":void 0,onClick:I,onKeydown:w,...z};return Z(ve(A,T,R()),[[se,c.value]])}return{renderTab:$,$tabs:s}}const nt=ht({name:"QTab",props:ss,emits:ns,setup(d,{slots:n,emit:m}){const{renderTab:o}=rs(d,n,m);return()=>o("div")}});function is(d,n,m){const o=m===!0?["left","right"]:["top","bottom"];return`absolute-${n===!0?o[0]:o[1]}${d?` text-${d}`:""}`}const ds=["left","center","right","justify"],Ut=ht({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:d=>ds.includes(d)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(d,{slots:n,emit:m}){const{proxy:o}=Ct(),{$q:s}=o,{registerTick:i}=pa(),{registerTick:b}=pa(),{registerTick:g}=pa(),{registerTimeout:u,removeTimeout:c}=va(),{registerTimeout:v,removeTimeout:_}=va(),p=q(null),V=q(null),I=q(d.modelValue),w=q(!1),R=q(!0),C=q(!1),$=q(!1),A=[],z=q(0),T=q(!1);let D=null,M=null,N;const B=J(()=>({activeClass:d.activeClass,activeColor:d.activeColor,activeBgColor:d.activeBgColor,indicatorClass:is(d.indicatorColor,d.switchIndicator,d.vertical),narrowIndicator:d.narrowIndicator,inlineLabel:d.inlineLabel,noCaps:d.noCaps})),x=J(()=>{const re=z.value,ge=I.value;for(let $e=0;$e<re;$e++)if(A[$e].name.value===ge)return!0;return!1}),L=J(()=>`q-tabs__content--align-${w.value===!0?"left":$.value===!0?"justify":d.align}`),ie=J(()=>`q-tabs row no-wrap items-center q-tabs--${w.value===!0?"":"not-"}scrollable q-tabs--${d.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${d.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${d.mobileArrows===!0?"":"out"}-arrows`+(d.dense===!0?" q-tabs--dense":"")+(d.shrink===!0?" col-shrink":"")+(d.stretch===!0?" self-stretch":"")),j=J(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+L.value+(d.contentClass!==void 0?` ${d.contentClass}`:"")),E=J(()=>d.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),G=J(()=>d.vertical!==!0&&s.lang.rtl===!0),ke=J(()=>Ao===!1&&G.value===!0);Ae(G,gt),Ae(()=>d.modelValue,re=>{oe({name:re,setCurrent:!0,skipEmit:!0})}),Ae(()=>d.outsideArrows,Ve);function oe({name:re,setCurrent:ge,skipEmit:$e}){I.value!==re&&($e!==!0&&d["onUpdate:modelValue"]!==void 0&&m("update:modelValue",re),(ge===!0||d["onUpdate:modelValue"]===void 0)&&(ft(I.value,re),I.value=re))}function Ve(){i(()=>{Ne({width:p.value.offsetWidth,height:p.value.offsetHeight})})}function Ne(re){if(E.value===void 0||V.value===null)return;const ge=re[E.value.container],$e=Math.min(V.value[E.value.scroll],Array.prototype.reduce.call(V.value.children,(Ke,Ie)=>Ke+(Ie[E.value.content]||0),0)),He=ge>0&&$e>ge;w.value=He,He===!0&&b(gt),$.value=ge<parseInt(d.breakpoint,10)}function ft(re,ge){const $e=re!=null&&re!==""?A.find(Ke=>Ke.name.value===re):null,He=ge!=null&&ge!==""?A.find(Ke=>Ke.name.value===ge):null;if(Jt===!0)Jt=!1;else if($e&&He){const Ke=$e.tabIndicatorRef.value,Ie=He.tabIndicatorRef.value;D!==null&&(clearTimeout(D),D=null),Ke.style.transition="none",Ke.style.transform="none",Ie.style.transition="none",Ie.style.transform="none";const Ce=Ke.getBoundingClientRect(),rt=Ie.getBoundingClientRect();Ie.style.transform=d.vertical===!0?`translate3d(0,${Ce.top-rt.top}px,0) scale3d(1,${rt.height?Ce.height/rt.height:1},1)`:`translate3d(${Ce.left-rt.left}px,0,0) scale3d(${rt.width?Ce.width/rt.width:1},1,1)`,g(()=>{D=setTimeout(()=>{D=null,Ie.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",Ie.style.transform="none"},70)})}He&&w.value===!0&&pt(He.rootRef.value)}function pt(re){const{left:ge,width:$e,top:He,height:Ke}=V.value.getBoundingClientRect(),Ie=re.getBoundingClientRect();let Ce=d.vertical===!0?Ie.top-He:Ie.left-ge;if(Ce<0){V.value[d.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(Ce),gt();return}Ce+=d.vertical===!0?Ie.height-Ke:Ie.width-$e,Ce>0&&(V.value[d.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(Ce),gt())}function gt(){const re=V.value;if(re===null)return;const ge=re.getBoundingClientRect(),$e=d.vertical===!0?re.scrollTop:Math.abs(re.scrollLeft);G.value===!0?(R.value=Math.ceil($e+ge.width)<re.scrollWidth-1,C.value=$e>0):(R.value=$e>0,C.value=d.vertical===!0?Math.ceil($e+ge.height)<re.scrollHeight:Math.ceil($e+ge.width)<re.scrollWidth)}function ee(re){M!==null&&clearInterval(M),M=setInterval(()=>{et(re)===!0&&pe()},5)}function P(){ee(ke.value===!0?Number.MAX_SAFE_INTEGER:0)}function me(){ee(ke.value===!0?0:Number.MAX_SAFE_INTEGER)}function pe(){M!==null&&(clearInterval(M),M=null)}function te(re,ge){const $e=Array.prototype.filter.call(V.value.children,rt=>rt===ge||rt.matches&&rt.matches(".q-tab.q-focusable")===!0),He=$e.length;if(He===0)return;if(re===36)return pt($e[0]),$e[0].focus(),!0;if(re===35)return pt($e[He-1]),$e[He-1].focus(),!0;const Ke=re===(d.vertical===!0?38:37),Ie=re===(d.vertical===!0?40:39),Ce=Ke===!0?-1:Ie===!0?1:void 0;if(Ce!==void 0){const rt=G.value===!0?-1:1,kt=$e.indexOf(ge)+Ce*rt;return kt>=0&&kt<He&&(pt($e[kt]),$e[kt].focus({preventScroll:!0})),!0}}const Oe=J(()=>ke.value===!0?{get:re=>Math.abs(re.scrollLeft),set:(re,ge)=>{re.scrollLeft=-ge}}:d.vertical===!0?{get:re=>re.scrollTop,set:(re,ge)=>{re.scrollTop=ge}}:{get:re=>re.scrollLeft,set:(re,ge)=>{re.scrollLeft=ge}});function et(re){const ge=V.value,{get:$e,set:He}=Oe.value;let Ke=!1,Ie=$e(ge);const Ce=re<Ie?-1:1;return Ie+=Ce*5,Ie<0?(Ke=!0,Ie=0):(Ce===-1&&Ie<=re||Ce===1&&Ie>=re)&&(Ke=!0,Ie=re),He(ge,Ie),gt(),Ke}function lt(re,ge){for(const $e in re)if(re[$e]!==ge[$e])return!1;return!0}function Bt(){let re=null,ge={matchedLen:0,queryDiff:9999,hrefLen:0};const $e=A.filter(Ce=>Ce.routeData!==void 0&&Ce.routeData.hasRouterLink.value===!0),{hash:He,query:Ke}=o.$route,Ie=Object.keys(Ke).length;for(const Ce of $e){const rt=Ce.routeData.exact.value===!0;if(Ce.routeData[rt===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:kt,query:ua,matched:Po,href:Oo}=Ce.routeData.resolvedLink.value,ma=Object.keys(ua).length;if(rt===!0){if(kt!==He||ma!==Ie||lt(Ke,ua)===!1)continue;re=Ce.name.value;break}if(kt!==""&&kt!==He||ma!==0&&lt(ua,Ke)===!1)continue;const $t={matchedLen:Po.length,queryDiff:Ie-ma,hrefLen:Oo.length-kt.length};if($t.matchedLen>ge.matchedLen){re=Ce.name.value,ge=$t;continue}else if($t.matchedLen!==ge.matchedLen)continue;if($t.queryDiff<ge.queryDiff)re=Ce.name.value,ge=$t;else if($t.queryDiff!==ge.queryDiff)continue;$t.hrefLen>ge.hrefLen&&(re=Ce.name.value,ge=$t)}if(re===null&&A.some(Ce=>Ce.routeData===void 0&&Ce.name.value===I.value)===!0){Jt=!1;return}oe({name:re,setCurrent:!0})}function Vo(re){if(c(),T.value!==!0&&p.value!==null&&re.target&&typeof re.target.closest=="function"){const ge=re.target.closest(".q-tab");ge&&p.value.contains(ge)===!0&&(T.value=!0,w.value===!0&&pt(ge))}}function qo(){u(()=>{T.value=!1},30)}function Ft(){Va.avoidRouteWatcher===!1?v(Bt):_()}function Sa(){if(N===void 0){const re=Ae(()=>o.$route.fullPath,Ft);N=()=>{re(),N=void 0}}}function Co(re){A.push(re),z.value++,Ve(),re.routeData===void 0||o.$route===void 0?v(()=>{if(w.value===!0){const ge=I.value,$e=ge!=null&&ge!==""?A.find(He=>He.name.value===ge):null;$e&&pt($e.rootRef.value)}}):(Sa(),re.routeData.hasRouterLink.value===!0&&Ft())}function To(re){A.splice(A.indexOf(re),1),z.value--,Ve(),N!==void 0&&re.routeData!==void 0&&(A.every(ge=>ge.routeData===void 0)===!0&&N(),Ft())}const Va={currentModel:I,tabProps:B,hasFocus:T,hasActiveTab:x,registerTab:Co,unregisterTab:To,verifyRouteModel:Ft,updateModel:oe,onKbdNavigate:te,avoidRouteWatcher:!1};No(xl,Va);function qa(){D!==null&&clearTimeout(D),pe(),N!==void 0&&N()}let Ca,Jt;return oa(qa),Eo(()=>{Ca=N!==void 0,qa()}),jo(()=>{Ca===!0&&(Sa(),Jt=!0,Ft()),Ve()}),()=>ve("div",{ref:p,class:ie.value,role:"tablist",onFocusin:Vo,onFocusout:qo},[ve(Mo,{onResize:Ne}),ve("div",{ref:V,class:j.value,onScroll:gt},qt(n.default)),ve(S,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(R.value===!0?"":" q-tabs__arrow--faded"),name:d.leftIcon||s.iconSet.tabs[d.vertical===!0?"up":"left"],onMousedownPassive:P,onTouchstartPassive:P,onMouseupPassive:pe,onMouseleavePassive:pe,onTouchendPassive:pe}),ve(S,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(C.value===!0?"":" q-tabs__arrow--faded"),name:d.rightIcon||s.iconSet.tabs[d.vertical===!0?"down":"right"],onMousedownPassive:me,onTouchstartPassive:me,onMouseupPassive:pe,onMouseleavePassive:pe,onTouchendPassive:pe})])}});function us(d){const n=[.06,6,50];return typeof d=="string"&&d.length&&d.split(":").forEach((m,o)=>{const s=parseFloat(m);s&&(n[o]=s)}),n}const ms=Bo({name:"touch-swipe",beforeMount(d,{value:n,arg:m,modifiers:o}){if(o.mouse!==!0&&jt.has.touch!==!0)return;const s=o.mouseCapture===!0?"Capture":"",i={handler:n,sensitivity:us(m),direction:Ta(o),noop:Fo,mouseStart(b){Oa(b,i)&&Lo(b)&&(Gt(i,"temp",[[document,"mousemove","move",`notPassive${s}`],[document,"mouseup","end","notPassiveCapture"]]),i.start(b,!0))},touchStart(b){if(Oa(b,i)){const g=b.target;Gt(i,"temp",[[g,"touchmove","move","notPassiveCapture"],[g,"touchcancel","end","notPassiveCapture"],[g,"touchend","end","notPassiveCapture"]]),i.start(b)}},start(b,g){jt.is.firefox===!0&&ga(d,!0);const u=Pa(b);i.event={x:u.left,y:u.top,time:Date.now(),mouse:g===!0,dir:!1}},move(b){if(i.event===void 0)return;if(i.event.dir!==!1){Ot(b);return}const g=Date.now()-i.event.time;if(g===0)return;const u=Pa(b),c=u.left-i.event.x,v=Math.abs(c),_=u.top-i.event.y,p=Math.abs(_);if(i.event.mouse!==!0){if(v<i.sensitivity[1]&&p<i.sensitivity[1]){i.end(b);return}}else if(window.getSelection().toString()!==""){i.end(b);return}else if(v<i.sensitivity[2]&&p<i.sensitivity[2])return;const V=v/g,I=p/g;i.direction.vertical===!0&&v<p&&v<100&&I>i.sensitivity[0]&&(i.event.dir=_<0?"up":"down"),i.direction.horizontal===!0&&v>p&&p<100&&V>i.sensitivity[0]&&(i.event.dir=c<0?"left":"right"),i.direction.up===!0&&v<p&&_<0&&v<100&&I>i.sensitivity[0]&&(i.event.dir="up"),i.direction.down===!0&&v<p&&_>0&&v<100&&I>i.sensitivity[0]&&(i.event.dir="down"),i.direction.left===!0&&v>p&&c<0&&p<100&&V>i.sensitivity[0]&&(i.event.dir="left"),i.direction.right===!0&&v>p&&c>0&&p<100&&V>i.sensitivity[0]&&(i.event.dir="right"),i.event.dir!==!1?(Ot(b),i.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),zo(),i.styleCleanup=w=>{i.styleCleanup=void 0,document.body.classList.remove("non-selectable");const R=()=>{document.body.classList.remove("no-pointer-events--children")};w===!0?setTimeout(R,50):R()}),i.handler({evt:b,touch:i.event.mouse!==!0,mouse:i.event.mouse,direction:i.event.dir,duration:g,distance:{x:v,y:p}})):i.end(b)},end(b){i.event!==void 0&&(fa(i,"temp"),jt.is.firefox===!0&&ga(d,!1),i.styleCleanup!==void 0&&i.styleCleanup(!0),b!==void 0&&i.event.dir!==!1&&Ot(b),i.event=void 0)}};if(d.__qtouchswipe=i,o.mouse===!0){const b=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";Gt(i,"main",[[d,"mousedown","mouseStart",`passive${b}`]])}jt.has.touch===!0&&Gt(i,"main",[[d,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[d,"touchmove","noop","notPassiveCapture"]])},updated(d,n){const m=d.__qtouchswipe;m!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&m.end(),m.handler=n.value),m.direction=Ta(n.modifiers))},beforeUnmount(d){const n=d.__qtouchswipe;n!==void 0&&(fa(n,"main"),fa(n,"temp"),jt.is.firefox===!0&&ga(d,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete d.__qtouchswipe)}}),cs={name:{required:!0},disable:Boolean},Ea={setup(d,{slots:n}){return()=>ve("div",{class:"q-panel scroll",role:"tabpanel"},qt(n.default))}},ps={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},fs=["update:modelValue","beforeTransition","transition"];function gs(){const{props:d,emit:n,proxy:m}=Ct(),{getCache:o}=Ko(),{registerTimeout:s}=va();let i,b;const g=q(null),u=q(null);function c(E){const G=d.vertical===!0?"up":"left";N((m.$q.lang.rtl===!0?-1:1)*(E.direction===G?1:-1))}const v=J(()=>[[ms,c,void 0,{horizontal:d.vertical!==!0,vertical:d.vertical,mouse:!0}]]),_=J(()=>d.transitionPrev||`slide-${d.vertical===!0?"down":"right"}`),p=J(()=>d.transitionNext||`slide-${d.vertical===!0?"up":"left"}`),V=J(()=>`--q-transition-duration: ${d.transitionDuration}ms`),I=J(()=>typeof d.modelValue=="string"||typeof d.modelValue=="number"?d.modelValue:String(d.modelValue)),w=J(()=>({include:d.keepAliveInclude,exclude:d.keepAliveExclude,max:d.keepAliveMax})),R=J(()=>d.keepAliveInclude!==void 0||d.keepAliveExclude!==void 0);Ae(()=>d.modelValue,(E,G)=>{const ke=z(E)===!0?T(E):-1;b!==!0&&M(ke===-1?0:ke<T(G)?-1:1),g.value!==ke&&(g.value=ke,n("beforeTransition",E,G),s(()=>{n("transition",E,G)},d.transitionDuration))});function C(){N(1)}function $(){N(-1)}function A(E){n("update:modelValue",E)}function z(E){return E!=null&&E!==""}function T(E){return i.findIndex(G=>G.props.name===E&&G.props.disable!==""&&G.props.disable!==!0)}function D(){return i.filter(E=>E.props.disable!==""&&E.props.disable!==!0)}function M(E){const G=E!==0&&d.animated===!0&&g.value!==-1?"q-transition--"+(E===-1?_.value:p.value):null;u.value!==G&&(u.value=G)}function N(E,G=g.value){let ke=G+E;for(;ke!==-1&&ke<i.length;){const oe=i[ke];if(oe!==void 0&&oe.props.disable!==""&&oe.props.disable!==!0){M(E),b=!0,n("update:modelValue",oe.props.name),setTimeout(()=>{b=!1});return}ke+=E}d.infinite===!0&&i.length!==0&&G!==-1&&G!==i.length&&N(E,E===-1?i.length:-1)}function B(){const E=T(d.modelValue);return g.value!==E&&(g.value=E),!0}function x(){const E=z(d.modelValue)===!0&&B()&&i[g.value];return d.keepAlive===!0?[ve(Yo,w.value,[ve(R.value===!0?o(I.value,()=>({...Ea,name:I.value})):Ea,{key:I.value,style:V.value},()=>E)])]:[ve("div",{class:"q-panel scroll",style:V.value,key:I.value,role:"tabpanel"},[E])]}function L(){if(i.length!==0)return d.animated===!0?[ve(Vl,{name:u.value},x)]:x()}function ie(E){return i=Ho(qt(E.default,[])).filter(G=>G.props!==null&&G.props.slot===void 0&&z(G.props.name)===!0),i.length}function j(){return i}return Object.assign(m,{next:C,previous:$,goTo:A}),{panelIndex:g,panelDirectives:v,updatePanelsList:ie,updatePanelIndex:B,getPanelContent:L,getEnabledPanels:D,getPanels:j,isValidPanelName:z,keepAliveProps:w,needsUniqueKeepAliveWrapper:R,goToPanelByOffset:N,goToPanel:A,nextPanel:C,previousPanel:$}}const st=ht({name:"QTabPanel",props:cs,setup(d,{slots:n}){return()=>ve("div",{class:"q-tab-panel",role:"tabpanel"},qt(n.default))}}),At=ht({name:"QTabPanels",props:{...ps,..._a},emits:fs,setup(d,{slots:n}){const m=Ct(),o=ka(d,m.proxy.$q),{updatePanelsList:s,getPanelContent:i,panelDirectives:b}=gs(),g=J(()=>"q-tab-panels q-panel-parent"+(o.value===!0?" q-tab-panels--dark q-dark":""));return()=>(s(n),Qo("div",{class:g.value},i(),"pan",d.swipeable,()=>b.value))}}),bs={class:"detail"},vs={key:0},ys={key:1},_s={key:0},ks={key:0},ws={colspan:"100%"},hs={class:"q-my-md"},$s={key:4},xs={colspan:"100%"},Ss={key:5},Vs={colspan:"100%"},Al={__name:"MainInfoTab",setup(d){const n=fe();return(m,o)=>(f(),h("table",bs,[t("tbody",null,[o[27]||(o[27]=t("tr",null,[t("td",{colspan:"3"},[t("div",{class:"text-bold text-grey-8"},"Info Sesi")])],-1)),t("tr",null,[o[1]||(o[1]=t("td",{style:{width:"130px"}},"Session ID",-1)),o[2]||(o[2]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.id),1)]),t("tr",null,[o[3]||(o[3]=t("td",null,"Terminal",-1)),o[4]||(o[4]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.cashier_terminal.name),1)]),t("tr",null,[o[5]||(o[5]=t("td",null,"Kasir",-1)),o[6]||(o[6]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.user.username)+" - "+r(a(n).props.data.user.name),1)]),t("tr",null,[o[7]||(o[7]=t("td",null,"Status",-1)),o[8]||(o[8]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.is_closed?"Ditutup":"Aktif"),1)]),o[28]||(o[28]=t("tr",null,[t("td",{colspan:"100%"},[t("div",{class:"q-mt-sm text-grey-8"},"Info Buka Sesi")])],-1)),t("tr",null,[o[9]||(o[9]=t("td",null,"Saldo Awal",-1)),o[10]||(o[10]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.opening_balance)),1)]),a(n).props.data.opening_notes?(f(),h("tr",vs,[o[11]||(o[11]=t("td",null,"Catatan",-1)),o[12]||(o[12]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.opening_notes),1)])):k("",!0),o[29]||(o[29]=t("tr",null,[t("td",{colspan:"100%"},[t("div",{class:"q-mt-sm text-grey-8"},"Rincian Pendapatan & Kas")])],-1)),t("tr",null,[o[13]||(o[13]=t("td",null,"Total Penjualan",-1)),o[14]||(o[14]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.total_sales)),1)]),t("tr",null,[o[15]||(o[15]=t("td",null,"Total Pemasukan",-1)),o[16]||(o[16]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.total_income)),1)]),t("tr",null,[o[17]||(o[17]=t("td",null,"Total Pengeluaran",-1)),o[18]||(o[18]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.total_expense)),1)]),a(n).props.data.is_closed?k("",!0):(f(),h("tr",ys,[o[19]||(o[19]=t("td",null,"Saldo Aktual",-1)),o[20]||(o[20]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.opening_balance+(a(n).props.data.total_income-a(n).props.data.total_expense))),1)])),a(n).props.data.is_closed?(f(),h(Y,{key:2},[o[25]||(o[25]=t("tr",null,[t("td",{colspan:"100%"},[t("div",{class:"q-mt-sm text-grey-8"},"Info Tutup Sesi")])],-1)),t("tr",null,[o[21]||(o[21]=t("td",null,"Saldo Akhir",-1)),o[22]||(o[22]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.closing_balance)),1)]),a(n).props.data.closing_notes?(f(),h("tr",_s,[o[23]||(o[23]=t("td",null,"Catatan",-1)),o[24]||(o[24]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.closing_notes),1)])):k("",!0)],64)):k("",!0),m.$can("admin.cashier-session.close")?(f(),h(Y,{key:3},[a(n).props.data.is_closed?k("",!0):(f(),h("tr",ks,[t("td",ws,[t("div",hs,[e(U,{class:"full-width",color:"accent",icon:"logout",onClick:o[0]||(o[0]=s=>m.$inertia.get(m.route("admin.cashier-session.close",{id:a(n).props.data.id})))},{default:l(()=>o[26]||(o[26]=[y(" Tutup Sesi Kasir ")])),_:1})])])]))],64)):k("",!0),o[30]||(o[30]=t("tr",null,[t("td",{colspan:"3"},[t("div",{class:"text-bold text-grey-8 q-mt-md"},"Info Rekaman")])],-1)),a(n).props.data.created_at?(f(),h("tr",$s,[t("td",xs," Dibuat "+r(a(St)(a(n).props.data.created_at))+" oleh "+r(a(n).props.data.creator.name)+" ("+r(a(be)(a(n).props.data.created_at))+") ",1)])):k("",!0),a(n).props.data.updated_at?(f(),h("tr",Ss,[t("td",Vs," Diperbarui "+r(a(St)(a(n).props.data.updated_at))+" oleh "+r(a(n).props.data.updater.name)+" ("+r(a(be)(a(n).props.data.updated_at))+") ",1)])):k("",!0)])]))}},qs=Object.freeze(Object.defineProperty({__proto__:null,default:Al},Symbol.toStringTag,{value:"Module"})),Cs={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ts={class:"text-bold"},Ps={key:0},Os={class:"text-bold"},Is={key:1},Rs={key:0},Ds={key:0},Us={key:1},El={__name:"SalesOrderTab",props:{data:Object},setup(d){const n=d,m=q([]),o=q(!0),s=Pe({...De(),cashier_session_id:n.data.id,status:["closed","canceled"]}),i=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),b=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"customer",label:"Pelanggan",field:"customer",align:"left"},{name:"grand_total",label:"Total (Rp)",field:"grand_total",align:"right",sortable:!0},{name:"notes",label:"Catatan",field:"notes",align:"left"}];we(()=>{g()});const g=(v=null)=>Ue({pagination:i,filter:s,props:v,rows:m,url:route("admin.sales-order.data"),loading:o}),u=he(),c=J(()=>u.screen.gt.sm?b:b.filter(v=>v.name==="id"));return(v,_)=>(f(),O(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":_[0]||(_[0]=p=>i.value=p),filter:s.search,loading:o.value,columns:c.value,rows:m.value,"rows-per-page-options":[10,25,50],onRequest:g,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:p,message:V,filter:I})=>[t("div",Cs,[t("span",null,r(V)+" "+r(I?" with term "+I:""),1)])]),body:l(p=>[e(qe,{props:p,class:"cursor-pointer",onClick:W(V=>a(X).get(v.route("admin.sales-order.detail",{id:p.row.id})),["stop"])},{default:l(()=>[e(K,{key:"id",props:p},{default:l(()=>[t("div",Ts,[e(S,{class:"inline-icon",name:"tag"}),y(" "+r(p.row.formatted_id),1)]),t("div",null,[e(S,{class:"inline-icon",name:"calendar_today"}),y(" "+r(a(be)(p.row.datetime)),1)]),a(u).screen.lt.md?(f(),h(Y,{key:0},[p.row.customer?(f(),h("div",Ps,[e(S,{class:"inline-icon",name:"person"}),y(" "+r(p.row.customer_username)+" "+r(p.row.customer.name),1)])):k("",!0),t("div",Os,[e(S,{name:"money",class:"inline-icon"}),y(" Rp. "+r(a(H)(p.row.grand_total)),1)]),p.row.notes?(f(),h("div",Is,[e(_e,{text:p.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])):k("",!0)],64)):k("",!0),t("div",null,[e(ut,{color:p.row.status==="closed"?"green":"red"},{default:l(()=>[y(r(v.$CONSTANTS.SALES_ORDER_STATUSES[p.row.status]),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(K,{key:"customer",props:p},{default:l(()=>[p.row.customer?(f(),h("div",Rs,[t("div",null,[e(S,{name:"person",class:"inline-icon"}),y(" "+r(p.row.customer_username)+" - "+r(p.row.customer_name),1)]),p.row.customer_phone?(f(),h("div",Ds,[e(S,{name:"phone",class:"inline-icon"}),y(" "+r(p.row.customer_phone),1)])):k("",!0),p.row.customer_address?(f(),h("div",Us,[e(S,{name:"home_pin",class:"inline-icon"}),y(" "+r(p.row.customer_address),1)])):k("",!0)])):k("",!0)]),_:2},1032,["props"]),e(K,{key:"grand_total",props:p},{default:l(()=>[t("div",null,r(a(H)(p.row.grand_total)),1)]),_:2},1032,["props"]),e(K,{key:"notes",props:p,class:"wrap-column"},{default:l(()=>[e(_e,{text:p.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},As=Object.freeze(Object.defineProperty({__proto__:null,default:El},Symbol.toStringTag,{value:"Module"})),Es={class:"full-width row flex-center text-grey-8 q-gutter-sm"},js={class:"text-bold"},Ms={class:"text-bold"},Ns={key:0},Bs={class:"q-mt-sm"},jl={__name:"FinanceTransactionTab",props:{data:Object},setup(d){const n=d;console.log(n.data);const m=q([]),o=q(!0),s=Pe({...De(),user_id:n.data.user_id,from_datetime:Zt(n.data.opened_at),to_datetime:n.data.closed_at?Zt(n.data.closed_at):null}),i=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),b=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp)",field:"amount",align:"right",sortable:!0},{name:"notes",label:"Catatan",field:"notes",align:"left"}];we(()=>{g()});const g=(v=null)=>Ue({pagination:i,filter:s,props:v,rows:m,url:route("admin.finance-transaction.data"),loading:o}),u=he(),c=J(()=>u.screen.gt.sm?b:b.filter(v=>v.name==="id"));return(v,_)=>(f(),O(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":_[0]||(_[0]=p=>i.value=p),filter:s.search,loading:o.value,columns:c.value,rows:m.value,"rows-per-page-options":[10,25,50],onRequest:g,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:p,message:V,filter:I})=>[t("div",Es,[t("span",null,r(V)+" "+r(I?" with term "+I:""),1)])]),body:l(p=>[e(qe,{props:p},{default:l(()=>[e(K,{key:"id",props:p},{default:l(()=>[t("div",js,[e(S,{class:"inline-icon",name:"tag"}),y(" "+r(p.row.formatted_id),1)]),t("div",null,[e(S,{class:"inline-icon",name:"calendar_today"}),y(" "+r(a(be)(p.row.datetime)),1)]),a(u).screen.lt.md?(f(),h(Y,{key:0},[t("div",Ms,[e(S,{name:"money",class:"inline-icon"}),y(" Rp. "+r(a(H)(p.row.amount)),1)]),p.row.notes?(f(),h("div",Ns,[e(_e,{text:p.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])):k("",!0)],64)):k("",!0),t("div",Bs,[e(ut,{color:p.row.amount>=0?"green":"red"},{default:l(()=>[y(r(v.$CONSTANTS.FINANCE_TRANSACTION_TYPES[p.row.type]),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(K,{key:"amount",props:p},{default:l(()=>[t("span",{class:xe(p.row.amount<0?"text-red":"text-green")},r(a(H)(p.row.amount)),3)]),_:2},1032,["props"]),e(K,{key:"notes",props:p,class:"wrap-column"},{default:l(()=>[e(_e,{text:p.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},Fs=Object.freeze(Object.defineProperty({__proto__:null,default:jl},Symbol.toStringTag,{value:"Module"})),zs={class:"q-gutter-sm"},Ls={class:"col col-lg-6 q-pa-xs"},Hs={class:"row"},ja="Rincian Sesi Kasir",Ks={__name:"Detail",setup(d){const n=fe(),m=J(()=>n.props.data),o=q("main");return Ae(()=>n.props.tab,s=>{s&&(o.value=s)},{immediate:!0}),(s,i)=>{const b=Q("i-head"),g=Q("authenticated-layout");return f(),h(Y,null,[e(b,{title:ja}),e(g,null,{title:l(()=>[y(r(ja))]),"left-button":l(()=>[t("div",zs,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=u=>s.$inertia.get(s.route("admin.cashier-session.index")))})])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",Ls,[t("div",Hs,[e(ce,{square:"",flat:"",bordered:"",class:"col q-pa-none"},{default:l(()=>[e(Ut,{modelValue:o.value,"onUpdate:modelValue":i[1]||(i[1]=u=>o.value=u),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(nt,{name:"main",label:"Ringkasan"}),e(nt,{name:"sales",label:"Transaksi Penjualan"}),e(nt,{name:"finance",label:"Transaksi Keuangan"})]),_:1},8,["modelValue"]),e(Je),e(At,{modelValue:o.value,"onUpdate:modelValue":i[2]||(i[2]=u=>o.value=u),animated:"",class:"q-pa-none"},{default:l(()=>[e(st,{name:"main"},{default:l(()=>[e(Al,{data:m.value},null,8,["data"])]),_:1}),e(st,{name:"sales",class:"q-pa-xs"},{default:l(()=>[e(El,{data:m.value},null,8,["data"])]),_:1}),e(st,{name:"finance",class:"q-pa-xs"},{default:l(()=>[e(jl,{data:m.value},null,8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},Ys=Object.freeze(Object.defineProperty({__proto__:null,default:Ks},Symbol.toStringTag,{value:"Module"})),Qs={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Ws={class:"q-pa-xs"},Js={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Gs={class:"flex justify-end"},Ma="Sesi Kasir",Xs={__name:"Index",setup(d){const n=he(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),g=We(b),u=Pe({search:"",status:"all",...De()}),c=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),v=[{name:"id",label:"Sesi",field:"id",align:"left",sortable:!0},{name:"opening_info",label:"Buka Sesi",field:"opening_info",sortable:!1,align:"left"},{name:"closing_info",label:"Tutup Sesi",field:"closing_info",sortable:!1,align:"left"},{name:"action",align:"right"}],_=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"closed",label:"Selesai"}];we(()=>{V()});const p=C=>at({message:`Hapus Sesi: ${C.cashier_terminal.name} - ${C.user.username}?`,url:route("admin.cashier-session.delete",C.id),fetchItemsCallback:V,loading:s}),V=(C=null)=>{Ue({pagination:c,filter:u,props:C,rows:o,url:route("admin.cashier-session.data"),loading:s,tableRef:i})},I=()=>V(),w=C=>X.get(route("admin.cashier-session.detail",{id:C.id})),R=J(()=>n.screen.gt.sm?v:v.filter(C=>C.name==="id"||C.name==="action"));return(C,$)=>{const A=Q("i-head"),z=Q("authenticated-layout");return f(),h(Y,null,[e(A,{title:Ma}),e(z,null,ze({title:l(()=>[y(r(Ma))]),"right-button":l(()=>[e(U,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:$[0]||($[0]=T=>m.value=!m.value)},null,8,["icon"]),C.$can("admin.cashier-session.open")?(f(),O(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:$[1]||($[1]=T=>a(X).get(C.route("admin.cashier-session.open")))})):k("",!0)]),default:l(()=>[t("div",Ws,[e(Te,{class:"full-height-table",style:Me({height:a(g)}),ref_key:"tableRef",ref:i,flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":$[5]||($[5]=T=>c.value=T),filter:u.search,loading:s.value,columns:R.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:V,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:T,message:D,filter:M})=>[t("div",Js,[t("span",null,r(D)+" "+r(M?" with term "+M:""),1)])]),body:l(T=>[e(qe,{props:T,class:xe(["cursor-pointer",T.row.is_closed?"":"bg-yellow-3"]),onClick:D=>w(T.row)},{default:l(()=>[e(K,{key:"id",props:T,class:"wrap-column"},{default:l(()=>[t("div",null,[e(S,{class:"inline-icon",name:"tag"}),y(" SessionID: "+r(T.row.id),1)]),t("div",null,[e(S,{class:"inline-icon",name:"point_of_sale"}),y(" "+r(T.row.cashier_terminal.name),1)]),t("div",null,[e(S,{class:"inline-icon",name:"person"}),y(" "+r(T.row.user.username)+" - "+r(T.row.user.name),1)])]),_:2},1032,["props"]),e(K,{key:"opening_info",props:T},{default:l(()=>[t("div",null,[e(S,{class:"inline-icon",name:"calendar_clock"}),y(" "+r(T.row.opened_at?a(be)(T.row.opened_at):"-"),1)]),t("div",null,[e(S,{class:"inline-icon",name:"money"}),y(" "+r(a(it)(T.row.opening_balance)),1)]),T.row.opening_notes?(f(),O(_e,{key:0,text:T.row.opening_notes,icon:"notes"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(K,{key:"closing_info",props:T},{default:l(()=>[t("div",null,[e(S,{class:"inline-icon",name:"calendar_clock"}),y(" "+r(T.row.closed_at?a(be)(T.row.closed_at):"-"),1)]),t("div",null,[e(S,{class:"inline-icon",name:"money"}),y(" "+r(a(it)(T.row.closing_balance)),1)]),T.row.closing_notes?(f(),O(_e,{key:0,text:T.row.closing_notes,icon:"notes"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(K,{key:"action",props:T},{default:l(()=>[t("div",Gs,[C.$can("admin.cashier-session.close")||C.$can("admin.cashier-session.delete")?(f(),O(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:$[4]||($[4]=W(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[C.$can("admin.cashier-session.close")?Z((f(),O(le,{key:0,disable:T.row.is_closed,clickable:"",onClick:W(D=>a(X).get(C.route("admin.cashier-session.close",T.row.id)),["stop"])},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"logout"})]),_:1}),e(F,null,{default:l(()=>$[6]||($[6]=[y("Tutup Sesi Kasir")])),_:1})]),_:2},1032,["disable","onClick"])),[[se],[ue]]):k("",!0),C.$can("admin.cashier-session.delete")?Z((f(),O(le,{key:1,onClick:W(D=>p(T.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"delete_forever"})]),_:1}),e(F,null,{default:l(()=>$[7]||($[7]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ze,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",Qs,[e(de,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:u.status,"onUpdate:modelValue":[$[2]||($[2]=T=>u.status=T),I],options:_,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ne,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:u.search,"onUpdate:modelValue":$[3]||($[3]=T=>u.search=T),placeholder:"Cari",clearable:""},{append:l(()=>[e(S,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Zs=Object.freeze(Object.defineProperty({__proto__:null,default:Xs},Symbol.toStringTag,{value:"Module"})),er={class:"q-gutter-sm"},tr={class:"col col-md-6 q-pa-xs"},Na="Buka Sesi Kasir",ar={__name:"Open",setup(d){const n=fe(),m=Le({cashier_terminal_id:n.props.data.cashier_terminal_id,opening_balance:parseFloat(n.props.data.opening_balance),opening_notes:n.props.data.opening_notes}),o=[...n.props.cashier_terminals.map(i=>({value:i.id,label:i.name,balance:parseFloat(i.finance_account.balance)}))],s=()=>Xe({form:m,url:route("admin.cashier-session.open")});return Ae(()=>m.cashier_terminal_id,i=>{if(i){const b=o.find(g=>g.value===i);b&&(m.opening_balance=b.balance)}else m.opening_balance=0}),(i,b)=>{const g=Q("i-head"),u=Q("authenticated-layout");return f(),h(Y,null,[e(g,{title:Na}),e(u,null,{title:l(()=>[y(r(Na))]),"left-button":l(()=>[t("div",er,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=c=>i.$inertia.get(i.route("admin.cashier-session.index")))})])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",tr,[e(Fe,{class:"row",onSubmit:W(s,["prevent"]),onValidationError:a(Be)},{default:l(()=>[Z(t("input",{type:"hidden",name:"id","onUpdate:modelValue":b[1]||(b[1]=c=>a(m).id=c)},null,512),[[dt,a(m).id]]),e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[e(de,{class:"custom-select",modelValue:a(m).cashier_terminal_id,"onUpdate:modelValue":b[2]||(b[2]=c=>a(m).cashier_terminal_id=c),label:"Terminal Kasir",options:o,"map-options":"","emit-value":"",errorMessage:a(m).errors.cashier_terminal_id,error:!!a(m).errors.cashier_terminal_id,disable:a(m).processing,"hide-bottom-space":""},null,8,["modelValue","errorMessage","error","disable"]),e(Re,{modelValue:a(m).opening_balance,"onUpdate:modelValue":b[3]||(b[3]=c=>a(m).opening_balance=c),label:"Saldo Buka Sesi",lazyRules:"",disable:a(m).processing,error:!!a(m).errors.opening_balance,errorMessage:a(m).errors.opening_balance,rules:[],readonly:"","hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),b[6]||(b[6]=t("div",{class:"q-my-sm text-red"}," Pastikan saldo awal sesuai dengan jumlah uang di laci! ",-1)),e(ne,{modelValue:a(m).opening_notes,"onUpdate:modelValue":b[4]||(b[4]=c=>a(m).opening_notes=c),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Catatan",disable:a(m).processing,error:!!a(m).errors.opening_notes,"error-message":a(m).errors.opening_notes,rules:[],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(U,{type:"submit",label:"Buka Sesi",icon:"login",color:"primary",disable:a(m).processing},null,8,["disable"]),e(U,{label:"Batal",icon:"cancel",disable:a(m).processing,onClick:b[5]||(b[5]=c=>a(X).get(i.route("admin.cashier-session.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},lr=Object.freeze(Object.defineProperty({__proto__:null,default:ar},Symbol.toStringTag,{value:"Module"})),or={class:"detail"},nr={colspan:"3"},sr={class:"text-bold text-grey-8"},rr={key:0},ir={colspan:"100%"},dr={key:1},ur={colspan:"100%"},Ml={__name:"MainInfoTab",setup(d){const n=fe();return(m,o)=>(f(),h("table",or,[t("tbody",null,[t("tr",null,[t("td",nr,[t("div",sr,[o[1]||(o[1]=y(" Info Terminal Kasir ")),e(U,{icon:"edit",size:"sm",dense:"",flat:"",rounded:"",class:"q-ml-sm",color:"grey",onClick:o[0]||(o[0]=s=>m.$inertia.get(m.route("admin.cashier-terminal.edit",{id:a(n).props.data.id})))})])])]),t("tr",null,[o[2]||(o[2]=t("td",{style:{width:"120px"}},"Nama",-1)),o[3]||(o[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.name),1)]),t("tr",null,[o[4]||(o[4]=t("td",null,"Lokasi",-1)),o[5]||(o[5]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.location),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"Akun Keuangan",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.finance_account.name),1)]),t("tr",null,[o[8]||(o[8]=t("td",null,"Saldo",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,r(a(it)(a(n).props.data.finance_account.balance)),1)]),t("tr",null,[o[10]||(o[10]=t("td",null,"Catatan",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.notes),1)]),t("tr",null,[o[12]||(o[12]=t("td",null,"Status",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),o[14]||(o[14]=t("tr",null,[t("td",{colspan:"3"},[t("div",{class:"text-bold text-grey-8 q-mt-md"},"Info Rekaman")])],-1)),a(n).props.data.created_at?(f(),h("tr",rr,[t("td",ir," Dibuat "+r(a(St)(a(n).props.data.created_at))+" oleh "+r(a(n).props.data.creator.name)+" ("+r(a(be)(a(n).props.data.created_at))+") ",1)])):k("",!0),a(n).props.data.updated_at?(f(),h("tr",dr,[t("td",ur," Diperbarui "+r(a(St)(a(n).props.data.updated_at))+" oleh "+r(a(n).props.data.updater.name)+" ("+r(a(be)(a(n).props.data.updated_at))+") ",1)])):k("",!0)])]))}},mr=Object.freeze(Object.defineProperty({__proto__:null,default:Ml},Symbol.toStringTag,{value:"Module"})),cr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},pr={class:"text-bold"},Nl={__name:"SessionHistoryTab",setup(d){const n=fe(),m=q([]),o=q(!0),s=Pe({customer_id:n.props.data.id,...De()}),i=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),b=[{name:"id",label:"Trx",field:"id",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah",field:"amount",align:"right"}];we(()=>{g()});const g=(v=null)=>Ue({pagination:i,filter:s,props:v,rows:m,url:route("admin.customer-wallet-transaction.data"),loading:o}),u=he(),c=J(()=>u.screen.gt.sm?b:b.filter(v=>v.name==="id"));return(v,_)=>(f(),O(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":_[0]||(_[0]=p=>i.value=p),filter:s.search,loading:o.value,columns:c.value,rows:m.value,"rows-per-page-options":[10,25,50],onRequest:g,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:p,message:V,filter:I})=>[t("div",cr,[t("span",null,r(V)+" "+r(I?" with term "+I:""),1)])]),body:l(p=>[e(qe,{props:p,class:"cursor-pointer",onClick:W(V=>a(X).get(v.route("admin.customer-wallet-transaction.detail",{id:p.row.id})),["stop"])},{default:l(()=>[e(K,{key:"id",props:p},{default:l(()=>[t("div",pr,[e(S,{class:"inline-icon",name:"tag"}),y(" "+r(p.row.formatted_id),1)]),t("div",null,[e(S,{class:"inline-icon",name:"calendar_clock"}),y(" "+r(a(be)(p.row.datetime)),1)]),a(u).screen.lt.md?(f(),h(Y,{key:0},[t("div",{class:xe(["text-bold",p.row.amount<0?"text-red":"text-green"])},[e(S,{name:"money",class:"inline-icon"}),y(" "+r(a(ql)(p.row.amount)),1)],2),t("div",null,[e(_e,{text:p.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])],64)):k("",!0),t("div",null,[e(ut,{size:"xs",color:p.row.amount>0?"green":"red"},{default:l(()=>[e(S,{name:"category"}),y(" "+r(p.row.type_label),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(K,{key:"notes",props:p,class:"wrap-column"},{default:l(()=>[e(_e,{text:p.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(K,{key:"amount",props:p},{default:l(()=>[t("div",{class:xe(p.row.amount<0?"text-red-10":p.row.amount>0?"text-green-10":"")},r(a(na)(p.row.amount)),3)]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},fr=Object.freeze(Object.defineProperty({__proto__:null,default:Nl},Symbol.toStringTag,{value:"Module"})),gr={class:"q-gutter-sm"},br={class:"col col-lg-6 q-pa-xs"},vr={class:"row"},Ba="Rincian Terminal Kasir",yr={__name:"Detail",setup(d){const n=q("main");return(m,o)=>{const s=Q("i-head"),i=Q("authenticated-layout");return f(),h(Y,null,[e(s,{title:Ba}),e(i,null,{title:l(()=>[y(r(Ba))]),"left-button":l(()=>[t("div",gr,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=b=>m.$inertia.get(m.route("admin.cashier-terminal.index")))})])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",br,[t("div",vr,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Ut,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=b=>n.value=b),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(nt,{name:"main",label:"Info Utama"}),e(nt,{name:"session-history",label:"Riwayat Sesi Kasir"})]),_:1},8,["modelValue"]),e(At,{modelValue:n.value,"onUpdate:modelValue":o[2]||(o[2]=b=>n.value=b),animated:""},{default:l(()=>[e(st,{name:"main"},{default:l(()=>[e(Ml)]),_:1}),e(st,{name:"session-history",class:"q-pa-xs"},{default:l(()=>[e(Nl)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},_r=Object.freeze(Object.defineProperty({__proto__:null,default:yr},Symbol.toStringTag,{value:"Module"})),kr={class:"q-gutter-sm"},wr={class:"col col-md-6 q-pa-xs"},hr={key:0,class:"q-my-xs text-grey-8"},$r={__name:"Editor",setup(d){const n=fe(),m=(n.props.data.id?"Edit":"Tambah")+" Pelanggan",o=Le({id:n.props.data.id,name:n.props.data.name,finance_account_id:n.props.data.finance_account_id??"new",location:n.props.data.location,active:!!n.props.data.active,notes:n.props.data.notes}),s=[{value:"new",label:"Buat Baru (Otomatis)"},...n.props.finance_accounts.map(b=>({value:b.id,label:b.name}))],i=()=>Xe({form:o,url:route("admin.cashier-terminal.save")});return(b,g)=>{const u=Q("i-head"),c=Q("authenticated-layout");return f(),h(Y,null,[e(u,{title:m}),e(c,null,{title:l(()=>[y(r(m))]),"left-button":l(()=>[t("div",kr,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:g[0]||(g[0]=v=>b.$inertia.get(b.route("admin.cashier-terminal.index")))})])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",wr,[e(Fe,{class:"row",onSubmit:W(i,["prevent"]),onValidationError:a(Be)},{default:l(()=>[Z(t("input",{type:"hidden",name:"id","onUpdate:modelValue":g[1]||(g[1]=v=>a(o).id=v)},null,512),[[dt,a(o).id]]),e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[e(ne,{modelValue:a(o).name,"onUpdate:modelValue":g[2]||(g[2]=v=>a(o).name=v),modelModifiers:{trim:!0},label:"Nama",error:!!a(o).errors.name,disable:a(o).processing,"error-message":a(o).errors.name,rules:[v=>v&&v.length>0||"Nama harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(de,{class:"custom-select",modelValue:a(o).finance_account_id,"onUpdate:modelValue":g[3]||(g[3]=v=>a(o).finance_account_id=v),label:"Akun Kas",options:s,"map-options":"","emit-value":"",errorMessage:a(o).errors.finance_account_id,error:!!a(o).errors.finance_account_id,disable:a(o).processing,"hide-bottom-space":""},null,8,["modelValue","errorMessage","error","disable"]),a(o).finance_account_id==="new"?(f(),h("div",hr,[g[8]||(g[8]=y(" Akun keuangan akan dibuat ")),a(o).name?(f(),h(Y,{key:0},[y(" dengan nama Kas "+r(a(o).name),1)],64)):k("",!0)])):k("",!0),e(ne,{modelValue:a(o).location,"onUpdate:modelValue":g[4]||(g[4]=v=>a(o).location=v),modelModifiers:{trim:!0},label:"Lokasi",error:!!a(o).errors.location,disable:a(o).processing,"error-message":a(o).errors.location,rules:[],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(ne,{modelValue:a(o).notes,"onUpdate:modelValue":g[5]||(g[5]=v=>a(o).notes=v),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Catatan",disable:a(o).processing,error:!!a(o).errors.notes,"error-message":a(o).errors.notes,rules:[],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(da,{modelValue:a(o).active,"onUpdate:modelValue":g[6]||(g[6]=v=>a(o).active=v),label:"Aktif",disable:a(o).processing},null,8,["modelValue","disable"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(U,{type:"submit",label:"Simpan",icon:"save",color:"primary",disable:a(o).processing},null,8,["disable"]),e(U,{label:"Batal",icon:"cancel",disable:a(o).processing,onClick:g[7]||(g[7]=v=>a(X).get(b.route("admin.cashier-terminal.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},xr=Object.freeze(Object.defineProperty({__proto__:null,default:$r},Symbol.toStringTag,{value:"Module"})),Sr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Vr={class:"q-pa-xs"},qr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Cr={class:"flex justify-end"},Fa="Terminal Kasir",Tr={__name:"Index",setup(d){const n=he(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),g=We(b),u=Pe({search:"",status:"active",...De()}),c=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),v=[{name:"name",label:n.screen.lt.md?"Item":"Nama",field:"name",align:"left",sortable:!0},{name:"finance_account_id",label:"Akun Kas",field:"finance_account_id",sortable:!1,align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}],_=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];we(()=>{V()});const p=C=>at({message:`Hapus Terminal Kasir ${C.name}?`,url:route("admin.cashier-terminal.delete",C.id),fetchItemsCallback:V,loading:s}),V=(C=null)=>{Ue({pagination:c,filter:u,props:C,rows:o,url:route("admin.cashier-terminal.data"),loading:s,tableRef:i})},I=()=>V(),w=C=>X.get(route("admin.cashier-terminal.detail",{id:C.id})),R=J(()=>n.screen.gt.sm?v:v.filter(C=>C.name==="name"||C.name==="finance_account_id"||C.name==="action"));return(C,$)=>{const A=Q("i-head"),z=Q("authenticated-layout");return f(),h(Y,null,[e(A,{title:Fa}),e(z,null,ze({title:l(()=>[y(r(Fa))]),"right-button":l(()=>[e(U,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:$[0]||($[0]=T=>m.value=!m.value)},null,8,["icon"]),C.$can("admin.cashier-terminal.add")?(f(),O(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:$[1]||($[1]=T=>a(X).get(C.route("admin.cashier-terminal.add")))})):k("",!0)]),default:l(()=>[t("div",Vr,[e(Te,{class:"full-height-table",style:Me({height:a(g)}),ref_key:"tableRef",ref:i,flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":$[5]||($[5]=T=>c.value=T),filter:u.search,loading:s.value,columns:R.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:V,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:T,message:D,filter:M})=>[t("div",qr,[t("span",null,r(D)+" "+r(M?" with term "+M:""),1)])]),body:l(T=>[e(qe,{props:T,class:xe([T.row.active?"":"bg-red-1","cursor-pointer"]),onClick:D=>w(T.row)},{default:l(()=>[e(K,{key:"name",props:T,class:"wrap-column"},{default:l(()=>[t("div",null,[e(S,{name:"wallet"}),y(" "+r(T.row.name),1)]),t("div",null,[e(S,{name:"home_pin"}),y(" "+r(T.row.location),1)]),a(n).screen.lt.md?(f(),O(_e,{key:0,text:T.row.notes,icon:"notes"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(K,{key:"finance_account_id",props:T},{default:l(()=>[t("div",null,[e(S,{name:"wallet"}),y(" "+r(T.row.finance_account.name),1)]),t("div",null,[e(S,{name:"money"}),y(" "+r(a(it)(T.row.finance_account.balance)),1)])]),_:2},1032,["props"]),e(K,{key:"notes",props:T},{default:l(()=>[e(_e,{text:T.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(K,{key:"action",props:T},{default:l(()=>[t("div",Cr,[C.$can("admin.cashier-terminal.edit")||C.$can("admin.cashier-terminal.delete")?(f(),O(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:$[4]||($[4]=W(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[C.$can("admin.cashier-terminal.edit")?Z((f(),O(le,{key:0,clickable:"",onClick:W(D=>a(X).get(C.route("admin.cashier-terminal.edit",T.row.id)),["stop"])},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"edit"})]),_:1}),e(F,null,{default:l(()=>$[6]||($[6]=[y("Edit")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),C.$can("admin.cashier-terminal.delete")?Z((f(),O(le,{key:1,onClick:W(D=>p(T.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"delete_forever"})]),_:1}),e(F,null,{default:l(()=>$[7]||($[7]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ze,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",Sr,[e(de,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:u.status,"onUpdate:modelValue":[$[2]||($[2]=T=>u.status=T),I],options:_,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ne,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:u.search,"onUpdate:modelValue":$[3]||($[3]=T=>u.search=T),placeholder:"Cari",clearable:""},{append:l(()=>[e(S,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Pr=Object.freeze(Object.defineProperty({__proto__:null,default:Tr},Symbol.toStringTag,{value:"Module"})),Bl={__name:"CompanyInfoForm",setup(d){const n=q(),m=fe(),o=Le({name:m.props.data.name,headline:m.props.data.headline,phone:m.props.data.phone,address:m.props.data.address,logo_path:m.props.data.logo_path,logo_image:null}),s=q(null),i=q("");we(()=>{o.logo_path&&(i.value=`/${o.logo_path}`)});function b(){s.value.click()}function g(v){const _=v.target.files[0];_&&(o.logo_image=_,i.value=URL.createObjectURL(_))}function u(){o.logo_image=null,o.logo_path=null,i.value=null,s.value.value=null}const c=()=>Xe({form:o,url:route("admin.company-profile.edit")});return(v,_)=>(f(),O(Fe,{class:"row",onSubmit:W(c,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(ce,{flat:"",bordered:"",square:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[_[8]||(_[8]=t("div",{class:"text-subtitle1 q-my-xs"},"Profil Perusahaan",-1)),_[9]||(_[9]=t("p",{class:"text-caption text-grey-9"},"Perbarui profil perusahaan.",-1)),e(ne,{ref_key:"nameInputRef",ref:n,modelValue:a(o).name,"onUpdate:modelValue":_[0]||(_[0]=p=>a(o).name=p),modelModifiers:{trim:!0},label:"Nama Perusahaan",disable:a(o).processing,"lazy-rules":"",error:!!a(o).errors.name,"error-message":a(o).errors.name,rules:[p=>p&&p.length>0||"Nama perusahaan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(ne,{modelValue:a(o).headline,"onUpdate:modelValue":_[1]||(_[1]=p=>a(o).headline=p),modelModifiers:{trim:!0},label:"Headline",disable:a(o).processing,maxlength:"200","lazy-rules":"",error:!!a(o).errors.headline,"error-message":a(o).errors.headline,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(ne,{modelValue:a(o).phone,"onUpdate:modelValue":_[2]||(_[2]=p=>a(o).phone=p),modelModifiers:{trim:!0},label:"No Telepon",disable:a(o).processing,"lazy-rules":"",error:!!a(o).errors.phone,"error-message":a(o).errors.phone,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(ne,{type:"textarea",counter:"",autogrow:"",maxlength:"500",modelValue:a(o).address,"onUpdate:modelValue":_[3]||(_[3]=p=>a(o).address=p),modelModifiers:{trim:!0},label:"Alamat",disable:a(o).processing,"lazy-rules":"",error:!!a(o).errors.address,"error-message":a(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),t("div",null,[_[7]||(_[7]=t("div",{class:"text-subtitle1 q-my-sm"},"Logo:",-1)),e(U,{label:"Browse Logo",size:"sm",onClick:b,color:"secondary",icon:"add_a_photo",disable:a(o).processing},null,8,["disable"]),e(U,{class:"q-ml-sm",size:"sm",icon:"close",label:"Buang",disable:a(o).processing||!i.value,color:"red",onClick:u},null,8,["disable"]),t("input",{type:"file",ref_key:"fileInput",ref:s,accept:"image/*",style:{display:"none"},onChange:g},null,544),t("div",null,[e(Ht,{src:i.value,class:"q-mt-md",ratio:1,"spinner-color":"white",style:{width:"240px",border:"1px solid #ddd"}},ze({error:l(()=>[_[4]||(_[4]=t("div",{class:"text-negative text-center q-pa-md"}," Gambar tidak tersedia ",-1))]),_:2},[i.value?void 0:{name:"default",fn:l(()=>[_[5]||(_[5]=t("div",{class:"absolute-full text-subtitle2 flex flex-center"}," Logo belum diset ",-1))]),key:"0"}]),1032,["src"]),_[6]||(_[6]=t("p",{class:"q-my-sm text-grey-9"}," Logo akan di resize ke ukuran 240px x 240px ",-1))])])]),_:1}),e(ae,null,{default:l(()=>[e(U,{icon:"save",type:"submit",color:"primary",label:"Simpan",disable:a(o).processing,loading:a(o).processing},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},Or=Object.freeze(Object.defineProperty({__proto__:null,default:Bl},Symbol.toStringTag,{value:"Module"})),Ir={class:"q-pa-xs"},Rr={class:"row justify-center"},Dr={class:"col col-md-6"},za="Profil Perusahaan",Ur={__name:"Edit",setup(d){return(n,m)=>{const o=Q("i-head"),s=Q("authenticated-layout");return f(),h(Y,null,[e(o,{title:za}),e(s,null,{title:l(()=>[y(r(za))]),default:l(()=>[t("div",Ir,[t("div",Rr,[t("div",Dr,[e(Bl)])])])]),_:1})],64)}}},Ar=Object.freeze(Object.defineProperty({__proto__:null,default:Ur},Symbol.toStringTag,{value:"Module"})),Er={class:"q-gutter-sm"},jr={class:"col col-md-6 q-pa-xs"},Mr={class:"row"},Nr={class:"detail"},Br={key:0},Fr={key:1},zr={key:0},Lr={key:1},Hr={colspan:"3",class:"bg-white"},La="Rincian Konfirmasi Top Up",Kr={__name:"Detail",setup(d){const n=fe();return(m,o)=>{const s=Q("i-head"),i=Q("i-link"),b=Q("my-link"),g=Q("authenticated-layout");return f(),h(Y,null,[e(s,{title:La}),e(g,{"show-drawer-button":!0},{"left-button":l(()=>[t("div",Er,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=u=>m.$inertia.get(m.route("admin.customer-wallet-transaction-confirmation.index")))})])]),title:l(()=>[t("span",{class:"text-subtitle2"},r(La))]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",jr,[t("div",Mr,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[o[23]||(o[23]=t("div",{class:"text-subtitle1 text-bold text-grey-8"}," Rincian Konfirmasi ",-1)),t("table",Nr,[t("tbody",null,[t("tr",null,[o[1]||(o[1]=t("td",{style:{width:"110px"}},"Kode Trx",-1)),o[2]||(o[2]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.formatted_id),1)]),t("tr",null,[o[3]||(o[3]=t("td",null,"Waktu",-1)),o[4]||(o[4]=t("td",null,":",-1)),t("td",null,r(a(be)(a(n).props.data.datetime)),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"Pelanggan",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,[t("div",null,[e(S,{name:"person",class:"inline-icon"}),y(" "+r(a(n).props.data.customer.username),1)]),t("div",null,[e(S,{name:"person",class:"inline-icon"}),y(" "+r(a(n).props.data.customer.name),1)]),a(n).props.data.customer.phone?(f(),h("div",Br,[e(S,{name:"phone",class:"inline-icon"}),y(" "+r(a(n).props.data.customer.phone),1)])):k("",!0),a(n).props.data.customer.address?(f(),h("div",Fr,[e(S,{name:"home_pin",class:"inline-icon"}),y(" "+r(a(n).props.data.customer.address),1)])):k("",!0),t("div",null,[e(i,{href:m.route("admin.customer.detail",{id:a(n).props.data.customer_id})},{default:l(()=>o[5]||(o[5]=[y("Lihat Rincian Pelanggan")])),_:1},8,["href"])])])]),t("tr",null,[o[10]||(o[10]=t("td",null,"Akun Tujuan",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,[e(b,{href:m.route("admin.finance-account.detail",{id:a(n).props.data.finance_account.id})},{default:l(()=>[y(r(a(n).props.data.finance_account.name),1)]),_:1},8,["href"]),o[9]||(o[9]=t("br",null,null,-1)),a(n).props.data.finance_account.type==="bank"?(f(),h(Y,{key:0},[y(" Rek "+r(a(n).props.data.finance_account.bank)+" an "+r(a(n).props.data.finance_account.holder)+" ",1),o[8]||(o[8]=t("br",null,null,-1)),y(" "+r(a(n).props.data.finance_account.number),1)],64)):k("",!0)])]),t("tr",null,[o[12]||(o[12]=t("td",null,"Jumlah",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,"Rp. "+r(a(H)(a(n).props.data.amount)),1)]),t("tr",null,[o[14]||(o[14]=t("td",null,"Status",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,r(m.$CONSTANTS.CUSTOMER_WALLET_TRANSACTION_CONFIRMATION_STATUSES[a(n).props.data.status]),1)]),t("tr",null,[o[16]||(o[16]=t("td",null,"Catatan",-1)),o[17]||(o[17]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.notes),1)]),a(n).props.data.creator?(f(),h("tr",zr,[o[18]||(o[18]=t("td",null,"Dibuat",-1)),o[19]||(o[19]=t("td",null,":",-1)),t("td",null,r(a(be)(a(n).props.data.created_at))+" oleh "+r(a(n).props.data.creator.name),1)])):k("",!0),a(n).props.data.updater?(f(),h("tr",Lr,[o[20]||(o[20]=t("td",null,"Diperbarui",-1)),o[21]||(o[21]=t("td",null,":",-1)),t("td",null,r(a(be)(a(n).props.data.updated_at))+" oleh "+r(a(n).props.data.updater.name),1)])):k("",!0),a(n).props.data.image_path?(f(),h(Y,{key:2},[o[22]||(o[22]=t("tr",null,[t("td",null,"Lampiran"),t("td",null,":"),t("td")],-1)),t("tr",null,[t("td",Hr,[e(Ht,{src:`/${a(n).props.data.image_path}`,class:"q-mt-none",style:Me([{"max-width":"500px"},{border:"1px solid #ddd"}])},null,8,["src"])])])],64)):k("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Yr=Object.freeze(Object.defineProperty({__proto__:null,default:Kr},Symbol.toStringTag,{value:"Module"})),Qr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Wr={class:"q-pa-xs"},Jr={class:"flex justify-end no-wrap"},Ha="Konfirmasi Top Up Wallet",Gr={__name:"Index",setup(d){const n=he(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),g=We(b),u=q(null),c=q(!1),v=Kt(),_=Yt(),p=[{label:"Semua Tahun",value:"all"},...It(v-2,v).reverse()],V=[{value:"all",label:"Semua Bulan"},...Rt()],I=[{value:"all",label:"Semua Status"},...Ge(window.CONSTANTS.CUSTOMER_WALLET_TRANSACTION_CONFIRMATION_STATUSES)],w=Pe({search:"",year:v,month:_,status:"all",...De()}),R=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!1}),C=[{name:"datetime",label:"Tanggal",field:"datetime",align:"left",sortable:!0},{name:"finance_account_id",label:"Bank Tujuan",field:"finance_account_id",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"status",label:"Status",field:"status",align:"center"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",label:"Aksi",field:"action",align:"center"}];we(()=>{$()});const $=(B=null)=>{Ue({pagination:R,filter:w,props:B,rows:o,url:route("admin.customer-wallet-transaction-confirmation.data"),loading:s,tableRef:i})},A=()=>{$()},z=J(()=>n.screen.gt.sm?C:C.filter(B=>["datetime","action"].includes(B.name)));Ae(()=>w.year,B=>{B===null&&(w.month=null)});const T=B=>Ra({message:`Setujui konfirmasi transaksi #${B.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",B.id),fetchItemsCallback:$,loading:s,data:{id:B.id,action:"accept"}}),D=B=>Ra({message:`Tolak konfirmasi transaksi #${B.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",B.id),fetchItemsCallback:$,loading:s,data:{id:B.id,action:"reject"}}),M=B=>at({message:`Hapus konfirmasi transaksi ${B.formatted_id}?`,url:route("admin.customer-wallet-transaction-confirmation.delete",B.id),fetchItemsCallback:$,loading:s}),N=B=>{u.value=B,c.value=!0};return(B,x)=>{const L=Q("i-head"),ie=Q("authenticated-layout");return f(),h(Y,null,[e(L,{title:Ha}),e(ie,null,ze({title:l(()=>[y(r(Ha))]),"right-button":l(()=>[e(U,{class:"q-ml-sm",icon:m.value?"filter_alt_off":"filter_alt",color:"grey",flat:"",rounded:"",dense:"",onClick:x[0]||(x[0]=j=>m.value=!m.value)},null,8,["icon"])]),default:l(()=>[t("div",Wr,[e(Te,{ref_key:"tableRef",ref:i,class:"full-height-table",style:Me({height:a(g)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:R.value,"onUpdate:pagination":x[6]||(x[6]=j=>R.value=j),filter:w.search,loading:s.value,columns:z.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:$,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),body:l(j=>[e(qe,{props:j,class:"cursor-pointer",onClick:W(E=>a(X).get(B.route("admin.customer-wallet-transaction-confirmation.detail",{id:j.row.id})),["stop"])},{default:l(()=>[e(K,{key:"datetime",props:j,class:"wrap-column"},{default:l(()=>[t("div",null,[e(S,{class:"inline-icon",name:"tag"}),y(" "+r(j.row.formatted_id),1)]),t("div",null,[e(S,{name:"calendar_clock",class:"inline-icon"}),y(" "+r(a(be)(j.row.datetime)),1)]),a(n).screen.gt.sm?k("",!0):(f(),h(Y,{key:0},[e(_e,{icon:"account_balance",text:j.row.finance_account.name},null,8,["text"]),t("div",null,[e(S,{name:"person",class:"inline-icon"}),y(" "+r(j.row.customer.username)+" - "+r(j.row.customer.name),1)]),t("div",null,[e(S,{name:"money",class:"inline-icon"}),y(" Rp. "+r(a(H)(j.row.amount)),1)]),j.row.notes?(f(),O(_e,{key:0,icon:"notes",text:j.row.notes},null,8,["text"])):k("",!0),t("div",null,[e(Ia,{status:j.row.status},null,8,["status"])])],64))]),_:2},1032,["props"]),e(K,{key:"finance_account_id",props:j},{default:l(()=>[y(r(j.row.finance_account.name),1),x[8]||(x[8]=t("br",null,null,-1)),y(" "+r(j.row.finance_account.bank)+" "+r(j.row.finance_account.number)+" an. "+r(j.row.finance_account.holder),1)]),_:2},1032,["props"]),e(K,{key:"amount",props:j,style:{"text-align":"right"}},{default:l(()=>[y(r(a(H)(j.row.amount)),1)]),_:2},1032,["props"]),e(K,{key:"status",props:j,class:"text-center"},{default:l(()=>[e(Ia,{status:j.row.status},null,8,["status"])]),_:2},1032,["props"]),e(K,{key:"notes",props:j,class:"word-wrap"},{default:l(()=>[e(_e,{icon:"notes",text:j.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(K,{key:"action",props:j,class:"text-center"},{default:l(()=>[t("div",Jr,[e(U,{icon:"image",color:"primary",dense:"",flat:"",disable:j.row.image_path===null||j.row.image_path==="",onClick:W(E=>N(j.row.image_path),["stop"])},{default:l(()=>[j.row.image_path!=null?(f(),O(sa,{key:0},{default:l(()=>x[9]||(x[9]=[y(" Lihat Bukti ")])),_:1})):k("",!0)]),_:2},1032,["disable","onClick"]),B.$can("admin.customer-wallet-transaction-confirmation:accept")||B.$can("admin.customer-wallet-transaction-confirmation:deny")||B.$can("admin.customer-wallet-transaction-confirmation.delete")?(f(),O(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:x[5]||(x[5]=W(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[B.$can("admin.customer-wallet-transaction-confirmation:accept")?Z((f(),O(le,{key:0,onClick:W(E=>T(j.row),["stop"]),clickable:"",disable:j.row.status!=="pending"},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"check"})]),_:1}),e(F,null,{default:l(()=>x[10]||(x[10]=[y("Setujui")])),_:1})]),_:2},1032,["onClick","disable"])),[[se],[ue]]):k("",!0),B.$can("admin.customer-wallet-transaction-confirmation:deny")?Z((f(),O(le,{key:1,onClick:W(E=>D(j.row),["stop"]),clickable:"",disable:j.row.status!=="pending"},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"cancel"})]),_:1}),e(F,null,{default:l(()=>x[11]||(x[11]=[y("Tolak")])),_:1})]),_:2},1032,["onClick","disable"])),[[se],[ue]]):k("",!0),e(Je),B.$can("admin.customer-wallet-transaction-confirmation.delete")?Z((f(),O(le,{key:2,onClick:W(E=>M(j.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"delete_forever"})]),_:1}),e(F,null,{default:l(()=>x[12]||(x[12]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"]),e(ra,{modelValue:c.value,"onUpdate:modelValue":x[7]||(x[7]=j=>c.value=j),imageUrl:`/${u.value}`},null,8,["modelValue","imageUrl"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ze,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",Qr,[e(de,{modelValue:w.year,"onUpdate:modelValue":[x[1]||(x[1]=j=>w.year=j),A],options:p,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),w.year!=="all"?(f(),O(de,{key:0,modelValue:w.month,"onUpdate:modelValue":[x[2]||(x[2]=j=>w.month=j),A],options:V,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:w.year===null},null,8,["modelValue","disable"])):k("",!0),e(de,{modelValue:w.status,"onUpdate:modelValue":[x[3]||(x[3]=j=>w.status=j),A],options:I,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(ne,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:w.search,"onUpdate:modelValue":x[4]||(x[4]=j=>w.search=j),placeholder:"Cari...",clearable:""},{append:l(()=>[e(S,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Xr=Object.freeze(Object.defineProperty({__proto__:null,default:Gr},Symbol.toStringTag,{value:"Module"}));function Fl(d,n=!1){const m=d.map(b=>({value:b.id,label:b.username+" - "+b.name})),o=n?[{value:"all",label:"Semua"},...m]:m,s=q([...o]);return{filteredCustomers:s,filterCustomersFn:(b,g)=>{g(()=>{s.value=o.filter(u=>u.label.toLowerCase().includes(b.toLowerCase()))})},customers:o}}const Zr={class:"col col-md-6 q-pa-xs"},Ka="Penyesuaian Saldo Dompet Pelanggan",ei={__name:"Adjustment",setup(d){const n=fe(),{filteredCustomers:m,filterCustomersFn:o}=Fl(n.props.customers,!1),s=Le({customer_id:null,old_balance:0,new_balance:0,notes:""}),i=()=>s.amount=s.new_balance-s.old_balance;Ae(()=>s.customer_id,async u=>{if(!u){s.old_balance=0,s.new_balance=0,i();return}s.processing=!0;try{const c=await axios.get(route("admin.customer.balance",{id:u}));s.new_balance=s.old_balance=c.data.balance}catch(c){console.error("Gagal mengambil saldo:",c),s.old_balance=0,s.new_balance=0}s.processing=!1,i()});const b=J(()=>s.new_balance-s.old_balance),g=()=>Xe({form:s,url:route("admin.customer-wallet-transaction.adjustment")});return(u,c)=>{const v=Q("i-head"),_=Q("authenticated-layout");return f(),h(Y,null,[e(v,{title:Ka}),e(_,null,{title:l(()=>[y(r(Ka))]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",Zr,[e(Fe,{class:"row",onSubmit:W(g,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[e(de,{class:"custom-select",modelValue:a(s).customer_id,"onUpdate:modelValue":c[0]||(c[0]=p=>a(s).customer_id=p),label:"Pelanggan","use-input":"","input-debounce":"300",clearable:"",options:a(m),"map-options":"","emit-value":"",errorMessage:a(s).errors.customer_id,onFilter:a(o),error:!!a(s).errors.customer_id,disable:a(s).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(le,null,{default:l(()=>[e(F,null,{default:l(()=>c[6]||(c[6]=[y("Pelanggan tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(Re,{modelValue:a(s).old_balance,"onUpdate:modelValue":c[1]||(c[1]=p=>a(s).old_balance=p),label:"Saldo Tercatat",readonly:"",lazyRules:"",disable:a(s).processing,error:!!a(s).errors.balance,errorMessage:a(s).errors.balance},null,8,["modelValue","disable","error","errorMessage"]),e(Re,{modelValue:a(s).new_balance,"onUpdate:modelValue":c[2]||(c[2]=p=>a(s).new_balance=p),label:"Saldo Seharusnya",lazyRules:"",disable:a(s).processing,error:!!a(s).errors.new_balance,errorMessage:a(s).errors.new_balance},null,8,["modelValue","disable","error","errorMessage"]),e(Re,{modelValue:b.value,"onUpdate:modelValue":c[3]||(c[3]=p=>b.value=p),label:"Selisih",readonly:"",lazyRules:"",disable:a(s).processing},null,8,["modelValue","disable"]),e(ne,{modelValue:a(s).notes,"onUpdate:modelValue":c[4]||(c[4]=p=>a(s).notes=p),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(s).processing,error:!!a(s).errors.notes,"error-message":a(s).errors.notes,rules:[p=>p&&p.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(s).processing},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",disable:a(s).processing,onClick:c[5]||(c[5]=p=>a(X).get(u.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},ti=Object.freeze(Object.defineProperty({__proto__:null,default:ei},Symbol.toStringTag,{value:"Module"})),ai={class:"q-gutter-sm"},li={class:"col col-md-6 q-pa-xs"},oi={class:"row"},ni={class:"detail"},si={key:0},ri={key:1},ii={key:0},di={key:1},ui={colspan:"3",class:"bg-white"},Ya="Rincian Transaksi",mi={__name:"Detail",setup(d){const n=fe();return(m,o)=>{const s=Q("i-head"),i=Q("i-link"),b=Q("authenticated-layout");return f(),h(Y,null,[e(s,{title:Ya}),e(b,null,{"left-button":l(()=>[t("div",ai,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=g=>m.$goBack())})])]),title:l(()=>[y(r(Ya))]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",li,[t("div",oi,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[o[19]||(o[19]=t("div",{class:"text-subtitle1 text-bold text-grey-8"}," Rincian Transaksi Wallet ",-1)),t("table",ni,[t("tbody",null,[t("tr",null,[o[1]||(o[1]=t("td",{style:{width:"110px"}},"Kode Trx",-1)),o[2]||(o[2]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.formatted_id),1)]),t("tr",null,[o[3]||(o[3]=t("td",null,"Waktu",-1)),o[4]||(o[4]=t("td",null,":",-1)),t("td",null,r(a(be)(a(n).props.data.datetime)),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"Pelanggan",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,[t("div",null,[e(S,{name:"person",class:"inline-icon"}),y(" "+r(a(n).props.data.customer.username),1)]),t("div",null,[e(S,{name:"person",class:"inline-icon"}),y(" "+r(a(n).props.data.customer.name),1)]),a(n).props.data.customer.phone?(f(),h("div",si,[e(S,{name:"phone",class:"inline-icon"}),y(" "+r(a(n).props.data.customer.phone),1)])):k("",!0),a(n).props.data.customer.address?(f(),h("div",ri,[e(S,{name:"home_pin",class:"inline-icon"}),y(" "+r(a(n).props.data.customer.address),1)])):k("",!0),t("div",null,[e(i,{href:m.route("admin.customer.detail",{id:a(n).props.data.customer_id})},{default:l(()=>o[5]||(o[5]=[y("Lihat Rincian Pelanggan")])),_:1},8,["href"])])])]),t("tr",null,[o[8]||(o[8]=t("td",null,"Jenis Transaksi",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,r(m.$CONSTANTS.CUSTOMER_WALLET_TRANSACTION_TYPES[a(n).props.data.type]),1)]),t("tr",null,[o[10]||(o[10]=t("td",null,"Jumlah",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",{class:xe(a(n).props.data.amount>0?"text-positive":"text-negative")},r(a(Mt)(a(n).props.data.amount))+"Rp. "+r(a(H)(Math.abs(a(n).props.data.amount))),3)]),t("tr",null,[o[12]||(o[12]=t("td",null,"Catatan",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.notes),1)]),a(n).props.data.creator?(f(),h("tr",ii,[o[14]||(o[14]=t("td",null,"Dibuat",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,r(a(be)(a(n).props.data.created_at))+" oleh "+r(a(n).props.data.creator.name),1)])):k("",!0),a(n).props.data.updater?(f(),h("tr",di,[o[16]||(o[16]=t("td",null,"Diperbarui",-1)),o[17]||(o[17]=t("td",null,":",-1)),t("td",null,r(a(be)(a(n).props.data.updated_at))+" oleh "+r(a(n).props.data.updater.name),1)])):k("",!0),a(n).props.data.image_path?(f(),h(Y,{key:2},[o[18]||(o[18]=t("tr",null,[t("td",null,"Lampiran"),t("td",null,":"),t("td")],-1)),t("tr",null,[t("td",ui,[e(Ht,{src:`/${a(n).props.data.image_path}`,class:"q-mt-none",style:Me([{"max-width":"500px"},{border:"1px solid #ddd"}])},null,8,["src"])])])],64)):k("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},ci=Object.freeze(Object.defineProperty({__proto__:null,default:mi},Symbol.toStringTag,{value:"Module"})),pi={class:"q-gutter-sm"},fi={class:"col col-md-6 q-pa-xs"},gi={__name:"Editor",setup(d){var c;const n=fe(),m=(n.props.data.id?"Edit":"Catat")+" Transaksi Dompet Pelanggan",{filteredCustomers:o,filterCustomersFn:s}=Fl(n.props.customers,!1),i=[{label:"Deposit (+)",value:"deposit"},{label:"Penarikan (-)",value:"withdrawal"}],b=n.props.finance_accounts.map(v=>({label:v.name,value:v.id})),g=Le({id:n.props.data.id,customer_id:n.props.data.customer_id,finance_account_id:n.props.data.finance_account_id,type:n.props.data.type,datetime:new Date(n.props.data.datetime),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount),image_path:((c=n.props.data)==null?void 0:c.image_path)??"",image:null}),u=()=>{Qt(g,{datetime:"YYYY-MM-DD HH:mm:ss"}),Xe({form:g,url:route("admin.customer-wallet-transaction.save")})};return(v,_)=>{const p=Q("i-head"),V=Q("authenticated-layout");return f(),h(Y,null,[e(p,{title:m}),e(V,null,{title:l(()=>[y(r(m))]),"left-button":l(()=>[t("div",pi,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:_[0]||(_[0]=I=>v.$inertia.get(v.route("admin.customer-wallet-transaction.index")))})])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",fi,[e(Fe,{class:"row",onSubmit:W(u,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[Z(t("input",{type:"hidden",name:"id","onUpdate:modelValue":_[1]||(_[1]=I=>a(g).id=I)},null,512),[[dt,a(g).id]]),e(Nt,{autofocus:"",modelValue:a(g).datetime,"onUpdate:modelValue":_[2]||(_[2]=I=>a(g).datetime=I),label:"Tanggal",error:!!a(g).errors.datetime,disable:a(g).processing,"hide-bottom-space":""},null,8,["modelValue","error","disable"]),e(de,{class:"custom-select",modelValue:a(g).customer_id,"onUpdate:modelValue":_[3]||(_[3]=I=>a(g).customer_id=I),label:"Pelanggan","use-input":"","input-debounce":"300",clearable:"",options:a(o),"map-options":"","emit-value":"",errorMessage:a(g).errors.customer_id,onFilter:a(s),error:!!a(g).errors.customer_id,disable:a(g).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(le,null,{default:l(()=>[e(F,null,{default:l(()=>_[10]||(_[10]=[y("Pelanggan tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(de,{modelValue:a(g).type,"onUpdate:modelValue":_[4]||(_[4]=I=>a(g).type=I),label:"Jenis",options:i,"map-options":"","emit-value":"",error:!!a(g).errors.type,disable:a(g).processing,errorMessage:a(g).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(de,{modelValue:a(g).finance_account_id,"onUpdate:modelValue":_[5]||(_[5]=I=>a(g).finance_account_id=I),label:a(g).type=="deposit"?"Kas Tujuan":"Kas Asal",options:a(b),"map-options":"","emit-value":"",error:!!a(g).errors.finance_account_id,disable:a(g).processing,errorMessage:a(g).errors.finance_account_id,"hide-bottom-space":""},null,8,["modelValue","label","options","error","disable","errorMessage"]),e(Re,{modelValue:a(g).amount,"onUpdate:modelValue":_[6]||(_[6]=I=>a(g).amount=I),label:"Jumlah",lazyRules:"",disable:a(g).processing,error:!!a(g).errors.amount,errorMessage:a(g).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(ne,{modelValue:a(g).notes,"onUpdate:modelValue":_[7]||(_[7]=I=>a(g).notes=I),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(g).processing,error:!!a(g).errors.notes,"error-message":a(g).errors.notes,rules:[I=>I&&I.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(wa,{modelValue:a(g).image,"onUpdate:modelValue":_[8]||(_[8]=I=>a(g).image=I),"initial-image-path":a(g).image_path,disabled:a(g).processing,error:!!a(g).errors.image||!!a(g).errors.image_path,"error-message":a(g).errors.image||a(g).errors.image_path},null,8,["modelValue","initial-image-path","disabled","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(g).processing},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",disable:a(g).processing,onClick:_[9]||(_[9]=I=>a(X).get(v.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},bi=Object.freeze(Object.defineProperty({__proto__:null,default:gi},Symbol.toStringTag,{value:"Module"})),vi={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},yi={class:"q-pa-xs"},_i={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ki={key:0},wi={class:"flex justify-end no-wrap"},Qa="Transaksi Dompet Pelanggan",hi={__name:"Index",setup(d){const n=he(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),g=We(b),u=new Date().getFullYear(),c=new Date().getMonth()+1,v=[{label:"Semua Tahun",value:"all"},{label:`${u}`,value:u},...It(u-2,u-1).reverse()],_=[{value:"all",label:"Semua Bulan"},...Rt()],p=Pe({search:"",year:u,month:c,...De()}),V=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!0}),I=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"customer",label:"Pelanggan",field:"customer",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];we(()=>{R()});const w=D=>at({message:`Hapus transaksi #${D.formatted_id}? Seluruh akun terkait akan di refund dan rekaman akan dihapus.`,url:route("admin.customer-wallet-transaction.delete",D.id),fetchItemsCallback:R,loading:s}),R=(D=null)=>{Ue({pagination:V,filter:p,props:D,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:s,tableRef:i})},C=()=>{R()},$=J(()=>n.screen.gt.sm?I:I.filter(D=>D.name==="datetime"||D.name==="action"));Ae(()=>p.year,D=>{D===null&&(p.month=null)});const A=q(null),z=q(!1),T=D=>{A.value=D,z.value=!0};return(D,M)=>{const N=Q("i-head"),B=Q("authenticated-layout");return f(),h(Y,null,[e(N,{title:Qa}),e(B,null,ze({title:l(()=>[y(r(Qa))]),"right-button":l(()=>[e(U,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:M[0]||(M[0]=x=>m.value=!m.value)},null,8,["icon"]),D.$can("admin.customer-wallet-transaction.add")?(f(),O(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:M[1]||(M[1]=x=>a(X).get(D.route("admin.customer-wallet-transaction.add")))})):k("",!0)]),default:l(()=>[t("div",yi,[e(Te,{ref_key:"tableRef",ref:i,style:Me({height:a(g)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:V.value,"onUpdate:pagination":M[6]||(M[6]=x=>V.value=x),filter:p.search,loading:s.value,columns:$.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:R,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:x,message:L,filter:ie})=>[t("div",_i,[t("span",null,r(L)+" "+r(ie?" with term "+ie:""),1)])]),body:l(x=>[e(qe,{props:x,class:"cursor-pointer",onClick:W(L=>a(X).get(D.route("admin.customer-wallet-transaction.detail",{id:x.row.id})),["stop"])},{default:l(()=>[e(K,{key:"datetime",props:x,class:"wrap-column"},{default:l(()=>[t("div",null,[e(S,{name:"tag",class:"inline-icon"}),y(" "+r(x.row.formatted_id),1)]),t("div",null,[e(S,{name:"calendar_clock",class:"inline-icon"}),y(" "+r(a(be)(x.row.datetime)),1)]),x.row.finance_account?(f(),h("div",ki,[e(S,{name:"wallet",class:"inline-icon"}),y(" "+r(x.row.finance_account?x.row.finance_account.name:"-"),1)])):k("",!0),a(n).screen.gt.sm?k("",!0):(f(),h(Y,{key:1},[e(_e,{icon:"person",text:x.row.customer.username+" - "+x.row.customer.name},null,8,["text"]),t("div",{class:xe([x.row.amount>0?"text-positive":"text-negative","text-bold"])},[e(S,{name:"money",class:"inline-icon"}),y(" "+r(a(Mt)(x.row.amount))+"Rp. "+r(a(H)(Math.abs(x.row.amount))),1)],2),e(_e,{text:x.row.notes,icon:"notes",class:"text-grey-8"},null,8,["text"]),t("div",null,[e(ut,null,{default:l(()=>[y(r(x.row.type_label),1)]),_:2},1024)])],64))]),_:2},1032,["props"]),e(K,{key:"customer",props:x},{default:l(()=>[e(_e,{text:x.row.customer.username+" - "+x.row.customer.name},null,8,["text"])]),_:2},1032,["props"]),e(K,{key:"notes",props:x},{default:l(()=>[e(_e,{text:x.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(K,{key:"amount",props:x,style:{"text-align":"right"}},{default:l(()=>[y(r(a(na)(x.row.amount)),1)]),_:2},1032,["props"]),e(K,{key:"action",props:x},{default:l(()=>[t("div",wi,[e(U,{icon:"image",color:"primary",dense:"",flat:"",disable:x.row.image_path===null||x.row.image_path==="",onClick:W(L=>T(x.row.image_path),["stop"])},{default:l(()=>[x.row.image_path!=null?(f(),O(sa,{key:0},{default:l(()=>M[8]||(M[8]=[y(" Lihat Bukti ")])),_:1})):k("",!0)]),_:2},1032,["disable","onClick"]),D.$can("admin.customer-wallet-transaction.delete")?(f(),O(U,{key:0,icon:"more_vert",rounded:"",dense:"",flat:"",onClick:M[5]||(M[5]=W(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[D.$can("admin.customer-wallet-transaction.delete")?Z((f(),O(le,{key:0,onClick:W(L=>w(x.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"delete_forever"})]),_:1}),e(F,null,{default:l(()=>M[9]||(M[9]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])]),e(ra,{modelValue:z.value,"onUpdate:modelValue":M[7]||(M[7]=x=>z.value=x),imageUrl:`/${A.value}`},null,8,["modelValue","imageUrl"])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ze,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",vi,[e(de,{modelValue:p.year,"onUpdate:modelValue":[M[2]||(M[2]=x=>p.year=x),C],options:v,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(de,{modelValue:p.month,"onUpdate:modelValue":[M[3]||(M[3]=x=>p.month=x),C],options:_,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:p.year===null},null,8,["modelValue","disable"]),e(ne,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:p.search,"onUpdate:modelValue":M[4]||(M[4]=x=>p.search=x),placeholder:"Cari",clearable:""},{append:l(()=>[e(S,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},$i=Object.freeze(Object.defineProperty({__proto__:null,default:hi},Symbol.toStringTag,{value:"Module"})),xi={class:"detail"},Si={colspan:"3"},Vi={class:"text-bold text-grey-8"},qi={key:0},Ci={key:1},Ti={class:"text-grey-8"},Pi={key:2},Oi={class:"text-grey-8"},zl={__name:"MainInfoTab",setup(d){const n=fe();return(m,o)=>(f(),h("table",xi,[t("tbody",null,[t("tr",null,[t("td",Si,[t("div",Vi,[o[1]||(o[1]=y(" Info Pelanggan ")),m.$can("admin.customer.edit")?(f(),O(U,{key:0,icon:"edit",size:"sm",dense:"",flat:"",rounded:"",class:"q-ml-sm",color:"grey",onClick:o[0]||(o[0]=s=>m.$inertia.get(m.route("admin.customer.edit",{id:a(n).props.data.id})))})):k("",!0)])])]),t("tr",null,[o[2]||(o[2]=t("td",{style:{width:"120px"}},"Username",-1)),o[3]||(o[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.username),1)]),t("tr",null,[o[4]||(o[4]=t("td",null,"Jenis",-1)),o[5]||(o[5]=t("td",null,":",-1)),t("td",null,r(m.$CONSTANTS.CUSTOMER_TYPES[a(n).props.data.type]),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"Nama",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.name),1)]),t("tr",null,[o[8]||(o[8]=t("td",null,"No. Telepon",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.phone?a(n).props.data.phone:"-"),1)]),t("tr",null,[o[10]||(o[10]=t("td",null,"Alamat",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.address?a(n).props.data.address:"-"),1)]),t("tr",null,[o[12]||(o[12]=t("td",null,"Saldo Wallet",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,"Rp. "+r(a(H)(a(n).props.data.balance)),1)]),t("tr",null,[o[14]||(o[14]=t("td",null,"Status",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),o[25]||(o[25]=t("tr",null,[t("td",{colspan:"3"},[t("div",{class:"text-bold text-grey-8 q-mt-md"},"Info Akun")])],-1)),a(n).props.data.created_at?(f(),h("tr",qi,[o[16]||(o[16]=t("td",null,"Dibuat",-1)),o[17]||(o[17]=t("td",null,":",-1)),t("td",null,r(a(St)(a(n).props.data.created_at))+" oleh "+r(a(n).props.data.creator.name)+" ("+r(a(be)(a(n).props.data.created_at))+") ",1)])):k("",!0),a(n).props.data.updated_at?(f(),h("tr",Ci,[o[18]||(o[18]=t("td",null,"Diperbarui",-1)),o[19]||(o[19]=t("td",null,":",-1)),t("td",null,r(a(St)(a(n).props.data.updated_at))+" oleh "+r(a(n).props.data.updater.name)+" ("+r(a(be)(a(n).props.data.updated_at))+") ",1)])):k("",!0),t("tr",null,[o[20]||(o[20]=t("td",null,"Terakhir login",-1)),o[21]||(o[21]=t("td",null,":",-1)),t("td",null,[y(r(a(n).props.data.last_login_datetime?a(be)(a(n).props.data.last_login_datetime):"Belum pernah login")+" ",1),t("span",Ti,"("+r(a(St)(a(n).props.data.last_login_datetime))+")",1)])]),a(n).props.data.last_activity_datetime?(f(),h("tr",Pi,[o[23]||(o[23]=t("td",null,"Aktifitas Terakhir",-1)),o[24]||(o[24]=t("td",null,":",-1)),t("td",null,[y(r(a(be)(a(n).props.data.last_activity_datetime))+" ",1),t("span",Oi,[y("("+r(a(St)(a(n).props.data.last_activity_datetime))+")",1),o[22]||(o[22]=t("br",null,null,-1)),y(r(a(n).props.data.last_activity_description),1)])])])):k("",!0)])]))}},Ii=Object.freeze(Object.defineProperty({__proto__:null,default:zl},Symbol.toStringTag,{value:"Module"})),Ri={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Di={class:"text-bold"},Ll={__name:"WalletHistoryTab",setup(d){const n=fe(),m=q([]),o=q(!0),s=Pe({customer_id:n.props.data.id,...De()}),i=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),b=[{name:"id",label:"Trx",field:"id",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah",field:"amount",align:"right"}];we(()=>{g()});const g=(v=null)=>Ue({pagination:i,filter:s,props:v,rows:m,url:route("admin.customer-wallet-transaction.data"),loading:o}),u=he(),c=J(()=>u.screen.gt.sm?b:b.filter(v=>v.name==="id"));return(v,_)=>(f(),O(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":_[0]||(_[0]=p=>i.value=p),filter:s.search,loading:o.value,columns:c.value,rows:m.value,"rows-per-page-options":[10,25,50],onRequest:g,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:p,message:V,filter:I})=>[t("div",Ri,[t("span",null,r(V)+" "+r(I?" with term "+I:""),1)])]),body:l(p=>[e(qe,{props:p,class:"cursor-pointer",onClick:W(V=>a(X).get(v.route("admin.customer-wallet-transaction.detail",{id:p.row.id})),["stop"])},{default:l(()=>[e(K,{key:"id",props:p},{default:l(()=>[t("div",Di,[e(S,{class:"inline-icon",name:"tag"}),y(" "+r(p.row.formatted_id),1)]),t("div",null,[e(S,{class:"inline-icon",name:"calendar_clock"}),y(" "+r(a(be)(p.row.datetime)),1)]),a(u).screen.lt.md?(f(),h(Y,{key:0},[t("div",{class:xe(["text-bold",p.row.amount<0?"text-red":"text-green"])},[e(S,{name:"money",class:"inline-icon"}),y(" "+r(a(ql)(p.row.amount)),1)],2),t("div",null,[e(_e,{text:p.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])],64)):k("",!0),t("div",null,[e(ut,{size:"xs",color:p.row.amount>0?"green":"red"},{default:l(()=>[e(S,{name:"category"}),y(" "+r(p.row.type_label),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(K,{key:"notes",props:p,class:"wrap-column"},{default:l(()=>[e(_e,{text:p.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(K,{key:"amount",props:p},{default:l(()=>[t("div",{class:xe(p.row.amount<0?"text-red-10":p.row.amount>0?"text-green-10":"")},r(a(na)(p.row.amount)),3)]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},Ui=Object.freeze(Object.defineProperty({__proto__:null,default:Ll},Symbol.toStringTag,{value:"Module"})),Ai={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ei={class:"text-bold"},ji={class:"text-bold"},Mi={key:0},Hl={__name:"OrderHistoryTab",setup(d){const n=fe(),m=q([]),o=q(!0),s=Pe({customer_id:n.props.data.id,...De()}),i=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),b=[{name:"id",label:"Trx",field:"id",align:"left"},{name:"grand_total",label:"Total",field:"grand_total",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}];we(()=>{g()});const g=(v=null)=>Ue({pagination:i,filter:s,props:v,rows:m,url:route("admin.sales-order.data",{customer_id:n.props.data.id,filter:{status:["closed","canceled"]}}),loading:o}),u=he(),c=J(()=>u.screen.gt.sm?b:b.filter(v=>v.name==="id"));return(v,_)=>(f(),O(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":_[0]||(_[0]=p=>i.value=p),filter:s.search,loading:o.value,columns:c.value,rows:m.value,"rows-per-page-options":[10,25,50],onRequest:g,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:p,message:V,filter:I})=>[t("div",Ai,[t("span",null,r(V)+" "+r(I?" with term "+I:""),1)])]),body:l(p=>[e(qe,{props:p,class:"cursor-pointer",onClick:W(V=>a(X).get(v.route("admin.sales-order.detail",{id:p.row.id})),["stop"])},{default:l(()=>[e(K,{key:"id",props:p},{default:l(()=>[t("div",Ei,[e(S,{class:"inline-icon",name:"tag"}),y(" "+r(p.row.formatted_id),1)]),t("div",null,[e(S,{class:"inline-icon",name:"calendar_clock"}),y(" "+r(a(be)(p.row.datetime)),1)]),a(u).screen.lt.md?(f(),h(Y,{key:0},[t("div",ji,[e(S,{name:"money",class:"inline-icon"}),y(" Rp. "+r(a(H)(p.row.grand_total)),1)]),p.row.notes?(f(),h("div",Mi,[e(_e,{text:p.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])):k("",!0)],64)):k("",!0),t("div",null,[e(ut,{color:p.row.status=="closed"?"green":"red"},{default:l(()=>[y(r(v.$CONSTANTS.SALES_ORDER_STATUSES[p.row.status]),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(K,{key:"grand_total",props:p},{default:l(()=>[t("div",null,r(a(H)(p.row.grand_total)),1)]),_:2},1032,["props"]),e(K,{key:"notes",props:p,class:"wrap-column"},{default:l(()=>[e(_e,{text:p.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},Ni=Object.freeze(Object.defineProperty({__proto__:null,default:Hl},Symbol.toStringTag,{value:"Module"})),Bi={class:"q-gutter-sm"},Fi={class:"col col-lg-6 q-pa-xs"},zi={class:"row"},Wa="Rincian Pelanggan",Li={__name:"Detail",setup(d){fe();const n=q("main");return he(),(m,o)=>{const s=Q("i-head"),i=Q("authenticated-layout");return f(),h(Y,null,[e(s,{title:Wa}),e(i,null,{title:l(()=>[y(r(Wa))]),"left-button":l(()=>[t("div",Bi,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=b=>m.$inertia.get(m.route("admin.customer.index")))})])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",Fi,[t("div",zi,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Ut,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=b=>n.value=b),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(nt,{name:"main",label:"Info Utama"}),e(nt,{name:"history",label:"Riwayat Wallet"}),e(nt,{name:"order-history",label:"Riwayat Order"})]),_:1},8,["modelValue"]),e(At,{modelValue:n.value,"onUpdate:modelValue":o[2]||(o[2]=b=>n.value=b),animated:""},{default:l(()=>[e(st,{name:"main"},{default:l(()=>[e(zl)]),_:1}),e(st,{name:"history",class:"q-pa-xs"},{default:l(()=>[e(Ll)]),_:1}),e(st,{name:"order-history",class:"q-pa-xs"},{default:l(()=>[e(Hl)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},Hi=Object.freeze(Object.defineProperty({__proto__:null,default:Li},Symbol.toStringTag,{value:"Module"})),Ki={class:"q-gutter-sm"},Yi={class:"col col-md-6 q-pa-xs"},Qi={__name:"Editor",setup(d){const n=fe(),m=(n.props.data.id?"Edit":"Tambah")+" Pelanggan",o=Le({id:n.props.data.id,username:n.props.data.username,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,active:!!n.props.data.active,password:n.props.data.password,type:n.props.data.type}),s=Ge(window.CONSTANTS.CUSTOMER_TYPES),i=()=>Xe({form:o,url:route("admin.customer."+(n.props.data.id?"edit":"add"),{id:o.id})});return(b,g)=>{const u=Q("i-head"),c=Q("authenticated-layout");return f(),h(Y,null,[e(u,{title:m}),e(c,null,{title:l(()=>[y(r(m))]),"left-button":l(()=>[t("div",Ki,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:g[0]||(g[0]=v=>b.$inertia.get(b.route("admin.customer.index")))})])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",Yi,[e(Fe,{class:"row",onSubmit:W(i,["prevent"]),onValidationError:a(Be)},{default:l(()=>[Z(t("input",{type:"hidden",name:"id","onUpdate:modelValue":g[1]||(g[1]=v=>a(o).id=v)},null,512),[[dt,a(o).id]]),e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[e(ne,{modelValue:a(o).username,"onUpdate:modelValue":g[2]||(g[2]=v=>a(o).username=v),modelModifiers:{trim:!0},label:"Username",error:!!a(o).errors.username,disable:a(o).processing,"error-message":a(o).errors.username,rules:[v=>v&&v.length>0||"Username harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(ne,{modelValue:a(o).name,"onUpdate:modelValue":g[3]||(g[3]=v=>a(o).name=v),modelModifiers:{trim:!0},label:"Nama Pelanggan",error:!!a(o).errors.name,disable:a(o).processing,"error-message":a(o).errors.name,rules:[v=>v&&v.length>0||"Nama harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(de,{modelValue:a(o).type,"onUpdate:modelValue":g[4]||(g[4]=v=>a(o).type=v),label:"Jenis Akun",options:a(s),"map-options":"","emit-value":"","lazy-rules":"",disable:a(o).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!a(o).errors.type,"error-message":a(o).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"]),e(ne,{modelValue:a(o).phone,"onUpdate:modelValue":g[5]||(g[5]=v=>a(o).phone=v),modelModifiers:{trim:!0},type:"text",label:"No HP",disable:a(o).processing,error:!!a(o).errors.phone,"error-message":a(o).errors.phone,rules:[v=>v&&v.length>0||"No HP harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(ne,{modelValue:a(o).address,"onUpdate:modelValue":g[6]||(g[6]=v=>a(o).address=v),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Alamat",disable:a(o).processing,error:!!a(o).errors.address,"error-message":a(o).errors.address,rules:[v=>v&&v.length>0||"Alamat harus diisi."],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(ne,{autocomplete:"","aria-autocomplete":"none",modelValue:a(o).password,"onUpdate:modelValue":g[7]||(g[7]=v=>a(o).password=v),type:"password",label:a(o).id?"Kata Sandi (Isi jika ingin mengganti)":"Kata Sandi Baru (Wajib diisi)",disable:a(o).processing,error:!!a(o).errors.password,"error-message":a(o).errors.password,"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","label","disable","error","error-message"]),e(da,{modelValue:a(o).active,"onUpdate:modelValue":g[8]||(g[8]=v=>a(o).active=v),label:"Aktif",disable:a(o).processing},null,8,["modelValue","disable"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(U,{type:"submit",label:"Simpan",icon:"save",color:"primary",disable:a(o).processing},null,8,["disable"]),e(U,{label:"Batal",icon:"cancel",disable:a(o).processing,onClick:g[9]||(g[9]=v=>a(X).get(b.route("admin.customer.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Wi=Object.freeze(Object.defineProperty({__proto__:null,default:Qi},Symbol.toStringTag,{value:"Module"}));function Et(d,n,m,o){const s=[];return d.forEach(i=>{o(i)===!0?s.push(i):n.push({failedPropValidation:m,file:i})}),s}function Xt(d){d&&d.dataTransfer&&(d.dataTransfer.dropEffect="copy"),Ot(d)}const Ji={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Gi=["rejected"];function Xi({editable:d,dnd:n,getFileInput:m,addFilesToQueue:o}){const{props:s,emit:i,proxy:b}=Ct(),g=q(null),u=J(()=>s.accept!==void 0?s.accept.split(",").map($=>($=$.trim(),$==="*"?"*/":($.endsWith("/*")&&($=$.slice(0,$.length-1)),$.toUpperCase()))):null),c=J(()=>parseInt(s.maxFiles,10)),v=J(()=>parseInt(s.maxTotalSize,10));function _($){if(d.value)if($!==Object($)&&($={target:null}),$.target!==null&&$.target.matches('input[type="file"]')===!0)$.clientX===0&&$.clientY===0&&Wo($);else{const A=m();A&&A!==$.target&&A.click($)}}function p($){d.value&&$&&o(null,$)}function V($,A,z,T){let D=Array.from(A||$.target.files);const M=[],N=()=>{M.length!==0&&i("rejected",M)};if(s.accept!==void 0&&u.value.indexOf("*/")===-1&&(D=Et(D,M,"accept",B=>u.value.some(x=>B.type.toUpperCase().startsWith(x)||B.name.toUpperCase().endsWith(x))),D.length===0))return N();if(s.maxFileSize!==void 0){const B=parseInt(s.maxFileSize,10);if(D=Et(D,M,"max-file-size",x=>x.size<=B),D.length===0)return N()}if(s.multiple!==!0&&D.length!==0&&(D=[D[0]]),D.forEach(B=>{B.__key=B.webkitRelativePath+B.lastModified+B.name+B.size}),T===!0){const B=z.map(x=>x.__key);D=Et(D,M,"duplicate",x=>B.includes(x.__key)===!1)}if(D.length===0)return N();if(s.maxTotalSize!==void 0){let B=T===!0?z.reduce((x,L)=>x+L.size,0):0;if(D=Et(D,M,"max-total-size",x=>(B+=x.size,B<=v.value)),D.length===0)return N()}if(typeof s.filter=="function"){const B=s.filter(D);D=Et(D,M,"filter",x=>B.includes(x))}if(s.maxFiles!==void 0){let B=T===!0?z.length:0;if(D=Et(D,M,"max-files",()=>(B++,B<=c.value)),D.length===0)return N()}if(N(),D.length!==0)return D}function I($){Xt($),n.value!==!0&&(n.value=!0)}function w($){Ot($),($.relatedTarget!==null||jt.is.safari!==!0?$.relatedTarget!==g.value:document.elementsFromPoint($.clientX,$.clientY).includes(g.value)===!1)===!0&&(n.value=!1)}function R($){Xt($);const A=$.dataTransfer.files;A.length!==0&&o(null,A),n.value=!1}function C($){if(n.value===!0)return ve("div",{ref:g,class:`q-${$}__dnd absolute-full`,onDragenter:Xt,onDragover:Xt,onDragleave:w,onDrop:R})}return Object.assign(b,{pickFiles:_,addFiles:p}),{pickFiles:_,addFiles:p,onDragover:I,onDragleave:w,processFiles:V,getDndNode:C,maxFilesNumber:c,maxTotalSizeNumber:v}}const Kl=ht({name:"QFile",inheritAttrs:!1,props:{...Go,...Cl,...Ji,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Jo,...Gi],setup(d,{slots:n,emit:m,attrs:o}){const{proxy:s}=Ct(),i=Xo(),b=q(null),g=q(!1),u=Zo(d),{pickFiles:c,onDragover:v,onDragleave:_,processFiles:p,getDndNode:V}=Xi({editable:i.editable,dnd:g,getFileInput:ie,addFilesToQueue:j}),I=en(d),w=J(()=>Object(d.modelValue)===d.modelValue?"length"in d.modelValue?Array.from(d.modelValue):[d.modelValue]:[]),R=J(()=>Da(w.value)),C=J(()=>w.value.map(oe=>oe.name).join(", ")),$=J(()=>tn(w.value.reduce((oe,Ve)=>oe+Ve.size,0))),A=J(()=>({totalSize:$.value,filesNumber:w.value.length,maxFiles:d.maxFiles})),z=J(()=>({tabindex:-1,type:"file",title:"",accept:d.accept,capture:d.capture,name:u.value,...o,id:i.targetUid.value,disabled:i.editable.value!==!0})),T=J(()=>"q-file q-field--auto-height"+(g.value===!0?" q-file--dnd":"")),D=J(()=>d.multiple===!0&&d.append===!0);function M(oe){const Ve=w.value.slice();Ve.splice(oe,1),B(Ve)}function N(oe){const Ve=w.value.indexOf(oe);Ve!==-1&&M(Ve)}function B(oe){m("update:modelValue",d.multiple===!0?oe:oe[0])}function x(oe){oe.keyCode===13&&on(oe)}function L(oe){(oe.keyCode===13||oe.keyCode===32)&&c(oe)}function ie(){return b.value}function j(oe,Ve){const Ne=p(oe,Ve,w.value,D.value),ft=ie();ft!=null&&(ft.value=""),Ne!==void 0&&((d.multiple===!0?d.modelValue&&Ne.every(pt=>w.value.includes(pt)):d.modelValue===Ne[0])||B(D.value===!0?w.value.concat(Ne):Ne))}function E(){return[ve("input",{class:[d.inputClass,"q-file__filler"],style:d.inputStyle})]}function G(){if(n.file!==void 0)return w.value.length===0?E():w.value.map((Ve,Ne)=>n.file({index:Ne,file:Ve,ref:this}));if(n.selected!==void 0)return w.value.length===0?E():n.selected({files:w.value,ref:this});if(d.useChips===!0)return w.value.length===0?E():w.value.map((Ve,Ne)=>ve(Tl,{key:"file-"+Ne,removable:i.editable.value,dense:!0,textColor:d.color,tabindex:d.tabindex,onRemove:()=>{M(Ne)}},()=>ve("span",{class:"ellipsis",textContent:Ve.name})));const oe=d.displayValue!==void 0?d.displayValue:C.value;return oe.length!==0?[ve("div",{class:d.inputClass,style:d.inputStyle,textContent:oe})]:E()}function ke(){const oe={ref:b,...z.value,...I.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:j};return d.multiple===!0&&(oe.multiple=!0),ve("input",oe)}return Object.assign(i,{fieldClass:T,emitValue:B,hasValue:R,inputRef:b,innerValue:w,floatingLabel:J(()=>R.value===!0||Da(d.displayValue)),computedCounter:J(()=>{if(d.counterLabel!==void 0)return d.counterLabel(A.value);const oe=d.maxFiles;return`${w.value.length}${oe!==void 0?" / "+oe:""} (${$.value})`}),getControlChild:()=>V("file"),getControl:()=>{const oe={ref:i.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:d.tabindex};return i.editable.value===!0&&Object.assign(oe,{onDragover:v,onDragleave:_,onKeydown:x,onKeyup:L}),ve("div",oe,[ke()].concat(G()))}}),Object.assign(s,{removeAtIndex:M,removeFile:N,getNativeElement:()=>b.value}),an(s,"nativeEl",()=>b.value),ln(i)}}),aa=ht({name:"QBanner",props:{..._a,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(d,{slots:n}){const{proxy:{$q:m}}=Ct(),o=ka(d,m),s=J(()=>"q-banner row items-center"+(d.dense===!0?" q-banner--dense":"")+(o.value===!0?" q-banner--dark q-dark":"")+(d.rounded===!0?" rounded-borders":"")),i=J(()=>`q-banner__actions row items-center justify-end col-${d.inlineActions===!0?"auto":"all"}`);return()=>{const b=[ve("div",{class:"q-banner__avatar col-auto row items-center self-start"},qt(n.avatar)),ve("div",{class:"q-banner__content col text-body2"},qt(n.default))],g=qt(n.action);return g!==void 0&&b.push(ve("div",{class:i.value},g)),ve("div",{class:s.value+(d.inlineActions===!1&&g!==void 0?" q-banner--top-padding":""),role:"alert"},b)}}}),Zi={class:"q-gutter-sm"},ed={class:"col col-md-6 q-pa-xs"},Ja="Import Pelanggan",td={__name:"Import",setup(d){const n=Le({csv_file:null}),m=()=>{n.post(route("admin.customer.import"),{onSuccess:()=>{n.reset()},onError:()=>{Be()},onFinish:()=>{n.clearErrors()}})};return(o,s)=>{const i=Q("i-head"),b=Q("authenticated-layout");return f(),h(Y,null,[e(i,{title:Ja}),e(b,{"show-drawer-button":!0},{title:l(()=>[y(r(Ja))]),"left-button":l(()=>[t("div",Zi,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=g=>o.$goBack())})])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",ed,[e(Fe,{class:"row",onSubmit:W(m,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[s[3]||(s[3]=t("div",{class:"text-subtitle1 q-pt-lg"},"Unggah File Impor",-1)),s[4]||(s[4]=t("div",{class:"text-caption text-grey"}," Unggah file CSV untuk mengimpor data pelanggan. Pastikan format kolom sesuai dengan template yang disediakan. ",-1)),e(Kl,{modelValue:a(n).csv_file,"onUpdate:modelValue":s[1]||(s[1]=g=>a(n).csv_file=g),accept:".csv",label:"Pilih file CSV",error:!!a(n).errors.csv_file,"error-message":a(n).errors.csv_file,disable:a(n).processing,"hide-bottom-space":"",class:"q-mt-md"},null,8,["modelValue","error","error-message","disable"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"upload",type:"submit",label:"Import Data",color:"primary",disable:a(n).processing||!a(n).csv_file,loading:a(n).processing},null,8,["disable","loading"]),e(U,{icon:"cancel",label:"Batal",disable:a(n).processing,onClick:s[2]||(s[2]=g=>o.$goBack())},null,8,["disable"])]),_:1}),o.$page.props.flash.success?(f(),O(aa,{key:0,class:"bg-positive text-white q-mt-md"},{default:l(()=>[y(r(o.$page.props.flash.success),1)]),_:1})):k("",!0),o.$page.props.flash.error?(f(),O(aa,{key:1,class:"bg-negative text-white q-mt-md"},{default:l(()=>[y(r(o.$page.props.flash.error),1)]),_:1})):k("",!0)]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},ad=Object.freeze(Object.defineProperty({__proto__:null,default:td},Symbol.toStringTag,{value:"Module"})),ld={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},od={class:"q-pa-xs"},nd={class:"full-width row flex-center text-grey-8 q-gutter-sm"},sd={class:"flex justify-end"},Ga="Pelanggan",rd={__name:"Index",setup(d){const n=he(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),g=We(b),u=Pe({search:"",status:"active",...De()}),c=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),v=[{name:"username",label:n.screen.lt.md?"Pelanggan":"Kode",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right"},{name:"phone",label:"No HP",field:"phone",align:"left"},{name:"address",label:"Alamat",field:"address",align:"left"},{name:"action",align:"right"}],_=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];we(()=>{V()});const p=C=>at({message:`Hapus Pelanggan ${C.name}?`,url:route("admin.customer.delete",C.id),fetchItemsCallback:V,loading:s}),V=(C=null)=>{Ue({pagination:c,filter:u,props:C,rows:o,url:route("admin.customer.data"),loading:s,tableRef:i})},I=()=>V(),w=C=>X.get(route("admin.customer.detail",{id:C.id})),R=J(()=>n.screen.gt.sm?v:v.filter(C=>C.name==="username"||C.name==="action"));return(C,$)=>{const A=Q("i-head"),z=Q("authenticated-layout");return f(),h(Y,null,[e(A,{title:Ga}),e(z,null,ze({title:l(()=>[y(r(Ga))]),"right-button":l(()=>[e(U,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:$[0]||($[0]=T=>m.value=!m.value)},null,8,["icon"]),C.$can("admin.customer.add")?(f(),O(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:$[1]||($[1]=T=>a(X).get(C.route("admin.customer.add")))})):k("",!0),C.$can("admin.customer.import")?(f(),O(U,{key:1,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:$[3]||($[3]=W(()=>{},["stop"])),class:"q-ml-sm"},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[C.$can("admin.customer.import")?Z((f(),O(le,{key:0,clickable:"",onClick:$[2]||($[2]=W(T=>a(X).get(C.route("admin.customer.import")),["stop"]))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"csv"})]),_:1}),e(F,null,{default:l(()=>$[8]||($[8]=[y("Import")])),_:1})]),_:1})),[[se],[ue]]):k("",!0)]),_:1})]),_:1})]),_:1})):k("",!0)]),default:l(()=>[t("div",od,[e(Te,{class:"full-height-table",style:Me({height:a(g)}),ref_key:"tableRef",ref:i,flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":$[7]||($[7]=T=>c.value=T),filter:u.search,loading:s.value,columns:R.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:V,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:T,message:D,filter:M})=>[t("div",nd,[t("span",null,r(D)+" "+r(M?" with term "+M:""),1)])]),body:l(T=>[e(qe,{props:T,class:xe([T.row.active?"":"bg-red-1","cursor-pointer"]),onClick:D=>w(T.row)},{default:l(()=>[e(K,{key:"username",props:T,class:"wrap-column"},{default:l(()=>[t("div",null,[a(n).screen.lt.md?(f(),O(S,{key:0,name:"person"})):k("",!0),y(" "+r(T.row.username),1)]),a(n).screen.lt.md?(f(),h(Y,{key:0},[t("div",null,[a(n).screen.lt.md?(f(),O(S,{key:0,name:"person"})):k("",!0),y(" "+r(T.row.name),1)]),t("div",null,[e(S,{name:"phone"}),y(" "+r(T.row.phone),1)]),e(_e,{text:T.row.address,icon:"home_pin"},null,8,["text"]),t("div",null,[e(S,{name:"wallet"}),y(" Rp. "+r(a(H)(T.row.balance)),1)])],64)):k("",!0)]),_:2},1032,["props"]),e(K,{key:"name",props:T},{default:l(()=>[y(r(T.row.name),1)]),_:2},1032,["props"]),e(K,{key:"balance",props:T},{default:l(()=>[y(r(a(H)(T.row.balance)),1)]),_:2},1032,["props"]),e(K,{key:"phone",props:T},{default:l(()=>[y(r(T.row.phone),1)]),_:2},1032,["props"]),e(K,{key:"address",props:T},{default:l(()=>[e(_e,{text:T.row.address},null,8,["text"])]),_:2},1032,["props"]),e(K,{key:"action",props:T},{default:l(()=>[t("div",sd,[C.$can("admin.customer.add")||C.$can("admin.customer.edit")||C.$can("admin.customer.delete")?(f(),O(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:$[6]||($[6]=W(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[C.$can("admin.customer.edit")?Z((f(),O(le,{key:0,clickable:"",onClick:W(D=>a(X).get(C.route("admin.customer.edit",T.row.id)),["stop"])},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"edit"})]),_:1}),e(F,null,{default:l(()=>$[9]||($[9]=[y("Edit")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),C.$can("admin.customer.delete")?Z((f(),O(le,{key:1,onClick:W(D=>p(T.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"delete_forever"})]),_:1}),e(F,null,{default:l(()=>$[10]||($[10]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ze,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",ld,[e(de,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:u.status,"onUpdate:modelValue":[$[4]||($[4]=T=>u.status=T),I],options:_,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ne,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:u.search,"onUpdate:modelValue":$[5]||($[5]=T=>u.search=T),placeholder:"Cari",clearable:""},{append:l(()=>[e(S,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},id=Object.freeze(Object.defineProperty({__proto__:null,default:rd},Symbol.toStringTag,{value:"Module"})),dd={class:"q-pb-sm"},ud={class:"row q-col-gutter-sm"},md={class:"row items-center no-wrap"},cd={class:"q-ml-md"},pd={class:"text-subtitle2 text-grey-8"},fd={class:"text-h6 text-weight-bold"},Yl={__name:"ActualSummaryCard",props:{dashboardData:{type:Object,required:!0}},setup(d){const n=d,m=J(()=>[{label:"Total Pelanggan Aktif",value:n.dashboardData.summary.total_active_customer,icon:"groups",color:"primary",bgColor:"#e3f2fd"},{label:"Total Saldo Wallet",value:H(n.dashboardData.summary.total_wallet_balance),icon:"account_balance_wallet",color:"orange-9",bgColor:"#fff3e0"},{label:"Total Penjualan",value:H(n.dashboardData.summary.total_sales),icon:"shopping_cart",color:"green-7",bgColor:"#e8f5e9"},{label:"Total Transaksi",value:H(n.dashboardData.summary.total_transactions),icon:"swap_horiz",color:"purple-8",bgColor:"#f3e5f5"}]);return(o,s)=>(f(),h("div",dd,[s[0]||(s[0]=t("div",{class:"text-h6 text-bold text-grey-8 q-mb-sm"},"Ringkasan Statistik",-1)),t("div",ud,[(f(!0),h(Y,null,tt(m.value,(i,b)=>(f(),h("div",{key:b,class:"col-12 col-md-6"},[e(ce,{square:"",bordered:"",flat:"",class:"q-pa-md",style:{width:"100%"}},{default:l(()=>[t("div",md,[e(zt,{icon:i.icon,color:i.color,"text-color":i.bgColor},null,8,["icon","color","text-color"]),t("div",cd,[t("div",pd,r(i.label),1),t("div",fd,r(i.value),1)])])]),_:2},1024)]))),128))])]))}},gd=Object.freeze(Object.defineProperty({__proto__:null,default:Yl},Symbol.toStringTag,{value:"Module"})),bd={class:"row q-col-gutter-sm q-pb-sm"},vd={class:"col-md-6 col-12"},yd={class:"col-md-6 col-12"},_d={__name:"ChartCard",props:{dashboardData:{type:Object,required:!0}},setup(d){nn([sn,rn,dn,un,mn,cn,pn]);const n=d,m=["#82B1FF","#4DB6AC","#FFB74D","#9575CD"],o=J(()=>({title:{text:"Penjualan Bulanan",left:"center"},tooltip:{trigger:"axis",formatter:function(i){let b=i[0].name+"<br/>";return i.forEach(function(g){b+=g.marker+" "+g.seriesName+": "+H(g.value)+"<br/>"}),b}},xAxis:{type:"category",data:n.dashboardData.monthly_sales.labels,axisLabel:{color:"#616161"}},yAxis:{type:"value",axisLabel:{formatter:i=>H(i),color:"#616161"}},series:[{name:"Penjualan",type:"bar",data:n.dashboardData.monthly_sales.data,itemStyle:{borderRadius:[5,5,0,0],color:m[0]}}]})),s=J(()=>({title:{text:"Distribusi Jenis Transaksi",left:"center"},tooltip:{trigger:"item",formatter:function(i){return i.name+"<br/>"+i.seriesName+": "+H(i.value)+" ("+i.percent+"%)"}},legend:{orient:"vertical",left:"left",textStyle:{color:"#616161"}},series:[{name:"Jumlah Transaksi",type:"pie",radius:["40%","70%"],data:n.dashboardData.transaction_type_distribution,itemStyle:{borderRadius:5,borderColor:"#fff",borderWidth:2,color:i=>m[i.dataIndex%m.length]},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}));return(i,b)=>(f(),h("div",bd,[t("div",vd,[e(ce,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:l(()=>[b[0]||(b[0]=t("div",{class:"text-h6 q-pb-sm"},"Penjualan Bulanan",-1)),e(a(Ua),{class:"chart",option:o.value,autoresize:""},null,8,["option"])]),_:1})]),t("div",yd,[e(ce,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:l(()=>[b[1]||(b[1]=t("div",{class:"text-h6 q-pb-sm"},"Distribusi Transaksi",-1)),e(a(Ua),{class:"chart",option:s.value,autoresize:""},null,8,["option"])]),_:1})])]))}},Ql=_t(_d,[["__scopeId","data-v-b9cdf915"]]),kd=Object.freeze(Object.defineProperty({__proto__:null,default:Ql},Symbol.toStringTag,{value:"Module"})),wd={class:"row q-col-gutter-sm q-pb-sm"},hd={class:"col-md-6 col-12"},$d={class:"col-md-6 col-12"},Wl={__name:"TopCard",props:{dashboardData:{type:Object,required:!0}},setup(d){return(n,m)=>(f(),h("div",wd,[t("div",hd,[e(ce,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:l(()=>[m[0]||(m[0]=t("div",{class:"text-h6 q-mb-sm"},"Top 5 Pembelian Pelanggan",-1)),e(Ee,{separator:""},{default:l(()=>[(f(!0),h(Y,null,tt(d.dashboardData.top_customers_sales,(o,s)=>(f(),O(le,{key:s},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(zt,{color:"primary","text-color":"white",size:"sm"},{default:l(()=>[y(r(s+1),1)]),_:2},1024)]),_:2},1024),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>[y(r(o.name),1)]),_:2},1024)]),_:2},1024),e(F,{side:""},{default:l(()=>[e(ye,{class:"text-primary"},{default:l(()=>[y(r(a(H)(o.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),t("div",$d,[e(ce,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:l(()=>[m[1]||(m[1]=t("div",{class:"text-h6 q-mb-sm"},"Top 5 Top Up Pelanggan",-1)),e(Ee,{separator:""},{default:l(()=>[(f(!0),h(Y,null,tt(d.dashboardData.top_customers_topup,(o,s)=>(f(),O(le,{key:s},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(zt,{color:"green-7","text-color":"white",size:"sm"},{default:l(()=>[y(r(s+1),1)]),_:2},1024)]),_:2},1024),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>[y(r(o.name),1)]),_:2},1024)]),_:2},1024),e(F,{side:""},{default:l(()=>[e(ye,{class:"text-green-7"},{default:l(()=>[y(r(a(H)(o.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]))}},xd=Object.freeze(Object.defineProperty({__proto__:null,default:Wl},Symbol.toStringTag,{value:"Module"})),Sd={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Vd={class:"q-pa-xs"},qd={class:"q-pa-none"},Xa="Dashboard",Cd={__name:"Index",setup(d){const n=fe(),m=q({summary:{total_active_customer:n.props.data.active_customer_count,total_sales:155e5,total_transactions:1250,total_wallet_balance:n.props.data.total_customer_balance,total_topup:75e6,total_purchase:85e6,total_withdrawal:65e6},top_customers_sales:[{name:"Wildan Medina",value:1822e3},{name:"Syafiq",value:1754500},{name:"Umar",value:1534e3},{name:"Fauzan",value:1212e3},{name:"Rizky",value:981500}],top_customers_topup:[{name:"Abdullah",value:175e4},{name:"Abdurrahman",value:15e5},{name:"Zayd",value:125e4},{name:"Syafiq",value:8e5},{name:"Umar",value:65e4}],monthly_sales:{labels:["Jan","Feb","Mar","Apr","Mei","Jun"],data:[14123e3,21344e3,15155e3,17128e3,12557e3,12723e3]},transaction_type_distribution:[{value:500,name:"Deposit"},{value:350,name:"Purchase"},{value:200,name:"Withdrawal"},{value:200,name:"Refund"}]}),o=q(!1),s=q(De().month??"this_month"),i=q([{value:"this_month",label:"Bulan Ini"},{value:"prev_month",label:"1 Bulan Sebelumnya"},{value:"prev_2month",label:"2 Bulan Sebelumnya"},{value:"prev_3month",label:"3 Bulan Sebelumnya"}]),b=()=>{X.visit(route("admin.dashboard",{month:s.value}))};return(g,u)=>{const c=Q("i-head"),v=Q("authenticated-layout");return f(),h(Y,null,[e(c,{title:Xa}),e(v,null,ze({title:l(()=>[y(r(Xa))]),"right-button":l(()=>[e(U,{class:"q-ml-sm",icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:u[0]||(u[0]=_=>o.value=!o.value)},null,8,["icon"])]),default:l(()=>[t("div",Vd,[t("div",qd,[e(Yl,{dashboardData:m.value},null,8,["dashboardData"])]),e(Ql,{dashboardData:m.value},null,8,["dashboardData"]),e(Wl,{dashboardData:m.value},null,8,["dashboardData"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Ze,{class:"filter-bar"},{default:l(()=>[t("div",Sd,[e(de,{class:"custom-select col-12",style:{"min-width":"150px"},modelValue:s.value,"onUpdate:modelValue":[u[1]||(u[1]=_=>s.value=_),b],options:i.value,label:"Bulan",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue","options"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},Td=Object.freeze(Object.defineProperty({__proto__:null,default:Cd},Symbol.toStringTag,{value:"Module"})),Pd={class:"row"},Od={class:"row q-col-gutter-sm"},Id={class:"col-sm-6 col-xs-12"},Rd={class:"col-sm-6 col-xs-12"},Dd={class:"col-md-3 col-sm-6 col-xs-12"},Ud={class:"col-md-3 col-sm-6 col-xs-12"},Ad={class:"col-md-3 col-sm-6 col-xs-12"},Ed={class:"col-md-3 col-sm-6 col-xs-12"};const jd={__name:"SummaryCard",setup(d){const n=fe(),m=(o,s)=>{const b={...{order_status:"all",service_status:"all",repair_status:"all",payment_status:"all",search:""},...s};localStorage.setItem("fixsync.service-orders.filter",JSON.stringify(b)),X.visit(o,{data:b})};return(o,s)=>(f(),h("div",Pd,[e(ce,{class:"bg-transparent no-shadow no-border col",bordered:""},{default:l(()=>[e(ae,{class:"q-pa-none"},{default:l(()=>[t("div",Od,[t("div",Id,[e(le,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:s[0]||(s[0]=i=>o.$inertia.visit(o.route("admin.customer.index",{status:"active"})))},{default:l(()=>[e(F,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(S,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(F,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ye,{class:"text-white text-h6 text-weight-bolder"},{default:l(()=>[y(r(a(n).props.data.active_customer_count),1)]),_:1}),e(ye,null,{default:l(()=>s[5]||(s[5]=[y("Pelanggan Aktif")])),_:1})]),_:1})]),_:1})]),t("div",Rd,[e(le,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:s[1]||(s[1]=i=>o.$inertia.visit(o.route("admin.customer.index",{status:"active"})))},{default:l(()=>[e(F,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(S,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(F,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ye,{class:"text-white text-h6 text-weight-bolder"},{default:l(()=>[y(r(o.$page.props.data.active_user_count),1)]),_:1}),e(ye,null,{default:l(()=>s[6]||(s[6]=[y("Pengguna Aktif")])),_:1})]),_:1})]),_:1})]),t("div",Dd,[e(le,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:l(()=>[e(F,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(S,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(F,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ye,{class:"text-white text-weight-bold"},{default:l(()=>[y(" Rp. "+r(a(H)(o.$page.props.data.total_finance_account_balance)),1)]),_:1}),e(ye,null,{default:l(()=>s[7]||(s[7]=[y("Total Saldo Koperasi")])),_:1})]),_:1})]),_:1})]),t("div",Ud,[e(le,{style:"background-color: #dc3545",class:"q-pa-none"},{default:l(()=>[e(F,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(S,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(F,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ye,{class:"text-white text-weight-bold"},{default:l(()=>[y(" Rp. "+r(a(H)(o.$page.props.data.total_customer_balance)),1)]),_:1}),e(ye,null,{default:l(()=>s[8]||(s[8]=[y("Total Saldo Pelanggan")])),_:1})]),_:1})]),_:1})]),t("div",Ad,[e(le,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:l(()=>[e(F,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(S,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(F,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ye,{class:"text-white text-weight-bold"},{default:l(()=>[y(" Rp. "+r(a(H)(o.$page.props.data.total_customer_debt)),1)]),_:1}),e(ye,null,{default:l(()=>s[9]||(s[9]=[y("Total Utang Pelanggan")])),_:1})]),_:1})]),_:1})]),t("div",Ed,[e(le,{style:"background-color: #dc3545",class:"q-pa-none"},{default:l(()=>[e(F,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(S,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(F,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ye,{class:"text-white text-weight-bold"},{default:l(()=>[y(" Rp. "+r(a(H)(o.$page.props.data.total_customer_credit)),1)]),_:1}),e(ye,null,{default:l(()=>s[10]||(s[10]=[y("Total Piutang Pelanggan")])),_:1})]),_:1})]),_:1})]),k("",!0),k("",!0),k("",!0)])]),_:1})]),_:1})]))}},Md=Object.freeze(Object.defineProperty({__proto__:null,default:jd},Symbol.toStringTag,{value:"Module"})),Nd={class:"detail"},Jl={__name:"MainInfoTab",setup(d){const n=fe();return(m,o)=>(f(),h("table",Nd,[t("tbody",null,[t("tr",null,[o[0]||(o[0]=t("td",{style:{width:"170px"}},"Nama",-1)),o[1]||(o[1]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.name),1)]),t("tr",null,[o[2]||(o[2]=t("td",null,"Jenis",-1)),o[3]||(o[3]=t("td",null,":",-1)),t("td",null,r(m.$CONSTANTS.FINANCE_ACCOUNT_TYPES[a(n).props.data.type]),1)]),a(n).props.data.type=="bank"?(f(),h(Y,{key:0},[t("tr",null,[o[4]||(o[4]=t("td",null,"Bank",-1)),o[5]||(o[5]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.bank),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"No. Rek",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.number),1)]),t("tr",null,[o[8]||(o[8]=t("td",null,"Atas Nama",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.holder),1)])],64)):k("",!0),t("tr",null,[o[10]||(o[10]=t("td",null,"Saldo",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,"Rp. "+r(a(H)(a(n).props.data.balance)),1)]),t("tr",null,[o[12]||(o[12]=t("td",null,"Status",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),t("tr",null,[o[14]||(o[14]=t("td",null,"Catatan",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.notes),1)]),o[22]||(o[22]=t("tr",null,[t("td",{colspan:"3",class:"text-bold text-grey-9"},[t("div",{class:"q-mt-sm"},"Opsi Lanjutan")])],-1)),t("tr",null,[o[16]||(o[16]=t("td",null,"Tampilkan di Penjualan",-1)),o[17]||(o[17]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.show_in_pos_payment?"Ya":"Tidak"),1)]),t("tr",null,[o[18]||(o[18]=t("td",null,"Tampilkan di Pembelian",-1)),o[19]||(o[19]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.show_in_purchasing?"Ya":"Tidak"),1)]),t("tr",null,[o[20]||(o[20]=t("td",null,"Tampilkan di Wallet",-1)),o[21]||(o[21]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.has_wallet_access?"Ya":"Tidak"),1)])])]))}},Bd=Object.freeze(Object.defineProperty({__proto__:null,default:Jl},Symbol.toStringTag,{value:"Module"})),Fd={class:"full-width row flex-center text-grey-8 q-gutter-sm"},zd={class:"flex q-gutter-sm"},Ld={key:0},Gl={__name:"HistoryTab",setup(d){const n=fe(),m=he(),o=q(null),s=q([]),i=q(!0),b=Pe({...De()}),g=We(null,117),u=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),c=[{name:"id",label:"ID",field:"id",align:"left"},{name:"datetime",label:"Waktu",field:"datetime",align:"left"},{name:"type",label:"Jenis Trx",field:"type",align:"center"},{name:"amount",label:"Jumlah",field:"amount",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}],v=J(()=>m.screen.gt.sm?c:c.filter(p=>p.name==="id"));we(()=>{_()});const _=(p=null)=>Ue({pagination:u,filter:b,props:p,rows:s,url:route("admin.finance-transaction.data",{filter:{account_id:n.props.data.id}}),loading:i,tableRef:o});return(p,V)=>(f(),O(Te,{ref_key:"tableRef",ref:o,flat:"",bordered:"",square:"",style:Me({height:a(g)}),color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",pagination:u.value,"onUpdate:pagination":V[0]||(V[0]=I=>u.value=I),filter:b.search,loading:i.value,columns:v.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:_,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({message:I,filter:w})=>[t("div",Fd,[t("span",null,r(I)+" "+r(w?" with term "+w:""),1)])]),body:l(I=>[e(qe,{props:I},{default:l(()=>[e(K,{key:"id",props:I},{default:l(()=>[t("div",zd,[t("div",null,[a(m).screen.lt.md?(f(),O(S,{key:0,name:"tag",class:"inline-icon"})):k("",!0),y(" "+r(I.row.formatted_id),1)])]),a(m).screen.lt.md?(f(),h(Y,{key:0},[t("div",null,[e(S,{name:"calendar_clock",class:"inline-icon"}),y(" "+r(a(be)(I.row.datetime)),1)]),I.row.creator?(f(),h("div",Ld,[e(S,{name:"person",class:"inline-icon"}),y(" "+r(I.row.creator.username),1)])):k("",!0),t("div",{class:xe([I.row.amount>0?"text-green":"text-red","text-bold"])},[e(S,{class:"inline-icon",name:"money"}),y(" "+r(a(Mt)(I.row.amount))+"Rp. "+r(a(H)(Math.abs(I.row.amount))),1)],2),t("div",null,[e(ut,{color:I.row.amount>0?"green":"red"},{default:l(()=>[y(r(p.$CONSTANTS.FINANCE_TRANSACTION_TYPES[I.row.type]),1)]),_:2},1032,["color"])]),e(_e,{text:I.row.notes,icon:"notes",class:"text-grey-8"},null,8,["text"])],64)):k("",!0)]),_:2},1032,["props"]),e(K,{key:"datetime",props:I},{default:l(()=>[y(r(a(be)(I.row.datetime)),1)]),_:2},1032,["props"]),e(K,{key:"type",props:I},{default:l(()=>[e(ut,{color:I.row.amount>0?"green":"red"},{default:l(()=>[y(r(p.$CONSTANTS.FINANCE_TRANSACTION_TYPES[I.row.type]),1)]),_:2},1032,["color"])]),_:2},1032,["props"]),e(K,{key:"amount",props:I,class:xe(I.row.amount>0?"text-green":"text-red")},{default:l(()=>[y(r(a(Mt)(I.row.amount)+a(H)(Math.abs(I.row.amount))),1)]),_:2},1032,["props","class"]),e(K,{key:"notes",props:I},{default:l(()=>[e(_e,{text:I.row.notes,icon:p.notes},null,8,["text","icon"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"]))}},Hd=Object.freeze(Object.defineProperty({__proto__:null,default:Gl},Symbol.toStringTag,{value:"Module"})),Kd={class:"q-gutter-sm"},Yd={class:"q-gutter-sm"},Qd={class:"col q-pa-xs"},Wd={class:"row"},Za="Rincian Akun",Jd={__name:"Detail",setup(d){const n=fe(),m=q("main");return(o,s)=>{const i=Q("i-head"),b=Q("authenticated-layout");return f(),h(Y,null,[e(i,{title:Za}),e(b,null,{title:l(()=>[y(r(Za))]),"left-button":l(()=>[t("div",Kd,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=g=>o.$inertia.get(o.route("admin.finance-account.index")))})])]),"right-button":l(()=>[t("div",Yd,[o.$can("admin.finance-account.edit")?(f(),O(U,{key:0,icon:"edit",size:"sm",dense:"",flat:"",rounded:"",color:"grey",onClick:s[1]||(s[1]=g=>a(X).get(o.route("admin.finance-account.edit",{id:a(n).props.data.id})))})):k("",!0)])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",Qd,[t("div",Wd,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Ut,{modelValue:m.value,"onUpdate:modelValue":s[2]||(s[2]=g=>m.value=g),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(nt,{name:"main",label:"Info Akun"}),e(nt,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(At,{modelValue:m.value,"onUpdate:modelValue":s[3]||(s[3]=g=>m.value=g),animated:""},{default:l(()=>[e(st,{name:"main"},{default:l(()=>[e(Jl)]),_:1}),e(st,{name:"history",class:"q-pa-xs"},{default:l(()=>[e(Gl)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},Gd=Object.freeze(Object.defineProperty({__proto__:null,default:Jd},Symbol.toStringTag,{value:"Module"})),Xd={style:{"margin-left":"-10px"}},Vt={__name:"CheckBox",props:{modelValue:{type:[Boolean,Array],default:!1},label:{type:String,default:""},disable:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(d){return(n,m)=>(f(),h("div",Xd,[e(la,{class:"full-width q-pl-none","model-value":d.modelValue,"onUpdate:modelValue":m[0]||(m[0]=o=>n.$emit("update:modelValue",o)),disable:d.disable,label:d.label},null,8,["model-value","disable","label"])]))}},Zd={class:"q-gutter-sm"},eu={class:"col col-md-6 q-pa-xs"},tu={__name:"Editor",setup(d){const n=fe(),m=(n.props.data.id?"Edit":"Tambah")+" Akun / Kas",o=Le({id:n.props.data.id,name:n.props.data.name,type:n.props.data.type,bank:n.props.data.bank,number:n.props.data.number,holder:n.props.data.holder,balance:parseFloat(n.props.data.balance),active:!!n.props.data.active,has_wallet_access:!!n.props.data.has_wallet_access,show_in_pos_payment:!!n.props.data.show_in_pos_payment,show_in_purchasing_payment:!!n.props.data.show_in_purchasing_payment,notes:n.props.data.notes}),s=Ge(window.CONSTANTS.FINANCE_ACCOUNT_TYPES),i=()=>Xe({form:o,url:route("admin.finance-account.save")}),b=g=>{g==="cashier_cash"&&(o.show_in_pos_payment=!0)};return we(()=>{b(o.type)}),Ae(()=>o.type,g=>{b(g)}),(g,u)=>{const c=Q("i-head"),v=Q("authenticated-layout");return f(),h(Y,null,[e(c,{title:m}),e(v,null,{title:l(()=>[y(r(m))]),"left-button":l(()=>[t("div",Zd,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:u[0]||(u[0]=_=>g.$inertia.get(g.route("admin.finance-account.index")))})])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",eu,[e(Fe,{class:"row",onSubmit:W(i,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[Z(t("input",{type:"hidden",name:"id","onUpdate:modelValue":u[1]||(u[1]=_=>a(o).id=_)},null,512),[[dt,a(o).id]]),e(ne,{autofocus:"",modelValue:a(o).name,"onUpdate:modelValue":u[2]||(u[2]=_=>a(o).name=_),modelModifiers:{trim:!0},label:"Nama Akun","lazy-rules":"",error:!!a(o).errors.name,disable:a(o).processing,"error-message":a(o).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(de,{modelValue:a(o).type,"onUpdate:modelValue":u[3]||(u[3]=_=>a(o).type=_),label:"Jenis Akun",options:a(s),"map-options":"","emit-value":"",error:!!a(o).errors.type,disable:a(o).processing,"hide-bottom-space":""},null,8,["modelValue","options","error","disable"]),a(o).type=="bank"?(f(),h(Y,{key:0},[e(ne,{modelValue:a(o).bank,"onUpdate:modelValue":u[4]||(u[4]=_=>a(o).bank=_),modelModifiers:{trim:!0},label:"Nama Bank","lazy-rules":"",error:!!a(o).errors.bank,disable:a(o).processing,"error-message":a(o).errors.bank,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(ne,{modelValue:a(o).number,"onUpdate:modelValue":u[5]||(u[5]=_=>a(o).number=_),modelModifiers:{trim:!0},label:"Nomor Rekening","lazy-rules":"",error:!!a(o).errors.number,disable:a(o).processing,"error-message":a(o).errors.number,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(ne,{modelValue:a(o).holder,"onUpdate:modelValue":u[6]||(u[6]=_=>a(o).holder=_),modelModifiers:{trim:!0},label:"Pemilik Rekening","lazy-rules":"",error:!!a(o).errors.holder,disable:a(o).processing,"error-message":a(o).errors.holder,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"])],64)):k("",!0),e(Re,{modelValue:a(o).balance,"onUpdate:modelValue":u[7]||(u[7]=_=>a(o).balance=_),label:"Saldo",lazyRules:"",disable:a(o).processing,"allow-negative":!0,error:!!a(o).errors.balance,errorMessage:a(o).errors.balance,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(ne,{modelValue:a(o).notes,"onUpdate:modelValue":u[8]||(u[8]=_=>a(o).notes=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.notes,"error-message":a(o).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(Vt,{modelValue:a(o).active,"onUpdate:modelValue":u[9]||(u[9]=_=>a(o).active=_),disable:a(o).processing,label:"Aktif"},null,8,["modelValue","disable"]),u[14]||(u[14]=t("div",{class:"text-subtitle2 text-bold text-grey-8 q-pt-md"}," Opsi Lanjutan ",-1)),e(Vt,{modelValue:a(o).show_in_pos_payment,"onUpdate:modelValue":u[10]||(u[10]=_=>a(o).show_in_pos_payment=_),disable:a(o).processing||a(o).type=="cashier_cash",label:"Tampilkan di Pembayaran Penjualan"},null,8,["modelValue","disable"]),e(Vt,{modelValue:a(o).show_in_purchasing_payment,"onUpdate:modelValue":u[11]||(u[11]=_=>a(o).show_in_purchasing_payment=_),disable:a(o).processing,label:"Tampilkan di Pembayaran Pembelian"},null,8,["modelValue","disable"]),e(Vt,{modelValue:a(o).has_wallet_access,"onUpdate:modelValue":u[12]||(u[12]=_=>a(o).has_wallet_access=_),disable:a(o).processing,label:"Tampilkan di Konfirmasi Topup Wallet"},null,8,["modelValue","disable"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(o).processing},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",disable:a(o).processing,onClick:u[13]||(u[13]=_=>a(X).get(g.route("admin.finance-account.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},au=Object.freeze(Object.defineProperty({__proto__:null,default:tu},Symbol.toStringTag,{value:"Module"})),lu={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},ou={class:"q-pa-xs"},nu={class:"q-my-sm text-subtitle"},su={class:"text-bold text-grey-8"},ru={class:"full-width row flex-center text-grey-8 q-gutter-sm"},iu={class:"text-bold text-grey-9"},du={class:"text-grey-9"},uu={key:0},mu={key:1},cu={key:0},pu={class:"flex justify-end"},el="Akun Kas",fu={__name:"Index",setup(d){const n=fe(),m=he(),o=q(!1),s=q([]),i=q(null),b=q(null),g=We(b,117),u=q(!0),c=Pe({search:"",status:"active",type:"all",...De()}),v=n.props.totalBalance,_=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),p=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"type",label:"Jenis Akun",field:"type",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right",sortable:!0},{name:"action",align:"right"}],V=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],I=[{value:"all",label:"Semua"},...Ge(window.CONSTANTS.FINANCE_ACCOUNT_TYPES)];we(()=>{R()});const w=z=>at({message:`Hapus Akun ${z.name}?`,url:route("admin.finance-account.delete",z.id),fetchItemsCallback:R,loading:u}),R=(z=null)=>{Ue({pagination:_,filter:c,props:z,rows:s,url:route("admin.finance-account.data"),loading:u,tableRef:i})},C=()=>R(),$=z=>X.get(route("admin.finance-account.detail",{id:z.id})),A=J(()=>m.screen.gt.sm?p:p.filter(z=>z.name==="name"||z.name==="action"));return(z,T)=>{const D=Q("i-head"),M=Q("authenticated-layout");return f(),h(Y,null,[e(D,{title:el}),e(M,null,ze({title:l(()=>[y(r(el))]),"right-button":l(()=>[e(U,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:T[0]||(T[0]=N=>o.value=!o.value)},null,8,["icon"]),z.$can("admin.finance-account.add")?(f(),O(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:T[1]||(T[1]=N=>a(X).get(z.route("admin.finance-account.add")))})):k("",!0)]),default:l(()=>[t("div",ou,[e(ce,{class:"full-width q-pa-sm q-mb-xs",flat:"",bordered:"",square:""},{default:l(()=>[t("div",nu,[T[7]||(T[7]=y(" Total Saldo Akun Aktif: ")),t("span",su,"Rp. "+r(a(H)(a(v))),1)])]),_:1}),e(Te,{ref_key:"tableRef",ref:i,class:"full-height-table",style:Me({height:a(g)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:_.value,"onUpdate:pagination":T[6]||(T[6]=N=>_.value=N),filter:c.search,loading:u.value,columns:A.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:R,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:N,message:B,filter:x})=>[t("div",ru,[t("span",null,r(B)+" "+r(x?" with term "+x:""),1)])]),body:l(N=>[e(qe,{props:N,class:xe([N.row.active?"":"bg-red-1","cursor-pointer"]),onClick:B=>$(N.row)},{default:l(()=>[e(K,{key:"name",props:N,class:"wrap-column"},{default:l(()=>[t("div",iu,r(N.row.name),1),t("div",du,[N.row.type=="bank"?(f(),h("div",uu,[e(S,{name:"wallet",class:"inline-icon"}),y(" Rekening "+r(N.row.bank??"-")+" "+r(N.row.number??"-")+" a.n. "+r(N.row.holder??"-"),1)])):k("",!0),N.row.notes?(f(),h("div",mu,[e(S,{name:"notes"}),y(" "+r(N.row.notes),1)])):k("",!0)]),a(m).screen.lt.md?(f(),h("div",cu,[e(S,{name:"money",class:"inline-icon"}),y(" Rp. "+r(a(H)(N.row.balance)),1)])):k("",!0)]),_:2},1032,["props"]),e(K,{key:"type",props:N},{default:l(()=>[y(r(z.$CONSTANTS.FINANCE_ACCOUNT_TYPES[N.row.type]),1)]),_:2},1032,["props"]),e(K,{key:"balance",props:N},{default:l(()=>[y(r(a(H)(N.row.balance)),1)]),_:2},1032,["props"]),e(K,{key:"action",props:N},{default:l(()=>[t("div",pu,[z.$can("admin.finance-account.add")||z.$can("admin.finance-account.edit")||z.$can("admin.finance-account.delete")?(f(),O(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:T[5]||(T[5]=W(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[z.$can("admin.finance-account.add")?Z((f(),O(le,{key:0,clickable:"",onClick:W(B=>a(X).get(z.route("admin.finance-account.duplicate",N.row.id)),["stop"])},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"file_copy"})]),_:1}),e(F,null,{default:l(()=>T[8]||(T[8]=[y(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),z.$can("admin.finance-account.edit")?Z((f(),O(le,{key:1,clickable:"",onClick:W(B=>a(X).get(z.route("admin.finance-account.edit",N.row.id)),["stop"])},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"edit"})]),_:1}),e(F,null,{default:l(()=>T[9]||(T[9]=[y("Edit")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),z.$can("admin.finance-account.delete")?Z((f(),O(le,{key:2,onClick:W(B=>w(N.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"delete_forever"})]),_:1}),e(F,null,{default:l(()=>T[10]||(T[10]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Ze,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",lu,[e(de,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:c.type,"onUpdate:modelValue":[T[2]||(T[2]=N=>c.type=N),C],options:I,label:"Jenis Akun",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(de,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:c.status,"onUpdate:modelValue":[T[3]||(T[3]=N=>c.status=N),C],options:V,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ne,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:c.search,"onUpdate:modelValue":T[4]||(T[4]=N=>c.search=N),placeholder:"Cari",clearable:""},{append:l(()=>[e(S,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},gu=Object.freeze(Object.defineProperty({__proto__:null,default:fu},Symbol.toStringTag,{value:"Module"})),bu={class:"q-gutter-sm"},vu={class:"col col-md-6 q-pa-xs"},yu={class:"row"},_u={class:"detail"},ku={key:0},wu={key:1},hu={key:2},$u={key:3},xu={colspan:"3",class:"bg-white"},tl="Rincian Transaksi",Su={__name:"Detail",setup(d){const n=fe();return(m,o)=>{const s=Q("i-head"),i=Q("authenticated-layout");return f(),h(Y,null,[e(s,{title:tl}),e(i,{"show-drawer-button":!0},{"left-button":l(()=>[t("div",bu,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=b=>m.$inertia.get(m.route("admin.finance-transaction.index")))})])]),title:l(()=>[t("span",{class:"text-subtitle2"},r(tl))]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",vu,[t("div",yu,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[o[19]||(o[19]=t("div",{class:"text-subtitle1 text-bold text-grey-8"}," Rincian Transaksi Keuangan ",-1)),t("table",_u,[t("tbody",null,[t("tr",null,[o[1]||(o[1]=t("td",{style:{width:"110px"}},"Kode Trx",-1)),o[2]||(o[2]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.formatted_id),1)]),t("tr",null,[o[3]||(o[3]=t("td",null,"Tanggal",-1)),o[4]||(o[4]=t("td",null,":",-1)),t("td",null,r(a(be)(a(n).props.data.datetime)),1)]),a(n).props.data.account?(f(),h("tr",ku,[o[6]||(o[6]=t("td",null,"Akun",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,[y(r(a(n).props.data.account.name)+" ",1),a(n).props.data.account.type==="bank"?(f(),h(Y,{key:0},[y(" Rek "+r(a(n).props.data.account.bank)+" an "+r(a(n).props.data.account.holder)+" ",1),o[5]||(o[5]=t("br",null,null,-1)),y(" "+r(a(n).props.data.account.number),1)],64)):k("",!0)])])):k("",!0),a(n).props.data.type?(f(),h("tr",wu,[o[8]||(o[8]=t("td",null,"Jenis",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,r(m.$CONSTANTS.FINANCE_TRANSACTION_TYPES[a(n).props.data.type]),1)])):k("",!0),t("tr",null,[o[10]||(o[10]=t("td",null,"Jumlah",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,r(a(Mt)(a(n).props.data.amount))+" Rp. "+r(a(H)(Math.abs(a(n).props.data.amount))),1)]),t("tr",null,[o[12]||(o[12]=t("td",null,"Catatan",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.notes),1)]),a(n).props.data.creator?(f(),h("tr",hu,[o[14]||(o[14]=t("td",null,"Dibuat",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,r(a(be)(a(n).props.data.created_at))+" oleh "+r(a(n).props.data.creator.name),1)])):k("",!0),a(n).props.data.updater?(f(),h("tr",$u,[o[16]||(o[16]=t("td",null,"Diperbarui",-1)),o[17]||(o[17]=t("td",null,":",-1)),t("td",null,r(a(be)(a(n).props.data.updated_at))+" oleh "+r(a(n).props.data.updater.name),1)])):k("",!0),a(n).props.data.image_path?(f(),h(Y,{key:4},[o[18]||(o[18]=t("tr",null,[t("td",null,"Lampiran"),t("td",null,":"),t("td")],-1)),t("tr",null,[t("td",xu,[e(Ht,{src:`/${a(n).props.data.image_path}`,class:"q-mt-none",style:Me([{"max-width":"500px"},{border:"1px solid #ddd"}])},null,8,["src"])])])],64)):k("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Vu=Object.freeze(Object.defineProperty({__proto__:null,default:Su},Symbol.toStringTag,{value:"Module"})),qu={class:"q-gutter-sm"},Cu={class:"col col-md-6 q-pa-xs"},Tu={__name:"Editor",setup(d){var g;const n=fe(),m=(n.props.data.id?"Edit":"Catat")+" Transaksi Keuangan",o=n.props.accounts.map(u=>({label:u.name,value:u.id})),s=[{label:"Pemasukan (+)",value:"income"},{label:"Pengeluaran (-)",value:"expense"},{label:"Transfer",value:"transfer"}],i=Le({id:n.props.data.id,account_id:n.props.data.account_id,to_account_id:n.props.data.to_account_id??null,type:n.props.data.type,datetime:new Date(n.props.data.datetime),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount),image_path:((g=n.props.data)==null?void 0:g.image_path)??"",image:null}),b=()=>{Qt(i,{datetime:"YYYY-MM-DD HH:mm:ss"}),Xe({form:i,url:route("admin.finance-transaction.save")})};return(u,c)=>{const v=Q("i-head"),_=Q("authenticated-layout");return f(),h(Y,null,[e(v,{title:m}),e(_,null,{title:l(()=>[y(r(m))]),"left-button":l(()=>[t("div",qu,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=p=>u.$inertia.get(u.route("admin.finance-transaction.index")))})])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",Cu,[e(Fe,{class:"row",onSubmit:W(b,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[Z(t("input",{type:"hidden",name:"id","onUpdate:modelValue":c[1]||(c[1]=p=>a(i).id=p)},null,512),[[dt,a(i).id]]),e(Nt,{modelValue:a(i).datetime,"onUpdate:modelValue":c[2]||(c[2]=p=>a(i).datetime=p),label:"Waktu",error:!!a(i).errors.datetime,disable:a(i).processing,errorMessage:a(i).errors.datetime,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(de,{autofocus:"",modelValue:a(i).type,"onUpdate:modelValue":c[3]||(c[3]=p=>a(i).type=p),label:"Jenis Transaksi",options:s,"map-options":"","emit-value":"",error:!!a(i).errors.type,disable:a(i).processing,errorMessage:a(i).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(de,{class:"custom-select",modelValue:a(i).account_id,"onUpdate:modelValue":c[4]||(c[4]=p=>a(i).account_id=p),label:a(i).type=="transfer"?"Akun Asal":"Akun",options:a(o),"map-options":"","emit-value":"",errorMessage:a(i).errors.account_id,error:!!a(i).errors.account_id,disable:a(i).processing,"hide-bottom-space":""},null,8,["modelValue","label","options","errorMessage","error","disable"]),a(i).type=="transfer"?(f(),O(de,{key:0,class:"custom-select",modelValue:a(i).to_account_id,"onUpdate:modelValue":c[5]||(c[5]=p=>a(i).to_account_id=p),label:"Akun Tujuan",options:a(o),"map-options":"","emit-value":"",errorMessage:a(i).errors.to_account_id,error:!!a(i).errors.to_account_id,disable:a(i).processing,"hide-bottom-space":""},null,8,["modelValue","options","errorMessage","error","disable"])):k("",!0),e(Re,{modelValue:a(i).amount,"onUpdate:modelValue":c[6]||(c[6]=p=>a(i).amount=p),label:"Jumlah",lazyRules:"",disable:a(i).processing,error:!!a(i).errors.amount,errorMessage:a(i).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(ne,{modelValue:a(i).notes,"onUpdate:modelValue":c[7]||(c[7]=p=>a(i).notes=p),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(i).processing,error:!!a(i).errors.notes,"error-message":a(i).errors.notes,rules:[p=>p&&p.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(wa,{modelValue:a(i).image,"onUpdate:modelValue":c[8]||(c[8]=p=>a(i).image=p),"initial-image-path":a(i).image_path,disabled:a(i).processing,error:!!a(i).errors.image||!!a(i).errors.image_path,"error-message":a(i).errors.image||a(i).errors.image_path},null,8,["modelValue","initial-image-path","disabled","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(i).processing},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",disable:a(i).processing,onClick:c[9]||(c[9]=p=>a(X).get(u.route("admin.finance-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Pu=Object.freeze(Object.defineProperty({__proto__:null,default:Tu},Symbol.toStringTag,{value:"Module"})),Ou={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Iu={class:"q-pa-xs"},Ru={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Du={class:"text-grey-8"},Uu={class:"text-bold text-grey-8"},Au={class:"flex justify-end no-wrap"},al="Transaksi Kas",Eu={__name:"Index",setup(d){const n=fe(),m=he(),o=q(!1),s=q([]),i=q(!0),b=q(null),g=q(null),u=We(g),c=Kt(),v=Yt(),_=[{label:"Semua",value:"all"},...n.props.accounts.map(B=>({label:B.name,value:B.id}))],p=[{label:"Semua Tahun",value:"all"},{label:`${c}`,value:c},...It(c-2,c-1).reverse()],V=[{value:"all",label:"Semua Bulan"},...Rt()],I=[{value:"all",label:"Semua"},...Ge(window.CONSTANTS.FINANCE_TRANSACTION_TYPES)],w=Pe({search:"",type:"all",account_id:"all",year:c,month:v,...De()}),R=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),C=[{name:"id",label:m.screen.lt.md?"Item":"Kode Trx",field:"id",align:"left",sortable:!0},{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"type",label:"Jenis",field:"type",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}];we(()=>{A()});const $=B=>at({message:`Penghapusan transaksi keuangan bisa mengakibatkan data yang saling berkaitan di modul lain tidak konsisten. Anda setuju untuk menghapus transaksi ${B.formatted_id}?`,url:route("admin.finance-transaction.delete",B.id),fetchItemsCallback:A,loading:i}),A=(B=null)=>{Ue({pagination:R,filter:w,props:B,rows:s,url:route("admin.finance-transaction.data"),loading:i,tableRef:b})},z=()=>{A()},T=J(()=>m.screen.gt.sm?C:C.filter(B=>B.name==="id"||B.name==="action"));Ae(()=>w.year,B=>{B===null&&(w.month=null)});const D=q(null),M=q(!1),N=B=>{D.value=B,M.value=!0};return(B,x)=>{const L=Q("i-head"),ie=Q("authenticated-layout");return f(),h(Y,null,[e(L,{title:al}),e(ie,null,ze({title:l(()=>[y(r(al))]),"right-button":l(()=>[e(U,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:x[0]||(x[0]=j=>o.value=!o.value)},null,8,["icon"]),B.$can("admin.finance-transaction.add")?(f(),O(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:x[1]||(x[1]=j=>a(X).get(B.route("admin.finance-transaction.add")))})):k("",!0)]),default:l(()=>[t("div",Iu,[e(Te,{ref_key:"tableRef",ref:b,style:Me({height:a(u)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:R.value,"onUpdate:pagination":x[8]||(x[8]=j=>R.value=j),filter:w.search,loading:i.value,columns:T.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:A,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:j,message:E,filter:G})=>[t("div",Ru,[t("span",null,r(E)+" "+r(G?" with term "+G:""),1)])]),body:l(j=>[e(qe,{props:j,class:"cursor-pointer",onClick:W(E=>a(X).get(B.route("admin.finance-transaction.detail",{id:j.row.id})),["stop"])},{default:l(()=>[e(K,{key:"id",props:j},{default:l(()=>[t("div",null,[a(m).screen.lt.md?(f(),O(S,{key:0,class:"inline-icon",name:"tag"})):k("",!0),y(" "+r(j.row.formatted_id),1)]),a(m).screen.lt.md?(f(),h(Y,{key:0},[t("div",Du,[e(S,{class:"inline-icon",name:"calendar_clock"}),y(" "+r(a(be)(j.row.datetime)),1)]),t("div",Uu,[e(S,{name:"wallet",class:"inline-icon"}),y(" "+r(j.row.account.name),1)]),t("div",{class:xe(["text-bold",j.row.amount<0?"text-red":"text-green"])},[e(S,{name:"money",class:"inline-icon"}),y(" "+r(a(Mt)(j.row.amount)+"Rp."+a(H)(Math.abs(j.row.amount))),1)],2),j.row.notes?(f(),O(_e,{key:0,icon:"notes",text:j.row.notes,class:"text-grey-8"},null,8,["text"])):k("",!0),e(ut,{color:j.row.amount>0?"green":"red"},{default:l(()=>[y(r(j.row.type_label),1)]),_:2},1032,["color"])],64)):k("",!0)]),_:2},1032,["props"]),e(K,{key:"datetime",props:j,class:"wrap-column"},{default:l(()=>[y(r(a(be)(j.row.datetime)),1)]),_:2},1032,["props"]),e(K,{key:"account",props:j},{default:l(()=>{var E;return[y(r((E=j.row.account)==null?void 0:E.name),1)]}),_:2},1032,["props"]),e(K,{key:"type",props:j},{default:l(()=>[y(r(B.$CONSTANTS.FINANCE_TRANSACTION_TYPES[j.row.type]),1)]),_:2},1032,["props"]),e(K,{key:"amount",props:j,style:{"text-align":"right"}},{default:l(()=>[y(r(a(na)(j.row.amount)),1)]),_:2},1032,["props"]),e(K,{key:"notes",props:j,class:"wrap-column"},{default:l(()=>[y(r(j.row.notes),1)]),_:2},1032,["props"]),e(K,{key:"action",props:j},{default:l(()=>[t("div",Au,[e(U,{icon:"image",color:"primary",dense:"",flat:"",disable:j.row.image_path===null||j.row.image_path==="",onClick:W(E=>N(j.row.image_path),["stop"])},{default:l(()=>[j.row.image_path!=null?(f(),O(sa,{key:0},{default:l(()=>x[10]||(x[10]=[y(" Lihat Bukti ")])),_:1})):k("",!0)]),_:2},1032,["disable","onClick"]),B.$can("admin.finance-transaction.delete")?(f(),O(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:x[7]||(x[7]=W(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[B.$can("admin.finance-transaction.delete")?Z((f(),O(le,{key:0,onClick:W(E=>$(j.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"delete_forever"})]),_:1}),e(F,null,{default:l(()=>x[11]||(x[11]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])]),e(ra,{modelValue:M.value,"onUpdate:modelValue":x[9]||(x[9]=j=>M.value=j),imageUrl:`/${D.value}`},null,8,["modelValue","imageUrl"])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Ze,{class:"filter-bar",ref_key:"filterToolbarRef",ref:g},{default:l(()=>[t("div",Ou,[e(de,{modelValue:w.year,"onUpdate:modelValue":[x[2]||(x[2]=j=>w.year=j),z],options:p,label:"Tahun",dense:"",outlined:"",class:"custom-select col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),w.year!="all"?(f(),O(de,{key:0,modelValue:w.month,"onUpdate:modelValue":[x[3]||(x[3]=j=>w.month=j),z],options:V,label:"Bulan",dense:"",outlined:"",class:"custom-select col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:w.year===null},null,8,["modelValue","disable"])):k("",!0),e(de,{modelValue:w.type,"onUpdate:modelValue":[x[4]||(x[4]=j=>w.type=j),z],options:I,label:"Jenis",dense:"",class:"custom-select col-xs-6 col-sm-2","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(de,{modelValue:w.account_id,"onUpdate:modelValue":[x[5]||(x[5]=j=>w.account_id=j),z],label:"Akun",options:_,"map-options":"","emit-value":"",class:"custom-select col-xs-6 col-sm-2",outlined:"",dense:""},null,8,["modelValue"]),e(ne,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:w.search,"onUpdate:modelValue":x[6]||(x[6]=j=>w.search=j),placeholder:"Cari",clearable:""},{append:l(()=>[e(S,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},ju=Object.freeze(Object.defineProperty({__proto__:null,default:Eu},Symbol.toStringTag,{value:"Module"})),Mu={class:"q-gutter-sm"},Nu={class:"col col-md-6 q-pa-xs"},Bu={__name:"Editor",setup(d){const n=fe(),m=(n.props.data.id?"Edit":"Tambah")+" Kategori Operasional",o=Le({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description}),s=()=>Xe({form:o,url:route("admin.operational-cost-category.save")});return(i,b)=>{const g=Q("i-head"),u=Q("authenticated-layout");return f(),h(Y,null,[e(g,{title:m}),e(u,null,{title:l(()=>[y(r(m))]),"left-button":l(()=>[t("div",Mu,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=c=>i.$goBack())})])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",Nu,[e(Fe,{class:"row",onSubmit:W(s,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[Z(t("input",{type:"hidden",name:"id","onUpdate:modelValue":b[1]||(b[1]=c=>a(o).id=c)},null,512),[[dt,a(o).id]]),e(ne,{autofocus:"",modelValue:a(o).name,"onUpdate:modelValue":b[2]||(b[2]=c=>a(o).name=c),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!a(o).errors.name,disable:a(o).processing,"error-message":a(o).errors.name,rules:[c=>c&&c.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(ne,{modelValue:a(o).description,"onUpdate:modelValue":b[3]||(b[3]=c=>a(o).description=c),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.description,"error-message":a(o).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(o).processing},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",disable:a(o).processing,onClick:b[4]||(b[4]=c=>a(o).reset())},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Fu=Object.freeze(Object.defineProperty({__proto__:null,default:Bu},Symbol.toStringTag,{value:"Module"})),zu={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Lu={class:"q-pa-xs"},Hu={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ku={key:0,class:"text-grey-8"},Yu={class:"flex justify-end"},ll="Kategori Biaya Operasional",Qu={__name:"Index",setup(d){const n=he(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),g=We(b),u=Pe({search:"",...De()}),c=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),v=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];we(()=>{p()});const _=I=>at({message:`Hapus Kategori Biaya ${I.name}?`,url:route("admin.operational-cost-category.delete",I.id),fetchItemsCallback:p,loading:s}),p=(I=null)=>{Ue({pagination:c,filter:u,props:I,rows:o,url:route("admin.operational-cost-category.data"),loading:s,tableRef:i})},V=J(()=>n.screen.gt.sm?v:v.filter(I=>I.name==="name"||I.name==="action"));return(I,w)=>{const R=Q("i-head"),C=Q("authenticated-layout");return f(),h(Y,null,[e(R,{title:ll}),e(C,null,ze({title:l(()=>[y(r(ll))]),"right-button":l(()=>[e(U,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:w[0]||(w[0]=$=>m.value=!m.value)},null,8,["icon"]),I.$can("admin.operational-cost-category.add")?(f(),O(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:w[1]||(w[1]=$=>a(X).get(I.route("admin.operational-cost-category.add")))})):k("",!0)]),default:l(()=>[t("div",Lu,[e(Te,{ref_key:"tableRef",ref:i,class:"full-height-table",style:Me({height:a(g)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":w[4]||(w[4]=$=>c.value=$),filter:u.search,loading:s.value,columns:V.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:p,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:$,message:A,filter:z})=>[t("div",Hu,[t("span",null,r(A)+" "+r(z?" with term "+z:""),1)])]),body:l($=>[e(qe,{props:$},{default:l(()=>[e(K,{key:"name",props:$,class:"wrap-column"},{default:l(()=>[y(r($.row.name)+" ",1),a(n).screen.gt.sm?k("",!0):(f(),h(Y,{key:0},[$.row.description?(f(),h("div",Ku,[e(S,{name:"description"}),y(" "+r($.row.description),1)])):k("",!0)],64))]),_:2},1032,["props"]),e(K,{key:"description",props:$,class:"wrap-column"},{default:l(()=>[y(r($.row.description),1)]),_:2},1032,["props"]),e(K,{key:"action",props:$},{default:l(()=>[t("div",Yu,[I.$can("admin.operational-cost-category.add")||I.$can("admin.operational-cost-category.edit")||I.$can("admin.operational-cost-category.delete")?(f(),O(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:w[3]||(w[3]=W(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[I.$can("admin.operational-cost-category.add")?Z((f(),O(le,{key:0,clickable:"",onClick:W(A=>a(X).get(I.route("admin.operational-cost-category.duplicate",$.row.id)),["stop"])},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"file_copy"})]),_:1}),e(F,null,{default:l(()=>w[5]||(w[5]=[y("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),I.$can("admin.operational-cost-category.edit")?Z((f(),O(le,{key:1,clickable:"",onClick:W(A=>a(X).get(I.route("admin.operational-cost-category.edit",$.row.id)),["stop"])},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"edit"})]),_:1}),e(F,null,{default:l(()=>w[6]||(w[6]=[y("Edit")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),I.$can("admin.operational-cost-category.delete")?Z((f(),O(le,{key:2,onClick:W(A=>_($.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"delete_forever"})]),_:1}),e(F,null,{default:l(()=>w[7]||(w[7]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ze,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",zu,[e(ne,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:u.search,"onUpdate:modelValue":w[2]||(w[2]=$=>u.search=$),placeholder:"Cari",clearable:""},{append:l(()=>[e(S,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Wu=Object.freeze(Object.defineProperty({__proto__:null,default:Qu},Symbol.toStringTag,{value:"Module"})),Ju={class:"q-gutter-sm"},Gu={class:"col col-md-6 q-pa-xs"},Xu={class:"row"},Zu={class:"detail"},em={key:0},tm={key:1},am={key:2},lm={key:3},om={colspan:"3",class:"bg-white"},ol="Rincian Biaya Operasional",nm={__name:"Detail",setup(d){const n=fe();return(m,o)=>{const s=Q("i-head"),i=Q("authenticated-layout");return f(),h(Y,null,[e(s,{title:ol}),e(i,{"show-drawer-button":!0},{"left-button":l(()=>[t("div",Ju,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=b=>m.$inertia.get(m.route("admin.operational-cost.index")))})])]),title:l(()=>[t("span",{class:"text-subtitle2"},r(ol))]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",Gu,[t("div",Xu,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[o[21]||(o[21]=t("div",{class:"text-subtitle1 text-bold text-grey-8"}," Rincian Biaya Operasional ",-1)),t("table",Zu,[t("tbody",null,[t("tr",null,[o[1]||(o[1]=t("td",{style:{width:"110px"}},"ID",-1)),o[2]||(o[2]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.id),1)]),t("tr",null,[o[3]||(o[3]=t("td",null,"Tanggal",-1)),o[4]||(o[4]=t("td",null,":",-1)),t("td",null,r(a(Lt)(a(n).props.data.date)),1)]),a(n).props.data.finance_account?(f(),h("tr",em,[o[6]||(o[6]=t("td",null,"Akun",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,[y(r(a(n).props.data.finance_account.name)+" ",1),a(n).props.data.finance_account.type==="bank"?(f(),h(Y,{key:0},[y(" Rek "+r(a(n).props.data.finance_account.bank)+" an "+r(a(n).props.data.finance_account.holder)+" ",1),o[5]||(o[5]=t("br",null,null,-1)),y(" "+r(a(n).props.data.finance_account.number),1)],64)):k("",!0)])])):k("",!0),a(n).props.data.category?(f(),h("tr",tm,[o[8]||(o[8]=t("td",null,"Kategori",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.category.name),1)])):k("",!0),t("tr",null,[o[10]||(o[10]=t("td",null,"Deskripsi",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.description),1)]),t("tr",null,[o[12]||(o[12]=t("td",null,"Jumlah",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,"Rp. "+r(a(H)(a(n).props.data.amount)),1)]),t("tr",null,[o[14]||(o[14]=t("td",null,"Catatan",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.notes),1)]),a(n).props.data.creator?(f(),h("tr",am,[o[16]||(o[16]=t("td",null,"Dibuat",-1)),o[17]||(o[17]=t("td",null,":",-1)),t("td",null,r(a(be)(a(n).props.data.created_at))+" oleh "+r(a(n).props.data.creator.name),1)])):k("",!0),a(n).props.data.updater?(f(),h("tr",lm,[o[18]||(o[18]=t("td",null,"Diperbarui",-1)),o[19]||(o[19]=t("td",null,":",-1)),t("td",null,r(a(be)(a(n).props.data.updated_at))+" oleh "+r(a(n).props.data.updater.name),1)])):k("",!0),a(n).props.data.image_path?(f(),h(Y,{key:4},[o[20]||(o[20]=t("tr",null,[t("td",null,"Lampiran"),t("td",null,":"),t("td")],-1)),t("tr",null,[t("td",om,[e(Ht,{src:`/${a(n).props.data.image_path}`,class:"q-mt-none",style:Me([{"max-width":"500px"},{border:"1px solid #ddd"}])},null,8,["src"])])])],64)):k("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},sm=Object.freeze(Object.defineProperty({__proto__:null,default:nm},Symbol.toStringTag,{value:"Module"})),rm={class:"row items-center justify-end"},im={__name:"DatePicker",props:{modelValue:{type:[Date,null],required:!1,default:null},label:String,readonly:Boolean,disable:Boolean,error:Boolean,errorMessage:String,rules:{type:Array,default:()=>[]},minDate:{type:[Date,null],default:null},maxDate:{type:[Date,null],default:null},displayFormat:{type:String,default:"DD/MM/YYYY"}},emits:["update:modelValue"],setup(d,{emit:n}){const m=d,o=n,s=q(""),i=q(""),b=c=>{let v=!0;const _=m.minDate?ot.formatDate(m.minDate,"YYYY/MM/DD"):null,p=m.maxDate?ot.formatDate(m.maxDate,"YYYY/MM/DD"):null;return _&&(v=v&&ot.isBetweenDates(c,_,"2999/01/01",{inclusiveFrom:!0})),p&&(v=v&&ot.isBetweenDates(c,"1900/01/01",p,{inclusiveTo:!0})),v},g=J(()=>[c=>!!c||"Tanggal harus diisi",c=>{const v=ot.extractDate(c,m.displayFormat);if(!v)return"Format tanggal tidak valid";v.setHours(0,0,0,0);const _=m.minDate?new Date(m.minDate):null;_&&_.setHours(0,0,0,0);const p=m.maxDate?new Date(m.maxDate):null;return p&&p.setHours(0,0,0,0),_&&v<_?`Tanggal tidak boleh kurang dari ${ot.formatDate(m.minDate,m.displayFormat)}`:p&&v>p?`Tanggal tidak boleh lebih dari ${ot.formatDate(m.maxDate,m.displayFormat)}`:(o("update:modelValue",v),!0)}]);Ae(()=>m.modelValue,c=>{c instanceof Date?(i.value=ot.formatDate(c,"YYYY/MM/DD"),s.value=ot.formatDate(c,m.displayFormat)):(i.value="",s.value="")},{immediate:!0});const u=c=>{const v=c!==null?new Date(c):null;o("update:modelValue",v),s.value=v?ot.formatDate(v,m.displayFormat):null};return(c,v)=>(f(),O(ne,{modelValue:s.value,"onUpdate:modelValue":v[1]||(v[1]=_=>s.value=_),label:m.label,readonly:m.readonly,disable:m.disable,error:m.error,"error-message":m.errorMessage,mask:m.displayFormat.replaceAll("D","#").replaceAll("M","#").replaceAll("Y","#"),rules:g.value},{append:l(()=>[e(S,{name:"event",class:"cursor-pointer"},{default:l(()=>[e(fn,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(gn,{modelValue:i.value,"onUpdate:modelValue":[v[0]||(v[0]=_=>i.value=_),u],options:b},{default:l(()=>[t("div",rm,[Z(e(U,{label:"Close",color:"primary",flat:""},null,512),[[ue]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label","readonly","disable","error","error-message","mask","rules"]))}},ha=_t(im,[["__scopeId","data-v-38faf9a9"]]);function Xl(d,n=!1){const m=d.map(b=>({value:b.id,label:b.name})),o=n?[{value:"all",label:"Semua"},...m]:m,s=q([...o]);return{filteredCostCategories:s,filterCostCategory:(b,g)=>{const u=b.toLowerCase();g(()=>{s.value=o.filter(c=>c.label.toLowerCase().includes(u))})},costCategoryOptions:o}}const dm={class:"q-gutter-sm"},um={class:"col col-md-6 q-pa-xs"},mm={__name:"Editor",setup(d){var _;const n=fe(),m=(n.props.data.id?"Edit":"Tambah")+" Biaya Operasional",{costCategoryOptions:o}=Xl(n.props.categories),s=n.props.finance_accounts.map(p=>({label:p.name,value:p.id})),i=q(o),b=q([...i.value]),g=Le({id:n.props.data.id,finance_account_id:n.props.data.finance_account_id??null,category_id:n.props.data.category_id??null,date:new Date(n.props.data.date),description:n.props.data.description,notes:n.props.data.notes,amount:parseFloat(n.props.data.amount),image_path:((_=n.props.data)==null?void 0:_.image_path)??null,image:null}),u=()=>{Qt(g,{date:"YYYY-MM-DD"}),Xe({form:g,url:route("admin.operational-cost.save")})},c=(p,V)=>{V(()=>{b.value=i.value.filter(I=>I.label.toLowerCase().includes(p.toLowerCase()))})},v=()=>{g.image_path=null};return(p,V)=>{const I=Q("i-head"),w=Q("authenticated-layout");return f(),h(Y,null,[e(I,{title:m}),e(w,null,{title:l(()=>[y(r(m))]),"left-button":l(()=>[t("div",dm,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:V[0]||(V[0]=R=>p.$inertia.get(p.route("admin.operational-cost.index")))})])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",um,[e(Fe,{class:"row",onSubmit:W(u,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[Z(t("input",{type:"hidden",name:"id","onUpdate:modelValue":V[1]||(V[1]=R=>a(g).id=R)},null,512),[[dt,a(g).id]]),e(de,{autofocus:"",modelValue:a(g).category_id,"onUpdate:modelValue":V[2]||(V[2]=R=>a(g).category_id=R),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:b.value,"map-options":"","emit-value":"",onFilter:c,error:!!a(g).errors.category_id,disable:a(g).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(le,null,{default:l(()=>[e(F,null,{default:l(()=>V[10]||(V[10]=[y("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","error","disable"]),e(ha,{modelValue:a(g).date,"onUpdate:modelValue":V[3]||(V[3]=R=>a(g).date=R),label:"Tanggal",error:!!a(g).errors.date,disable:a(g).processing,"hide-bottom-space":""},null,8,["modelValue","error","disable"]),e(ne,{modelValue:a(g).description,"onUpdate:modelValue":V[4]||(V[4]=R=>a(g).description=R),modelModifiers:{trim:!0},label:"Deskripsi","lazy-rules":"",error:!!a(g).errors.description,disable:a(g).processing,"error-message":a(g).errors.description,rules:[R=>R&&R.length>0||"Deskripsi harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Re,{modelValue:a(g).amount,"onUpdate:modelValue":V[5]||(V[5]=R=>a(g).amount=R),label:"Jumlah",lazyRules:"",disable:a(g).processing,error:!!a(g).errors.amount,errorMessage:a(g).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(de,{class:"custom-select",modelValue:a(g).finance_account_id,"onUpdate:modelValue":V[6]||(V[6]=R=>a(g).finance_account_id=R),label:"Sumber Dana",options:a(s),"map-options":"","emit-value":"",clearable:"",errorMessage:a(g).errors.finance_account_id,error:!!a(g).errors.finance_account_id,disable:a(g).processing,"hide-bottom-space":""},null,8,["modelValue","options","errorMessage","error","disable"]),e(ne,{modelValue:a(g).notes,"onUpdate:modelValue":V[7]||(V[7]=R=>a(g).notes=R),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(g).processing,error:!!a(g).errors.notes,"error-message":a(g).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(wa,{modelValue:a(g).image,"onUpdate:modelValue":V[8]||(V[8]=R=>a(g).image=R),"initial-image-path":a(g).image_path,disabled:a(g).processing,error:!!a(g).errors.image||!!a(g).errors.image_path,"error-message":a(g).errors.image||a(g).errors.image_path,onImageCleared:v},null,8,["modelValue","initial-image-path","disabled","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(g).processing},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",disable:a(g).processing,onClick:V[9]||(V[9]=R=>a(X).get(p.route("admin.operational-cost.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},cm=Object.freeze(Object.defineProperty({__proto__:null,default:mm},Symbol.toStringTag,{value:"Module"})),pm={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},fm={class:"q-pa-xs"},gm={class:"full-width row flex-center text-grey-8 q-gutter-sm"},bm={key:0},vm={key:1},ym={key:0},_m={class:"flex justify-end no-wrap"},nl="Biaya Operasional",km={__name:"Index",setup(d){const n=fe(),m=he(),o=q(!1),s=q(null),i=q(null),b=We(i),g=q(null),u=q(!1),c=q([]),v=q(!0),_=new Date().getFullYear(),p=new Date().getMonth()+1,V=[{label:"Semua Tahun",value:null},{label:`${_}`,value:_},...It(_-2,_-1).reverse()],I=[{value:null,label:"Semua Bulan"},...Rt()],{costCategoryOptions:w}=Xl(n.props.categories),R=[{value:"all",label:"Semua"},{value:null,label:"Tanpa Kategori"},...w],{accountOptions:C}=bn(n.props.finance_accounts),$=[{value:"all",label:"Semua"},{value:null,label:"Tidak Diset"},...C],A=Pe({search:"",category_id:"all",year:_,month:p,...De()}),z=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),T=[{name:"id",label:m.screen.lt.md?"Item":"ID",field:"id",align:"left",sortable:!0},{name:"date",label:"Tanggal",field:"date",align:"left",sortable:!0},{name:"account_id",label:"Akun",field:"account_id",align:"left",sortable:!0},{name:"category_id",label:"Kategori",field:"category_id",align:"left",sortable:!0},{name:"description",label:"Deskripsi",field:"description",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right",sortable:!0},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}];we(()=>{M()});const D=L=>at({message:`Hapus Biaya ${L.description}?`,url:route("admin.operational-cost.delete",L.id),fetchItemsCallback:M,loading:v}),M=(L=null)=>{Ue({pagination:z,filter:A,props:L,rows:c,url:route("admin.operational-cost.data"),loading:v,tableRef:s})},N=()=>{M()},B=J(()=>m.screen.gt.sm?T:T.filter(L=>L.name==="id"||L.name==="action"));Ae(()=>A.year,L=>{L===null&&(A.month=null)});const x=L=>{g.value=L,u.value=!0};return(L,ie)=>{const j=Q("i-head"),E=Q("authenticated-layout");return f(),h(Y,null,[e(j,{title:nl}),e(E,null,ze({title:l(()=>[y(r(nl))]),"right-button":l(()=>[e(U,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:ie[0]||(ie[0]=G=>o.value=!o.value)},null,8,["icon"]),L.$can("admin.operational-cost.add")?(f(),O(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:ie[1]||(ie[1]=G=>a(X).get(L.route("admin.operational-cost.add")))})):k("",!0)]),default:l(()=>[t("div",fm,[e(Te,{ref_key:"tableRef",ref:s,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:z.value,"onUpdate:pagination":ie[8]||(ie[8]=G=>z.value=G),filter:A.search,loading:v.value,columns:B.value,rows:c.value,"rows-per-page-options":[10,25,50],style:Me({height:a(b)}),onRequest:M,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:G,message:ke,filter:oe})=>[t("div",gm,[t("span",null,r(ke)+" "+r(oe?" with term "+oe:""),1)])]),body:l(G=>[e(qe,{props:G,class:"cursor-pointer",onClick:W(ke=>a(X).get(L.route("admin.operational-cost.detail",{id:G.row.id})),["stop"])},{default:l(()=>[e(K,{key:"id",props:G,class:"wrap-column"},{default:l(()=>[a(m).screen.gt.sm?k("",!0):(f(),h(Y,{key:0},[y(" ID: ")],64)),y(" "+r(G.row.id)+" ",1),a(m).screen.gt.sm?k("",!0):(f(),h(Y,{key:1},[t("div",null,[e(S,{name:"calendar_clock",class:"inline-icon"}),y(" "+r(a(Lt)(G.row.date)),1)]),G.row.finance_account?(f(),h("div",bm,[e(S,{name:"wallet",class:"inline-icon"}),y(" "+r(G.row.finance_account.name),1)])):k("",!0),G.row.category?(f(),h("div",vm,[e(S,{name:"category",class:"inline-icon"}),y(" "+r(G.row.category.name),1)])):k("",!0),e(_e,{icon:"description",text:G.row.description,class:"inline-icon"},null,8,["text"]),t("div",null,[e(S,{name:"money",class:"inline-icon"}),y(" Rp. "+r(a(H)(G.row.amount)),1)]),e(_e,{icon:"notes",text:G.row.notes,class:"inline-icon text-grey-9"},null,8,["text"])],64))]),_:2},1032,["props"]),e(K,{key:"date",props:G,class:"wrap-column"},{default:l(()=>[y(r(a(Lt)(G.row.date)),1)]),_:2},1032,["props"]),e(K,{key:"account_id",props:G,class:"wrap-column"},{default:l(()=>[y(r(G.row.finance_account?G.row.finance_account.name:""),1)]),_:2},1032,["props"]),e(K,{key:"category_id",props:G},{default:l(()=>[G.row.category?(f(),h("div",ym,r(G.row.category.name),1)):k("",!0)]),_:2},1032,["props"]),e(K,{key:"description",props:G},{default:l(()=>[e(_e,{text:G.row.description,"max-length":50},null,8,["text"])]),_:2},1032,["props"]),e(K,{key:"amount",props:G},{default:l(()=>[y(r(a(H)(G.row.amount)),1)]),_:2},1032,["props"]),e(K,{key:"notes",props:G},{default:l(()=>[e(_e,{text:G.row.notes,"max-length":50},null,8,["text"])]),_:2},1032,["props"]),e(K,{key:"action",props:G},{default:l(()=>[t("div",_m,[e(U,{icon:"image",color:"primary",dense:"",flat:"",disable:G.row.image_path===null||G.row.image_path==="",onClick:W(ke=>x(G.row.image_path),["stop"])},{default:l(()=>[G.row.image_path!=null?(f(),O(sa,{key:0},{default:l(()=>ie[10]||(ie[10]=[y(" Lihat Bukti ")])),_:1})):k("",!0)]),_:2},1032,["disable","onClick"]),L.$can("admin.operational-cost.add")||L.$can("admin.operational-cost.edit")||L.$can("admin.operational-cost.delete")?(f(),O(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:ie[7]||(ie[7]=W(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[L.$can("admin.operational-cost.add")?Z((f(),O(le,{key:0,clickable:"",onClick:W(ke=>a(X).get(L.route("admin.operational-cost.duplicate",G.row.id)),["stop"])},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"file_copy"})]),_:1}),e(F,null,{default:l(()=>ie[11]||(ie[11]=[y(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),L.$can("admin.operational-cost.edit")?Z((f(),O(le,{key:1,clickable:"",onClick:W(ke=>a(X).get(L.route("admin.operational-cost.edit",G.row.id)),["stop"])},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"edit"})]),_:1}),e(F,null,{default:l(()=>ie[12]||(ie[12]=[y("Edit")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),L.$can("admin.operational-cost.delete")?Z((f(),O(le,{key:2,onClick:W(ke=>D(G.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"delete_forever"})]),_:1}),e(F,null,{default:l(()=>ie[13]||(ie[13]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])]),e(ra,{modelValue:u.value,"onUpdate:modelValue":ie[9]||(ie[9]=G=>u.value=G),imageUrl:`/${g.value}`},null,8,["modelValue","imageUrl"])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Ze,{class:"filter-bar",ref_key:"filterToolbarRef",ref:i},{default:l(()=>[t("div",pm,[e(de,{modelValue:A.year,"onUpdate:modelValue":[ie[2]||(ie[2]=G=>A.year=G),N],options:V,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(de,{modelValue:A.month,"onUpdate:modelValue":[ie[3]||(ie[3]=G=>A.month=G),N],options:I,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:A.year===null},null,8,["modelValue","disable"]),e(de,{modelValue:A.category_id,"onUpdate:modelValue":[ie[4]||(ie[4]=G=>A.category_id=G),N],options:R,label:"Kategori",dense:"",class:"custom-select col-xs-12 col-sm-3","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(de,{modelValue:A.finance_account_id,"onUpdate:modelValue":[ie[5]||(ie[5]=G=>A.finance_account_id=G),N],options:$,label:"Akun Kas",dense:"",class:"custom-select col-xs-12 col-sm-3","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ne,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:A.search,"onUpdate:modelValue":ie[6]||(ie[6]=G=>A.search=G),placeholder:"Cari",clearable:""},{append:l(()=>[e(S,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},wm=Object.freeze(Object.defineProperty({__proto__:null,default:km},Symbol.toStringTag,{value:"Module"})),hm={class:"q-gutter-sm"},$m={class:"col col-md-6 q-pa-xs"},xm={__name:"Editor",setup(d){const n=he(),m=fe(),o=(m.props.data.id?"Edit":"Tambah")+" Kategori Produk",s=Le({id:m.props.data.id,name:m.props.data.name,description:m.props.data.description}),i=()=>Xe({form:s,url:route("admin.product-category.save")});return(b,g)=>{const u=Q("i-head"),c=Q("authenticated-layout");return f(),h(Y,null,[e(u,{title:o}),e(c,{"show-drawer-button":!a(n).screen.lt.md},ze({title:l(()=>[y(r(o))]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",$m,[e(Fe,{class:"row",onSubmit:W(i,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[Z(t("input",{type:"hidden",name:"id","onUpdate:modelValue":g[1]||(g[1]=v=>a(s).id=v)},null,512),[[dt,a(s).id]]),e(ne,{autofocus:"",modelValue:a(s).name,"onUpdate:modelValue":g[2]||(g[2]=v=>a(s).name=v),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!a(s).errors.name,disable:a(s).processing,"error-message":a(s).errors.name,rules:[v=>v&&v.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(ne,{modelValue:a(s).description,"onUpdate:modelValue":g[3]||(g[3]=v=>a(s).description=v),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:a(s).processing,error:!!a(s).errors.description,"error-message":a(s).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(s).processing,loading:a(s).processing},null,8,["disable","loading"]),e(U,{icon:"cancel",label:"Batal",disable:a(s).processing,onClick:g[4]||(g[4]=v=>a(s).reset())},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:2},[a(n).screen.lt.md?{name:"left-button",fn:l(()=>[t("div",hm,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:g[0]||(g[0]=v=>b.$goBack())})])]),key:"0"}:void 0]),1032,["show-drawer-button"])],64)}}},Sm=Object.freeze(Object.defineProperty({__proto__:null,default:xm},Symbol.toStringTag,{value:"Module"})),Vm={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},qm={class:"q-pa-xs"},Cm={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Tm={key:0,class:"text-grey-8"},Pm={class:"flex justify-end"},sl="Kategori Produk",Om={__name:"Index",setup(d){const n=he(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),g=We(b),u=Pe({search:"",...De()}),c=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),v=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];we(()=>{p()});const _=I=>at({message:`Hapus Kategori ${I.name}?`,url:route("admin.product-category.delete",I.id),fetchItemsCallback:p,loading:s}),p=(I=null)=>{Ue({pagination:c,filter:u,props:I,rows:o,url:route("admin.product-category.data"),loading:s,tableRef:i})},V=J(()=>n.screen.gt.sm?v:v.filter(I=>I.name==="name"||I.name==="action"));return(I,w)=>{const R=Q("i-head"),C=Q("authenticated-layout");return f(),h(Y,null,[e(R,{title:sl}),e(C,null,ze({title:l(()=>[y(r(sl))]),"right-button":l(()=>[e(U,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:w[0]||(w[0]=$=>m.value=!m.value)},null,8,["icon"]),I.$can("admin.product-category.add")?(f(),O(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:w[1]||(w[1]=$=>a(X).get(I.route("admin.product-category.add")))})):k("",!0)]),default:l(()=>[t("div",qm,[e(Te,{ref_key:"tableRef",ref:i,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":w[4]||(w[4]=$=>c.value=$),filter:u.search,loading:s.value,columns:V.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Me({height:a(g)}),onRequest:p,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:$,message:A,filter:z})=>[t("div",Cm,[t("span",null,r(A)+" "+r(z?" with term "+z:""),1)])]),body:l($=>[e(qe,{props:$},{default:l(()=>[e(K,{key:"name",props:$,class:"wrap-column"},{default:l(()=>[y(r($.row.name)+" ",1),a(n).screen.gt.sm?k("",!0):(f(),h(Y,{key:0},[$.row.description?(f(),h("div",Tm,[e(S,{name:"description"}),y(" "+r($.row.description),1)])):k("",!0)],64))]),_:2},1032,["props"]),e(K,{key:"description",props:$,class:"wrap-column"},{default:l(()=>[y(r($.row.description),1)]),_:2},1032,["props"]),e(K,{key:"action",props:$},{default:l(()=>[t("div",Pm,[I.$can("admin.product-category.add")||I.$can("admin.product-category.edit")||I.$can("admin.product-category.delete")?(f(),O(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:w[3]||(w[3]=W(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[I.$can("admin.product-category.add")?Z((f(),O(le,{key:0,clickable:"",onClick:W(A=>a(X).get(I.route("admin.product-category.duplicate",$.row.id)),["stop"])},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"file_copy"})]),_:1}),e(F,null,{default:l(()=>w[5]||(w[5]=[y("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),I.$can("admin.product-category.edit")?Z((f(),O(le,{key:1,clickable:"",onClick:W(A=>a(X).get(I.route("admin.product-category.edit",$.row.id)),["stop"])},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"edit"})]),_:1}),e(F,null,{default:l(()=>w[6]||(w[6]=[y("Edit")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),I.$can("admin.product-category.delete")?Z((f(),O(le,{key:2,onClick:W(A=>_($.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"delete_forever"})]),_:1}),e(F,null,{default:l(()=>w[7]||(w[7]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ze,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",Vm,[e(ne,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:u.search,"onUpdate:modelValue":w[2]||(w[2]=$=>u.search=$),placeholder:"Cari",clearable:""},{append:l(()=>[e(S,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Im=Object.freeze(Object.defineProperty({__proto__:null,default:Om},Symbol.toStringTag,{value:"Module"})),Rm={class:"detail"},Dm={key:0},Um={key:1},Am={key:2},Em={class:"detail"},jm={class:"detail"},Mm={key:0},Nm={key:0},Bm={key:0},Fm={key:0},zm={class:"detail"},Zl={__name:"MainInfoTab",props:{product:{type:Object,required:!0}},setup(d){const n=d;he();const m=o=>`${o>0?H((o-n.product.cost)/o*100,2):0}%`;return(o,s)=>{const i=Q("i-link");return f(),h("div",null,[s[42]||(s[42]=t("div",{class:"text-subtitle1 text-bold text-grey-9"},"Info Produk",-1)),t("table",Rm,[t("tbody",null,[t("tr",null,[s[0]||(s[0]=t("td",{style:{width:"120px"}},"ID",-1)),s[1]||(s[1]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(d.product.formatted_id),1)]),t("tr",null,[s[2]||(s[2]=t("td",null,"Nama Produk",-1)),s[3]||(s[3]=t("td",null,":",-1)),t("td",null,r(d.product.name),1)]),t("tr",null,[s[4]||(s[4]=t("td",null,"Barcode",-1)),s[5]||(s[5]=t("td",null,":",-1)),t("td",null,r(d.product.barcode),1)]),t("tr",null,[s[6]||(s[6]=t("td",null,"Jenis Produk",-1)),s[7]||(s[7]=t("td",null,":",-1)),t("td",null,r(o.$CONSTANTS.PRODUCT_TYPES[d.product.type]),1)]),t("tr",null,[s[8]||(s[8]=t("td",null,"Kategori",-1)),s[9]||(s[9]=t("td",null,":",-1)),t("td",null,r(d.product.category?d.product.category.name:"--Tidak memiliki kategori--"),1)]),o.$can("admin.product:view-supplier")?(f(),h("tr",Dm,[s[10]||(s[10]=t("td",null,"Supplier",-1)),s[11]||(s[11]=t("td",null,":",-1)),t("td",null,[d.product.supplier?(f(),O(i,{key:0,href:o.route("admin.supplier.detail",{id:d.product.supplier.id})},{default:l(()=>[y(r(d.product.supplier.name),1)]),_:1},8,["href"])):(f(),h(Y,{key:1},[y(r("--Tidak memiliki supplier--"))],64))])])):k("",!0),t("tr",null,[s[12]||(s[12]=t("td",null,"Status",-1)),s[13]||(s[13]=t("td",null,":",-1)),t("td",null,r(d.product.active?"Aktif":"Tidak Aktif"),1)]),d.product.created_at?(f(),h("tr",Um,[s[15]||(s[15]=t("td",null,"Dibuat Oleh",-1)),s[16]||(s[16]=t("td",null,":",-1)),t("td",null,[d.product.creator?(f(),h(Y,{key:0},[e(i,{href:o.route("admin.user.detail",{id:d.product.creator})},{default:l(()=>[y(r(d.product.creator.username),1)]),_:1},8,["href"]),s[14]||(s[14]=y(" - "))],64)):k("",!0),y(" "+r(a(be)(d.product.created_at)),1)])])):k("",!0),d.product.updater?(f(),h("tr",Am,[s[18]||(s[18]=t("td",null,"Diperbarui oleh",-1)),s[19]||(s[19]=t("td",null,":",-1)),t("td",null,[d.product.updater?(f(),h(Y,{key:0},[e(i,{href:o.route("admin.user.detail",{id:d.product.updater})},{default:l(()=>[y(r(d.product.updater.username),1)]),_:1},8,["href"]),s[17]||(s[17]=y(" - "))],64)):k("",!0),y(" "+r(a(be)(d.product.updated_at)),1)])])):k("",!0)])]),s[43]||(s[43]=t("div",{class:"text-subtitle1 q-pt-lg text-bold text-grey-9"}," Info Inventori ",-1)),t("table",Em,[t("tbody",null,[t("tr",null,[s[20]||(s[20]=t("td",{style:{width:"120px"}},"Stok",-1)),s[21]||(s[21]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(H)(d.product.stock))+" "+r(d.product.uom),1)]),t("tr",null,[s[22]||(s[22]=t("td",null,"Stok Minimum",-1)),s[23]||(s[23]=t("td",null,":",-1)),t("td",null,r(a(H)(d.product.min_stock))+" "+r(d.product.uom),1)]),t("tr",null,[s[24]||(s[24]=t("td",null,"Stok Maksimum",-1)),s[25]||(s[25]=t("td",null,":",-1)),t("td",null,r(a(H)(d.product.max_stock))+" "+r(d.product.uom),1)]),t("tr",null,[s[26]||(s[26]=t("td",null,"Barcode",-1)),s[27]||(s[27]=t("td",null,":",-1)),t("td",null,r(d.product.barcode),1)])])]),s[44]||(s[44]=t("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"},"Info Harga",-1)),t("table",jm,[t("tbody",null,[t("tr",null,[s[28]||(s[28]=t("td",null,"Opsi Harga",-1)),s[29]||(s[29]=t("td",null,":",-1)),t("td",null,r(d.product.price_editable?"Dapat":"Tidak dapat")+" diubah saat penjualan. ",1)]),o.$can("admin.product:view-cost")?(f(),h("tr",Mm,[s[30]||(s[30]=t("td",{style:{width:"120px"}},"Harga Beli",-1)),s[31]||(s[31]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,"Rp. "+r(a(H)(d.product.cost)),1)])):k("",!0),t("tr",null,[s[32]||(s[32]=t("td",null,"Harga Eceran",-1)),s[33]||(s[33]=t("td",null,":",-1)),t("td",null,[y(" Rp. "+r(a(H)(d.product.price))+" ",1),o.$can("admin.product:view-cost")?(f(),h("span",Nm," ("+r(m(d.product.price))+") ",1)):k("",!0)])]),t("tr",null,[s[34]||(s[34]=t("td",null,"Harga Partai",-1)),s[35]||(s[35]=t("td",null,":",-1)),t("td",null,[y(" Rp. "+r(a(H)(d.product.price_2))+" ",1),o.$can("admin.product:view-cost")?(f(),h("span",Bm," ("+r(m(d.product.price_2))+") ",1)):k("",!0)])]),t("tr",null,[s[36]||(s[36]=t("td",null,"Harga Grosir",-1)),s[37]||(s[37]=t("td",null,":",-1)),t("td",null,[y(" Rp. "+r(a(H)(d.product.price_3))+" ",1),o.$can("admin.product:view-cost")?(f(),h("span",Fm," ("+r(m(d.product.price_3))+") ",1)):k("",!0)])])])]),s[45]||(s[45]=t("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Deskripsi & Catatan ",-1)),t("table",zm,[t("tbody",null,[t("tr",null,[s[38]||(s[38]=t("td",{style:{width:"120px"}},"Deskirpsi",-1)),s[39]||(s[39]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(d.product.description),1)]),t("tr",null,[s[40]||(s[40]=t("td",null,"Catatan",-1)),s[41]||(s[41]=t("td",null,":",-1)),t("td",null,r(d.product.notes),1)])])])])}}},Lm=Object.freeze(Object.defineProperty({__proto__:null,default:Zl},Symbol.toStringTag,{value:"Module"})),Hm={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Km={key:0},eo={__name:"StockHistoryTab",props:{productId:{type:[String,Number],required:!0}},setup(d){const n=d,m=he(),o=q([]),s=q(!0),i=Pe({...De()}),b=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"created_at",descending:!0});let g=[{name:"id",label:m.screen.lt.sm?"Item":"#",field:"id",align:"left",sortable:!0},{name:"created_at",label:"Waktu",field:"created_at",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"left",sortable:!0},{name:"quantity_before",label:"Qty Awal",field:"quantity_before",align:"right"},{name:"quantity_after",label:"Qty Akhir",field:"quantity_after",align:"right"},{name:"quantity",label:"Selisih",field:"quantity",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}];we(()=>{u()});const u=(v=null)=>Ue({pagination:b,filter:i,props:v,rows:o,url:route("admin.stock-movement.data",{product_id:n.productId}),loading:s}),c=J(()=>m.screen.gt.sm?g:g.filter(v=>v.name==="id"||v.name==="quantity"));return(v,_)=>(f(),O(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":_[0]||(_[0]=p=>b.value=p),filter:i.search,loading:s.value,columns:c.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:u,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:p,message:V,filter:I})=>[t("div",Hm,[t("span",null,r(V)+" "+r(I?" with term "+I:""),1)])]),body:l(p=>[e(qe,{props:p},{default:l(()=>[e(K,{key:"id",props:p},{default:l(()=>[t("div",null,[a(m).screen.lt.sm?(f(),h(Y,{key:0},[t("div",null,[e(ut,null,{default:l(()=>[y(r(v.$CONSTANTS.STOCK_MOVEMENT_REF_TYPES[p.row.ref_type]),1)]),_:2},1024)]),e(S,{class:"inline-icon",name:"tag"})],64)):k("",!0),y(" "+r(p.row.formatted_id),1)]),a(m).screen.lt.sm?(f(),h(Y,{key:0},[t("div",null,[e(S,{name:"calendar_clock",class:"inline-icon"}),y(" "+r(a(be)(p.row.created_at)),1)]),t("div",{class:xe(p.row.quantity>0?"text-positive":"text-negative")},[e(S,{class:"inline-icon",name:"compare_arrows"}),y(" "+r(a(H)(p.row.quantity_before))+" "+r(p.row.uom)+"  "+r(a(H)(p.row.quantity_after))+" "+r(p.row.uom),1)],2),e(_e,{text:p.row.notes,icon:"notes",class:"text-grey-8"},null,8,["text"])],64)):k("",!0)]),_:2},1032,["props"]),e(K,{key:"created_at",props:p},{default:l(()=>[y(r(a(be)(p.row.created_at)),1)]),_:2},1032,["props"]),e(K,{key:"type",props:p},{default:l(()=>[y(r(v.$CONSTANTS.STOCK_MOVEMENT_REF_TYPES[p.row.ref_type])+" ",1),p.row.ref?(f(),h("span",Km,r(p.row.ref),1)):k("",!0)]),_:2},1032,["props"]),e(K,{key:"quantity_before",props:p},{default:l(()=>[y(r(a(H)(p.row.quantity_before))+" "+r(p.row.uom),1)]),_:2},1032,["props"]),e(K,{key:"quantity_after",props:p},{default:l(()=>[y(r(a(H)(p.row.quantity_after))+" "+r(p.row.uom),1)]),_:2},1032,["props"]),e(K,{key:"quantity",props:p,class:xe(p.row.quantity>0?"text-positive":"text-negative")},{default:l(()=>[y(r(a(H)(p.row.quantity))+" "+r(p.row.uom),1)]),_:2},1032,["props","class"]),e(K,{key:"notes",props:p},{default:l(()=>[e(_e,{text:p.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},Ym=Object.freeze(Object.defineProperty({__proto__:null,default:eo},Symbol.toStringTag,{value:"Module"})),Qm={class:"q-gutter-sm"},Wm={class:"q-gutter-sm"},Jm={class:"row justify-center"},Gm={class:"col col-lg-6 q-pa-xs"},Xm={class:"row"},Zm={__name:"Detail",setup(d){const n=fe(),m=`Rincian Produk #${n.props.data.id}`,o=q("main");return(s,i)=>{const b=Q("i-head"),g=Q("authenticated-layout");return f(),h(Y,null,[e(b,{title:m}),e(g,{"show-drawer-button":!0},{title:l(()=>[y(r(m))]),"left-button":l(()=>[t("div",Qm,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=u=>s.$goBack())})])]),"right-button":l(()=>[t("div",Wm,[s.$can("admin.product.edit")?(f(),O(U,{key:0,icon:"edit",size:"sm",dense:"",flat:"",rounded:"",color:"grey",onClick:i[1]||(i[1]=u=>a(X).get(s.route("admin.product.edit",{id:a(n).props.data.id})))})):k("",!0)])]),default:l(()=>[t("div",Jm,[t("div",Gm,[t("div",Xm,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Ut,{modelValue:o.value,"onUpdate:modelValue":i[2]||(i[2]=u=>o.value=u),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(nt,{name:"main",label:"Info Utama"}),e(nt,{name:"history",label:"Riwayat Stok"})]),_:1},8,["modelValue"]),e(At,{modelValue:o.value,"onUpdate:modelValue":i[3]||(i[3]=u=>o.value=u),animated:""},{default:l(()=>[e(st,{name:"main"},{default:l(()=>[e(Zl,{product:a(n).props.data},null,8,["product"])]),_:1}),e(st,{name:"history",class:"q-pa-xs"},{default:l(()=>[e(eo,{"product-id":a(n).props.data.id},null,8,["product-id"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])])]),_:1})],64)}}},ec=Object.freeze(Object.defineProperty({__proto__:null,default:Zm},Symbol.toStringTag,{value:"Module"}));function $a(d,n=!1){const m=d.map(b=>({value:b.id,label:b.name})),o=n?[{value:"all",label:"Semua"},...m]:m,s=q([...o]);return{filteredCategories:s,filterCategories:(b,g)=>{const u=b.toLowerCase();g(()=>{s.value=o.filter(c=>c.label.toLowerCase().includes(u))})},categories:o}}function xa(d,n=!1){const m=d.map(b=>({value:b.id,label:"#"+b.id+" - "+b.name})),o=n?[{value:"all",label:"Semua"},...m]:m,s=q([...o]);return{filteredSuppliers:s,filterSupplierFn:(b,g)=>{const u=b.toLowerCase();g(()=>{s.value=o.filter(c=>c.label.toLowerCase().includes(u))})},suppliers:o}}const tc={class:"q-gutter-sm"},ac={class:"col col-md-6 q-pa-xs"},lc={__name:"Editor",setup(d){const n=fe(),m=(n.props.data.id?"Edit":"Tambah")+" Produk",o=Ge(window.CONSTANTS.PRODUCT_TYPES),s=Le({id:n.props.data.id,category_id:n.props.data.category_id,supplier_id:n.props.data.supplier_id,type:n.props.data.type||"",name:n.props.data.name||"",barcode:n.props.data.barcode||"",description:n.props.data.description||"",stock:parseFloat(n.props.data.stock)||0,min_stock:parseFloat(n.props.data.min_stock)||0,max_stock:parseFloat(n.props.data.max_stock)||0,uom:n.props.data.uom||"",cost:parseFloat(n.props.data.cost)||0,price:parseFloat(n.props.data.price)||0,price_2:parseFloat(n.props.data.price_2)||0,price_3:parseFloat(n.props.data.price_3)||0,active:!!n.props.data.active,price_editable:!!n.props.data.price_editable,notes:n.props.data.notes||""}),i=()=>Xe({form:s,url:route("admin.product.save")}),{filteredCategories:b,filterCategories:g}=$a(n.props.categories),{filteredSuppliers:u,filterSuppliers:c}=xa(n.props.suppliers),v=J(()=>s.price>0?(s.price-s.cost)/s.price*100:0);return(_,p)=>{const V=Q("i-head"),I=Q("authenticated-layout");return f(),h(Y,null,[e(V,{title:m}),e(I,{"show-drawer-button":!0},{title:l(()=>[y(r(m))]),"left-button":l(()=>[t("div",tc,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:p[0]||(p[0]=w=>_.$goBack())})])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",ac,[e(Fe,{class:"row",onSubmit:W(i,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[Z(t("input",{type:"hidden",name:"id","onUpdate:modelValue":p[1]||(p[1]=w=>a(s).id=w)},null,512),[[dt,a(s).id]]),p[23]||(p[23]=t("div",{class:"text-subtitle1 q-pt-lg"},"Info Utama",-1)),e(de,{autofocus:"",modelValue:a(s).type,"onUpdate:modelValue":p[2]||(p[2]=w=>a(s).type=w),class:"custom-select",options:a(o),label:"Jenis","map-options":"","emit-value":"","hide-bottom-space":""},null,8,["modelValue","options"]),e(ne,{modelValue:a(s).name,"onUpdate:modelValue":p[3]||(p[3]=w=>a(s).name=w),modelModifiers:{trim:!0},label:"Nama Produk","lazy-rules":"",error:!!a(s).errors.name,disable:a(s).processing,"error-message":a(s).errors.name,rules:[w=>w&&w.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(ne,{modelValue:a(s).description,"onUpdate:modelValue":p[4]||(p[4]=w=>a(s).description=w),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:a(s).processing,error:!!a(s).errors.description,"error-message":a(s).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(de,{modelValue:a(s).category_id,"onUpdate:modelValue":p[5]||(p[5]=w=>a(s).category_id=w),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:a(b),"map-options":"","emit-value":"",onFilter:a(g),"option-label":"label","option-value":"value",error:!!a(s).errors.category_id,disable:a(s).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(le,null,{default:l(()=>[e(F,null,{default:l(()=>p[21]||(p[21]=[y("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),_.$can("admin.product:view-supplier")?(f(),O(de,{key:0,modelValue:a(s).supplier_id,"onUpdate:modelValue":p[6]||(p[6]=w=>a(s).supplier_id=w),label:"Supplier","use-input":"","input-debounce":"300",clearable:"",options:a(u),"map-options":"","emit-value":"",onFilter:a(c),"option-label":"label","option-value":"value",error:!!a(s).errors.supplier_id,disable:a(s).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(le,null,{default:l(()=>[e(F,null,{default:l(()=>p[22]||(p[22]=[y("Supplier tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"])):k("",!0),e(Vt,{modelValue:a(s).active,"onUpdate:modelValue":p[7]||(p[7]=w=>a(s).active=w),disable:a(s).processing,label:"Aktif"},null,8,["modelValue","disable"]),p[24]||(p[24]=t("div",{class:"text-subtitle1 q-pt-lg"},"Info Inventori",-1)),e(ne,{modelValue:a(s).barcode,"onUpdate:modelValue":p[8]||(p[8]=w=>a(s).barcode=w),modelModifiers:{trim:!0},label:"Barcode","lazy-rules":"",error:!!a(s).errors.barcode,disable:a(s).processing,"error-message":a(s).errors.barcode,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(ne,{modelValue:a(s).uom,"onUpdate:modelValue":p[9]||(p[9]=w=>a(s).uom=w),modelModifiers:{trim:!0},label:"Satuan","lazy-rules":"",error:!!a(s).errors.uom,disable:a(s).processing,"error-message":a(s).errors.uom,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(Re,{modelValue:a(s).stock,"onUpdate:modelValue":p[10]||(p[10]=w=>a(s).stock=w),label:"Stok",lazyRules:"",disable:a(s).processing,error:!!a(s).errors.stock,errorMessage:a(s).errors.stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Re,{modelValue:a(s).min_stock,"onUpdate:modelValue":p[11]||(p[11]=w=>a(s).min_stock=w),label:"Stok Minimum",lazyRules:"",disable:a(s).processing,error:!!a(s).errors.min_stock,errorMessage:a(s).errors.min_stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Re,{modelValue:a(s).max_stock,"onUpdate:modelValue":p[12]||(p[12]=w=>a(s).max_stock=w),label:"Stok Maksimum",lazyRules:"",disable:a(s).processing,error:!!a(s).errors.max_stock,errorMessage:a(s).errors.max_stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),p[25]||(p[25]=t("div",{class:"text-subtitle1 q-pt-lg"},"Info Harga",-1)),e(Vt,{modelValue:a(s).price_editable,"onUpdate:modelValue":p[13]||(p[13]=w=>a(s).price_editable=w),disable:a(s).processing,label:"Harga bisa diubah saat penjualan"},null,8,["modelValue","disable"]),_.$can("admin.product:view-cost")?(f(),O(Re,{key:1,modelValue:a(s).cost,"onUpdate:modelValue":p[14]||(p[14]=w=>a(s).cost=w),label:"Modal / Harga Beli (Rp)",lazyRules:"",disable:a(s).processing,error:!!a(s).errors.cost,errorMessage:a(s).errors.cost,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"])):k("",!0),e(Re,{modelValue:a(s).price,"onUpdate:modelValue":p[15]||(p[15]=w=>a(s).price=w),label:"Harga Eceran (Rp)",lazyRules:"",disable:a(s).processing,error:!!a(s).errors.price,errorMessage:a(s).errors.price,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Re,{modelValue:a(s).price_2,"onUpdate:modelValue":p[16]||(p[16]=w=>a(s).price_2=w),label:"Harga Partai (Rp)",lazyRules:"",disable:a(s).processing,error:!!a(s).errors.price_2,errorMessage:a(s).errors.price_2,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Re,{modelValue:a(s).price_3,"onUpdate:modelValue":p[17]||(p[17]=w=>a(s).price_3=w),label:"Harga Grosir (Rp)",lazyRules:"",disable:a(s).processing,error:!!a(s).errors.price_3,errorMessage:a(s).errors.price_3,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),_.$can("admin.product:view-cost")?(f(),O(Re,{key:2,modelValue:v.value,"onUpdate:modelValue":p[18]||(p[18]=w=>v.value=w),label:"Margin (%)",lazyRules:"",disable:a(s).processing,maxDecimals:2,"hide-bottom-space":""},null,8,["modelValue","disable"])):k("",!0),p[26]||(p[26]=t("div",{class:"text-subtitle1 q-pt-lg"},"Info Lainnya",-1)),e(ne,{modelValue:a(s).notes,"onUpdate:modelValue":p[19]||(p[19]=w=>a(s).notes=w),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(s).processing,error:!!a(s).errors.notes,"error-message":a(s).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(s).processing},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",disable:a(s).processing,onClick:p[20]||(p[20]=w=>_.$goBack())},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},oc=Object.freeze(Object.defineProperty({__proto__:null,default:lc},Symbol.toStringTag,{value:"Module"})),nc={class:"q-gutter-sm"},sc={class:"col col-md-6 q-pa-xs"},rl="Import Produk",rc={__name:"Import",setup(d){const n=Le({csv_file:null}),m=()=>{n.post(route("admin.product.import"),{onSuccess:()=>{n.reset()},onError:()=>{Be()},onFinish:()=>{n.clearErrors()}})};return(o,s)=>{const i=Q("i-head"),b=Q("authenticated-layout");return f(),h(Y,null,[e(i,{title:rl}),e(b,{"show-drawer-button":!0},{title:l(()=>[y(r(rl))]),"left-button":l(()=>[t("div",nc,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=g=>o.$goBack())})])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",sc,[e(Fe,{class:"row",onSubmit:W(m,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[s[3]||(s[3]=t("div",{class:"text-subtitle1 q-pt-lg"},"Unggah File Impor",-1)),s[4]||(s[4]=t("div",{class:"text-caption text-grey"}," Unggah file CSV untuk mengimpor data produk. Pastikan format kolom sesuai dengan template yang disediakan. ",-1)),e(Kl,{modelValue:a(n).csv_file,"onUpdate:modelValue":s[1]||(s[1]=g=>a(n).csv_file=g),accept:".csv",label:"Pilih file CSV",error:!!a(n).errors.csv_file,"error-message":a(n).errors.csv_file,disable:a(n).processing,"hide-bottom-space":"",class:"q-mt-md"},null,8,["modelValue","error","error-message","disable"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"upload",type:"submit",label:"Import Data",color:"primary",disable:a(n).processing||!a(n).csv_file,loading:a(n).processing},null,8,["disable","loading"]),e(U,{icon:"cancel",label:"Batal",disable:a(n).processing,onClick:s[2]||(s[2]=g=>o.$goBack())},null,8,["disable"])]),_:1}),o.$page.props.flash.success?(f(),O(aa,{key:0,class:"bg-positive text-white q-mt-md"},{default:l(()=>[y(r(o.$page.props.flash.success),1)]),_:1})):k("",!0),o.$page.props.flash.error?(f(),O(aa,{key:1,class:"bg-negative text-white q-mt-md"},{default:l(()=>[y(r(o.$page.props.flash.error),1)]),_:1})):k("",!0)]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},ic=Object.freeze(Object.defineProperty({__proto__:null,default:rc},Symbol.toStringTag,{value:"Module"})),dc={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},uc={class:"q-pa-xs"},mc={class:"full-width row flex-center text-grey-8 q-gutter-sm"},cc={key:0},pc={key:1},fc={class:"flex justify-end"},gc={key:0},bc={key:1},vc={key:0},il="Produk",yc={__name:"Index",setup(d){const n=fe(),m=q(null),o=q(null),s=We(o),i=q(!1),b=[{value:"all",label:"Semua"},...Ge(window.CONSTANTS.PRODUCT_TYPES)],g=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],u=[{value:"all",label:"Semua"},{value:"ready",label:"Tersedia"},{value:"out",label:"Kosong"},{value:"low",label:"Stok Rendah"},{value:"over",label:"Stok Berlebih"}],c=he(),v=q(!1),_=q([]),p=q(!0),V=Pe({type:"all",category_id:"all",supplier_id:"all",status:"active",stock_status:"all",search:"",...De()}),I=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1});let w=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"cost",label:"Modal",field:"cost",align:"right"},{name:"price",label:"Harga",field:"price",align:"right"},{name:"action",align:"right"}];we(()=>{const x=new URLSearchParams(window.location.search).get("page");x&&(I.value.page=parseInt(x)),C()});const R=B=>at({message:`Hapus Produk ${B.name}?`,url:route("admin.product.delete",B.id),fetchItemsCallback:C,loading:p}),C=(B=null)=>{Ue({pagination:I,filter:V,props:B,rows:_,url:route("admin.product.data"),loading:p,tableRef:m})},$=()=>{C()},{filteredCategories:A,filterCategories:z}=$a(n.props.categories,!0),{filteredSuppliers:T,filterSupplierFn:D}=xa(n.props.suppliers,!0),M=J(()=>{let B=[...w];return i.value||B.splice(2,1),c.screen.gt.sm?B:B.filter(x=>x.name==="name"||x.name==="action")}),N=B=>{console.log(window.location.href),X.get(route("admin.product.detail",B.row.id))};return(B,x)=>{const L=Q("i-head"),ie=Q("authenticated-layout");return f(),h(Y,null,[e(L,{title:il}),e(ie,null,ze({title:l(()=>[y(r(il))]),"right-button":l(()=>[e(U,{icon:v.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:x[0]||(x[0]=j=>v.value=!v.value)},null,8,["icon"]),B.$can("admin.product.add")?(f(),O(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:x[1]||(x[1]=j=>a(X).get(B.route("admin.product.add")))})):k("",!0),B.$can("admin.product.import")||B.$can("admin.product:view-cost")?(f(),O(U,{key:1,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:x[4]||(x[4]=W(()=>{},["stop"])),class:"q-ml-sm"},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[B.$can("admin.product.import")?Z((f(),O(le,{key:0,clickable:"",onClick:x[2]||(x[2]=j=>i.value=!i.value)},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:i.value?"visibility":"visibility_off"},null,8,["name"])]),_:1}),e(F,null,{default:l(()=>[y(r(i.value?"Sembunyikan":"Tampilkan")+" Modal",1)]),_:1})]),_:1})),[[se],[ue]]):k("",!0),B.$can("admin.product.import")?Z((f(),O(le,{key:1,clickable:"",onClick:x[3]||(x[3]=W(j=>a(X).get(B.route("admin.product.import")),["stop"]))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"csv"})]),_:1}),e(F,null,{default:l(()=>x[13]||(x[13]=[y("Import")])),_:1})]),_:1})),[[se],[ue]]):k("",!0)]),_:1})]),_:1})]),_:1})):k("",!0)]),default:l(()=>[t("div",uc,[e(Te,{ref_key:"tableRef",ref:m,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:I.value,"onUpdate:pagination":x[12]||(x[12]=j=>I.value=j),filter:V.search,loading:p.value,columns:M.value,rows:_.value,"rows-per-page-options":[10,25,50],style:Me({height:a(s)}),onRequest:C,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:j,message:E,filter:G})=>[t("div",mc,[t("span",null,r(E)+" "+r(G?" with term "+G:""),1)])]),header:l(j=>[e(qe,{props:j},{default:l(()=>[e(ea,{"auto-width":""}),(f(!0),h(Y,null,tt(j.cols,E=>(f(),O(ea,{key:E.name,props:j},{default:l(()=>[y(r(E.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(j=>[e(qe,{props:j,class:xe({inactive:!j.row.active})},{default:l(()=>[e(K,{"auto-width":""},{default:l(()=>[e(U,{size:"sm",flat:"",round:"",dense:"",onClick:W(E=>j.expand=!j.expand,["prevent"]),icon:j.expand?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["onClick","icon"])]),_:2},1024),e(K,{key:"name",props:j,class:"wrap-column cursor-pointer",onClick:E=>N(j)},{default:l(()=>[y(r(j.row.name)+" ",1),a(c).screen.gt.sm?k("",!0):(f(),h(Y,{key:0},[j.row.type=="stocked"?(f(),h("div",cc,[e(S,{name:"cycle"}),y(" Stok: "+r(a(H)(j.row.stock))+" "+r(j.row.uom),1)])):k("",!0),i.value?(f(),h("div",pc,[e(S,{name:"money"}),y(" Modal: Rp. "+r(a(H)(j.row.cost)),1)])):k("",!0),t("div",null,[e(S,{name:"sell"}),y(" Harga: Rp. "+r(a(H)(j.row.price)),1)])],64))]),_:2},1032,["props","onClick"]),e(K,{key:"stock",props:j,class:xe(["wrap-column",{"low-stock":j.row.type=="stocked"&&(Number(j.row.stock)==0||Number(j.row.stock)<Number(j.row.min_stock)),"over-stock":j.row.type=="stocked"&&Number(j.row.max_stock)&&Number(j.row.stock)>Number(j.row.max_stock)}])},{default:l(()=>[y(r(j.row.type=="stocked"?a(H)(j.row.stock)+" "+j.row.uom:"-"),1)]),_:2},1032,["props","class"]),(f(),O(K,{key:"cost",props:j,class:"wrap-column"},{default:l(()=>[y(r(a(H)(j.row.cost)),1)]),_:2},1032,["props"])),e(K,{key:"price",props:j,class:"wrap-column"},{default:l(()=>[y(r(a(H)(j.row.price)),1)]),_:2},1032,["props"]),e(K,{key:"action",props:j},{default:l(()=>[t("div",fc,[B.$can("admin.product.add")||B.$can("admin.product.edit")||B.$can("admin.product.delete")?(f(),O(U,{key:0,icon:"more_vert",rounded:"",dense:"",flat:"",onClick:x[11]||(x[11]=W(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"175px"}},{default:l(()=>[B.$can("admin.product.add")?Z((f(),O(le,{key:0,clickable:"",onClick:W(E=>a(X).get(B.route("admin.product.duplicate",j.row.id)),["stop"])},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"file_copy"})]),_:1}),e(F,null,{default:l(()=>x[14]||(x[14]=[y("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),B.$can("admin.product.edit")?Z((f(),O(le,{key:1,clickable:"",onClick:W(E=>a(X).get(B.route("admin.product.edit",j.row.id)),["stop"])},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"edit"})]),_:1}),e(F,null,{default:l(()=>x[15]||(x[15]=[y("Edit")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),B.$can("admin.product.delete")?Z((f(),O(le,{key:2,onClick:W(E=>R(j.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"delete_forever"})]),_:1}),e(F,null,{default:l(()=>x[16]||(x[16]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class"]),Z(e(qe,{props:j},{default:l(()=>[e(K,{colspan:"100%"},{default:l(()=>[j.row.barcode?(f(),h("div",gc,[e(S,{class:"inline-icon",name:"barcode"}),y(" Barcode: "+r(j.row.barcode),1)])):k("",!0),j.row.category_id?(f(),h("div",bc,[e(S,{name:"category",class:"inline-icon"}),y(" Kategori: "+r(j.row.category.name),1)])):k("",!0),B.$can("admin.product:view-supplier")?(f(),h(Y,{key:2},[j.row.supplier_id?(f(),h("div",vc,[e(S,{name:"local_shipping",class:"inline-icon"}),y(" Supplier: "+r(j.row.supplier.name),1)])):k("",!0)],64)):k("",!0),j.row.description?(f(),O(_e,{key:3,text:j.row.description,icon:"notes","max-length":200},null,8,["text"])):k("",!0),j.row.notes?(f(),O(_e,{key:4,text:j.row.notes,icon:"notes","max-length":200},null,8,["text"])):k("",!0)]),_:2},1024)]),_:2},1032,["props"]),[[Pl,j.expand]])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[v.value?{name:"header",fn:l(()=>[e(Ze,{class:"filter-bar",ref_key:"filterToolbarRef",ref:o},{default:l(()=>[t("div",dc,[e(de,{modelValue:V.type,"onUpdate:modelValue":[x[5]||(x[5]=j=>V.type=j),$],class:"custom-select col-xs-4 col-sm-2",options:b,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(de,{modelValue:V.status,"onUpdate:modelValue":[x[6]||(x[6]=j=>V.status=j),$],class:"custom-select col-xs-4 col-sm-2",options:g,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(de,{modelValue:V.stock_status,"onUpdate:modelValue":[x[7]||(x[7]=j=>V.stock_status=j),$],class:"custom-select col-xs-4 col-sm-2",options:u,label:"Status Stok",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(de,{modelValue:V.category_id,"onUpdate:modelValue":[x[8]||(x[8]=j=>V.category_id=j),$],label:"Kategori",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:a(A),"map-options":"",dense:"","emit-value":"",onFilter:a(z),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),B.$can("admin.product:view-supplier")?(f(),O(de,{key:0,modelValue:V.supplier_id,"onUpdate:modelValue":[x[9]||(x[9]=j=>V.supplier_id=j),$],label:"Pemasok",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:a(T),"map-options":"",dense:"","emit-value":"",onFilter:a(D),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"])):k("",!0),e(ne,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:V.search,"onUpdate:modelValue":x[10]||(x[10]=j=>V.search=j),placeholder:"Cari",clearable:""},{append:l(()=>[e(S,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},_c=Object.freeze(Object.defineProperty({__proto__:null,default:yc},Symbol.toStringTag,{value:"Module"})),kc={class:"column"},wc={class:"bg-grey-2 q-pa-xs"},hc={class:"text-subtitle1 text-bold text-grey-10"},$c={class:"col-12 col-sm-6"},xc={class:"full-width"},Sc={key:1},Vc={key:0},qc={key:1},Cc={class:"col-12 col-sm-6",align:"left"},Tc={class:"full-width"};const Pc={key:1},Oc={class:"full-width",style:{"border-collapse":"collapse"}},Ic={class:"q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Rc={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Dc={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Uc={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Ac={key:0},Ec={class:"col-12 col-sm-6"},jc={class:"text-body2 text-grey-7 text-italic"},Mc={class:"col-12 col-sm-6"},Nc={class:"row justify-end q-gutter-y-xs"},Bc={class:"col-12 row justify-between"},Fc={class:"text-subtitle2 text-bold"},to={__name:"InvoiceTab",props:{data:Object},setup(d){const n=d;return(m,o)=>{const s=Q("i-link");return f(),h("div",kc,[e(ae,{class:"q-pa-none"},{default:l(()=>[t("div",wc,[t("div",hc," INVOICE #"+r(n.data.formatted_id),1)])]),_:1}),e(Je),e(ae,{class:"row q-col-gutter-sm q-pa-sm",align:"left"},{default:l(()=>[t("div",$c,[o[1]||(o[1]=t("div",{class:"text-subtitle2 text-bold text-grey-8"},"Info Pemasok",-1)),t("table",xc,[t("tbody",null,[t("tr",null,[t("td",null,[n.data.supplier?(f(),O(s,{key:0,href:m.route("admin.customer.detail",{id:n.data.supplier_id})},{default:l(()=>[e(S,{class:"inline-icon",name:"person"}),y(" "+r(n.data.supplier_name),1)]),_:1},8,["href"])):(f(),h("div",Sc,[e(S,{class:"inline-icon",name:"person"}),o[0]||(o[0]=y(" Pemasok Umum "))]))])]),n.data.supplier_phone?(f(),h("tr",Vc,[t("td",null,[e(S,{class:"inline-icon",name:"phone"}),y(" "+r(n.data.supplier_phone),1)])])):k("",!0),n.data.supplier_address?(f(),h("tr",qc,[t("td",null,[e(S,{class:"inline-icon",name:"home_pin"}),y(" "+r(n.data.supplier_address),1)])])):k("",!0)])])]),t("div",Cc,[o[12]||(o[12]=t("div",{class:"text-subtitle2 text-bold text-grey-8"},"Info Order",-1)),t("table",Tc,[t("tbody",null,[t("tr",null,[o[2]||(o[2]=t("td",{class:"text-grey-7",style:{width:"130px"}},"Waktu",-1)),o[3]||(o[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(be)(n.data.datetime)),1)]),t("tr",null,[o[4]||(o[4]=t("td",{class:"text-grey-7"},"Status Order",-1)),o[5]||(o[5]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(m.$CONSTANTS.PURCHASE_ORDER_STATUSES[n.data.status]),1)]),t("tr",null,[o[6]||(o[6]=t("td",{class:"text-grey-7"},"Status Pembayaran",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,r(m.$CONSTANTS.PURCHASE_ORDER_PAYMENT_STATUSES[n.data.payment_status]),1)]),k("",!0),n.data.due_date?(f(),h("tr",Pc,[o[10]||(o[10]=t("td",{class:"text-grey-7"},"Jatuh Tempo",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,r(a(Lt)(n.data.due_date)),1)])):k("",!0)])])])]),_:1}),e(Je),e(ae,{class:"q-pa-sm"},{default:l(()=>[t("table",Oc,[o[14]||(o[14]=t("thead",{class:"text-grey-8"},[t("tr",null,[t("th",{class:"text-left q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Item "),t("th",{colspan:"2",class:"text-center q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Qty "),t("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Harga Beli (Rp) "),t("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Total (Rp) ")])],-1)),t("tbody",null,[(f(!0),h(Y,null,tt(n.data.details,i=>(f(),h("tr",{key:i.id},[t("td",Ic,[e(s,{href:m.route("admin.product.detail",{id:i.product_id})},{default:l(()=>[y(r(i.product_name),1)]),_:2},1032,["href"])]),t("td",Rc,r(i.quantity),1),t("td",null,r(i.product_uom),1),t("td",Dc,r(a(H)(i.cost)),1),t("td",Uc,r(a(H)(i.subtotal_cost)),1)]))),128)),n.data.details.length==0?(f(),h("tr",Ac,o[13]||(o[13]=[t("td",{colspan:"4",class:"text-center text-grey"},"Belum ada item",-1)]))):k("",!0)])])]),_:1}),e(Je),e(ae,{class:"row",align:"left"},{default:l(()=>[t("div",Ec,[o[15]||(o[15]=t("div",{class:"text-subtitle2 text-bold text-grey-8 q-mb-xs"},"Catatan:",-1)),t("div",jc,r(n.data.notes?n.data.notes:"-"),1)]),t("div",Mc,[t("div",Nc,[t("div",Bc,[o[16]||(o[16]=t("div",{class:"text-subtitle2 text-grey-7"},"Grand Total (Rp)",-1)),t("div",Fc,r(a(H)(n.data.grand_total)),1)])])])]),_:1})])}}},zc=Object.freeze(Object.defineProperty({__proto__:null,default:to},Symbol.toStringTag,{value:"Module"})),Lc={key:0,class:"text-center q-mb-md text-grey-8"},Hc={class:"text-subtitle2 text-weight-medium"},Kc={class:"text-h5 text-center text-primary q-pb-md"},Yc={class:"text-center q-mt-md"},Qc={key:0,class:"text-h6 text-negative text-weight-bold"},Wc={key:1,class:"text-h6 text-green-8 text-weight-bold"},Jc={key:2,class:"text-h6 text-positive text-weight-bold"},ao={__name:"PaymentDialog",props:{modelValue:{type:Boolean,required:!0},total:{type:Number,required:!0}},emits:["update:modelValue","accepted"],setup(d,{emit:n}){const m=d,o=n,s=fe(),i=q(!1),b=q({method:null,amount:m.total,notes:null}),g=s.props.data.supplier,u=J(()=>[...s.props.accounts.map(w=>({label:w.type=="bank"?w.name+" - "+w.number:w.name,value:w.id}))]),c=J(()=>m.total-(b.value.amount||0)),v=J(()=>b.value.method&&typeof b.value.amount=="number"&&b.value.amount>0),_=J(()=>b.value.method?(b.value.amount||0)<=0?"Jumlah pembayaran harus lebih dari 0.":null:"Metode pembayaran harus dipilih."),p=J(()=>v.value&&_.value===null),V=()=>{if(!p.value)return;i.value=!0;const w={total_paid:b.value.amount,payments:[{id:b.value.method,amount:b.value.amount}],notes:b.value.notes,remaining_debt:Math.max(0,m.total-(b.value.amount||0))};o("accepted",w),i.value=!1},I=()=>{b.value.amount=m.total,b.value.method=null,b.value.notes=null};return(w,R)=>(f(),O(ct,{"model-value":d.modelValue,"onUpdate:modelValue":R[4]||(R[4]=C=>w.$emit("update:modelValue",C)),onBeforeShow:I},{default:l(()=>[e(ce,{style:{"min-width":"300px"}},{default:l(()=>[e(ae,null,{default:l(()=>R[5]||(R[5]=[t("div",{class:"text-subtitle1 text-bold text-center"}," Rincian Pembayaran ",-1)])),_:1}),e(ae,{class:"q-pt-none"},{default:l(()=>[a(g)?(f(),h("div",Lc,[t("div",Hc,[y(r(a(g).name)+" ",1),R[6]||(R[6]=t("br",null,null,-1)),y(" Saldo: Rp. "+r(a(H)(a(g).balance)),1)])])):k("",!0),t("div",Kc," Total: Rp. "+r(a(H)(d.total)),1),e(a(de),{modelValue:b.value.method,"onUpdate:modelValue":R[0]||(R[0]=C=>b.value.method=C),options:u.value,label:"Metode Pembayaran",outlined:!0,"emit-value":"","map-options":"",dense:"",class:"q-mb-md",disable:i.value,rules:[C=>!!C||"Pilih metode pembayaran."]},null,8,["modelValue","options","disable","rules"]),e(Re,{modelValue:b.value.amount,"onUpdate:modelValue":R[1]||(R[1]=C=>b.value.amount=C),label:"Jumlah Uang",outlined:!0,dense:"",disable:i.value,class:"q-mb-md",error:!p.value,"error-message":_.value},null,8,["modelValue","disable","error","error-message"]),e(ne,{modelValue:b.value.notes,"onUpdate:modelValue":R[2]||(R[2]=C=>b.value.notes=C),label:"Catatan",outlined:!0,type:"textarea",rows:"2",disable:i.value,class:"q-mb-md"},null,8,["modelValue","disable"]),t("div",Yc,[c.value>0?(f(),h("div",Qc," Sisa Tagihan: Rp. "+r(a(H)(c.value)),1)):c.value<0?(f(),h("div",Wc," Kembalian: Rp. "+r(a(H)(Math.abs(c.value))),1)):(f(),h("div",Jc," Tagihan Terbayar "))])]),_:1}),e(mt,{align:"center",class:"q-mb-sm"},{default:l(()=>[e(U,{flat:"",label:"Batal",color:"grey",onClick:R[3]||(R[3]=C=>w.$emit("update:modelValue",!1))}),e(U,{label:"Bayar",color:"positive",onClick:V,disable:i.value||!p.value,loading:i.value},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Gc=Object.freeze(Object.defineProperty({__proto__:null,default:ao},Symbol.toStringTag,{value:"Module"})),Xc={class:"column"},Zc={class:"full-width",style:{"border-collapse":"collapse"}},ep={class:"q-pa-sm",style:{"border-bottom":"1px solid #eee"}},tp={class:"row items-center q-gutter-x-sm"},ap={class:"text-weight-bold"},lp={class:"row items-center q-gutter-x-sm q-mt-xs"},op={class:"text-caption text-grey-6"},np={key:0,class:"row items-center q-gutter-x-sm q-mt-xs"},sp={class:"text-caption text-grey-6"},rp={class:"q-mt-xs"},ip={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},dp={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},up={key:0},mp={class:"q-pa-sm"},cp={class:"text-right q-pa-sm"},pp={class:"text-right q-pa-sm"},lo={__name:"PaymentTab",props:{data:Object},setup(d){const n=d,m=J(()=>n.data.grand_total-n.data.total_paid),o=he(),s=q(!1),i=()=>{s.value=!0},b=async u=>{const c={order_id:n.data.id,payments:u.payments,notes:u.notes};o.loading.show({message:"Memproses pembayaran..."});try{const v=await Ye.post(route("admin.purchase-order.add-payment"),c);o.notify({message:"Pembayaran berhasil diproses!",color:"positive",icon:"check_circle"}),s.value=!1,X.visit(route("admin.purchase-order.detail",{id:n.data.id})+"?tab=payment")}catch(v){let _="Gagal memproses pembayaran.";v.response&&v.response.data&&v.response.data.message?_=v.response.data.message:v.message&&(_=v.message),o.notify({message:_,color:"negative",icon:"error"})}finally{o.loading.hide()}},g=u=>{o.dialog({title:"Konfirmasi",message:"Apakah Anda yakin ingin menghapus pembayaran ini?",cancel:!0,persistent:!0}).onOk(async()=>{o.loading.show({message:"Menghapus pembayaran..."});try{await Ye.post(route("admin.purchase-order.delete-payment",{id:u.id})),o.notify({message:"Pembayaran berhasil dihapus!",color:"positive",icon:"check_circle"}),X.visit(route("admin.purchase-order.detail",{id:n.data.id})+"?tab=payment")}catch(c){let v="Gagal menghapus pembayaran.";c.response&&c.response.data&&c.response.data.message?v=c.response.data.message:c.message&&(v=c.message),o.notify({message:v,color:"negative",icon:"error"})}finally{o.loading.hide()}})};return(u,c)=>(f(),h(Y,null,[t("div",Xc,[e(Je),e(ae,{class:"q-pa-sm"},{default:l(()=>[t("table",Zc,[c[6]||(c[6]=t("thead",{class:"text-grey-8"},[t("tr",null,[t("th",{class:"text-left q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Detail Transaksi "),t("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Jumlah (Rp) "),t("th",{class:"text-center q-pa-sm",style:{"border-bottom":"2px solid #ddd"}})])],-1)),t("tbody",null,[(f(!0),h(Y,null,tt(n.data.payments,v=>(f(),h("tr",{key:v.id},[t("td",ep,[t("div",tp,[e(S,{name:"tag",size:"xs",color:"grey-7"}),t("span",ap,r(v.formatted_id),1)]),t("div",lp,[e(S,{name:"calendar_today",size:"xs",color:"grey-7"}),t("span",op,r(a(be)(v.created_at)),1)]),(v.type==="transfer"||v.type==="cash")&&v.account?(f(),h("div",np,[e(S,{name:"wallet",size:"xs",color:"grey-7"}),t("span",sp,r(v.account.name),1)])):k("",!0),t("div",rp,[e(ut,{label:u.$CONSTANTS.SALES_ORDER_PAYMENT_TYPES[v.type],color:"secondary",class:"q-py-xs"},null,8,["label"])])]),t("td",ip,r(a(H)(v.amount)),1),t("td",dp,[u.$can("admin.sales-order.delete-payment")?(f(),O(U,{key:0,icon:"delete",color:"negative",dense:"",flat:"",rounded:"",size:"sm",onClick:_=>g(v)},null,8,["onClick"])):k("",!0)])]))),128)),n.data.payments.length==0?(f(),h("tr",up,c[2]||(c[2]=[t("td",{colspan:"100%",class:"text-center text-grey"},"Belum ada item",-1)]))):k("",!0)]),t("tfoot",null,[t("tr",null,[t("td",mp,[u.$can("admin.sales-order.add-payment")&&m.value>0?(f(),O(U,{key:0,label:"Tambah",color:"primary",icon:"add",dense:"",class:"custom-dense",size:"sm",onClick:c[0]||(c[0]=W(v=>i(),["stop"]))})):k("",!0)]),c[3]||(c[3]=t("th",{class:"text-right q-pa-sm",colspan:"1"},"Total Dibayar",-1)),t("th",cp,r(a(H)(n.data.total_paid)),1)]),t("tr",null,[c[4]||(c[4]=t("th",{class:"text-right q-pa-sm",colspan:"2"},"Sisa Tagihan",-1)),t("th",pp,r(a(H)(m.value)),1),c[5]||(c[5]=t("td",null,null,-1))])])])]),_:1})]),e(ao,{modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=v=>s.value=v),total:m.value,customer:n.data.customer,onAccepted:b},null,8,["modelValue","total","customer"])],64))}},fp=Object.freeze(Object.defineProperty({__proto__:null,default:lo},Symbol.toStringTag,{value:"Module"})),gp={class:"q-gutter-sm"},bp={class:"col col-lg-6 q-pa-xs",align:"center"},dl="Rincian Pembelian",vp={__name:"Detail",setup(d){const n=new URLSearchParams(window.location.search),o=fe().props.data,s=q(n.get("preview")||!1),b=q(n.get("tab")||"invoice"),g=()=>{window.print()};return(u,c)=>{const v=Q("i-head"),_=Q("authenticated-layout");return f(),h(Y,null,[e(v,{title:dl}),e(_,{"show-drawer-button":!0},{title:l(()=>[t("div",{class:"row items-center q-gutter-x-sm"},[t("span",null,r(dl))])]),"left-button":l(()=>[t("div",gp,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=p=>u.$goBack())})])]),"right-button":l(()=>[e(U,{icon:"print",dense:"",color:"primary",flat:"",rounded:"",onClick:c[1]||(c[1]=p=>g())}),s.value?k("",!0):(f(),O(U,{key:0,class:"q-ml-sm",icon:"add",dense:"",color:"primary",rounded:"",onClick:c[2]||(c[2]=p=>a(X).get(u.route("admin.purchase-order.add")))}))]),default:l(()=>[e(Se,{class:"row justify-center print-visible"},{default:l(()=>[t("div",bp,[e(ce,{square:"",flat:"",bordered:"",class:"full-width",style:{"max-width":"1024px"}},{default:l(()=>[e(Ut,{modelValue:b.value,"onUpdate:modelValue":c[3]||(c[3]=p=>b.value=p),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(nt,{name:"invoice",label:"Invoice"}),s.value?k("",!0):(f(),O(nt,{key:0,name:"payment",label:"Pembayaran"}))]),_:1},8,["modelValue"]),e(Je),e(At,{modelValue:b.value,"onUpdate:modelValue":c[4]||(c[4]=p=>b.value=p),animated:""},{default:l(()=>[e(st,{name:"invoice",class:"q-pa-none"},{default:l(()=>[e(to,{data:a(o)},null,8,["data"])]),_:1}),e(st,{name:"payment",class:"q-pa-none"},{default:l(()=>[e(lo,{data:a(o)},null,8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),_:1})]),_:1})],64)}}},yp=_t(vp,[["__scopeId","data-v-ef1ae89c"]]),_p=Object.freeze(Object.defineProperty({__proto__:null,default:yp},Symbol.toStringTag,{value:"Module"})),kp={class:"text-weight-medium"},wp={class:"text-caption text-grey-6"},hp={class:"column items-end"},$p={class:"text-caption text-grey-6 text-italic"},oo={__name:"ItemsListTable",props:{items:{type:Array,required:!0},isProcessing:{type:Boolean,default:!1}},emits:["update-quantity","remove-item","edit-item"],setup(d){const n=he(),m=We(null,n.screen.lt.sm?395:310),o=[{name:"name",required:!0,label:"Item",align:"left",field:"name",sortable:!1},{name:"subtotal",label:"Sub Total (Rp.)",align:"right",sortable:!1},{name:"action",label:"",align:"right",sortable:!1}];return(s,i)=>(f(),O(Te,{dense:"",rows:d.items,columns:o,"row-key":"id",flat:"",square:"",bordered:"",class:"full-height-table","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48,style:Me({height:a(m)})},{header:l(b=>[e(qe,{props:b,class:"bg-grey-4"},{default:l(()=>[(f(!0),h(Y,null,tt(b.cols,g=>(f(),O(ea,{key:g.name,props:b,class:"text-weight-bold text-grey-8"},{default:l(()=>[y(r(g.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(b=>[e(qe,{props:b,class:"hover-highlight"},{default:l(()=>[e(K,{key:"name",props:b,class:"text-left"},{default:l(()=>[t("div",kp,r(b.row.product_name),1),t("div",wp,r(b.row.product_barcode),1),b.row.notes?(f(),O(_e,{key:0,text:b.row.notes,icon:"notes",class:"text-grey-6"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(K,{key:"subtotal",props:b,class:"text-right"},{default:l(()=>[t("div",hp,[t("div",null,r(a(H)(b.row.subtotal_cost)),1),t("div",$p,r(a(H)(b.row.quantity))+" x Rp. "+r(a(H)(b.row.cost)),1)])]),_:2},1032,["props"]),e(K,{key:"action",props:b,class:"text-right",style:{width:"5%"}},{default:l(()=>[e(U,{icon:"edit",color:"grey",flat:"",round:"",size:"sm",onClick:g=>s.$emit("edit-item",b.row),disable:d.isProcessing},null,8,["onClick","disable"]),e(U,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:g=>s.$emit("remove-item",b.row),disable:d.isProcessing},null,8,["onClick","disable"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","style"]))}},xp=Object.freeze(Object.defineProperty({__proto__:null,default:oo},Symbol.toStringTag,{value:"Module"})),no=ht({name:"QBtnToggle",props:{...Cl,modelValue:{required:!0},options:{type:Array,required:!0,validator:d=>d.every(n=>("label"in n||"icon"in n||"slot"in n)&&"value"in n)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(d,{slots:n,emit:m}){const o=J(()=>d.options.find(p=>p.value===d.modelValue)!==void 0),s=J(()=>({type:"hidden",name:d.name,value:d.modelValue})),i=_n(s),b=J(()=>vn(d)),g=J(()=>({rounded:d.rounded,dense:d.dense,...b.value})),u=J(()=>d.options.map((p,V)=>{const{attrs:I,value:w,slot:R,...C}=p;return{slot:R,props:{key:V,"aria-pressed":w===d.modelValue?"true":"false",...I,...C,...g.value,disable:d.disable===!0||C.disable===!0,color:w===d.modelValue?v(C,"toggleColor"):v(C,"color"),textColor:w===d.modelValue?v(C,"toggleTextColor"):v(C,"textColor"),noCaps:v(C,"noCaps")===!0,noWrap:v(C,"noWrap")===!0,size:v(C,"size"),padding:v(C,"padding"),ripple:v(C,"ripple"),stack:v(C,"stack")===!0,stretch:v(C,"stretch")===!0,onClick($){c(w,p,$)}}}}));function c(p,V,I){d.readonly!==!0&&(d.modelValue===p?d.clearable===!0&&(m("update:modelValue",null,null),m("clear")):m("update:modelValue",p,V),m("click",I))}function v(p,V){return p[V]===void 0?d[V]:p[V]}function _(){const p=u.value.map(V=>ve(U,V.props,V.slot!==void 0?n[V.slot]:void 0));return d.name!==void 0&&d.disable!==!0&&o.value===!0&&i(p,"push"),Sl(n.default,p)}return()=>ve(yn,{class:"q-btn-toggle",...b.value,rounded:d.rounded,stretch:d.stretch,glossy:d.glossy,spread:d.spread},_)}}),Sp={key:0,class:"text-center q-mb-md text-grey-8"},Vp={class:"text-subtitle2 text-weight-medium"},qp={class:"text-h5 text-center text-primary q-pb-md"},Cp={class:"q-mb-md flex flex-center"},Tp={key:1},Pp={class:"col-6"},Op={class:"col-6"},Ip={class:"row"},Rp={class:"text-center q-mt-md"},Dp={key:0,class:"text-h6 text-negative text-weight-bold"},Up={key:1,class:"text-h6 text-green-8 text-weight-bold"},Ap={key:2,class:"text-h6 text-positive text-weight-bold"},Ep={key:2},jp={class:"text-h6 text-negative text-center"},Mp={key:3},so={__name:"PaymentDialog",props:{modelValue:{type:Boolean,required:!0},form:{type:Object,required:!0},supplier:{type:Object,required:!1},total:{type:Number,required:!0}},emits:["update:modelValue","accepted"],setup(d,{emit:n}){const m=d,o=n,s=fe(),i=q(!1),b=q("payment"),g=q(new Date),u=q(null),c=Pe([]),v=J(()=>c.every(N=>N.id&&typeof N.amount=="number"&&N.amount>0)),_=J(()=>s.props.accounts.map(N=>({label:N.name,value:N.id}))),p=J(()=>c.reduce((N,B)=>N+(B.amount||0),0)),V=J(()=>m.total-p.value),I=J(()=>{if(!m.supplier)return!0;const N=c.find(x=>x.id==="wallet");return(N?N.amount:0)<=m.supplier.balance}),w=new Date,R=ot.addToDate(new Date,{days:30}),C=J(()=>[N=>!!N||"Tanggal jatuh tempo harus diisi",N=>ot.isBetweenDates(N,w,R,{inclusiveFrom:!0,inclusiveTo:!0})?!0:"Tanggal tidak boleh kurang dari hari ini dan lebih dari 30 hari dari sekarang."]),$=J(()=>{if(b.value==="debt")return!!m.supplier&&C.value.every(L=>L(g.value)===!0);const N=c.some(L=>(L.amount||0)>0),B=c.every(L=>(L.amount||0)>=0),x=V.value<=0;return v.value&&N&&B&&x}),A=()=>{c.length<3&&c.push({id:null,amount:0})},z=N=>{if(c.length>1){const B=c.findIndex(x=>x.id===N);B!==-1&&c.splice(B,1)}},T=N=>{b.value=N,g.value=new Date,c.splice(0,c.length),N==="payment"&&_.value.length>0&&(c.splice(0,c.length,{id:_.value[0].value,amount:m.total}),wt(()=>{u.value&&u.value.length>0&&(u.value[0].focus(),u.value[0].select())}))},D=()=>{if(!$.value)return;i.value=!0;let N={total:m.total,is_debt:b.value==="debt"};if(b.value==="debt")N.due_date=ot.formatDate(g.value,"YYYY-MM-DD"),N.payments=[];else{const B=p.value,x=B>m.total?B-m.total:0,L=V.value>0?V.value:0;N.payments=c,N.remaining_debt=L,N.change=x}o("accepted",N),i.value=!1},M=()=>{if(_.value.length===0){console.log("Tidak ada akun yang dapat digunakan untuk pembayaran!");return}T("payment")};return(N,B)=>(f(),O(ct,{"model-value":d.modelValue,"onUpdate:modelValue":B[3]||(B[3]=x=>N.$emit("update:modelValue",x)),onBeforeShow:M},{default:l(()=>[e(ce,{style:{"min-width":"300px"}},{default:l(()=>[e(ae,null,{default:l(()=>B[4]||(B[4]=[t("div",{class:"text-subtitle1 text-bold text-center"}," Rincian Pembayaran ",-1)])),_:1}),e(ae,{class:"q-pt-none"},{default:l(()=>[d.supplier?(f(),h("div",Sp,[t("div",Vp,[y(" Nama: "+r(d.supplier.name),1),B[5]||(B[5]=t("br",null,null,-1)),y(" Utang / Piutang: Rp. "+r(a(H)(d.supplier.balance)),1)])])):k("",!0),t("div",qp," Total: Rp. "+r(a(H)(d.total)),1),t("div",Cp,[e(a(no),{modelValue:b.value,"onUpdate:modelValue":[B[0]||(B[0]=x=>b.value=x),T],options:[{label:"Pembayaran",value:"payment",slot:"payment",color:"green"},{label:"Tempo",value:"debt",slot:"debt",disable:!d.supplier,color:"red"}],flat:"",spread:"",class:"bg-grey-2"},null,8,["modelValue","options"])]),b.value==="payment"?(f(),h("div",Tp,[(f(!0),h(Y,null,tt(c,(x,L)=>(f(),h("div",{key:L,class:"row q-col-gutter-sm q-mb-sm"},[t("div",Pp,[e(a(de),{modelValue:x.id,"onUpdate:modelValue":ie=>x.id=ie,options:_.value,label:"Akun",outlined:!0,"emit-value":"","map-options":"",dense:"",disable:i.value,"hide-bottom-space":"",rules:[ie=>!!ie||"Akun harus dipilih"],error:!x.id,"error-message":"Akun tidak valid",class:"custom-select"},null,8,["modelValue","onUpdate:modelValue","options","disable","rules","error"])]),t("div",Op,[e(Re,{modelValue:x.amount,"onUpdate:modelValue":ie=>x.amount=ie,label:"Jumlah",outlined:!0,dense:"",disable:i.value,error:!I.value,"error-message":I.value?"":"Jumlah Tidak valid!","hide-bottom-space":"",ref_for:!0,ref:L===0?"firstPaymentInputRef":null},ze({_:2},[c.length>1?{name:"append",fn:l(()=>[e(S,{size:"xs",name:"close",class:"cursor-pointer",onClick:ie=>z(L)},null,8,["onClick"])]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","disable","error","error-message"])])]))),128)),t("div",Ip,[e(U,{disable:!(c.length<3&&V.value>0),flat:"",dense:"",icon:"add",label:"Tambah Pembayaran",onClick:A,size:"sm"},null,8,["disable"])]),t("div",Rp,[V.value>0?(f(),h("div",Dp," Sisa Tagihan: Rp. "+r(a(H)(V.value)),1)):V.value<0?(f(),h("div",Up," Kembalian: Rp. "+r(a(H)(Math.abs(V.value))),1)):(f(),h("div",Ap," Tagihan Terbayar "))])])):b.value==="debt"&&d.supplier?(f(),h("div",Ep,[e(ha,{outlined:"",modelValue:g.value,"onUpdate:modelValue":B[1]||(B[1]=x=>g.value=x),label:"Tanggal Jatuh Tempo",hint:"Pilih tanggal jatuh tempo pembayaran utang",class:"q-mb-md","min-date":a(w),"max-date":a(R),rules:C.value},null,8,["modelValue","min-date","max-date","rules"]),t("div",jp," Total Utang: Rp. "+r(a(H)(d.total)),1)])):b.value==="debt"&&!d.supplier?(f(),h("div",Mp,B[6]||(B[6]=[t("div",{class:"text-center text-negative text-h6"}," Tidak dapat mencatat utang tanpa memilih pelanggan. ",-1)]))):k("",!0)]),_:1}),e(mt,{align:"center",class:"q-mb-sm"},{default:l(()=>[e(U,{flat:"",label:"Batal",color:"grey",onClick:B[2]||(B[2]=x=>N.$emit("update:modelValue",!1))}),e(U,{label:b.value==="debt"?"Catat Utang":"Bayar",color:"positive",onClick:D,disable:i.value||!$.value,loading:i.value},null,8,["label","disable","loading"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Np=Object.freeze(Object.defineProperty({__proto__:null,default:so},Symbol.toStringTag,{value:"Module"})),Bp={class:"row items-center no-wrap"},Fp={class:"col-auto"},zp={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ro={__name:"ProductBrowserDialog",props:{modelValue:{type:Boolean,required:!0},showCost:{type:Boolean,require:!1,default:!1}},emits:["update:modelValue","product-selected"],setup(d,{emit:n}){const m=d,o=n,s=q(null),i=q([]),b=q(!0),g=q(-1),u=Pe({search:"",status:"active",...De()}),c=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),v=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"cost",label:"Modal (Rp)",field:"cost",align:"right"},{name:"price",label:"Harga (Rp)",field:"price",align:"right"}],_=J(()=>m.showCost?v:v.filter(C=>C.name!=="cost"));we(()=>{p()});const p=()=>{m.modelValue!==!1&&V()},V=(C=null)=>{b.value=!0,g.value=-1,Ue({pagination:c,filter:u,props:C,rows:i,url:route("admin.product.data"),loading:b,tableRef:s})},I=()=>{p()},w=C=>{o("product-selected",C),setTimeout(()=>{o("update:modelValue",!1)},100)},R=C=>{const $=i.value.length;$!==0&&(C.key==="ArrowDown"?(C.preventDefault(),g.value=(g.value+1)%$):C.key==="ArrowUp"?(C.preventDefault(),g.value=(g.value-1+$)%$):C.key==="Enter"&&g.value!==-1&&(C.preventDefault(),w(i.value[g.value])))};return Ae(()=>m.modelValue,(C,$)=>{$===!0&&C===!1&&(u.search=""),C===!0&&V()}),(C,$)=>(f(),O(ct,{"model-value":d.modelValue,"onUpdate:modelValue":$[3]||($[3]=A=>C.$emit("update:modelValue",A)),maximized:C.$q.screen.lt.sm},{default:l(()=>[e(ce,{class:"column fit",tabindex:"0",onKeydown:R,ref:"cardRef"},{default:l(()=>[e(ae,{class:"q-py-sm"},{default:l(()=>[t("div",Bp,[$[4]||($[4]=t("div",{class:"col text-subtitle text-grey-8 text-bold"},"Cari Produk",-1)),t("div",Fp,[e(U,{flat:"",round:"",size:"sm",icon:"close",onClick:$[0]||($[0]=A=>C.$emit("update:modelValue",!1))})])])]),_:1}),e(ae,{class:xe(["q-py-sm",C.$q.screen.lt.sm?"q-px-xs":""])},{default:l(()=>[e(ne,{autofocus:"",outlined:"",dense:"",debounce:"300",modelValue:u.search,"onUpdate:modelValue":[$[1]||($[1]=A=>u.search=A),I],placeholder:"Cari produk berdasarkan nama atau barcode",clearable:""},{append:l(()=>[e(S,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["class"]),e(ae,{class:xe(["q-py-xs col",C.$q.screen.lt.sm?"q-px-xs":""])},{default:l(()=>[e(Te,{ref_key:"tableRef",ref:s,flat:"",class:"fit full-height-table",square:"",bordered:"",dense:"",color:"primary","row-key":"id",pagination:c.value,"onUpdate:pagination":$[2]||($[2]=A=>c.value=A),filter:u.search,loading:b.value,columns:_.value,rows:i.value,"rows-per-page-options":[10,25,50],onRequest:V,"binary-state-sort":"","no-data-label":"Tidak ada produk ditemukan","virtual-scroll":!0,"rows-per-page-label":null},{"no-data":l(({icon:A,message:z,filter:T})=>[t("div",zp,[t("span",null,r(z),1)])]),body:l(A=>[e(qe,{tabindex:"0",props:A,class:xe([{inactive:!A.row.active,"selected-row":g.value===A.rowIndex},"cursor-pointer"]),onClick:z=>w(A.row),onKeydown:[ta(W(z=>w(A.row),["prevent","stop"]),["enter"]),ta(W(z=>w(A.row),["prevent"]),["space"])]},{default:l(()=>[e(K,{key:"name",props:A,class:"wrap-column"},{default:l(()=>[e(_e,{text:A.row.name},null,8,["text"]),A.row.description?(f(),O(_e,{key:0,text:A.row.description,"max-length":50,class:"text-grey-6"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(K,{key:"stock",props:A,class:"wrap-column text-right"},{default:l(()=>[y(r(A.row.type=="stocked"?a(H)(A.row.stock)+" "+A.row.uom:"-"),1)]),_:2},1032,["props"]),d.showCost?(f(),O(K,{key:"cost",props:A,class:"wrap-column text-right"},{default:l(()=>[y(r(a(H)(A.row.cost)),1)]),_:2},1032,["props"])):k("",!0),e(K,{key:"price",props:A,class:"wrap-column text-right"},{default:l(()=>[y(r(a(H)(A.row.price)),1)]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick","onKeydown"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1},8,["class"])]),_:1},512)]),_:1},8,["model-value","maximized"]))}},Lp={class:"row items-center no-wrap"},Hp={class:"col-auto"},io={__name:"ItemEditorDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,required:!1},isProcessing:{type:Boolean,required:!1}},emits:["update:modelValue","save"],setup(d,{expose:n,emit:m}){const o=d,s=m,i=()=>{s("save")},b=J(()=>o.item.quantity*o.item.cost),g=v=>{v.stopPropagation(),v.preventDefault()},u=v=>{o.modelValue&&(v.key==="Enter"?(i(),g(v)):v.key==="Escape"&&(s("update:modelValue",!1),g(v)))};return we(()=>{window.addEventListener("keydown",u)}),Dt(()=>{window.removeEventListener("keydown",u)}),n({getCurrentItem:()=>o.item}),(v,_)=>(f(),O(ct,{"model-value":d.modelValue,"onUpdate:modelValue":_[6]||(_[6]=p=>v.$emit("update:modelValue",p))},{default:l(()=>[e(ce,null,{default:l(()=>[e(ae,{class:"q-py-sm"},{default:l(()=>[t("div",Lp,[_[7]||(_[7]=t("div",{class:"col text-subtite text-bold text-grey-8"},"Edit Item",-1)),t("div",Hp,[e(U,{flat:"",size:"sm",round:"",icon:"close",onClick:_[0]||(_[0]=p=>v.$emit("update:modelValue",!1))})])])]),_:1}),e(ae,{class:"q-py-sm"},{default:l(()=>[e(ne,{modelValue:d.item.product_name,"onUpdate:modelValue":_[1]||(_[1]=p=>d.item.product_name=p),label:"Produk","hide-bottom-space":"",readonly:"",disable:d.isProcessing},null,8,["modelValue","disable"]),e(Re,{modelValue:d.item.quantity,"onUpdate:modelValue":_[2]||(_[2]=p=>d.item.quantity=p),label:"Kwantitas","hide-bottom-space":"",autofocus:"",disable:d.isProcessing},null,8,["modelValue","disable"]),e(Re,{modelValue:d.item.cost,"onUpdate:modelValue":_[3]||(_[3]=p=>d.item.cost=p),label:"Harga","hide-bottom-space":"",disable:d.isProcessing},null,8,["modelValue","disable"]),e(Re,{modelValue:b.value,"onUpdate:modelValue":_[4]||(_[4]=p=>b.value=p),label:"Subtotal","hide-bottom-space":"",readonly:""},null,8,["modelValue"]),e(ne,{modelValue:d.item.notes,"onUpdate:modelValue":_[5]||(_[5]=p=>d.item.notes=p),label:"Catatan",autogrow:"",type:"textarea",counter:"",maxlength:"50","hide-bottom-space":"",clearable:""},null,8,["modelValue"])]),_:1}),e(mt,{align:"right"},{default:l(()=>[Z(e(U,{flat:"",label:"Batal",color:"primary",disable:d.isProcessing},null,8,["disable"]),[[ue]]),Z(e(U,{flat:"",label:"Simpan",color:"primary",onClick:i,disable:d.isProcessing},null,8,["disable"]),[[ue]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Kp=Object.freeze(Object.defineProperty({__proto__:null,default:io},Symbol.toStringTag,{value:"Module"}));function Yp(){const d=q(new Date);let n=null;const m=()=>{d.value=new Date};return we(()=>{n=setInterval(m,1e3)}),Dt(()=>{n&&clearInterval(n)}),{currentDateTime:d}}const Qp={class:"text-grey-8"},uo={__name:"DigitalClock",setup(d){const{currentDateTime:n}=Yp();return(m,o)=>(f(),h("div",Qp,r(a(be)(a(n))),1))}},Wp={key:0,class:"q-select__selected-item"},Jp={__name:"SupplierAutocomplete",props:{modelValue:{type:[Object],default:null},class:{type:String,default:""},label:{type:String,default:"Cari Pelanggan"},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},disable:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},minLength:{type:Number,default:0},initialData:{type:Object,default:null,required:!1}},emits:["update:modelValue","supplierSelected"],setup(d,{expose:n,emit:m}){const o=q(null),s=d,i=m,b=q([]);let g=null;const u=q(s.modelValue);we(()=>{s.initialData&&(u.value=s.initialData)}),Ae(u,_=>{i("update:modelValue",_),i("supplierSelected",_)}),Ae(()=>s.modelValue,_=>{u.value=_}),n({focus:()=>{o.value&&o.value.focus()}});const v=(_,p)=>{if(_.length<s.minLength){p(()=>{b.value=[]});return}g&&clearTimeout(g),g=setTimeout(()=>{Ye.get(`/web-api/suppliers?q=${_}`).then(V=>{p(()=>{b.value=V.data.data})}).catch(V=>{console.error("Gagal mengambil data pemasok:",V),p(()=>{b.value=[]})})},500)};return(_,p)=>(f(),O(de,{class:xe(d.class),ref_key:"qSelectRef",ref:o,modelValue:u.value,"onUpdate:modelValue":p[0]||(p[0]=V=>u.value=V),"use-input":"","input-debounce":"0",label:d.label,options:b.value,onFilter:v,clearable:"",error:d.error,behavior:"menu","error-message":d.errorMessage,disable:d.disable,"hide-bottom-space":"",outlined:d.outlined,style:{"min-width":"150px !important"},"option-value":"id","option-label":"name"},{option:l(V=>[e(le,Ol(Il(V.itemProps)),{default:l(()=>[e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>[y(r(V.opt.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),"selected-item":l(V=>[V.opt?(f(),h("div",Wp,r(V.opt.name),1)):k("",!0)]),_:1},8,["class","modelValue","label","options","error","error-message","disable","outlined"]))}},Gp={__name:"HelpDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(d,{emit:n}){return(m,o)=>(f(),O(ct,{"model-value":d.modelValue,"onUpdate:modelValue":o[0]||(o[0]=s=>m.$emit("update:modelValue",s))},{default:l(()=>[e(ce,{style:{"min-width":"300px"}},{default:l(()=>[e(ae,{class:"q-py-none q-pt-md"},{default:l(()=>o[1]||(o[1]=[t("div",{class:"text-bold text-grey-8"},"Bantuan",-1)])),_:1}),e(ae,null,{default:l(()=>o[2]||(o[2]=[t("table",{style:{width:"100%"},class:"info-table"},[t("thead",null,[t("tr",null,[t("th",null,"Shortcut"),t("th",null,"Aksi")])]),t("tbody",null,[t("tr",null,[t("td",null,"F1"),t("td",null,"Dialog Bantuan")]),t("tr",null,[t("td",null,"F2"),t("td",null,"Aktifkan Input Barcode")]),t("tr",null,[t("td",null,"F3"),t("td",null,"Pilih Pelanggan")]),t("tr",null,[t("td",null,"F4"),t("td",null,"Gabung / pisahkan item saat input")])])],-1)])),_:1}),e(mt,{align:"center"},{default:l(()=>[Z(e(U,{dense:"",label:"Tutup"},null,512),[[ue]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},mo=_t(Gp,[["__scopeId","data-v-459ccab7"]]),Xp=Object.freeze(Object.defineProperty({__proto__:null,default:mo},Symbol.toStringTag,{value:"Module"}));function co(d){const n=q(!1),m=()=>{const i=d.value||document.documentElement;i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.msRequestFullscreen&&i.msRequestFullscreen()},o=()=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},s=()=>{n.value?o():m()};return kn(()=>{const i=()=>{n.value=!!document.fullscreenElement};return document.addEventListener("fullscreenchange",i),document.addEventListener("webkitfullscreenchange",i),document.addEventListener("mozfullscreenchange",i),document.addEventListener("MSFullscreenChange",i),()=>{document.removeEventListener("fullscreenchange",i),document.removeEventListener("webkitfullscreenchange",i),document.removeEventListener("mozfullscreenchange",i),document.removeEventListener("MSFullscreenChange",i)}}),{isFullscreen:n,requestFullscreen:m,exitFullscreen:o,toggleFullscreen:s}}const Zp={class:"row items-center no-wrap"},ef={class:"col text-subtite text-bold text-grey-8"},tf={class:"col-auto"},po={__name:"OrderInfoDialog",props:{modelValue:{type:Boolean,required:!0},data:{type:Object,required:!1},isProcessing:{type:Boolean,required:!1}},emits:["update:modelValue","save"],setup(d,{expose:n,emit:m}){const o=d,s=m,i=()=>{s("save")},b=c=>{c.stopPropagation(),c.preventDefault()},g=c=>{o.modelValue&&(c.key==="Enter"?(i(),b(c)):c.key==="Escape"&&(s("update:modelValue",!1),b(c)))};return we(()=>{window.addEventListener("keydown",g)}),Dt(()=>{window.removeEventListener("keydown",g)}),n({getCurrentItem:()=>o.item}),(c,v)=>(f(),O(ct,{"model-value":d.modelValue,"onUpdate:modelValue":v[4]||(v[4]=_=>c.$emit("update:modelValue",_))},{default:l(()=>[e(ce,null,{default:l(()=>[e(ae,{class:"q-py-sm"},{default:l(()=>[t("div",Zp,[t("div",ef," Edit "+r(d.data.formatted_id),1),t("div",tf,[e(U,{flat:"",size:"sm",round:"",icon:"close",onClick:v[0]||(v[0]=_=>c.$emit("update:modelValue",!1))})])])]),_:1}),e(ae,{class:"q-py-sm"},{default:l(()=>[e(Nt,{modelValue:d.data.datetime,"onUpdate:modelValue":v[1]||(v[1]=_=>d.data.datetime=_),label:"Waktu","hide-bottom-space":"",disable:d.isProcessing,autofocus:""},null,8,["modelValue","disable"]),e(ne,{modelValue:c.$CONSTANTS.SALES_ORDER_STATUSES[d.data.status],"onUpdate:modelValue":v[2]||(v[2]=_=>c.$CONSTANTS.SALES_ORDER_STATUSES[d.data.status]=_),label:"Status","hide-bottom-space":"",readonly:"",disable:d.isProcessing},null,8,["modelValue","disable"]),e(ne,{modelValue:d.data.notes,"onUpdate:modelValue":v[3]||(v[3]=_=>d.data.notes=_),label:"Catatan",autogrow:"",type:"textarea",counter:"",maxlength:"50","hide-bottom-space":"",clearable:""},null,8,["modelValue"])]),_:1}),e(mt,{align:"right"},{default:l(()=>[Z(e(U,{flat:"",label:"Batal",color:"primary",disable:d.isProcessing},null,8,["disable"]),[[ue]]),Z(e(U,{flat:"",label:"Simpan",color:"primary",onClick:i,disable:d.isProcessing},null,8,["disable"]),[[ue]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},af=Object.freeze(Object.defineProperty({__proto__:null,default:po},Symbol.toStringTag,{value:"Module"})),lf={key:0},of={style:{float:"right"}},nf={key:1},sf={style:{float:"right"}},rf={key:2},df={style:{float:"right"}},uf={key:3},mf={style:{float:"right"}},cf={style:{float:"right"}},pf={class:"q-gutter-sm"},ff={class:"q-my-md"},gf={__name:"SuccessDialog",props:{modelValue:{type:Boolean,required:!0},order:{type:Object,required:!0},total:{type:Number,required:!0},customer:{type:[Object],required:!1},payment:{type:[Object],required:!1}},emits:["update:modelValue"],setup(d,{emit:n}){const m=q(null),o=()=>{var s;(s=m.value)==null||s.focus()};return(s,i)=>(f(),O(ct,{"model-value":d.modelValue,"onUpdate:modelValue":i[0]||(i[0]=b=>s.$emit("update:modelValue",b)),onBeforeShow:o,persistent:""},{default:l(()=>[e(ce,{style:{"min-width":"300px"}},{default:l(()=>[e(ae,{class:"q-py-none q-pt-md"},{default:l(()=>i[1]||(i[1]=[t("div",{class:"text-bold text-grey-8 text-h6",align:"center"},"Sukses",-1)])),_:1}),e(ae,{align:"center"},{default:l(()=>[i[22]||(i[22]=t("div",{class:"q-mb-md"},"Transaksi Berhasil",-1)),t("table",null,[t("tbody",null,[t("tr",null,[i[2]||(i[2]=t("td",null,"ID",-1)),i[3]||(i[3]=t("td",null,":",-1)),t("td",null,r(d.order.formatted_id),1)]),d.customer?(f(),h("tr",lf,[i[5]||(i[5]=t("td",{style:{"vertical-align":"top"}},"Pelanggan",-1)),i[6]||(i[6]=t("td",{style:{"vertical-align":"top"}},":",-1)),t("td",null,[y(r(d.customer.name)+" ",1),i[4]||(i[4]=t("br",null,null,-1)),y(r(d.customer.username),1)])])):k("",!0),t("tr",null,[i[8]||(i[8]=t("td",null,"Total",-1)),i[9]||(i[9]=t("td",null,":",-1)),t("td",null,[i[7]||(i[7]=y(" Rp. ")),t("div",of,r(a(H)(d.payment.total)),1)])]),d.payment.cash_amount?(f(),h("tr",nf,[i[11]||(i[11]=t("td",null,"Tunai",-1)),i[12]||(i[12]=t("td",null,":",-1)),t("td",null,[i[10]||(i[10]=y(" Rp. ")),t("div",sf,r(a(H)(d.payment.cash_amount)),1)])])):k("",!0),d.payment.wallet_amount?(f(),h("tr",rf,[i[14]||(i[14]=t("td",null,"Wallet",-1)),i[15]||(i[15]=t("td",null,":",-1)),t("td",null,[i[13]||(i[13]=y(" Rp. ")),t("div",df,r(a(H)(d.payment.wallet_amount)),1)])])):k("",!0),d.payment.remaining_debt?(f(),h("tr",uf,[i[17]||(i[17]=t("td",null,"Piutang",-1)),i[18]||(i[18]=t("td",null,":",-1)),t("td",null,[i[16]||(i[16]=y(" Rp. ")),t("span",mf,r(a(H)(d.payment.remaining_debt)),1)])])):k("",!0),t("tr",null,[i[20]||(i[20]=t("td",null,"Kembalian",-1)),i[21]||(i[21]=t("td",null,":",-1)),t("td",null,[i[19]||(i[19]=y(" Rp. ")),t("div",cf,r(a(H)(d.payment.change)),1)])])])])]),_:1}),e(mt,{align:"center"},{default:l(()=>[t("div",pf,[e(U,{autofocus:"",label:"Cetak Struk",icon:"print",ref_key:"printButtonRef",ref:m,color:"green"},null,512),e(U,{label:"Transaksi Baru",icon:"edit",color:"primary"})]),t("div",ff,[e(U,{label:"Kembali ke daftar transaksi",icon:"arrow_back"})])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},fo=_t(gf,[["__scopeId","data-v-b5ae5487"]]),bf=Object.freeze(Object.defineProperty({__proto__:null,default:fo},Symbol.toStringTag,{value:"Module"})),vf={class:"q-gutter-sm"},yf={class:"row items-center"},_f={class:"text-weight-bold"},kf={class:"row q-col-gutter-none full-width"},wf={class:"col-sm-6 col-12 col"},hf={class:"row full-width"},$f={class:"text-grey q-mt-xs q-ml-sm"},xf={class:"col-sm-6 col-12"},Sf={class:"row q-ml-sm items-end"},Vf={class:"row col grow"},qf={class:"col-12 q-pa-sm column"},Cf={class:"row items-start q-col-gutter-none q-px-sm",style:{"max-height":"80px"}},Tf={key:0,class:"col"},Pf={class:"text-caption text-grey-6 q-mt-xs"},Of={key:0,class:"text-caption text-grey-8 q-mt-xs"},If={class:"text-italic"},Rf={key:1,class:"col"},Df={class:"q-pa-sm q-pb-none text-grey-8"},Uf={class:"col"},Af={class:"row no-wrap items-start justify-between",style:{background:"#eee",padding:"10px",border:"1px solid #ddd"}},Ef={class:"text-h4 text-weight-bold"},jf={class:"row q-px-sm q-pb-none q-py-sm q-col-gutter-sm"},Mf={class:"col q-py-sm"},Nf={class:"q-py-sm"},Bf={__name:"Editor",setup(d){const n=he(),m=fe(),o=q(!0),s=q(null),i=q(null),b=q(null),g=q(!1),u=q(null),c=q(null),{isFullscreen:v,toggleFullscreen:_}=co(c),p=m.props.data.formatted_id,V=q(m.props.data.supplier),I=q(null),w=q(""),R=q(!1),C=q(!1),$=q(!1),A=q(!1),z=q(!1),T=q(!1),D=q(null),M=Pe({id:m.props.data.id,formatted_id:m.props.data.formatted_id,supplier_id:m.props.data.supplier_id,datetime:new Date(m.props.data.datetime),status:m.props.data.status,payment_status:m.props.data.payment_status,delivery_status:m.props.data.delivery_status,notes:m.props.data.notes,items:m.props.data.details??[]}),N=J(()=>M.items.reduce((ee,P)=>ee+P.cost*P.quantity,0)),B=()=>{var ee;_(),v.value||(ee=u==null?void 0:u.value)==null||ee.hideDrawer()},x=ee=>isNaN(ee)||ee<=0?(bt("Kuantitas tidak valid.","top"),!1):!0,L=ee=>isNaN(ee)||ee<0?(bt("Harga tidak valid.","top"),!1):!0,ie=ee=>!ee||ee.length==0?(bt("Barcode tidak valid.","top"),!1):!0,j=ee=>{w.value.endsWith("*")?w.value+=ee.name:w.value=ee.name},E=async()=>{const ee=w.value.trim();if(ee.length===0){$.value=!0;return}const P=ee.split("*");let me=1,pe="",te=null;if(P.length===1)pe=P[0];else if(P.length<=3)me=parseInt(P[0]),pe=P[1],P.length===3&&(te=parseFloat(P[2]));else{bt("Input tidak valid.","top");return}if(pe.length===0){$.value=!0;return}!ie(pe)&&!x(me)&&!L(te)||(R.value=!0,await Ye.post(route("admin.purchase-order.add-item"),{order_id:M.id,product_code:pe,qty:me,cost:te,merge:o.value}).then(Oe=>{const et=Oe.data.data.item;let lt=-1;Oe.data.data.mergeItem&&(lt=M.items.findIndex(Bt=>Bt.id===et.id)),lt===-1?M.items.push(et):M.items[lt]=et,w.value="",te!==null&&te!==parseFloat(et.cost)&&bt("Harga tidak dapat diubah!","top")}).catch(Oe=>{var et,lt;vt((lt=(et=Oe.response)==null?void 0:et.data)==null?void 0:lt.message,"top"),console.error("Gagal mengambil data produk:",Oe)}),R.value=!1,wt(()=>{var Oe;(Oe=s.value)==null||Oe.focus()}))},G=ee=>{D.value=Object.create(ee),A.value=!0},ke=ee=>{n.dialog({title:"Hapus Item",message:`Apakah Anda yakin akan menghapus item ${ee.product_name}?`,cancel:{label:"Batal",color:"grey"},ok:{label:"Hapus",color:"negative"},persistent:!0}).onOk(()=>{R.value=!0,Ye.post(route("admin.purchase-order.remove-item"),{id:ee.id}).then(()=>{const P=M.items.findIndex(me=>me.id===ee.id);P!==-1&&(M.items.splice(P,1)[0],yt("Item telah dihapus","top"))}).catch(P=>{var me,pe;vt(((pe=(me=P==null?void 0:P.response)==null?void 0:me.data)==null?void 0:pe.message)??"Terdapat kesalahan saat menghapus item!","top"),console.error(P)}).finally(()=>{R.value=!1})})},oe=()=>{R.value=!0;const ee=i.value.getCurrentItem(),P={id:ee.id,qty:ee.quantity,cost:ee.cost};ee.notes&&(P.notes=ee.notes),Ye.post(route("admin.purchase-order.update-item"),P).then(me=>{const pe=me.data.data,te=M.items.findIndex(Oe=>Oe.id===pe.id);te!==-1&&(M.items[te]=pe,yt("Item telah diperbarui","top"))}).catch(me=>{var pe,te;vt(((te=(pe=me==null?void 0:me.response)==null?void 0:pe.data)==null?void 0:te.message)??"Terdapat kesalahan saat menyimpan!","top"),console.error(me)}).finally(()=>{R.value=!1})};we(()=>{const ee=P=>{P.key==="F1"?(P.preventDefault(),g.value=!0):P.key==="F2"?(P.preventDefault(),s.value.focus()):P.key==="F3"?(P.preventDefault(),b.value.focus()):P.key==="F4"?(P.preventDefault(),o.value=!o.value):P.key==="F10"?(P.preventDefault(),C.value=!0):P.key==="F11"&&(P.preventDefault(),B())};document.addEventListener("keydown",ee),Dt(()=>{document.removeEventListener("keydown",ee)}),wt(()=>{var P;(P=u==null?void 0:u.value)==null||P.hideDrawer()})});const Ve=ee=>{V.value=ee,M.supplier_id=ee==null?void 0:ee.id,Ne(),wt(()=>{var P;(P=s.value)==null||P.focus()})},Ne=()=>{R.value=!0;const ee={id:M.id,supplier_id:M.supplier_id,datetime:Zt(M.datetime),notes:M.notes};Ye.post(route("admin.purchase-order.update"),ee).then(P=>{const me=P.data.data.id;M.supplier_id=me.supplier_id}).catch(P=>{var me,pe;vt(((pe=(me=P==null?void 0:P.response)==null?void 0:me.data)==null?void 0:pe.message)??"Terdapat kesalahan saat menyimpan!","top"),console.error(P)}).finally(()=>{R.value=!1})},ft=ee=>{if(M.items.length===0){yt("Item masih kosong","top");return}const P={id:M.id,...ee};R.value=!0,Ye.post(route("admin.purchase-order.close"),P).then(me=>{yt("Transaksi selesai"),X.visit(route("admin.purchase-order.detail",{id:M.id}))}).catch(me=>{var pe,te;vt((te=(pe=me.response)==null?void 0:pe.data)==null?void 0:te.message),console.error(me)}).finally(()=>{R.value=!1})},pt=()=>{Wt.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${M.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{Ye.post(route("admin.purchase-order.cancel",{id:M.id}),{id:M.id}).then(()=>{yt("Transaksi telah dibatalkan."),X.visit(route("admin.purchase-order.detail",{id:M.id}))}).catch(ee=>{var me,pe;const P=((pe=(me=ee.response)==null?void 0:me.data)==null?void 0:pe.message)||"Terjadi kesalahan saat membatalkan transaksi.";n.notify({message:P,color:"warning",position:"bottom"}),console.error(ee)})})},gt=()=>{window.open(route("admin.purchase-order.detail",{id:M.id})+"?preview=1","_blank")};return(ee,P)=>{const me=Q("i-head"),pe=Q("authenticated-layout");return f(),h(Y,null,[e(me,{title:a(p)},null,8,["title"]),e(pe,{ref_key:"authLayoutRef",ref:u,"show-drawer-button":!0},{title:l(()=>[y(r(a(p)),1)]),"left-button":l(()=>[t("div",vf,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:P[0]||(P[0]=te=>a(X).get(ee.route("admin.purchase-order.index")))})])]),"right-button":l(()=>[t("div",yf,[a(n).screen.gt.sm?(f(),h(Y,{key:0},[t("div",_f,r(a(m).props.auth.user.username),1),P[22]||(P[22]=t("div",{class:"q-mx-sm"},"|",-1)),t("div",null,[e(uo)])],64)):k("",!0),k("",!0)])]),default:l(()=>[e(Se,{class:"bg-grey-2 q-pa-none column fit"},{default:l(()=>[e(ce,{square:"",flat:"",class:"full-width col column q-pb-none"},{default:l(()=>[t("div",kf,[t("div",wf,[t("div",hf,[e(Jp,{ref_key:"supplierAutocompleteRef",ref:b,class:"custom-select full-width col col-12 bg-white q-pa-sm",modelValue:V.value,"onUpdate:modelValue":P[2]||(P[2]=te=>V.value=te),label:"Pemasok",disable:R.value,onSupplierSelected:Ve,"min-length":1,outlined:"",autofocus:""},null,8,["modelValue","disable"]),t("div",$f," Saldo: "+r(V.value?"Rp. "+a(H)(V.value?V.value.balance:0):"Tidak tersedia"),1)])]),t("div",xf,[e(ne,{ref_key:"userInputRef",ref:s,modelValue:w.value,"onUpdate:modelValue":P[5]||(P[5]=te=>w.value=te),onKeyup:P[6]||(P[6]=ta(W(te=>E(),["prevent"]),["enter"])),loading:R.value,disable:R.value,placeholder:"Qty * Kode / Barcode * Harga",class:"col col-12 q-pa-sm bg-white",outlined:"",clearable:""},{prepend:l(()=>[e(S,{name:"search",onClick:P[3]||(P[3]=te=>$.value=!0),class:"cursor-pointer"})]),append:l(()=>{var te;return[((te=w.value)==null?void 0:te.length)>0?(f(),O(S,{key:0,name:"send",onClick:P[4]||(P[4]=Oe=>E()),class:"cursor-pointer q-ml-md"})):k("",!0)]}),_:1},8,["modelValue","loading","disable"]),t("div",Sf,[e(Vt,{class:"col",modelValue:o.value,"onUpdate:modelValue":P[7]||(P[7]=te=>o.value=te),label:"Gabungkan item",disable:R.value},null,8,["modelValue","disable"])])])]),t("div",Vf,[t("div",qf,[e(oo,{items:M.items,onUpdateQuantity:P[8]||(P[8]=({id:te,value:Oe})=>ee.updateQuantity(te,Oe)),onRemoveItem:ke,onEditItem:G,"is-processing":R.value},null,8,["items","is-processing"])])]),t("div",Cf,[a(n).screen.gt.sm?(f(),h("div",Tf,[t("div",Pf,r(M.items.length)+" item(s) ",1),M.notes?(f(),h("div",Of,[P[23]||(P[23]=t("div",{class:"text-bold"},"Catatan:",-1)),t("div",If,[e(_e,{text:M.notes},null,8,["text"])])])):k("",!0)])):k("",!0),a(n).screen.gt.sm?(f(),h("div",Rf,[t("div",Df,[t("div",null,"#: "+r(M.formatted_id),1),t("div",null,r(a(be)(M.datetime)),1)])])):k("",!0),t("div",Uf,[t("div",Af,[P[25]||(P[25]=t("span",{class:"text-grey-8 text-subtitle-2 text-bold"},"TOTAL",-1)),t("span",Ef,[P[24]||(P[24]=t("sup",{style:{"font-size":"13px"}},"Rp.",-1)),y(" "+r(a(H)(N.value)),1)])])])]),t("div",jf,[t("div",Mf,[e(U,{class:"full-width q-py-none",label:"Bayar",color:"primary",icon:"payment",onClick:P[9]||(P[9]=te=>C.value=!0),disable:!ee.$can("admin.purchase-order.close")||R.value||M.items.length===0||M.status!=="draft",loading:R.value},null,8,["disable","loading"])]),t("div",Nf,[e(U,{class:"q-py-none",icon:"more_vert",color:"grey",onClick:P[13]||(P[13]=W(()=>{},["stop"])),style:{width:"10px"}},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[Z((f(),O(le,{clickable:"",onClick:P[10]||(P[10]=W(te=>z.value=!0,["stop"]))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"edit"})]),_:1}),e(F,null,{default:l(()=>P[26]||(P[26]=[y("Edit Rincian")])),_:1})]),_:1})),[[se],[ue]]),Z((f(),O(le,{clickable:"",onClick:P[11]||(P[11]=W(te=>gt(),["stop"]))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"preview"})]),_:1}),e(F,null,{default:l(()=>P[27]||(P[27]=[y("Pratinjau")])),_:1})]),_:1})),[[se],[ue]]),Z((f(),O(le,{clickable:"",onClick:P[12]||(P[12]=W(te=>pt(),["stop"]))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"cancel",color:"negative"})]),_:1}),e(F,{class:"text-negative"},{default:l(()=>P[28]||(P[28]=[y(" Batalkan ")])),_:1})]),_:1})),[[se],[ue]]),e(Je)]),_:1})]),_:1})]),_:1})])])]),_:1}),e(io,{ref_key:"itemEditorRef",ref:i,modelValue:A.value,"onUpdate:modelValue":P[14]||(P[14]=te=>A.value=te),item:D.value,onSave:P[15]||(P[15]=te=>oe()),"is-processing":R.value},null,8,["modelValue","item","is-processing"]),e(so,{modelValue:C.value,"onUpdate:modelValue":P[16]||(P[16]=te=>C.value=te),onAccepted:ft,form:M,supplier:V.value,total:N.value,accounts:a(m).props.accounts},null,8,["modelValue","form","supplier","total","accounts"]),e(ro,{modelValue:$.value,"onUpdate:modelValue":P[17]||(P[17]=te=>$.value=te),"show-cost":!0,onProductSelected:j},null,8,["modelValue"]),e(po,{modelValue:z.value,"onUpdate:modelValue":P[18]||(P[18]=te=>z.value=te),data:M,onSave:P[19]||(P[19]=te=>Ne()),"is-processing":R.value},null,8,["modelValue","data","is-processing"]),e(mo,{modelValue:g.value,"onUpdate:modelValue":P[20]||(P[20]=te=>g.value=te)},null,8,["modelValue"]),e(fo,{modelValue:T.value,"onUpdate:modelValue":P[21]||(P[21]=te=>T.value=te),order:M,supplier:V.value,total:N.value,payment:I.value},null,8,["modelValue","order","supplier","total","payment"])]),_:1})]),_:1},512)],64)}}},Ff=Object.freeze(Object.defineProperty({__proto__:null,default:Bf},Symbol.toStringTag,{value:"Module"})),zf={__name:"PurchaseOrderStatusChip",props:{status:{type:String,required:!0}},setup(d){const n=window.CONSTANTS.PURCHASE_ORDER_STATUSES,m={draft:"orange",closed:"green",canceled:"red"};return(o,s)=>(f(),O(ia,{status:d.status,statuses:a(n),colors:m},null,8,["status","statuses"]))}},Lf={__name:"PurchaseOrderPaymentStatusChip",props:{status:{type:String,required:!0}},setup(d){const n=window.CONSTANTS.PURCHASE_ORDER_PAYMENT_STATUSES,m={unpaid:"red",fully_paid:"green",partially_paid:"orange",refunded:"black"};return(o,s)=>(f(),O(ia,{status:d.status,statuses:a(n),colors:m},null,8,["status","statuses"]))}};const Hf={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Kf={class:"q-pa-xs"},Yf={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Qf={key:0},Wf={key:1},Jf={key:0},Gf={key:0},Xf={key:1},Zf={class:"flex justify-end"},ul="Pembelian",eg={__name:"Index",setup(d){const n=he(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),g=We(b),u=Kt(),c=Yt(),v=[{label:"Semua Tahun",value:"all"},{label:`${u}`,value:u},...It(u-2,u-1).reverse()],_=[{value:"all",label:"Semua Bulan"},...Rt()],p=[{value:"all",label:"Semua Status"},...Ge(window.CONSTANTS.PURCHASE_ORDER_STATUSES)],V=[{value:"all",label:"Semua Status"},...Ge(window.CONSTANTS.PURCHASE_ORDER_PAYMENT_STATUSES)],I=[{value:"all",label:"Semua Status"},...Ge(window.CONSTANTS.PURCHASE_ORDER_DELIVERY_STATUSES)],w=Pe({search:"",year:u,month:c,status:"all",payment_status:"all",delivery_status:"all",...De()}),R=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),C=[{name:"id",label:"Info Order",field:"id",align:"left",sortable:!0},{name:"supplier_id",label:"Pemasok",field:"supplier_id",align:"left"},{name:"total",label:"Total",field:"total",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}];we(()=>{M()});const $=x=>{if(x.status=="draft"){A(x);return}z(x)},A=x=>{X.get(route("admin.purchase-order.edit",x.id))},z=x=>{X.get(route("admin.purchase-order.detail",x.id))},T=x=>{Wt.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${x.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{Ye.post(route("admin.purchase-order.cancel",{id:x.id}),{id:x.id}).then(L=>{const ie=L.data.data,j=o.value.findIndex(E=>E.id===ie.id);if(j===-1){console.warn("Item tidak ditemukan di tabel.");return}o.value[j].status="canceled",n.notify({message:L.data.message,position:"bottom"})}).catch(L=>{var j,E;const ie=((E=(j=L.response)==null?void 0:j.data)==null?void 0:E.message)||"Terjadi kesalahan saat membatalkan transaksi.";n.notify({message:ie,color:"warning",position:"bottom"}),console.error(L)})})},D=x=>at({title:"Konfirmasi Penghapusan",message:`Hapus transaksi #${x.formatted_id}?`,url:route("admin.purchase-order.delete",x.id),fetchItemsCallback:M,loading:s}),M=(x=null)=>{Ue({pagination:R,filter:w,props:x,rows:o,url:route("admin.purchase-order.data"),loading:s,tableRef:i})},N=()=>{M()},B=J(()=>n.screen.gt.sm?C:C.filter(x=>x.name==="id"||x.name==="action"));return Ae(()=>w.year,x=>{x===null&&(w.month=null)}),(x,L)=>{const ie=Q("i-head"),j=Q("authenticated-layout");return f(),h(Y,null,[e(ie,{title:ul}),e(j,null,ze({title:l(()=>[y(r(ul))]),"right-button":l(()=>[e(U,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:L[0]||(L[0]=E=>m.value=!m.value)},null,8,["icon"]),x.$can("admin.purchase-order.edit")?(f(),O(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:L[1]||(L[1]=E=>a(X).get(x.route("admin.purchase-order.add")))})):k("",!0)]),default:l(()=>[t("div",Kf,[e(Te,{ref_key:"tableRef",ref:i,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:R.value,"onUpdate:pagination":L[11]||(L[11]=E=>R.value=E),filter:w.search,loading:s.value,columns:B.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Me({height:a(g)}),onRequest:M,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:E,message:G,filter:ke})=>[t("div",Yf,[t("span",null,r(G)+" "+r(ke?" with term "+ke:""),1)])]),body:l(E=>[e(qe,{props:E,class:"cursor-pointer",onClick:W(G=>$(E.row),["prevent"])},{default:l(()=>[e(K,{key:"id",props:E,class:"wrap-column"},{default:l(()=>[t("div",null,[e(S,{name:"tag"}),y(" "+r(E.row.formatted_id),1)]),t("div",null,[e(S,{class:"inline-icon",name:"calendar_today"}),y(r(a(be)(E.row.datetime)),1)]),a(n).screen.gt.sm?k("",!0):(f(),h(Y,{key:0},[E.row.supplier?(f(),h("div",Qf,[e(S,{name:"person",class:"inline-icon"}),e(Rl,{href:x.route("admin.supplier.detail",{id:E.row.supplier.id}),onClick:L[8]||(L[8]=W(()=>{},["stop"]))},{default:l(()=>[y(" "+r(E.row.supplier.name),1)]),_:2},1032,["href"])])):k("",!0),t("div",null,"Rp. "+r(a(H)(E.row.grand_total)),1),E.row.notes?(f(),h("div",Wf,[e(S,{name:"notes"}),y(" "+r(E.row.notes),1)])):k("",!0)],64)),t("div",null,[e(zf,{status:E.row.status},null,8,["status"]),e(Lf,{status:E.row.payment_status},null,8,["status"]),k("",!0)])]),_:2},1032,["props"]),e(K,{key:"supplier_id",props:E},{default:l(()=>[E.row.supplier?(f(),h("div",Jf,[t("div",null,[e(S,{name:"person",class:"inline-icon"}),y(" "+r(E.row.supplier_name),1)]),E.row.supplier_phone?(f(),h("div",Gf,[e(S,{name:"phone",class:"inline-icon"}),y(" "+r(E.row.supplier_phone),1)])):k("",!0),E.row.supplier_address?(f(),h("div",Xf,[e(S,{name:"home_pin",class:"inline-icon"}),y(" "+r(E.row.supplier_address),1)])):k("",!0)])):k("",!0)]),_:2},1032,["props"]),e(K,{key:"total",props:E},{default:l(()=>[y(r(a(H)(E.row.grand_total)),1)]),_:2},1032,["props"]),e(K,{key:"notes",props:E},{default:l(()=>[e(_e,{text:E.row.notes,icon:"notes"},null,8,["text"])]),_:2},1032,["props"]),e(K,{key:"action",props:E,onClick:L[10]||(L[10]=W(()=>{},["stop"]))},{default:l(()=>[t("div",Zf,[x.$can("admin.purchase-order.detail")||x.$can("admin.purchase-order.edit")||x.$can("admin.purchase-order.cancel")||x.$can("admin.purchase-order.delete")?(f(),O(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:L[9]||(L[9]=W(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[E.row.status!="draft"&&x.$can("admin.purchase-order.detail")?Z((f(),O(le,{key:0,onClick:W(G=>z(E.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"visibility"})]),_:1}),e(F,null,{default:l(()=>L[12]||(L[12]=[y(" Lihat ")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),E.row.status=="draft"&&x.$can("admin.purchase-order.edit")?Z((f(),O(le,{key:1,onClick:W(G=>A(E.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"edit"})]),_:1}),e(F,null,{default:l(()=>L[13]||(L[13]=[y(" Edit ")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),E.row.status=="draft"&&x.$can("admin.purchase-order.cancel")?Z((f(),O(le,{key:2,onClick:W(G=>T(E.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"cancel"})]),_:1}),e(F,null,{default:l(()=>L[14]||(L[14]=[y(" Batalkan ")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),e(Je),x.$can("admin.purchase-order.delete")?Z((f(),O(le,{key:3,onClick:W(G=>D(E.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"delete_forever"})]),_:1}),e(F,null,{default:l(()=>L[15]||(L[15]=[y(" Hapus ")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ze,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",Hf,[e(de,{modelValue:w.year,"onUpdate:modelValue":[L[2]||(L[2]=E=>w.year=E),N],options:v,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),w.year!="all"?(f(),O(de,{key:0,modelValue:w.month,"onUpdate:modelValue":[L[3]||(L[3]=E=>w.month=E),N],options:_,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:w.year===null},null,8,["modelValue","disable"])):k("",!0),e(de,{modelValue:w.status,"onUpdate:modelValue":[L[4]||(L[4]=E=>w.status=E),N],options:p,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(de,{modelValue:w.payment_status,"onUpdate:modelValue":[L[5]||(L[5]=E=>w.payment_status=E),N],options:V,label:"Status Pembayaran",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),k("",!0),e(ne,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:w.search,"onUpdate:modelValue":L[7]||(L[7]=E=>w.search=E),placeholder:"Cari",clearable:""},{append:l(()=>[e(S,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},tg=Object.freeze(Object.defineProperty({__proto__:null,default:eg},Symbol.toStringTag,{value:"Module"})),ag={class:"column"},lg={class:"bg-grey-2 q-pa-xs"},og={class:"text-subtitle1 text-bold text-grey-10"},ng={class:"text-caption text-grey-8"},sg={class:"col-12 col-sm-6"},rg={class:"full-width"},ig={key:1},dg={key:0},ug={key:1},mg={class:"col-12 col-sm-6",align:"left"},cg={class:"full-width"};const pg={key:1},fg={class:"full-width",style:{"border-collapse":"collapse"}},gg={class:"q-pa-sm",style:{"border-bottom":"1px solid #eee"}},bg={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},vg={class:"text-center q-pa-sm",style:{"border-bottom":"1px solid #eee"}},yg={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},_g={key:0},kg={class:"col-12 col-sm-6"},wg={class:"text-body2 text-grey-7 text-italic"},hg={class:"col-12 col-sm-6"},$g={class:"row justify-end q-gutter-y-xs"},xg={class:"col-12 row justify-between"},Sg={class:"text-subtitle2 text-bold"},go={__name:"InvoiceTab",props:{data:Object},setup(d){const n=d;return(m,o)=>{const s=Q("i-link");return f(),h("div",ag,[e(ae,{class:"q-pa-none"},{default:l(()=>[t("div",lg,[t("div",og," INVOICE #"+r(n.data.formatted_id),1),t("div",ng,[y(" Kasir: "+r(n.data.cashier.username)+" - "+r(n.data.cashier.name)+" | "+r(a(be)(n.data.datetime))+" ",1),n.data.cashier_session?(f(),h(Y,{key:0},[y(" | Session ID: "+r(n.data.cashier_session.id)+" | Terminal: "+r(n.data.cashier_session.cashier_terminal.name),1)],64)):k("",!0)])])]),_:1}),e(Je),e(ae,{class:"row q-col-gutter-sm q-pa-sm",align:"left"},{default:l(()=>[t("div",sg,[o[1]||(o[1]=t("div",{class:"text-subtitle2 text-bold text-grey-8"},"Info Pelanggan",-1)),t("table",rg,[t("tbody",null,[t("tr",null,[t("td",null,[n.data.customer?(f(),O(s,{key:0,href:m.route("admin.customer.detail",{id:n.data.customer_id})},{default:l(()=>[e(S,{class:"inline-icon",name:"person"}),y(" "+r(n.data.customer_name)+" ("+r(n.data.customer_username)+") ",1)]),_:1},8,["href"])):(f(),h("div",ig,[e(S,{class:"inline-icon",name:"person"}),o[0]||(o[0]=y(" Pelanggan Umum "))]))])]),n.data.customer_phone?(f(),h("tr",dg,[t("td",null,[e(S,{class:"inline-icon",name:"phone"}),y(" "+r(n.data.customer_phone),1)])])):k("",!0),n.data.customer_address?(f(),h("tr",ug,[t("td",null,[e(S,{class:"inline-icon",name:"home_pin"}),y(" "+r(n.data.customer_address),1)])])):k("",!0)])])]),t("div",mg,[o[12]||(o[12]=t("div",{class:"text-subtitle2 text-bold text-grey-8"},"Info Order",-1)),t("table",cg,[t("tbody",null,[t("tr",null,[o[2]||(o[2]=t("td",{class:"text-grey-7",style:{width:"130px"}},"Waktu",-1)),o[3]||(o[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(be)(n.data.datetime)),1)]),t("tr",null,[o[4]||(o[4]=t("td",{class:"text-grey-7"},"Status Order",-1)),o[5]||(o[5]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(m.$CONSTANTS.SALES_ORDER_STATUSES[n.data.status]),1)]),t("tr",null,[o[6]||(o[6]=t("td",{class:"text-grey-7"},"Status Pembayaran",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,r(m.$CONSTANTS.SALES_ORDER_PAYMENT_STATUSES[n.data.payment_status]),1)]),k("",!0),n.data.due_date?(f(),h("tr",pg,[o[10]||(o[10]=t("td",{class:"text-grey-7"},"Jatuh Tempo",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,r(a(Lt)(n.data.due_date)),1)])):k("",!0)])])])]),_:1}),e(Je),e(ae,{class:"q-pa-sm"},{default:l(()=>[t("table",fg,[o[14]||(o[14]=t("thead",{class:"text-grey-8"},[t("tr",null,[t("th",{class:"text-left q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Item "),t("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Harga (Rp) "),t("th",{class:"text-center q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Jumlah "),t("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Total (Rp) ")])],-1)),t("tbody",null,[(f(!0),h(Y,null,tt(n.data.details,i=>(f(),h("tr",{key:i.id},[t("td",gg,r(i.product_name),1),t("td",bg,r(a(H)(i.price)),1),t("td",vg,r(i.quantity),1),t("td",yg,r(a(H)(i.subtotal_price)),1)]))),128)),n.data.details.length==0?(f(),h("tr",_g,o[13]||(o[13]=[t("td",{colspan:"4",class:"text-center text-grey"},"Belum ada item",-1)]))):k("",!0)])])]),_:1}),e(Je),e(ae,{class:"row",align:"left"},{default:l(()=>[t("div",kg,[o[15]||(o[15]=t("div",{class:"text-subtitle2 text-bold text-grey-8 q-mb-xs"},"Catatan:",-1)),t("div",wg,r(n.data.notes?n.data.notes:"-"),1)]),t("div",hg,[t("div",$g,[t("div",xg,[o[16]||(o[16]=t("div",{class:"text-subtitle2 text-grey-7"},"Grand Total (Rp)",-1)),t("div",Sg,r(a(H)(n.data.grand_total)),1)])])])]),_:1})])}}},Vg=Object.freeze(Object.defineProperty({__proto__:null,default:go},Symbol.toStringTag,{value:"Module"})),qg={key:0,class:"text-center q-mb-md text-grey-8"},Cg={class:"text-subtitle2 text-weight-medium"},Tg={class:"text-h5 text-center text-primary q-pb-md"},Pg={class:"text-center q-mt-md"},Og={key:0,class:"text-h6 text-negative text-weight-bold"},Ig={key:1,class:"text-h6 text-green-8 text-weight-bold"},Rg={key:2,class:"text-h6 text-positive text-weight-bold"},bo={__name:"PaymentDialog",props:{modelValue:{type:Boolean,required:!0},total:{type:Number,required:!0}},emits:["update:modelValue","accepted"],setup(d,{emit:n}){const m=d,o=n,s=fe(),i=q(!1),b=q({method:"cash",amount:m.total,notes:null}),g=s.props.data.customer,u=J(()=>[{label:"Tunai",value:"cash"},...g?[{label:"Wallet",value:"wallet"}]:[],...s.props.accounts.map(I=>({label:I.name,value:I.id}))]),c=J(()=>m.total-(b.value.amount||0)),v=J(()=>{const I=b.value.amount||0;return m.total,I<=0?"Jumlah pembayaran harus lebih dari 0.":b.value.method==="wallet"&&g&&I>g.balance?"Saldo wallet tidak mencukupi.":null}),_=J(()=>v.value===null),p=()=>{if(!_.value)return;i.value=!0;const I={total_paid:b.value.amount,payments:[{id:b.value.method,amount:b.value.amount}],notes:b.value.notes,change:Math.max(0,(b.value.amount||0)-m.total),remaining_debt:Math.max(0,m.total-(b.value.amount||0))};o("accepted",I),i.value=!1},V=()=>{b.value.amount=m.total,b.value.method="cash",b.value.notes=null};return(I,w)=>(f(),O(ct,{"model-value":d.modelValue,"onUpdate:modelValue":w[4]||(w[4]=R=>I.$emit("update:modelValue",R)),onBeforeShow:V},{default:l(()=>[e(ce,{style:{"min-width":"300px"}},{default:l(()=>[e(ae,null,{default:l(()=>w[5]||(w[5]=[t("div",{class:"text-subtitle1 text-bold text-center"}," Rincian Pembayaran ",-1)])),_:1}),e(ae,{class:"q-pt-none"},{default:l(()=>[a(g)?(f(),h("div",qg,[t("div",Cg,[y(r(a(g).username)+" ",1),w[6]||(w[6]=t("br",null,null,-1)),y(" "+r(a(g).name)+" ",1),w[7]||(w[7]=t("br",null,null,-1)),y(" Saldo: Rp. "+r(a(H)(a(g).balance)),1)])])):k("",!0),t("div",Tg," Total: Rp. "+r(a(H)(d.total)),1),e(a(de),{modelValue:b.value.method,"onUpdate:modelValue":w[0]||(w[0]=R=>b.value.method=R),options:u.value,label:"Metode Pembayaran",outlined:!0,"emit-value":"","map-options":"",dense:"",class:"q-mb-md",disable:i.value},null,8,["modelValue","options","disable"]),e(Re,{modelValue:b.value.amount,"onUpdate:modelValue":w[1]||(w[1]=R=>b.value.amount=R),label:"Jumlah Uang",outlined:!0,dense:"",disable:i.value,class:"q-mb-md",error:!_.value,"error-message":v.value},null,8,["modelValue","disable","error","error-message"]),e(ne,{modelValue:b.value.notes,"onUpdate:modelValue":w[2]||(w[2]=R=>b.value.notes=R),label:"Catatan",outlined:!0,type:"textarea",rows:"2",disable:i.value,class:"q-mb-md"},null,8,["modelValue","disable"]),t("div",Pg,[c.value>0?(f(),h("div",Og," Sisa Tagihan: Rp. "+r(a(H)(c.value)),1)):c.value<0?(f(),h("div",Ig," Kembalian: Rp. "+r(a(H)(Math.abs(c.value))),1)):(f(),h("div",Rg," Tagihan Terbayar "))])]),_:1}),e(mt,{align:"center",class:"q-mb-sm"},{default:l(()=>[e(U,{flat:"",label:"Batal",color:"grey",onClick:w[3]||(w[3]=R=>I.$emit("update:modelValue",!1))}),e(U,{label:"Bayar",color:"positive",onClick:p,disable:i.value||!_.value,loading:i.value},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Dg=Object.freeze(Object.defineProperty({__proto__:null,default:bo},Symbol.toStringTag,{value:"Module"})),Ug={class:"column"},Ag={class:"full-width",style:{"border-collapse":"collapse"}},Eg={class:"q-pa-sm",style:{"border-bottom":"1px solid #eee"}},jg={class:"row items-center q-gutter-x-sm"},Mg={class:"text-weight-bold"},Ng={class:"row items-center q-gutter-x-sm q-mt-xs"},Bg={class:"text-caption text-grey-6"},Fg={key:0,class:"row items-center q-gutter-x-sm q-mt-xs"},zg={class:"text-caption text-grey-6"},Lg={class:"q-mt-xs"},Hg={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Kg={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Yg={key:0},Qg={class:"q-pa-sm"},Wg={class:"text-right q-pa-sm"},Jg={class:"text-right q-pa-sm"},vo={__name:"PaymentTab",props:{data:Object},setup(d){const n=d,m=J(()=>n.data.grand_total-n.data.total_paid),o=he(),s=q(!1),i=()=>{s.value=!0},b=async u=>{const c={order_id:n.data.id,payments:u.payments,notes:u.notes};o.loading.show({message:"Memproses pembayaran..."});try{const v=await Ye.post(route("admin.sales-order.add-payment"),c);o.notify({message:"Pembayaran berhasil diproses!",color:"positive",icon:"check_circle"}),s.value=!1,X.visit(route("admin.sales-order.detail",{id:n.data.id})+"?tab=payment")}catch(v){let _="Gagal memproses pembayaran.";v.response&&v.response.data&&v.response.data.message?_=v.response.data.message:v.message&&(_=v.message),o.notify({message:_,color:"negative",icon:"error"})}finally{o.loading.hide()}},g=u=>{o.dialog({title:"Konfirmasi",message:"Apakah Anda yakin ingin menghapus pembayaran ini?",cancel:!0,persistent:!0}).onOk(async()=>{o.loading.show({message:"Menghapus pembayaran..."});try{await Ye.post(route("admin.sales-order.delete-payment",{id:u.id})),o.notify({message:"Pembayaran berhasil dihapus!",color:"positive",icon:"check_circle"}),X.visit(route("admin.sales-order.detail",{id:n.data.id})+"?tab=payment")}catch(c){let v="Gagal menghapus pembayaran.";c.response&&c.response.data&&c.response.data.message?v=c.response.data.message:c.message&&(v=c.message),o.notify({message:v,color:"negative",icon:"error"})}finally{o.loading.hide()}})};return(u,c)=>(f(),h(Y,null,[t("div",Ug,[e(Je),e(ae,{class:"q-pa-sm"},{default:l(()=>[t("table",Ag,[c[6]||(c[6]=t("thead",{class:"text-grey-8"},[t("tr",null,[t("th",{class:"text-left q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Detail Transaksi "),t("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Jumlah (Rp) "),t("th",{class:"text-center q-pa-sm",style:{"border-bottom":"2px solid #ddd"}})])],-1)),t("tbody",null,[(f(!0),h(Y,null,tt(n.data.payments,v=>(f(),h("tr",{key:v.id},[t("td",Eg,[t("div",jg,[e(S,{name:"tag",size:"xs",color:"grey-7"}),t("span",Mg,r(v.formatted_id),1)]),t("div",Ng,[e(S,{name:"calendar_today",size:"xs",color:"grey-7"}),t("span",Bg,r(a(be)(v.created_at)),1)]),(v.type==="transfer"||v.type==="cash")&&v.account?(f(),h("div",Fg,[e(S,{name:"wallet",size:"xs",color:"grey-7"}),t("span",zg,r(v.account.name),1)])):k("",!0),t("div",Lg,[e(ut,{label:u.$CONSTANTS.SALES_ORDER_PAYMENT_TYPES[v.type],color:"secondary",class:"q-py-xs"},null,8,["label"])])]),t("td",Hg,r(a(H)(v.amount)),1),t("td",Kg,[u.$can("admin.sales-order.delete-payment")?(f(),O(U,{key:0,icon:"delete",color:"negative",dense:"",flat:"",rounded:"",size:"sm",onClick:_=>g(v)},null,8,["onClick"])):k("",!0)])]))),128)),n.data.payments.length==0?(f(),h("tr",Yg,c[2]||(c[2]=[t("td",{colspan:"100%",class:"text-center text-grey"},"Belum ada item",-1)]))):k("",!0)]),t("tfoot",null,[t("tr",null,[t("td",Qg,[u.$can("admin.sales-order.add-payment")&&m.value>0?(f(),O(U,{key:0,label:"Tambah",color:"primary",icon:"add",dense:"",class:"custom-dense",size:"sm",onClick:c[0]||(c[0]=W(v=>i(),["stop"]))})):k("",!0)]),c[3]||(c[3]=t("th",{class:"text-right q-pa-sm",colspan:"1"},"Total Dibayar",-1)),t("th",Wg,r(a(H)(n.data.total_paid)),1)]),t("tr",null,[c[4]||(c[4]=t("th",{class:"text-right q-pa-sm",colspan:"2"},"Sisa Tagihan",-1)),t("th",Jg,r(a(H)(m.value)),1),c[5]||(c[5]=t("td",null,null,-1))])])])]),_:1})]),e(bo,{modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=v=>s.value=v),total:m.value,customer:n.data.customer,onAccepted:b},null,8,["modelValue","total","customer"])],64))}},Gg=Object.freeze(Object.defineProperty({__proto__:null,default:vo},Symbol.toStringTag,{value:"Module"})),Xg={class:"q-gutter-sm"},Zg={class:"col col-lg-6 q-pa-xs",align:"center"},ml="Rincian Penjualan",eb={__name:"Detail",setup(d){const n=new URLSearchParams(window.location.search),m=fe(),o=m.props.data,s=q(n.get("preview")||!1),b=q(n.get("tab")||"invoice"),g=u=>{window.open(route("admin.sales-order.print",{id:m.props.data.id,size:u}),"_self")};return(u,c)=>{const v=Q("i-head"),_=Q("authenticated-layout");return f(),h(Y,null,[e(v,{title:ml}),e(_,{"show-drawer-button":!0},{title:l(()=>[t("div",{class:"row items-center q-gutter-x-sm"},[t("span",null,r(ml))])]),"left-button":l(()=>[t("div",Xg,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=p=>u.$goBack())})])]),"right-button":l(()=>[e(U,{icon:"receipt",dense:"",color:"primary",flat:"",rounded:"",onClick:c[1]||(c[1]=p=>g("58"))}),e(U,{icon:"print",dense:"",color:"primary",flat:"",rounded:"",onClick:c[2]||(c[2]=p=>g("a4"))}),s.value?k("",!0):(f(),O(U,{key:0,class:"q-ml-sm",icon:"add",dense:"",color:"primary",rounded:"",onClick:c[3]||(c[3]=p=>a(X).get(u.route("admin.sales-order.add")))}))]),default:l(()=>[e(Se,{class:"row justify-center print-visible"},{default:l(()=>[t("div",Zg,[e(ce,{square:"",flat:"",bordered:"",class:"full-width",style:{"max-width":"1024px"}},{default:l(()=>[e(Ut,{modelValue:b.value,"onUpdate:modelValue":c[4]||(c[4]=p=>b.value=p),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(nt,{name:"invoice",label:"Invoice"}),s.value?k("",!0):(f(),O(nt,{key:0,name:"payment",label:"Pembayaran"}))]),_:1},8,["modelValue"]),e(Je),e(At,{modelValue:b.value,"onUpdate:modelValue":c[5]||(c[5]=p=>b.value=p),animated:""},{default:l(()=>[e(st,{name:"invoice",class:"q-pa-none"},{default:l(()=>[e(go,{data:a(o)},null,8,["data"])]),_:1}),e(st,{name:"payment",class:"q-pa-none"},{default:l(()=>[e(vo,{data:a(o)},null,8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),_:1})]),_:1})],64)}}},tb=Object.freeze(Object.defineProperty({__proto__:null,default:eb},Symbol.toStringTag,{value:"Module"})),ab={class:"text-weight-medium"},lb={class:"text-caption text-grey-6"},ob={class:"column items-end"},nb={class:"text-caption text-grey-6 text-italic"},yo={__name:"ItemsListTable",props:{items:{type:Array,required:!0},isProcessing:{type:Boolean,default:!1}},emits:["update-quantity","remove-item","edit-item"],setup(d){const n=he(),m=We(null,n.screen.lt.sm?395:310),o=[{name:"name",required:!0,label:"Item",align:"left",field:"name",sortable:!1},{name:"subtotal_price",label:"Sub Total (Rp.)",align:"right",sortable:!1},{name:"action",label:"",align:"right",sortable:!1}];return(s,i)=>(f(),O(Te,{dense:"",rows:d.items,columns:o,"row-key":"id",flat:"",square:"",bordered:"",class:"full-height-table","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48,style:Me({height:a(m)})},{header:l(b=>[e(qe,{props:b,class:"bg-grey-4"},{default:l(()=>[(f(!0),h(Y,null,tt(b.cols,g=>(f(),O(ea,{key:g.name,props:b,class:"text-weight-bold text-grey-8"},{default:l(()=>[y(r(g.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(b=>[e(qe,{props:b,class:"hover-highlight"},{default:l(()=>[e(K,{key:"name",props:b,class:"text-left"},{default:l(()=>[t("div",ab,r(b.row.product_name),1),t("div",lb,r(b.row.product_barcode),1),b.row.notes?(f(),O(_e,{key:0,text:b.row.notes,icon:"notes",class:"text-grey-6"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(K,{key:"subtotal_price",props:b,class:"text-right"},{default:l(()=>[t("div",ob,[t("div",null,r(a(H)(b.row.subtotal_price)),1),t("div",nb,r(a(H)(b.row.quantity))+" x Rp. "+r(a(H)(b.row.price)),1)])]),_:2},1032,["props"]),e(K,{key:"action",props:b,class:"text-right",style:{width:"5%"}},{default:l(()=>[e(U,{icon:"edit",color:"grey",flat:"",round:"",size:"sm",onClick:g=>s.$emit("edit-item",b.row),disable:d.isProcessing},null,8,["onClick","disable"]),e(U,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:g=>s.$emit("remove-item",b.row),disable:d.isProcessing},null,8,["onClick","disable"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","style"]))}},sb=Object.freeze(Object.defineProperty({__proto__:null,default:yo},Symbol.toStringTag,{value:"Module"})),rb={key:0,class:"text-center q-mb-md text-grey-8"},ib={class:"text-subtitle2 text-weight-medium"},db={class:"text-h5 text-center text-primary q-pb-md"},ub={class:"q-mb-md flex flex-center"},mb={key:1},cb={class:"col-6"},pb={class:"col-6"},fb={class:"row"},gb={class:"text-center q-mt-md"},bb={key:0,class:"text-h6 text-negative text-weight-bold"},vb={key:1,class:"text-h6 text-green-8 text-weight-bold"},yb={key:2,class:"text-h6 text-positive text-weight-bold"},_b={key:2},kb={class:"text-h6 text-negative text-center"},wb={key:3},_o={__name:"PaymentDialog",props:{modelValue:{type:Boolean,required:!0},form:{type:Object,required:!0},customer:{type:Object,required:!1},total:{type:Number,required:!0}},emits:["update:modelValue","accepted"],setup(d,{emit:n}){const m=d,o=n,s=fe(),i=q(!1),b=q("cash"),g=q(new Date),u=q(null),c=Pe([{id:"cash",amount:0}]),v=J(()=>[{label:"Tunai",value:"cash"},...m.customer?[{label:"Wallet",value:"wallet"}]:[],...s.props.accounts.map(M=>({label:M.name,value:M.id}))]),_=J(()=>c.reduce((M,N)=>M+(N.amount||0),0)),p=J(()=>m.total-_.value),V=J(()=>{if(!m.customer)return!0;const M=c.find(B=>B.id==="wallet");return(M?M.amount:0)<=m.customer.balance}),I=new Date,w=ot.addToDate(new Date,{days:30}),R=J(()=>[M=>!!M||"Tanggal jatuh tempo harus diisi",M=>ot.isBetweenDates(M,I,w,{inclusiveFrom:!0,inclusiveTo:!0})?!0:"Tanggal tidak boleh kurang dari hari ini dan lebih dari 30 hari dari sekarang."]),C=J(()=>{if(b.value==="debt")return!!m.customer&&R.value.every(L=>L(g.value)===!0);const M=V.value,N=c.some(L=>(L.amount||0)>0),B=c.every(L=>(L.amount||0)>=0),x=p.value<=0;return M&&N&&B&&x}),$=()=>{c.length<3&&c.push({id:"cash",amount:0})},A=M=>{if(c.length>1){const N=c.findIndex(B=>B.id===M);N!==-1&&c.splice(N,1)}},z=M=>{b.value=M,g.value=new Date,c.splice(0,c.length),M==="cash"&&(c.splice(0,c.length,{id:"cash",amount:m.total}),wt(()=>{u.value&&u.value.length>0&&(u.value[0].focus(),u.value[0].select())}))},T=()=>{if(!C.value)return;i.value=!0;let M={total:m.total,is_debt:b.value==="debt"};if(b.value==="debt")M.due_date=ot.formatDate(g.value,"YYYY-MM-DD"),M.payments=[];else{const N=_.value,B=N>m.total?N-m.total:0,x=p.value>0?p.value:0;M.payments=c,M.remaining_debt=x,M.change=B}o("accepted",M),i.value=!1},D=()=>{z("cash"),wt(()=>{})};return(M,N)=>(f(),O(ct,{"model-value":d.modelValue,"onUpdate:modelValue":N[3]||(N[3]=B=>M.$emit("update:modelValue",B)),onBeforeShow:D},{default:l(()=>[e(ce,{style:{"min-width":"300px"}},{default:l(()=>[e(ae,null,{default:l(()=>N[4]||(N[4]=[t("div",{class:"text-subtitle1 text-bold text-center"}," Rincian Pembayaran ",-1)])),_:1}),e(ae,{class:"q-pt-none"},{default:l(()=>[d.customer?(f(),h("div",rb,[t("div",ib,[y(" Username: "+r(d.customer.username)+" ",1),N[5]||(N[5]=t("br",null,null,-1)),y(" Nama: "+r(d.customer.name),1),N[6]||(N[6]=t("br",null,null,-1)),y(" Saldo: Rp. "+r(a(H)(d.customer.balance)),1)])])):k("",!0),t("div",db," Total: Rp. "+r(a(H)(d.total)),1),t("div",ub,[e(a(no),{modelValue:b.value,"onUpdate:modelValue":[N[0]||(N[0]=B=>b.value=B),z],options:[{label:"Tunai",value:"cash",slot:"cash",color:"green"},{label:"Tempo",value:"debt",slot:"debt",disable:!d.customer,color:"red"}],flat:"",spread:"",class:"bg-grey-2"},null,8,["modelValue","options"])]),b.value==="cash"?(f(),h("div",mb,[(f(!0),h(Y,null,tt(c,(B,x)=>(f(),h("div",{key:B.id,class:"row q-col-gutter-sm q-mb-sm"},[t("div",cb,[e(a(de),{modelValue:B.id,"onUpdate:modelValue":L=>B.id=L,options:v.value,label:"Metode Pembayaran",outlined:!0,"emit-value":"","map-options":"",dense:"",class:"custom-select",disable:i.value,"hide-bottom-space":""},null,8,["modelValue","onUpdate:modelValue","options","disable"])]),t("div",pb,[e(Re,{modelValue:B.amount,"onUpdate:modelValue":L=>B.amount=L,label:"Jumlah",outlined:!0,dense:"",disable:i.value,error:B.id==="wallet"&&!V.value,"error-message":B.id==="wallet"&&!V.value?"Saldo tidak cukup!":"","hide-bottom-space":"",ref_for:!0,ref:x===0?"firstPaymentInputRef":null},ze({_:2},[c.length>1?{name:"append",fn:l(()=>[e(S,{size:"xs",name:"close",class:"cursor-pointer",onClick:L=>A(B.id)},null,8,["onClick"])]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","disable","error","error-message"])])]))),128)),t("div",fb,[e(U,{disable:!(c.length<3&&p.value>0),flat:"",dense:"",icon:"add",label:"Tambah Pembayaran",onClick:$,size:"sm"},null,8,["disable"])]),t("div",gb,[p.value>0?(f(),h("div",bb," Sisa Tagihan: Rp. "+r(a(H)(p.value)),1)):p.value<0?(f(),h("div",vb," Kembalian: Rp. "+r(a(H)(Math.abs(p.value))),1)):(f(),h("div",yb," Tagihan Terbayar "))])])):b.value==="debt"&&d.customer?(f(),h("div",_b,[e(ha,{outlined:"",modelValue:g.value,"onUpdate:modelValue":N[1]||(N[1]=B=>g.value=B),label:"Tanggal Jatuh Tempo",hint:"Pilih tanggal jatuh tempo pembayaran utang",class:"q-mb-md","min-date":a(I),"max-date":a(w),rules:R.value},null,8,["modelValue","min-date","max-date","rules"]),t("div",kb," Total Utang: Rp. "+r(a(H)(d.total)),1)])):b.value==="debt"&&!d.customer?(f(),h("div",wb,N[7]||(N[7]=[t("div",{class:"text-center text-negative text-h6"}," Tidak dapat mencatat utang tanpa memilih pelanggan. ",-1)]))):k("",!0)]),_:1}),e(mt,{align:"center",class:"q-mb-sm"},{default:l(()=>[e(U,{flat:"",label:"Batal",color:"grey",onClick:N[2]||(N[2]=B=>M.$emit("update:modelValue",!1))}),e(U,{label:b.value==="debt"?"Catat Utang":"Bayar",color:"positive",onClick:T,disable:i.value||!C.value,loading:i.value},null,8,["label","disable","loading"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},hb=Object.freeze(Object.defineProperty({__proto__:null,default:_o},Symbol.toStringTag,{value:"Module"})),$b={class:"row items-center no-wrap"},xb={class:"col-auto"},ko={__name:"ItemEditorDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,required:!1},isProcessing:{type:Boolean,required:!1}},emits:["update:modelValue","save"],setup(d,{expose:n,emit:m}){const o=d,s=m,i=()=>{s("save")},b=J(()=>o.item.quantity*o.item.price),g=v=>{v.stopPropagation(),v.preventDefault()},u=v=>{o.modelValue&&(v.key==="Enter"?(i(),g(v)):v.key==="Escape"&&(s("update:modelValue",!1),g(v)))};return we(()=>{window.addEventListener("keydown",u)}),Dt(()=>{window.removeEventListener("keydown",u)}),n({getCurrentItem:()=>o.item}),(v,_)=>(f(),O(ct,{"model-value":d.modelValue,"onUpdate:modelValue":_[6]||(_[6]=p=>v.$emit("update:modelValue",p))},{default:l(()=>[e(ce,null,{default:l(()=>[e(ae,{class:"q-py-sm"},{default:l(()=>[t("div",$b,[_[7]||(_[7]=t("div",{class:"col text-subtite text-bold text-grey-8"},"Edit Item",-1)),t("div",xb,[e(U,{flat:"",size:"sm",round:"",icon:"close",onClick:_[0]||(_[0]=p=>v.$emit("update:modelValue",!1))})])])]),_:1}),e(ae,{class:"q-py-sm"},{default:l(()=>[e(ne,{modelValue:d.item.product_name,"onUpdate:modelValue":_[1]||(_[1]=p=>d.item.product_name=p),label:"Produk","hide-bottom-space":"",readonly:"",disable:d.isProcessing},null,8,["modelValue","disable"]),e(Re,{modelValue:d.item.quantity,"onUpdate:modelValue":_[2]||(_[2]=p=>d.item.quantity=p),label:"Kwantitas","hide-bottom-space":"",autofocus:"",disable:d.isProcessing},null,8,["modelValue","disable"]),e(Re,{modelValue:d.item.price,"onUpdate:modelValue":_[3]||(_[3]=p=>d.item.price=p),label:"Harga",readonly:!d.item.price_editable,"hide-bottom-space":"",disable:d.isProcessing},null,8,["modelValue","readonly","disable"]),e(Re,{modelValue:b.value,"onUpdate:modelValue":_[4]||(_[4]=p=>b.value=p),label:"Subtotal","hide-bottom-space":"",readonly:""},null,8,["modelValue"]),e(ne,{modelValue:d.item.notes,"onUpdate:modelValue":_[5]||(_[5]=p=>d.item.notes=p),label:"Catatan",autogrow:"",type:"textarea",counter:"",maxlength:"50","hide-bottom-space":"",clearable:""},null,8,["modelValue"])]),_:1}),e(mt,{align:"right"},{default:l(()=>[Z(e(U,{flat:"",label:"Batal",color:"primary",disable:d.isProcessing},null,8,["disable"]),[[ue]]),Z(e(U,{flat:"",label:"Simpan",color:"primary",onClick:i,disable:d.isProcessing},null,8,["disable"]),[[ue]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Sb=Object.freeze(Object.defineProperty({__proto__:null,default:ko},Symbol.toStringTag,{value:"Module"})),Vb={key:0,class:"q-select__selected-item"},qb={__name:"CustomerAutocomplete",props:{modelValue:{type:[Object],default:null},class:{type:String,default:""},label:{type:String,default:"Cari Pelanggan"},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},disable:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},minLength:{type:Number,default:0},initialData:{type:Object,default:null,required:!1}},emits:["update:modelValue","customerSelected"],setup(d,{expose:n,emit:m}){const o=q(null),s=d,i=m,b=q([]);let g=null;const u=q(s.modelValue);we(()=>{s.initialData&&(u.value=s.initialData)}),Ae(u,_=>{i("update:modelValue",_),i("customerSelected",_)}),Ae(()=>s.modelValue,_=>{u.value=_}),n({focus:()=>{o.value&&o.value.focus()}});const v=(_,p)=>{if(_.length<s.minLength){p(()=>{b.value=[]});return}g&&clearTimeout(g),g=setTimeout(()=>{Ye.get(`/web-api/customers?q=${_}`).then(V=>{p(()=>{b.value=V.data.data})}).catch(V=>{console.error("Gagal mengambil data pelanggan:",V),p(()=>{b.value=[]})})},500)};return(_,p)=>(f(),O(de,{class:xe(d.class),ref_key:"qSelectRef",ref:o,modelValue:u.value,"onUpdate:modelValue":p[0]||(p[0]=V=>u.value=V),"use-input":"","input-debounce":"0",label:d.label,options:b.value,onFilter:v,clearable:"",error:d.error,behavior:"menu","error-message":d.errorMessage,disable:d.disable,"hide-bottom-space":"",outlined:d.outlined,style:{"min-width":"150px !important"},"option-value":"id","option-label":"name"},{option:l(V=>[e(le,Ol(Il(V.itemProps)),{default:l(()=>[e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>[y(r(V.opt.name),1)]),_:2},1024),e(ye,{caption:""},{default:l(()=>[e(S,{name:"person",size:"14px"}),y(" "+r(V.opt.username),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),"selected-item":l(V=>[V.opt?(f(),h("div",Vb,r(V.opt.name)+" ("+r(V.opt.username)+") ",1)):k("",!0)]),_:1},8,["class","modelValue","label","options","error","error-message","disable","outlined"]))}},Cb={__name:"HelpDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(d,{emit:n}){return(m,o)=>(f(),O(ct,{"model-value":d.modelValue,"onUpdate:modelValue":o[0]||(o[0]=s=>m.$emit("update:modelValue",s))},{default:l(()=>[e(ce,{style:{"min-width":"300px"}},{default:l(()=>[e(ae,{class:"q-py-none q-pt-md"},{default:l(()=>o[1]||(o[1]=[t("div",{class:"text-bold text-grey-8"},"Bantuan",-1)])),_:1}),e(ae,null,{default:l(()=>o[2]||(o[2]=[t("table",{style:{width:"100%"},class:"info-table"},[t("thead",null,[t("tr",null,[t("th",null,"Shortcut"),t("th",null,"Aksi")])]),t("tbody",null,[t("tr",null,[t("td",null,"F1"),t("td",null,"Dialog Bantuan")]),t("tr",null,[t("td",null,"F2"),t("td",null,"Aktifkan Input Barcode")]),t("tr",null,[t("td",null,"F3"),t("td",null,"Pilih Pelanggan")]),t("tr",null,[t("td",null,"F4"),t("td",null,"Gabung / pisahkan item saat input")])])],-1)])),_:1}),e(mt,{align:"center"},{default:l(()=>[Z(e(U,{dense:"",label:"Tutup"},null,512),[[ue]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},wo=_t(Cb,[["__scopeId","data-v-ed1bbfe5"]]),Tb=Object.freeze(Object.defineProperty({__proto__:null,default:wo},Symbol.toStringTag,{value:"Module"})),Pb={class:"row items-center no-wrap"},Ob={class:"col text-subtite text-bold text-grey-8"},Ib={class:"col-auto"},ho={__name:"OrderInfoDialog",props:{modelValue:{type:Boolean,required:!0},data:{type:Object,required:!1},isProcessing:{type:Boolean,required:!1}},emits:["update:modelValue","save"],setup(d,{expose:n,emit:m}){const o=d,s=m,i=()=>{s("save")},b=c=>{c.stopPropagation(),c.preventDefault()},g=c=>{o.modelValue&&(c.key==="Enter"?(i(),b(c)):c.key==="Escape"&&(s("update:modelValue",!1),b(c)))};return we(()=>{window.addEventListener("keydown",g)}),Dt(()=>{window.removeEventListener("keydown",g)}),n({getCurrentItem:()=>o.item}),(c,v)=>(f(),O(ct,{"model-value":d.modelValue,"onUpdate:modelValue":v[4]||(v[4]=_=>c.$emit("update:modelValue",_))},{default:l(()=>[e(ce,null,{default:l(()=>[e(ae,{class:"q-py-sm"},{default:l(()=>[t("div",Pb,[t("div",Ob," Edit "+r(d.data.formatted_id),1),t("div",Ib,[e(U,{flat:"",size:"sm",round:"",icon:"close",onClick:v[0]||(v[0]=_=>c.$emit("update:modelValue",!1))})])])]),_:1}),e(ae,{class:"q-py-sm"},{default:l(()=>[e(Nt,{modelValue:d.data.datetime,"onUpdate:modelValue":v[1]||(v[1]=_=>d.data.datetime=_),label:"Waktu","hide-bottom-space":"",disable:d.isProcessing,autofocus:""},null,8,["modelValue","disable"]),e(ne,{modelValue:c.$CONSTANTS.SALES_ORDER_STATUSES[d.data.status],"onUpdate:modelValue":v[2]||(v[2]=_=>c.$CONSTANTS.SALES_ORDER_STATUSES[d.data.status]=_),label:"Status","hide-bottom-space":"",readonly:"",disable:d.isProcessing},null,8,["modelValue","disable"]),e(ne,{modelValue:d.data.notes,"onUpdate:modelValue":v[3]||(v[3]=_=>d.data.notes=_),label:"Catatan",autogrow:"",type:"textarea",counter:"",maxlength:"50","hide-bottom-space":"",clearable:""},null,8,["modelValue"])]),_:1}),e(mt,{align:"right"},{default:l(()=>[Z(e(U,{flat:"",label:"Batal",color:"primary",disable:d.isProcessing},null,8,["disable"]),[[ue]]),Z(e(U,{flat:"",label:"Simpan",color:"primary",onClick:i,disable:d.isProcessing},null,8,["disable"]),[[ue]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Rb=Object.freeze(Object.defineProperty({__proto__:null,default:ho},Symbol.toStringTag,{value:"Module"})),Db={key:0},Ub={style:{float:"right"}},Ab={key:1},Eb={style:{float:"right"}},jb={key:2},Mb={style:{float:"right"}},Nb={key:3},Bb={style:{float:"right"}},Fb={style:{float:"right"}},zb={class:"q-gutter-sm"},Lb={class:"q-my-md"},Hb={__name:"SuccessDialog",props:{modelValue:{type:Boolean,required:!0},order:{type:Object,required:!0},total:{type:Number,required:!0},customer:{type:[Object],required:!1},payment:{type:[Object],required:!1}},emits:["update:modelValue"],setup(d,{emit:n}){const m=q(null),o=()=>{var s;(s=m.value)==null||s.focus()};return(s,i)=>(f(),O(ct,{"model-value":d.modelValue,"onUpdate:modelValue":i[0]||(i[0]=b=>s.$emit("update:modelValue",b)),onBeforeShow:o,persistent:""},{default:l(()=>[e(ce,{style:{"min-width":"300px"}},{default:l(()=>[e(ae,{class:"q-py-none q-pt-md"},{default:l(()=>i[1]||(i[1]=[t("div",{class:"text-bold text-grey-8 text-h6",align:"center"},"Sukses",-1)])),_:1}),e(ae,{align:"center"},{default:l(()=>[i[22]||(i[22]=t("div",{class:"q-mb-md"},"Transaksi Berhasil",-1)),t("table",null,[t("tbody",null,[t("tr",null,[i[2]||(i[2]=t("td",null,"ID",-1)),i[3]||(i[3]=t("td",null,":",-1)),t("td",null,r(d.order.formatted_id),1)]),d.customer?(f(),h("tr",Db,[i[5]||(i[5]=t("td",{style:{"vertical-align":"top"}},"Pelanggan",-1)),i[6]||(i[6]=t("td",{style:{"vertical-align":"top"}},":",-1)),t("td",null,[y(r(d.customer.name)+" ",1),i[4]||(i[4]=t("br",null,null,-1)),y(r(d.customer.username),1)])])):k("",!0),t("tr",null,[i[8]||(i[8]=t("td",null,"Total",-1)),i[9]||(i[9]=t("td",null,":",-1)),t("td",null,[i[7]||(i[7]=y(" Rp. ")),t("div",Ub,r(a(H)(d.payment.total)),1)])]),d.payment.cash_amount?(f(),h("tr",Ab,[i[11]||(i[11]=t("td",null,"Tunai",-1)),i[12]||(i[12]=t("td",null,":",-1)),t("td",null,[i[10]||(i[10]=y(" Rp. ")),t("div",Eb,r(a(H)(d.payment.cash_amount)),1)])])):k("",!0),d.payment.wallet_amount?(f(),h("tr",jb,[i[14]||(i[14]=t("td",null,"Wallet",-1)),i[15]||(i[15]=t("td",null,":",-1)),t("td",null,[i[13]||(i[13]=y(" Rp. ")),t("div",Mb,r(a(H)(d.payment.wallet_amount)),1)])])):k("",!0),d.payment.remaining_debt?(f(),h("tr",Nb,[i[17]||(i[17]=t("td",null,"Piutang",-1)),i[18]||(i[18]=t("td",null,":",-1)),t("td",null,[i[16]||(i[16]=y(" Rp. ")),t("span",Bb,r(a(H)(d.payment.remaining_debt)),1)])])):k("",!0),t("tr",null,[i[20]||(i[20]=t("td",null,"Kembalian",-1)),i[21]||(i[21]=t("td",null,":",-1)),t("td",null,[i[19]||(i[19]=y(" Rp. ")),t("div",Fb,r(a(H)(d.payment.change)),1)])])])])]),_:1}),e(mt,{align:"center"},{default:l(()=>[t("div",zb,[e(U,{autofocus:"",label:"Cetak Struk",icon:"print",ref_key:"printButtonRef",ref:m,color:"green"},null,512),e(U,{label:"Transaksi Baru",icon:"edit",color:"primary"})]),t("div",Lb,[e(U,{label:"Kembali ke daftar transaksi",icon:"arrow_back"})])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},$o=_t(Hb,[["__scopeId","data-v-79f1f7a4"]]),Kb=Object.freeze(Object.defineProperty({__proto__:null,default:$o},Symbol.toStringTag,{value:"Module"})),Yb={class:"q-gutter-sm"},Qb={class:"row items-center"},Wb={class:"text-weight-bold"},Jb={class:"row q-col-gutter-none full-width"},Gb={class:"col-sm-6 col-12 col"},Xb={class:"row full-width"},Zb={class:"text-grey q-mt-xs q-ml-sm"},e1={class:"col-sm-6 col-12"},t1={class:"row q-ml-sm items-end"},a1={class:"row col grow"},l1={class:"col-12 q-pa-sm column"},o1={class:"row items-start q-col-gutter-none q-px-sm",style:{"max-height":"80px"}},n1={key:0,class:"col"},s1={class:"text-caption text-grey-6 q-mt-xs"},r1={key:0,class:"text-caption text-grey-8 q-mt-xs"},i1={class:"text-italic"},d1={key:1,class:"col"},u1={class:"q-pa-sm q-pb-none text-grey-8"},m1={class:"col"},c1={class:"row no-wrap items-start justify-between",style:{background:"#eee",padding:"10px",border:"1px solid #ddd"}},p1={class:"text-h4 text-weight-bold"},f1={class:"row q-px-sm q-pb-none q-py-sm q-col-gutter-sm"},g1={class:"col q-py-sm"},b1={class:"q-py-sm"},v1={__name:"Editor",setup(d){const n=he(),m=fe(),o=q(!0),s=q(null),i=q(null),b=q(null),g=q(!1),u=q(null),c=q(null),{isFullscreen:v,toggleFullscreen:_}=co(c),p=m.props.data.formatted_id,V=q(m.props.data.customer),I=q(null),w=q(""),R=q(!1),C=q(!1),$=q(!1),A=q(!1),z=q(!1),T=q(!1),D=q(null),M=Pe({id:m.props.data.id,formatted_id:m.props.data.formatted_id,customer_id:m.props.data.customer_id,datetime:new Date(m.props.data.datetime),status:m.props.data.status,payment_status:m.props.data.payment_status,delivery_status:m.props.data.delivery_status,notes:m.props.data.notes,items:m.props.data.details??[]}),N=J(()=>M.items.reduce((ee,P)=>ee+P.price*P.quantity,0)),B=()=>{var ee;_(),v.value||(ee=u==null?void 0:u.value)==null||ee.hideDrawer()},x=ee=>isNaN(ee)||ee<=0?(bt("Kuantitas tidak valid.","top"),!1):!0,L=ee=>isNaN(ee)||ee<0?(bt("Harga tidak valid.","top"),!1):!0,ie=ee=>!ee||ee.length==0?(bt("Barcode tidak valid.","top"),!1):!0,j=ee=>{w.value.endsWith("*")?w.value+=ee.name:w.value=ee.name},E=async()=>{const ee=w.value.trim();if(ee.length===0){$.value=!0;return}const P=ee.split("*");let me=1,pe="",te=null;if(P.length===1)pe=P[0];else if(P.length<=3)me=parseInt(P[0]),pe=P[1],P.length===3&&(te=parseFloat(P[2]));else{bt("Input tidak valid.","top");return}if(pe.length===0){$.value=!0;return}!ie(pe)&&!x(me)&&!L(te)||(R.value=!0,await Ye.post(route("admin.sales-order.add-item"),{order_id:M.id,product_code:pe,qty:me,price:te,merge:o.value}).then(Oe=>{const et=Oe.data.data.item;let lt=-1;Oe.data.data.mergeItem&&(lt=M.items.findIndex(Bt=>Bt.id===et.id)),lt===-1?M.items.push(et):M.items[lt]=et,w.value="",te!==null&&te!==parseFloat(et.price)&&bt("Harga tidak dapat diubah!","top")}).catch(Oe=>{var et,lt;vt((lt=(et=Oe.response)==null?void 0:et.data)==null?void 0:lt.message,"top"),console.error("Gagal mengambil data produk:",Oe)}),R.value=!1,wt(()=>{var Oe;(Oe=s.value)==null||Oe.focus()}))},G=ee=>{D.value=Object.create(ee),A.value=!0},ke=ee=>{n.dialog({title:"Hapus Item",message:`Apakah Anda yakin akan menghapus item ${ee.product_name}?`,cancel:{label:"Batal",color:"grey"},ok:{label:"Hapus",color:"negative"},persistent:!0}).onOk(()=>{R.value=!0,Ye.post(route("admin.sales-order.remove-item"),{id:ee.id}).then(()=>{const P=M.items.findIndex(me=>me.id===ee.id);P!==-1&&(M.items.splice(P,1)[0],yt("Item telah dihapus","top"))}).catch(P=>{var me,pe;vt(((pe=(me=P==null?void 0:P.response)==null?void 0:me.data)==null?void 0:pe.message)??"Terdapat kesalahan saat menghapus item!","top"),console.error(P)}).finally(()=>{R.value=!1})})},oe=()=>{R.value=!0;const ee=i.value.getCurrentItem(),P={id:ee.id,qty:ee.quantity};ee.price_editable&&(P.price=ee.price),ee.notes&&(P.notes=ee.notes),Ye.post(route("admin.sales-order.update-item"),P).then(me=>{const pe=me.data.data,te=M.items.findIndex(Oe=>Oe.id===pe.id);te!==-1&&(M.items[te]=pe,yt("Item telah diperbarui","top"))}).catch(me=>{var pe,te;vt(((te=(pe=me==null?void 0:me.response)==null?void 0:pe.data)==null?void 0:te.message)??"Terdapat kesalahan saat menyimpan!","top"),console.error(me)}).finally(()=>{R.value=!1})};we(()=>{const ee=P=>{P.key==="F1"?(P.preventDefault(),g.value=!0):P.key==="F2"?(P.preventDefault(),s.value.focus()):P.key==="F3"?(P.preventDefault(),b.value.focus()):P.key==="F4"?(P.preventDefault(),o.value=!o.value):P.key==="F10"?(P.preventDefault(),C.value=!0):P.key==="F11"&&(P.preventDefault(),B())};document.addEventListener("keydown",ee),Dt(()=>{document.removeEventListener("keydown",ee)}),wt(()=>{var P;(P=u==null?void 0:u.value)==null||P.hideDrawer()})});const Ve=ee=>{V.value=ee,M.customer_id=ee==null?void 0:ee.id,Ne(),wt(()=>{var P;(P=s.value)==null||P.focus()})},Ne=()=>{R.value=!0;const ee={id:M.id,customer_id:M.customer_id,datetime:Zt(M.datetime),notes:M.notes};Ye.post(route("admin.sales-order.update"),ee).then(P=>{const me=P.data.data.id;M.customer_id=me.customer_id}).catch(P=>{var me,pe;vt(((pe=(me=P==null?void 0:P.response)==null?void 0:me.data)==null?void 0:pe.message)??"Terdapat kesalahan saat menyimpan!","top"),console.error(P)}).finally(()=>{R.value=!1})},ft=ee=>{if(M.items.length===0){yt("Item masih kosong","top");return}const P={id:M.id,...ee};R.value=!0,Ye.post(route("admin.sales-order.close"),P).then(me=>{yt("Transaksi selesai"),X.visit(route("admin.sales-order.detail",{id:M.id}))}).catch(me=>{var pe,te;vt((te=(pe=me.response)==null?void 0:pe.data)==null?void 0:te.message),console.error(me)}).finally(()=>{R.value=!1})},pt=()=>{Wt.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${M.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{Ye.post(route("admin.sales-order.cancel",{id:M.id}),{id:M.id}).then(()=>{yt("Transaksi telah dibatalkan."),X.visit(route("admin.sales-order.detail",{id:M.id}))}).catch(ee=>{var me,pe;const P=((pe=(me=ee.response)==null?void 0:me.data)==null?void 0:pe.message)||"Terjadi kesalahan saat membatalkan transaksi.";n.notify({message:P,color:"warning",position:"bottom"}),console.error(ee)})})},gt=()=>{window.open(route("admin.sales-order.detail",{id:M.id})+"?preview=1","_blank")};return(ee,P)=>{const me=Q("i-head"),pe=Q("authenticated-layout");return f(),h(Y,null,[e(me,{title:a(p)},null,8,["title"]),e(pe,{ref_key:"authLayoutRef",ref:u,"show-drawer-button":!0},{title:l(()=>[y(r(a(p)),1)]),"left-button":l(()=>[t("div",Yb,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:P[0]||(P[0]=te=>a(X).get(ee.route("admin.sales-order.index")))})])]),"right-button":l(()=>[t("div",Qb,[a(n).screen.gt.sm?(f(),h(Y,{key:0},[t("div",Wb,r(a(m).props.auth.user.username),1),P[22]||(P[22]=t("div",{class:"q-mx-sm"},"|",-1)),t("div",null,[e(uo)])],64)):k("",!0),k("",!0)])]),default:l(()=>[e(Se,{class:"bg-grey-2 q-pa-none column fit"},{default:l(()=>[e(ce,{square:"",flat:"",class:"full-width col column q-pb-none"},{default:l(()=>[t("div",Jb,[t("div",Gb,[t("div",Xb,[e(qb,{ref_key:"customerAutocompleteRef",ref:b,class:"custom-select full-width col col-12 bg-white q-pa-sm",modelValue:V.value,"onUpdate:modelValue":P[2]||(P[2]=te=>V.value=te),label:"Pelanggan",disable:R.value,onCustomerSelected:Ve,"min-length":1,outlined:"",autofocus:""},null,8,["modelValue","disable"]),t("div",Zb," Saldo: "+r(V.value?"Rp. "+a(H)(V.value?V.value.balance:0):"Tidak tersedia"),1)])]),t("div",e1,[e(ne,{ref_key:"userInputRef",ref:s,modelValue:w.value,"onUpdate:modelValue":P[5]||(P[5]=te=>w.value=te),onKeyup:P[6]||(P[6]=ta(W(te=>E(),["prevent"]),["enter"])),loading:R.value,disable:R.value,placeholder:"Qty * Kode / Barcode * Harga",class:"col col-12 q-pa-sm bg-white",outlined:"",clearable:""},{prepend:l(()=>[e(S,{name:"search",onClick:P[3]||(P[3]=te=>$.value=!0),class:"cursor-pointer"})]),append:l(()=>{var te;return[((te=w.value)==null?void 0:te.length)>0?(f(),O(S,{key:0,name:"send",onClick:P[4]||(P[4]=Oe=>E()),class:"cursor-pointer q-ml-md"})):k("",!0)]}),_:1},8,["modelValue","loading","disable"]),t("div",t1,[e(Vt,{class:"col",modelValue:o.value,"onUpdate:modelValue":P[7]||(P[7]=te=>o.value=te),label:"Gabungkan item",disable:R.value},null,8,["modelValue","disable"])])])]),t("div",a1,[t("div",l1,[e(yo,{items:M.items,onUpdateQuantity:P[8]||(P[8]=({id:te,value:Oe})=>ee.updateQuantity(te,Oe)),onRemoveItem:ke,onEditItem:G,"is-processing":R.value},null,8,["items","is-processing"])])]),t("div",o1,[a(n).screen.gt.sm?(f(),h("div",n1,[t("div",s1,r(M.items.length)+" item(s) ",1),M.notes?(f(),h("div",r1,[P[23]||(P[23]=t("div",{class:"text-bold"},"Catatan:",-1)),t("div",i1,[e(_e,{text:M.notes},null,8,["text"])])])):k("",!0)])):k("",!0),a(n).screen.gt.sm?(f(),h("div",d1,[t("div",u1,[t("div",null,"#: "+r(M.formatted_id),1),t("div",null,r(a(be)(M.datetime)),1)])])):k("",!0),t("div",m1,[t("div",c1,[P[25]||(P[25]=t("span",{class:"text-grey-8 text-subtitle-2 text-bold"},"TOTAL",-1)),t("span",p1,[P[24]||(P[24]=t("sup",{style:{"font-size":"13px"}},"Rp.",-1)),y(" "+r(a(H)(N.value)),1)])])])]),t("div",f1,[t("div",g1,[e(U,{class:"full-width q-py-none",label:"Bayar",color:"primary",icon:"payment",onClick:P[9]||(P[9]=te=>C.value=!0),disable:!ee.$can("admin.sales-order.close")||R.value||M.items.length===0||M.status!=="draft",loading:R.value},null,8,["disable","loading"])]),t("div",b1,[e(U,{class:"q-py-none",icon:"more_vert",color:"grey",onClick:P[13]||(P[13]=W(()=>{},["stop"])),style:{width:"10px"}},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[Z((f(),O(le,{clickable:"",onClick:P[10]||(P[10]=W(te=>z.value=!0,["stop"]))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"edit"})]),_:1}),e(F,null,{default:l(()=>P[26]||(P[26]=[y("Edit Rincian")])),_:1})]),_:1})),[[se],[ue]]),Z((f(),O(le,{clickable:"",onClick:P[11]||(P[11]=W(te=>gt(),["stop"]))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"preview"})]),_:1}),e(F,null,{default:l(()=>P[27]||(P[27]=[y("Pratinjau")])),_:1})]),_:1})),[[se],[ue]]),Z((f(),O(le,{clickable:"",onClick:P[12]||(P[12]=W(te=>pt(),["stop"]))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"cancel",color:"negative"})]),_:1}),e(F,{class:"text-negative"},{default:l(()=>P[28]||(P[28]=[y(" Batalkan ")])),_:1})]),_:1})),[[se],[ue]]),e(Je)]),_:1})]),_:1})]),_:1})])])]),_:1}),e(ko,{ref_key:"itemEditorRef",ref:i,modelValue:A.value,"onUpdate:modelValue":P[14]||(P[14]=te=>A.value=te),item:D.value,onSave:P[15]||(P[15]=te=>oe()),"is-processing":R.value},null,8,["modelValue","item","is-processing"]),e(_o,{modelValue:C.value,"onUpdate:modelValue":P[16]||(P[16]=te=>C.value=te),onAccepted:ft,form:M,customer:V.value,total:N.value,accounts:a(m).props.accounts},null,8,["modelValue","form","customer","total","accounts"]),e(ro,{modelValue:$.value,"onUpdate:modelValue":P[17]||(P[17]=te=>$.value=te),onProductSelected:j},null,8,["modelValue"]),e(ho,{modelValue:z.value,"onUpdate:modelValue":P[18]||(P[18]=te=>z.value=te),data:M,onSave:P[19]||(P[19]=te=>Ne()),"is-processing":R.value},null,8,["modelValue","data","is-processing"]),e(wo,{modelValue:g.value,"onUpdate:modelValue":P[20]||(P[20]=te=>g.value=te)},null,8,["modelValue"]),e($o,{modelValue:T.value,"onUpdate:modelValue":P[21]||(P[21]=te=>T.value=te),order:M,customer:V.value,total:N.value,payment:I.value},null,8,["modelValue","order","customer","total","payment"])]),_:1})]),_:1},512)],64)}}},y1=Object.freeze(Object.defineProperty({__proto__:null,default:v1},Symbol.toStringTag,{value:"Module"})),_1={__name:"SalesOrderStatusChip",props:{status:{type:String,required:!0}},setup(d){const n=window.CONSTANTS.SALES_ORDER_STATUSES,m={draft:"orange",closed:"green",canceled:"red"};return(o,s)=>(f(),O(ia,{status:d.status,statuses:a(n),colors:m},null,8,["status","statuses"]))}},k1={__name:"SalesOrderPaymentStatusChip",props:{status:{type:String,required:!0}},setup(d){const n=window.CONSTANTS.SALES_ORDER_PAYMENT_STATUSES,m={unpaid:"red",fully_paid:"green",partially_paid:"orange",refunded:"black"};return(o,s)=>(f(),O(ia,{status:d.status,statuses:a(n),colors:m},null,8,["status","statuses"]))}};const w1={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},h1={class:"q-pa-xs"},$1={class:"full-width row flex-center text-grey-8 q-gutter-sm"},x1={key:0},S1={key:1},V1={key:2},q1={key:3},C1={key:0},T1={key:1},P1={key:0},O1={key:0},I1={key:1},R1={class:"flex justify-end"},cl="Penjualan",D1={__name:"Index",setup(d){const n=he(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),g=We(b),u=Kt(),c=Yt(),v=[{label:"Semua Tahun",value:"all"},{label:`${u}`,value:u},...It(u-2,u-1).reverse()],_=[{value:"all",label:"Semua Bulan"},...Rt()],p=[{value:"all",label:"Semua Status"},...Ge(window.CONSTANTS.SALES_ORDER_STATUSES)],V=[{value:"all",label:"Semua Status"},...Ge(window.CONSTANTS.SALES_ORDER_PAYMENT_STATUSES)],I=[{value:"all",label:"Semua Status"},...Ge(window.CONSTANTS.SALES_ORDER_DELIVERY_STATUSES)],w=Pe({search:"",year:u,month:c,status:"all",payment_status:"all",delivery_status:"all",...De()}),R=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),C=[{name:"id",label:"Info Order",field:"id",align:"left",sortable:!0},{name:"cashier_id",label:"Kasir",field:"cashier_id",align:"left"},{name:"customer_id",label:"Pelanggan",field:"customer_id",align:"left"},{name:"total",label:"Total",field:"total",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}];we(()=>{M()});const $=x=>{if(x.status=="draft"){A(x);return}z(x)},A=x=>{X.get(route("admin.sales-order.edit",x.id))},z=x=>{X.get(route("admin.sales-order.detail",x.id))},T=x=>{Wt.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${x.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{Ye.post(route("admin.sales-order.cancel",{id:x.id}),{id:x.id}).then(L=>{const ie=L.data.data,j=o.value.findIndex(E=>E.id===ie.id);if(j===-1){console.warn("Item tidak ditemukan di tabel.");return}o.value[j].status="canceled",n.notify({message:L.data.message,position:"bottom"})}).catch(L=>{var j,E;const ie=((E=(j=L.response)==null?void 0:j.data)==null?void 0:E.message)||"Terjadi kesalahan saat membatalkan transaksi.";n.notify({message:ie,color:"warning",position:"bottom"}),console.error(L)})})},D=x=>at({title:"Konfirmasi Penghapusan",message:`Hapus transaksi #${x.formatted_id}?`,url:route("admin.sales-order.delete",x.id),fetchItemsCallback:M,loading:s}),M=(x=null)=>{Ue({pagination:R,filter:w,props:x,rows:o,url:route("admin.sales-order.data"),loading:s,tableRef:i})},N=()=>{M()},B=J(()=>n.screen.gt.sm?C:C.filter(x=>x.name==="id"||x.name==="action"));return Ae(()=>w.year,x=>{x===null&&(w.month=null)}),(x,L)=>{const ie=Q("i-head"),j=Q("authenticated-layout");return f(),h(Y,null,[e(ie,{title:cl}),e(j,null,ze({title:l(()=>[y(r(cl))]),"right-button":l(()=>[e(U,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:L[0]||(L[0]=E=>m.value=!m.value)},null,8,["icon"]),x.$can("admin.sales-order.edit")?(f(),O(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:L[1]||(L[1]=E=>a(X).get(x.route("admin.sales-order.add")))})):k("",!0)]),default:l(()=>[t("div",h1,[e(Te,{ref_key:"tableRef",ref:i,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:R.value,"onUpdate:pagination":L[11]||(L[11]=E=>R.value=E),filter:w.search,loading:s.value,columns:B.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Me({height:a(g)}),onRequest:M,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:E,message:G,filter:ke})=>[t("div",$1,[t("span",null,r(G)+" "+r(ke?" with term "+ke:""),1)])]),body:l(E=>[e(qe,{props:E,class:"cursor-pointer",onClick:W(G=>$(E.row),["prevent"])},{default:l(()=>[e(K,{key:"id",props:E,class:"wrap-column"},{default:l(()=>{var G,ke,oe;return[t("div",null,[e(S,{name:"tag"}),y(" "+r(E.row.formatted_id),1)]),t("div",null,[e(S,{class:"inline-icon",name:"calendar_today"}),y(r(a(be)(E.row.datetime)),1)]),a(n).screen.gt.sm?k("",!0):(f(),h(Y,{key:0},[E.row.cashier?(f(),h("div",x1,[e(S,{name:"person",class:"inline-icon"}),y(" Kasir: "+r((G=E.row.cashier)==null?void 0:G.username),1)])):k("",!0),E.row.cashier_session?(f(),h("div",S1,[e(S,{name:"point_of_sale",class:"inline-icon"}),y(" Terminal: "+r((oe=(ke=E.row.cashier_session)==null?void 0:ke.cashier_terminal)==null?void 0:oe.name),1)])):k("",!0),E.row.customer?(f(),h("div",V1,[e(S,{name:"person",class:"inline-icon"}),e(Rl,{href:x.route("admin.customer.detail",{id:E.row.customer.id}),onClick:L[8]||(L[8]=W(()=>{},["stop"]))},{default:l(()=>[y(" "+r(E.row.customer.username)+" - "+r(E.row.customer.name),1)]),_:2},1032,["href"])])):k("",!0),t("div",null,"Rp. "+r(a(H)(E.row.grand_total)),1),E.row.notes?(f(),h("div",q1,[e(S,{name:"notes"}),y(" "+r(E.row.notes),1)])):k("",!0)],64)),t("div",null,[e(_1,{status:E.row.status},null,8,["status"]),e(k1,{status:E.row.payment_status},null,8,["status"]),k("",!0)])]}),_:2},1032,["props"]),e(K,{key:"cashier_id",props:E},{default:l(()=>{var G,ke,oe;return[E.row.cashier?(f(),h("div",C1,[e(S,{name:"person",class:"inline-icon"}),y(" "+r((G=E.row.cashier)==null?void 0:G.username),1)])):k("",!0),E.row.cashier_session?(f(),h("div",T1,[e(S,{name:"point_of_sale",class:"inline-icon"}),y(" "+r((oe=(ke=E.row.cashier_session)==null?void 0:ke.cashier_terminal)==null?void 0:oe.name),1)])):k("",!0)]}),_:2},1032,["props"]),e(K,{key:"customer_id",props:E},{default:l(()=>[E.row.customer?(f(),h("div",P1,[t("div",null,[e(S,{name:"person",class:"inline-icon"}),y(" "+r(E.row.customer_username)+" - "+r(E.row.customer_name),1)]),E.row.customer_phone?(f(),h("div",O1,[e(S,{name:"phone",class:"inline-icon"}),y(" "+r(E.row.customer_phone),1)])):k("",!0),E.row.customer_address?(f(),h("div",I1,[e(S,{name:"home_pin",class:"inline-icon"}),y(" "+r(E.row.customer_address),1)])):k("",!0)])):k("",!0)]),_:2},1032,["props"]),e(K,{key:"total",props:E},{default:l(()=>[y(r(a(H)(E.row.grand_total)),1)]),_:2},1032,["props"]),e(K,{key:"notes",props:E},{default:l(()=>[e(_e,{text:E.row.notes,icon:"notes"},null,8,["text"])]),_:2},1032,["props"]),e(K,{key:"action",props:E,onClick:L[10]||(L[10]=W(()=>{},["stop"]))},{default:l(()=>[t("div",R1,[x.$can("admin.sales-order.detail")||x.$can("admin.sales-order.edit")||x.$can("admin.sales-order.cancel")||x.$can("admin.sales-order.delete")?(f(),O(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:L[9]||(L[9]=W(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[E.row.status!="draft"&&x.$can("admin.sales-order.detail")?Z((f(),O(le,{key:0,onClick:W(G=>z(E.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"visibility"})]),_:1}),e(F,null,{default:l(()=>L[12]||(L[12]=[y(" Lihat ")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),E.row.status=="draft"&&x.$can("admin.sales-order.edit")?Z((f(),O(le,{key:1,onClick:W(G=>A(E.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"edit"})]),_:1}),e(F,null,{default:l(()=>L[13]||(L[13]=[y(" Edit ")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),E.row.status=="draft"&&x.$can("admin.sales-order.cancel")?Z((f(),O(le,{key:2,onClick:W(G=>T(E.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"cancel"})]),_:1}),e(F,null,{default:l(()=>L[14]||(L[14]=[y(" Batalkan ")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),e(Je),x.$can("admin.sales-order.delete")?Z((f(),O(le,{key:3,onClick:W(G=>D(E.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"delete_forever"})]),_:1}),e(F,null,{default:l(()=>L[15]||(L[15]=[y(" Hapus ")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ze,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",w1,[e(de,{modelValue:w.year,"onUpdate:modelValue":[L[2]||(L[2]=E=>w.year=E),N],options:v,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),w.year!="all"?(f(),O(de,{key:0,modelValue:w.month,"onUpdate:modelValue":[L[3]||(L[3]=E=>w.month=E),N],options:_,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:w.year===null},null,8,["modelValue","disable"])):k("",!0),e(de,{modelValue:w.status,"onUpdate:modelValue":[L[4]||(L[4]=E=>w.status=E),N],options:p,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(de,{modelValue:w.payment_status,"onUpdate:modelValue":[L[5]||(L[5]=E=>w.payment_status=E),N],options:V,label:"Status Pembayaran",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),k("",!0),e(ne,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:w.search,"onUpdate:modelValue":L[7]||(L[7]=E=>w.search=E),placeholder:"Cari",clearable:""},{append:l(()=>[e(S,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},U1=Object.freeze(Object.defineProperty({__proto__:null,default:D1},Symbol.toStringTag,{value:"Module"})),A1={class:"q-gutter-sm"},E1={class:"col col-lg-6 q-pa-xs"},j1={class:"row q-col-gutter-sm q-mb-md"},M1={key:0},N1={class:"text-bold"},B1={key:0},F1={class:"text-caption text-grey-8"},z1={key:1},pl="Buat Penyesuaian Stok",L1={__name:"Create",setup(d){const n=fe(),m=n.props.products,{filteredCategories:o,filterCategories:s}=$a(n.props.categories),{filteredSuppliers:i,filterSupplierFn:b}=xa(n.props.suppliers),g=q({search:null,category_id:null,supplier_id:null}),u=q([]),c=Le({type:"stock_opname",datetime:new Date,notes:null,product_ids:[]}),v=[{name:"name",label:"Nama Produk",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"center",sortable:!1,format:(R,C)=>H(R)+" "+C.uom},{name:"category",label:"Kategori",field:"category.name",align:"left"},{name:"supplier",label:"Supplier",field:"supplier.name",align:"left"},{name:"type",label:"Jenis",field:"product_type",align:"left"}],_=Ge(window.CONSTANTS.STOCK_ADJUSTMENT_TYPES),p=J(()=>m.filter(R=>{let C=!0;if(g.value.search){const $=g.value.search.toLowerCase();C=R.name.toLowerCase().includes($)||R.description.toLowerCase().includes($)||R.barcode&&R.barcode.toLowerCase().includes($)}return C&&g.value.category_id&&(C=R.category_id===g.value.category_id),C&&g.value.supplier_id&&(C=R.supplier_id===g.value.supplier_id),C})),V=()=>{c.product_ids=u.value.map(R=>R.id),Qt(c,{datetime:"YYYY-MM-DD HH:mm:ss"}),Xe({form:c,url:route("admin.stock-adjustment.create")})},I=he(),w=J(()=>I.screen.gt.sm?v:v.filter(R=>R.name==="name"));return(R,C)=>{const $=Q("i-head"),A=Q("authenticated-layout");return f(),h(Y,null,[e($,{title:pl}),e(A,{"show-drawer-button":!0},{title:l(()=>[y(r(pl))]),"left-button":l(()=>[t("div",A1,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:C[0]||(C[0]=z=>a(X).get(R.route("admin.stock-adjustment.index")))})])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",E1,[e(Fe,{class:"row",onSubmit:W(V,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-sm"},{default:l(()=>[C[9]||(C[9]=t("div",{class:"text-subtitle2"},[t("b",null,"Info Penyesuaian Stok")],-1)),e(Nt,{modelValue:a(c).datetime,"onUpdate:modelValue":C[1]||(C[1]=z=>a(c).datetime=z),label:"Waktu",error:!!a(c).errors.datetime,disable:a(c).processing,"error-message":a(c).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(de,{modelValue:a(c).type,"onUpdate:modelValue":C[2]||(C[2]=z=>a(c).type=z),options:a(_),label:"Jenis Penyesuaian",class:"custom-select",error:!!a(c).errors.type,disable:a(c).processing,"map-options":"","emit-value":"","error-message":a(c).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","error-message"]),e(ne,{modelValue:a(c).notes,"onUpdate:modelValue":C[3]||(C[3]=z=>a(c).notes=z),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(c).processing,error:!!a(c).errors.notes,"error-message":a(c).errors.notes,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,null,{default:l(()=>[C[10]||(C[10]=t("div",{class:"text-subtitle2"},[t("b",null,"Pilih Produk")],-1)),t("div",j1,[e(ne,{modelValue:g.value.search,"onUpdate:modelValue":C[4]||(C[4]=z=>g.value.search=z),label:"Cari Produk",dense:"",outlined:"",class:"col-12 col-sm-4",clearable:""},null,8,["modelValue"]),e(de,{modelValue:g.value.category_id,"onUpdate:modelValue":C[5]||(C[5]=z=>g.value.category_id=z),label:"Kategori",class:"custom-select col-xs-12 col-md-4",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:a(o),"map-options":"",dense:"","emit-value":"",onFilter:a(s),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),e(de,{modelValue:g.value.supplier_id,"onUpdate:modelValue":C[6]||(C[6]=z=>g.value.supplier_id=z),label:"Pemasok",class:"custom-select col-xs-12 col-md-4",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:a(i),"map-options":"",dense:"","emit-value":"",onFilter:a(b),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"])]),e(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:w.value,rows:p.value,"binary-state-sort":"","hide-pagination":!0,dense:"","rows-per-page-options":[0],selection:"multiple",selected:u.value,"onUpdate:selected":C[7]||(C[7]=z=>u.value=z)},{"body-cell-name":l(z=>[e(K,{props:z},{default:l(()=>[a(I).screen.lt.md?(f(),h("div",M1,[t("div",N1,r(z.row.name),1),z.row.category?(f(),h("div",B1,r(z.row.category.name),1)):k("",!0),t("div",F1,r(a(H)(z.row.stock))+" "+r(z.row.uom),1)])):(f(),h("div",z1,r(z.row.name),1))]),_:2},1032,["props"])]),_:1},8,["columns","rows","selected"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"play_arrow",type:"submit",label:"Lanjutkan",color:"primary",disable:a(c).processing},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",disable:a(c).processing,onClick:C[8]||(C[8]=z=>a(X).get(R.route("admin.stock-adjustment.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},H1=Object.freeze(Object.defineProperty({__proto__:null,default:L1},Symbol.toStringTag,{value:"Module"})),K1={class:"q-gutter-sm"},Y1={class:"row justify-center"},Q1={class:"col col-lg-8 q-pa-sm"},W1={class:"row"},J1={class:"detail"},G1={key:0},X1={key:1},Z1={class:"text-grey-9"},ev={__name:"Detail",setup(d){const n=fe(),m=`Rincian Penyesuaian Stok #${n.props.data.id}`,o=n.props.details,s=[{name:"no",label:"#",field:"no",align:"left"},{name:"product_name",label:"Nama Produk",field:"product_name",align:"left"},{name:"uom",label:"Satuan",field:"uom",align:"left"},{name:"old_quantity",label:"Stok Lama",field:"old_quantity",align:"right",format:g=>H(g)},{name:"new_quantity",label:"Stok Baru",field:"new_quantity",align:"right",format:g=>H(g)},{name:"balance",label:"Selisih Stok",field:"balance",align:"right",format:g=>H(g)},{name:"cost_balance",label:"Selisih Modal",field:"cost_balance",align:"right"},{name:"price_balance",label:"Selisih Harga",field:"price_balance",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}],i=he(),b=J(()=>i.screen.gt.sm?s:s.filter(g=>g.name==="no"));return(g,u)=>{const c=Q("i-head"),v=Q("i-link"),_=Q("authenticated-layout");return f(),h(Y,null,[e(c,{title:m}),e(_,{"show-drawer-button":!0},{title:l(()=>[y(r(m))]),"left-button":l(()=>[t("div",K1,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:u[0]||(u[0]=p=>g.$inertia.get(g.route("admin.stock-adjustment.index")))})])]),default:l(()=>[t("div",Y1,[t("div",Q1,[t("div",W1,[e(ce,{square:"",flat:"",bordered:"",class:"q-card col"},{default:l(()=>[e(ae,null,{default:l(()=>[u[21]||(u[21]=t("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Penyesuaian Stok ",-1)),t("table",J1,[t("tbody",null,[t("tr",null,[u[1]||(u[1]=t("td",{style:{width:"120px"}},"ID",-1)),u[2]||(u[2]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,"# "+r(a(n).props.data.id),1)]),t("tr",null,[u[3]||(u[3]=t("td",null,"Jenis",-1)),u[4]||(u[4]=t("td",null,":",-1)),t("td",null,r(g.$CONSTANTS.STOCK_ADJUSTMENT_TYPES[a(n).props.data.type]),1)]),t("tr",null,[u[5]||(u[5]=t("td",null,"Status",-1)),u[6]||(u[6]=t("td",null,":",-1)),t("td",null,r(g.$CONSTANTS.STOCK_ADJUSTMENT_STATUSES[a(n).props.data.status]),1)]),t("tr",null,[u[7]||(u[7]=t("td",null,"Waktu",-1)),u[8]||(u[8]=t("td",null,":",-1)),t("td",null,r(g.$dayjs(a(n).props.data.datetime).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)]),a(n).props.data.created_at?(f(),h("tr",G1,[u[10]||(u[10]=t("td",null,"Dibuat Oleh",-1)),u[11]||(u[11]=t("td",null,":",-1)),t("td",null,[a(n).props.data.created_by?(f(),h(Y,{key:0},[e(v,{href:g.route("admin.user.detail",{id:a(n).props.data.created_by})},{default:l(()=>[y(r(a(n).props.data.created_by.username)+" - "+r(a(n).props.data.created_by.name),1)]),_:1},8,["href"]),u[9]||(u[9]=y(" - "))],64)):k("",!0),y(" "+r(g.$dayjs(new Date(a(n).props.data.created_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):k("",!0),a(n).props.data.updated_at?(f(),h("tr",X1,[u[13]||(u[13]=t("td",null,"Diperbarui oleh",-1)),u[14]||(u[14]=t("td",null,":",-1)),t("td",null,[a(n).props.data.updated_by?(f(),h(Y,{key:0},[e(v,{href:g.route("admin.user.detail",{id:a(n).props.data.updated_by})},{default:l(()=>[y(r(a(n).props.data.updated_by.username)+" - "+r(a(n).props.data.updated_by.name),1)]),_:1},8,["href"]),u[12]||(u[12]=y(" - "))],64)):k("",!0),y(" "+r(g.$dayjs(new Date(a(n).props.data.updated_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):k("",!0),t("tr",null,[u[15]||(u[15]=t("td",null,"Total Modal",-1)),u[16]||(u[16]=t("td",null,":",-1)),t("td",null,[t("div",{class:xe(a(n).props.data.total_cost<0?"text-red-10":a(n).props.data.total_cost>0?"text-green-10":"")}," Rp. "+r(a(H)(a(n).props.data.total_cost)),3)])]),t("tr",null,[u[17]||(u[17]=t("td",null,"Total Harga",-1)),u[18]||(u[18]=t("td",null,":",-1)),t("td",null,[t("div",{class:xe(a(n).props.data.total_price<0?"text-red-10":a(n).props.data.total_price>0?"text-green-10":"")}," Rp. "+r(a(H)(a(n).props.data.total_price)),3)])]),t("tr",null,[u[19]||(u[19]=t("td",null,"Catatan",-1)),u[20]||(u[20]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.notes),1)])])])]),_:1}),e(ae,null,{default:l(()=>[u[26]||(u[26]=t("div",{class:"text-subtitle1 text-bold text-grey-9 q-pt-md"}," Rincian ",-1)),e(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",dense:"",columns:b.value,rows:a(o),"hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-no":l(p=>[e(K,{props:p},{default:l(()=>[a(i).screen.lt.md?(f(),h(Y,{key:1},[t("div",Z1,[t("b",null,"#"+r(p.rowIndex+1),1),y(" - "+r(p.row.product_name),1)]),t("div",null,[y(" Stok Lama: "+r(a(H)(p.row.old_quantity))+" "+r(p.row.uom),1),u[23]||(u[23]=t("br",null,null,-1)),y(" Stok Baru: "+r(a(H)(p.row.new_quantity))+" "+r(p.row.uom),1),u[24]||(u[24]=t("br",null,null,-1)),t("div",{class:xe(p.row.balance<0?"text-red-10":p.row.balance>0?"text-green-10":"")},[y(" Selisih: "+r((p.row.balance>0?"+":"")+a(H)(p.row.balance))+" "+r(p.row.uom),1),u[22]||(u[22]=t("br",null,null,-1)),y(" (Rp. "+r(a(H)(p.row.subtotal_cost))+" / Rp. "+r(a(H)(p.row.subtotal_price))+") ",1)],2),u[25]||(u[25]=t("br",null,null,-1)),y(" "+r(p.row.notes),1)])],64)):(f(),h(Y,{key:0},[y(r(p.rowIndex+1),1)],64))]),_:2},1032,["props"])]),"body-cell-balance":l(p=>[e(K,{props:p},{default:l(()=>[t("div",{class:xe(p.row.balance<0?"text-red-10":p.row.balance>0?"text-green-10":"")},r((p.row.balance>0?"+":"")+a(H)(p.row.balance)),3)]),_:2},1032,["props"])]),"body-cell-cost_balance":l(p=>[e(K,{props:p},{default:l(()=>[t("div",{class:xe(p.row.balance<0?"text-red-10":p.row.balance>0?"text-green-10":"")},r(a(H)(p.row.subtotal_cost)),3)]),_:2},1032,["props"])]),"body-cell-price_balance":l(p=>[e(K,{props:p},{default:l(()=>[t("div",{class:xe(p.row.balance<0?"text-red-10":p.row.balance>0?"text-green-10":"")},r(a(H)(p.row.subtotal_price)),3)]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1})]),_:1})])])])]),_:1})],64)}}},tv=Object.freeze(Object.defineProperty({__proto__:null,default:ev},Symbol.toStringTag,{value:"Module"})),av={class:"q-gutter-sm"},lv={class:"col col-lg-6 q-pa-xs"},ov={class:"text-bold"},nv={key:0},sv={class:"text-caption text-grey-8"},fl="Penyesuaian Stok",rv={__name:"Editor",setup(d){const n=fe(),m=Le({id:n.props.item.id,type:n.props.item.type,datetime:new Date(n.props.item.datetime),notes:n.props.item.notes,action:"save",details:[]}),o=Ge(window.CONSTANTS.STOCK_ADJUSTMENT_TYPES),s=n.props.details,i=c=>{const v=()=>{m.action=c,m.details=s.map(_=>({id:_.id,new_quantity:_.new_quantity})),Qt(m,{datetime:"YYYY-MM-DD HH:mm:ss"}),Xe({form:m,url:route("admin.stock-adjustment.save")})};c==="close"||c==="cancel"?Wt.create({title:"Konfirmasi",message:"Aksi ini tidak dapat dibatalkan, apakah Anda yakin?",cancel:!0,persistent:!0}).onOk(()=>{v()}).onCancel(()=>{}):v()},b=[{name:"product_name",label:"Nama Produk",field:"product_name",align:"left",sortable:!0},{name:"uom",label:"Satuan",field:"uom",align:"center"},{name:"old_quantity",label:"Tercatat",field:"old_quantity",align:"right",format:c=>H(c)},{name:"new_quantity",label:"Aktual",field:"new_quantity",align:"right",format:c=>H(c)},{name:"balance",label:"Selisih",field:"balance",align:"right",format:(c,v)=>H(v.new_quantity-v.old_quantity)}],g=he(),u=J(()=>g.screen.gt.sm?b:b.filter(c=>c.name==="product_name"||c.name==="new_quantity"));return(c,v)=>{const _=Q("i-head"),p=Q("authenticated-layout");return f(),h(Y,null,[e(_,{title:fl}),e(p,{"show-drawer-button":!0},{title:l(()=>[y(r(fl))]),"left-button":l(()=>[t("div",av,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:v[0]||(v[0]=V=>c.$inertia.get(c.route("admin.stock-adjustment.index")))})])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",lv,[e(Fe,{class:"row",onSubmit:W(i,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>v[8]||(v[8]=[t("div",{class:"text-subtitle1"},"Info Penyesuaian",-1)])),_:1}),e(ae,{class:"q-pt-none"},{default:l(()=>[Z(t("input",{type:"hidden",name:"id","onUpdate:modelValue":v[1]||(v[1]=V=>a(m).id=V)},null,512),[[dt,a(m).id]]),e(Nt,{modelValue:a(m).datetime,"onUpdate:modelValue":v[2]||(v[2]=V=>a(m).datetime=V),label:"Waktu",error:!!a(m).errors.datetime,disable:a(m).processing,"error-message":a(m).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(de,{modelValue:a(m).type,"onUpdate:modelValue":v[3]||(v[3]=V=>a(m).type=V),options:a(o),label:"Jenis Penyesuaian",class:"custom-select",error:!!a(m).errors.type,disable:a(m).processing,"map-options":"","emit-value":"","error-message":a(m).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","error-message"]),e(ne,{modelValue:a(m).notes,"onUpdate:modelValue":v[4]||(v[4]=V=>a(m).notes=V),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(m).processing,error:!!a(m).errors.notes,"error-message":a(m).errors.notes,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(ae,{class:"q-pa-xs"},{default:l(()=>[e(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:u.value,rows:a(s),"binary-state-sort":"","hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-product_name":l(V=>[e(K,{props:V},{default:l(()=>[t("div",ov,r(V.row.product_name),1),a(g).screen.lt.md?(f(),h("div",nv,[t("div",sv,[y(" Tercatat: "+r(a(H)(V.row.old_quantity))+" ",1),v[9]||(v[9]=t("br",null,null,-1)),y(" Selisih: "+r(a(H)(V.row.new_quantity-V.row.old_quantity)),1)])])):k("",!0)]),_:2},1032,["props"])]),"body-cell-new_quantity":l(V=>[e(K,{props:V,class:"text-center"},{default:l(()=>[e(Re,{modelValue:V.row[V.col.name],"onUpdate:modelValue":I=>V.row[V.col.name]=I,modelModifiers:{number:!0},"input-class":"text-right",dense:"",style:{width:"60px"},"hide-bottom-space":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",onClick:v[5]||(v[5]=V=>i("save")),label:"Simpan",color:"primary",disable:a(m).processing},null,8,["disable"]),e(U,{icon:"done_all",onClick:v[6]||(v[6]=V=>i("close")),label:"Selesaikan",color:"green",disable:a(m).processing},null,8,["disable"]),e(U,{icon:"close",onClick:v[7]||(v[7]=V=>i("cancel")),label:"Batalkan",color:"red",disable:a(m).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},iv=Object.freeze(Object.defineProperty({__proto__:null,default:rv},Symbol.toStringTag,{value:"Module"})),dv={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},uv={class:"q-pa-xs"},mv={class:"full-width row flex-center text-grey-8 q-gutter-sm"},cv={key:0,class:"flex q-gutter-xs"},pv={class:"flex q-col-gutter-xs"},fv={key:0},gv={key:1},bv={class:"flex justify-end"},gl="Penyesuaian Stok",vv={__name:"Index",setup(d){const n=q([]),m=q(!0),o=q(!1),s=q(null),i=q(null),b=We(i),g=Pe({search:"",status:"all",type:"all",...De()}),u=[{value:"all",label:"Semua"},...Ge(window.CONSTANTS.STOCK_ADJUSTMENT_STATUSES)],c=[{value:"all",label:"Semua"},...Ge(window.CONSTANTS.STOCK_ADJUSTMENT_TYPES)],v=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),_=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"status",label:"Status",field:"status",align:"center",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!1},{name:"total_cost",label:"Total Modal",field:"total_cost",align:"right",sortable:!1},{name:"total_price",label:"Total Harga",field:"total_price",align:"right",sortable:!1},{name:"notes",label:"Notes",field:"notes",align:"left",sortable:!1},{name:"action",align:"right"}];we(()=>{V()});const p=$=>at({message:`Hapus Transaksi #${$.id}?`,url:route("admin.stock-adjustment.delete",$.id),fetchItemsCallback:V,loading:m}),V=($=null)=>Ue({pagination:v,filter:g,props:$,rows:n,url:route("admin.stock-adjustment.data"),loading:m,tableRef:s}),I=()=>{V()},w=$=>{$.status=="draft"?X.get(route("admin.stock-adjustment.editor",$.id)):X.get(route("admin.stock-adjustment.detail",$.id))},R=he(),C=J(()=>R.screen.gt.sm?_:_.filter($=>$.name==="id"||$.name==="action"));return($,A)=>{const z=Q("i-head"),T=Q("authenticated-layout");return f(),h(Y,null,[e(z,{title:gl}),e(T,null,ze({"right-button":l(()=>[e(U,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:A[0]||(A[0]=D=>o.value=!o.value)},null,8,["icon"]),$.$can("admin.stock-adjustment.add")?(f(),O(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:A[1]||(A[1]=D=>a(X).get($.route("admin.stock-adjustment.create")))})):k("",!0)]),title:l(()=>[y(r(gl))]),default:l(()=>[t("div",uv,[e(Te,{ref_key:"tableRef",ref:s,flat:"",bordered:"",square:"",color:"primary",class:"full-height-table stock-adjustment-list","row-key":"id","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":A[6]||(A[6]=D=>v.value=D),filter:g.search,loading:m.value,columns:C.value,rows:n.value,"rows-per-page-options":[10,25,50],style:Me({height:a(b)}),onRequest:V,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:D,message:M,filter:N})=>[t("div",mv,[t("span",null,r(M)+" "+r(N?" with term "+N:""),1)])]),body:l(D=>[e(qe,{props:D,onClick:M=>w(D.row),class:"cursor-pointer"},{default:l(()=>[e(K,{key:"id",props:D},{default:l(()=>[a(R).screen.lt.md?(f(),h(Y,{key:1},[t("div",pv,[t("div",null,"#"+r(D.row.formatted_id),1),t("div",null,[e(S,{name:"history"}),y(" "+r($.$dayjs(new Date(D.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),e(Tl,{dense:"",size:"sm",color:D.row.status==="draft"?"orange":D.row.status==="closed"?"green":D.row.status==="canceled"?"red":"",icon:D.row.status==="draft"?"emergency":D.row.status==="closed"?"check":D.row.status==="canceled"?"close":""},{default:l(()=>[y(r($.$CONSTANTS.STOCK_ADJUSTMENT_STATUSES[D.row.status]),1)]),_:2},1032,["color","icon"])]),t("div",null,[e(S,{name:"category"}),y(" "+r($.$CONSTANTS.STOCK_ADJUSTMENT_TYPES[D.row.type]),1)]),D.row.created_by?(f(),h("div",fv,[e(S,{name:"person"}),A[7]||(A[7]=y(" Dibuat: ")),t("b",null,r(D.row.created_by.username),1),e(S,{name:"history"}),y(" "+r($.$dayjs(new Date(D.row.created_at)).format("DD/MM/YYYY HH:mm")),1)])):k("",!0),D.row.updated_by?(f(),h("div",gv,[e(S,{name:"person"}),A[8]||(A[8]=y(" Diperbarui: ")),t("b",null,r(D.row.updated_by.username),1),e(S,{name:"history"}),y(" "+r($.$dayjs(new Date(D.row.updated_at)).format("DD/MM/YYYY HH:mm")),1)])):k("",!0),t("div",{class:xe(D.row.total_cost<0?"text-red-10":D.row.total_cost>0?"text-green-10":"")},[e(S,{name:"money"}),y(" Rp. "+r(a(H)(D.row.total_cost))+" / Rp. "+r(a(H)(D.row.total_price)),1)],2)],64)):(f(),h("div",cv," #"+r(D.row.formatted_id),1))]),_:2},1032,["props"]),e(K,{key:"datetime",props:D},{default:l(()=>[y(r($.$dayjs(new Date(D.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),_:2},1032,["props"]),e(K,{key:"status",props:D,class:"text-center"},{default:l(()=>[y(r($.$CONSTANTS.STOCK_ADJUSTMENT_STATUSES[D.row.status]),1)]),_:2},1032,["props"]),e(K,{key:"type",props:D},{default:l(()=>[y(r($.$CONSTANTS.STOCK_ADJUSTMENT_TYPES[D.row.type]),1)]),_:2},1032,["props"]),e(K,{key:"total_cost",props:D},{default:l(()=>[t("div",{class:xe(D.row.total_cost<0?"text-red-10":D.row.total_cost>0?"text-green-10":"")},r(a(H)(D.row.total_cost)),3)]),_:2},1032,["props"]),e(K,{key:"total_price",props:D},{default:l(()=>[t("div",{class:xe(D.row.total_price<0?"text-red-10":D.row.total_price>0?"text-green-10":"")},r(a(H)(D.row.total_price)),3)]),_:2},1032,["props"]),e(K,{key:"notes",props:D},{default:l(()=>[y(r(D.row.notes),1)]),_:2},1032,["props"]),e(K,{key:"action",props:D},{default:l(()=>[t("div",bv,[$.$can("admin.stock-adjustment.delete")?(f(),O(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:A[5]||(A[5]=W(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[$.$can("admin.stock-adjustment.delete")?Z((f(),O(le,{key:0,onClick:W(M=>p(D.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"delete_forever"})]),_:1}),e(F,null,{default:l(()=>A[9]||(A[9]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Ze,{class:"filter-bar",ref_key:"filterToolbarRef",ref:i},{default:l(()=>[t("div",dv,[e(de,{modelValue:g.status,"onUpdate:modelValue":[A[2]||(A[2]=D=>g.status=D),I],options:u,label:"Status",dense:"","map-options":"",class:"custom-select col-xs-12 col-sm-2","emit-value":"",outlined:""},null,8,["modelValue"]),e(de,{modelValue:g.type,"onUpdate:modelValue":[A[3]||(A[3]=D=>g.type=D),I],options:c,label:"Jenis",dense:"",class:"custom-select col-xs-12 col-sm-2","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ne,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:g.search,"onUpdate:modelValue":A[4]||(A[4]=D=>g.search=D),placeholder:"Cari",clearable:""},{append:l(()=>[e(S,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},yv=Object.freeze(Object.defineProperty({__proto__:null,default:vv},Symbol.toStringTag,{value:"Module"})),_v={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},kv={class:"q-pa-xs"},wv={class:"full-width row flex-center text-grey-8 q-gutter-sm"},hv={key:0},bl="Riwayat Stok",$v={__name:"Index",setup(d){fe();const n=q(null),m=q(null),o=We(m),s=Kt();Yt();const i=[{label:"Semua Tahun",value:"all"},{label:`${s}`,value:s},...It(s-2,s-1).reverse()],b=[{value:"all",label:"Semua Bulan"},...Rt()],g=[{value:"all",label:"Semua"},...Ge(window.CONSTANTS.STOCK_MOVEMENT_REF_TYPES)],u=he(),c=q(!1),v=q([]),_=q(!0),p=Pe({type:"all",search:"",...De()}),V=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"created_at",descending:!0});let I=[{name:"id",label:u.screen.lt.sm?"Item":"#",field:"id",align:"left",sortable:!0},{name:"created_at",label:"Waktu",field:"created_at",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"left",sortable:!0},{name:"product",label:"Produk",field:"product",align:"left"},{name:"quantity_before",label:"Qty Awal",field:"quantity_before",align:"right"},{name:"quantity_after",label:"Qty Akhir",field:"quantity_after",align:"right"},{name:"quantity",label:"Selisih",field:"quantity",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}];we(()=>{const A=new URLSearchParams(window.location.search).get("page");A&&(V.value.page=parseInt(A)),w()});const w=($=null)=>{Ue({pagination:V,filter:p,props:$,rows:v,url:route("admin.stock-movement.data"),loading:_,tableRef:n})},R=()=>{w()},C=J(()=>{let $=[...I];return u.screen.gt.sm?$:$.filter(A=>A.name==="id"||A.name==="quantity")});return($,A)=>{const z=Q("i-head"),T=Q("authenticated-layout");return f(),h(Y,null,[e(z,{title:bl}),e(T,null,ze({title:l(()=>[y(r(bl))]),"right-button":l(()=>[e(U,{icon:c.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:A[0]||(A[0]=D=>c.value=!c.value)},null,8,["icon"])]),default:l(()=>[t("div",kv,[e(Te,{ref_key:"tableRef",ref:n,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:V.value,"onUpdate:pagination":A[5]||(A[5]=D=>V.value=D),filter:p.search,loading:_.value,columns:C.value,rows:v.value,"rows-per-page-options":[10,25,50],style:Me({height:a(o)}),onRequest:w,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:D,message:M,filter:N})=>[t("div",wv,[t("span",null,r(M)+" "+r(N?" with term "+N:""),1)])]),body:l(D=>[e(qe,{props:D},{default:l(()=>[e(K,{key:"id",props:D},{default:l(()=>[t("div",null,[a(u).screen.lt.sm?(f(),h(Y,{key:0},[t("div",null,[e(ut,null,{default:l(()=>[y(r($.$CONSTANTS.STOCK_MOVEMENT_REF_TYPES[D.row.ref_type]),1)]),_:2},1024)]),e(S,{class:"inline-icon",name:"tag"})],64)):k("",!0),y(" "+r(D.row.formatted_id),1)]),a(u).screen.lt.sm?(f(),h(Y,{key:0},[t("div",null,[e(S,{name:"calendar_clock",class:"inline-icon"}),y(" "+r(a(be)(D.row.created_at)),1)]),t("div",null,[e(S,{name:"token",class:"inline-icon"}),y(" "+r(D.row.product.name),1)]),t("div",{class:xe(D.row.quantity>0?"text-positive":"text-negative")},[e(S,{class:"inline-icon",name:"compare_arrows"}),y(" "+r(a(H)(D.row.quantity_before))+" "+r(D.row.uom)+"  "+r(a(H)(D.row.quantity_after))+" "+r(D.row.uom),1)],2),e(_e,{text:D.row.notes,icon:"notes",class:"text-grey-8"},null,8,["text"])],64)):k("",!0)]),_:2},1032,["props"]),e(K,{key:"created_at",props:D},{default:l(()=>[y(r(a(be)(D.row.created_at)),1)]),_:2},1032,["props"]),e(K,{key:"type",props:D},{default:l(()=>[y(r($.$CONSTANTS.STOCK_MOVEMENT_REF_TYPES[D.row.ref_type])+" ",1),D.row.ref?(f(),h("span",hv,r(D.row.ref),1)):k("",!0)]),_:2},1032,["props"]),e(K,{key:"product",props:D},{default:l(()=>[y(r(D.row.product.name),1)]),_:2},1032,["props"]),e(K,{key:"quantity_before",props:D},{default:l(()=>[y(r(a(H)(D.row.quantity_before))+" "+r(D.row.uom),1)]),_:2},1032,["props"]),e(K,{key:"quantity_after",props:D},{default:l(()=>[y(r(a(H)(D.row.quantity_after))+" "+r(D.row.uom),1)]),_:2},1032,["props"]),e(K,{key:"quantity",props:D,class:xe(D.row.quantity>0?"text-positive":"text-negative")},{default:l(()=>[y(r(a(H)(D.row.quantity))+" "+r(D.row.uom),1)]),_:2},1032,["props","class"]),e(K,{key:"notes",props:D},{default:l(()=>[e(_e,{text:D.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[c.value?{name:"header",fn:l(()=>[e(Ze,{class:"filter-bar",ref_key:"filterToolbarRef",ref:m},{default:l(()=>[t("div",_v,[e(de,{modelValue:p.year,"onUpdate:modelValue":[A[1]||(A[1]=D=>p.year=D),R],options:i,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),p.year!="all"?(f(),O(de,{key:0,modelValue:p.month,"onUpdate:modelValue":[A[2]||(A[2]=D=>p.month=D),R],options:b,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:p.year===null},null,8,["modelValue","disable"])):k("",!0),e(de,{modelValue:p.ref_type,"onUpdate:modelValue":[A[3]||(A[3]=D=>p.ref_type=D),R],options:g,label:"Jenis",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(ne,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:p.search,"onUpdate:modelValue":A[4]||(A[4]=D=>p.search=D),placeholder:"Cari",clearable:""},{append:l(()=>[e(S,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},xv=Object.freeze(Object.defineProperty({__proto__:null,default:$v},Symbol.toStringTag,{value:"Module"})),Sv={class:"q-gutter-sm"},Vv={class:"q-gutter-sm"},qv={class:"col col-md-6 q-pa-xs"},Cv={class:"row"},Tv={class:"detail"},vl="Rincian Pemasok",Pv={__name:"Detail",setup(d){const n=fe();return(m,o)=>{const s=Q("i-head"),i=Q("authenticated-layout");return f(),h(Y,null,[e(s,{title:vl}),e(i,{"show-drawer-button":!0},{title:l(()=>[y(r(vl))]),"left-button":l(()=>[t("div",Sv,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=b=>m.$goBack())})])]),"right-button":l(()=>[t("div",Vv,[m.$can("admin.supplier.edit")?(f(),O(U,{key:0,icon:"edit",dense:"",color:"grey",size:"sm",rounded:"",flat:"",onClick:o[1]||(o[1]=b=>a(X).get(m.route("admin.supplier.edit",{id:a(n).props.data.id})))})):k("",!0)])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",qv,[t("div",Cv,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[o[14]||(o[14]=t("div",{class:"text-subtitle1 text-bold text-grey-8"}," Info Pemasok ",-1)),t("table",Tv,[t("tbody",null,[t("tr",null,[o[2]||(o[2]=t("td",{style:{width:"70px"}},"Nama",-1)),o[3]||(o[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.name),1)]),t("tr",null,[o[4]||(o[4]=t("td",null,"Telepon",-1)),o[5]||(o[5]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.phone),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"Alamat",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.address),1)]),t("tr",null,[o[8]||(o[8]=t("td",null,"No. Rek",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.bank_account_number),1)]),t("tr",null,[o[10]||(o[10]=t("td",null,"Alamat Retur",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.return_address),1)]),t("tr",null,[o[12]||(o[12]=t("td",null,"Status",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.active?"Aktif":"Tidak Aktif"),1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Ov=Object.freeze(Object.defineProperty({__proto__:null,default:Pv},Symbol.toStringTag,{value:"Module"})),Iv={class:"q-gutter-sm"},Rv={class:"col col-md-6 q-pa-xs"},Dv={style:{"margin-left":"-10px"}},Uv={__name:"Editor",setup(d){const n=fe(),m=(n.props.data.id?"Edit":"Tambah")+" Pemasok",o=Ul({id:n.props.data.id,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,bank_account_number:n.props.data.bank_account_number,return_address:n.props.data.return_address,active:!!n.props.data.active}),s=()=>Xe({form:o,url:route("admin.supplier.save")});return(i,b)=>{const g=Q("i-head"),u=Q("authenticated-layout");return f(),h(Y,null,[e(g,{title:m}),e(u,{"show-drawer-button":!0},{title:l(()=>[y(r(m))]),"left-button":l(()=>[t("div",Iv,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=c=>i.$goBack())})])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",Rv,[e(Fe,{class:"row",onSubmit:W(s,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>b[9]||(b[9]=[t("div",{class:"text-subtitle1"},"Info Supplier",-1)])),_:1}),e(ae,{class:"q-pt-none"},{default:l(()=>[Z(t("input",{type:"hidden",name:"id","onUpdate:modelValue":b[1]||(b[1]=c=>a(o).id=c)},null,512),[[dt,a(o).id]]),e(ne,{autofocus:"",modelValue:a(o).name,"onUpdate:modelValue":b[2]||(b[2]=c=>a(o).name=c),modelModifiers:{trim:!0},label:"Nama","lazy-rules":"",error:!!a(o).errors.name,disable:a(o).processing,"error-message":a(o).errors.name,rules:[c=>c&&c.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(ne,{modelValue:a(o).phone,"onUpdate:modelValue":b[3]||(b[3]=c=>a(o).phone=c),modelModifiers:{trim:!0},type:"text",label:"No HP","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.phone,"error-message":a(o).errors.phone,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(ne,{modelValue:a(o).address,"onUpdate:modelValue":b[4]||(b[4]=c=>a(o).address=c),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.address,"error-message":a(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(ne,{modelValue:a(o).bank_account_number,"onUpdate:modelValue":b[5]||(b[5]=c=>a(o).bank_account_number=c),modelModifiers:{trim:!0},type:"text",label:"No Rek","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.bank_account_number,"error-message":a(o).errors.bank_account_number,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(ne,{modelValue:a(o).return_address,"onUpdate:modelValue":b[6]||(b[6]=c=>a(o).return_address=c),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat Return","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.return_address,"error-message":a(o).errors.return_address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),t("div",Dv,[e(la,{class:"full-width q-pl-none",modelValue:a(o).active,"onUpdate:modelValue":b[7]||(b[7]=c=>a(o).active=c),disable:a(o).processing,label:"Aktif"},null,8,["modelValue","disable"])])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(o).processing},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",disable:a(o).processing,onClick:b[8]||(b[8]=c=>i.$goBack())},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Av=Object.freeze(Object.defineProperty({__proto__:null,default:Uv},Symbol.toStringTag,{value:"Module"})),Ev={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},jv={class:"q-pa-xs"},Mv={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Nv={class:"flex justify-end"},yl="Pemasok",Bv={__name:"Index",setup(d){const n=he(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),g=We(b),u=Pe({search:"",status:"active",...De()}),c=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),v=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"phone",label:"No HP",field:"phone",align:"left",sortable:!0},{name:"address",label:"Alamat",field:"address",align:"left",sortable:!0},{name:"bank_account_number",label:"No Rek",field:"bank_account_number",align:"left",sortable:!0},{name:"action",align:"right"}],_=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];we(()=>{V()});const p=C=>at({message:`Hapus pemasok ${C.name}?`,url:route("admin.supplier.delete",C.id),fetchItemsCallback:V,loading:s}),V=(C=null)=>{Ue({pagination:c,filter:u,props:C,rows:o,url:route("admin.supplier.data"),loading:s,tableRef:i})},I=()=>V(),w=C=>X.get(route("admin.supplier.detail",{id:C.id})),R=J(()=>n.screen.gt.sm?v:v.filter(C=>C.name==="name"||C.name==="action"));return(C,$)=>{const A=Q("i-head"),z=Q("authenticated-layout");return f(),h(Y,null,[e(A,{title:yl}),e(z,null,ze({title:l(()=>[y(r(yl))]),"right-button":l(()=>[e(U,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:$[0]||($[0]=T=>m.value=!m.value)},null,8,["icon"]),C.$can("admin.supplier.add")?(f(),O(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:$[1]||($[1]=T=>a(X).get(C.route("admin.supplier.add")))})):k("",!0)]),default:l(()=>[t("div",jv,[e(Te,{class:"full-height-table",ref_key:"tableRef",ref:i,s:"",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":$[5]||($[5]=T=>c.value=T),filter:u.search,loading:s.value,columns:R.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Me({height:a(g)}),onRequest:V,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:T,message:D,filter:M})=>[t("div",Mv,[t("span",null,r(D)+" "+r(M?" with term "+M:""),1)])]),body:l(T=>[e(qe,{props:T,class:xe([T.row.active?"":"bg-red-1","cursor-pointer"]),onClick:D=>w(T.row)},{default:l(()=>[e(K,{key:"name",props:T,class:"wrap-column"},{default:l(()=>[t("div",null,[a(n).screen.lt.md?(f(),O(S,{key:0,name:"person"})):k("",!0),y(" "+r(T.row.name),1)]),a(n).screen.lt.md?(f(),h(Y,{key:0},[t("div",null,[e(S,{name:"phone"}),y(" "+r(T.row.phone),1)]),t("div",null,[e(S,{name:"credit_card"}),y(" "+r(T.row.bank_account_number),1)]),t("div",null,[e(S,{name:"home_pin"}),y(" "+r(T.row.address),1)])],64)):k("",!0)]),_:2},1032,["props"]),e(K,{key:"phone",props:T},{default:l(()=>[y(r(T.row.phone),1)]),_:2},1032,["props"]),e(K,{key:"address",props:T},{default:l(()=>[y(r(T.row.address),1)]),_:2},1032,["props"]),e(K,{key:"bank_account_number",props:T},{default:l(()=>[y(r(T.row.bank_account_number),1)]),_:2},1032,["props"]),e(K,{key:"action",props:T},{default:l(()=>[t("div",Nv,[C.$can("admin.supplier.add")||C.$can("admin.supplier.edit")||C.$can("admin.supplier.delete")?(f(),O(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:$[4]||($[4]=W(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[C.$can("admin.supplier.add")?Z((f(),O(le,{key:0,clickable:"",onClick:W(D=>a(X).get(C.route("admin.supplier.duplicate",T.row.id)),["stop"])},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"file_copy"})]),_:1}),e(F,null,{default:l(()=>$[6]||($[6]=[y(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),C.$can("admin.supplier.edit")?Z((f(),O(le,{key:1,clickable:"",onClick:W(D=>a(X).get(C.route("admin.supplier.edit",T.row.id)),["stop"])},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"edit"})]),_:1}),e(F,null,{default:l(()=>$[7]||($[7]=[y("Edit")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),C.$can("admin.supplier.delete")?Z((f(),O(le,{key:2,onClick:W(D=>p(T.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"delete_forever"})]),_:1}),e(F,null,{default:l(()=>$[8]||($[8]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ze,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",Ev,[e(de,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:u.status,"onUpdate:modelValue":[$[2]||($[2]=T=>u.status=T),I],options:_,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ne,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:u.search,"onUpdate:modelValue":$[3]||($[3]=T=>u.search=T),placeholder:"Cari",clearable:""},{append:l(()=>[e(S,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Fv=Object.freeze(Object.defineProperty({__proto__:null,default:Bv},Symbol.toStringTag,{value:"Module"})),xo={__name:"UpdatePasswordForm",setup(d){const n=q(!1),m=q(null),o=q(null),s=Le({current_password:"",password:"",password_confirmation:""}),i=()=>{s.clearErrors(),s.post(route("admin.user-profile.update-password"),{preserveScroll:!0,onSuccess:()=>s.reset(),onError:()=>{s.errors.password&&(s.reset("password","password_confirmation"),m.value.focus()),s.errors.current_password&&(s.reset("current_password"),o.value.focus())}})};return(b,g)=>(f(),O(Fe,{class:"row",onSubmit:W(i,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[g[6]||(g[6]=t("div",{class:"text-h6 q-my-xs text-subtitle1"},"Perbarui Kata Sandi",-1)),g[7]||(g[7]=t("p",{class:"text-caption text-grey-9"}," Pastikan akun anda menggunakan kata sandi yang kuat agar akun tetap aman. ",-1)),e(ne,{modelValue:a(s).current_password,"onUpdate:modelValue":g[1]||(g[1]=u=>a(s).current_password=u),type:n.value?"text":"password",label:"Kata Sandi Sekarang",autocomplete:"off",disable:a(s).processing,error:!!a(s).errors.current_password,"error-message":a(s).errors.current_password,rules:[u=>u&&u.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(U,{dense:"",flat:"",round:"",onClick:g[0]||(g[0]=u=>n.value=!n.value)},{default:l(()=>[e(S,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(ne,{modelValue:a(s).password,"onUpdate:modelValue":g[3]||(g[3]=u=>a(s).password=u),type:n.value?"text":"password",label:"Kata Sandi Baru",autocomplete:"off",disable:a(s).processing,error:!!a(s).errors.password,"error-message":a(s).errors.password,rules:[u=>u&&u.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(U,{dense:"",flat:"",round:"",onClick:g[2]||(g[2]=u=>n.value=!n.value)},{default:l(()=>[e(S,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(ne,{modelValue:a(s).password_confirmation,"onUpdate:modelValue":g[5]||(g[5]=u=>a(s).password_confirmation=u),type:n.value?"text":"password",label:"Konfirmasi Kata Sandi",autocomplete:"off",disable:a(s).processing,error:!!a(s).errors.password_confirmation,"error-message":a(s).errors.password_confirmation,rules:[u=>u&&u.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(U,{dense:"",flat:"",round:"",onClick:g[4]||(g[4]=u=>n.value=!n.value)},{default:l(()=>[e(S,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"])]),_:1}),e(ae,null,{default:l(()=>[e(U,{type:"submit",label:"Perbarui Kata Sandi",color:"primary",icon:"save",disable:a(s).processing,loading:a(s).processing},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},zv=Object.freeze(Object.defineProperty({__proto__:null,default:xo},Symbol.toStringTag,{value:"Module"})),So={__name:"UpdateProfileInformationForm",setup(d){const m=fe().props.auth.user,o=Le({name:m.name,username:m.username,type:window.CONSTANTS.USER_TYPES[m.type]}),s=()=>Xe({form:o,url:route("admin.user-profile.update")});return(i,b)=>(f(),O(Fe,{class:"row",onSubmit:W(s,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[b[3]||(b[3]=t("div",{class:"text-h6 q-my-xs text-subtitle1"},"Profil Saya",-1)),b[4]||(b[4]=t("p",{class:"text-caption text-grey-9"},"Perbarui profil anda.",-1)),e(ne,{modelValue:a(o).username,"onUpdate:modelValue":b[0]||(b[0]=g=>a(o).username=g),label:"ID Pengguna",disable:a(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"]),e(ne,{modelValue:a(o).name,"onUpdate:modelValue":b[1]||(b[1]=g=>a(o).name=g),modelModifiers:{trim:!0},label:"Nama",disable:a(o).processing,error:!!a(o).errors.name,"error-message":a(o).errors.name,rules:[g=>g&&g.length>0||"Name harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(ne,{modelValue:a(o).type,"onUpdate:modelValue":b[2]||(b[2]=g=>a(o).type=g),label:"Jenis Akun",disable:a(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"])]),_:1}),e(ae,null,{default:l(()=>[e(U,{type:"submit",label:"Perbarui Profil Saya",icon:"save",color:"primary",disable:a(o).processing,loading:a(o).processing},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},Lv=Object.freeze(Object.defineProperty({__proto__:null,default:So},Symbol.toStringTag,{value:"Module"})),Hv={class:"q-pa-xs"},Kv={class:"row justify-center"},Yv={class:"col col-md-6"},_l="Profil Saya",Qv={__name:"Edit",setup(d){return(n,m)=>{const o=Q("i-head"),s=Q("authenticated-layout");return f(),h(Y,null,[e(o,{title:_l}),e(s,null,{title:l(()=>[y(r(_l))]),default:l(()=>[t("div",Hv,[t("div",Kv,[t("div",Yv,[e(So,{class:"q-mb-md"}),e(xo)])])])]),_:1})],64)}}},Wv=Object.freeze(Object.defineProperty({__proto__:null,default:Qv},Symbol.toStringTag,{value:"Module"})),Jv={class:"q-gutter-sm"},Gv={class:"q-gutter-sm"},Xv={class:"col col-md-6 q-pa-xs"},Zv={class:"row"},ey={class:"detail"},ty={key:0},ay={key:1,class:"text-grey-8 text-italic"},ly={key:2},oy={class:"text-subtitle2 text-bold text-grey-8 q-mt-xs"},ny={key:3,class:"text-grey-8 text-italic"},kl="Rincian Role Pengguna",sy={__name:"Detail",setup(d){const n=fe(),m=J(()=>{const o={};return n.props.data.permissions&&n.props.data.permissions.forEach(s=>{const i=s.category;o[i]||(o[i]=[]),o[i].push(s)}),o});return(o,s)=>{const i=Q("i-head"),b=Q("authenticated-layout");return f(),h(Y,null,[e(i,{title:kl}),e(b,{"show-drawer-button":!0},{title:l(()=>[y(r(kl))]),"left-button":l(()=>[t("div",Jv,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=g=>o.$goBack())})])]),"right-button":l(()=>[t("div",Gv,[e(U,{icon:"edit",dense:"",color:"grey",size:"sm",rounded:"",flat:"",onClick:s[1]||(s[1]=g=>a(X).get(o.route("admin.user-role.edit",{id:a(n).props.data.id})))})])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",Xv,[t("div",Zv,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[s[6]||(s[6]=t("div",{class:"text-subtitle1 text-bold text-grey-8"},"Info Role",-1)),t("table",ey,[t("tbody",null,[t("tr",null,[s[2]||(s[2]=t("td",{style:{width:"100px"}},"Nama Role",-1)),s[3]||(s[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.name),1)]),t("tr",null,[s[4]||(s[4]=t("td",null,"Deskripsi",-1)),s[5]||(s[5]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.description),1)])])]),s[7]||(s[7]=t("div",{class:"text-subtitle1 text-bold text-grey-8 q-mt-md"}," Daftar Pengguna ",-1)),a(n).props.data.users.length>0?(f(),h("div",ty,[(f(!0),h(Y,null,tt(a(n).props.data.users,g=>(f(),h("div",null,"  "+r(g.username)+" - "+r(g.name),1))),256))])):(f(),h("div",ay," Belum ada akun pengguna yang terdaftar. ")),s[8]||(s[8]=t("div",{class:"text-subtitle1 text-bold text-grey-8 q-mt-md"}," Daftar Hak Akses ",-1)),a(n).props.data.permissions.length>0?(f(),h("div",ly,[(f(!0),h(Y,null,tt(m.value,(g,u)=>(f(),h("div",{key:u},[t("div",oy,r(u),1),(f(!0),h(Y,null,tt(g,c=>(f(),h("div",{key:c.id},"  "+r(c.label),1))),128))]))),128))])):(f(),h("div",ny," Belum ada hak akses yang ditetapkan. "))]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},ry=Object.freeze(Object.defineProperty({__proto__:null,default:sy},Symbol.toStringTag,{value:"Module"})),iy={class:"q-gutter-sm"},dy={class:"col col-md-6 q-pa-xs"},uy={class:"text-subtitle2 text-bold text-grey-8 q-mt-md q-mb-sm"},my={__name:"Editor",setup(d){const n=fe(),m=(n.props.data.id?"Edit":"Tambah")+" Peran Pengguna",o=Le({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description,permissions:n.props.data.permissions?n.props.data.permissions.map(b=>b.id):[]}),s=()=>Xe({form:o,url:route("admin.user-role.save")}),i=J(()=>{const b={};return n.props.permissions&&n.props.permissions.forEach(g=>{const u=g.category;b[u]||(b[u]=[]),b[u].push(g)}),b});return(b,g)=>{const u=Q("i-head"),c=Q("authenticated-layout");return f(),h(Y,null,[e(u,{title:m}),e(c,{"show-drawer-button":!0},{title:l(()=>[y(r(m))]),"left-button":l(()=>[t("div",iy,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:g[0]||(g[0]=v=>b.$goBack())})])]),"right-button":l(()=>[e(U,{icon:"save",label:"Simpan",color:"primary",disable:a(o).processing,size:"sm",dense:"",class:"custom-dense",onClick:W(s,["prevent"])},null,8,["disable"])]),default:l(()=>[e(Se,{class:"row justify-center"},{default:l(()=>[t("div",dy,[e(Fe,{class:"row",onSubmit:W(s,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[Z(t("input",{type:"hidden",name:"id","onUpdate:modelValue":g[1]||(g[1]=v=>a(o).id=v)},null,512),[[dt,a(o).id]]),e(ne,{autofocus:"",modelValue:a(o).name,"onUpdate:modelValue":g[2]||(g[2]=v=>a(o).name=v),modelModifiers:{trim:!0},label:"Nama Role","lazy-rules":"",error:!!a(o).errors.name,disable:a(o).processing,"error-message":a(o).errors.name,rules:[v=>v&&v.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(ne,{modelValue:a(o).description,"onUpdate:modelValue":g[3]||(g[3]=v=>a(o).description=v),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.description,"error-message":a(o).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),(f(!0),h(Y,null,tt(i.value,(v,_)=>(f(),h("div",{key:_},[t("div",uy,r(_),1),(f(!0),h(Y,null,tt(v,p=>(f(),h("div",{key:p.id},[e(la,{class:"q-ma-none q-pa-none list-checkbox",modelValue:a(o).permissions,"onUpdate:modelValue":V=>a(o).permissions=V,val:p.id,label:p.label,color:"primary"},null,8,["modelValue","onUpdate:modelValue","val","label"])]))),128))]))),128))]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},cy=_t(my,[["__scopeId","data-v-c97e395c"]]),py=Object.freeze(Object.defineProperty({__proto__:null,default:cy},Symbol.toStringTag,{value:"Module"})),fy={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},gy={class:"q-pa-xs"},by={class:"full-width row flex-center text-grey-8 q-gutter-sm"},vy={class:"flex justify-end"},wl="Role Pengguna",yy={__name:"Index",setup(d){const n=he(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),g=We(b),u=Pe({search:"",...De()}),c=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),v=[{name:"name",label:"Nama Role",field:"name",align:"left",sortable:!0},{name:"action",align:"right"}];we(()=>{p()});const _=w=>at({message:`Hapus role ${w.name}?`,url:route("admin.user-role.delete",w.id),fetchItemsCallback:p,loading:s}),p=(w=null)=>{Ue({pagination:c,filter:u,props:w,rows:o,url:route("admin.user-role.data"),loading:s,tableRef:i})},V=w=>X.get(route("admin.user-role.detail",{id:w.id})),I=J(()=>n.screen.gt.sm?v:v.filter(w=>w.name==="name"||w.name==="action"));return(w,R)=>{const C=Q("i-head"),$=Q("authenticated-layout");return f(),h(Y,null,[e(C,{title:wl}),e($,null,ze({title:l(()=>[y(r(wl))]),"right-button":l(()=>[e(U,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:R[0]||(R[0]=A=>m.value=!m.value)},null,8,["icon"]),w.$can("admin.user-role.add")?(f(),O(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:R[1]||(R[1]=A=>a(X).get(w.route("admin.user-role.add")))})):k("",!0)]),default:l(()=>[t("div",gy,[e(Te,{class:"full-height-table",ref_key:"tableRef",ref:i,s:"",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":R[4]||(R[4]=A=>c.value=A),filter:u.search,loading:s.value,columns:I.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Me({height:a(g)}),onRequest:p,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:A,message:z,filter:T})=>[t("div",by,[t("span",null,r(z)+" "+r(T?" with term "+T:""),1)])]),body:l(A=>[e(qe,{props:A,class:"cursor-pointer",onClick:z=>V(A.row)},{default:l(()=>[e(K,{key:"name",props:A,class:"wrap-column"},{default:l(()=>[t("div",null,[a(n).screen.lt.md?(f(),O(S,{key:0,name:"person"})):k("",!0),y(" "+r(A.row.name),1)])]),_:2},1032,["props"]),e(K,{key:"action",props:A},{default:l(()=>[t("div",vy,[w.$can("admin.user-role.add")||w.$can("admin.user-role.edit")||w.$can("admin.user-role.delete")?(f(),O(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:R[3]||(R[3]=W(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[w.$can("admin.user-role.add")?Z((f(),O(le,{key:0,clickable:"",onClick:W(z=>a(X).get(w.route("admin.user-role.duplicate",A.row.id)),["stop"])},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"file_copy"})]),_:1}),e(F,null,{default:l(()=>R[5]||(R[5]=[y(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),w.$can("admin.user-role.edit")?Z((f(),O(le,{key:1,clickable:"",onClick:W(z=>a(X).get(w.route("admin.user-role.edit",A.row.id)),["stop"])},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"edit"})]),_:1}),e(F,null,{default:l(()=>R[6]||(R[6]=[y("Edit")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),w.$can("admin.user-role.delete")?Z((f(),O(le,{key:2,onClick:W(z=>_(A.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"delete_forever"})]),_:1}),e(F,null,{default:l(()=>R[7]||(R[7]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Ze,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",fy,[e(ne,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:u.search,"onUpdate:modelValue":R[2]||(R[2]=A=>u.search=A),placeholder:"Cari",clearable:""},{append:l(()=>[e(S,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},_y=Object.freeze(Object.defineProperty({__proto__:null,default:yy},Symbol.toStringTag,{value:"Module"})),ky={class:"q-gutter-sm"},wy={class:"q-gutter-sm"},hy={class:"row justify-center"},$y={class:"col col-md-6 q-pa-xs"},xy={class:"row"},Sy={class:"detail"},Vy={key:0},qy={key:1},Cy={key:2},hl="Rincian Pengguna",Ty={__name:"Detail",setup(d){const n=fe();return(m,o)=>{const s=Q("i-head"),i=Q("authenticated-layout");return f(),h(Y,null,[e(s,{title:hl}),e(i,{"show-drawer-button":!0},{title:l(()=>[y(r(hl))]),"left-button":l(()=>[t("div",ky,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=b=>m.$inertia.get(m.route("admin.user.index")))})])]),"right-button":l(()=>[t("div",wy,[m.$can("admin.user.edit")&&a(n).props.data.id!=a(n).props.auth.user.id?(f(),O(U,{key:0,icon:"edit",dense:"",rounded:"",flat:"",size:"sm",color:"grey",onClick:o[1]||(o[1]=b=>m.$inertia.get(m.route("admin.user.edit",{id:a(n).props.data.id})))})):k("",!0)])]),default:l(()=>[t("div",hy,[t("div",$y,[t("div",xy,[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,null,{default:l(()=>[o[19]||(o[19]=t("div",{class:"text-subtitle1 text-bold text-grey-9"}," Profil Pengguna ",-1)),t("table",Sy,[t("tbody",null,[t("tr",null,[o[2]||(o[2]=t("td",{style:{width:"125px"}},"ID Pengguna",-1)),o[3]||(o[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,r(a(n).props.data.username),1)]),t("tr",null,[o[4]||(o[4]=t("td",null,"Nama Pengguna",-1)),o[5]||(o[5]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.name),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"Jenis Akun",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,r(m.$CONSTANTS.USER_TYPES[a(n).props.data.type]),1)]),a(n).props.data.roles.length>0?(f(),h("tr",Vy,[o[8]||(o[8]=t("td",null,"Peran",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.roles.map(b=>b.name).join(",")),1)])):k("",!0),t("tr",null,[o[10]||(o[10]=t("td",null,"Dibuat",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,r(a(be)(a(n).props.data.created_at)),1)]),a(n).props.data.updated_at?(f(),h("tr",qy,[o[12]||(o[12]=t("td",null,"Diperbarui",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,r(a(be)(a(n).props.data.updated_at)),1)])):k("",!0),t("tr",null,[o[14]||(o[14]=t("td",null,"Terakhir login",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,r(a(n).props.data.last_login_datetime?m.$dayjs(a(n).props.data.last_login_datetime).format("DD MMMM YYYY HH:mm:ss"):"Belum pernah login"),1)]),a(n).props.data.last_activity_datetime?(f(),h("tr",Cy,[o[17]||(o[17]=t("td",null,"Aktifitas Terakhir",-1)),o[18]||(o[18]=t("td",null,":",-1)),t("td",null,[y(r(m.$dayjs(a(n).props.data.last_activity_datetime).format("DD MMMM YYYY HH:mm:ss"))+" ",1),o[16]||(o[16]=t("br",null,null,-1)),y(r(a(n).props.data.last_activity_description),1)])])):k("",!0)])])]),_:1})]),_:1})])])])]),_:1})],64)}}},Py=Object.freeze(Object.defineProperty({__proto__:null,default:Ty},Symbol.toStringTag,{value:"Module"}));function Oy(d){return new RegExp("^(?=.{3,16}$)(?![_-])(?!.*[_-]{2})[a-zA-Z0-9_-]+(?<![_-])$").test(d)}const Iy={class:"q-gutter-sm"},Ry={class:"row justify-center"},Dy={class:"col col-md-6 q-pa-xs"},Uy={__name:"Editor",setup(d){const n=Ge(window.CONSTANTS.USER_TYPES),m=fe(),o=m.props.roles,s=m.props.data.id?"Edit Pengguna":"Tambah Pengguna",i=Le({id:m.props.data.id,name:m.props.data.name,username:m.props.data.username,password:"",type:m.props.data.type?m.props.data.type:n[0].value,active:!!m.props.data.active,roles:m.props.data.roles??[]}),b=()=>Xe({form:i,url:route("admin.user.save")});return(g,u)=>{const c=Q("i-head"),v=Q("authenticated-layout");return f(),h(Y,null,[e(c,{title:a(s)},null,8,["title"]),e(v,{"show-drawer-button":!0},{title:l(()=>[y(r(a(s)),1)]),"left-button":l(()=>[t("div",Iy,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:u[0]||(u[0]=_=>g.$goBack())})])]),default:l(()=>[t("div",Ry,[t("div",Dy,[e(Fe,{class:"row",onSubmit:W(b,["prevent"])},{default:l(()=>[e(ce,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ae,{class:"q-pt-none"},{default:l(()=>[Z(t("input",{type:"hidden",name:"id","onUpdate:modelValue":u[1]||(u[1]=_=>a(i).id=_)},null,512),[[dt,a(i).id]]),e(ne,{modelValue:a(i).name,"onUpdate:modelValue":u[2]||(u[2]=_=>a(i).name=_),modelModifiers:{trim:!0},label:"Nama",error:!!a(i).errors.name,disable:a(i).processing,"error-message":a(i).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(ne,{modelValue:a(i).username,"onUpdate:modelValue":u[3]||(u[3]=_=>a(i).username=_),modelModifiers:{trim:!0},type:"text",label:"ID Pengguna","lazy-rules":"",disable:a(i).processing,error:!!a(i).errors.username,"error-message":a(i).errors.username,rules:[_=>_&&_.length>0||"ID Pengguna harus diisi.",_=>a(Oy)(_)||"ID Pengguna tidak valid."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(ne,{modelValue:a(i).password,"onUpdate:modelValue":u[4]||(u[4]=_=>a(i).password=_),type:"password",label:"Kata Sandi","lazy-rules":"",disable:a(i).processing,error:!!a(i).errors.password,"error-message":a(i).errors.password,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(de,{modelValue:a(i).type,"onUpdate:modelValue":u[5]||(u[5]=_=>a(i).type=_),label:"Jenis Akun",options:a(n),"map-options":"","emit-value":"","lazy-rules":"",disable:a(i).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!a(i).errors.type,"error-message":a(i).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"]),e(de,{modelValue:a(i).roles,"onUpdate:modelValue":u[6]||(u[6]=_=>a(i).roles=_),label:"Peran",options:a(o),"option-value":"id","option-label":"name","map-options":"","emit-value":"",multiple:"","lazy-rules":"","use-chips":"",disable:a(i).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!a(i).errors.roles,"error-message":a(i).errors.roles,"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"]),e(da,{modelValue:a(i).active,"onUpdate:modelValue":u[7]||(u[7]=_=>a(i).active=_),disable:a(i).processing,label:"Aktif"},null,8,["modelValue","disable"])]),_:1}),e(ae,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(i).processing,onClick:b},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",class:"text-black",disable:a(i).processing,onClick:u[8]||(u[8]=_=>g.$goBack())},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})],64)}}},Ay=Object.freeze(Object.defineProperty({__proto__:null,default:Uy},Symbol.toStringTag,{value:"Module"})),Ey={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},jy={class:"q-pa-xs"},My={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ny={class:"elipsis",style:{"max-width":"200px"}},By={class:"flex justify-end"},$l="Pengguna",Fy={__name:"Index",setup(d){const n=[{value:"all",label:"Semua"},...Ge(window.CONSTANTS.USER_TYPES)],m=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],o=fe(),s=he(),i=o.props.auth.user,b=q([]),g=q(!0),u=q(!1),c=Pe({role:"all",status:"active",search:""}),v=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"username",descending:!1}),_=[{name:"username",label:"ID Pengguna",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"role",label:"Hak Akses",field:"role",align:"center",sortable:!0},{name:"action",align:"right"}];we(()=>{V()});const p=()=>V(),V=(z=null)=>Ue({pagination:v,props:z,rows:b,loading:g,filter:c,url:route("admin.user.data"),tableRef:C}),I=z=>at({url:route("admin.user.delete",z.id),message:`Hapus pengguna ${z.username}?`,fetchItemsCallback:V,loading:g}),w=J(()=>s.screen.gt.sm?_:_.filter(z=>z.name==="username"||z.name==="action")),R=z=>X.get(route("admin.user.detail",z.id)),C=q(null),$=q(null),A=We($);return(z,T)=>{const D=Q("i-head"),M=Q("authenticated-layout");return f(),h(Y,null,[e(D,{title:$l}),e(M,null,ze({title:l(()=>[y(r($l))]),"right-button":l(()=>[e(U,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:T[0]||(T[0]=N=>u.value=!u.value)},null,8,["icon"]),z.$can("admin.user.add")?(f(),O(U,{key:0,icon:"add",dense:"",rounded:"",color:"primary",class:"q-ml-sm",onClick:T[1]||(T[1]=N=>a(X).get(z.route("admin.user.add")))})):k("",!0)]),default:l(()=>[t("div",jy,[e(Te,{ref_key:"tableRef",ref:C,class:"full-height-table",style:Me({height:a(A)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":T[6]||(T[6]=N=>v.value=N),filter:c.search,loading:g.value,columns:w.value,rows:b.value,"rows-per-page-options":[10,25,50],onRequest:V,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:N,message:B,term:x})=>[t("div",My,[t("span",null,r(B)+" "+r(x?" with term "+x:""),1)])]),body:l(N=>[e(qe,{props:N,class:xe([N.row.active?"":"bg-red-1","cursor-pointer"]),onClick:B=>R(N.row)},{default:l(()=>[e(K,{key:"username",props:N},{default:l(()=>[t("div",null,[a(s).screen.gt.sm?k("",!0):(f(),h(Y,{key:0},[e(S,{name:"person",class:"inline-icon"}),T[7]||(T[7]=y(" Username: "))],64)),y(" "+r(N.row.username),1)]),a(s).screen.gt.sm?k("",!0):(f(),h(Y,{key:0},[t("div",null,[e(S,{name:"person",class:"inline-icon"}),y(" Nama: "+r(N.row.name),1)]),t("div",Ny,[e(S,{name:"group",class:"inline-icon"}),T[8]||(T[8]=y(" Jenis Akun: ")),t("span",null,r(z.$CONSTANTS.USER_TYPES[N.row.type]),1)]),t("div",null,[e(S,{name:"group",class:"inline-icon"}),y(" Peran: "+r(N.row.roles.map(B=>B.name).join(",")),1)])],64))]),_:2},1032,["props"]),e(K,{key:"name",props:N},{default:l(()=>[y(r(N.row.name),1)]),_:2},1032,["props"]),e(K,{key:"role",props:N,align:"center"},{default:l(()=>[t("span",null,r(z.$CONSTANTS.USER_TYPES[N.row.type]),1)]),_:2},1032,["props"]),e(K,{key:"action",props:N},{default:l(()=>[t("div",By,[z.$can("admin.user.add")||z.$can("admin.user.edit")||z.$can("admin.user.delete")?(f(),O(U,{key:0,disable:N.row.id==a(i).id||N.row.username=="admin",icon:"more_vert",dense:"",flat:"",rounded:"",onClick:T[5]||(T[5]=W(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[z.$can("admin.user.add")?Z((f(),O(le,{key:0,clickable:"",onClick:W(B=>a(X).get(z.route("admin.user.duplicate",N.row.id)),["stop"])},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"file_copy"})]),_:1}),e(F,null,{default:l(()=>T[9]||(T[9]=[y(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),z.$can("admin.user.edit")?Z((f(),O(le,{key:1,clickable:"",onClick:W(B=>a(X).get(z.route("admin.user.edit",N.row.id)),["stop"])},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"edit"})]),_:1}),e(F,null,{default:l(()=>T[10]||(T[10]=[y("Edit")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0),z.$can("admin.user.delete")?Z((f(),O(le,{key:2,onClick:W(B=>I(N.row),["stop"]),clickable:""},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"delete_forever"})]),_:1}),e(F,null,{default:l(()=>T[11]||(T[11]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[se],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["disable"])):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[u.value?{name:"header",fn:l(()=>[e(Ze,{class:"filter-bar",ref_key:"filterToolbarRef",ref:$},{default:l(()=>[t("div",Ey,[e(de,{modelValue:c.type,"onUpdate:modelValue":[T[2]||(T[2]=N=>c.type=N),p],class:"custom-select col-xs-12 col-sm-2",options:n,label:"Jenis Akun",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(de,{modelValue:c.status,"onUpdate:modelValue":[T[3]||(T[3]=N=>c.status=N),p],class:"custom-select col-xs-12 col-sm-2",options:m,label:"Status",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(ne,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:c.search,"onUpdate:modelValue":T[4]||(T[4]=N=>c.search=N),placeholder:"Cari",clearable:""},{append:l(()=>[e(S,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},zy=Object.freeze(Object.defineProperty({__proto__:null,default:Fy},Symbol.toStringTag,{value:"Module"})),Ly=ht({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(d,{slots:n,emit:m}){let o=!1,s,i,b=null,g=null,u,c;function v(){s&&s(),s=null,o=!1,b!==null&&(clearTimeout(b),b=null),g!==null&&(clearTimeout(g),g=null),i!==void 0&&i.removeEventListener("transitionend",u),u=null}function _(w,R,C){R!==void 0&&(w.style.height=`${R}px`),w.style.transition=`height ${d.duration}ms cubic-bezier(.25, .8, .50, 1)`,o=!0,s=C}function p(w,R){w.style.overflowY=null,w.style.height=null,w.style.transition=null,v(),R!==c&&m(R)}function V(w,R){let C=0;i=w,o===!0?(v(),C=w.offsetHeight===w.scrollHeight?0:void 0):(c="hide",w.style.overflowY="hidden"),_(w,C,R),b=setTimeout(()=>{b=null,w.style.height=`${w.scrollHeight}px`,u=$=>{g=null,(Object($)!==$||$.target===w)&&p(w,"show")},w.addEventListener("transitionend",u),g=setTimeout(u,d.duration*1.1)},100)}function I(w,R){let C;i=w,o===!0?v():(c="show",w.style.overflowY="hidden",C=w.scrollHeight),_(w,C,R),b=setTimeout(()=>{b=null,w.style.height=0,u=$=>{g=null,(Object($)!==$||$.target===w)&&p(w,"hide")},w.addEventListener("transitionend",u),g=setTimeout(u,d.duration*1.1)},100)}return oa(()=>{o===!0&&v()}),()=>ve(Vl,{css:!1,appear:d.appear,onEnter:V,onLeave:I},n.default)}}),Tt=wn({}),Hy=Object.keys(Dl),xt=ht({name:"QExpansionItem",props:{...Dl,...$n,..._a,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...hn,"click","afterShow","afterHide"],setup(d,{slots:n,emit:m}){const{proxy:{$q:o}}=Ct(),s=ka(d,o),i=q(d.modelValue!==null?d.modelValue:d.defaultOpened),b=q(null),g=xn(),{show:u,hide:c,toggle:v}=Sn({showing:i});let _,p;const V=J(()=>`q-expansion-item q-item-type q-expansion-item--${i.value===!0?"expanded":"collapsed"} q-expansion-item--${d.popup===!0?"popup":"standard"}`),I=J(()=>d.contentInsetLevel===void 0?null:{["padding"+(o.lang.rtl===!0?"Right":"Left")]:d.contentInsetLevel*56+"px"}),w=J(()=>d.disable!==!0&&(d.href!==void 0||d.to!==void 0&&d.to!==null&&d.to!=="")),R=J(()=>{const oe={};return Hy.forEach(Ve=>{oe[Ve]=d[Ve]}),oe}),C=J(()=>w.value===!0||d.expandIconToggle!==!0),$=J(()=>d.expandedIcon!==void 0&&i.value===!0?d.expandedIcon:d.expandIcon||o.iconSet.expansionItem[d.denseToggle===!0?"denseIcon":"icon"]),A=J(()=>d.disable!==!0&&(w.value===!0||d.expandIconToggle===!0)),z=J(()=>({expanded:i.value===!0,detailsId:g.value,toggle:v,show:u,hide:c})),T=J(()=>{const oe=d.toggleAriaLabel!==void 0?d.toggleAriaLabel:o.lang.label[i.value===!0?"collapse":"expand"](d.label);return{role:"button","aria-expanded":i.value===!0?"true":"false","aria-controls":g.value,"aria-label":oe}});Ae(()=>d.group,oe=>{p!==void 0&&p(),oe!==void 0&&L()});function D(oe){w.value!==!0&&v(oe),m("click",oe)}function M(oe){oe.keyCode===13&&N(oe,!0)}function N(oe,Ve){Ve!==!0&&b.value!==null&&b.value.focus(),v(oe),Ot(oe)}function B(){m("afterShow")}function x(){m("afterHide")}function L(){_===void 0&&(_=Vn()),i.value===!0&&(Tt[d.group]=_);const oe=Ae(i,Ne=>{Ne===!0?Tt[d.group]=_:Tt[d.group]===_&&delete Tt[d.group]}),Ve=Ae(()=>Tt[d.group],(Ne,ft)=>{ft===_&&Ne!==void 0&&Ne!==_&&c()});p=()=>{oe(),Ve(),Tt[d.group]===_&&delete Tt[d.group],p=void 0}}function ie(){const oe={class:[`q-focusable relative-position cursor-pointer${d.denseToggle===!0&&d.switchToggleSide===!0?" items-end":""}`,d.expandIconClass],side:d.switchToggleSide!==!0,avatar:d.switchToggleSide},Ve=[ve(S,{class:"q-expansion-item__toggle-icon"+(d.expandedIcon===void 0&&i.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:$.value})];return A.value===!0&&(Object.assign(oe,{tabindex:0,...T.value,onClick:N,onKeyup:M}),Ve.unshift(ve("div",{ref:b,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),ve(F,oe,()=>Ve)}function j(){let oe;return n.header!==void 0?oe=[].concat(n.header(z.value)):(oe=[ve(F,()=>[ve(ye,{lines:d.labelLines},()=>d.label||""),d.caption?ve(ye,{lines:d.captionLines,caption:!0},()=>d.caption):null])],d.icon&&oe[d.switchToggleSide===!0?"push":"unshift"](ve(F,{side:d.switchToggleSide===!0,avatar:d.switchToggleSide!==!0},()=>ve(S,{name:d.icon})))),d.disable!==!0&&d.hideExpandIcon!==!0&&oe[d.switchToggleSide===!0?"unshift":"push"](ie()),oe}function E(){const oe={ref:"item",style:d.headerStyle,class:d.headerClass,dark:s.value,disable:d.disable,dense:d.dense,insetLevel:d.headerInsetLevel};return C.value===!0&&(oe.clickable=!0,oe.onClick=D,Object.assign(oe,w.value===!0?R.value:T.value)),ve(le,oe,j)}function G(){return Z(ve("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:I.value,id:g.value},qt(n.default)),[[Pl,i.value]])}function ke(){const oe=[E(),ve(Ly,{duration:d.duration,onShow:B,onHide:x},G)];return d.expandSeparator===!0&&oe.push(ve(Je,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:s.value}),ve(Je,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:s.value})),oe}return d.group!==void 0&&L(),oa(()=>{p!==void 0&&p()}),()=>ve("div",{class:V.value},[ve("div",{class:"q-expansion-item__container relative-position"},ke())])}}),Ky={class:"absolute-top",style:{height:"50px","border-bottom":"1px solid #ddd","align-items":"center","justify-content":"center"}},Yy={style:{width:"100%",padding:"8px",display:"flex","justify-content":"space-between"}},Qy={class:"text-bold"},Wy={class:"text-grey-8 text-caption"},Jy={class:"absolute-bottom text-grey-6 q-pa-md"},ba="amanah-pos.layout.left-drawer-open",Gy={__name:"AuthenticatedLayout",props:{showDrawerButton:{type:Boolean,default:!0}},setup(d,{expose:n}){const m=he(),o=fe(),s=q(JSON.parse(localStorage.getItem(ba))),i=q(!1),b=()=>s.value=!s.value,g=()=>{s.value=!1};return Ae(s,u=>{localStorage.setItem(ba,u)}),we(()=>{s.value=JSON.parse(localStorage.getItem(ba)),m.screen.lt.md&&(s.value=!1)}),n({hideDrawer:g}),(u,c)=>(f(),O(Rn,{view:"lHh LpR lFf"},{default:l(()=>[e(qn,null,{default:l(()=>[e(Ze,{class:"bg-grey-1 text-black toolbar-scrolled"},{default:l(()=>[d.showDrawerButton&&!s.value?(f(),O(U,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:b},{default:l(()=>[e(S,{class:"material-symbols-outlined"},{default:l(()=>c[25]||(c[25]=[y("dock_to_right")])),_:1})]),_:1})):k("",!0),Pt(u.$slots,"left-button",{},void 0,!0),e(Cn,{style:{"font-size":"16px"}},{default:l(()=>[Pt(u.$slots,"title",{},()=>[y(r(u.$config.APP_NAME),1)],!0)]),_:3}),Pt(u.$slots,"right-button",{},void 0,!0)]),_:3}),Pt(u.$slots,"header",{},void 0,!0)]),_:3}),e(Tn,{breakpoint:768,modelValue:s.value,"onUpdate:modelValue":c[24]||(c[24]=v=>s.value=v),bordered:"",class:"bg-grey-2",style:{color:"#444"}},{default:l(()=>[t("div",Ky,[t("div",Yy,[e(Pn,{modelValue:i.value,"onUpdate:modelValue":c[2]||(c[2]=v=>i.value=v),class:xe(["profile-btn text-bold",{"profile-btn-active":i.value}]),flat:"",label:a(o).props.company.name,style:{"justify-content":"space-between","flex-grow":"1",overflow:"hidden"}},{default:l(()=>[e(Ee,{id:"profile-btn-popup",style:{color:"#444"}},{default:l(()=>[e(le,null,{default:l(()=>[e(zt,{style:{"margin-left":"-15px"}},{default:l(()=>[e(S,{name:"person"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>[t("div",Qy,r(a(o).props.auth.user.name),1),t("div",Wy,[y(r(u.$CONSTANTS.USER_TYPES[a(o).props.auth.user.type])+" ",1),c[26]||(c[26]=t("br",null,null,-1)),y(" "+r(a(o).props.company.name),1)])]),_:1})]),_:1})]),_:1}),e(Je),Z((f(),O(le,{class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/settings/profile"),onClick:c[0]||(c[0]=v=>a(X).get(u.route("admin.profile.edit")))},{default:l(()=>[e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>[e(S,{name:"manage_accounts",class:"q-mr-sm"}),c[27]||(c[27]=y(" Profil Saya"))]),_:1})]),_:1})]),_:1},8,["active"])),[[ue],[se]]),u.$can("admin.company-profile.edit")?Z((f(),O(le,{key:0,class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/settings/company-profile"),onClick:c[1]||(c[1]=v=>a(X).get(u.route("admin.company-profile.edit")))},{default:l(()=>[e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>[e(S,{name:"home_work",class:"q-mr-sm"}),c[28]||(c[28]=y(" Profil Perusahaan"))]),_:1})]),_:1})]),_:1},8,["active"])),[[ue],[se]]):k("",!0),e(Je),Z((f(),O(le,{clickable:"",style:{color:"inherit"},href:u.route("admin.auth.logout")},{default:l(()=>[e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>[e(S,{name:"logout",class:"q-mr-sm"}),c[29]||(c[29]=y(" Keluar"))]),_:1})]),_:1})]),_:1},8,["href"])),[[ue],[se]])]),_:1})]),_:1},8,["modelValue","label","class"]),s.value?(f(),O(U,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:b},{default:l(()=>[e(S,{name:"dock_to_right"})]),_:1})):k("",!0)])]),e(On,{style:{height:"calc(100% - 50px)","margin-top":"50px"}},{default:l(()=>[e(Ee,{id:"main-nav",style:{"margin-bottom":"50px"}},{default:l(()=>[Z((f(),O(le,{clickable:"",active:u.$page.url.startsWith("/admin/dashboard"),onClick:c[3]||(c[3]=v=>a(X).get(u.route("admin.dashboard")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"dashboard"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[30]||(c[30]=[y("Dashboard")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]),u.$can("admin.sales-order.index")||u.$can("admin.customer.index")?(f(),O(xt,{key:0,icon:"storefront",label:"Penjualan","default-opened":u.$page.url.startsWith("/admin/sales-orders")||u.$page.url.startsWith("/admin/customers")},{default:l(()=>[u.$can("admin.sales-order.index")?Z((f(),O(le,{key:0,class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/sales-orders"),onClick:c[4]||(c[4]=v=>a(X).get(u.route("admin.sales-order.index")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"shopping_cart"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[31]||(c[31]=[y("Penjualan")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]):k("",!0),u.$can("admin.customer.index")?Z((f(),O(le,{key:1,class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/customers"),onClick:c[5]||(c[5]=v=>a(X).get(u.route("admin.customer.index")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"people"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[32]||(c[32]=[y("Pelanggan")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),u.$can("admin.purchase-order.index")||u.$can("admin.supplier.index")?(f(),O(xt,{key:1,icon:"local_shipping",label:"Pembelian","default-opened":u.$page.url.startsWith("/admin/purchase-orders")||u.$page.url.startsWith("/admin/suppliers")},{default:l(()=>[u.$can("admin.purchase-order.index")?Z((f(),O(le,{key:0,class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/purchase-orders"),onClick:c[6]||(c[6]=v=>a(X).get(u.route("admin.purchase-order.index")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"shopping_cart"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[33]||(c[33]=[y("Pembelian")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]):k("",!0),u.$can("admin.supplier.index")?Z((f(),O(le,{key:1,class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/suppliers"),onClick:c[7]||(c[7]=v=>a(X).get(u.route("admin.supplier.index")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"people"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[34]||(c[34]=[y("Pemasok")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),u.$can("admin.product.index")||u.$can("admin.product-category.index")||u.$can("admin.stock-adjustment.index")||u.$can("admin.stock-movement.index")?(f(),O(xt,{key:2,icon:"inventory_2",label:"Inventori","default-opened":u.$page.url.startsWith("/admin/products")||u.$page.url.startsWith("/admin/product-categories")||u.$page.url.startsWith("/admin/stock-adjustments")||u.$page.url.startsWith("/admin/stock-movements")},{default:l(()=>[u.$can("admin.stock-adjustment.index")?Z((f(),O(le,{key:0,class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/stock-adjustments"),onClick:c[8]||(c[8]=v=>a(X).get(u.route("admin.stock-adjustment.index")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"swap_vert"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[35]||(c[35]=[y("Penyesuaian Stok")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]):k("",!0),u.$can("admin.stock-movement.index")?Z((f(),O(le,{key:1,class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/stock-movements"),onClick:c[9]||(c[9]=v=>a(X).get(u.route("admin.stock-movement.index")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"timeline"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[36]||(c[36]=[y("Riwayat Stok")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]):k("",!0),u.$can("admin.product.index")?Z((f(),O(le,{key:2,class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/products"),onClick:c[10]||(c[10]=v=>a(X).get(u.route("admin.product.index")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"box"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[37]||(c[37]=[y("Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]):k("",!0),u.$can("admin.product-category.index")?Z((f(),O(le,{key:3,class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/product-categories"),onClick:c[11]||(c[11]=v=>a(X).get(u.route("admin.product-category.index")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"category"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[38]||(c[38]=[y("Kategori Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),u.$can("admin.cashier-session.index")||u.$can("admin.cashier-terminal.index")?(f(),O(xt,{key:3,icon:"point_of_sale",label:"Kasir","default-opened":u.$page.url.startsWith("/admin/cashier-terminals")||u.$page.url.startsWith("/admin/cashier-session")},{default:l(()=>[u.$can("admin.cashier-session.index")?Z((f(),O(le,{key:0,class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/cashier-sessions"),onClick:c[12]||(c[12]=v=>a(X).get(u.route("admin.cashier-session.index")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"tv_signin"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[39]||(c[39]=[y("Sesi Kasir")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]):k("",!0),u.$can("admin.cashier-terminal.index")?Z((f(),O(le,{key:1,class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/cashier-terminals"),onClick:c[13]||(c[13]=v=>a(X).get(u.route("admin.cashier-terminal.index")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"point_of_sale"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[40]||(c[40]=[y("Terminal Kasir")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),u.$can("admin.customer-wallet-transaction-confirmation.index")||u.$can("admin.customer-wallet-transaction.index")?(f(),O(xt,{key:4,icon:"wallet",label:"Wallet","default-opened":u.$page.url.startsWith("/admin/customer-wallet-transactions")||u.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations")},{default:l(()=>[u.$can("admin.customer-wallet-transaction-confirmation.index")?Z((f(),O(le,{key:0,class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations"),onClick:c[14]||(c[14]=v=>a(X).get(u.route("admin.customer-wallet-transaction-confirmation.index")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"add_task"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[41]||(c[41]=[y("Konfirmasi Top Up")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]):k("",!0),u.$can("admin.customer-wallet-transaction.index")?Z((f(),O(le,{key:1,class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/customer-wallet-transactions"),onClick:c[15]||(c[15]=v=>a(X).get(u.route("admin.customer-wallet-transaction.index")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"moving"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[42]||(c[42]=[y("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),u.$can("admin.finance-transaction.index")||u.$can("admin.finance-account.index")?(f(),O(xt,{key:5,icon:"finance",label:"Keuangan","default-opened":u.$page.url.startsWith("/admin/finance-accounts")||u.$page.url.startsWith("/admin/finance-transactions")},{default:l(()=>[u.$can("admin.finance-transaction.index")?Z((f(),O(le,{key:0,class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/finance-transactions"),onClick:c[16]||(c[16]=v=>a(X).get(u.route("admin.finance-transaction.index")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"moving"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[43]||(c[43]=[y("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]):k("",!0),u.$can("admin.finance-account.index")?Z((f(),O(le,{key:1,class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/finance-accounts"),onClick:c[17]||(c[17]=v=>a(X).get(u.route("admin.finance-account.index")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"groups_2"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[44]||(c[44]=[y("Akun Kas")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),u.$can("admin.operational-cost.index")||u.$can("admin.operational-cost-category.index")?(f(),O(xt,{key:6,icon:"paid",label:"Operasional","default-opened":u.$page.url.startsWith("/admin/operational-costs")||u.$page.url.startsWith("/admin/operational-cost-categories")},{default:l(()=>[u.$can("admin.operational-cost.index")?Z((f(),O(le,{key:0,class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/operational-costs"),onClick:c[18]||(c[18]=v=>a(X).get(u.route("admin.operational-cost.index")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"request_quote"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[45]||(c[45]=[y("Biaya Operasional")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]):k("",!0),u.$can("admin.operational-cost-category.index")?Z((f(),O(le,{key:1,class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/operational-cost-categories"),onClick:c[19]||(c[19]=v=>a(X).get(u.route("admin.operational-cost-category.index")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"category"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[46]||(c[46]=[y("Kategori")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),e(xt,{icon:"settings",label:"Pengaturan","default-opened":u.$page.url.startsWith("/admin/settings")},{default:l(()=>[u.$can("admin.user.index")?Z((f(),O(le,{key:0,class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/settings/users"),onClick:c[20]||(c[20]=v=>a(X).get(u.route("admin.user.index")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"person"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[47]||(c[47]=[y("Pengguna")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]):k("",!0),u.$can("admin.user-role.index")?Z((f(),O(le,{key:1,class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/settings/user-roles"),onClick:c[21]||(c[21]=v=>a(X).get(u.route("admin.user-role.index")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"group"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[48]||(c[48]=[y("Role Pengguna")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]):k("",!0),Z((f(),O(le,{class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/settings/profile"),onClick:c[22]||(c[22]=v=>a(X).get(u.route("admin.user-profile.edit")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"manage_accounts"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[49]||(c[49]=[y("Profil Saya")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]),u.$can("admin.company-profile.edit")?Z((f(),O(le,{key:2,class:"subnav",clickable:"",active:u.$page.url.startsWith("/admin/settings/company-profile"),onClick:c[23]||(c[23]=v=>a(X).get(u.route("admin.company-profile.edit")))},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"apartment"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[50]||(c[50]=[y("Profil Perusahaan")])),_:1})]),_:1})]),_:1},8,["active"])),[[se]]):k("",!0)]),_:1},8,["default-opened"]),Z((f(),O(le,{clickable:"",style:{color:"inherit"},href:u.route("admin.auth.logout")},{default:l(()=>[e(F,{avatar:""},{default:l(()=>[e(S,{name:"logout"})]),_:1}),e(F,null,{default:l(()=>[e(ye,null,{default:l(()=>c[51]||(c[51]=[y("Logout")])),_:1})]),_:1})]),_:1},8,["href"])),[[ue],[se]]),t("div",Jy,"  2025 - "+r(u.$config.APP_NAME+" v"+u.$config.APP_VERSION_STR),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(In,{class:"bg-grey-1"},{default:l(()=>[e(Se,null,{default:l(()=>[Pt(u.$slots,"default",{},void 0,!0)]),_:3})]),_:3}),Pt(u.$slots,"footer",{},void 0,!0)]),_:3}))}},Xy=_t(Gy,[["__scopeId","data-v-83b5d7bb"]]),Zy={__name:"GuestLayout",setup(d){return(n,m)=>(f(),O(Dn,null,{default:l(()=>[Pt(n.$slots,"default")]),_:3}))}};Un({layouts:{authenticated:Xy,guest:Zy},pagesGlob:Object.assign({"./pages/About.vue":Nn,"./pages/_examples/Autocomplete1.vue":Ln,"./pages/auth/Login.vue":Jn,"./pages/cashier-session/Close.vue":ls,"./pages/cashier-session/Detail.vue":Ys,"./pages/cashier-session/Index.vue":Zs,"./pages/cashier-session/Open.vue":lr,"./pages/cashier-session/detail/FinanceTransactionTab.vue":Fs,"./pages/cashier-session/detail/MainInfoTab.vue":qs,"./pages/cashier-session/detail/SalesOrderTab.vue":As,"./pages/cashier-terminal/Detail.vue":_r,"./pages/cashier-terminal/Editor.vue":xr,"./pages/cashier-terminal/Index.vue":Pr,"./pages/cashier-terminal/detail/MainInfoTab.vue":mr,"./pages/cashier-terminal/detail/SessionHistoryTab.vue":fr,"./pages/company-profile/Edit.vue":Ar,"./pages/company-profile/partials/CompanyInfoForm.vue":Or,"./pages/customer-wallet-transaction-confirmation/Detail.vue":Yr,"./pages/customer-wallet-transaction-confirmation/Index.vue":Xr,"./pages/customer-wallet-transaction/Adjustment.vue":ti,"./pages/customer-wallet-transaction/Detail.vue":ci,"./pages/customer-wallet-transaction/Editor.vue":bi,"./pages/customer-wallet-transaction/Index.vue":$i,"./pages/customer/Detail.vue":Hi,"./pages/customer/Editor.vue":Wi,"./pages/customer/Import.vue":ad,"./pages/customer/Index.vue":id,"./pages/customer/detail/MainInfoTab.vue":Ii,"./pages/customer/detail/OrderHistoryTab.vue":Ni,"./pages/customer/detail/WalletHistoryTab.vue":Ui,"./pages/dashboard/Index.vue":Td,"./pages/dashboard/cards/ActualSummaryCard.vue":gd,"./pages/dashboard/cards/ChartCard.vue":kd,"./pages/dashboard/cards/SummaryCard.vue":Md,"./pages/dashboard/cards/TopCard.vue":xd,"./pages/finance-account/Detail.vue":Gd,"./pages/finance-account/Editor.vue":au,"./pages/finance-account/Index.vue":gu,"./pages/finance-account/detail/HistoryTab.vue":Hd,"./pages/finance-account/detail/MainInfoTab.vue":Bd,"./pages/finance-transaction/Detail.vue":Vu,"./pages/finance-transaction/Editor.vue":Pu,"./pages/finance-transaction/Index.vue":ju,"./pages/operational-cost-category/Editor.vue":Fu,"./pages/operational-cost-category/Index.vue":Wu,"./pages/operational-cost/Detail.vue":sm,"./pages/operational-cost/Editor.vue":cm,"./pages/operational-cost/Index.vue":wm,"./pages/product-category/Editor.vue":Sm,"./pages/product-category/Index.vue":Im,"./pages/product/Detail.vue":ec,"./pages/product/Editor.vue":oc,"./pages/product/Import.vue":ic,"./pages/product/Index.vue":_c,"./pages/product/detail/MainInfoTab.vue":Lm,"./pages/product/detail/StockHistoryTab.vue":Ym,"./pages/purchase-order/Detail.vue":_p,"./pages/purchase-order/Editor.vue":Ff,"./pages/purchase-order/Index.vue":tg,"./pages/purchase-order/detail/InvoiceTab.vue":zc,"./pages/purchase-order/detail/PaymentDialog.vue":Gc,"./pages/purchase-order/detail/PaymentTab.vue":fp,"./pages/purchase-order/editor/HelpDialog.vue":Xp,"./pages/purchase-order/editor/ItemEditorDialog.vue":Kp,"./pages/purchase-order/editor/ItemsListTable.vue":xp,"./pages/purchase-order/editor/OrderInfoDialog.vue":af,"./pages/purchase-order/editor/PaymentDialog.vue":Np,"./pages/purchase-order/editor/SuccessDialog.vue":bf,"./pages/sales-order/Detail.vue":tb,"./pages/sales-order/Editor.vue":y1,"./pages/sales-order/Index.vue":U1,"./pages/sales-order/detail/InvoiceTab.vue":Vg,"./pages/sales-order/detail/PaymentDialog.vue":Dg,"./pages/sales-order/detail/PaymentTab.vue":Gg,"./pages/sales-order/editor/HelpDialog.vue":Tb,"./pages/sales-order/editor/ItemEditorDialog.vue":Sb,"./pages/sales-order/editor/ItemsListTable.vue":sb,"./pages/sales-order/editor/OrderInfoDialog.vue":Rb,"./pages/sales-order/editor/PaymentDialog.vue":hb,"./pages/sales-order/editor/SuccessDialog.vue":Kb,"./pages/stock-adjustment/Create.vue":H1,"./pages/stock-adjustment/Detail.vue":tv,"./pages/stock-adjustment/Editor.vue":iv,"./pages/stock-adjustment/Index.vue":yv,"./pages/stock-movement/Index.vue":xv,"./pages/supplier/Detail.vue":Ov,"./pages/supplier/Editor.vue":Av,"./pages/supplier/Index.vue":Fv,"./pages/user-profile/Edit.vue":Wv,"./pages/user-profile/partials/UpdatePasswordForm.vue":zv,"./pages/user-profile/partials/UpdateProfileInformationForm.vue":Lv,"./pages/user-role/Detail.vue":ry,"./pages/user-role/Editor.vue":py,"./pages/user-role/Index.vue":_y,"./pages/user/Detail.vue":Py,"./pages/user/Editor.vue":Ay,"./pages/user/Index.vue":zy})});
