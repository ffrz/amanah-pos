import{_ as ft,r as L,c as h,o as g,a as e,w as l,b as a,Q as ie,d as le,e as v,F as H,f as q,g as R,h as k,i as se,t as r,u as t,j as Y,k as it,l as Zt,T as Be,m as $o,n as xe,p as Me,q as Q,s as ze,v as Rt,x,y as ae,z as U,A as gt,B as me,C as Ue,D as X,E as Xe,G as tt,H as W,I as ho,J as da,K as $l,L as xt,M as J,N as ea,O as $e,R as ne,P as fe,S as hl,U as xo,V as So,W as Ct,X as bt,Y as ua,Z as fa,$ as Vo,a0 as Ne,a1 as qo,a2 as Co,a3 as To,a4 as $t,a5 as Po,a6 as Oo,a7 as ma,a8 as Dt,a9 as ca,aa as Ca,ab as Io,ac as Qt,ad as Ta,ae as Do,af as Pa,ag as Ro,ah as xl,ai as Uo,aj as jo,ak as Mo,al as _a,am as ya,an as Ao,ao as kt,ap as be,aq as Pe,ar as Ie,as as De,at as we,au as Ve,av as z,aw as ve,ax as rt,ay as Re,az as Ce,aA as ga,aB as ye,aC as st,aD as We,aE as Ye,aF as Je,aG as Ae,aH as Qe,aI as je,aJ as ee,aK as M,aL as re,aM as Ge,aN as Ee,aO as Sl,aP as ta,aQ as aa,aR as Ft,aS as Lt,aT as Pt,aU as Ot,aV as Ke,aW as Oa,aX as Ht,aY as Ia,aZ as la,a_ as ht,a$ as Ut,b0 as wa,b1 as Yt,b2 as Eo,b3 as No,b4 as Vl,b5 as Bo,b6 as zo,b7 as Fo,b8 as Lo,b9 as Da,ba as Ho,bb as Yo,bc as Ko,bd as Qo,be as ql,bf as at,bg as Wo,bh as Ra,bi as Jo,bj as Go,bk as Xo,bl as Zo,bm as en,bn as tn,bo as an,bp as ge,bq as Jt,br as nt,bs as ln,bt as on,bu as nn,bv as Cl,bw as Gt,bx as oa,by as zt,bz as Tt,bA as vt,bB as ba,bC as sn,bD as rn,bE as dn,bF as un,bG as mn,bH as cn,bI as Et,bJ as Nt,bK as Bt,bL as ka,bM as Tl,bN as pn,bO as fn,bP as gn,bQ as bn,bR as Pl,bS as vn,bT as _n,bU as yn,bV as Vt,bW as wn,bX as kn,bY as $n,bZ as hn,b_ as xn,b$ as Sn,c0 as Vn,c1 as qn,c2 as Cn}from"./BaseGuestLayout-D5cgI487.js";const Tn={},Pn={class:"row"};function On(u,n){const m=L("i-head"),o=L("authenticated-layout");return g(),h(H,null,[e(m,{title:"About"}),e(o,null,{title:l(()=>n[0]||(n[0]=[v("About")])),default:l(()=>[a("div",Pn,[e(ie,{class:"col q-pa-md q-ma-md",square:"",flat:"",bordered:""},{default:l(()=>[e(le,null,{default:l(()=>n[1]||(n[1]=[a("div",{class:"q-mb-md text-h4"},"About",-1),a("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Autem soluta, accusamus placeat eius eligendi perferendis quisquam veritatis iste debitis laboriosam facere et aliquam quos beatae illo distinctio rerum eos! Expedita, voluptatem. Aut nihil deleniti magni fuga eius labore aliquam nulla quod ullam sunt amet eum asperiores, harum unde eligendi tempore sapiente. Placeat sed, dignissimos voluptatum perspiciatis saepe aspernatur, maxime est, ipsam quas nobis cumque sunt labore molestias? Amet in sed ullam recusandae, nostrum dicta facilis blanditiis incidunt quae commodi soluta id impedit vel fugit illo, molestias reiciendis, provident nam molestiae! Ipsam, hic. Facere aut quisquam praesentium enim illum, pariatur nam.",-1),a("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, cum nulla. Ut eligendi tenetur aliquam cum mollitia repellat voluptas, fugiat doloremque sunt commodi enim excepturi distinctio id sapiente incidunt ipsam asperiores cupiditate, labore libero! Ad facere magni cumque perspiciatis, adipisci possimus pariatur quo nobis minus, est enim similique quaerat vel asperiores ipsam harum et, totam fugit.",-1),a("p",null,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Suscipit aspernatur maxime consectetur, consequatur excepturi facilis praesentium rem placeat sapiente, maiores doloribus modi voluptate. Unde autem dolor officiis numquam incidunt quasi aspernatur nam dolores ratione quidem recusandae, nulla qui provident molestias odit nemo praesentium quas voluptatem aliquid perferendis, iste veritatis vitae. Dolor, eligendi quidem distinctio asperiores doloremque culpa corporis quibusdam earum ex laudantium iure officia ullam nostrum maxime voluptatum laboriosam impedit labore illum. Culpa, veniam dolor odio ad eius nisi, aspernatur quia veritatis blanditiis repellat id minima deserunt beatae?",-1)])),_:1})]),_:1})])]),_:1})],64)}const In=ft(Tn,[["render",On]]),Dn=Object.freeze(Object.defineProperty({__proto__:null,default:In},Symbol.toStringTag,{value:"Module"})),Rn={class:"q-ma-md"},Un={key:0},jn={__name:"Autocomplete1",setup(u){const n=q(null),m=q([]);let o=null;const s=(i,b)=>{if(i.length<2){b(()=>{m.value=[]});return}o&&clearTimeout(o),o=setTimeout(()=>{it.get(`/web-api/customers?q=${i}`).then(c=>{const d=c.data.data.map(f=>({label:`${f.username} - ${f.name}`,value:f.id,data:f}));b(()=>{m.value=d})}).catch(c=>{console.error("Gagal mengambil data pelanggan:",c),b(()=>{m.value=[]})})})};return(i,b)=>{const c=L("guest-layout");return g(),R(c,null,{default:l(()=>[a("div",Rn,[e(se,{class:"full-width",modelValue:n.value,"onUpdate:modelValue":b[0]||(b[0]=d=>n.value=d),"use-input":"",label:"Cari Pelanggan",options:m.value,onFilter:s,hint:"Ketik minimal 2 karakter untuk mencari",clearable:""},null,8,["modelValue","options"]),n.value?(g(),h("div",Un," Saldo: Rp. "+r(t(Y)(n.value.data.balance)),1)):k("",!0)])]),_:1})}}},Mn=Object.freeze(Object.defineProperty({__proto__:null,default:jn},Symbol.toStringTag,{value:"Module"})),An={style:{"margin-left":"-10px"}},na={__name:"StandardCheckBox",props:{modelValue:{type:Boolean,required:!0},disable:{type:Boolean,default:!1},label:{type:String,default:""}},emits:["update:modelValue"],setup(u,{emit:n}){const m=u,o=n;return(s,i)=>(g(),h("div",An,[e(Zt,{class:"full-width q-pl-none","model-value":m.modelValue,disable:m.disable,label:m.label,"onUpdate:modelValue":i[0]||(i[0]=b=>o("update:modelValue",b))},null,8,["model-value","disable","label"])]))}};function va(u){return u instanceof File||u instanceof Blob||u instanceof FileList&&u.length>0||u instanceof FormData&&Array.from(u.values()).some(n=>va(n))||typeof u=="object"&&u!==null&&Object.values(u).some(n=>va(n))}function $a(u,n=null){const m=Be(u,n);let o=b=>b,s=null;const i={transform:b=>c=>(o=c,b),submit:b=>(c,d,f={})=>{m.wasSuccessful=!1,m.recentlySuccessful=!1,m.clearErrors(),clearTimeout(s),f.onBefore&&f.onBefore(),m.processing=!0,f.onStart&&f.onStart();const _=o(m.data());axios[c](d,_,{headers:{"Content-Type":va(_)?"multipart/form-data":"application/json"},onUploadProgress:y=>{m.progress=y,f.onProgress&&f.onProgress(y)}}).then(y=>{m.processing=!1,m.progress=null,m.clearErrors(),m.wasSuccessful=!0,m.recentlySuccessful=!0,s=setTimeout(()=>m.recentlySuccessful=!1,2e3),f.onSuccess&&f.onSuccess(y.data),m.defaults($o(m.data())),m.isDirty=!1}).catch(y=>{var p;m.processing=!1,m.progress=null,m.clearErrors(),((p=y.response)==null?void 0:p.status)===422&&Object.keys(y.response.data.errors).forEach(C=>{m.setError(C,y.response.data.errors[C][0])}),f.onError&&f.onError(y)}).finally(()=>{m.processing=!1,m.progress=null,f.onFinish&&f.onFinish()})}};return new Proxy(m,{get:(b,c,d)=>Object.keys(i).indexOf(c)<0?b[c]:i[c](d)})}const En={class:"column"},Nn={class:"row"},Bn={class:"flex justify-center"},zn={__name:"Login",setup(u){let n=$a({username:window.CONFIG.APP_DEMO?"admin":"",password:window.CONFIG.APP_DEMO?"12345":"",remember:!0});const m=()=>ze({form:n,url:route("admin.auth.login"),onSuccess:()=>{n.processing=!0,window.location.href=route("admin.dashboard")}}),o=q(!1);return(s,i)=>{const b=L("i-head"),c=L("guest-layout");return g(),h(H,null,[e(b,{title:"Login"}),e(c,null,{default:l(()=>[e(xe,{class:"row justify-center items-center"},{default:l(()=>[a("div",En,[a("div",Nn,[e(Me,{class:"q-gutter-md",onSubmit:Q(m,["prevent"])},{default:l(()=>[e(ie,{square:"",bordered:"",flat:"",class:"q-pa-md"},{default:l(()=>[e(le,{class:"text-center"},{default:l(()=>[a("div",Bn,[e(Rt,{size:"80px"},{default:l(()=>[e(x,{name:"badge",color:"primary"})]),_:1})]),i[4]||(i[4]=a("h6",{class:"q-my-sm text-primary"},"Login Staff",-1))]),_:1}),e(le,null,{default:l(()=>[e(ae,{modelValue:t(n).username,"onUpdate:modelValue":i[0]||(i[0]=d=>t(n).username=d),modelModifiers:{trim:!0},label:"Username","lazy-rules":"",error:!!t(n).errors.username,autocomplete:"username","error-message":t(n).errors.username,disable:t(n).processing,rules:[d=>d&&d.length>0||"Masukkan Username"],"hide-bottom-space":"","data-test":"username"},{append:l(()=>[e(x,{name:"person"})]),_:1},8,["modelValue","error","error-message","disable","rules"]),e(ae,{modelValue:t(n).password,"onUpdate:modelValue":i[2]||(i[2]=d=>t(n).password=d),type:o.value?"text":"password",label:"Kata Sandi",error:!!t(n).errors.password,autocomplete:"current-password","error-message":t(n).errors.password,"lazy-rules":"",disable:t(n).processing,rules:[d=>d&&d.length>0||"Masukkan kata sandi"],"hide-bottom-space":"","data-test":"password"},{append:l(()=>[e(U,{dense:"",flat:"",round:"",onClick:i[1]||(i[1]=d=>o.value=!o.value)},{default:l(()=>[e(x,{name:o.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","error","error-message","disable","rules"]),e(na,{class:"q-mt-sm",modelValue:t(n).remember,"onUpdate:modelValue":i[3]||(i[3]=d=>t(n).remember=d),disable:t(n).processing,label:"Ingat saya di perangkat ini"},null,8,["modelValue","disable"])]),_:1}),e(gt,null,{default:l(()=>[e(U,{icon:"login",type:"submit",color:"primary",class:"full-width",label:"Login",disable:t(n).processing,loading:t(n).loading,"data-test":"submit"},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Fn=Object.freeze(Object.defineProperty({__proto__:null,default:zn},Symbol.toStringTag,{value:"Module"})),Ln={class:"q-gutter-sm"},Hn={class:"col col-md-6 q-pa-xs"},Yn={class:"detail q-mt-md"},Kn={key:0},Qn={class:"text-bold"},Ua="Tutup Sesi Kasir",Wn={__name:"Close",setup(u){const n=me(),m=Be({closing_notes:n.props.data.closing_notes,closing_balance:parseFloat(n.props.data.closing_balance)}),o=()=>ze({form:m,url:route("admin.cashier-session.close",{id:n.props.data.id})});return(s,i)=>{const b=L("i-head"),c=L("authenticated-layout");return g(),h(H,null,[e(b,{title:Ua}),e(c,null,{title:l(()=>[v(r(Ua))]),"left-button":l(()=>[a("div",Ln,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=d=>s.$inertia.get(s.route("admin.cashier-session.index")))})])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",Hn,[e(Me,{class:"row",onSubmit:Q(o,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[X(a("input",{type:"hidden",name:"id","onUpdate:modelValue":i[1]||(i[1]=d=>t(m).id=d)},null,512),[[Xe,t(m).id]]),e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[a("table",Yn,[a("tbody",null,[a("tr",null,[i[4]||(i[4]=a("td",{style:{width:"130px"}},"Session ID",-1)),i[5]||(i[5]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,r(t(n).props.data.id),1)]),a("tr",null,[i[6]||(i[6]=a("td",null,"Terminal",-1)),i[7]||(i[7]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.cashier_terminal.name),1)]),a("tr",null,[i[8]||(i[8]=a("td",null,"Kasir",-1)),i[9]||(i[9]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.user.username)+" - "+r(t(n).props.data.user.name),1)]),a("tr",null,[i[10]||(i[10]=a("td",null,"Saldo Awal",-1)),i[11]||(i[11]=a("td",null,":",-1)),a("td",null,r(t(tt)(t(n).props.data.opening_balance)),1)]),t(n).props.data.opening_notes?(g(),h("tr",Kn,[i[12]||(i[12]=a("td",null,"Catatan Buka",-1)),i[13]||(i[13]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.opening_notes),1)])):k("",!0),a("tr",null,[i[14]||(i[14]=a("td",null,"Total Penjualan",-1)),i[15]||(i[15]=a("td",null,":",-1)),a("td",null,r(t(tt)(t(n).props.data.total_sales)),1)]),a("tr",null,[i[16]||(i[16]=a("td",null,"Total Pemasukan",-1)),i[17]||(i[17]=a("td",null,":",-1)),a("td",null,r(t(tt)(t(n).props.data.total_income)),1)]),a("tr",null,[i[18]||(i[18]=a("td",null,"Total Pengeluaran",-1)),i[19]||(i[19]=a("td",null,":",-1)),a("td",null,r(t(tt)(t(n).props.data.total_expense)),1)]),a("tr",null,[i[21]||(i[21]=a("td",null,"Saldo Akhir",-1)),i[22]||(i[22]=a("td",null,":",-1)),a("td",null,[a("div",Qn,r(t(tt)(t(n).props.data.closing_balance)),1),i[20]||(i[20]=a("div",{class:"text-red"}," Pastikan saldo akhir sesuai dengan jumlah uang di laci! ",-1))])])])]),e(ae,{modelValue:t(m).closing_notes,"onUpdate:modelValue":i[2]||(i[2]=d=>t(m).closing_notes=d),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Catatan",disable:t(m).processing,error:!!t(m).errors.closing_notes,"error-message":t(m).errors.closing_notes,rules:[],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(U,{type:"submit",label:"Tutup",icon:"logout",color:"primary",disable:t(m).processing},null,8,["disable"]),e(U,{label:"Batal",icon:"cancel",disable:t(m).processing,onClick:i[3]||(i[3]=d=>t(W).get(s.route("admin.cashier-session.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Jn=Object.freeze(Object.defineProperty({__proto__:null,default:Wn},Symbol.toStringTag,{value:"Module"}));let Gn=0;const Xn=["click","keydown"],Zn={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Gn++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function es(u,n,m,o){const s=ho($l,da);if(s===da)return console.error("QTab/QRouteTab component needs to be child of QTabs"),da;const{proxy:i}=xt(),b=q(null),c=q(null),d=q(null),f=J(()=>u.disable===!0||u.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},u.ripple===!0?{}:u.ripple)),_=J(()=>s.currentModel.value===u.name),y=J(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(_.value===!0?" q-tab--active"+(s.tabProps.value.activeClass?" "+s.tabProps.value.activeClass:"")+(s.tabProps.value.activeColor?` text-${s.tabProps.value.activeColor}`:"")+(s.tabProps.value.activeBgColor?` bg-${s.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(u.icon&&u.label&&s.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(u.noCaps===!0||s.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(u.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),p=J(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(s.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(u.contentClass!==void 0?` ${u.contentClass}`:"")),C=J(()=>u.disable===!0||s.hasFocus.value===!0||_.value===!1&&s.hasActiveTab.value===!0?-1:u.tabindex||0);function S(P,N){if(N!==!0&&b.value!==null&&b.value.focus(),u.disable!==!0){s.updateModel({name:u.name}),m("click",P);return}}function $(P){xo(P,[13,32])?S(P,!0):So(P)!==!0&&P.keyCode>=35&&P.keyCode<=40&&P.altKey!==!0&&P.metaKey!==!0&&s.onKbdNavigate(P.keyCode,i.$el)===!0&&Ct(P),m("keydown",P)}function E(){const P=s.tabProps.value.narrowIndicator,N=[],V=fe("div",{ref:d,class:["q-tab__indicator",s.tabProps.value.indicatorClass]});u.icon!==void 0&&N.push(fe(x,{class:"q-tab__icon",name:u.icon})),u.label!==void 0&&N.push(fe("div",{class:"q-tab__label"},u.label)),u.alert!==!1&&N.push(u.alertIcon!==void 0?fe(x,{class:"q-tab__alert-icon",color:u.alert!==!0?u.alert:void 0,name:u.alertIcon}):fe("div",{class:"q-tab__alert"+(u.alert!==!0?` text-${u.alert}`:"")})),P===!0&&N.push(V);const T=[fe("div",{class:"q-focus-helper",tabindex:-1,ref:b}),fe("div",{class:p.value},hl(n.default,N))];return P===!1&&T.push(V),T}const I={name:J(()=>u.name),rootRef:c,tabIndicatorRef:d,routeData:o};ea(()=>{s.unregisterTab(I)}),$e(()=>{s.registerTab(I)});function w(P,N){const V={ref:c,class:y.value,tabindex:C.value,role:"tab","aria-selected":_.value===!0?"true":"false","aria-disabled":u.disable===!0?"true":void 0,onClick:S,onKeydown:$,...N};return X(fe(P,V,E()),[[ne,f.value]])}return{renderTab:w,$tabs:s}}const lt=bt({name:"QTab",props:Zn,emits:Xn,setup(u,{slots:n,emit:m}){const{renderTab:o}=es(u,n,m);return()=>o("div")}});function ts(u,n,m){const o=m===!0?["left","right"]:["top","bottom"];return`absolute-${n===!0?o[0]:o[1]}${u?` text-${u}`:""}`}const as=["left","center","right","justify"],jt=bt({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:u=>as.includes(u)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(u,{slots:n,emit:m}){const{proxy:o}=xt(),{$q:s}=o,{registerTick:i}=ua(),{registerTick:b}=ua(),{registerTick:c}=ua(),{registerTimeout:d,removeTimeout:f}=fa(),{registerTimeout:_,removeTimeout:y}=fa(),p=q(null),C=q(null),S=q(u.modelValue),$=q(!1),E=q(!0),I=q(!1),w=q(!1),P=[],N=q(0),V=q(!1);let T=null,D=null,B;const A=J(()=>({activeClass:u.activeClass,activeColor:u.activeColor,activeBgColor:u.activeBgColor,indicatorClass:ts(u.indicatorColor,u.switchIndicator,u.vertical),narrowIndicator:u.narrowIndicator,inlineLabel:u.inlineLabel,noCaps:u.noCaps})),O=J(()=>{const oe=N.value,ce=S.value;for(let _e=0;_e<oe;_e++)if(P[_e].name.value===ce)return!0;return!1}),Z=J(()=>`q-tabs__content--align-${$.value===!0?"left":w.value===!0?"justify":u.align}`),de=J(()=>`q-tabs row no-wrap items-center q-tabs--${$.value===!0?"":"not-"}scrollable q-tabs--${u.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${u.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${u.mobileArrows===!0?"":"out"}-arrows`+(u.dense===!0?" q-tabs--dense":"")+(u.shrink===!0?" col-shrink":"")+(u.stretch===!0?" self-stretch":"")),j=J(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+Z.value+(u.contentClass!==void 0?` ${u.contentClass}`:"")),F=J(()=>u.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),G=J(()=>u.vertical!==!0&&s.lang.rtl===!0),ke=J(()=>Vo===!1&&G.value===!0);Ne(G,_t),Ne(()=>u.modelValue,oe=>{te({name:oe,setCurrent:!0,skipEmit:!0})}),Ne(()=>u.outsideArrows,Te);function te({name:oe,setCurrent:ce,skipEmit:_e}){S.value!==oe&&(_e!==!0&&u["onUpdate:modelValue"]!==void 0&&m("update:modelValue",oe),(ce===!0||u["onUpdate:modelValue"]===void 0)&&(ut(S.value,oe),S.value=oe))}function Te(){i(()=>{Fe({width:p.value.offsetWidth,height:p.value.offsetHeight})})}function Fe(oe){if(F.value===void 0||C.value===null)return;const ce=oe[F.value.container],_e=Math.min(C.value[F.value.scroll],Array.prototype.reduce.call(C.value.children,(He,Oe)=>He+(Oe[F.value.content]||0),0)),Le=ce>0&&_e>ce;$.value=Le,Le===!0&&b(_t),w.value=ce<parseInt(u.breakpoint,10)}function ut(oe,ce){const _e=oe!=null&&oe!==""?P.find(He=>He.name.value===oe):null,Le=ce!=null&&ce!==""?P.find(He=>He.name.value===ce):null;if(Kt===!0)Kt=!1;else if(_e&&Le){const He=_e.tabIndicatorRef.value,Oe=Le.tabIndicatorRef.value;T!==null&&(clearTimeout(T),T=null),He.style.transition="none",He.style.transform="none",Oe.style.transition="none",Oe.style.transform="none";const qe=He.getBoundingClientRect(),et=Oe.getBoundingClientRect();Oe.style.transform=u.vertical===!0?`translate3d(0,${qe.top-et.top}px,0) scale3d(1,${et.height?qe.height/et.height:1},1)`:`translate3d(${qe.left-et.left}px,0,0) scale3d(${et.width?qe.width/et.width:1},1,1)`,c(()=>{T=setTimeout(()=>{T=null,Oe.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",Oe.style.transform="none"},70)})}Le&&$.value===!0&&dt(Le.rootRef.value)}function dt(oe){const{left:ce,width:_e,top:Le,height:He}=C.value.getBoundingClientRect(),Oe=oe.getBoundingClientRect();let qe=u.vertical===!0?Oe.top-Le:Oe.left-ce;if(qe<0){C.value[u.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(qe),_t();return}qe+=u.vertical===!0?Oe.height-He:Oe.width-_e,qe>0&&(C.value[u.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(qe),_t())}function _t(){const oe=C.value;if(oe===null)return;const ce=oe.getBoundingClientRect(),_e=u.vertical===!0?oe.scrollTop:Math.abs(oe.scrollLeft);G.value===!0?(E.value=Math.ceil(_e+ce.width)<oe.scrollWidth-1,I.value=_e>0):(E.value=_e>0,I.value=u.vertical===!0?Math.ceil(_e+ce.height)<oe.scrollHeight:Math.ceil(_e+ce.width)<oe.scrollWidth)}function ue(oe){D!==null&&clearInterval(D),D=setInterval(()=>{mt(oe)===!0&&he()},5)}function K(){ue(ke.value===!0?Number.MAX_SAFE_INTEGER:0)}function Se(){ue(ke.value===!0?0:Number.MAX_SAFE_INTEGER)}function he(){D!==null&&(clearInterval(D),D=null)}function pe(oe,ce){const _e=Array.prototype.filter.call(C.value.children,et=>et===ce||et.matches&&et.matches(".q-tab.q-focusable")===!0),Le=_e.length;if(Le===0)return;if(oe===36)return dt(_e[0]),_e[0].focus(),!0;if(oe===35)return dt(_e[Le-1]),_e[Le-1].focus(),!0;const He=oe===(u.vertical===!0?38:37),Oe=oe===(u.vertical===!0?40:39),qe=He===!0?-1:Oe===!0?1:void 0;if(qe!==void 0){const et=G.value===!0?-1:1,pt=_e.indexOf(ce)+qe*et;return pt>=0&&pt<Le&&(dt(_e[pt]),_e[pt].focus({preventScroll:!0})),!0}}const Ze=J(()=>ke.value===!0?{get:oe=>Math.abs(oe.scrollLeft),set:(oe,ce)=>{oe.scrollLeft=-ce}}:u.vertical===!0?{get:oe=>oe.scrollTop,set:(oe,ce)=>{oe.scrollTop=ce}}:{get:oe=>oe.scrollLeft,set:(oe,ce)=>{oe.scrollLeft=ce}});function mt(oe){const ce=C.value,{get:_e,set:Le}=Ze.value;let He=!1,Oe=_e(ce);const qe=oe<Oe?-1:1;return Oe+=qe*5,Oe<0?(He=!0,Oe=0):(qe===-1&&Oe<=oe||qe===1&&Oe>=oe)&&(He=!0,Oe=oe),Le(ce,Oe),_t(),He}function ct(oe,ce){for(const _e in oe)if(oe[_e]!==ce[_e])return!1;return!0}function sa(){let oe=null,ce={matchedLen:0,queryDiff:9999,hrefLen:0};const _e=P.filter(qe=>qe.routeData!==void 0&&qe.routeData.hasRouterLink.value===!0),{hash:Le,query:He}=o.$route,Oe=Object.keys(He).length;for(const qe of _e){const et=qe.routeData.exact.value===!0;if(qe.routeData[et===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:pt,query:ra,matched:wo,href:ko}=qe.routeData.resolvedLink.value,ia=Object.keys(ra).length;if(et===!0){if(pt!==Le||ia!==Oe||ct(He,ra)===!1)continue;oe=qe.name.value;break}if(pt!==""&&pt!==Le||ia!==0&&ct(ra,He)===!1)continue;const yt={matchedLen:wo.length,queryDiff:Oe-ia,hrefLen:ko.length-pt.length};if(yt.matchedLen>ce.matchedLen){oe=qe.name.value,ce=yt;continue}else if(yt.matchedLen!==ce.matchedLen)continue;if(yt.queryDiff<ce.queryDiff)oe=qe.name.value,ce=yt;else if(yt.queryDiff!==ce.queryDiff)continue;yt.hrefLen>ce.hrefLen&&(oe=qe.name.value,ce=yt)}if(oe===null&&P.some(qe=>qe.routeData===void 0&&qe.name.value===S.value)===!0){Kt=!1;return}te({name:oe,setCurrent:!0})}function bo(oe){if(f(),V.value!==!0&&p.value!==null&&oe.target&&typeof oe.target.closest=="function"){const ce=oe.target.closest(".q-tab");ce&&p.value.contains(ce)===!0&&(V.value=!0,$.value===!0&&dt(ce))}}function vo(){d(()=>{V.value=!1},30)}function At(){Sa.avoidRouteWatcher===!1?_(sa):y()}function xa(){if(B===void 0){const oe=Ne(()=>o.$route.fullPath,At);B=()=>{oe(),B=void 0}}}function _o(oe){P.push(oe),N.value++,Te(),oe.routeData===void 0||o.$route===void 0?_(()=>{if($.value===!0){const ce=S.value,_e=ce!=null&&ce!==""?P.find(Le=>Le.name.value===ce):null;_e&&dt(_e.rootRef.value)}}):(xa(),oe.routeData.hasRouterLink.value===!0&&At())}function yo(oe){P.splice(P.indexOf(oe),1),N.value--,Te(),B!==void 0&&oe.routeData!==void 0&&(P.every(ce=>ce.routeData===void 0)===!0&&B(),At())}const Sa={currentModel:S,tabProps:A,hasFocus:V,hasActiveTab:O,registerTab:_o,unregisterTab:yo,verifyRouteModel:At,updateModel:te,onKbdNavigate:pe,avoidRouteWatcher:!1};Po($l,Sa);function Va(){T!==null&&clearTimeout(T),he(),B!==void 0&&B()}let qa,Kt;return ea(Va),qo(()=>{qa=B!==void 0,Va()}),Co(()=>{qa===!0&&(xa(),Kt=!0,At()),Te()}),()=>fe("div",{ref:p,class:de.value,role:"tablist",onFocusin:bo,onFocusout:vo},[fe(To,{onResize:Fe}),fe("div",{ref:C,class:j.value,onScroll:_t},$t(n.default)),fe(x,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(E.value===!0?"":" q-tabs__arrow--faded"),name:u.leftIcon||s.iconSet.tabs[u.vertical===!0?"up":"left"],onMousedownPassive:K,onTouchstartPassive:K,onMouseupPassive:he,onMouseleavePassive:he,onTouchendPassive:he}),fe(x,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(I.value===!0?"":" q-tabs__arrow--faded"),name:u.rightIcon||s.iconSet.tabs[u.vertical===!0?"down":"right"],onMousedownPassive:Se,onTouchstartPassive:Se,onMouseupPassive:he,onMouseleavePassive:he,onTouchendPassive:he})])}});function ls(u){const n=[.06,6,50];return typeof u=="string"&&u.length&&u.split(":").forEach((m,o)=>{const s=parseFloat(m);s&&(n[o]=s)}),n}const os=Oo({name:"touch-swipe",beforeMount(u,{value:n,arg:m,modifiers:o}){if(o.mouse!==!0&&Dt.has.touch!==!0)return;const s=o.mouseCapture===!0?"Capture":"",i={handler:n,sensitivity:ls(m),direction:Ca(o),noop:Io,mouseStart(b){Pa(b,i)&&Ro(b)&&(Qt(i,"temp",[[document,"mousemove","move",`notPassive${s}`],[document,"mouseup","end","notPassiveCapture"]]),i.start(b,!0))},touchStart(b){if(Pa(b,i)){const c=b.target;Qt(i,"temp",[[c,"touchmove","move","notPassiveCapture"],[c,"touchcancel","end","notPassiveCapture"],[c,"touchend","end","notPassiveCapture"]]),i.start(b)}},start(b,c){Dt.is.firefox===!0&&ca(u,!0);const d=Ta(b);i.event={x:d.left,y:d.top,time:Date.now(),mouse:c===!0,dir:!1}},move(b){if(i.event===void 0)return;if(i.event.dir!==!1){Ct(b);return}const c=Date.now()-i.event.time;if(c===0)return;const d=Ta(b),f=d.left-i.event.x,_=Math.abs(f),y=d.top-i.event.y,p=Math.abs(y);if(i.event.mouse!==!0){if(_<i.sensitivity[1]&&p<i.sensitivity[1]){i.end(b);return}}else if(window.getSelection().toString()!==""){i.end(b);return}else if(_<i.sensitivity[2]&&p<i.sensitivity[2])return;const C=_/c,S=p/c;i.direction.vertical===!0&&_<p&&_<100&&S>i.sensitivity[0]&&(i.event.dir=y<0?"up":"down"),i.direction.horizontal===!0&&_>p&&p<100&&C>i.sensitivity[0]&&(i.event.dir=f<0?"left":"right"),i.direction.up===!0&&_<p&&y<0&&_<100&&S>i.sensitivity[0]&&(i.event.dir="up"),i.direction.down===!0&&_<p&&y>0&&_<100&&S>i.sensitivity[0]&&(i.event.dir="down"),i.direction.left===!0&&_>p&&f<0&&p<100&&C>i.sensitivity[0]&&(i.event.dir="left"),i.direction.right===!0&&_>p&&f>0&&p<100&&C>i.sensitivity[0]&&(i.event.dir="right"),i.event.dir!==!1?(Ct(b),i.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Do(),i.styleCleanup=$=>{i.styleCleanup=void 0,document.body.classList.remove("non-selectable");const E=()=>{document.body.classList.remove("no-pointer-events--children")};$===!0?setTimeout(E,50):E()}),i.handler({evt:b,touch:i.event.mouse!==!0,mouse:i.event.mouse,direction:i.event.dir,duration:c,distance:{x:_,y:p}})):i.end(b)},end(b){i.event!==void 0&&(ma(i,"temp"),Dt.is.firefox===!0&&ca(u,!1),i.styleCleanup!==void 0&&i.styleCleanup(!0),b!==void 0&&i.event.dir!==!1&&Ct(b),i.event=void 0)}};if(u.__qtouchswipe=i,o.mouse===!0){const b=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";Qt(i,"main",[[u,"mousedown","mouseStart",`passive${b}`]])}Dt.has.touch===!0&&Qt(i,"main",[[u,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[u,"touchmove","noop","notPassiveCapture"]])},updated(u,n){const m=u.__qtouchswipe;m!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&m.end(),m.handler=n.value),m.direction=Ca(n.modifiers))},beforeUnmount(u){const n=u.__qtouchswipe;n!==void 0&&(ma(n,"main"),ma(n,"temp"),Dt.is.firefox===!0&&ca(u,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete u.__qtouchswipe)}}),ns={name:{required:!0},disable:Boolean},ja={setup(u,{slots:n}){return()=>fe("div",{class:"q-panel scroll",role:"tabpanel"},$t(n.default))}},ss={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},rs=["update:modelValue","beforeTransition","transition"];function is(){const{props:u,emit:n,proxy:m}=xt(),{getCache:o}=jo(),{registerTimeout:s}=fa();let i,b;const c=q(null),d=q(null);function f(F){const G=u.vertical===!0?"up":"left";B((m.$q.lang.rtl===!0?-1:1)*(F.direction===G?1:-1))}const _=J(()=>[[os,f,void 0,{horizontal:u.vertical!==!0,vertical:u.vertical,mouse:!0}]]),y=J(()=>u.transitionPrev||`slide-${u.vertical===!0?"down":"right"}`),p=J(()=>u.transitionNext||`slide-${u.vertical===!0?"up":"left"}`),C=J(()=>`--q-transition-duration: ${u.transitionDuration}ms`),S=J(()=>typeof u.modelValue=="string"||typeof u.modelValue=="number"?u.modelValue:String(u.modelValue)),$=J(()=>({include:u.keepAliveInclude,exclude:u.keepAliveExclude,max:u.keepAliveMax})),E=J(()=>u.keepAliveInclude!==void 0||u.keepAliveExclude!==void 0);Ne(()=>u.modelValue,(F,G)=>{const ke=N(F)===!0?V(F):-1;b!==!0&&D(ke===-1?0:ke<V(G)?-1:1),c.value!==ke&&(c.value=ke,n("beforeTransition",F,G),s(()=>{n("transition",F,G)},u.transitionDuration))});function I(){B(1)}function w(){B(-1)}function P(F){n("update:modelValue",F)}function N(F){return F!=null&&F!==""}function V(F){return i.findIndex(G=>G.props.name===F&&G.props.disable!==""&&G.props.disable!==!0)}function T(){return i.filter(F=>F.props.disable!==""&&F.props.disable!==!0)}function D(F){const G=F!==0&&u.animated===!0&&c.value!==-1?"q-transition--"+(F===-1?y.value:p.value):null;d.value!==G&&(d.value=G)}function B(F,G=c.value){let ke=G+F;for(;ke!==-1&&ke<i.length;){const te=i[ke];if(te!==void 0&&te.props.disable!==""&&te.props.disable!==!0){D(F),b=!0,n("update:modelValue",te.props.name),setTimeout(()=>{b=!1});return}ke+=F}u.infinite===!0&&i.length!==0&&G!==-1&&G!==i.length&&B(F,F===-1?i.length:-1)}function A(){const F=V(u.modelValue);return c.value!==F&&(c.value=F),!0}function O(){const F=N(u.modelValue)===!0&&A()&&i[c.value];return u.keepAlive===!0?[fe(Mo,$.value,[fe(E.value===!0?o(S.value,()=>({...ja,name:S.value})):ja,{key:S.value,style:C.value},()=>F)])]:[fe("div",{class:"q-panel scroll",style:C.value,key:S.value,role:"tabpanel"},[F])]}function Z(){if(i.length!==0)return u.animated===!0?[fe(xl,{name:d.value},O)]:O()}function de(F){return i=Uo($t(F.default,[])).filter(G=>G.props!==null&&G.props.slot===void 0&&N(G.props.name)===!0),i.length}function j(){return i}return Object.assign(m,{next:I,previous:w,goTo:P}),{panelIndex:c,panelDirectives:_,updatePanelsList:de,updatePanelIndex:A,getPanelContent:Z,getEnabledPanels:T,getPanels:j,isValidPanelName:N,keepAliveProps:$,needsUniqueKeepAliveWrapper:E,goToPanelByOffset:B,goToPanel:P,nextPanel:I,previousPanel:w}}const ot=bt({name:"QTabPanel",props:ns,setup(u,{slots:n}){return()=>fe("div",{class:"q-tab-panel",role:"tabpanel"},$t(n.default))}}),Mt=bt({name:"QTabPanels",props:{...ss,..._a},emits:rs,setup(u,{slots:n}){const m=xt(),o=ya(u,m.proxy.$q),{updatePanelsList:s,getPanelContent:i,panelDirectives:b}=is(),c=J(()=>"q-tab-panels q-panel-parent"+(o.value===!0?" q-tab-panels--dark q-dark":""));return()=>(s(n),Ao("div",{class:c.value},i(),"pan",u.swipeable,()=>b.value))}}),ds={class:"detail"},us={key:0},ms={key:1},cs={key:0},ps={key:0},fs={colspan:"100%"},gs={class:"q-my-md"},bs={key:4},vs={colspan:"100%"},_s={key:5},ys={colspan:"100%"},Ol={__name:"MainInfoTab",setup(u){const n=me();return(m,o)=>(g(),h("table",ds,[a("tbody",null,[o[27]||(o[27]=a("tr",null,[a("td",{colspan:"3"},[a("div",{class:"text-bold text-grey-8"},"Info Sesi")])],-1)),a("tr",null,[o[1]||(o[1]=a("td",{style:{width:"130px"}},"Session ID",-1)),o[2]||(o[2]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,r(t(n).props.data.id),1)]),a("tr",null,[o[3]||(o[3]=a("td",null,"Terminal",-1)),o[4]||(o[4]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.cashier_terminal.name),1)]),a("tr",null,[o[5]||(o[5]=a("td",null,"Kasir",-1)),o[6]||(o[6]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.user.username)+" - "+r(t(n).props.data.user.name),1)]),a("tr",null,[o[7]||(o[7]=a("td",null,"Status",-1)),o[8]||(o[8]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.is_closed?"Ditutup":"Aktif"),1)]),o[28]||(o[28]=a("tr",null,[a("td",{colspan:"100%"},[a("div",{class:"q-mt-sm text-grey-8"},"Info Buka Sesi")])],-1)),a("tr",null,[o[9]||(o[9]=a("td",null,"Saldo Awal",-1)),o[10]||(o[10]=a("td",null,":",-1)),a("td",null,r(t(tt)(t(n).props.data.opening_balance)),1)]),t(n).props.data.opening_notes?(g(),h("tr",us,[o[11]||(o[11]=a("td",null,"Catatan",-1)),o[12]||(o[12]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.opening_notes),1)])):k("",!0),o[29]||(o[29]=a("tr",null,[a("td",{colspan:"100%"},[a("div",{class:"q-mt-sm text-grey-8"},"Rincian Pendapatan & Kas")])],-1)),a("tr",null,[o[13]||(o[13]=a("td",null,"Total Penjualan",-1)),o[14]||(o[14]=a("td",null,":",-1)),a("td",null,r(t(tt)(t(n).props.data.total_sales)),1)]),a("tr",null,[o[15]||(o[15]=a("td",null,"Total Pemasukan",-1)),o[16]||(o[16]=a("td",null,":",-1)),a("td",null,r(t(tt)(t(n).props.data.total_income)),1)]),a("tr",null,[o[17]||(o[17]=a("td",null,"Total Pengeluaran",-1)),o[18]||(o[18]=a("td",null,":",-1)),a("td",null,r(t(tt)(t(n).props.data.total_expense)),1)]),t(n).props.data.is_closed?k("",!0):(g(),h("tr",ms,[o[19]||(o[19]=a("td",null,"Saldo Aktual",-1)),o[20]||(o[20]=a("td",null,":",-1)),a("td",null,r(t(tt)(t(n).props.data.opening_balance+(t(n).props.data.total_income-t(n).props.data.total_expense))),1)])),t(n).props.data.is_closed?(g(),h(H,{key:2},[o[25]||(o[25]=a("tr",null,[a("td",{colspan:"100%"},[a("div",{class:"q-mt-sm text-grey-8"},"Info Tutup Sesi")])],-1)),a("tr",null,[o[21]||(o[21]=a("td",null,"Saldo Akhir",-1)),o[22]||(o[22]=a("td",null,":",-1)),a("td",null,r(t(tt)(t(n).props.data.closing_balance)),1)]),t(n).props.data.closing_notes?(g(),h("tr",cs,[o[23]||(o[23]=a("td",null,"Catatan",-1)),o[24]||(o[24]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.closing_notes),1)])):k("",!0)],64)):k("",!0),m.$can("admin.cashier-session.close")?(g(),h(H,{key:3},[t(n).props.data.is_closed?k("",!0):(g(),h("tr",ps,[a("td",fs,[a("div",gs,[e(U,{class:"full-width",color:"accent",icon:"logout",onClick:o[0]||(o[0]=s=>m.$inertia.get(m.route("admin.cashier-session.close",{id:t(n).props.data.id})))},{default:l(()=>o[26]||(o[26]=[v(" Tutup Sesi Kasir ")])),_:1})])])]))],64)):k("",!0),o[30]||(o[30]=a("tr",null,[a("td",{colspan:"3"},[a("div",{class:"text-bold text-grey-8 q-mt-md"},"Info Rekaman")])],-1)),t(n).props.data.created_at?(g(),h("tr",bs,[a("td",vs," Dibuat "+r(t(kt)(t(n).props.data.created_at))+" oleh "+r(t(n).props.data.creator.name)+" ("+r(t(be)(t(n).props.data.created_at))+") ",1)])):k("",!0),t(n).props.data.updated_at?(g(),h("tr",_s,[a("td",ys," Diperbarui "+r(t(kt)(t(n).props.data.updated_at))+" oleh "+r(t(n).props.data.updater.name)+" ("+r(t(be)(t(n).props.data.updated_at))+") ",1)])):k("",!0)])]))}},ws=Object.freeze(Object.defineProperty({__proto__:null,default:Ol},Symbol.toStringTag,{value:"Module"})),ks={class:"full-width row flex-center text-grey-8 q-gutter-sm"},$s={class:"text-bold"},hs={key:0},xs={class:"text-bold"},Ss={key:1},Vs={key:0},qs={key:0},Cs={key:1},Il={__name:"SalesOrderTab",props:{data:Object},setup(u){const n=u,m=q([]),o=q(!0),s=Pe({...Ie(),cashier_session_id:n.data.id,status:["closed","canceled"]}),i=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),b=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"customer",label:"Pelanggan",field:"customer",align:"left"},{name:"grand_total",label:"Total (Rp)",field:"grand_total",align:"right",sortable:!0},{name:"notes",label:"Catatan",field:"notes",align:"left"}];$e(()=>{c()});const c=(_=null)=>De({pagination:i,filter:s,props:_,rows:m,url:route("admin.sales-order.data"),loading:o}),d=we(),f=J(()=>d.screen.gt.sm?b:b.filter(_=>_.name==="id"));return(_,y)=>(g(),R(Ce,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":y[0]||(y[0]=p=>i.value=p),filter:s.search,loading:o.value,columns:f.value,rows:m.value,"rows-per-page-options":[10,25,50],onRequest:c,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:p,message:C,filter:S})=>[a("div",ks,[a("span",null,r(C)+" "+r(S?" with term "+S:""),1)])]),body:l(p=>[e(Ve,{props:p,class:"cursor-pointer",onClick:Q(C=>t(W).get(_.route("admin.sales-order.detail",{id:p.row.id})),["stop"])},{default:l(()=>[e(z,{key:"id",props:p},{default:l(()=>[a("div",$s,[e(x,{class:"inline-icon",name:"tag"}),v(" "+r(p.row.formatted_id),1)]),a("div",null,[e(x,{class:"inline-icon",name:"calendar_today"}),v(" "+r(t(be)(p.row.datetime)),1)]),t(d).screen.lt.md?(g(),h(H,{key:0},[p.row.customer?(g(),h("div",hs,[e(x,{class:"inline-icon",name:"person"}),v(" "+r(p.row.customer_username)+" "+r(p.row.customer.name),1)])):k("",!0),a("div",xs,[e(x,{name:"money",class:"inline-icon"}),v(" Rp. "+r(t(Y)(p.row.grand_total)),1)]),p.row.notes?(g(),h("div",Ss,[e(ve,{text:p.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])):k("",!0)],64)):k("",!0),a("div",null,[e(rt,{color:p.row.status==="closed"?"green":"red"},{default:l(()=>[v(r(_.$CONSTANTS.SALES_ORDER_STATUSES[p.row.status]),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(z,{key:"customer",props:p},{default:l(()=>[p.row.customer?(g(),h("div",Vs,[a("div",null,[e(x,{name:"person",class:"inline-icon"}),v(" "+r(p.row.customer_username)+" - "+r(p.row.customer_name),1)]),p.row.customer_phone?(g(),h("div",qs,[e(x,{name:"phone",class:"inline-icon"}),v(" "+r(p.row.customer_phone),1)])):k("",!0),p.row.customer_address?(g(),h("div",Cs,[e(x,{name:"home_pin",class:"inline-icon"}),v(" "+r(p.row.customer_address),1)])):k("",!0)])):k("",!0)]),_:2},1032,["props"]),e(z,{key:"grand_total",props:p},{default:l(()=>[a("div",null,r(t(Y)(p.row.grand_total)),1)]),_:2},1032,["props"]),e(z,{key:"notes",props:p,class:"wrap-column"},{default:l(()=>[e(ve,{text:p.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},Ts=Object.freeze(Object.defineProperty({__proto__:null,default:Il},Symbol.toStringTag,{value:"Module"})),Ps={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Os={class:"text-bold"},Is={class:"text-bold"},Ds={key:0},Rs={class:"q-mt-sm"},Dl={__name:"FinanceTransactionTab",props:{data:Object},setup(u){const n=u;console.log(n.data);const m=q([]),o=q(!0),s=Pe({...Ie(),user_id:n.data.user_id,from_datetime:ga(n.data.opened_at),to_datetime:n.data.closed_at?ga(n.data.closed_at):null}),i=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),b=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp)",field:"amount",align:"right",sortable:!0},{name:"notes",label:"Catatan",field:"notes",align:"left"}];$e(()=>{c()});const c=(_=null)=>De({pagination:i,filter:s,props:_,rows:m,url:route("admin.finance-transaction.data"),loading:o}),d=we(),f=J(()=>d.screen.gt.sm?b:b.filter(_=>_.name==="id"));return(_,y)=>(g(),R(Ce,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":y[0]||(y[0]=p=>i.value=p),filter:s.search,loading:o.value,columns:f.value,rows:m.value,"rows-per-page-options":[10,25,50],onRequest:c,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:p,message:C,filter:S})=>[a("div",Ps,[a("span",null,r(C)+" "+r(S?" with term "+S:""),1)])]),body:l(p=>[e(Ve,{props:p},{default:l(()=>[e(z,{key:"id",props:p},{default:l(()=>[a("div",Os,[e(x,{class:"inline-icon",name:"tag"}),v(" "+r(p.row.formatted_id),1)]),a("div",null,[e(x,{class:"inline-icon",name:"calendar_today"}),v(" "+r(t(be)(p.row.datetime)),1)]),t(d).screen.lt.md?(g(),h(H,{key:0},[a("div",Is,[e(x,{name:"money",class:"inline-icon"}),v(" Rp. "+r(t(Y)(p.row.amount)),1)]),p.row.notes?(g(),h("div",Ds,[e(ve,{text:p.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])):k("",!0)],64)):k("",!0),a("div",Rs,[e(rt,{color:p.row.amount>=0?"green":"red"},{default:l(()=>[v(r(_.$CONSTANTS.FINANCE_TRANSACTION_TYPES[p.row.type]),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(z,{key:"amount",props:p},{default:l(()=>[a("span",{class:ye(p.row.amount<0?"text-red":"text-green")},r(t(Y)(p.row.amount)),3)]),_:2},1032,["props"]),e(z,{key:"notes",props:p,class:"wrap-column"},{default:l(()=>[e(ve,{text:p.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},Us=Object.freeze(Object.defineProperty({__proto__:null,default:Dl},Symbol.toStringTag,{value:"Module"})),js={class:"q-gutter-sm"},Ms={class:"col col-lg-6 q-pa-xs"},As={class:"row"},Ma="Rincian Sesi Kasir",Es={__name:"Detail",setup(u){const n=me(),m=J(()=>n.props.data),o=q("main");return Ne(()=>n.props.tab,s=>{s&&(o.value=s)},{immediate:!0}),(s,i)=>{const b=L("i-head"),c=L("authenticated-layout");return g(),h(H,null,[e(b,{title:Ma}),e(c,null,{title:l(()=>[v(r(Ma))]),"left-button":l(()=>[a("div",js,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=d=>s.$inertia.get(s.route("admin.cashier-session.index")))})])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",Ms,[a("div",As,[e(ie,{square:"",flat:"",bordered:"",class:"col q-pa-none q-pt-md"},{default:l(()=>[e(jt,{modelValue:o.value,"onUpdate:modelValue":i[1]||(i[1]=d=>o.value=d),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(lt,{name:"main",label:"Ringkasan"}),e(lt,{name:"sales",label:"Transaksi Penjualan"}),e(lt,{name:"finance",label:"Transaksi Keuangan"})]),_:1},8,["modelValue"]),e(st),e(Mt,{modelValue:o.value,"onUpdate:modelValue":i[2]||(i[2]=d=>o.value=d),animated:"",class:"q-pa-none"},{default:l(()=>[e(ot,{name:"main"},{default:l(()=>[e(Ol,{data:m.value},null,8,["data"])]),_:1}),e(ot,{name:"sales",class:"q-pa-xs"},{default:l(()=>[e(Il,{data:m.value},null,8,["data"])]),_:1}),e(ot,{name:"finance",class:"q-pa-xs"},{default:l(()=>[e(Dl,{data:m.value},null,8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},Ns=Object.freeze(Object.defineProperty({__proto__:null,default:Es},Symbol.toStringTag,{value:"Module"})),Bs={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},zs={class:"q-pa-xs"},Fs={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ls={class:"flex justify-end"},Aa="Sesi Kasir",Hs={__name:"Index",setup(u){const n=we(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),c=We(b),d=Pe({search:"",status:"all",...Ie()}),f=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),_=[{name:"id",label:"Sesi",field:"id",align:"left",sortable:!0},{name:"opening_info",label:"Buka Sesi",field:"opening_info",sortable:!1,align:"left"},{name:"closing_info",label:"Tutup Sesi",field:"closing_info",sortable:!1,align:"left"},{name:"action",align:"right"}],y=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"closed",label:"Selesai"}];$e(()=>{C()});const p=I=>Ge({message:`Hapus Sesi: ${I.cashier_terminal.name} - ${I.user.username}?`,url:route("admin.cashier-session.delete",I.id),fetchItemsCallback:C,loading:s}),C=(I=null)=>{De({pagination:f,filter:d,props:I,rows:o,url:route("admin.cashier-session.data"),loading:s,tableRef:i})},S=()=>C(),$=I=>W.get(route("admin.cashier-session.detail",{id:I.id})),E=J(()=>n.screen.gt.sm?_:_.filter(I=>I.name==="id"||I.name==="action"));return(I,w)=>{const P=L("i-head"),N=L("authenticated-layout");return g(),h(H,null,[e(P,{title:Aa}),e(N,null,Ye({title:l(()=>[v(r(Aa))]),"right-button":l(()=>[e(U,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:w[0]||(w[0]=V=>m.value=!m.value)},null,8,["icon"]),I.$can("admin.cashier-session.open")?(g(),R(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:w[1]||(w[1]=V=>t(W).get(I.route("admin.cashier-session.open")))})):k("",!0)]),default:l(()=>[a("div",zs,[e(Ce,{class:"full-height-table",style:Ae({height:t(c)}),ref_key:"tableRef",ref:i,flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:f.value,"onUpdate:pagination":w[5]||(w[5]=V=>f.value=V),filter:d.search,loading:s.value,columns:E.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:C,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:V,message:T,filter:D})=>[a("div",Fs,[a("span",null,r(T)+" "+r(D?" with term "+D:""),1)])]),body:l(V=>[e(Ve,{props:V,class:ye(["cursor-pointer",V.row.is_closed?"":"bg-yellow-3"]),onClick:T=>$(V.row)},{default:l(()=>[e(z,{key:"id",props:V,class:"wrap-column"},{default:l(()=>[a("div",null,[e(x,{class:"inline-icon",name:"tag"}),v(" SessionID: "+r(V.row.id),1)]),a("div",null,[e(x,{class:"inline-icon",name:"point_of_sale"}),v(" "+r(V.row.cashier_terminal.name),1)]),a("div",null,[e(x,{class:"inline-icon",name:"person"}),v(" "+r(V.row.user.username)+" - "+r(V.row.user.name),1)])]),_:2},1032,["props"]),e(z,{key:"opening_info",props:V},{default:l(()=>[a("div",null,[e(x,{class:"inline-icon",name:"calendar_clock"}),v(" "+r(V.row.opened_at?t(be)(V.row.opened_at):"-"),1)]),a("div",null,[e(x,{class:"inline-icon",name:"money"}),v(" "+r(t(tt)(V.row.opening_balance)),1)]),V.row.opening_notes?(g(),R(ve,{key:0,text:V.row.opening_notes,icon:"notes"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(z,{key:"closing_info",props:V},{default:l(()=>[a("div",null,[e(x,{class:"inline-icon",name:"calendar_clock"}),v(" "+r(V.row.closed_at?t(be)(V.row.closed_at):"-"),1)]),a("div",null,[e(x,{class:"inline-icon",name:"money"}),v(" "+r(t(tt)(V.row.closing_balance)),1)]),V.row.closing_notes?(g(),R(ve,{key:0,text:V.row.closing_notes,icon:"notes"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(z,{key:"action",props:V},{default:l(()=>[a("div",Ls,[I.$can("admin.cashier-session.close")||I.$can("admin.cashier-session.delete")?(g(),R(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:w[4]||(w[4]=Q(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(je,{style:{width:"200px"}},{default:l(()=>[I.$can("admin.cashier-session.close")?X((g(),R(ee,{key:0,disable:V.row.is_closed,clickable:"",onClick:Q(T=>t(W).get(I.route("admin.cashier-session.close",V.row.id)),["stop"])},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"logout"})]),_:1}),e(M,null,{default:l(()=>w[6]||(w[6]=[v("Tutup Sesi Kasir")])),_:1})]),_:2},1032,["disable","onClick"])),[[ne],[re]]):k("",!0),I.$can("admin.cashier-session.delete")?X((g(),R(ee,{key:1,onClick:Q(T=>p(V.row),["stop"]),clickable:""},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"delete_forever"})]),_:1}),e(M,null,{default:l(()=>w[7]||(w[7]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[a("div",Bs,[e(se,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:d.status,"onUpdate:modelValue":[w[2]||(w[2]=V=>d.status=V),S],options:y,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ae,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":w[3]||(w[3]=V=>d.search=V),placeholder:"Cari",clearable:""},{append:l(()=>[e(x,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Ys=Object.freeze(Object.defineProperty({__proto__:null,default:Hs},Symbol.toStringTag,{value:"Module"})),Ks={class:"q-gutter-sm"},Qs={class:"col col-md-6 q-pa-xs"},Ea="Buka Sesi Kasir",Ws={__name:"Open",setup(u){const n=me(),m=Be({cashier_terminal_id:n.props.data.cashier_terminal_id,opening_balance:parseFloat(n.props.data.opening_balance),opening_notes:n.props.data.opening_notes}),o=[...n.props.cashier_terminals.map(i=>({value:i.id,label:i.name,balance:parseFloat(i.finance_account.balance)}))],s=()=>ze({form:m,url:route("admin.cashier-session.open")});return Ne(()=>m.cashier_terminal_id,i=>{if(i){const b=o.find(c=>c.value===i);b&&(m.opening_balance=b.balance)}else m.opening_balance=0}),(i,b)=>{const c=L("i-head"),d=L("authenticated-layout");return g(),h(H,null,[e(c,{title:Ea}),e(d,null,{title:l(()=>[v(r(Ea))]),"left-button":l(()=>[a("div",Ks,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=f=>i.$inertia.get(i.route("admin.cashier-session.index")))})])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",Qs,[e(Me,{class:"row",onSubmit:Q(s,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[X(a("input",{type:"hidden",name:"id","onUpdate:modelValue":b[1]||(b[1]=f=>t(m).id=f)},null,512),[[Xe,t(m).id]]),e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[e(se,{class:"custom-select",modelValue:t(m).cashier_terminal_id,"onUpdate:modelValue":b[2]||(b[2]=f=>t(m).cashier_terminal_id=f),label:"Terminal Kasir",options:o,"map-options":"","emit-value":"",errorMessage:t(m).errors.cashier_terminal_id,error:!!t(m).errors.cashier_terminal_id,disable:t(m).processing,"hide-bottom-space":""},null,8,["modelValue","errorMessage","error","disable"]),e(Ee,{modelValue:t(m).opening_balance,"onUpdate:modelValue":b[3]||(b[3]=f=>t(m).opening_balance=f),label:"Saldo Buka Sesi",lazyRules:"",disable:t(m).processing,error:!!t(m).errors.opening_balance,errorMessage:t(m).errors.opening_balance,rules:[],readonly:"","hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),b[6]||(b[6]=a("div",{class:"q-my-sm text-red"}," Pastikan saldo awal sesuai dengan jumlah uang di laci! ",-1)),e(ae,{modelValue:t(m).opening_notes,"onUpdate:modelValue":b[4]||(b[4]=f=>t(m).opening_notes=f),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Catatan",disable:t(m).processing,error:!!t(m).errors.opening_notes,"error-message":t(m).errors.opening_notes,rules:[],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(U,{type:"submit",label:"Buka Sesi",icon:"login",color:"primary",disable:t(m).processing},null,8,["disable"]),e(U,{label:"Batal",icon:"cancel",disable:t(m).processing,onClick:b[5]||(b[5]=f=>t(W).get(i.route("admin.cashier-session.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Js=Object.freeze(Object.defineProperty({__proto__:null,default:Ws},Symbol.toStringTag,{value:"Module"})),Gs={class:"detail"},Xs={colspan:"3"},Zs={class:"text-bold text-grey-8"},er={key:0},tr={colspan:"100%"},ar={key:1},lr={colspan:"100%"},Rl={__name:"MainInfoTab",setup(u){const n=me();return(m,o)=>(g(),h("table",Gs,[a("tbody",null,[a("tr",null,[a("td",Xs,[a("div",Zs,[o[1]||(o[1]=v(" Info Terminal Kasir ")),e(U,{icon:"edit",size:"sm",dense:"",flat:"",rounded:"",class:"q-ml-sm",color:"grey",onClick:o[0]||(o[0]=s=>m.$inertia.get(m.route("admin.cashier-terminal.edit",{id:t(n).props.data.id})))})])])]),a("tr",null,[o[2]||(o[2]=a("td",{style:{width:"120px"}},"Nama",-1)),o[3]||(o[3]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,r(t(n).props.data.name),1)]),a("tr",null,[o[4]||(o[4]=a("td",null,"Lokasi",-1)),o[5]||(o[5]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.location),1)]),a("tr",null,[o[6]||(o[6]=a("td",null,"Akun Keuangan",-1)),o[7]||(o[7]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.finance_account.name),1)]),a("tr",null,[o[8]||(o[8]=a("td",null,"Saldo",-1)),o[9]||(o[9]=a("td",null,":",-1)),a("td",null,r(t(tt)(t(n).props.data.finance_account.balance)),1)]),a("tr",null,[o[10]||(o[10]=a("td",null,"Catatan",-1)),o[11]||(o[11]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.notes),1)]),a("tr",null,[o[12]||(o[12]=a("td",null,"Status",-1)),o[13]||(o[13]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),o[14]||(o[14]=a("tr",null,[a("td",{colspan:"3"},[a("div",{class:"text-bold text-grey-8 q-mt-md"},"Info Rekaman")])],-1)),t(n).props.data.created_at?(g(),h("tr",er,[a("td",tr," Dibuat "+r(t(kt)(t(n).props.data.created_at))+" oleh "+r(t(n).props.data.creator.name)+" ("+r(t(be)(t(n).props.data.created_at))+") ",1)])):k("",!0),t(n).props.data.updated_at?(g(),h("tr",ar,[a("td",lr," Diperbarui "+r(t(kt)(t(n).props.data.updated_at))+" oleh "+r(t(n).props.data.updater.name)+" ("+r(t(be)(t(n).props.data.updated_at))+") ",1)])):k("",!0)])]))}},or=Object.freeze(Object.defineProperty({__proto__:null,default:Rl},Symbol.toStringTag,{value:"Module"})),nr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},sr={class:"text-bold"},Ul={__name:"SessionHistoryTab",setup(u){const n=me(),m=q([]),o=q(!0),s=Pe({customer_id:n.props.data.id,...Ie()}),i=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),b=[{name:"id",label:"Trx",field:"id",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah",field:"amount",align:"right"}];$e(()=>{c()});const c=(_=null)=>De({pagination:i,filter:s,props:_,rows:m,url:route("admin.customer-wallet-transaction.data"),loading:o}),d=we(),f=J(()=>d.screen.gt.sm?b:b.filter(_=>_.name==="id"));return(_,y)=>(g(),R(Ce,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":y[0]||(y[0]=p=>i.value=p),filter:s.search,loading:o.value,columns:f.value,rows:m.value,"rows-per-page-options":[10,25,50],onRequest:c,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:p,message:C,filter:S})=>[a("div",nr,[a("span",null,r(C)+" "+r(S?" with term "+S:""),1)])]),body:l(p=>[e(Ve,{props:p,class:"cursor-pointer",onClick:Q(C=>t(W).get(_.route("admin.customer-wallet-transaction.detail",{id:p.row.id})),["stop"])},{default:l(()=>[e(z,{key:"id",props:p},{default:l(()=>[a("div",sr,[e(x,{class:"inline-icon",name:"tag"}),v(" "+r(p.row.formatted_id),1)]),a("div",null,[e(x,{class:"inline-icon",name:"calendar_clock"}),v(" "+r(t(be)(p.row.datetime)),1)]),t(d).screen.lt.md?(g(),h(H,{key:0},[a("div",{class:ye(["text-bold",p.row.amount<0?"text-red":"text-green"])},[e(x,{name:"money",class:"inline-icon"}),v(" "+r(t(Sl)(p.row.amount)),1)],2),a("div",null,[e(ve,{text:p.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])],64)):k("",!0),a("div",null,[e(rt,{size:"xs",color:p.row.amount>0?"green":"red"},{default:l(()=>[e(x,{name:"category"}),v(" "+r(p.row.type_label),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(z,{key:"notes",props:p,class:"wrap-column"},{default:l(()=>[e(ve,{text:p.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(z,{key:"amount",props:p},{default:l(()=>[a("div",{class:ye(p.row.amount<0?"text-red-10":p.row.amount>0?"text-green-10":"")},r(t(ta)(p.row.amount)),3)]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},rr=Object.freeze(Object.defineProperty({__proto__:null,default:Ul},Symbol.toStringTag,{value:"Module"})),ir={class:"q-gutter-sm"},dr={class:"col col-lg-6 q-pa-xs"},ur={class:"row"},Na="Rincian Terminal Kasir",mr={__name:"Detail",setup(u){const n=q("main");return(m,o)=>{const s=L("i-head"),i=L("authenticated-layout");return g(),h(H,null,[e(s,{title:Na}),e(i,null,{title:l(()=>[v(r(Na))]),"left-button":l(()=>[a("div",ir,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=b=>m.$inertia.get(m.route("admin.cashier-terminal.index")))})])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",dr,[a("div",ur,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(jt,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=b=>n.value=b),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(lt,{name:"main",label:"Info Utama"}),e(lt,{name:"session-history",label:"Riwayat Sesi Kasir"})]),_:1},8,["modelValue"]),e(Mt,{modelValue:n.value,"onUpdate:modelValue":o[2]||(o[2]=b=>n.value=b)},{default:l(()=>[e(ot,{name:"main"},{default:l(()=>[e(Rl)]),_:1}),e(ot,{name:"session-history",class:"q-pa-xs"},{default:l(()=>[e(Ul)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},cr=Object.freeze(Object.defineProperty({__proto__:null,default:mr},Symbol.toStringTag,{value:"Module"})),pr={class:"q-gutter-sm"},fr={class:"col col-md-6 q-pa-xs"},gr={key:0,class:"q-my-xs text-grey-8"},br={__name:"Editor",setup(u){const n=me(),m=(n.props.data.id?"Edit":"Tambah")+" Pelanggan",o=Be({id:n.props.data.id,name:n.props.data.name,finance_account_id:n.props.data.finance_account_id??"new",location:n.props.data.location,active:!!n.props.data.active,notes:n.props.data.notes}),s=[{value:"new",label:"Buat Baru (Otomatis)"},...n.props.finance_accounts.map(b=>({value:b.id,label:b.name}))],i=()=>ze({form:o,url:route("admin.cashier-terminal.save")});return(b,c)=>{const d=L("i-head"),f=L("authenticated-layout");return g(),h(H,null,[e(d,{title:m}),e(f,null,{title:l(()=>[v(r(m))]),"left-button":l(()=>[a("div",pr,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=_=>b.$inertia.get(b.route("admin.cashier-terminal.index")))})])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",fr,[e(Me,{class:"row",onSubmit:Q(i,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[X(a("input",{type:"hidden",name:"id","onUpdate:modelValue":c[1]||(c[1]=_=>t(o).id=_)},null,512),[[Xe,t(o).id]]),e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[e(ae,{modelValue:t(o).name,"onUpdate:modelValue":c[2]||(c[2]=_=>t(o).name=_),modelModifiers:{trim:!0},label:"Nama",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(se,{class:"custom-select",modelValue:t(o).finance_account_id,"onUpdate:modelValue":c[3]||(c[3]=_=>t(o).finance_account_id=_),label:"Akun Kas",options:s,"map-options":"","emit-value":"",errorMessage:t(o).errors.finance_account_id,error:!!t(o).errors.finance_account_id,disable:t(o).processing,"hide-bottom-space":""},null,8,["modelValue","errorMessage","error","disable"]),t(o).finance_account_id==="new"?(g(),h("div",gr,[c[8]||(c[8]=v(" Akun keuangan akan dibuat ")),t(o).name?(g(),h(H,{key:0},[v(" dengan nama Kas "+r(t(o).name),1)],64)):k("",!0)])):k("",!0),e(ae,{modelValue:t(o).location,"onUpdate:modelValue":c[4]||(c[4]=_=>t(o).location=_),modelModifiers:{trim:!0},label:"Lokasi",error:!!t(o).errors.location,disable:t(o).processing,"error-message":t(o).errors.location,rules:[],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(ae,{modelValue:t(o).notes,"onUpdate:modelValue":c[5]||(c[5]=_=>t(o).notes=_),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Catatan",disable:t(o).processing,error:!!t(o).errors.notes,"error-message":t(o).errors.notes,rules:[],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(na,{modelValue:t(o).active,"onUpdate:modelValue":c[6]||(c[6]=_=>t(o).active=_),label:"Aktif",disable:t(o).processing},null,8,["modelValue","disable"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(U,{type:"submit",label:"Simpan",icon:"save",color:"primary",disable:t(o).processing},null,8,["disable"]),e(U,{label:"Batal",icon:"cancel",disable:t(o).processing,onClick:c[7]||(c[7]=_=>t(W).get(b.route("admin.cashier-terminal.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},vr=Object.freeze(Object.defineProperty({__proto__:null,default:br},Symbol.toStringTag,{value:"Module"})),_r={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},yr={class:"q-pa-xs"},wr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},kr={class:"flex justify-end"},Ba="Terminal Kasir",$r={__name:"Index",setup(u){const n=we(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),c=We(b),d=Pe({search:"",status:"active",...Ie()}),f=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),_=[{name:"name",label:n.screen.lt.md?"Item":"Nama",field:"name",align:"left",sortable:!0},{name:"finance_account_id",label:"Akun Kas",field:"finance_account_id",sortable:!1,align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}],y=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];$e(()=>{C()});const p=I=>Ge({message:`Hapus Terminal Kasir ${I.name}?`,url:route("admin.cashier-terminal.delete",I.id),fetchItemsCallback:C,loading:s}),C=(I=null)=>{De({pagination:f,filter:d,props:I,rows:o,url:route("admin.cashier-terminal.data"),loading:s,tableRef:i})},S=()=>C(),$=I=>W.get(route("admin.cashier-terminal.detail",{id:I.id})),E=J(()=>n.screen.gt.sm?_:_.filter(I=>I.name==="name"||I.name==="finance_account_id"||I.name==="action"));return(I,w)=>{const P=L("i-head"),N=L("authenticated-layout");return g(),h(H,null,[e(P,{title:Ba}),e(N,null,Ye({title:l(()=>[v(r(Ba))]),"right-button":l(()=>[e(U,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:w[0]||(w[0]=V=>m.value=!m.value)},null,8,["icon"]),I.$can("admin.cashier-terminal.add")?(g(),R(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:w[1]||(w[1]=V=>t(W).get(I.route("admin.cashier-terminal.add")))})):k("",!0)]),default:l(()=>[a("div",yr,[e(Ce,{class:"full-height-table",style:Ae({height:t(c)}),ref_key:"tableRef",ref:i,flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:f.value,"onUpdate:pagination":w[5]||(w[5]=V=>f.value=V),filter:d.search,loading:s.value,columns:E.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:C,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:V,message:T,filter:D})=>[a("div",wr,[a("span",null,r(T)+" "+r(D?" with term "+D:""),1)])]),body:l(V=>[e(Ve,{props:V,class:ye([V.row.active?"":"bg-red-1","cursor-pointer"]),onClick:T=>$(V.row)},{default:l(()=>[e(z,{key:"name",props:V,class:"wrap-column"},{default:l(()=>[a("div",null,[e(x,{name:"wallet"}),v(" "+r(V.row.name),1)]),a("div",null,[e(x,{name:"home_pin"}),v(" "+r(V.row.location),1)]),t(n).screen.lt.md?(g(),R(ve,{key:0,text:V.row.notes,icon:"notes"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(z,{key:"finance_account_id",props:V},{default:l(()=>[a("div",null,[e(x,{name:"wallet"}),v(" "+r(V.row.finance_account.name),1)]),a("div",null,[e(x,{name:"money"}),v(" "+r(t(tt)(V.row.finance_account.balance)),1)])]),_:2},1032,["props"]),e(z,{key:"notes",props:V},{default:l(()=>[e(ve,{text:V.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(z,{key:"action",props:V},{default:l(()=>[a("div",kr,[I.$can("admin.cashier-terminal.edit")||I.$can("admin.cashier-terminal.delete")?(g(),R(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:w[4]||(w[4]=Q(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(je,{style:{width:"200px"}},{default:l(()=>[I.$can("admin.cashier-terminal.edit")?X((g(),R(ee,{key:0,clickable:"",onClick:Q(T=>t(W).get(I.route("admin.cashier-terminal.edit",V.row.id)),["stop"])},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"edit"})]),_:1}),e(M,null,{default:l(()=>w[6]||(w[6]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),I.$can("admin.cashier-terminal.delete")?X((g(),R(ee,{key:1,onClick:Q(T=>p(V.row),["stop"]),clickable:""},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"delete_forever"})]),_:1}),e(M,null,{default:l(()=>w[7]||(w[7]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[a("div",_r,[e(se,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:d.status,"onUpdate:modelValue":[w[2]||(w[2]=V=>d.status=V),S],options:y,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ae,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":w[3]||(w[3]=V=>d.search=V),placeholder:"Cari",clearable:""},{append:l(()=>[e(x,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},hr=Object.freeze(Object.defineProperty({__proto__:null,default:$r},Symbol.toStringTag,{value:"Module"})),jl={__name:"CompanyInfoForm",setup(u){const n=q(),m=me(),o=$a({name:m.props.data.name,phone:m.props.data.phone,address:m.props.data.address}),s=()=>ze({form:o,url:route("admin.company-profile.edit"),onSuccess:i=>{o.name=i.data.name,o.phone=i.data.phone,o.address=i.data.address}});return(i,b)=>(g(),R(Me,{class:"row",onSubmit:Q(s,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[e(ie,{flat:"",bordered:"",square:"",class:"col"},{default:l(()=>[e(le,null,{default:l(()=>[b[3]||(b[3]=a("div",{class:"text-subtitle1 q-my-xs"},"Profil Perusahaan",-1)),b[4]||(b[4]=a("p",{class:"text-caption text-grey-9"},"Perbarui profil perusahaan.",-1)),e(ae,{ref_key:"nameInputRef",ref:n,modelValue:t(o).name,"onUpdate:modelValue":b[0]||(b[0]=c=>t(o).name=c),modelModifiers:{trim:!0},label:"Nama Perusahaan",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.name,"error-message":t(o).errors.name,rules:[c=>c&&c.length>0||"Nama perusahaan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(ae,{modelValue:t(o).phone,"onUpdate:modelValue":b[1]||(b[1]=c=>t(o).phone=c),modelModifiers:{trim:!0},label:"No Telepon",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.phone,"error-message":t(o).errors.phone,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(ae,{type:"textarea",counter:"",autogrow:"",maxlength:"200",modelValue:t(o).address,"onUpdate:modelValue":b[2]||(b[2]=c=>t(o).address=c),modelModifiers:{trim:!0},label:"Alamat",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.address,"error-message":t(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(le,null,{default:l(()=>[e(U,{icon:"save",type:"submit",color:"primary",label:"Simpan",disable:t(o).processing,loading:t(o).processing},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},xr=Object.freeze(Object.defineProperty({__proto__:null,default:jl},Symbol.toStringTag,{value:"Module"})),Sr={class:"q-pa-xs"},Vr={class:"row justify-center"},qr={class:"col col-md-6"},za="Profil Perusahaan",Cr={__name:"Edit",setup(u){return(n,m)=>{const o=L("i-head"),s=L("authenticated-layout");return g(),h(H,null,[e(o,{title:za}),e(s,null,{title:l(()=>[v(r(za))]),default:l(()=>[a("div",Sr,[a("div",Vr,[a("div",qr,[e(jl)])])])]),_:1})],64)}}},Tr=Object.freeze(Object.defineProperty({__proto__:null,default:Cr},Symbol.toStringTag,{value:"Module"})),Pr={class:"q-gutter-sm"},Or={class:"col col-md-6 q-pa-xs"},Ir={class:"row"},Dr={class:"detail"},Rr={key:0},Ur={key:1},jr={key:0},Mr={key:1},Ar={colspan:"3",class:"bg-white"},Fa="Rincian Konfirmasi Top Up",Er={__name:"Detail",setup(u){const n=me();return(m,o)=>{const s=L("i-head"),i=L("i-link"),b=L("my-link"),c=L("authenticated-layout");return g(),h(H,null,[e(s,{title:Fa}),e(c,{"show-drawer-button":!1},{"left-button":l(()=>[a("div",Pr,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=d=>m.$inertia.get(m.route("admin.customer-wallet-transaction-confirmation.index")))})])]),title:l(()=>[a("span",{class:"text-subtitle2"},r(Fa))]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",Or,[a("div",Ir,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,null,{default:l(()=>[o[23]||(o[23]=a("div",{class:"text-subtitle1 text-bold text-grey-8"}," Rincian Konfirmasi ",-1)),a("table",Dr,[a("tbody",null,[a("tr",null,[o[1]||(o[1]=a("td",{style:{width:"110px"}},"Kode Trx",-1)),o[2]||(o[2]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,r(t(n).props.data.formatted_id),1)]),a("tr",null,[o[3]||(o[3]=a("td",null,"Waktu",-1)),o[4]||(o[4]=a("td",null,":",-1)),a("td",null,r(t(be)(t(n).props.data.datetime)),1)]),a("tr",null,[o[6]||(o[6]=a("td",null,"Pelanggan",-1)),o[7]||(o[7]=a("td",null,":",-1)),a("td",null,[a("div",null,[e(x,{name:"person",class:"inline-icon"}),v(" "+r(t(n).props.data.customer.username),1)]),a("div",null,[e(x,{name:"person",class:"inline-icon"}),v(" "+r(t(n).props.data.customer.name),1)]),t(n).props.data.customer.phone?(g(),h("div",Rr,[e(x,{name:"phone",class:"inline-icon"}),v(" "+r(t(n).props.data.customer.phone),1)])):k("",!0),t(n).props.data.customer.address?(g(),h("div",Ur,[e(x,{name:"home_pin",class:"inline-icon"}),v(" "+r(t(n).props.data.customer.address),1)])):k("",!0),a("div",null,[e(i,{href:m.route("admin.customer.detail",{id:t(n).props.data.customer_id})},{default:l(()=>o[5]||(o[5]=[v("Lihat Rincian Pelanggan")])),_:1},8,["href"])])])]),a("tr",null,[o[10]||(o[10]=a("td",null,"Akun Tujuan",-1)),o[11]||(o[11]=a("td",null,":",-1)),a("td",null,[e(b,{href:m.route("admin.finance-account.detail",{id:t(n).props.data.finance_account.id})},{default:l(()=>[v(r(t(n).props.data.finance_account.name),1)]),_:1},8,["href"]),o[9]||(o[9]=a("br",null,null,-1)),t(n).props.data.finance_account.type==="bank"?(g(),h(H,{key:0},[v(" Rek "+r(t(n).props.data.finance_account.bank)+" an "+r(t(n).props.data.finance_account.holder)+" ",1),o[8]||(o[8]=a("br",null,null,-1)),v(" "+r(t(n).props.data.finance_account.number),1)],64)):k("",!0)])]),a("tr",null,[o[12]||(o[12]=a("td",null,"Jumlah",-1)),o[13]||(o[13]=a("td",null,":",-1)),a("td",null,"Rp. "+r(t(Y)(t(n).props.data.amount)),1)]),a("tr",null,[o[14]||(o[14]=a("td",null,"Status",-1)),o[15]||(o[15]=a("td",null,":",-1)),a("td",null,r(m.$CONSTANTS.CUSTOMER_WALLET_TRANSACTION_CONFIRMATION_STATUSES[t(n).props.data.status]),1)]),a("tr",null,[o[16]||(o[16]=a("td",null,"Catatan",-1)),o[17]||(o[17]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.notes),1)]),t(n).props.data.creator?(g(),h("tr",jr,[o[18]||(o[18]=a("td",null,"Dibuat",-1)),o[19]||(o[19]=a("td",null,":",-1)),a("td",null,r(t(be)(t(n).props.data.created_at))+" oleh "+r(t(n).props.data.creator.name),1)])):k("",!0),t(n).props.data.updater?(g(),h("tr",Mr,[o[20]||(o[20]=a("td",null,"Diperbarui",-1)),o[21]||(o[21]=a("td",null,":",-1)),a("td",null,r(t(be)(t(n).props.data.updated_at))+" oleh "+r(t(n).props.data.updater.name),1)])):k("",!0),t(n).props.data.image_path?(g(),h(H,{key:2},[o[22]||(o[22]=a("tr",null,[a("td",null,"Lampiran"),a("td",null,":"),a("td")],-1)),a("tr",null,[a("td",Ar,[e(aa,{src:`/${t(n).props.data.image_path}`,class:"q-mt-none",style:Ae([{"max-width":"500px"},{border:"1px solid #ddd"}])},null,8,["src"])])])],64)):k("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Nr=Object.freeze(Object.defineProperty({__proto__:null,default:Er},Symbol.toStringTag,{value:"Module"})),Br={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},zr={class:"q-pa-xs"},Fr={class:"flex justify-end no-wrap"},La="Konfirmasi Top Up Wallet",Lr={__name:"Index",setup(u){const n=we(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),c=We(b),d=q(null),f=q(!1),_=Ft(),y=Lt(),p=[{label:"Semua Tahun",value:"all"},...Pt(_-2,_).reverse()],C=[{value:"all",label:"Semua Bulan"},...Ot()],S=[{value:"all",label:"Semua Status"},...Ke(window.CONSTANTS.CUSTOMER_WALLET_TRANSACTION_CONFIRMATION_STATUSES)],$=Pe({search:"",year:_,month:y,status:"all",...Ie()}),E=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!1}),I=[{name:"datetime",label:"Tanggal",field:"datetime",align:"left",sortable:!0},{name:"finance_account_id",label:"Bank Tujuan",field:"finance_account_id",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"status",label:"Status",field:"status",align:"center"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",label:"Aksi",field:"action",align:"center"}];$e(()=>{w()});const w=(A=null)=>{De({pagination:E,filter:$,props:A,rows:o,url:route("admin.customer-wallet-transaction-confirmation.data"),loading:s,tableRef:i})},P=()=>{w()},N=J(()=>n.screen.gt.sm?I:I.filter(A=>["datetime","action"].includes(A.name)));Ne(()=>$.year,A=>{A===null&&($.month=null)});const V=A=>Ia({message:`Setujui konfirmasi transaksi #${A.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",A.id),fetchItemsCallback:w,loading:s,data:{id:A.id,action:"accept"}}),T=A=>Ia({message:`Tolak konfirmasi transaksi #${A.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",A.id),fetchItemsCallback:w,loading:s,data:{id:A.id,action:"reject"}}),D=A=>Ge({message:`Hapus konfirmasi transaksi ${A.formatted_id}?`,url:route("admin.customer-wallet-transaction-confirmation.delete",A.id),fetchItemsCallback:w,loading:s}),B=A=>{d.value=A,f.value=!0};return(A,O)=>{const Z=L("i-head"),de=L("authenticated-layout");return g(),h(H,null,[e(Z,{title:La}),e(de,null,Ye({title:l(()=>[v(r(La))]),"right-button":l(()=>[e(U,{class:"q-ml-sm",icon:m.value?"filter_alt_off":"filter_alt",color:"grey",flat:"",rounded:"",dense:"",onClick:O[0]||(O[0]=j=>m.value=!m.value)},null,8,["icon"])]),default:l(()=>[a("div",zr,[e(Ce,{ref_key:"tableRef",ref:i,class:"full-height-table",style:Ae({height:t(c)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:E.value,"onUpdate:pagination":O[6]||(O[6]=j=>E.value=j),filter:$.search,loading:s.value,columns:N.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:w,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),body:l(j=>[e(Ve,{props:j,class:"cursor-pointer",onClick:Q(F=>t(W).get(A.route("admin.customer-wallet-transaction-confirmation.detail",{id:j.row.id})),["stop"])},{default:l(()=>[e(z,{key:"datetime",props:j,class:"wrap-column"},{default:l(()=>[a("div",null,[e(x,{class:"inline-icon",name:"tag"}),v(" "+r(j.row.formatted_id),1)]),a("div",null,[e(x,{name:"calendar_clock",class:"inline-icon"}),v(" "+r(t(be)(j.row.datetime)),1)]),t(n).screen.gt.sm?k("",!0):(g(),h(H,{key:0},[e(ve,{icon:"account_balance",text:j.row.finance_account.name},null,8,["text"]),a("div",null,[e(x,{name:"person",class:"inline-icon"}),v(" "+r(j.row.customer.username)+" - "+r(j.row.customer.name),1)]),a("div",null,[e(x,{name:"money",class:"inline-icon"}),v(" Rp. "+r(t(Y)(j.row.amount)),1)]),j.row.notes?(g(),R(ve,{key:0,icon:"notes",text:j.row.notes},null,8,["text"])):k("",!0),a("div",null,[e(Oa,{status:j.row.status},null,8,["status"])])],64))]),_:2},1032,["props"]),e(z,{key:"finance_account_id",props:j},{default:l(()=>[v(r(j.row.finance_account.name),1),O[8]||(O[8]=a("br",null,null,-1)),v(" "+r(j.row.finance_account.bank)+" "+r(j.row.finance_account.number)+" an. "+r(j.row.finance_account.holder),1)]),_:2},1032,["props"]),e(z,{key:"amount",props:j,style:{"text-align":"right"}},{default:l(()=>[v(r(t(Y)(j.row.amount)),1)]),_:2},1032,["props"]),e(z,{key:"status",props:j,class:"text-center"},{default:l(()=>[e(Oa,{status:j.row.status},null,8,["status"])]),_:2},1032,["props"]),e(z,{key:"notes",props:j,class:"word-wrap"},{default:l(()=>[e(ve,{icon:"notes",text:j.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(z,{key:"action",props:j,class:"text-center"},{default:l(()=>[a("div",Fr,[e(U,{icon:"image",color:"primary",dense:"",flat:"",disable:j.row.image_path===null||j.row.image_path==="",onClick:Q(F=>B(j.row.image_path),["stop"])},{default:l(()=>[j.row.image_path!=null?(g(),R(Ht,{key:0},{default:l(()=>O[9]||(O[9]=[v(" Lihat Bukti ")])),_:1})):k("",!0)]),_:2},1032,["disable","onClick"]),A.$can("admin.customer-wallet-transaction-confirmation:accept")||A.$can("admin.customer-wallet-transaction-confirmation:deny")||A.$can("admin.customer-wallet-transaction-confirmation.delete")?(g(),R(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:O[5]||(O[5]=Q(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(je,{style:{width:"200px"}},{default:l(()=>[A.$can("admin.customer-wallet-transaction-confirmation:accept")?X((g(),R(ee,{key:0,onClick:Q(F=>V(j.row),["stop"]),clickable:"",disable:j.row.status!=="pending"},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"check"})]),_:1}),e(M,null,{default:l(()=>O[10]||(O[10]=[v("Setujui")])),_:1})]),_:2},1032,["onClick","disable"])),[[ne],[re]]):k("",!0),A.$can("admin.customer-wallet-transaction-confirmation:deny")?X((g(),R(ee,{key:1,onClick:Q(F=>T(j.row),["stop"]),clickable:"",disable:j.row.status!=="pending"},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"cancel"})]),_:1}),e(M,null,{default:l(()=>O[11]||(O[11]=[v("Tolak")])),_:1})]),_:2},1032,["onClick","disable"])),[[ne],[re]]):k("",!0),e(st),A.$can("admin.customer-wallet-transaction-confirmation.delete")?X((g(),R(ee,{key:2,onClick:Q(F=>D(j.row),["stop"]),clickable:""},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"delete_forever"})]),_:1}),e(M,null,{default:l(()=>O[12]||(O[12]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"]),e(la,{modelValue:f.value,"onUpdate:modelValue":O[7]||(O[7]=j=>f.value=j),imageUrl:`/${d.value}`},null,8,["modelValue","imageUrl"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[a("div",Br,[e(se,{modelValue:$.year,"onUpdate:modelValue":[O[1]||(O[1]=j=>$.year=j),P],options:p,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),$.year!=="all"?(g(),R(se,{key:0,modelValue:$.month,"onUpdate:modelValue":[O[2]||(O[2]=j=>$.month=j),P],options:C,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:$.year===null},null,8,["modelValue","disable"])):k("",!0),e(se,{modelValue:$.status,"onUpdate:modelValue":[O[3]||(O[3]=j=>$.status=j),P],options:S,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(ae,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:$.search,"onUpdate:modelValue":O[4]||(O[4]=j=>$.search=j),placeholder:"Cari...",clearable:""},{append:l(()=>[e(x,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Hr=Object.freeze(Object.defineProperty({__proto__:null,default:Lr},Symbol.toStringTag,{value:"Module"}));function Ml(u,n=!1){const m=u.map(b=>({value:b.id,label:b.username+" - "+b.name})),o=n?[{value:"all",label:"Semua"},...m]:m,s=q([...o]);return{filteredCustomers:s,filterCustomersFn:(b,c)=>{c(()=>{s.value=o.filter(d=>d.label.toLowerCase().includes(b.toLowerCase()))})},customers:o}}const Yr={class:"col col-md-6 q-pa-xs"},Ha="Penyesuaian Saldo Dompet Pelanggan",Kr={__name:"Adjustment",setup(u){const n=me(),{filteredCustomers:m,filterCustomersFn:o}=Ml(n.props.customers,!1),s=Be({customer_id:null,old_balance:0,new_balance:0,notes:""}),i=()=>s.amount=s.new_balance-s.old_balance;Ne(()=>s.customer_id,async d=>{if(!d){s.old_balance=0,s.new_balance=0,i();return}s.processing=!0;try{const f=await axios.get(route("admin.customer.balance",{id:d}));s.new_balance=s.old_balance=f.data.balance}catch(f){console.error("Gagal mengambil saldo:",f),s.old_balance=0,s.new_balance=0}s.processing=!1,i()});const b=J(()=>s.new_balance-s.old_balance),c=()=>ze({form:s,url:route("admin.customer-wallet-transaction.adjustment")});return(d,f)=>{const _=L("i-head"),y=L("authenticated-layout");return g(),h(H,null,[e(_,{title:Ha}),e(y,null,{title:l(()=>[v(r(Ha))]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",Yr,[e(Me,{class:"row",onSubmit:Q(c,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[e(se,{class:"custom-select",modelValue:t(s).customer_id,"onUpdate:modelValue":f[0]||(f[0]=p=>t(s).customer_id=p),label:"Pelanggan","use-input":"","input-debounce":"300",clearable:"",options:t(m),"map-options":"","emit-value":"",errorMessage:t(s).errors.customer_id,onFilter:t(o),error:!!t(s).errors.customer_id,disable:t(s).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(ee,null,{default:l(()=>[e(M,null,{default:l(()=>f[6]||(f[6]=[v("Pelanggan tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(Ee,{modelValue:t(s).old_balance,"onUpdate:modelValue":f[1]||(f[1]=p=>t(s).old_balance=p),label:"Saldo Tercatat",readonly:"",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.balance,errorMessage:t(s).errors.balance},null,8,["modelValue","disable","error","errorMessage"]),e(Ee,{modelValue:t(s).new_balance,"onUpdate:modelValue":f[2]||(f[2]=p=>t(s).new_balance=p),label:"Saldo Seharusnya",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.new_balance,errorMessage:t(s).errors.new_balance},null,8,["modelValue","disable","error","errorMessage"]),e(Ee,{modelValue:b.value,"onUpdate:modelValue":f[3]||(f[3]=p=>b.value=p),label:"Selisih",readonly:"",lazyRules:"",disable:t(s).processing},null,8,["modelValue","disable"]),e(ae,{modelValue:t(s).notes,"onUpdate:modelValue":f[4]||(f[4]=p=>t(s).notes=p),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,rules:[p=>p&&p.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:f[5]||(f[5]=p=>t(W).get(d.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Qr=Object.freeze(Object.defineProperty({__proto__:null,default:Kr},Symbol.toStringTag,{value:"Module"})),Wr={class:"q-gutter-sm"},Jr={class:"col col-md-6 q-pa-xs"},Gr={class:"row"},Xr={class:"detail"},Zr={key:0},ei={key:1},ti={key:0},ai={key:1},li={colspan:"3",class:"bg-white"},Ya="Rincian Transaksi",oi={__name:"Detail",setup(u){const n=me();return(m,o)=>{const s=L("i-head"),i=L("i-link"),b=L("authenticated-layout");return g(),h(H,null,[e(s,{title:Ya}),e(b,null,{"left-button":l(()=>[a("div",Wr,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=c=>m.$goBack())})])]),title:l(()=>[v(r(Ya))]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",Jr,[a("div",Gr,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,null,{default:l(()=>[o[19]||(o[19]=a("div",{class:"text-subtitle1 text-bold text-grey-8"}," Rincian Transaksi Wallet ",-1)),a("table",Xr,[a("tbody",null,[a("tr",null,[o[1]||(o[1]=a("td",{style:{width:"110px"}},"Kode Trx",-1)),o[2]||(o[2]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,r(t(n).props.data.formatted_id),1)]),a("tr",null,[o[3]||(o[3]=a("td",null,"Waktu",-1)),o[4]||(o[4]=a("td",null,":",-1)),a("td",null,r(t(be)(t(n).props.data.datetime)),1)]),a("tr",null,[o[6]||(o[6]=a("td",null,"Pelanggan",-1)),o[7]||(o[7]=a("td",null,":",-1)),a("td",null,[a("div",null,[e(x,{name:"person",class:"inline-icon"}),v(" "+r(t(n).props.data.customer.username),1)]),a("div",null,[e(x,{name:"person",class:"inline-icon"}),v(" "+r(t(n).props.data.customer.name),1)]),t(n).props.data.customer.phone?(g(),h("div",Zr,[e(x,{name:"phone",class:"inline-icon"}),v(" "+r(t(n).props.data.customer.phone),1)])):k("",!0),t(n).props.data.customer.address?(g(),h("div",ei,[e(x,{name:"home_pin",class:"inline-icon"}),v(" "+r(t(n).props.data.customer.address),1)])):k("",!0),a("div",null,[e(i,{href:m.route("admin.customer.detail",{id:t(n).props.data.customer_id})},{default:l(()=>o[5]||(o[5]=[v("Lihat Rincian Pelanggan")])),_:1},8,["href"])])])]),a("tr",null,[o[8]||(o[8]=a("td",null,"Jenis Transaksi",-1)),o[9]||(o[9]=a("td",null,":",-1)),a("td",null,r(m.$CONSTANTS.CUSTOMER_WALLET_TRANSACTION_TYPES[t(n).props.data.type]),1)]),a("tr",null,[o[10]||(o[10]=a("td",null,"Jumlah",-1)),o[11]||(o[11]=a("td",null,":",-1)),a("td",{class:ye(t(n).props.data.amount>0?"text-positive":"text-negative")},r(t(ht)(t(n).props.data.amount))+"Rp. "+r(t(Y)(Math.abs(t(n).props.data.amount))),3)]),a("tr",null,[o[12]||(o[12]=a("td",null,"Catatan",-1)),o[13]||(o[13]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.notes),1)]),t(n).props.data.creator?(g(),h("tr",ti,[o[14]||(o[14]=a("td",null,"Dibuat",-1)),o[15]||(o[15]=a("td",null,":",-1)),a("td",null,r(t(be)(t(n).props.data.created_at))+" oleh "+r(t(n).props.data.creator.name),1)])):k("",!0),t(n).props.data.updater?(g(),h("tr",ai,[o[16]||(o[16]=a("td",null,"Diperbarui",-1)),o[17]||(o[17]=a("td",null,":",-1)),a("td",null,r(t(be)(t(n).props.data.updated_at))+" oleh "+r(t(n).props.data.updater.name),1)])):k("",!0),t(n).props.data.image_path?(g(),h(H,{key:2},[o[18]||(o[18]=a("tr",null,[a("td",null,"Lampiran"),a("td",null,":"),a("td")],-1)),a("tr",null,[a("td",li,[e(aa,{src:`/${t(n).props.data.image_path}`,class:"q-mt-none",style:Ae([{"max-width":"500px"},{border:"1px solid #ddd"}])},null,8,["src"])])])],64)):k("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},ni=Object.freeze(Object.defineProperty({__proto__:null,default:oi},Symbol.toStringTag,{value:"Module"})),si={class:"q-gutter-sm"},ri={class:"col col-md-6 q-pa-xs"},ii={__name:"Editor",setup(u){var f;const n=me(),m=(n.props.data.id?"Edit":"Catat")+" Transaksi Dompet Pelanggan",{filteredCustomers:o,filterCustomersFn:s}=Ml(n.props.customers,!1),i=[{label:"Deposit (+)",value:"deposit"},{label:"Penarikan (-)",value:"withdrawal"}],b=n.props.finance_accounts.map(_=>({label:_.name,value:_.id})),c=Be({id:n.props.data.id,customer_id:n.props.data.customer_id,finance_account_id:n.props.data.finance_account_id,type:n.props.data.type,datetime:new Date(n.props.data.datetime),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount),image_path:((f=n.props.data)==null?void 0:f.image_path)??"",image:null}),d=()=>{Yt(c,{datetime:"YYYY-MM-DD HH:mm:ss"}),ze({form:c,url:route("admin.customer-wallet-transaction.save")})};return(_,y)=>{const p=L("i-head"),C=L("authenticated-layout");return g(),h(H,null,[e(p,{title:m}),e(C,null,{title:l(()=>[v(r(m))]),"left-button":l(()=>[a("div",si,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:y[0]||(y[0]=S=>_.$inertia.get(_.route("admin.customer-wallet-transaction.index")))})])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",ri,[e(Me,{class:"row",onSubmit:Q(d,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[X(a("input",{type:"hidden",name:"id","onUpdate:modelValue":y[1]||(y[1]=S=>t(c).id=S)},null,512),[[Xe,t(c).id]]),e(Ut,{autofocus:"",modelValue:t(c).datetime,"onUpdate:modelValue":y[2]||(y[2]=S=>t(c).datetime=S),label:"Tanggal",error:!!t(c).errors.datetime,disable:t(c).processing,"hide-bottom-space":""},null,8,["modelValue","error","disable"]),e(se,{class:"custom-select",modelValue:t(c).customer_id,"onUpdate:modelValue":y[3]||(y[3]=S=>t(c).customer_id=S),label:"Pelanggan","use-input":"","input-debounce":"300",clearable:"",options:t(o),"map-options":"","emit-value":"",errorMessage:t(c).errors.customer_id,onFilter:t(s),error:!!t(c).errors.customer_id,disable:t(c).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(ee,null,{default:l(()=>[e(M,null,{default:l(()=>y[10]||(y[10]=[v("Pelanggan tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(se,{modelValue:t(c).type,"onUpdate:modelValue":y[4]||(y[4]=S=>t(c).type=S),label:"Jenis",options:i,"map-options":"","emit-value":"",error:!!t(c).errors.type,disable:t(c).processing,errorMessage:t(c).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(se,{modelValue:t(c).finance_account_id,"onUpdate:modelValue":y[5]||(y[5]=S=>t(c).finance_account_id=S),label:t(c).type=="deposit"?"Kas Tujuan":"Kas Asal",options:t(b),"map-options":"","emit-value":"",error:!!t(c).errors.finance_account_id,disable:t(c).processing,errorMessage:t(c).errors.finance_account_id,"hide-bottom-space":""},null,8,["modelValue","label","options","error","disable","errorMessage"]),e(Ee,{modelValue:t(c).amount,"onUpdate:modelValue":y[6]||(y[6]=S=>t(c).amount=S),label:"Jumlah",lazyRules:"",disable:t(c).processing,error:!!t(c).errors.amount,errorMessage:t(c).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(ae,{modelValue:t(c).notes,"onUpdate:modelValue":y[7]||(y[7]=S=>t(c).notes=S),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(c).processing,error:!!t(c).errors.notes,"error-message":t(c).errors.notes,rules:[S=>S&&S.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(wa,{modelValue:t(c).image,"onUpdate:modelValue":y[8]||(y[8]=S=>t(c).image=S),"initial-image-path":t(c).image_path,disabled:t(c).processing,error:!!t(c).errors.image||!!t(c).errors.image_path,"error-message":t(c).errors.image||t(c).errors.image_path},null,8,["modelValue","initial-image-path","disabled","error","error-message"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(c).processing},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",disable:t(c).processing,onClick:y[9]||(y[9]=S=>t(W).get(_.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},di=Object.freeze(Object.defineProperty({__proto__:null,default:ii},Symbol.toStringTag,{value:"Module"})),ui={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},mi={class:"q-pa-xs"},ci={class:"full-width row flex-center text-grey-8 q-gutter-sm"},pi={key:0},fi={class:"flex justify-end no-wrap"},Ka="Transaksi Dompet Pelanggan",gi={__name:"Index",setup(u){const n=we(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),c=We(b),d=new Date().getFullYear(),f=new Date().getMonth()+1,_=[{label:"Semua Tahun",value:"all"},{label:`${d}`,value:d},...Pt(d-2,d-1).reverse()],y=[{value:"all",label:"Semua Bulan"},...Ot()],p=Pe({search:"",year:d,month:f,...Ie()}),C=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!0}),S=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"customer",label:"Pelanggan",field:"customer",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];$e(()=>{E()});const $=T=>Ge({message:`Hapus transaksi #${T.formatted_id}? Seluruh akun terkait akan di refund dan rekaman akan dihapus.`,url:route("admin.customer-wallet-transaction.delete",T.id),fetchItemsCallback:E,loading:s}),E=(T=null)=>{De({pagination:C,filter:p,props:T,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:s,tableRef:i})},I=()=>{E()},w=J(()=>n.screen.gt.sm?S:S.filter(T=>T.name==="datetime"||T.name==="action"));Ne(()=>p.year,T=>{T===null&&(p.month=null)});const P=q(null),N=q(!1),V=T=>{P.value=T,N.value=!0};return(T,D)=>{const B=L("i-head"),A=L("authenticated-layout");return g(),h(H,null,[e(B,{title:Ka}),e(A,null,Ye({title:l(()=>[v(r(Ka))]),"right-button":l(()=>[e(U,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:D[0]||(D[0]=O=>m.value=!m.value)},null,8,["icon"]),T.$can("admin.customer-wallet-transaction.add")?(g(),R(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:D[1]||(D[1]=O=>t(W).get(T.route("admin.customer-wallet-transaction.add")))})):k("",!0)]),default:l(()=>[a("div",mi,[e(Ce,{ref_key:"tableRef",ref:i,style:Ae({height:t(c)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:C.value,"onUpdate:pagination":D[6]||(D[6]=O=>C.value=O),filter:p.search,loading:s.value,columns:w.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:E,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:O,message:Z,filter:de})=>[a("div",ci,[a("span",null,r(Z)+" "+r(de?" with term "+de:""),1)])]),body:l(O=>[e(Ve,{props:O,class:"cursor-pointer",onClick:Q(Z=>t(W).get(T.route("admin.customer-wallet-transaction.detail",{id:O.row.id})),["stop"])},{default:l(()=>[e(z,{key:"datetime",props:O,class:"wrap-column"},{default:l(()=>[a("div",null,[e(x,{name:"tag",class:"inline-icon"}),v(" "+r(O.row.formatted_id),1)]),a("div",null,[e(x,{name:"calendar_clock",class:"inline-icon"}),v(" "+r(t(be)(O.row.datetime)),1)]),O.row.finance_account?(g(),h("div",pi,[e(x,{name:"wallet",class:"inline-icon"}),v(" "+r(O.row.finance_account?O.row.finance_account.name:"-"),1)])):k("",!0),t(n).screen.gt.sm?k("",!0):(g(),h(H,{key:1},[e(ve,{icon:"person",text:O.row.customer.username+" - "+O.row.customer.name},null,8,["text"]),a("div",{class:ye([O.row.amount>0?"text-positive":"text-negative","text-bold"])},[e(x,{name:"money",class:"inline-icon"}),v(" "+r(t(ht)(O.row.amount))+"Rp. "+r(t(Y)(Math.abs(O.row.amount))),1)],2),e(ve,{text:O.row.notes,icon:"notes",class:"text-grey-8"},null,8,["text"]),a("div",null,[e(rt,null,{default:l(()=>[v(r(O.row.type_label),1)]),_:2},1024)])],64))]),_:2},1032,["props"]),e(z,{key:"customer",props:O},{default:l(()=>[e(ve,{text:O.row.customer.username+" - "+O.row.customer.name},null,8,["text"])]),_:2},1032,["props"]),e(z,{key:"notes",props:O},{default:l(()=>[e(ve,{text:O.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(z,{key:"amount",props:O,style:{"text-align":"right"}},{default:l(()=>[v(r(t(ta)(O.row.amount)),1)]),_:2},1032,["props"]),e(z,{key:"action",props:O},{default:l(()=>[a("div",fi,[e(U,{icon:"image",color:"primary",dense:"",flat:"",disable:O.row.image_path===null||O.row.image_path==="",onClick:Q(Z=>V(O.row.image_path),["stop"])},{default:l(()=>[O.row.image_path!=null?(g(),R(Ht,{key:0},{default:l(()=>D[8]||(D[8]=[v(" Lihat Bukti ")])),_:1})):k("",!0)]),_:2},1032,["disable","onClick"]),T.$can("admin.customer-wallet-transaction.delete")?(g(),R(U,{key:0,icon:"more_vert",rounded:"",dense:"",flat:"",onClick:D[5]||(D[5]=Q(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(je,{style:{width:"200px"}},{default:l(()=>[T.$can("admin.customer-wallet-transaction.delete")?X((g(),R(ee,{key:0,onClick:Q(Z=>$(O.row),["stop"]),clickable:""},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"delete_forever"})]),_:1}),e(M,null,{default:l(()=>D[9]||(D[9]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])]),e(la,{modelValue:N.value,"onUpdate:modelValue":D[7]||(D[7]=O=>N.value=O),imageUrl:`/${P.value}`},null,8,["modelValue","imageUrl"])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[a("div",ui,[e(se,{modelValue:p.year,"onUpdate:modelValue":[D[2]||(D[2]=O=>p.year=O),I],options:_,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(se,{modelValue:p.month,"onUpdate:modelValue":[D[3]||(D[3]=O=>p.month=O),I],options:y,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:p.year===null},null,8,["modelValue","disable"]),e(ae,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:p.search,"onUpdate:modelValue":D[4]||(D[4]=O=>p.search=O),placeholder:"Cari",clearable:""},{append:l(()=>[e(x,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},bi=Object.freeze(Object.defineProperty({__proto__:null,default:gi},Symbol.toStringTag,{value:"Module"})),vi={class:"detail"},_i={colspan:"3"},yi={class:"text-bold text-grey-8"},wi={key:0},ki={key:1},$i={class:"text-grey-8"},hi={key:2},xi={class:"text-grey-8"},Al={__name:"MainInfoTab",setup(u){const n=me();return(m,o)=>(g(),h("table",vi,[a("tbody",null,[a("tr",null,[a("td",_i,[a("div",yi,[o[1]||(o[1]=v(" Info Pelanggan ")),m.$can("admin.customer.edit")?(g(),R(U,{key:0,icon:"edit",size:"sm",dense:"",flat:"",rounded:"",class:"q-ml-sm",color:"grey",onClick:o[0]||(o[0]=s=>m.$inertia.get(m.route("admin.customer.edit",{id:t(n).props.data.id})))})):k("",!0)])])]),a("tr",null,[o[2]||(o[2]=a("td",{style:{width:"120px"}},"Username",-1)),o[3]||(o[3]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,r(t(n).props.data.username),1)]),a("tr",null,[o[4]||(o[4]=a("td",null,"Jenis",-1)),o[5]||(o[5]=a("td",null,":",-1)),a("td",null,r(m.$CONSTANTS.CUSTOMER_TYPES[t(n).props.data.type]),1)]),a("tr",null,[o[6]||(o[6]=a("td",null,"Nama",-1)),o[7]||(o[7]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.name),1)]),a("tr",null,[o[8]||(o[8]=a("td",null,"No. Telepon",-1)),o[9]||(o[9]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.phone?t(n).props.data.phone:"-"),1)]),a("tr",null,[o[10]||(o[10]=a("td",null,"Alamat",-1)),o[11]||(o[11]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.address?t(n).props.data.address:"-"),1)]),a("tr",null,[o[12]||(o[12]=a("td",null,"Saldo Wallet",-1)),o[13]||(o[13]=a("td",null,":",-1)),a("td",null,"Rp. "+r(t(Y)(t(n).props.data.balance)),1)]),a("tr",null,[o[14]||(o[14]=a("td",null,"Status",-1)),o[15]||(o[15]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),o[25]||(o[25]=a("tr",null,[a("td",{colspan:"3"},[a("div",{class:"text-bold text-grey-8 q-mt-md"},"Info Akun")])],-1)),t(n).props.data.created_at?(g(),h("tr",wi,[o[16]||(o[16]=a("td",null,"Dibuat",-1)),o[17]||(o[17]=a("td",null,":",-1)),a("td",null,r(t(kt)(t(n).props.data.created_at))+" oleh "+r(t(n).props.data.creator.name)+" ("+r(t(be)(t(n).props.data.created_at))+") ",1)])):k("",!0),t(n).props.data.updated_at?(g(),h("tr",ki,[o[18]||(o[18]=a("td",null,"Diperbarui",-1)),o[19]||(o[19]=a("td",null,":",-1)),a("td",null,r(t(kt)(t(n).props.data.updated_at))+" oleh "+r(t(n).props.data.updater.name)+" ("+r(t(be)(t(n).props.data.updated_at))+") ",1)])):k("",!0),a("tr",null,[o[20]||(o[20]=a("td",null,"Terakhir login",-1)),o[21]||(o[21]=a("td",null,":",-1)),a("td",null,[v(r(t(n).props.data.last_login_datetime?t(be)(t(n).props.data.last_login_datetime):"Belum pernah login")+" ",1),a("span",$i,"("+r(t(kt)(t(n).props.data.last_login_datetime))+")",1)])]),t(n).props.data.last_activity_datetime?(g(),h("tr",hi,[o[23]||(o[23]=a("td",null,"Aktifitas Terakhir",-1)),o[24]||(o[24]=a("td",null,":",-1)),a("td",null,[v(r(t(be)(t(n).props.data.last_activity_datetime))+" ",1),a("span",xi,[v("("+r(t(kt)(t(n).props.data.last_activity_datetime))+")",1),o[22]||(o[22]=a("br",null,null,-1)),v(r(t(n).props.data.last_activity_description),1)])])])):k("",!0)])]))}},Si=Object.freeze(Object.defineProperty({__proto__:null,default:Al},Symbol.toStringTag,{value:"Module"})),Vi={class:"full-width row flex-center text-grey-8 q-gutter-sm"},qi={class:"text-bold"},El={__name:"WalletHistoryTab",setup(u){const n=me(),m=q([]),o=q(!0),s=Pe({customer_id:n.props.data.id,...Ie()}),i=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),b=[{name:"id",label:"Trx",field:"id",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah",field:"amount",align:"right"}];$e(()=>{c()});const c=(_=null)=>De({pagination:i,filter:s,props:_,rows:m,url:route("admin.customer-wallet-transaction.data"),loading:o}),d=we(),f=J(()=>d.screen.gt.sm?b:b.filter(_=>_.name==="id"));return(_,y)=>(g(),R(Ce,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":y[0]||(y[0]=p=>i.value=p),filter:s.search,loading:o.value,columns:f.value,rows:m.value,"rows-per-page-options":[10,25,50],onRequest:c,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:p,message:C,filter:S})=>[a("div",Vi,[a("span",null,r(C)+" "+r(S?" with term "+S:""),1)])]),body:l(p=>[e(Ve,{props:p,class:"cursor-pointer",onClick:Q(C=>t(W).get(_.route("admin.customer-wallet-transaction.detail",{id:p.row.id})),["stop"])},{default:l(()=>[e(z,{key:"id",props:p},{default:l(()=>[a("div",qi,[e(x,{class:"inline-icon",name:"tag"}),v(" "+r(p.row.formatted_id),1)]),a("div",null,[e(x,{class:"inline-icon",name:"calendar_clock"}),v(" "+r(t(be)(p.row.datetime)),1)]),t(d).screen.lt.md?(g(),h(H,{key:0},[a("div",{class:ye(["text-bold",p.row.amount<0?"text-red":"text-green"])},[e(x,{name:"money",class:"inline-icon"}),v(" "+r(t(Sl)(p.row.amount)),1)],2),a("div",null,[e(ve,{text:p.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])],64)):k("",!0),a("div",null,[e(rt,{size:"xs",color:p.row.amount>0?"green":"red"},{default:l(()=>[e(x,{name:"category"}),v(" "+r(p.row.type_label),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(z,{key:"notes",props:p,class:"wrap-column"},{default:l(()=>[e(ve,{text:p.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(z,{key:"amount",props:p},{default:l(()=>[a("div",{class:ye(p.row.amount<0?"text-red-10":p.row.amount>0?"text-green-10":"")},r(t(ta)(p.row.amount)),3)]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},Ci=Object.freeze(Object.defineProperty({__proto__:null,default:El},Symbol.toStringTag,{value:"Module"})),Ti={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Pi={class:"text-bold"},Oi={class:"text-bold"},Ii={key:0},Nl={__name:"OrderHistoryTab",setup(u){const n=me(),m=q([]),o=q(!0),s=Pe({customer_id:n.props.data.id,...Ie()}),i=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),b=[{name:"id",label:"Trx",field:"id",align:"left"},{name:"grand_total",label:"Total",field:"grand_total",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}];$e(()=>{c()});const c=(_=null)=>De({pagination:i,filter:s,props:_,rows:m,url:route("admin.sales-order.data",{customer_id:n.props.data.id,filter:{status:["closed","canceled"]}}),loading:o}),d=we(),f=J(()=>d.screen.gt.sm?b:b.filter(_=>_.name==="id"));return(_,y)=>(g(),R(Ce,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":y[0]||(y[0]=p=>i.value=p),filter:s.search,loading:o.value,columns:f.value,rows:m.value,"rows-per-page-options":[10,25,50],onRequest:c,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:p,message:C,filter:S})=>[a("div",Ti,[a("span",null,r(C)+" "+r(S?" with term "+S:""),1)])]),body:l(p=>[e(Ve,{props:p,class:"cursor-pointer",onClick:Q(C=>t(W).get(_.route("admin.sales-order.detail",{id:p.row.id})),["stop"])},{default:l(()=>[e(z,{key:"id",props:p},{default:l(()=>[a("div",Pi,[e(x,{class:"inline-icon",name:"tag"}),v(" "+r(p.row.formatted_id),1)]),a("div",null,[e(x,{class:"inline-icon",name:"calendar_clock"}),v(" "+r(t(be)(p.row.datetime)),1)]),t(d).screen.lt.md?(g(),h(H,{key:0},[a("div",Oi,[e(x,{name:"money",class:"inline-icon"}),v(" Rp. "+r(t(Y)(p.row.grand_total)),1)]),p.row.notes?(g(),h("div",Ii,[e(ve,{text:p.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])):k("",!0)],64)):k("",!0),a("div",null,[e(rt,{color:p.row.status=="closed"?"green":"red"},{default:l(()=>[v(r(_.$CONSTANTS.SALES_ORDER_STATUSES[p.row.status]),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(z,{key:"grand_total",props:p},{default:l(()=>[a("div",null,r(t(Y)(p.row.grand_total)),1)]),_:2},1032,["props"]),e(z,{key:"notes",props:p,class:"wrap-column"},{default:l(()=>[e(ve,{text:p.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},Di=Object.freeze(Object.defineProperty({__proto__:null,default:Nl},Symbol.toStringTag,{value:"Module"})),Ri={class:"q-gutter-sm"},Ui={class:"col col-lg-6 q-pa-xs"},ji={class:"row"},Qa="Rincian Pelanggan",Mi={__name:"Detail",setup(u){me();const n=q("main");return we(),(m,o)=>{const s=L("i-head"),i=L("authenticated-layout");return g(),h(H,null,[e(s,{title:Qa}),e(i,null,{title:l(()=>[v(r(Qa))]),"left-button":l(()=>[a("div",Ri,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=b=>m.$inertia.get(m.route("admin.customer.index")))})])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",Ui,[a("div",ji,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(jt,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=b=>n.value=b),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(lt,{name:"main",label:"Info Utama"}),e(lt,{name:"history",label:"Riwayat Wallet"}),e(lt,{name:"order-history",label:"Riwayat Order"})]),_:1},8,["modelValue"]),e(Mt,{modelValue:n.value,"onUpdate:modelValue":o[2]||(o[2]=b=>n.value=b)},{default:l(()=>[e(ot,{name:"main"},{default:l(()=>[e(Al)]),_:1}),e(ot,{name:"history",class:"q-pa-xs"},{default:l(()=>[e(El)]),_:1}),e(ot,{name:"order-history",class:"q-pa-xs"},{default:l(()=>[e(Nl)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},Ai=Object.freeze(Object.defineProperty({__proto__:null,default:Mi},Symbol.toStringTag,{value:"Module"})),Ei={class:"q-gutter-sm"},Ni={class:"col col-md-6 q-pa-xs"},Bi={__name:"Editor",setup(u){const n=me(),m=(n.props.data.id?"Edit":"Tambah")+" Pelanggan",o=Be({id:n.props.data.id,username:n.props.data.username,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,active:!!n.props.data.active,password:n.props.data.password,type:n.props.data.type}),s=Ke(window.CONSTANTS.CUSTOMER_TYPES),i=()=>ze({form:o,url:route("admin.customer."+(n.props.data.id?"edit":"add"),{id:o.id})});return(b,c)=>{const d=L("i-head"),f=L("authenticated-layout");return g(),h(H,null,[e(d,{title:m}),e(f,null,{title:l(()=>[v(r(m))]),"left-button":l(()=>[a("div",Ei,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=_=>b.$inertia.get(b.route("admin.customer.index")))})])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",Ni,[e(Me,{class:"row",onSubmit:Q(i,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[X(a("input",{type:"hidden",name:"id","onUpdate:modelValue":c[1]||(c[1]=_=>t(o).id=_)},null,512),[[Xe,t(o).id]]),e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[e(ae,{modelValue:t(o).username,"onUpdate:modelValue":c[2]||(c[2]=_=>t(o).username=_),modelModifiers:{trim:!0},label:"Username",error:!!t(o).errors.username,disable:t(o).processing,"error-message":t(o).errors.username,rules:[_=>_&&_.length>0||"Username harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(ae,{modelValue:t(o).name,"onUpdate:modelValue":c[3]||(c[3]=_=>t(o).name=_),modelModifiers:{trim:!0},label:"Nama Pelanggan",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(se,{modelValue:t(o).type,"onUpdate:modelValue":c[4]||(c[4]=_=>t(o).type=_),label:"Jenis Akun",options:t(s),"map-options":"","emit-value":"","lazy-rules":"",disable:t(o).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!t(o).errors.type,"error-message":t(o).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"]),e(ae,{modelValue:t(o).phone,"onUpdate:modelValue":c[5]||(c[5]=_=>t(o).phone=_),modelModifiers:{trim:!0},type:"text",label:"No HP",disable:t(o).processing,error:!!t(o).errors.phone,"error-message":t(o).errors.phone,rules:[_=>_&&_.length>0||"No HP harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(ae,{modelValue:t(o).address,"onUpdate:modelValue":c[6]||(c[6]=_=>t(o).address=_),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Alamat",disable:t(o).processing,error:!!t(o).errors.address,"error-message":t(o).errors.address,rules:[_=>_&&_.length>0||"Alamat harus diisi."],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(ae,{autocomplete:"","aria-autocomplete":"none",modelValue:t(o).password,"onUpdate:modelValue":c[7]||(c[7]=_=>t(o).password=_),type:"password",label:t(o).id?"Kata Sandi (Isi jika ingin mengganti)":"Kata Sandi Baru (Wajib diisi)",disable:t(o).processing,error:!!t(o).errors.password,"error-message":t(o).errors.password,"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","label","disable","error","error-message"]),e(na,{modelValue:t(o).active,"onUpdate:modelValue":c[8]||(c[8]=_=>t(o).active=_),label:"Aktif",disable:t(o).processing},null,8,["modelValue","disable"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(U,{type:"submit",label:"Simpan",icon:"save",color:"primary",disable:t(o).processing},null,8,["disable"]),e(U,{label:"Batal",icon:"cancel",disable:t(o).processing,onClick:c[9]||(c[9]=_=>t(W).get(b.route("admin.customer.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},zi=Object.freeze(Object.defineProperty({__proto__:null,default:Bi},Symbol.toStringTag,{value:"Module"}));function It(u,n,m,o){const s=[];return u.forEach(i=>{o(i)===!0?s.push(i):n.push({failedPropValidation:m,file:i})}),s}function Wt(u){u&&u.dataTransfer&&(u.dataTransfer.dropEffect="copy"),Ct(u)}const Fi={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Li=["rejected"];function Hi({editable:u,dnd:n,getFileInput:m,addFilesToQueue:o}){const{props:s,emit:i,proxy:b}=xt(),c=q(null),d=J(()=>s.accept!==void 0?s.accept.split(",").map(w=>(w=w.trim(),w==="*"?"*/":(w.endsWith("/*")&&(w=w.slice(0,w.length-1)),w.toUpperCase()))):null),f=J(()=>parseInt(s.maxFiles,10)),_=J(()=>parseInt(s.maxTotalSize,10));function y(w){if(u.value)if(w!==Object(w)&&(w={target:null}),w.target!==null&&w.target.matches('input[type="file"]')===!0)w.clientX===0&&w.clientY===0&&Eo(w);else{const P=m();P&&P!==w.target&&P.click(w)}}function p(w){u.value&&w&&o(null,w)}function C(w,P,N,V){let T=Array.from(P||w.target.files);const D=[],B=()=>{D.length!==0&&i("rejected",D)};if(s.accept!==void 0&&d.value.indexOf("*/")===-1&&(T=It(T,D,"accept",A=>d.value.some(O=>A.type.toUpperCase().startsWith(O)||A.name.toUpperCase().endsWith(O))),T.length===0))return B();if(s.maxFileSize!==void 0){const A=parseInt(s.maxFileSize,10);if(T=It(T,D,"max-file-size",O=>O.size<=A),T.length===0)return B()}if(s.multiple!==!0&&T.length!==0&&(T=[T[0]]),T.forEach(A=>{A.__key=A.webkitRelativePath+A.lastModified+A.name+A.size}),V===!0){const A=N.map(O=>O.__key);T=It(T,D,"duplicate",O=>A.includes(O.__key)===!1)}if(T.length===0)return B();if(s.maxTotalSize!==void 0){let A=V===!0?N.reduce((O,Z)=>O+Z.size,0):0;if(T=It(T,D,"max-total-size",O=>(A+=O.size,A<=_.value)),T.length===0)return B()}if(typeof s.filter=="function"){const A=s.filter(T);T=It(T,D,"filter",O=>A.includes(O))}if(s.maxFiles!==void 0){let A=V===!0?N.length:0;if(T=It(T,D,"max-files",()=>(A++,A<=f.value)),T.length===0)return B()}if(B(),T.length!==0)return T}function S(w){Wt(w),n.value!==!0&&(n.value=!0)}function $(w){Ct(w),(w.relatedTarget!==null||Dt.is.safari!==!0?w.relatedTarget!==c.value:document.elementsFromPoint(w.clientX,w.clientY).includes(c.value)===!1)===!0&&(n.value=!1)}function E(w){Wt(w);const P=w.dataTransfer.files;P.length!==0&&o(null,P),n.value=!1}function I(w){if(n.value===!0)return fe("div",{ref:c,class:`q-${w}__dnd absolute-full`,onDragenter:Wt,onDragover:Wt,onDragleave:$,onDrop:E})}return Object.assign(b,{pickFiles:y,addFiles:p}),{pickFiles:y,addFiles:p,onDragover:S,onDragleave:$,processFiles:C,getDndNode:I,maxFilesNumber:f,maxTotalSizeNumber:_}}const Bl=bt({name:"QFile",inheritAttrs:!1,props:{...Bo,...Vl,...Fi,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...No,...Li],setup(u,{slots:n,emit:m,attrs:o}){const{proxy:s}=xt(),i=zo(),b=q(null),c=q(!1),d=Fo(u),{pickFiles:f,onDragover:_,onDragleave:y,processFiles:p,getDndNode:C}=Hi({editable:i.editable,dnd:c,getFileInput:de,addFilesToQueue:j}),S=Lo(u),$=J(()=>Object(u.modelValue)===u.modelValue?"length"in u.modelValue?Array.from(u.modelValue):[u.modelValue]:[]),E=J(()=>Da($.value)),I=J(()=>$.value.map(te=>te.name).join(", ")),w=J(()=>Ho($.value.reduce((te,Te)=>te+Te.size,0))),P=J(()=>({totalSize:w.value,filesNumber:$.value.length,maxFiles:u.maxFiles})),N=J(()=>({tabindex:-1,type:"file",title:"",accept:u.accept,capture:u.capture,name:d.value,...o,id:i.targetUid.value,disabled:i.editable.value!==!0})),V=J(()=>"q-file q-field--auto-height"+(c.value===!0?" q-file--dnd":"")),T=J(()=>u.multiple===!0&&u.append===!0);function D(te){const Te=$.value.slice();Te.splice(te,1),A(Te)}function B(te){const Te=$.value.indexOf(te);Te!==-1&&D(Te)}function A(te){m("update:modelValue",u.multiple===!0?te:te[0])}function O(te){te.keyCode===13&&Qo(te)}function Z(te){(te.keyCode===13||te.keyCode===32)&&f(te)}function de(){return b.value}function j(te,Te){const Fe=p(te,Te,$.value,T.value),ut=de();ut!=null&&(ut.value=""),Fe!==void 0&&((u.multiple===!0?u.modelValue&&Fe.every(dt=>$.value.includes(dt)):u.modelValue===Fe[0])||A(T.value===!0?$.value.concat(Fe):Fe))}function F(){return[fe("input",{class:[u.inputClass,"q-file__filler"],style:u.inputStyle})]}function G(){if(n.file!==void 0)return $.value.length===0?F():$.value.map((Te,Fe)=>n.file({index:Fe,file:Te,ref:this}));if(n.selected!==void 0)return $.value.length===0?F():n.selected({files:$.value,ref:this});if(u.useChips===!0)return $.value.length===0?F():$.value.map((Te,Fe)=>fe(ql,{key:"file-"+Fe,removable:i.editable.value,dense:!0,textColor:u.color,tabindex:u.tabindex,onRemove:()=>{D(Fe)}},()=>fe("span",{class:"ellipsis",textContent:Te.name})));const te=u.displayValue!==void 0?u.displayValue:I.value;return te.length!==0?[fe("div",{class:u.inputClass,style:u.inputStyle,textContent:te})]:F()}function ke(){const te={ref:b,...N.value,...S.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:j};return u.multiple===!0&&(te.multiple=!0),fe("input",te)}return Object.assign(i,{fieldClass:V,emitValue:A,hasValue:E,inputRef:b,innerValue:$,floatingLabel:J(()=>E.value===!0||Da(u.displayValue)),computedCounter:J(()=>{if(u.counterLabel!==void 0)return u.counterLabel(P.value);const te=u.maxFiles;return`${$.value.length}${te!==void 0?" / "+te:""} (${w.value})`}),getControlChild:()=>C("file"),getControl:()=>{const te={ref:i.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:u.tabindex};return i.editable.value===!0&&Object.assign(te,{onDragover:_,onDragleave:y,onKeydown:O,onKeyup:Z}),fe("div",te,[ke()].concat(G()))}}),Object.assign(s,{removeAtIndex:D,removeFile:B,getNativeElement:()=>b.value}),Yo(s,"nativeEl",()=>b.value),Ko(i)}}),Xt=bt({name:"QBanner",props:{..._a,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(u,{slots:n}){const{proxy:{$q:m}}=xt(),o=ya(u,m),s=J(()=>"q-banner row items-center"+(u.dense===!0?" q-banner--dense":"")+(o.value===!0?" q-banner--dark q-dark":"")+(u.rounded===!0?" rounded-borders":"")),i=J(()=>`q-banner__actions row items-center justify-end col-${u.inlineActions===!0?"auto":"all"}`);return()=>{const b=[fe("div",{class:"q-banner__avatar col-auto row items-center self-start"},$t(n.avatar)),fe("div",{class:"q-banner__content col text-body2"},$t(n.default))],c=$t(n.action);return c!==void 0&&b.push(fe("div",{class:i.value},c)),fe("div",{class:s.value+(u.inlineActions===!1&&c!==void 0?" q-banner--top-padding":""),role:"alert"},b)}}}),Yi={class:"q-gutter-sm"},Ki={class:"col col-md-6 q-pa-xs"},Wa="Import Pelanggan",Qi={__name:"Import",setup(u){const n=Be({csv_file:null}),m=()=>{n.post(route("admin.customer.import"),{onSuccess:()=>{n.reset()},onError:()=>{Ue()},onFinish:()=>{n.clearErrors()}})};return(o,s)=>{const i=L("i-head"),b=L("authenticated-layout");return g(),h(H,null,[e(i,{title:Wa}),e(b,{"show-drawer-button":!1},{title:l(()=>[v(r(Wa))]),"left-button":l(()=>[a("div",Yi,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=c=>o.$goBack())})])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",Ki,[e(Me,{class:"row",onSubmit:Q(m,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[s[3]||(s[3]=a("div",{class:"text-subtitle1 q-pt-lg"},"Unggah File Impor",-1)),s[4]||(s[4]=a("div",{class:"text-caption text-grey"}," Unggah file CSV untuk mengimpor data pelanggan. Pastikan format kolom sesuai dengan template yang disediakan. ",-1)),e(Bl,{modelValue:t(n).csv_file,"onUpdate:modelValue":s[1]||(s[1]=c=>t(n).csv_file=c),accept:".csv",label:"Pilih file CSV",error:!!t(n).errors.csv_file,"error-message":t(n).errors.csv_file,disable:t(n).processing,"hide-bottom-space":"",class:"q-mt-md"},null,8,["modelValue","error","error-message","disable"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"upload",type:"submit",label:"Import Data",color:"primary",disable:t(n).processing||!t(n).csv_file,loading:t(n).processing},null,8,["disable","loading"]),e(U,{icon:"cancel",label:"Batal",disable:t(n).processing,onClick:s[2]||(s[2]=c=>o.$goBack())},null,8,["disable"])]),_:1}),o.$page.props.flash.success?(g(),R(Xt,{key:0,class:"bg-positive text-white q-mt-md"},{default:l(()=>[v(r(o.$page.props.flash.success),1)]),_:1})):k("",!0),o.$page.props.flash.error?(g(),R(Xt,{key:1,class:"bg-negative text-white q-mt-md"},{default:l(()=>[v(r(o.$page.props.flash.error),1)]),_:1})):k("",!0)]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Wi=Object.freeze(Object.defineProperty({__proto__:null,default:Qi},Symbol.toStringTag,{value:"Module"})),Ji={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Gi={class:"q-pa-xs"},Xi={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Zi={class:"flex justify-end"},Ja="Pelanggan",ed={__name:"Index",setup(u){const n=we(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),c=We(b),d=Pe({search:"",status:"active",...Ie()}),f=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),_=[{name:"username",label:n.screen.lt.md?"Pelanggan":"Kode",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right"},{name:"phone",label:"No HP",field:"phone",align:"left"},{name:"address",label:"Alamat",field:"address",align:"left"},{name:"action",align:"right"}],y=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];$e(()=>{C()});const p=I=>Ge({message:`Hapus Pelanggan ${I.name}?`,url:route("admin.customer.delete",I.id),fetchItemsCallback:C,loading:s}),C=(I=null)=>{De({pagination:f,filter:d,props:I,rows:o,url:route("admin.customer.data"),loading:s,tableRef:i})},S=()=>C(),$=I=>W.get(route("admin.customer.detail",{id:I.id})),E=J(()=>n.screen.gt.sm?_:_.filter(I=>I.name==="username"||I.name==="action"));return(I,w)=>{const P=L("i-head"),N=L("authenticated-layout");return g(),h(H,null,[e(P,{title:Ja}),e(N,null,Ye({title:l(()=>[v(r(Ja))]),"right-button":l(()=>[e(U,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:w[0]||(w[0]=V=>m.value=!m.value)},null,8,["icon"]),I.$can("admin.customer.add")?(g(),R(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:w[1]||(w[1]=V=>t(W).get(I.route("admin.customer.add")))})):k("",!0),I.$can("admin.customer.import")?(g(),R(U,{key:1,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:w[3]||(w[3]=Q(()=>{},["stop"])),class:"q-ml-sm"},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(je,{style:{width:"200px"}},{default:l(()=>[I.$can("admin.customer.import")?X((g(),R(ee,{key:0,clickable:"",onClick:w[2]||(w[2]=Q(V=>t(W).get(I.route("admin.customer.import")),["stop"]))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"csv"})]),_:1}),e(M,null,{default:l(()=>w[8]||(w[8]=[v("Import")])),_:1})]),_:1})),[[ne],[re]]):k("",!0)]),_:1})]),_:1})]),_:1})):k("",!0)]),default:l(()=>[a("div",Gi,[e(Ce,{class:"full-height-table",style:Ae({height:t(c)}),ref_key:"tableRef",ref:i,flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:f.value,"onUpdate:pagination":w[7]||(w[7]=V=>f.value=V),filter:d.search,loading:s.value,columns:E.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:C,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:V,message:T,filter:D})=>[a("div",Xi,[a("span",null,r(T)+" "+r(D?" with term "+D:""),1)])]),body:l(V=>[e(Ve,{props:V,class:ye([V.row.active?"":"bg-red-1","cursor-pointer"]),onClick:T=>$(V.row)},{default:l(()=>[e(z,{key:"username",props:V,class:"wrap-column"},{default:l(()=>[a("div",null,[t(n).screen.lt.md?(g(),R(x,{key:0,name:"person"})):k("",!0),v(" "+r(V.row.username),1)]),t(n).screen.lt.md?(g(),h(H,{key:0},[a("div",null,[t(n).screen.lt.md?(g(),R(x,{key:0,name:"person"})):k("",!0),v(" "+r(V.row.name),1)]),a("div",null,[e(x,{name:"phone"}),v(" "+r(V.row.phone),1)]),e(ve,{text:V.row.address,icon:"home_pin"},null,8,["text"]),a("div",null,[e(x,{name:"wallet"}),v(" Rp. "+r(t(Y)(V.row.balance)),1)])],64)):k("",!0)]),_:2},1032,["props"]),e(z,{key:"name",props:V},{default:l(()=>[v(r(V.row.name),1)]),_:2},1032,["props"]),e(z,{key:"balance",props:V},{default:l(()=>[v(r(t(Y)(V.row.balance)),1)]),_:2},1032,["props"]),e(z,{key:"phone",props:V},{default:l(()=>[v(r(V.row.phone),1)]),_:2},1032,["props"]),e(z,{key:"address",props:V},{default:l(()=>[e(ve,{text:V.row.address},null,8,["text"])]),_:2},1032,["props"]),e(z,{key:"action",props:V},{default:l(()=>[a("div",Zi,[I.$can("admin.customer.add")||I.$can("admin.customer.edit")||I.$can("admin.customer.delete")?(g(),R(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:w[6]||(w[6]=Q(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(je,{style:{width:"200px"}},{default:l(()=>[I.$can("admin.customer.edit")?X((g(),R(ee,{key:0,clickable:"",onClick:Q(T=>t(W).get(I.route("admin.customer.edit",V.row.id)),["stop"])},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"edit"})]),_:1}),e(M,null,{default:l(()=>w[9]||(w[9]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),I.$can("admin.customer.delete")?X((g(),R(ee,{key:1,onClick:Q(T=>p(V.row),["stop"]),clickable:""},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"delete_forever"})]),_:1}),e(M,null,{default:l(()=>w[10]||(w[10]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[a("div",Ji,[e(se,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:d.status,"onUpdate:modelValue":[w[4]||(w[4]=V=>d.status=V),S],options:y,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ae,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":w[5]||(w[5]=V=>d.search=V),placeholder:"Cari",clearable:""},{append:l(()=>[e(x,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},td=Object.freeze(Object.defineProperty({__proto__:null,default:ed},Symbol.toStringTag,{value:"Module"})),ad={class:"q-pb-sm"},ld={class:"row q-col-gutter-sm"},od={class:"row items-center no-wrap"},nd={class:"q-ml-md"},sd={class:"text-subtitle2 text-grey-8"},rd={class:"text-h6 text-weight-bold"},zl={__name:"ActualSummaryCard",props:{dashboardData:{type:Object,required:!0}},setup(u){const n=u,m=J(()=>[{label:"Total Pelanggan Aktif",value:n.dashboardData.summary.total_active_customer,icon:"groups",color:"primary",bgColor:"#e3f2fd"},{label:"Total Saldo Wallet",value:Y(n.dashboardData.summary.total_wallet_balance),icon:"account_balance_wallet",color:"orange-9",bgColor:"#fff3e0"},{label:"Total Penjualan",value:Y(n.dashboardData.summary.total_sales),icon:"shopping_cart",color:"green-7",bgColor:"#e8f5e9"},{label:"Total Transaksi",value:Y(n.dashboardData.summary.total_transactions),icon:"swap_horiz",color:"purple-8",bgColor:"#f3e5f5"}]);return(o,s)=>(g(),h("div",ad,[s[0]||(s[0]=a("div",{class:"text-h6 text-bold text-grey-8 q-mb-sm"},"Ringkasan Statistik",-1)),a("div",ld,[(g(!0),h(H,null,at(m.value,(i,b)=>(g(),h("div",{key:b,class:"col-12 col-md-6"},[e(ie,{square:"",bordered:"",flat:"",class:"q-pa-md",style:{width:"100%"}},{default:l(()=>[a("div",od,[e(Rt,{icon:i.icon,color:i.color,"text-color":i.bgColor},null,8,["icon","color","text-color"]),a("div",nd,[a("div",sd,r(i.label),1),a("div",rd,r(i.value),1)])])]),_:2},1024)]))),128))])]))}},id=Object.freeze(Object.defineProperty({__proto__:null,default:zl},Symbol.toStringTag,{value:"Module"})),dd={class:"row q-col-gutter-sm q-pb-sm"},ud={class:"col-md-6 col-12"},md={class:"col-md-6 col-12"},cd={__name:"ChartCard",props:{dashboardData:{type:Object,required:!0}},setup(u){Wo([Jo,Go,Xo,Zo,en,tn,an]);const n=u,m=["#82B1FF","#4DB6AC","#FFB74D","#9575CD"],o=J(()=>({title:{text:"Penjualan Bulanan",left:"center"},tooltip:{trigger:"axis",formatter:function(i){let b=i[0].name+"<br/>";return i.forEach(function(c){b+=c.marker+" "+c.seriesName+": "+Y(c.value)+"<br/>"}),b}},xAxis:{type:"category",data:n.dashboardData.monthly_sales.labels,axisLabel:{color:"#616161"}},yAxis:{type:"value",axisLabel:{formatter:i=>Y(i),color:"#616161"}},series:[{name:"Penjualan",type:"bar",data:n.dashboardData.monthly_sales.data,itemStyle:{borderRadius:[5,5,0,0],color:m[0]}}]})),s=J(()=>({title:{text:"Distribusi Jenis Transaksi",left:"center"},tooltip:{trigger:"item",formatter:function(i){return i.name+"<br/>"+i.seriesName+": "+Y(i.value)+" ("+i.percent+"%)"}},legend:{orient:"vertical",left:"left",textStyle:{color:"#616161"}},series:[{name:"Jumlah Transaksi",type:"pie",radius:["40%","70%"],data:n.dashboardData.transaction_type_distribution,itemStyle:{borderRadius:5,borderColor:"#fff",borderWidth:2,color:i=>m[i.dataIndex%m.length]},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}));return(i,b)=>(g(),h("div",dd,[a("div",ud,[e(ie,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:l(()=>[b[0]||(b[0]=a("div",{class:"text-h6 q-pb-sm"},"Penjualan Bulanan",-1)),e(t(Ra),{class:"chart",option:o.value,autoresize:""},null,8,["option"])]),_:1})]),a("div",md,[e(ie,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:l(()=>[b[1]||(b[1]=a("div",{class:"text-h6 q-pb-sm"},"Distribusi Transaksi",-1)),e(t(Ra),{class:"chart",option:s.value,autoresize:""},null,8,["option"])]),_:1})])]))}},Fl=ft(cd,[["__scopeId","data-v-b9cdf915"]]),pd=Object.freeze(Object.defineProperty({__proto__:null,default:Fl},Symbol.toStringTag,{value:"Module"})),fd={class:"row q-col-gutter-sm q-pb-sm"},gd={class:"col-md-6 col-12"},bd={class:"col-md-6 col-12"},Ll={__name:"TopCard",props:{dashboardData:{type:Object,required:!0}},setup(u){return(n,m)=>(g(),h("div",fd,[a("div",gd,[e(ie,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:l(()=>[m[0]||(m[0]=a("div",{class:"text-h6 q-mb-sm"},"Top 5 Pembelian Pelanggan",-1)),e(je,{separator:""},{default:l(()=>[(g(!0),h(H,null,at(u.dashboardData.top_customers_sales,(o,s)=>(g(),R(ee,{key:s},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(Rt,{color:"primary","text-color":"white",size:"sm"},{default:l(()=>[v(r(s+1),1)]),_:2},1024)]),_:2},1024),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>[v(r(o.name),1)]),_:2},1024)]),_:2},1024),e(M,{side:""},{default:l(()=>[e(ge,{class:"text-primary"},{default:l(()=>[v(r(t(Y)(o.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),a("div",bd,[e(ie,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:l(()=>[m[1]||(m[1]=a("div",{class:"text-h6 q-mb-sm"},"Top 5 Top Up Pelanggan",-1)),e(je,{separator:""},{default:l(()=>[(g(!0),h(H,null,at(u.dashboardData.top_customers_topup,(o,s)=>(g(),R(ee,{key:s},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(Rt,{color:"green-7","text-color":"white",size:"sm"},{default:l(()=>[v(r(s+1),1)]),_:2},1024)]),_:2},1024),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>[v(r(o.name),1)]),_:2},1024)]),_:2},1024),e(M,{side:""},{default:l(()=>[e(ge,{class:"text-green-7"},{default:l(()=>[v(r(t(Y)(o.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]))}},vd=Object.freeze(Object.defineProperty({__proto__:null,default:Ll},Symbol.toStringTag,{value:"Module"})),_d={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},yd={class:"q-pa-xs"},wd={class:"q-pa-none"},Ga="Dashboard",kd={__name:"Index",setup(u){const n=me(),m=q({summary:{total_active_customer:n.props.data.active_customer_count,total_sales:155e5,total_transactions:1250,total_wallet_balance:n.props.data.total_customer_balance,total_topup:75e6,total_purchase:85e6,total_withdrawal:65e6},top_customers_sales:[{name:"Wildan Medina",value:1822e3},{name:"Syafiq",value:1754500},{name:"Umar",value:1534e3},{name:"Fauzan",value:1212e3},{name:"Rizky",value:981500}],top_customers_topup:[{name:"Abdullah",value:175e4},{name:"Abdurrahman",value:15e5},{name:"Zayd",value:125e4},{name:"Syafiq",value:8e5},{name:"Umar",value:65e4}],monthly_sales:{labels:["Jan","Feb","Mar","Apr","Mei","Jun"],data:[14123e3,21344e3,15155e3,17128e3,12557e3,12723e3]},transaction_type_distribution:[{value:500,name:"Deposit"},{value:350,name:"Purchase"},{value:200,name:"Withdrawal"},{value:200,name:"Refund"}]}),o=q(!1),s=q(Ie().month??"this_month"),i=q([{value:"this_month",label:"Bulan Ini"},{value:"prev_month",label:"1 Bulan Sebelumnya"},{value:"prev_2month",label:"2 Bulan Sebelumnya"},{value:"prev_3month",label:"3 Bulan Sebelumnya"}]),b=()=>{W.visit(route("admin.dashboard",{month:s.value}))};return(c,d)=>{const f=L("i-head"),_=L("authenticated-layout");return g(),h(H,null,[e(f,{title:Ga}),e(_,null,Ye({title:l(()=>[v(r(Ga))]),"right-button":l(()=>[e(U,{class:"q-ml-sm",icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:d[0]||(d[0]=y=>o.value=!o.value)},null,8,["icon"])]),default:l(()=>[a("div",yd,[a("div",wd,[e(zl,{dashboardData:m.value},null,8,["dashboardData"])]),e(Fl,{dashboardData:m.value},null,8,["dashboardData"]),e(Ll,{dashboardData:m.value},null,8,["dashboardData"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Je,{class:"filter-bar"},{default:l(()=>[a("div",_d,[e(se,{class:"custom-select col-12",style:{"min-width":"150px"},modelValue:s.value,"onUpdate:modelValue":[d[1]||(d[1]=y=>s.value=y),b],options:i.value,label:"Bulan",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue","options"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},$d=Object.freeze(Object.defineProperty({__proto__:null,default:kd},Symbol.toStringTag,{value:"Module"})),hd={class:"row"},xd={class:"row q-col-gutter-sm"},Sd={class:"col-sm-6 col-xs-12"},Vd={class:"col-sm-6 col-xs-12"},qd={class:"col-md-3 col-sm-6 col-xs-12"},Cd={class:"col-md-3 col-sm-6 col-xs-12"},Td={class:"col-md-3 col-sm-6 col-xs-12"},Pd={class:"col-md-3 col-sm-6 col-xs-12"};const Od={__name:"SummaryCard",setup(u){const n=me(),m=(o,s)=>{const b={...{order_status:"all",service_status:"all",repair_status:"all",payment_status:"all",search:""},...s};localStorage.setItem("fixsync.service-orders.filter",JSON.stringify(b)),W.visit(o,{data:b})};return(o,s)=>(g(),h("div",hd,[e(ie,{class:"bg-transparent no-shadow no-border col",bordered:""},{default:l(()=>[e(le,{class:"q-pa-none"},{default:l(()=>[a("div",xd,[a("div",Sd,[e(ee,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:s[0]||(s[0]=i=>o.$inertia.visit(o.route("admin.customer.index",{status:"active"})))},{default:l(()=>[e(M,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(x,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(M,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ge,{class:"text-white text-h6 text-weight-bolder"},{default:l(()=>[v(r(t(n).props.data.active_customer_count),1)]),_:1}),e(ge,null,{default:l(()=>s[5]||(s[5]=[v("Pelanggan Aktif")])),_:1})]),_:1})]),_:1})]),a("div",Vd,[e(ee,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:s[1]||(s[1]=i=>o.$inertia.visit(o.route("admin.customer.index",{status:"active"})))},{default:l(()=>[e(M,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(x,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(M,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ge,{class:"text-white text-h6 text-weight-bolder"},{default:l(()=>[v(r(o.$page.props.data.active_user_count),1)]),_:1}),e(ge,null,{default:l(()=>s[6]||(s[6]=[v("Pengguna Aktif")])),_:1})]),_:1})]),_:1})]),a("div",qd,[e(ee,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:l(()=>[e(M,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(x,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(M,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ge,{class:"text-white text-weight-bold"},{default:l(()=>[v(" Rp. "+r(t(Y)(o.$page.props.data.total_finance_account_balance)),1)]),_:1}),e(ge,null,{default:l(()=>s[7]||(s[7]=[v("Total Saldo Koperasi")])),_:1})]),_:1})]),_:1})]),a("div",Cd,[e(ee,{style:"background-color: #dc3545",class:"q-pa-none"},{default:l(()=>[e(M,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(x,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(M,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ge,{class:"text-white text-weight-bold"},{default:l(()=>[v(" Rp. "+r(t(Y)(o.$page.props.data.total_customer_balance)),1)]),_:1}),e(ge,null,{default:l(()=>s[8]||(s[8]=[v("Total Saldo Pelanggan")])),_:1})]),_:1})]),_:1})]),a("div",Td,[e(ee,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:l(()=>[e(M,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(x,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(M,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ge,{class:"text-white text-weight-bold"},{default:l(()=>[v(" Rp. "+r(t(Y)(o.$page.props.data.total_customer_debt)),1)]),_:1}),e(ge,null,{default:l(()=>s[9]||(s[9]=[v("Total Utang Pelanggan")])),_:1})]),_:1})]),_:1})]),a("div",Pd,[e(ee,{style:"background-color: #dc3545",class:"q-pa-none"},{default:l(()=>[e(M,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(x,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(M,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ge,{class:"text-white text-weight-bold"},{default:l(()=>[v(" Rp. "+r(t(Y)(o.$page.props.data.total_customer_credit)),1)]),_:1}),e(ge,null,{default:l(()=>s[10]||(s[10]=[v("Total Piutang Pelanggan")])),_:1})]),_:1})]),_:1})]),k("",!0),k("",!0),k("",!0)])]),_:1})]),_:1})]))}},Id=Object.freeze(Object.defineProperty({__proto__:null,default:Od},Symbol.toStringTag,{value:"Module"})),Dd={class:"detail"},Hl={__name:"MainInfoTab",setup(u){const n=me();return(m,o)=>(g(),h("table",Dd,[a("tbody",null,[a("tr",null,[o[0]||(o[0]=a("td",{style:{width:"170px"}},"Nama",-1)),o[1]||(o[1]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,r(t(n).props.data.name),1)]),a("tr",null,[o[2]||(o[2]=a("td",null,"Jenis",-1)),o[3]||(o[3]=a("td",null,":",-1)),a("td",null,r(m.$CONSTANTS.FINANCE_ACCOUNT_TYPES[t(n).props.data.type]),1)]),t(n).props.data.type=="bank"?(g(),h(H,{key:0},[a("tr",null,[o[4]||(o[4]=a("td",null,"Bank",-1)),o[5]||(o[5]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.bank),1)]),a("tr",null,[o[6]||(o[6]=a("td",null,"No. Rek",-1)),o[7]||(o[7]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.number),1)]),a("tr",null,[o[8]||(o[8]=a("td",null,"Atas Nama",-1)),o[9]||(o[9]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.holder),1)])],64)):k("",!0),a("tr",null,[o[10]||(o[10]=a("td",null,"Saldo",-1)),o[11]||(o[11]=a("td",null,":",-1)),a("td",null,"Rp. "+r(t(Y)(t(n).props.data.balance)),1)]),a("tr",null,[o[12]||(o[12]=a("td",null,"Status",-1)),o[13]||(o[13]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),a("tr",null,[o[14]||(o[14]=a("td",null,"Catatan",-1)),o[15]||(o[15]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.notes),1)]),o[22]||(o[22]=a("tr",null,[a("td",{colspan:"3",class:"text-bold text-grey-9"},[a("div",{class:"q-mt-sm"},"Opsi Lanjutan")])],-1)),a("tr",null,[o[16]||(o[16]=a("td",null,"Tampilkan di Penjualan",-1)),o[17]||(o[17]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.show_in_pos_payment?"Ya":"Tidak"),1)]),a("tr",null,[o[18]||(o[18]=a("td",null,"Tampilkan di Pembelian",-1)),o[19]||(o[19]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.show_in_purchasing?"Ya":"Tidak"),1)]),a("tr",null,[o[20]||(o[20]=a("td",null,"Tampilkan di Wallet",-1)),o[21]||(o[21]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.has_wallet_access?"Ya":"Tidak"),1)])])]))}},Rd=Object.freeze(Object.defineProperty({__proto__:null,default:Hl},Symbol.toStringTag,{value:"Module"})),Ud={class:"full-width row flex-center text-grey-8 q-gutter-sm"},jd={class:"flex q-gutter-sm"},Md={key:0},Yl={__name:"HistoryTab",setup(u){const n=me(),m=we(),o=q(null),s=q([]),i=q(!0),b=Pe({...Ie()}),c=We(null,117),d=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),f=[{name:"id",label:"ID",field:"id",align:"left"},{name:"datetime",label:"Waktu",field:"datetime",align:"left"},{name:"type",label:"Jenis Trx",field:"type",align:"center"},{name:"amount",label:"Jumlah",field:"amount",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}],_=J(()=>m.screen.gt.sm?f:f.filter(p=>p.name==="id"));$e(()=>{y()});const y=(p=null)=>De({pagination:d,filter:b,props:p,rows:s,url:route("admin.finance-transaction.data",{filter:{account_id:n.props.data.id}}),loading:i,tableRef:o});return(p,C)=>(g(),R(Ce,{ref_key:"tableRef",ref:o,flat:"",bordered:"",square:"",style:Ae({height:t(c)}),color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",pagination:d.value,"onUpdate:pagination":C[0]||(C[0]=S=>d.value=S),filter:b.search,loading:i.value,columns:_.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:y,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({message:S,filter:$})=>[a("div",Ud,[a("span",null,r(S)+" "+r($?" with term "+$:""),1)])]),body:l(S=>[e(Ve,{props:S},{default:l(()=>[e(z,{key:"id",props:S},{default:l(()=>[a("div",jd,[a("div",null,[t(m).screen.lt.md?(g(),R(x,{key:0,name:"tag",class:"inline-icon"})):k("",!0),v(" "+r(S.row.formatted_id),1)])]),t(m).screen.lt.md?(g(),h(H,{key:0},[a("div",null,[e(x,{name:"calendar_clock",class:"inline-icon"}),v(" "+r(t(be)(S.row.datetime)),1)]),S.row.creator?(g(),h("div",Md,[e(x,{name:"person",class:"inline-icon"}),v(" "+r(S.row.creator.username),1)])):k("",!0),a("div",{class:ye([S.row.amount>0?"text-green":"text-red","text-bold"])},[e(x,{class:"inline-icon",name:"money"}),v(" "+r(t(ht)(S.row.amount))+"Rp. "+r(t(Y)(Math.abs(S.row.amount))),1)],2),a("div",null,[e(rt,{color:S.row.amount>0?"green":"red"},{default:l(()=>[v(r(p.$CONSTANTS.FINANCE_TRANSACTION_TYPES[S.row.type]),1)]),_:2},1032,["color"])]),e(ve,{text:S.row.notes,icon:"notes",class:"text-grey-8"},null,8,["text"])],64)):k("",!0)]),_:2},1032,["props"]),e(z,{key:"datetime",props:S},{default:l(()=>[v(r(t(be)(S.row.datetime)),1)]),_:2},1032,["props"]),e(z,{key:"type",props:S},{default:l(()=>[e(rt,{color:S.row.amount>0?"green":"red"},{default:l(()=>[v(r(p.$CONSTANTS.FINANCE_TRANSACTION_TYPES[S.row.type]),1)]),_:2},1032,["color"])]),_:2},1032,["props"]),e(z,{key:"amount",props:S,class:ye(S.row.amount>0?"text-green":"text-red")},{default:l(()=>[v(r(t(ht)(S.row.amount)+t(Y)(Math.abs(S.row.amount))),1)]),_:2},1032,["props","class"]),e(z,{key:"notes",props:S},{default:l(()=>[e(ve,{text:S.row.notes,icon:p.notes},null,8,["text","icon"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"]))}},Ad=Object.freeze(Object.defineProperty({__proto__:null,default:Yl},Symbol.toStringTag,{value:"Module"})),Ed={class:"q-gutter-sm"},Nd={class:"q-gutter-sm"},Bd={class:"col q-pa-xs"},zd={class:"row"},Xa="Rincian Akun",Fd={__name:"Detail",setup(u){const n=me(),m=q("main");return(o,s)=>{const i=L("i-head"),b=L("authenticated-layout");return g(),h(H,null,[e(i,{title:Xa}),e(b,null,{title:l(()=>[v(r(Xa))]),"left-button":l(()=>[a("div",Ed,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=c=>o.$inertia.get(o.route("admin.finance-account.index")))})])]),"right-button":l(()=>[a("div",Nd,[o.$can("admin.finance-account.edit")?(g(),R(U,{key:0,icon:"edit",size:"sm",dense:"",flat:"",rounded:"",color:"grey",onClick:s[1]||(s[1]=c=>t(W).get(o.route("admin.finance-account.edit",{id:t(n).props.data.id})))})):k("",!0)])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",Bd,[a("div",zd,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(jt,{modelValue:m.value,"onUpdate:modelValue":s[2]||(s[2]=c=>m.value=c),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(lt,{name:"main",label:"Info Akun"}),e(lt,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(Mt,{modelValue:m.value,"onUpdate:modelValue":s[3]||(s[3]=c=>m.value=c)},{default:l(()=>[e(ot,{name:"main"},{default:l(()=>[e(Hl)]),_:1}),e(ot,{name:"history",class:"q-pa-xs"},{default:l(()=>[e(Yl)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},Ld=Object.freeze(Object.defineProperty({__proto__:null,default:Fd},Symbol.toStringTag,{value:"Module"})),Hd={style:{"margin-left":"-10px"}},qt={__name:"CheckBox",props:{modelValue:{type:[Boolean,Array],default:!1},label:{type:String,default:""},disable:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(u){return(n,m)=>(g(),h("div",Hd,[e(Zt,{class:"full-width q-pl-none","model-value":u.modelValue,"onUpdate:modelValue":m[0]||(m[0]=o=>n.$emit("update:modelValue",o)),disable:u.disable,label:u.label},null,8,["model-value","disable","label"])]))}},Yd={class:"q-gutter-sm"},Kd={class:"col col-md-6 q-pa-xs"},Qd={__name:"Editor",setup(u){const n=me(),m=(n.props.data.id?"Edit":"Tambah")+" Akun / Kas",o=Be({id:n.props.data.id,name:n.props.data.name,type:n.props.data.type,bank:n.props.data.bank,number:n.props.data.number,holder:n.props.data.holder,balance:parseFloat(n.props.data.balance),active:!!n.props.data.active,has_wallet_access:!!n.props.data.has_wallet_access,show_in_pos_payment:!!n.props.data.show_in_pos_payment,show_in_purchasing_payment:!!n.props.data.show_in_purchasing_payment,notes:n.props.data.notes}),s=Ke(window.CONSTANTS.FINANCE_ACCOUNT_TYPES),i=()=>ze({form:o,url:route("admin.finance-account.save")}),b=c=>{c==="cashier_cash"&&(o.show_in_pos_payment=!0)};return $e(()=>{b(o.type)}),Ne(()=>o.type,c=>{b(c)}),(c,d)=>{const f=L("i-head"),_=L("authenticated-layout");return g(),h(H,null,[e(f,{title:m}),e(_,null,{title:l(()=>[v(r(m))]),"left-button":l(()=>[a("div",Yd,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=y=>c.$inertia.get(c.route("admin.finance-account.index")))})])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",Kd,[e(Me,{class:"row",onSubmit:Q(i,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[X(a("input",{type:"hidden",name:"id","onUpdate:modelValue":d[1]||(d[1]=y=>t(o).id=y)},null,512),[[Xe,t(o).id]]),e(ae,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":d[2]||(d[2]=y=>t(o).name=y),modelModifiers:{trim:!0},label:"Nama Akun","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(se,{modelValue:t(o).type,"onUpdate:modelValue":d[3]||(d[3]=y=>t(o).type=y),label:"Jenis Akun",options:t(s),"map-options":"","emit-value":"",error:!!t(o).errors.type,disable:t(o).processing,"hide-bottom-space":""},null,8,["modelValue","options","error","disable"]),t(o).type=="bank"?(g(),h(H,{key:0},[e(ae,{modelValue:t(o).bank,"onUpdate:modelValue":d[4]||(d[4]=y=>t(o).bank=y),modelModifiers:{trim:!0},label:"Nama Bank","lazy-rules":"",error:!!t(o).errors.bank,disable:t(o).processing,"error-message":t(o).errors.bank,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(ae,{modelValue:t(o).number,"onUpdate:modelValue":d[5]||(d[5]=y=>t(o).number=y),modelModifiers:{trim:!0},label:"Nomor Rekening","lazy-rules":"",error:!!t(o).errors.number,disable:t(o).processing,"error-message":t(o).errors.number,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(ae,{modelValue:t(o).holder,"onUpdate:modelValue":d[6]||(d[6]=y=>t(o).holder=y),modelModifiers:{trim:!0},label:"Pemilik Rekening","lazy-rules":"",error:!!t(o).errors.holder,disable:t(o).processing,"error-message":t(o).errors.holder,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"])],64)):k("",!0),e(Ee,{modelValue:t(o).balance,"onUpdate:modelValue":d[7]||(d[7]=y=>t(o).balance=y),label:"Saldo",lazyRules:"",disable:t(o).processing,"allow-negative":!0,error:!!t(o).errors.balance,errorMessage:t(o).errors.balance,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(ae,{modelValue:t(o).notes,"onUpdate:modelValue":d[8]||(d[8]=y=>t(o).notes=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.notes,"error-message":t(o).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(qt,{modelValue:t(o).active,"onUpdate:modelValue":d[9]||(d[9]=y=>t(o).active=y),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"]),d[14]||(d[14]=a("div",{class:"text-subtitle2 text-bold text-grey-8 q-pt-md"}," Opsi Lanjutan ",-1)),e(qt,{modelValue:t(o).show_in_pos_payment,"onUpdate:modelValue":d[10]||(d[10]=y=>t(o).show_in_pos_payment=y),disable:t(o).processing||t(o).type=="cashier_cash",label:"Tampilkan di Pembayaran Penjualan"},null,8,["modelValue","disable"]),e(qt,{modelValue:t(o).show_in_purchasing_payment,"onUpdate:modelValue":d[11]||(d[11]=y=>t(o).show_in_purchasing_payment=y),disable:t(o).processing,label:"Tampilkan di Pembayaran Pembelian"},null,8,["modelValue","disable"]),e(qt,{modelValue:t(o).has_wallet_access,"onUpdate:modelValue":d[12]||(d[12]=y=>t(o).has_wallet_access=y),disable:t(o).processing,label:"Tampilkan di Konfirmasi Topup Wallet"},null,8,["modelValue","disable"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:d[13]||(d[13]=y=>t(W).get(c.route("admin.finance-account.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Wd=Object.freeze(Object.defineProperty({__proto__:null,default:Qd},Symbol.toStringTag,{value:"Module"})),Jd={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Gd={class:"q-pa-xs"},Xd={class:"q-my-sm text-subtitle"},Zd={class:"text-bold text-grey-8"},eu={class:"full-width row flex-center text-grey-8 q-gutter-sm"},tu={class:"text-bold text-grey-9"},au={class:"text-grey-9"},lu={key:0},ou={key:1},nu={key:0},su={class:"flex justify-end"},Za="Akun Kas",ru={__name:"Index",setup(u){const n=me(),m=we(),o=q(!1),s=q([]),i=q(null),b=q(null),c=We(b,117),d=q(!0),f=Pe({search:"",status:"active",type:"all",...Ie()}),_=n.props.totalBalance,y=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),p=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"type",label:"Jenis Akun",field:"type",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right",sortable:!0},{name:"action",align:"right"}],C=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],S=[{value:"all",label:"Semua"},...Ke(window.CONSTANTS.FINANCE_ACCOUNT_TYPES)];$e(()=>{E()});const $=N=>Ge({message:`Hapus Akun ${N.name}?`,url:route("admin.finance-account.delete",N.id),fetchItemsCallback:E,loading:d}),E=(N=null)=>{De({pagination:y,filter:f,props:N,rows:s,url:route("admin.finance-account.data"),loading:d,tableRef:i})},I=()=>E(),w=N=>W.get(route("admin.finance-account.detail",{id:N.id})),P=J(()=>m.screen.gt.sm?p:p.filter(N=>N.name==="name"||N.name==="action"));return(N,V)=>{const T=L("i-head"),D=L("authenticated-layout");return g(),h(H,null,[e(T,{title:Za}),e(D,null,Ye({title:l(()=>[v(r(Za))]),"right-button":l(()=>[e(U,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:V[0]||(V[0]=B=>o.value=!o.value)},null,8,["icon"]),N.$can("admin.finance-account.add")?(g(),R(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:V[1]||(V[1]=B=>t(W).get(N.route("admin.finance-account.add")))})):k("",!0)]),default:l(()=>[a("div",Gd,[e(ie,{class:"full-width q-pa-sm q-mb-xs",flat:"",bordered:"",square:""},{default:l(()=>[a("div",Xd,[V[7]||(V[7]=v(" Total Saldo Akun Aktif: ")),a("span",Zd,"Rp. "+r(t(Y)(t(_))),1)])]),_:1}),e(Ce,{ref_key:"tableRef",ref:i,class:"full-height-table",style:Ae({height:t(c)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":V[6]||(V[6]=B=>y.value=B),filter:f.search,loading:d.value,columns:P.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:E,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:B,message:A,filter:O})=>[a("div",eu,[a("span",null,r(A)+" "+r(O?" with term "+O:""),1)])]),body:l(B=>[e(Ve,{props:B,class:ye([B.row.active?"":"bg-red-1","cursor-pointer"]),onClick:A=>w(B.row)},{default:l(()=>[e(z,{key:"name",props:B,class:"wrap-column"},{default:l(()=>[a("div",tu,r(B.row.name),1),a("div",au,[B.row.type=="bank"?(g(),h("div",lu,[e(x,{name:"wallet",class:"inline-icon"}),v(" Rekening "+r(B.row.bank??"-")+" "+r(B.row.number??"-")+" a.n. "+r(B.row.holder??"-"),1)])):k("",!0),B.row.notes?(g(),h("div",ou,[e(x,{name:"notes"}),v(" "+r(B.row.notes),1)])):k("",!0)]),t(m).screen.lt.md?(g(),h("div",nu,[e(x,{name:"money",class:"inline-icon"}),v(" Rp. "+r(t(Y)(B.row.balance)),1)])):k("",!0)]),_:2},1032,["props"]),e(z,{key:"type",props:B},{default:l(()=>[v(r(N.$CONSTANTS.FINANCE_ACCOUNT_TYPES[B.row.type]),1)]),_:2},1032,["props"]),e(z,{key:"balance",props:B},{default:l(()=>[v(r(t(Y)(B.row.balance)),1)]),_:2},1032,["props"]),e(z,{key:"action",props:B},{default:l(()=>[a("div",su,[N.$can("admin.finance-account.add")||N.$can("admin.finance-account.edit")||N.$can("admin.finance-account.delete")?(g(),R(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:V[5]||(V[5]=Q(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(je,{style:{width:"200px"}},{default:l(()=>[N.$can("admin.finance-account.add")?X((g(),R(ee,{key:0,clickable:"",onClick:Q(A=>t(W).get(N.route("admin.finance-account.duplicate",B.row.id)),["stop"])},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"file_copy"})]),_:1}),e(M,null,{default:l(()=>V[8]||(V[8]=[v(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),N.$can("admin.finance-account.edit")?X((g(),R(ee,{key:1,clickable:"",onClick:Q(A=>t(W).get(N.route("admin.finance-account.edit",B.row.id)),["stop"])},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"edit"})]),_:1}),e(M,null,{default:l(()=>V[9]||(V[9]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),N.$can("admin.finance-account.delete")?X((g(),R(ee,{key:2,onClick:Q(A=>$(B.row),["stop"]),clickable:""},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"delete_forever"})]),_:1}),e(M,null,{default:l(()=>V[10]||(V[10]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[a("div",Jd,[e(se,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:f.type,"onUpdate:modelValue":[V[2]||(V[2]=B=>f.type=B),I],options:S,label:"Jenis Akun",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:f.status,"onUpdate:modelValue":[V[3]||(V[3]=B=>f.status=B),I],options:C,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ae,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:f.search,"onUpdate:modelValue":V[4]||(V[4]=B=>f.search=B),placeholder:"Cari",clearable:""},{append:l(()=>[e(x,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},iu=Object.freeze(Object.defineProperty({__proto__:null,default:ru},Symbol.toStringTag,{value:"Module"})),du={class:"q-gutter-sm"},uu={class:"col col-md-6 q-pa-xs"},mu={class:"row"},cu={class:"detail"},pu={key:0},fu={key:1},gu={key:2},bu={key:3},vu={colspan:"3",class:"bg-white"},el="Rincian Transaksi",_u={__name:"Detail",setup(u){const n=me();return(m,o)=>{const s=L("i-head"),i=L("authenticated-layout");return g(),h(H,null,[e(s,{title:el}),e(i,{"show-drawer-button":!1},{"left-button":l(()=>[a("div",du,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=b=>m.$inertia.get(m.route("admin.finance-transaction.index")))})])]),title:l(()=>[a("span",{class:"text-subtitle2"},r(el))]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",uu,[a("div",mu,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,null,{default:l(()=>[o[19]||(o[19]=a("div",{class:"text-subtitle1 text-bold text-grey-8"}," Rincian Transaksi Keuangan ",-1)),a("table",cu,[a("tbody",null,[a("tr",null,[o[1]||(o[1]=a("td",{style:{width:"110px"}},"Kode Trx",-1)),o[2]||(o[2]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,r(t(n).props.data.formatted_id),1)]),a("tr",null,[o[3]||(o[3]=a("td",null,"Tanggal",-1)),o[4]||(o[4]=a("td",null,":",-1)),a("td",null,r(t(be)(t(n).props.data.datetime)),1)]),t(n).props.data.account?(g(),h("tr",pu,[o[6]||(o[6]=a("td",null,"Akun",-1)),o[7]||(o[7]=a("td",null,":",-1)),a("td",null,[v(r(t(n).props.data.account.name)+" ",1),t(n).props.data.account.type==="bank"?(g(),h(H,{key:0},[v(" Rek "+r(t(n).props.data.account.bank)+" an "+r(t(n).props.data.account.holder)+" ",1),o[5]||(o[5]=a("br",null,null,-1)),v(" "+r(t(n).props.data.account.number),1)],64)):k("",!0)])])):k("",!0),t(n).props.data.type?(g(),h("tr",fu,[o[8]||(o[8]=a("td",null,"Jenis",-1)),o[9]||(o[9]=a("td",null,":",-1)),a("td",null,r(m.$CONSTANTS.FINANCE_TRANSACTION_TYPES[t(n).props.data.type]),1)])):k("",!0),a("tr",null,[o[10]||(o[10]=a("td",null,"Jumlah",-1)),o[11]||(o[11]=a("td",null,":",-1)),a("td",null,r(t(ht)(t(n).props.data.amount))+" Rp. "+r(t(Y)(Math.abs(t(n).props.data.amount))),1)]),a("tr",null,[o[12]||(o[12]=a("td",null,"Catatan",-1)),o[13]||(o[13]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.notes),1)]),t(n).props.data.creator?(g(),h("tr",gu,[o[14]||(o[14]=a("td",null,"Dibuat",-1)),o[15]||(o[15]=a("td",null,":",-1)),a("td",null,r(t(be)(t(n).props.data.created_at))+" oleh "+r(t(n).props.data.creator.name),1)])):k("",!0),t(n).props.data.updater?(g(),h("tr",bu,[o[16]||(o[16]=a("td",null,"Diperbarui",-1)),o[17]||(o[17]=a("td",null,":",-1)),a("td",null,r(t(be)(t(n).props.data.updated_at))+" oleh "+r(t(n).props.data.updater.name),1)])):k("",!0),t(n).props.data.image_path?(g(),h(H,{key:4},[o[18]||(o[18]=a("tr",null,[a("td",null,"Lampiran"),a("td",null,":"),a("td")],-1)),a("tr",null,[a("td",vu,[e(aa,{src:`/${t(n).props.data.image_path}`,class:"q-mt-none",style:Ae([{"max-width":"500px"},{border:"1px solid #ddd"}])},null,8,["src"])])])],64)):k("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},yu=Object.freeze(Object.defineProperty({__proto__:null,default:_u},Symbol.toStringTag,{value:"Module"})),wu={class:"q-gutter-sm"},ku={class:"col col-md-6 q-pa-xs"},$u={__name:"Editor",setup(u){var c;const n=me(),m=(n.props.data.id?"Edit":"Catat")+" Transaksi Keuangan",o=n.props.accounts.map(d=>({label:d.name,value:d.id})),s=[{label:"Pemasukan (+)",value:"income"},{label:"Pengeluaran (-)",value:"expense"},{label:"Transfer",value:"transfer"}],i=Be({id:n.props.data.id,account_id:n.props.data.account_id,to_account_id:n.props.data.to_account_id??null,type:n.props.data.type,datetime:new Date(n.props.data.datetime),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount),image_path:((c=n.props.data)==null?void 0:c.image_path)??"",image:null}),b=()=>{Yt(i,{datetime:"YYYY-MM-DD HH:mm:ss"}),ze({form:i,url:route("admin.finance-transaction.save")})};return(d,f)=>{const _=L("i-head"),y=L("authenticated-layout");return g(),h(H,null,[e(_,{title:m}),e(y,null,{title:l(()=>[v(r(m))]),"left-button":l(()=>[a("div",wu,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:f[0]||(f[0]=p=>d.$inertia.get(d.route("admin.finance-transaction.index")))})])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",ku,[e(Me,{class:"row",onSubmit:Q(b,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[X(a("input",{type:"hidden",name:"id","onUpdate:modelValue":f[1]||(f[1]=p=>t(i).id=p)},null,512),[[Xe,t(i).id]]),e(Ut,{modelValue:t(i).datetime,"onUpdate:modelValue":f[2]||(f[2]=p=>t(i).datetime=p),label:"Waktu",error:!!t(i).errors.datetime,disable:t(i).processing,errorMessage:t(i).errors.datetime,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(se,{autofocus:"",modelValue:t(i).type,"onUpdate:modelValue":f[3]||(f[3]=p=>t(i).type=p),label:"Jenis Transaksi",options:s,"map-options":"","emit-value":"",error:!!t(i).errors.type,disable:t(i).processing,errorMessage:t(i).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(se,{class:"custom-select",modelValue:t(i).account_id,"onUpdate:modelValue":f[4]||(f[4]=p=>t(i).account_id=p),label:t(i).type=="transfer"?"Akun Asal":"Akun",options:t(o),"map-options":"","emit-value":"",errorMessage:t(i).errors.account_id,error:!!t(i).errors.account_id,disable:t(i).processing,"hide-bottom-space":""},null,8,["modelValue","label","options","errorMessage","error","disable"]),t(i).type=="transfer"?(g(),R(se,{key:0,class:"custom-select",modelValue:t(i).to_account_id,"onUpdate:modelValue":f[5]||(f[5]=p=>t(i).to_account_id=p),label:"Akun Tujuan",options:t(o),"map-options":"","emit-value":"",errorMessage:t(i).errors.to_account_id,error:!!t(i).errors.to_account_id,disable:t(i).processing,"hide-bottom-space":""},null,8,["modelValue","options","errorMessage","error","disable"])):k("",!0),e(Ee,{modelValue:t(i).amount,"onUpdate:modelValue":f[6]||(f[6]=p=>t(i).amount=p),label:"Jumlah",lazyRules:"",disable:t(i).processing,error:!!t(i).errors.amount,errorMessage:t(i).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(ae,{modelValue:t(i).notes,"onUpdate:modelValue":f[7]||(f[7]=p=>t(i).notes=p),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(i).processing,error:!!t(i).errors.notes,"error-message":t(i).errors.notes,rules:[p=>p&&p.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(wa,{modelValue:t(i).image,"onUpdate:modelValue":f[8]||(f[8]=p=>t(i).image=p),"initial-image-path":t(i).image_path,disabled:t(i).processing,error:!!t(i).errors.image||!!t(i).errors.image_path,"error-message":t(i).errors.image||t(i).errors.image_path},null,8,["modelValue","initial-image-path","disabled","error","error-message"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(i).processing},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",disable:t(i).processing,onClick:f[9]||(f[9]=p=>t(W).get(d.route("admin.finance-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},hu=Object.freeze(Object.defineProperty({__proto__:null,default:$u},Symbol.toStringTag,{value:"Module"})),xu={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Su={class:"q-pa-xs"},Vu={class:"full-width row flex-center text-grey-8 q-gutter-sm"},qu={class:"text-grey-8"},Cu={class:"text-bold text-grey-8"},Tu={class:"flex justify-end no-wrap"},tl="Transaksi Kas",Pu={__name:"Index",setup(u){const n=me(),m=we(),o=q(!1),s=q([]),i=q(!0),b=q(null),c=q(null),d=We(c),f=Ft(),_=Lt(),y=[{label:"Semua",value:"all"},...n.props.accounts.map(A=>({label:A.name,value:A.id}))],p=[{label:"Semua Tahun",value:"all"},{label:`${f}`,value:f},...Pt(f-2,f-1).reverse()],C=[{value:"all",label:"Semua Bulan"},...Ot()],S=[{value:"all",label:"Semua"},...Ke(window.CONSTANTS.FINANCE_TRANSACTION_TYPES)],$=Pe({search:"",type:"all",account_id:"all",year:f,month:_,...Ie()}),E=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),I=[{name:"id",label:m.screen.lt.md?"Item":"Kode Trx",field:"id",align:"left",sortable:!0},{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"type",label:"Jenis",field:"type",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}];$e(()=>{P()});const w=A=>Ge({message:`Penghapusan transaksi keuangan bisa mengakibatkan data yang saling berkaitan di modul lain tidak konsisten. Anda setuju untuk menghapus transaksi ${A.formatted_id}?`,url:route("admin.finance-transaction.delete",A.id),fetchItemsCallback:P,loading:i}),P=(A=null)=>{De({pagination:E,filter:$,props:A,rows:s,url:route("admin.finance-transaction.data"),loading:i,tableRef:b})},N=()=>{P()},V=J(()=>m.screen.gt.sm?I:I.filter(A=>A.name==="id"||A.name==="action"));Ne(()=>$.year,A=>{A===null&&($.month=null)});const T=q(null),D=q(!1),B=A=>{T.value=A,D.value=!0};return(A,O)=>{const Z=L("i-head"),de=L("authenticated-layout");return g(),h(H,null,[e(Z,{title:tl}),e(de,null,Ye({title:l(()=>[v(r(tl))]),"right-button":l(()=>[e(U,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:O[0]||(O[0]=j=>o.value=!o.value)},null,8,["icon"]),A.$can("admin.finance-transaction.add")?(g(),R(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:O[1]||(O[1]=j=>t(W).get(A.route("admin.finance-transaction.add")))})):k("",!0)]),default:l(()=>[a("div",Su,[e(Ce,{ref_key:"tableRef",ref:b,style:Ae({height:t(d)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:E.value,"onUpdate:pagination":O[8]||(O[8]=j=>E.value=j),filter:$.search,loading:i.value,columns:V.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:P,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:j,message:F,filter:G})=>[a("div",Vu,[a("span",null,r(F)+" "+r(G?" with term "+G:""),1)])]),body:l(j=>[e(Ve,{props:j,class:"cursor-pointer",onClick:Q(F=>t(W).get(A.route("admin.finance-transaction.detail",{id:j.row.id})),["stop"])},{default:l(()=>[e(z,{key:"id",props:j},{default:l(()=>[a("div",null,[t(m).screen.lt.md?(g(),R(x,{key:0,class:"inline-icon",name:"tag"})):k("",!0),v(" "+r(j.row.formatted_id),1)]),t(m).screen.lt.md?(g(),h(H,{key:0},[a("div",qu,[e(x,{class:"inline-icon",name:"calendar_clock"}),v(" "+r(t(be)(j.row.datetime)),1)]),a("div",Cu,[e(x,{name:"wallet",class:"inline-icon"}),v(" "+r(j.row.account.name),1)]),a("div",{class:ye(["text-bold",j.row.amount<0?"text-red":"text-green"])},[e(x,{name:"money",class:"inline-icon"}),v(" "+r(t(ht)(j.row.amount)+"Rp."+t(Y)(Math.abs(j.row.amount))),1)],2),j.row.notes?(g(),R(ve,{key:0,icon:"notes",text:j.row.notes,class:"text-grey-8"},null,8,["text"])):k("",!0),e(rt,{color:j.row.amount>0?"green":"red"},{default:l(()=>[v(r(j.row.type_label),1)]),_:2},1032,["color"])],64)):k("",!0)]),_:2},1032,["props"]),e(z,{key:"datetime",props:j,class:"wrap-column"},{default:l(()=>[v(r(t(be)(j.row.datetime)),1)]),_:2},1032,["props"]),e(z,{key:"account",props:j},{default:l(()=>{var F;return[v(r((F=j.row.account)==null?void 0:F.name),1)]}),_:2},1032,["props"]),e(z,{key:"type",props:j},{default:l(()=>[v(r(A.$CONSTANTS.FINANCE_TRANSACTION_TYPES[j.row.type]),1)]),_:2},1032,["props"]),e(z,{key:"amount",props:j,style:{"text-align":"right"}},{default:l(()=>[v(r(t(ta)(j.row.amount)),1)]),_:2},1032,["props"]),e(z,{key:"notes",props:j,class:"wrap-column"},{default:l(()=>[v(r(j.row.notes),1)]),_:2},1032,["props"]),e(z,{key:"action",props:j},{default:l(()=>[a("div",Tu,[e(U,{icon:"image",color:"primary",dense:"",flat:"",disable:j.row.image_path===null||j.row.image_path==="",onClick:Q(F=>B(j.row.image_path),["stop"])},{default:l(()=>[j.row.image_path!=null?(g(),R(Ht,{key:0},{default:l(()=>O[10]||(O[10]=[v(" Lihat Bukti ")])),_:1})):k("",!0)]),_:2},1032,["disable","onClick"]),A.$can("admin.finance-transaction.delete")?(g(),R(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:O[7]||(O[7]=Q(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(je,{style:{width:"200px"}},{default:l(()=>[A.$can("admin.finance-transaction.delete")?X((g(),R(ee,{key:0,onClick:Q(F=>w(j.row),["stop"]),clickable:""},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"delete_forever"})]),_:1}),e(M,null,{default:l(()=>O[11]||(O[11]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])]),e(la,{modelValue:D.value,"onUpdate:modelValue":O[9]||(O[9]=j=>D.value=j),imageUrl:`/${T.value}`},null,8,["modelValue","imageUrl"])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:c},{default:l(()=>[a("div",xu,[e(se,{modelValue:$.year,"onUpdate:modelValue":[O[2]||(O[2]=j=>$.year=j),N],options:p,label:"Tahun",dense:"",outlined:"",class:"custom-select col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),$.year!="all"?(g(),R(se,{key:0,modelValue:$.month,"onUpdate:modelValue":[O[3]||(O[3]=j=>$.month=j),N],options:C,label:"Bulan",dense:"",outlined:"",class:"custom-select col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:$.year===null},null,8,["modelValue","disable"])):k("",!0),e(se,{modelValue:$.type,"onUpdate:modelValue":[O[4]||(O[4]=j=>$.type=j),N],options:S,label:"Jenis",dense:"",class:"custom-select col-xs-6 col-sm-2","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{modelValue:$.account_id,"onUpdate:modelValue":[O[5]||(O[5]=j=>$.account_id=j),N],label:"Akun",options:y,"map-options":"","emit-value":"",class:"custom-select col-xs-6 col-sm-2",outlined:"",dense:""},null,8,["modelValue"]),e(ae,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:$.search,"onUpdate:modelValue":O[6]||(O[6]=j=>$.search=j),placeholder:"Cari",clearable:""},{append:l(()=>[e(x,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Ou=Object.freeze(Object.defineProperty({__proto__:null,default:Pu},Symbol.toStringTag,{value:"Module"})),Iu={class:"q-gutter-sm"},Du={class:"col col-md-6 q-pa-xs"},Ru={__name:"Editor",setup(u){const n=me(),m=(n.props.data.id?"Edit":"Tambah")+" Kategori Operasional",o=Be({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description}),s=()=>ze({form:o,url:route("admin.operational-cost-category.save")});return(i,b)=>{const c=L("i-head"),d=L("authenticated-layout");return g(),h(H,null,[e(c,{title:m}),e(d,null,{title:l(()=>[v(r(m))]),"left-button":l(()=>[a("div",Iu,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=f=>i.$goBack())})])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",Du,[e(Me,{class:"row",onSubmit:Q(s,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[X(a("input",{type:"hidden",name:"id","onUpdate:modelValue":b[1]||(b[1]=f=>t(o).id=f)},null,512),[[Xe,t(o).id]]),e(ae,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":b[2]||(b[2]=f=>t(o).name=f),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[f=>f&&f.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(ae,{modelValue:t(o).description,"onUpdate:modelValue":b[3]||(b[3]=f=>t(o).description=f),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.description,"error-message":t(o).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:b[4]||(b[4]=f=>t(o).reset())},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Uu=Object.freeze(Object.defineProperty({__proto__:null,default:Ru},Symbol.toStringTag,{value:"Module"})),ju={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Mu={class:"q-pa-xs"},Au={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Eu={key:0,class:"text-grey-8"},Nu={class:"flex justify-end"},al="Kategori Biaya Operasional",Bu={__name:"Index",setup(u){const n=we(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),c=We(b),d=Pe({search:"",...Ie()}),f=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),_=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];$e(()=>{p()});const y=S=>Ge({message:`Hapus Kategori Biaya ${S.name}?`,url:route("admin.operational-cost-category.delete",S.id),fetchItemsCallback:p,loading:s}),p=(S=null)=>{De({pagination:f,filter:d,props:S,rows:o,url:route("admin.operational-cost-category.data"),loading:s,tableRef:i})},C=J(()=>n.screen.gt.sm?_:_.filter(S=>S.name==="name"||S.name==="action"));return(S,$)=>{const E=L("i-head"),I=L("authenticated-layout");return g(),h(H,null,[e(E,{title:al}),e(I,null,Ye({title:l(()=>[v(r(al))]),"right-button":l(()=>[e(U,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:$[0]||($[0]=w=>m.value=!m.value)},null,8,["icon"]),S.$can("admin.operational-cost-category.add")?(g(),R(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:$[1]||($[1]=w=>t(W).get(S.route("admin.operational-cost-category.add")))})):k("",!0)]),default:l(()=>[a("div",Mu,[e(Ce,{ref_key:"tableRef",ref:i,class:"full-height-table",style:Ae({height:t(c)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:f.value,"onUpdate:pagination":$[4]||($[4]=w=>f.value=w),filter:d.search,loading:s.value,columns:C.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:p,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:w,message:P,filter:N})=>[a("div",Au,[a("span",null,r(P)+" "+r(N?" with term "+N:""),1)])]),body:l(w=>[e(Ve,{props:w},{default:l(()=>[e(z,{key:"name",props:w,class:"wrap-column"},{default:l(()=>[v(r(w.row.name)+" ",1),t(n).screen.gt.sm?k("",!0):(g(),h(H,{key:0},[w.row.description?(g(),h("div",Eu,[e(x,{name:"description"}),v(" "+r(w.row.description),1)])):k("",!0)],64))]),_:2},1032,["props"]),e(z,{key:"description",props:w,class:"wrap-column"},{default:l(()=>[v(r(w.row.description),1)]),_:2},1032,["props"]),e(z,{key:"action",props:w},{default:l(()=>[a("div",Nu,[S.$can("admin.operational-cost-category.add")||S.$can("admin.operational-cost-category.edit")||S.$can("admin.operational-cost-category.delete")?(g(),R(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:$[3]||($[3]=Q(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(je,{style:{width:"200px"}},{default:l(()=>[S.$can("admin.operational-cost-category.add")?X((g(),R(ee,{key:0,clickable:"",onClick:Q(P=>t(W).get(S.route("admin.operational-cost-category.duplicate",w.row.id)),["stop"])},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"file_copy"})]),_:1}),e(M,null,{default:l(()=>$[5]||($[5]=[v("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),S.$can("admin.operational-cost-category.edit")?X((g(),R(ee,{key:1,clickable:"",onClick:Q(P=>t(W).get(S.route("admin.operational-cost-category.edit",w.row.id)),["stop"])},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"edit"})]),_:1}),e(M,null,{default:l(()=>$[6]||($[6]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),S.$can("admin.operational-cost-category.delete")?X((g(),R(ee,{key:2,onClick:Q(P=>y(w.row),["stop"]),clickable:""},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"delete_forever"})]),_:1}),e(M,null,{default:l(()=>$[7]||($[7]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[a("div",ju,[e(ae,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":$[2]||($[2]=w=>d.search=w),placeholder:"Cari",clearable:""},{append:l(()=>[e(x,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},zu=Object.freeze(Object.defineProperty({__proto__:null,default:Bu},Symbol.toStringTag,{value:"Module"})),Fu={class:"q-gutter-sm"},Lu={class:"col col-md-6 q-pa-xs"},Hu={class:"row"},Yu={class:"detail"},Ku={key:0},Qu={key:1},Wu={key:2},Ju={key:3},Gu={colspan:"3",class:"bg-white"},ll="Rincian Biaya Operasional",Xu={__name:"Detail",setup(u){const n=me();return(m,o)=>{const s=L("i-head"),i=L("authenticated-layout");return g(),h(H,null,[e(s,{title:ll}),e(i,{"show-drawer-button":!1},{"left-button":l(()=>[a("div",Fu,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=b=>m.$inertia.get(m.route("admin.operational-cost.index")))})])]),title:l(()=>[a("span",{class:"text-subtitle2"},r(ll))]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",Lu,[a("div",Hu,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,null,{default:l(()=>[o[21]||(o[21]=a("div",{class:"text-subtitle1 text-bold text-grey-8"}," Rincian Biaya Operasional ",-1)),a("table",Yu,[a("tbody",null,[a("tr",null,[o[1]||(o[1]=a("td",{style:{width:"110px"}},"ID",-1)),o[2]||(o[2]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,r(t(n).props.data.id),1)]),a("tr",null,[o[3]||(o[3]=a("td",null,"Tanggal",-1)),o[4]||(o[4]=a("td",null,":",-1)),a("td",null,r(t(Jt)(t(n).props.data.date)),1)]),t(n).props.data.finance_account?(g(),h("tr",Ku,[o[6]||(o[6]=a("td",null,"Akun",-1)),o[7]||(o[7]=a("td",null,":",-1)),a("td",null,[v(r(t(n).props.data.finance_account.name)+" ",1),t(n).props.data.finance_account.type==="bank"?(g(),h(H,{key:0},[v(" Rek "+r(t(n).props.data.finance_account.bank)+" an "+r(t(n).props.data.finance_account.holder)+" ",1),o[5]||(o[5]=a("br",null,null,-1)),v(" "+r(t(n).props.data.finance_account.number),1)],64)):k("",!0)])])):k("",!0),t(n).props.data.category?(g(),h("tr",Qu,[o[8]||(o[8]=a("td",null,"Kategori",-1)),o[9]||(o[9]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.category.name),1)])):k("",!0),a("tr",null,[o[10]||(o[10]=a("td",null,"Deskripsi",-1)),o[11]||(o[11]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.description),1)]),a("tr",null,[o[12]||(o[12]=a("td",null,"Jumlah",-1)),o[13]||(o[13]=a("td",null,":",-1)),a("td",null,"Rp. "+r(t(Y)(t(n).props.data.amount)),1)]),a("tr",null,[o[14]||(o[14]=a("td",null,"Catatan",-1)),o[15]||(o[15]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.notes),1)]),t(n).props.data.creator?(g(),h("tr",Wu,[o[16]||(o[16]=a("td",null,"Dibuat",-1)),o[17]||(o[17]=a("td",null,":",-1)),a("td",null,r(t(be)(t(n).props.data.created_at))+" oleh "+r(t(n).props.data.creator.name),1)])):k("",!0),t(n).props.data.updater?(g(),h("tr",Ju,[o[18]||(o[18]=a("td",null,"Diperbarui",-1)),o[19]||(o[19]=a("td",null,":",-1)),a("td",null,r(t(be)(t(n).props.data.updated_at))+" oleh "+r(t(n).props.data.updater.name),1)])):k("",!0),t(n).props.data.image_path?(g(),h(H,{key:4},[o[20]||(o[20]=a("tr",null,[a("td",null,"Lampiran"),a("td",null,":"),a("td")],-1)),a("tr",null,[a("td",Gu,[e(aa,{src:`/${t(n).props.data.image_path}`,class:"q-mt-none",style:Ae([{"max-width":"500px"},{border:"1px solid #ddd"}])},null,8,["src"])])])],64)):k("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Zu=Object.freeze(Object.defineProperty({__proto__:null,default:Xu},Symbol.toStringTag,{value:"Module"})),em={class:"row items-center justify-end"},tm={__name:"DatePicker",props:{modelValue:{type:[Date,null],required:!1,default:null},label:String,readonly:Boolean,disable:Boolean,error:Boolean,errorMessage:String,rules:{type:Array,default:()=>[]},minDate:{type:[Date,null],default:null},maxDate:{type:[Date,null],default:null},displayFormat:{type:String,default:"DD/MM/YYYY"}},emits:["update:modelValue"],setup(u,{emit:n}){const m=u,o=n,s=q(""),i=q(""),b=f=>{let _=!0;const y=m.minDate?nt.formatDate(m.minDate,"YYYY/MM/DD"):null,p=m.maxDate?nt.formatDate(m.maxDate,"YYYY/MM/DD"):null;return y&&(_=_&&nt.isBetweenDates(f,y,"2999/01/01",{inclusiveFrom:!0})),p&&(_=_&&nt.isBetweenDates(f,"1900/01/01",p,{inclusiveTo:!0})),_},c=J(()=>[f=>!!f||"Tanggal harus diisi",f=>{const _=nt.extractDate(f,m.displayFormat);if(!_)return"Format tanggal tidak valid";_.setHours(0,0,0,0);const y=m.minDate?new Date(m.minDate):null;y&&y.setHours(0,0,0,0);const p=m.maxDate?new Date(m.maxDate):null;return p&&p.setHours(0,0,0,0),y&&_<y?`Tanggal tidak boleh kurang dari ${nt.formatDate(m.minDate,m.displayFormat)}`:p&&_>p?`Tanggal tidak boleh lebih dari ${nt.formatDate(m.maxDate,m.displayFormat)}`:(o("update:modelValue",_),!0)}]);Ne(()=>m.modelValue,f=>{f instanceof Date?(i.value=nt.formatDate(f,"YYYY/MM/DD"),s.value=nt.formatDate(f,m.displayFormat)):(i.value="",s.value="")},{immediate:!0});const d=f=>{const _=f!==null?new Date(f):null;o("update:modelValue",_),s.value=_?nt.formatDate(_,m.displayFormat):null};return(f,_)=>(g(),R(ae,{modelValue:s.value,"onUpdate:modelValue":_[1]||(_[1]=y=>s.value=y),label:m.label,readonly:m.readonly,disable:m.disable,error:m.error,"error-message":m.errorMessage,mask:m.displayFormat.replaceAll("D","#").replaceAll("M","#").replaceAll("Y","#"),rules:c.value},{append:l(()=>[e(x,{name:"event",class:"cursor-pointer"},{default:l(()=>[e(ln,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(on,{modelValue:i.value,"onUpdate:modelValue":[_[0]||(_[0]=y=>i.value=y),d],options:b},{default:l(()=>[a("div",em,[X(e(U,{label:"Close",color:"primary",flat:""},null,512),[[re]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label","readonly","disable","error","error-message","mask","rules"]))}},Kl=ft(tm,[["__scopeId","data-v-38faf9a9"]]);function Ql(u,n=!1){const m=u.map(b=>({value:b.id,label:b.name})),o=n?[{value:"all",label:"Semua"},...m]:m,s=q([...o]);return{filteredCostCategories:s,filterCostCategory:(b,c)=>{const d=b.toLowerCase();c(()=>{s.value=o.filter(f=>f.label.toLowerCase().includes(d))})},costCategoryOptions:o}}const am={class:"q-gutter-sm"},lm={class:"col col-md-6 q-pa-xs"},om={__name:"Editor",setup(u){var y;const n=me(),m=(n.props.data.id?"Edit":"Tambah")+" Biaya Operasional",{costCategoryOptions:o}=Ql(n.props.categories),s=n.props.finance_accounts.map(p=>({label:p.name,value:p.id})),i=q(o),b=q([...i.value]),c=Be({id:n.props.data.id,finance_account_id:n.props.data.finance_account_id??null,category_id:n.props.data.category_id??null,date:new Date(n.props.data.date),description:n.props.data.description,notes:n.props.data.notes,amount:parseFloat(n.props.data.amount),image_path:((y=n.props.data)==null?void 0:y.image_path)??null,image:null}),d=()=>{Yt(c,{date:"YYYY-MM-DD"}),ze({form:c,url:route("admin.operational-cost.save")})},f=(p,C)=>{C(()=>{b.value=i.value.filter(S=>S.label.toLowerCase().includes(p.toLowerCase()))})},_=()=>{c.image_path=null};return(p,C)=>{const S=L("i-head"),$=L("authenticated-layout");return g(),h(H,null,[e(S,{title:m}),e($,null,{title:l(()=>[v(r(m))]),"left-button":l(()=>[a("div",am,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:C[0]||(C[0]=E=>p.$inertia.get(p.route("admin.operational-cost.index")))})])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",lm,[e(Me,{class:"row",onSubmit:Q(d,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[X(a("input",{type:"hidden",name:"id","onUpdate:modelValue":C[1]||(C[1]=E=>t(c).id=E)},null,512),[[Xe,t(c).id]]),e(se,{autofocus:"",modelValue:t(c).category_id,"onUpdate:modelValue":C[2]||(C[2]=E=>t(c).category_id=E),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:b.value,"map-options":"","emit-value":"",onFilter:f,error:!!t(c).errors.category_id,disable:t(c).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(ee,null,{default:l(()=>[e(M,null,{default:l(()=>C[10]||(C[10]=[v("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","error","disable"]),e(Kl,{modelValue:t(c).date,"onUpdate:modelValue":C[3]||(C[3]=E=>t(c).date=E),label:"Tanggal",error:!!t(c).errors.date,disable:t(c).processing,"hide-bottom-space":""},null,8,["modelValue","error","disable"]),e(ae,{modelValue:t(c).description,"onUpdate:modelValue":C[4]||(C[4]=E=>t(c).description=E),modelModifiers:{trim:!0},label:"Deskripsi","lazy-rules":"",error:!!t(c).errors.description,disable:t(c).processing,"error-message":t(c).errors.description,rules:[E=>E&&E.length>0||"Deskripsi harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Ee,{modelValue:t(c).amount,"onUpdate:modelValue":C[5]||(C[5]=E=>t(c).amount=E),label:"Jumlah",lazyRules:"",disable:t(c).processing,error:!!t(c).errors.amount,errorMessage:t(c).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(se,{class:"custom-select",modelValue:t(c).finance_account_id,"onUpdate:modelValue":C[6]||(C[6]=E=>t(c).finance_account_id=E),label:"Sumber Dana",options:t(s),"map-options":"","emit-value":"",clearable:"",errorMessage:t(c).errors.finance_account_id,error:!!t(c).errors.finance_account_id,disable:t(c).processing,"hide-bottom-space":""},null,8,["modelValue","options","errorMessage","error","disable"]),e(ae,{modelValue:t(c).notes,"onUpdate:modelValue":C[7]||(C[7]=E=>t(c).notes=E),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(c).processing,error:!!t(c).errors.notes,"error-message":t(c).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(wa,{modelValue:t(c).image,"onUpdate:modelValue":C[8]||(C[8]=E=>t(c).image=E),"initial-image-path":t(c).image_path,disabled:t(c).processing,error:!!t(c).errors.image||!!t(c).errors.image_path,"error-message":t(c).errors.image||t(c).errors.image_path,onImageCleared:_},null,8,["modelValue","initial-image-path","disabled","error","error-message"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(c).processing},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",disable:t(c).processing,onClick:C[9]||(C[9]=E=>t(W).get(p.route("admin.operational-cost.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},nm=Object.freeze(Object.defineProperty({__proto__:null,default:om},Symbol.toStringTag,{value:"Module"})),sm={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},rm={class:"q-pa-xs"},im={class:"full-width row flex-center text-grey-8 q-gutter-sm"},dm={key:0},um={key:1},mm={key:0},cm={class:"flex justify-end no-wrap"},ol="Biaya Operasional",pm={__name:"Index",setup(u){const n=me(),m=we(),o=q(!1),s=q(null),i=q(null),b=We(i),c=q(null),d=q(!1),f=q([]),_=q(!0),y=new Date().getFullYear(),p=new Date().getMonth()+1,C=[{label:"Semua Tahun",value:null},{label:`${y}`,value:y},...Pt(y-2,y-1).reverse()],S=[{value:null,label:"Semua Bulan"},...Ot()],{costCategoryOptions:$}=Ql(n.props.categories),E=[{value:"all",label:"Semua"},{value:null,label:"Tanpa Kategori"},...$],{accountOptions:I}=nn(n.props.finance_accounts),w=[{value:"all",label:"Semua"},{value:null,label:"Tidak Diset"},...I],P=Pe({search:"",category_id:"all",year:y,month:p,...Ie()}),N=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),V=[{name:"id",label:m.screen.lt.md?"Item":"ID",field:"id",align:"left",sortable:!0},{name:"date",label:"Tanggal",field:"date",align:"left",sortable:!0},{name:"account_id",label:"Akun",field:"account_id",align:"left",sortable:!0},{name:"category_id",label:"Kategori",field:"category_id",align:"left",sortable:!0},{name:"description",label:"Deskripsi",field:"description",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right",sortable:!0},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}];$e(()=>{D()});const T=Z=>Ge({message:`Hapus Biaya ${Z.description}?`,url:route("admin.operational-cost.delete",Z.id),fetchItemsCallback:D,loading:_}),D=(Z=null)=>{De({pagination:N,filter:P,props:Z,rows:f,url:route("admin.operational-cost.data"),loading:_,tableRef:s})},B=()=>{D()},A=J(()=>m.screen.gt.sm?V:V.filter(Z=>Z.name==="id"||Z.name==="action"));Ne(()=>P.year,Z=>{Z===null&&(P.month=null)});const O=Z=>{c.value=Z,d.value=!0};return(Z,de)=>{const j=L("i-head"),F=L("authenticated-layout");return g(),h(H,null,[e(j,{title:ol}),e(F,null,Ye({title:l(()=>[v(r(ol))]),"right-button":l(()=>[e(U,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:de[0]||(de[0]=G=>o.value=!o.value)},null,8,["icon"]),Z.$can("admin.operational-cost.add")?(g(),R(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:de[1]||(de[1]=G=>t(W).get(Z.route("admin.operational-cost.add")))})):k("",!0)]),default:l(()=>[a("div",rm,[e(Ce,{ref_key:"tableRef",ref:s,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:N.value,"onUpdate:pagination":de[8]||(de[8]=G=>N.value=G),filter:P.search,loading:_.value,columns:A.value,rows:f.value,"rows-per-page-options":[10,25,50],style:Ae({height:t(b)}),onRequest:D,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:G,message:ke,filter:te})=>[a("div",im,[a("span",null,r(ke)+" "+r(te?" with term "+te:""),1)])]),body:l(G=>[e(Ve,{props:G,class:"cursor-pointer",onClick:Q(ke=>t(W).get(Z.route("admin.operational-cost.detail",{id:G.row.id})),["stop"])},{default:l(()=>[e(z,{key:"id",props:G,class:"wrap-column"},{default:l(()=>[t(m).screen.gt.sm?k("",!0):(g(),h(H,{key:0},[v(" ID: ")],64)),v(" "+r(G.row.id)+" ",1),t(m).screen.gt.sm?k("",!0):(g(),h(H,{key:1},[a("div",null,[e(x,{name:"calendar_clock",class:"inline-icon"}),v(" "+r(t(Jt)(G.row.date)),1)]),G.row.finance_account?(g(),h("div",dm,[e(x,{name:"wallet",class:"inline-icon"}),v(" "+r(G.row.finance_account.name),1)])):k("",!0),G.row.category?(g(),h("div",um,[e(x,{name:"category",class:"inline-icon"}),v(" "+r(G.row.category.name),1)])):k("",!0),e(ve,{icon:"description",text:G.row.description,class:"inline-icon"},null,8,["text"]),a("div",null,[e(x,{name:"money",class:"inline-icon"}),v(" Rp. "+r(t(Y)(G.row.amount)),1)]),e(ve,{icon:"notes",text:G.row.notes,class:"inline-icon text-grey-9"},null,8,["text"])],64))]),_:2},1032,["props"]),e(z,{key:"date",props:G,class:"wrap-column"},{default:l(()=>[v(r(t(Jt)(G.row.date)),1)]),_:2},1032,["props"]),e(z,{key:"account_id",props:G,class:"wrap-column"},{default:l(()=>[v(r(G.row.finance_account?G.row.finance_account.name:""),1)]),_:2},1032,["props"]),e(z,{key:"category_id",props:G},{default:l(()=>[G.row.category?(g(),h("div",mm,r(G.row.category.name),1)):k("",!0)]),_:2},1032,["props"]),e(z,{key:"description",props:G},{default:l(()=>[e(ve,{text:G.row.description,"max-length":50},null,8,["text"])]),_:2},1032,["props"]),e(z,{key:"amount",props:G},{default:l(()=>[v(r(t(Y)(G.row.amount)),1)]),_:2},1032,["props"]),e(z,{key:"notes",props:G},{default:l(()=>[e(ve,{text:G.row.notes,"max-length":50},null,8,["text"])]),_:2},1032,["props"]),e(z,{key:"action",props:G},{default:l(()=>[a("div",cm,[e(U,{icon:"image",color:"primary",dense:"",flat:"",disable:G.row.image_path===null||G.row.image_path==="",onClick:Q(ke=>O(G.row.image_path),["stop"])},{default:l(()=>[G.row.image_path!=null?(g(),R(Ht,{key:0},{default:l(()=>de[10]||(de[10]=[v(" Lihat Bukti ")])),_:1})):k("",!0)]),_:2},1032,["disable","onClick"]),Z.$can("admin.operational-cost.add")||Z.$can("admin.operational-cost.edit")||Z.$can("admin.operational-cost.delete")?(g(),R(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:de[7]||(de[7]=Q(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(je,{style:{width:"200px"}},{default:l(()=>[Z.$can("admin.operational-cost.add")?X((g(),R(ee,{key:0,clickable:"",onClick:Q(ke=>t(W).get(Z.route("admin.operational-cost.duplicate",G.row.id)),["stop"])},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"file_copy"})]),_:1}),e(M,null,{default:l(()=>de[11]||(de[11]=[v(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),Z.$can("admin.operational-cost.edit")?X((g(),R(ee,{key:1,clickable:"",onClick:Q(ke=>t(W).get(Z.route("admin.operational-cost.edit",G.row.id)),["stop"])},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"edit"})]),_:1}),e(M,null,{default:l(()=>de[12]||(de[12]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),Z.$can("admin.operational-cost.delete")?X((g(),R(ee,{key:2,onClick:Q(ke=>T(G.row),["stop"]),clickable:""},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"delete_forever"})]),_:1}),e(M,null,{default:l(()=>de[13]||(de[13]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])]),e(la,{modelValue:d.value,"onUpdate:modelValue":de[9]||(de[9]=G=>d.value=G),imageUrl:`/${c.value}`},null,8,["modelValue","imageUrl"])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:i},{default:l(()=>[a("div",sm,[e(se,{modelValue:P.year,"onUpdate:modelValue":[de[2]||(de[2]=G=>P.year=G),B],options:C,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(se,{modelValue:P.month,"onUpdate:modelValue":[de[3]||(de[3]=G=>P.month=G),B],options:S,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:P.year===null},null,8,["modelValue","disable"]),e(se,{modelValue:P.category_id,"onUpdate:modelValue":[de[4]||(de[4]=G=>P.category_id=G),B],options:E,label:"Kategori",dense:"",class:"custom-select col-xs-12 col-sm-3","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{modelValue:P.finance_account_id,"onUpdate:modelValue":[de[5]||(de[5]=G=>P.finance_account_id=G),B],options:w,label:"Akun Kas",dense:"",class:"custom-select col-xs-12 col-sm-3","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ae,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:P.search,"onUpdate:modelValue":de[6]||(de[6]=G=>P.search=G),placeholder:"Cari",clearable:""},{append:l(()=>[e(x,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},fm=Object.freeze(Object.defineProperty({__proto__:null,default:pm},Symbol.toStringTag,{value:"Module"})),gm={class:"q-gutter-sm"},bm={class:"col col-md-6 q-pa-xs"},vm={__name:"Editor",setup(u){const n=we(),m=me(),o=(m.props.data.id?"Edit":"Tambah")+" Kategori Produk",s=Be({id:m.props.data.id,name:m.props.data.name,description:m.props.data.description}),i=()=>ze({form:s,url:route("admin.product-category.save")});return(b,c)=>{const d=L("i-head"),f=L("authenticated-layout");return g(),h(H,null,[e(d,{title:o}),e(f,{"show-drawer-button":!t(n).screen.lt.md},Ye({title:l(()=>[v(r(o))]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",bm,[e(Me,{class:"row",onSubmit:Q(i,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[X(a("input",{type:"hidden",name:"id","onUpdate:modelValue":c[1]||(c[1]=_=>t(s).id=_)},null,512),[[Xe,t(s).id]]),e(ae,{autofocus:"",modelValue:t(s).name,"onUpdate:modelValue":c[2]||(c[2]=_=>t(s).name=_),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!t(s).errors.name,disable:t(s).processing,"error-message":t(s).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(ae,{modelValue:t(s).description,"onUpdate:modelValue":c[3]||(c[3]=_=>t(s).description=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.description,"error-message":t(s).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing,loading:t(s).processing},null,8,["disable","loading"]),e(U,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:c[4]||(c[4]=_=>t(s).reset())},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:2},[t(n).screen.lt.md?{name:"left-button",fn:l(()=>[a("div",gm,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=_=>b.$goBack())})])]),key:"0"}:void 0]),1032,["show-drawer-button"])],64)}}},_m=Object.freeze(Object.defineProperty({__proto__:null,default:vm},Symbol.toStringTag,{value:"Module"})),ym={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},wm={class:"q-pa-xs"},km={class:"full-width row flex-center text-grey-8 q-gutter-sm"},$m={key:0,class:"text-grey-8"},hm={class:"flex justify-end"},nl="Kategori Produk",xm={__name:"Index",setup(u){const n=we(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),c=We(b),d=Pe({search:"",...Ie()}),f=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),_=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];$e(()=>{p()});const y=S=>Ge({message:`Hapus Kategori ${S.name}?`,url:route("admin.product-category.delete",S.id),fetchItemsCallback:p,loading:s}),p=(S=null)=>{De({pagination:f,filter:d,props:S,rows:o,url:route("admin.product-category.data"),loading:s,tableRef:i})},C=J(()=>n.screen.gt.sm?_:_.filter(S=>S.name==="name"||S.name==="action"));return(S,$)=>{const E=L("i-head"),I=L("authenticated-layout");return g(),h(H,null,[e(E,{title:nl}),e(I,null,Ye({title:l(()=>[v(r(nl))]),"right-button":l(()=>[e(U,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:$[0]||($[0]=w=>m.value=!m.value)},null,8,["icon"]),S.$can("admin.product-category.add")?(g(),R(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:$[1]||($[1]=w=>t(W).get(S.route("admin.product-category.add")))})):k("",!0)]),default:l(()=>[a("div",wm,[e(Ce,{ref_key:"tableRef",ref:i,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:f.value,"onUpdate:pagination":$[4]||($[4]=w=>f.value=w),filter:d.search,loading:s.value,columns:C.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Ae({height:t(c)}),onRequest:p,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:w,message:P,filter:N})=>[a("div",km,[a("span",null,r(P)+" "+r(N?" with term "+N:""),1)])]),body:l(w=>[e(Ve,{props:w},{default:l(()=>[e(z,{key:"name",props:w,class:"wrap-column"},{default:l(()=>[v(r(w.row.name)+" ",1),t(n).screen.gt.sm?k("",!0):(g(),h(H,{key:0},[w.row.description?(g(),h("div",$m,[e(x,{name:"description"}),v(" "+r(w.row.description),1)])):k("",!0)],64))]),_:2},1032,["props"]),e(z,{key:"description",props:w,class:"wrap-column"},{default:l(()=>[v(r(w.row.description),1)]),_:2},1032,["props"]),e(z,{key:"action",props:w},{default:l(()=>[a("div",hm,[S.$can("admin.product-category.add")||S.$can("admin.product-category.edit")||S.$can("admin.product-category.delete")?(g(),R(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:$[3]||($[3]=Q(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(je,{style:{width:"200px"}},{default:l(()=>[S.$can("admin.product-category.add")?X((g(),R(ee,{key:0,clickable:"",onClick:Q(P=>t(W).get(S.route("admin.product-category.duplicate",w.row.id)),["stop"])},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"file_copy"})]),_:1}),e(M,null,{default:l(()=>$[5]||($[5]=[v("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),S.$can("admin.product-category.edit")?X((g(),R(ee,{key:1,clickable:"",onClick:Q(P=>t(W).get(S.route("admin.product-category.edit",w.row.id)),["stop"])},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"edit"})]),_:1}),e(M,null,{default:l(()=>$[6]||($[6]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),S.$can("admin.product-category.delete")?X((g(),R(ee,{key:2,onClick:Q(P=>y(w.row),["stop"]),clickable:""},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"delete_forever"})]),_:1}),e(M,null,{default:l(()=>$[7]||($[7]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[a("div",ym,[e(ae,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":$[2]||($[2]=w=>d.search=w),placeholder:"Cari",clearable:""},{append:l(()=>[e(x,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Sm=Object.freeze(Object.defineProperty({__proto__:null,default:xm},Symbol.toStringTag,{value:"Module"})),Vm={class:"detail"},qm={key:0},Cm={key:1},Tm={key:2},Pm={class:"detail"},Om={class:"detail"},Im={key:0},Dm={key:0},Rm={key:0},Um={key:0},jm={class:"detail"},Wl={__name:"MainInfoTab",props:{product:{type:Object,required:!0}},setup(u){const n=u;we();const m=o=>`${o>0?Y((o-n.product.cost)/o*100,2):0}%`;return(o,s)=>{const i=L("i-link");return g(),h("div",null,[s[42]||(s[42]=a("div",{class:"text-subtitle1 text-bold text-grey-9"},"Info Produk",-1)),a("table",Vm,[a("tbody",null,[a("tr",null,[s[0]||(s[0]=a("td",{style:{width:"120px"}},"ID",-1)),s[1]||(s[1]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,r(u.product.formatted_id),1)]),a("tr",null,[s[2]||(s[2]=a("td",null,"Nama Produk",-1)),s[3]||(s[3]=a("td",null,":",-1)),a("td",null,r(u.product.name),1)]),a("tr",null,[s[4]||(s[4]=a("td",null,"Barcode",-1)),s[5]||(s[5]=a("td",null,":",-1)),a("td",null,r(u.product.barcode),1)]),a("tr",null,[s[6]||(s[6]=a("td",null,"Jenis Produk",-1)),s[7]||(s[7]=a("td",null,":",-1)),a("td",null,r(o.$CONSTANTS.PRODUCT_TYPES[u.product.type]),1)]),a("tr",null,[s[8]||(s[8]=a("td",null,"Kategori",-1)),s[9]||(s[9]=a("td",null,":",-1)),a("td",null,r(u.product.category?u.product.category.name:"--Tidak memiliki kategori--"),1)]),o.$can("admin.product:view-supplier")?(g(),h("tr",qm,[s[10]||(s[10]=a("td",null,"Supplier",-1)),s[11]||(s[11]=a("td",null,":",-1)),a("td",null,[u.product.supplier?(g(),R(i,{key:0,href:o.route("admin.supplier.detail",{id:u.product.supplier.id})},{default:l(()=>[v(r(u.product.supplier.name),1)]),_:1},8,["href"])):(g(),h(H,{key:1},[v(r("--Tidak memiliki supplier--"))],64))])])):k("",!0),a("tr",null,[s[12]||(s[12]=a("td",null,"Status",-1)),s[13]||(s[13]=a("td",null,":",-1)),a("td",null,r(u.product.active?"Aktif":"Tidak Aktif"),1)]),u.product.created_at?(g(),h("tr",Cm,[s[15]||(s[15]=a("td",null,"Dibuat Oleh",-1)),s[16]||(s[16]=a("td",null,":",-1)),a("td",null,[u.product.creator?(g(),h(H,{key:0},[e(i,{href:o.route("admin.user.detail",{id:u.product.creator})},{default:l(()=>[v(r(u.product.creator.username),1)]),_:1},8,["href"]),s[14]||(s[14]=v(" - "))],64)):k("",!0),v(" "+r(t(be)(u.product.created_at)),1)])])):k("",!0),u.product.updater?(g(),h("tr",Tm,[s[18]||(s[18]=a("td",null,"Diperbarui oleh",-1)),s[19]||(s[19]=a("td",null,":",-1)),a("td",null,[u.product.updater?(g(),h(H,{key:0},[e(i,{href:o.route("admin.user.detail",{id:u.product.updater})},{default:l(()=>[v(r(u.product.updater.username),1)]),_:1},8,["href"]),s[17]||(s[17]=v(" - "))],64)):k("",!0),v(" "+r(t(be)(u.product.updated_at)),1)])])):k("",!0)])]),s[43]||(s[43]=a("div",{class:"text-subtitle1 q-pt-lg text-bold text-grey-9"}," Info Inventori ",-1)),a("table",Pm,[a("tbody",null,[a("tr",null,[s[20]||(s[20]=a("td",{style:{width:"120px"}},"Stok",-1)),s[21]||(s[21]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,r(t(Y)(u.product.stock))+" "+r(u.product.uom),1)]),a("tr",null,[s[22]||(s[22]=a("td",null,"Stok Minimum",-1)),s[23]||(s[23]=a("td",null,":",-1)),a("td",null,r(t(Y)(u.product.min_stock))+" "+r(u.product.uom),1)]),a("tr",null,[s[24]||(s[24]=a("td",null,"Stok Maksimum",-1)),s[25]||(s[25]=a("td",null,":",-1)),a("td",null,r(t(Y)(u.product.max_stock))+" "+r(u.product.uom),1)]),a("tr",null,[s[26]||(s[26]=a("td",null,"Barcode",-1)),s[27]||(s[27]=a("td",null,":",-1)),a("td",null,r(u.product.barcode),1)])])]),s[44]||(s[44]=a("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"},"Info Harga",-1)),a("table",Om,[a("tbody",null,[a("tr",null,[s[28]||(s[28]=a("td",null,"Opsi Harga",-1)),s[29]||(s[29]=a("td",null,":",-1)),a("td",null,r(u.product.price_editable?"Dapat":"Tidak dapat")+" diubah saat penjualan. ",1)]),o.$can("admin.product:view-cost")?(g(),h("tr",Im,[s[30]||(s[30]=a("td",{style:{width:"120px"}},"Harga Beli",-1)),s[31]||(s[31]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,"Rp. "+r(t(Y)(u.product.cost)),1)])):k("",!0),a("tr",null,[s[32]||(s[32]=a("td",null,"Harga Eceran",-1)),s[33]||(s[33]=a("td",null,":",-1)),a("td",null,[v(" Rp. "+r(t(Y)(u.product.price))+" ",1),o.$can("admin.product:view-cost")?(g(),h("span",Dm," ("+r(m(u.product.price))+") ",1)):k("",!0)])]),a("tr",null,[s[34]||(s[34]=a("td",null,"Harga Partai",-1)),s[35]||(s[35]=a("td",null,":",-1)),a("td",null,[v(" Rp. "+r(t(Y)(u.product.price_2))+" ",1),o.$can("admin.product:view-cost")?(g(),h("span",Rm," ("+r(m(u.product.price_2))+") ",1)):k("",!0)])]),a("tr",null,[s[36]||(s[36]=a("td",null,"Harga Grosir",-1)),s[37]||(s[37]=a("td",null,":",-1)),a("td",null,[v(" Rp. "+r(t(Y)(u.product.price_3))+" ",1),o.$can("admin.product:view-cost")?(g(),h("span",Um," ("+r(m(u.product.price_3))+") ",1)):k("",!0)])])])]),s[45]||(s[45]=a("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Deskripsi & Catatan ",-1)),a("table",jm,[a("tbody",null,[a("tr",null,[s[38]||(s[38]=a("td",{style:{width:"120px"}},"Deskirpsi",-1)),s[39]||(s[39]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,r(u.product.description),1)]),a("tr",null,[s[40]||(s[40]=a("td",null,"Catatan",-1)),s[41]||(s[41]=a("td",null,":",-1)),a("td",null,r(u.product.notes),1)])])])])}}},Mm=Object.freeze(Object.defineProperty({__proto__:null,default:Wl},Symbol.toStringTag,{value:"Module"})),Am={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Em={key:0},Jl={__name:"StockHistoryTab",props:{productId:{type:[String,Number],required:!0}},setup(u){const n=u,m=we(),o=q([]),s=q(!0),i=Pe({...Ie()}),b=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"created_at",descending:!0});let c=[{name:"id",label:m.screen.lt.sm?"Item":"#",field:"id",align:"left",sortable:!0},{name:"created_at",label:"Waktu",field:"created_at",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"left",sortable:!0},{name:"quantity_before",label:"Qty Awal",field:"quantity_before",align:"right"},{name:"quantity_after",label:"Qty Akhir",field:"quantity_after",align:"right"},{name:"quantity",label:"Selisih",field:"quantity",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}];$e(()=>{d()});const d=(_=null)=>De({pagination:b,filter:i,props:_,rows:o,url:route("admin.stock-movement.data",{product_id:n.productId}),loading:s}),f=J(()=>m.screen.gt.sm?c:c.filter(_=>_.name==="id"||_.name==="quantity"));return(_,y)=>(g(),R(Ce,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":y[0]||(y[0]=p=>b.value=p),filter:i.search,loading:s.value,columns:f.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:d,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:p,message:C,filter:S})=>[a("div",Am,[a("span",null,r(C)+" "+r(S?" with term "+S:""),1)])]),body:l(p=>[e(Ve,{props:p},{default:l(()=>[e(z,{key:"id",props:p},{default:l(()=>[a("div",null,[t(m).screen.lt.sm?(g(),h(H,{key:0},[a("div",null,[e(rt,null,{default:l(()=>[v(r(_.$CONSTANTS.STOCK_MOVEMENT_REF_TYPES[p.row.ref_type]),1)]),_:2},1024)]),e(x,{class:"inline-icon",name:"tag"})],64)):k("",!0),v(" "+r(p.row.formatted_id),1)]),t(m).screen.lt.sm?(g(),h(H,{key:0},[a("div",null,[e(x,{name:"calendar_clock",class:"inline-icon"}),v(" "+r(t(be)(p.row.created_at)),1)]),a("div",{class:ye(p.row.quantity>0?"text-positive":"text-negative")},[e(x,{class:"inline-icon",name:"compare_arrows"}),v(" "+r(t(Y)(p.row.quantity_before))+" "+r(p.row.uom)+"  "+r(t(Y)(p.row.quantity_after))+" "+r(p.row.uom),1)],2),e(ve,{text:p.row.notes,icon:"notes",class:"text-grey-8"},null,8,["text"])],64)):k("",!0)]),_:2},1032,["props"]),e(z,{key:"created_at",props:p},{default:l(()=>[v(r(t(be)(p.row.created_at)),1)]),_:2},1032,["props"]),e(z,{key:"type",props:p},{default:l(()=>[v(r(_.$CONSTANTS.STOCK_MOVEMENT_REF_TYPES[p.row.ref_type])+" ",1),p.row.ref?(g(),h("span",Em,r(p.row.ref),1)):k("",!0)]),_:2},1032,["props"]),e(z,{key:"quantity_before",props:p},{default:l(()=>[v(r(t(Y)(p.row.quantity_before))+" "+r(p.row.uom),1)]),_:2},1032,["props"]),e(z,{key:"quantity_after",props:p},{default:l(()=>[v(r(t(Y)(p.row.quantity_after))+" "+r(p.row.uom),1)]),_:2},1032,["props"]),e(z,{key:"quantity",props:p,class:ye(p.row.quantity>0?"text-positive":"text-negative")},{default:l(()=>[v(r(t(Y)(p.row.quantity))+" "+r(p.row.uom),1)]),_:2},1032,["props","class"]),e(z,{key:"notes",props:p},{default:l(()=>[e(ve,{text:p.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},Nm=Object.freeze(Object.defineProperty({__proto__:null,default:Jl},Symbol.toStringTag,{value:"Module"})),Bm={class:"q-gutter-sm"},zm={class:"q-gutter-sm"},Fm={class:"row justify-center"},Lm={class:"col col-lg-6 q-pa-xs"},Hm={class:"row"},Ym={__name:"Detail",setup(u){const n=me(),m=`Rincian Produk #${n.props.data.id}`,o=q("main");return(s,i)=>{const b=L("i-head"),c=L("authenticated-layout");return g(),h(H,null,[e(b,{title:m}),e(c,{"show-drawer-button":!1},{title:l(()=>[v(r(m))]),"left-button":l(()=>[a("div",Bm,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=d=>s.$goBack())})])]),"right-button":l(()=>[a("div",zm,[s.$can("admin.product.edit")?(g(),R(U,{key:0,icon:"edit",size:"sm",dense:"",flat:"",rounded:"",color:"grey",onClick:i[1]||(i[1]=d=>t(W).get(s.route("admin.product.edit",{id:t(n).props.data.id})))})):k("",!0)])]),default:l(()=>[a("div",Fm,[a("div",Lm,[a("div",Hm,[e(ie,{square:"",flat:"",bordered:"",class:"q-card col"},{default:l(()=>[e(jt,{modelValue:o.value,"onUpdate:modelValue":i[2]||(i[2]=d=>o.value=d),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(lt,{name:"main",label:"Info Utama"}),e(lt,{name:"history",label:"Riwayat Stok"})]),_:1},8,["modelValue"]),e(Mt,{modelValue:o.value,"onUpdate:modelValue":i[3]||(i[3]=d=>o.value=d)},{default:l(()=>[e(ot,{name:"main"},{default:l(()=>[e(Wl,{product:t(n).props.data},null,8,["product"])]),_:1}),e(ot,{name:"history",class:"q-pa-xs"},{default:l(()=>[e(Jl,{"product-id":t(n).props.data.id},null,8,["product-id"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])])]),_:1})],64)}}},Km=Object.freeze(Object.defineProperty({__proto__:null,default:Ym},Symbol.toStringTag,{value:"Module"}));function Gl(u,n=!1){const m=u.map(b=>({value:b.id,label:b.name})),o=n?[{value:"all",label:"Semua"},...m]:m,s=q([...o]);return{filteredCategories:s,filterCategories:(b,c)=>{const d=b.toLowerCase();c(()=>{s.value=o.filter(f=>f.label.toLowerCase().includes(d))})},categories:o}}function ha(u,n=!1){const m=u.map(b=>({value:b.id,label:"#"+b.id+" - "+b.name})),o=n?[{value:"all",label:"Semua"},...m]:m,s=q([...o]);return{filteredSuppliers:s,filterSupplierFn:(b,c)=>{c(()=>{s.value=o.filter(d=>d.label.toLowerCase().includes(b.toLowerCase()))})},suppliers:o}}const Qm={class:"q-gutter-sm"},Wm={class:"col col-md-6 q-pa-xs"},Jm={__name:"Editor",setup(u){const n=me(),m=(n.props.data.id?"Edit":"Tambah")+" Produk",o=Ke(window.CONSTANTS.PRODUCT_TYPES),s=Be({id:n.props.data.id,category_id:n.props.data.category_id,supplier_id:n.props.data.supplier_id,type:n.props.data.type||"",name:n.props.data.name||"",barcode:n.props.data.barcode||"",description:n.props.data.description||"",stock:parseFloat(n.props.data.stock)||0,min_stock:parseFloat(n.props.data.min_stock)||0,max_stock:parseFloat(n.props.data.max_stock)||0,uom:n.props.data.uom||"",cost:parseFloat(n.props.data.cost)||0,price:parseFloat(n.props.data.price)||0,price_2:parseFloat(n.props.data.price_2)||0,price_3:parseFloat(n.props.data.price_3)||0,active:!!n.props.data.active,price_editable:!!n.props.data.price_editable,notes:n.props.data.notes||""}),i=()=>ze({form:s,url:route("admin.product.save")}),{filteredCategories:b,filterCategories:c}=Gl(n.props.categories),{filteredSuppliers:d,filterSuppliers:f}=ha(n.props.suppliers),_=J(()=>s.price>0?(s.price-s.cost)/s.price*100:0);return(y,p)=>{const C=L("i-head"),S=L("authenticated-layout");return g(),h(H,null,[e(C,{title:m}),e(S,{"show-drawer-button":!1},{title:l(()=>[v(r(m))]),"left-button":l(()=>[a("div",Qm,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:p[0]||(p[0]=$=>y.$goBack())})])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",Wm,[e(Me,{class:"row",onSubmit:Q(i,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[X(a("input",{type:"hidden",name:"id","onUpdate:modelValue":p[1]||(p[1]=$=>t(s).id=$)},null,512),[[Xe,t(s).id]]),p[23]||(p[23]=a("div",{class:"text-subtitle1 q-pt-lg"},"Info Utama",-1)),e(se,{autofocus:"",modelValue:t(s).type,"onUpdate:modelValue":p[2]||(p[2]=$=>t(s).type=$),class:"custom-select",options:t(o),label:"Jenis","map-options":"","emit-value":"","hide-bottom-space":""},null,8,["modelValue","options"]),e(ae,{modelValue:t(s).name,"onUpdate:modelValue":p[3]||(p[3]=$=>t(s).name=$),modelModifiers:{trim:!0},label:"Nama Produk","lazy-rules":"",error:!!t(s).errors.name,disable:t(s).processing,"error-message":t(s).errors.name,rules:[$=>$&&$.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(ae,{modelValue:t(s).description,"onUpdate:modelValue":p[4]||(p[4]=$=>t(s).description=$),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.description,"error-message":t(s).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(se,{modelValue:t(s).category_id,"onUpdate:modelValue":p[5]||(p[5]=$=>t(s).category_id=$),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:t(b),"map-options":"","emit-value":"",onFilter:t(c),"option-label":"label","option-value":"value",error:!!t(s).errors.category_id,disable:t(s).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(ee,null,{default:l(()=>[e(M,null,{default:l(()=>p[21]||(p[21]=[v("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),y.$can("admin.product:view-supplier")?(g(),R(se,{key:0,modelValue:t(s).supplier_id,"onUpdate:modelValue":p[6]||(p[6]=$=>t(s).supplier_id=$),label:"Supplier","use-input":"","input-debounce":"300",clearable:"",options:t(d),"map-options":"","emit-value":"",onFilter:t(f),"option-label":"label","option-value":"value",error:!!t(s).errors.supplier_id,disable:t(s).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(ee,null,{default:l(()=>[e(M,null,{default:l(()=>p[22]||(p[22]=[v("Supplier tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"])):k("",!0),e(qt,{modelValue:t(s).active,"onUpdate:modelValue":p[7]||(p[7]=$=>t(s).active=$),disable:t(s).processing,label:"Aktif"},null,8,["modelValue","disable"]),p[24]||(p[24]=a("div",{class:"text-subtitle1 q-pt-lg"},"Info Inventori",-1)),e(ae,{modelValue:t(s).barcode,"onUpdate:modelValue":p[8]||(p[8]=$=>t(s).barcode=$),modelModifiers:{trim:!0},label:"Barcode","lazy-rules":"",error:!!t(s).errors.barcode,disable:t(s).processing,"error-message":t(s).errors.barcode,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(ae,{modelValue:t(s).uom,"onUpdate:modelValue":p[9]||(p[9]=$=>t(s).uom=$),modelModifiers:{trim:!0},label:"Satuan","lazy-rules":"",error:!!t(s).errors.uom,disable:t(s).processing,"error-message":t(s).errors.uom,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(Ee,{modelValue:t(s).stock,"onUpdate:modelValue":p[10]||(p[10]=$=>t(s).stock=$),label:"Stok",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.stock,errorMessage:t(s).errors.stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Ee,{modelValue:t(s).min_stock,"onUpdate:modelValue":p[11]||(p[11]=$=>t(s).min_stock=$),label:"Stok Minimum",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.min_stock,errorMessage:t(s).errors.min_stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Ee,{modelValue:t(s).max_stock,"onUpdate:modelValue":p[12]||(p[12]=$=>t(s).max_stock=$),label:"Stok Maksimum",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.max_stock,errorMessage:t(s).errors.max_stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),p[25]||(p[25]=a("div",{class:"text-subtitle1 q-pt-lg"},"Info Harga",-1)),e(qt,{modelValue:t(s).price_editable,"onUpdate:modelValue":p[13]||(p[13]=$=>t(s).price_editable=$),disable:t(s).processing,label:"Harga bisa diubah saat penjualan"},null,8,["modelValue","disable"]),y.$can("admin.product:view-cost")?(g(),R(Ee,{key:1,modelValue:t(s).cost,"onUpdate:modelValue":p[14]||(p[14]=$=>t(s).cost=$),label:"Modal / Harga Beli (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.cost,errorMessage:t(s).errors.cost,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"])):k("",!0),e(Ee,{modelValue:t(s).price,"onUpdate:modelValue":p[15]||(p[15]=$=>t(s).price=$),label:"Harga Eceran (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.price,errorMessage:t(s).errors.price,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Ee,{modelValue:t(s).price_2,"onUpdate:modelValue":p[16]||(p[16]=$=>t(s).price_2=$),label:"Harga Partai (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.price_2,errorMessage:t(s).errors.price_2,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Ee,{modelValue:t(s).price_3,"onUpdate:modelValue":p[17]||(p[17]=$=>t(s).price_3=$),label:"Harga Grosir (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.price_3,errorMessage:t(s).errors.price_3,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),y.$can("admin.product:view-cost")?(g(),R(Ee,{key:2,modelValue:_.value,"onUpdate:modelValue":p[18]||(p[18]=$=>_.value=$),label:"Margin (%)",lazyRules:"",disable:t(s).processing,maxDecimals:2,"hide-bottom-space":""},null,8,["modelValue","disable"])):k("",!0),p[26]||(p[26]=a("div",{class:"text-subtitle1 q-pt-lg"},"Info Lainnya",-1)),e(ae,{modelValue:t(s).notes,"onUpdate:modelValue":p[19]||(p[19]=$=>t(s).notes=$),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:p[20]||(p[20]=$=>y.$goBack())},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Gm=Object.freeze(Object.defineProperty({__proto__:null,default:Jm},Symbol.toStringTag,{value:"Module"})),Xm={class:"q-gutter-sm"},Zm={class:"col col-md-6 q-pa-xs"},sl="Import Produk",ec={__name:"Import",setup(u){const n=Be({csv_file:null}),m=()=>{n.post(route("admin.product.import"),{onSuccess:()=>{n.reset()},onError:()=>{Ue()},onFinish:()=>{n.clearErrors()}})};return(o,s)=>{const i=L("i-head"),b=L("authenticated-layout");return g(),h(H,null,[e(i,{title:sl}),e(b,{"show-drawer-button":!1},{title:l(()=>[v(r(sl))]),"left-button":l(()=>[a("div",Xm,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=c=>o.$goBack())})])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",Zm,[e(Me,{class:"row",onSubmit:Q(m,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[s[3]||(s[3]=a("div",{class:"text-subtitle1 q-pt-lg"},"Unggah File Impor",-1)),s[4]||(s[4]=a("div",{class:"text-caption text-grey"}," Unggah file CSV untuk mengimpor data produk. Pastikan format kolom sesuai dengan template yang disediakan. ",-1)),e(Bl,{modelValue:t(n).csv_file,"onUpdate:modelValue":s[1]||(s[1]=c=>t(n).csv_file=c),accept:".csv",label:"Pilih file CSV",error:!!t(n).errors.csv_file,"error-message":t(n).errors.csv_file,disable:t(n).processing,"hide-bottom-space":"",class:"q-mt-md"},null,8,["modelValue","error","error-message","disable"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"upload",type:"submit",label:"Import Data",color:"primary",disable:t(n).processing||!t(n).csv_file,loading:t(n).processing},null,8,["disable","loading"]),e(U,{icon:"cancel",label:"Batal",disable:t(n).processing,onClick:s[2]||(s[2]=c=>o.$goBack())},null,8,["disable"])]),_:1}),o.$page.props.flash.success?(g(),R(Xt,{key:0,class:"bg-positive text-white q-mt-md"},{default:l(()=>[v(r(o.$page.props.flash.success),1)]),_:1})):k("",!0),o.$page.props.flash.error?(g(),R(Xt,{key:1,class:"bg-negative text-white q-mt-md"},{default:l(()=>[v(r(o.$page.props.flash.error),1)]),_:1})):k("",!0)]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},tc=Object.freeze(Object.defineProperty({__proto__:null,default:ec},Symbol.toStringTag,{value:"Module"})),ac={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},lc={class:"q-pa-xs"},oc={class:"full-width row flex-center text-grey-8 q-gutter-sm"},nc={key:0},sc={key:1},rc={class:"flex justify-end"},ic={key:0},dc={key:1},uc={key:0},rl="Produk",mc={__name:"Index",setup(u){const n=me(),m=q(null),o=q(null),s=We(o),i=q(!1),b=[{value:"all",label:"Semua"},...Ke(window.CONSTANTS.PRODUCT_TYPES)],c=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],d=[{value:"all",label:"Semua"},{value:"ready",label:"Tersedia"},{value:"out",label:"Kosong"},{value:"low",label:"Stok Rendah"},{value:"over",label:"Stok Berlebih"}],f=we(),_=q(!1),y=q([]),p=q(!0),C=Pe({type:"all",category_id:"all",supplier_id:"all",status:"active",stock_status:"all",search:"",...Ie()}),S=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1});let $=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"cost",label:"Modal",field:"cost",align:"right"},{name:"price",label:"Harga",field:"price",align:"right"},{name:"action",align:"right"}];$e(()=>{const O=new URLSearchParams(window.location.search).get("page");O&&(S.value.page=parseInt(O)),I()});const E=A=>Ge({message:`Hapus Produk ${A.name}?`,url:route("admin.product.delete",A.id),fetchItemsCallback:I,loading:p}),I=(A=null)=>{De({pagination:S,filter:C,props:A,rows:y,url:route("admin.product.data"),loading:p,tableRef:m})},w=()=>{I()},{filteredCategories:P,filterCategories:N}=Gl(n.props.categories,!0),{filteredSuppliers:V,filterSuppliers:T}=ha(n.props.suppliers,!0),D=J(()=>{let A=[...$];return i.value||A.splice(2,1),f.screen.gt.sm?A:A.filter(O=>O.name==="name"||O.name==="action")}),B=A=>{console.log(window.location.href),W.get(route("admin.product.detail",A.row.id))};return(A,O)=>{const Z=L("i-head"),de=L("authenticated-layout");return g(),h(H,null,[e(Z,{title:rl}),e(de,null,Ye({title:l(()=>[v(r(rl))]),"right-button":l(()=>[e(U,{icon:_.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:O[0]||(O[0]=j=>_.value=!_.value)},null,8,["icon"]),A.$can("admin.product.add")?(g(),R(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:O[1]||(O[1]=j=>t(W).get(A.route("admin.product.add")))})):k("",!0),A.$can("admin.product.import")||A.$can("admin.product:view-cost")?(g(),R(U,{key:1,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:O[4]||(O[4]=Q(()=>{},["stop"])),class:"q-ml-sm"},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(je,{style:{width:"200px"}},{default:l(()=>[A.$can("admin.product.import")?X((g(),R(ee,{key:0,clickable:"",onClick:O[2]||(O[2]=j=>i.value=!i.value)},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:i.value?"visibility":"visibility_off"},null,8,["name"])]),_:1}),e(M,null,{default:l(()=>[v(r(i.value?"Sembunyikan":"Tampilkan")+" Modal",1)]),_:1})]),_:1})),[[ne],[re]]):k("",!0),A.$can("admin.product.import")?X((g(),R(ee,{key:1,clickable:"",onClick:O[3]||(O[3]=Q(j=>t(W).get(A.route("admin.product.import")),["stop"]))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"csv"})]),_:1}),e(M,null,{default:l(()=>O[13]||(O[13]=[v("Import")])),_:1})]),_:1})),[[ne],[re]]):k("",!0)]),_:1})]),_:1})]),_:1})):k("",!0)]),default:l(()=>[a("div",lc,[e(Ce,{ref_key:"tableRef",ref:m,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:S.value,"onUpdate:pagination":O[12]||(O[12]=j=>S.value=j),filter:C.search,loading:p.value,columns:D.value,rows:y.value,"rows-per-page-options":[10,25,50],style:Ae({height:t(s)}),onRequest:I,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:j,message:F,filter:G})=>[a("div",oc,[a("span",null,r(F)+" "+r(G?" with term "+G:""),1)])]),header:l(j=>[e(Ve,{props:j},{default:l(()=>[e(Gt,{"auto-width":""}),(g(!0),h(H,null,at(j.cols,F=>(g(),R(Gt,{key:F.name,props:j},{default:l(()=>[v(r(F.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(j=>[e(Ve,{props:j,class:ye({inactive:!j.row.active})},{default:l(()=>[e(z,{"auto-width":""},{default:l(()=>[e(U,{size:"sm",flat:"",round:"",dense:"",onClick:Q(F=>j.expand=!j.expand,["prevent"]),icon:j.expand?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["onClick","icon"])]),_:2},1024),e(z,{key:"name",props:j,class:"wrap-column cursor-pointer",onClick:F=>B(j)},{default:l(()=>[v(r(j.row.name)+" ",1),t(f).screen.gt.sm?k("",!0):(g(),h(H,{key:0},[j.row.type=="stocked"?(g(),h("div",nc,[e(x,{name:"cycle"}),v(" Stok: "+r(t(Y)(j.row.stock))+" "+r(j.row.uom),1)])):k("",!0),i.value?(g(),h("div",sc,[e(x,{name:"money"}),v(" Modal: Rp. "+r(t(Y)(j.row.cost)),1)])):k("",!0),a("div",null,[e(x,{name:"sell"}),v(" Harga: Rp. "+r(t(Y)(j.row.price)),1)])],64))]),_:2},1032,["props","onClick"]),e(z,{key:"stock",props:j,class:ye(["wrap-column",{"low-stock":j.row.type=="stocked"&&(Number(j.row.stock)==0||Number(j.row.stock)<Number(j.row.min_stock)),"over-stock":j.row.type=="stocked"&&Number(j.row.max_stock)&&Number(j.row.stock)>Number(j.row.max_stock)}])},{default:l(()=>[v(r(j.row.type=="stocked"?t(Y)(j.row.stock)+" "+j.row.uom:"-"),1)]),_:2},1032,["props","class"]),(g(),R(z,{key:"cost",props:j,class:"wrap-column"},{default:l(()=>[v(r(t(Y)(j.row.cost)),1)]),_:2},1032,["props"])),e(z,{key:"price",props:j,class:"wrap-column"},{default:l(()=>[v(r(t(Y)(j.row.price)),1)]),_:2},1032,["props"]),e(z,{key:"action",props:j},{default:l(()=>[a("div",rc,[A.$can("admin.product.add")||A.$can("admin.product.edit")||A.$can("admin.product.delete")?(g(),R(U,{key:0,icon:"more_vert",rounded:"",dense:"",flat:"",onClick:O[11]||(O[11]=Q(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(je,{style:{width:"175px"}},{default:l(()=>[A.$can("admin.product.add")?X((g(),R(ee,{key:0,clickable:"",onClick:Q(F=>t(W).get(A.route("admin.product.duplicate",j.row.id)),["stop"])},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"file_copy"})]),_:1}),e(M,null,{default:l(()=>O[14]||(O[14]=[v("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),A.$can("admin.product.edit")?X((g(),R(ee,{key:1,clickable:"",onClick:Q(F=>t(W).get(A.route("admin.product.edit",j.row.id)),["stop"])},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"edit"})]),_:1}),e(M,null,{default:l(()=>O[15]||(O[15]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),A.$can("admin.product.delete")?X((g(),R(ee,{key:2,onClick:Q(F=>E(j.row),["stop"]),clickable:""},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"delete_forever"})]),_:1}),e(M,null,{default:l(()=>O[16]||(O[16]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class"]),X(e(Ve,{props:j},{default:l(()=>[e(z,{colspan:"100%"},{default:l(()=>[j.row.barcode?(g(),h("div",ic,[e(x,{class:"inline-icon",name:"barcode"}),v(" Barcode: "+r(j.row.barcode),1)])):k("",!0),j.row.category_id?(g(),h("div",dc,[e(x,{name:"category",class:"inline-icon"}),v(" Kategori: "+r(j.row.category.name),1)])):k("",!0),A.$can("admin.product:view-supplier")?(g(),h(H,{key:2},[j.row.supplier_id?(g(),h("div",uc,[e(x,{name:"local_shipping",class:"inline-icon"}),v(" Supplier: "+r(j.row.supplier.name),1)])):k("",!0)],64)):k("",!0),j.row.description?(g(),R(ve,{key:3,text:j.row.description,icon:"notes","max-length":200},null,8,["text"])):k("",!0),j.row.notes?(g(),R(ve,{key:4,text:j.row.notes,icon:"notes","max-length":200},null,8,["text"])):k("",!0)]),_:2},1024)]),_:2},1032,["props"]),[[Cl,j.expand]])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[_.value?{name:"header",fn:l(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:o},{default:l(()=>[a("div",ac,[e(se,{modelValue:C.type,"onUpdate:modelValue":[O[5]||(O[5]=j=>C.type=j),w],class:"custom-select col-xs-4 col-sm-2",options:b,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{modelValue:C.status,"onUpdate:modelValue":[O[6]||(O[6]=j=>C.status=j),w],class:"custom-select col-xs-4 col-sm-2",options:c,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{modelValue:C.stock_status,"onUpdate:modelValue":[O[7]||(O[7]=j=>C.stock_status=j),w],class:"custom-select col-xs-4 col-sm-2",options:d,label:"Status Stok",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{modelValue:C.category_id,"onUpdate:modelValue":[O[8]||(O[8]=j=>C.category_id=j),w],label:"Kategori",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:t(P),"map-options":"",dense:"","emit-value":"",onFilter:t(N),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),A.$can("admin.product:view-supplier")?(g(),R(se,{key:0,modelValue:C.supplier_id,"onUpdate:modelValue":[O[9]||(O[9]=j=>C.supplier_id=j),w],label:"Pemasok",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:t(V),"map-options":"",dense:"","emit-value":"",onFilter:t(T),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"])):k("",!0),e(ae,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:C.search,"onUpdate:modelValue":O[10]||(O[10]=j=>C.search=j),placeholder:"Cari",clearable:""},{append:l(()=>[e(x,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},cc=Object.freeze(Object.defineProperty({__proto__:null,default:mc},Symbol.toStringTag,{value:"Module"}));function pc(){const u=q(new Date);let n=null;const m=()=>{u.value=new Date};return $e(()=>{n=setInterval(m,1e3)}),oa(()=>{n&&clearInterval(n)}),{currentDateTime:u}}const fc={class:"text-grey-8"},Xl={__name:"DigitalClock",setup(u){const{currentDateTime:n}=pc();return(m,o)=>(g(),h("div",fc,r(t(be)(t(n))),1))}},gc={class:"row q-col-gutter-md items-center q-px-md q-py-sm"},bc={class:"col-12 col-sm-6 col-md-4"},vc={class:"text-bold"},_c={key:0,class:"col-12 col-md-4 text-center"},yc={class:"text-h6 text-weight-bold text-grey-8"},wc={key:0,class:"text-subtitle2 text-weight-bold text-grey-8"},kc={key:1,class:"text-subtitle2 text-weight-bold text-grey-8"},$c={class:"text-weight-bold"},Zl={__name:"TransactionHeader",props:{user:{type:Object,required:!0},company:{type:Object,required:!0}},emits:["edit-supplier"],setup(u){return(n,m)=>(g(),h("div",gc,[a("div",bc,[a("div",vc,[m[1]||(m[1]=v(" Info Supplier ")),e(U,{icon:"edit",flat:"",rounded:"",dense:"",color:"grey",size:"sm",onClick:m[0]||(m[0]=o=>n.$emit("edit-supplier"))})]),m[2]||(m[2]=a("div",{class:"text-grey-8 text-italic"},"Supplier belum dipilih.",-1))]),n.$q.screen.gt.sm?(g(),h("div",_c,[a("div",yc,r(u.company.name),1),u.company.address?(g(),h("div",wc,r(u.company.address),1)):k("",!0),u.company.phone?(g(),h("div",kc,r(u.company.phone),1)):k("",!0)])):k("",!0),a("div",{class:ye(["col-12 col-sm-6 col-md-4",n.$q.screen.gt.sm?"text-right":""])},[a("div",$c,r(u.user.username)+" - "+r(u.user.name),1),e(Xl)],2)]))}},hc=Object.freeze(Object.defineProperty({__proto__:null,default:Zl},Symbol.toStringTag,{value:"Module"})),xc={class:"text-weight-medium"},Sc={class:"text-caption text-grey-6"},Vc={class:"text-weight-medium"},qc={class:"text-weight-bold text-primary"},eo={__name:"ItemsListTable",props:{items:{type:Array,required:!0},columns:{type:Array,required:!0}},emits:["update-quantity","remove-item"],setup(u){return(n,m)=>(g(),R(Ce,{dense:"",rows:u.items,columns:u.columns,"row-key":"id",flat:"",square:"",bordered:"",class:"bg-grey-1 pos-table q-pa-none col","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48},{header:l(o=>[e(Ve,{props:o,class:"bg-grey-4"},{default:l(()=>[(g(!0),h(H,null,at(o.cols,s=>(g(),R(Gt,{key:s.name,props:o,class:"text-weight-bold text-grey-8"},{default:l(()=>[v(r(s.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(o=>[e(Ve,{props:o,class:"hover-highlight"},{default:l(()=>[e(z,{key:"name",props:o,class:"text-left"},{default:l(()=>[a("div",xc,r(o.row.name),1),a("div",Sc," Barcode: "+r(o.row.barcode),1)]),_:2},1032,["props"]),e(z,{key:"price",props:o,class:"text-center"},{default:l(()=>[a("div",Vc,[e(Ee,{"model-value":o.row.price,dense:"",style:{width:"80px","text-align":"right"}},null,8,["model-value"])])]),_:2},1032,["props"]),e(z,{key:"quantity",props:o,class:"text-center"},{default:l(()=>[e(Ee,{"model-value":o.row.quantity,dense:"",style:{width:"80px","text-align":"right"},"onUpdate:modelValue":s=>n.$emit("update-quantity",{id:o.row.id,value:s}),onKeyup:m[0]||(m[0]=zt(s=>s.target.blur(),["enter"]))},null,8,["model-value","onUpdate:modelValue"])]),_:2},1032,["props"]),e(z,{key:"subtotal",props:o,class:"text-center"},{default:l(()=>[a("div",qc," Rp. "+r(t(Y)(o.row.price*o.row.quantity)),1)]),_:2},1032,["props"]),e(z,{key:"action",props:o,class:"text-center"},{default:l(()=>[e(U,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:s=>n.$emit("remove-item",o.row)},{default:l(()=>[e(Ht,null,{default:l(()=>m[1]||(m[1]=[v("Hapus Item")])),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]))}},Cc=Object.freeze(Object.defineProperty({__proto__:null,default:eo},Symbol.toStringTag,{value:"Module"})),Tc={class:"column"},Pc={class:"row justify-end items-center q-gutter-sm"},Oc={class:"text-h4 text-weight-bold text-primary"},Ic={class:"text-caption text-grey-6 q-mt-xs text-right"},Dc={class:"q-py-sm"},Rc={class:"q-py-sm"},to={__name:"TransactionSummary",props:{subtotal:{type:Number,required:!0},itemCount:{type:Number,required:!0},barcode:{type:String,required:!0},isProcessing:{type:Boolean,default:!1},formProcessing:{type:Boolean,default:!1}},emits:["update:barcode","add-item","process-payment"],setup(u,{expose:n}){const m=q(null);$e(()=>{o()});const o=()=>{Tt(()=>{m.value&&m.value.focus()})};return n({focusOnBarcodeInput:o}),(s,i)=>(g(),h("div",Tc,[a("div",Pc,[i[3]||(i[3]=a("span",{class:"text-weight-bold text-grey-8"},"GRAND TOTAL: Rp.",-1)),a("span",Oc,r(t(Y)(u.subtotal)),1)]),a("div",Ic,r(u.itemCount)+" item(s) ",1),a("div",Dc,[e(ae,{ref_key:"barcodeInputRef",ref:m,"model-value":u.barcode,"onUpdate:modelValue":i[0]||(i[0]=b=>s.$emit("update:barcode",b)),placeholder:"<Input Barcode>",outlined:"",square:"",class:"col bg-white",onKeyup:i[1]||(i[1]=zt(b=>s.$emit("add-item"),["enter"])),loading:u.isProcessing,clearable:"",autofocus:""},{prepend:l(()=>[e(x,{name:"qr_code_scanner"})]),_:1},8,["model-value","loading"])]),a("div",Rc,[e(U,{class:"full-width",label:"Bayar",color:"primary",icon:"payment",onClick:i[2]||(i[2]=b=>s.$emit("process-payment")),disable:u.itemCount===0,loading:u.formProcessing},null,8,["disable","loading"])])]))}},Uc=Object.freeze(Object.defineProperty({__proto__:null,default:to},Symbol.toStringTag,{value:"Module"})),jc={class:"q-ml-sm"},ao={__name:"ConfirmDeleteDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,default:null}},emits:["update:modelValue","confirm"],setup(u){return(n,m)=>(g(),R(vt,{"model-value":u.modelValue,"onUpdate:modelValue":m[1]||(m[1]=o=>n.$emit("update:modelValue",o)),persistent:""},{default:l(()=>[e(ie,null,{default:l(()=>[e(le,{class:"row items-center"},{default:l(()=>{var o;return[e(Rt,{icon:"delete",color:"negative","text-color":"white"}),a("span",jc,'Hapus item "'+r((o=u.item)==null?void 0:o.name)+'"?',1)]}),_:1}),e(gt,{align:"right"},{default:l(()=>[X(e(U,{flat:"",label:"Batal",color:"primary"},null,512),[[re]]),X(e(U,{flat:"",label:"Hapus",color:"negative",onClick:m[0]||(m[0]=o=>n.$emit("confirm"))},null,512),[[re]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Mc=Object.freeze(Object.defineProperty({__proto__:null,default:ao},Symbol.toStringTag,{value:"Module"})),lo={__name:"SupplierEditorDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","save"],setup(u,{emit:n}){const m=n,o=q(""),s=q(""),i=()=>{m("save",{name:o.value,address:s.value})};return(b,c)=>(g(),R(vt,{"model-value":u.modelValue,"onUpdate:modelValue":c[2]||(c[2]=d=>b.$emit("update:modelValue",d)),persistent:""},{default:l(()=>[e(ie,{style:{width:"400px"}},{default:l(()=>[e(le,{class:"q-py-none q-pt-lg"},{default:l(()=>c[3]||(c[3]=[a("div",{class:"text-bold text-grey-8"},"Edit Info Supplier",-1)])),_:1}),e(le,null,{default:l(()=>[e(ae,{modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=d=>o.value=d),label:"Nama Supplier"},null,8,["modelValue"]),e(ae,{modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=d=>s.value=d),label:"Alamat",type:"textarea",autogrow:"",counter:"",maxlength:"200",class:"q-mt-md"},null,8,["modelValue"])]),_:1}),e(gt,{align:"right"},{default:l(()=>[X(e(U,{flat:"",label:"Batal",color:"primary"},null,512),[[re]]),X(e(U,{flat:"",label:"Simpan",color:"primary",onClick:i},null,512),[[re]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Ac=Object.freeze(Object.defineProperty({__proto__:null,default:lo},Symbol.toStringTag,{value:"Module"})),Ec={class:"q-gutter-sm"},Nc={class:"row col **grow**"},Bc={class:"col-12 q-pa-sm column"},zc={class:"row"},Fc={class:"col-xs-12 col-md-8 q-pa-sm"},Lc={class:"col-md-4 col-xs-12 q-pa-sm"},Hc={__name:"Editor",setup(u){const n=we(),m=me(),o=q(null),s=Be({id:null,formatted_id:"Diisi Otomatis",customer_name:"Pelanggan Umum",datetime:ba().format("YYYY-MM-DD HH:mm:ss"),status:"pending",payment_status:"unpaid",items:[],subtotal:0,tax:0,total:0,notes:""}),i=q(""),b=q(!1),c=q(!1),d=q(null),f=q(!1),_=[{name:"name",required:!0,label:"Item Information",align:"left",field:"name",sortable:!1,style:"width: 300px"},{name:"price",label:"Harga",align:"center",field:"price",sortable:!1,style:"width: 120px"},{name:"quantity",label:"Quantity",align:"center",field:"quantity",sortable:!1,style:"width: 100px"},{name:"subtotal",label:"SubTotal",align:"center",sortable:!1,style:"width: 140px"},{name:"action",label:"Action",align:"center",sortable:!1,style:"width: 80px"}],y=J(()=>{const I=s.items.reduce((w,P)=>w+P.price*P.quantity,0);return s.subtotal=I,s.total=I+s.tax,I}),p=async()=>{if(!i.value.trim()){n.notify({message:"Silakan masukkan barcode",color:"warning",position:"bottom"});return}let I=1,w=i.value.trim(),P=null;const N=w.split("*");if(N.length===3){const T=parseInt(N[0]),D=parseFloat(N[2]);!isNaN(T)&&T>0?I=T:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"bottom"}),!isNaN(D)&&D>=0?P=D:n.notify({message:"Harga tidak valid. Menggunakan harga produk default.",color:"warning",position:"bottom"}),w=N[1]}else if(N.length===2){const T=parseInt(N[0]);!isNaN(T)&&T>0?I=T:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"bottom"}),w=N[1]}const V=s.items.findIndex(T=>T.barcode===w);if(V!==-1)s.items[V].quantity+=I,n.notify({message:`Quantity ${s.items[V].name} bertambah ${I}`,color:"positive",position:"bottom"});else{b.value=!0;try{await new Promise(B=>setTimeout(B,300));const D={...{id:Date.now(),name:`Item ${w}`,barcode:w,price:P!==null?P:Math.floor(Math.random()*5e4)+1e4},quantity:I};s.items.push(D),n.notify({message:`${D.name} berhasil ditambahkan`,color:"positive",position:"bottom",icon:"add_shopping_cart"})}catch(T){console.error("Error fetching item:",T),n.notify({message:"Item tidak ditemukan atau gagal menambahkan item",color:"negative",position:"bottom"})}finally{b.value=!1}}i.value="",await Tt(),o.value.focusOnBarcodeInput()},C=I=>{d.value=I,c.value=!0},S=()=>{if(d.value){const I=s.items.findIndex(w=>w.id===d.value.id);if(I!==-1){const w=s.items.splice(I,1)[0];n.notify({message:`${w.name} dihapus dari keranjang`,color:"info",position:"bottom",icon:"remove_shopping_cart"})}d.value=null}},$=(I,w)=>{const P=s.items.find(N=>N.id===I);P&&w>0&&(P.quantity=parseInt(w)||1)},E=()=>{if(s.items.length===0){n.notify({message:"Tidak ada item dalam keranjang",color:"warning",position:"bottom"});return}s.datetime=ba().format("YYYY-MM-DD HH:mm:ss"),s.status="completed",s.payment_status="paid",ze({form:s,url:route("admin.transaction.save"),onSuccess:()=>{n.notify({message:"Transaksi berhasil disimpan",color:"positive",position:"bottom",icon:"check_circle"}),s.reset(),s.items=[]}})};return(I,w)=>{const P=L("i-head"),N=L("authenticated-layout");return g(),h(H,null,[e(P,{title:"Order Pembelian"}),e(N,null,{title:l(()=>w[8]||(w[8]=[v("Order Pembelian")])),"left-button":l(()=>[a("div",Ec,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:w[0]||(w[0]=V=>t(W).get(I.route("admin.purchase-order.index")))})])]),default:l(()=>[e(xe,{class:"bg-grey-2 q-pa-sm column fit"},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"full-width col column"},{default:l(()=>[e(Zl,{user:t(m).props.auth.user,company:t(m).props.company,onEditSupplier:w[1]||(w[1]=V=>f.value=!0)},null,8,["user","company"]),a("div",Nc,[a("div",Bc,[e(eo,{items:t(s).items,columns:_,onUpdateQuantity:w[2]||(w[2]=({id:V,value:T})=>$(V,T)),onRemoveItem:C},null,8,["items"])])]),a("div",zc,[a("div",Fc,[e(ae,{modelValue:t(s).notes,"onUpdate:modelValue":w[3]||(w[3]=V=>t(s).notes=V),type:"textarea",placeholder:"Tambahkan catatan transaksi...",square:"",outlined:"",class:"bg-white",rows:3,counter:"",maxlength:"200",error:!!t(s).errors.notes,"error-message":t(s).errors.notes,style:{"margin-bottom":"16px"},"hide-bottom-space":""},{prepend:l(()=>[e(x,{name:"note"})]),_:1},8,["modelValue","error","error-message"])]),a("div",Lc,[e(to,{ref_key:"transactionSummaryRef",ref:o,barcode:i.value,"onUpdate:barcode":w[4]||(w[4]=V=>i.value=V),subtotal:y.value,"item-count":t(s).items.length,"is-processing":b.value,"form-processing":t(s).processing,onAddItem:w[5]||(w[5]=V=>p(i.value)),onProcessPayment:E},null,8,["barcode","subtotal","item-count","is-processing","form-processing"])])])]),_:1}),e(ao,{modelValue:c.value,"onUpdate:modelValue":w[6]||(w[6]=V=>c.value=V),item:d.value,onConfirm:S},null,8,["modelValue","item"]),e(lo,{modelValue:f.value,"onUpdate:modelValue":w[7]||(w[7]=V=>f.value=V)},null,8,["modelValue"])]),_:1})]),_:1})],64)}}},Yc=ft(Hc,[["__scopeId","data-v-4d8fff94"]]),Kc=Object.freeze(Object.defineProperty({__proto__:null,default:Yc},Symbol.toStringTag,{value:"Module"})),Qc={class:"col col-md-6 q-pa-xs"},Wc={__name:"Editor_v1",setup(u){const n=me(),m=(n.props.data.id?"Edit":"Tambah")+" Order Pembelian",{filteredSuppliers:o,filterSupplierFn:s}=ha(n.props.suppliers,!1),i=Ke(window.CONSTANTS.PURCHASE_ORDER_STATUSES),b=Ke(window.CONSTANTS.PURCHASE_ORDER_PAYMENT_STATUSES),c=Ke(window.CONSTANTS.PURCHASE_ORDER_DELIVERY_STATUSES),d=Be({id:n.props.data.id,formatted_id:n.props.data.formatted_id??"Diisi Otomatis",supplier_id:n.props.data.supplier_id,datetime:ba(n.props.data.datetime).format("YYYY-MM-DD HH:mm:ss"),status:n.props.data.status,payment_status:n.props.data.payment_status,delivery_status:n.props.data.delivery_status,total:parseFloat(n.props.data.total),total_paid:parseFloat(n.props.data.total_paid),notes:n.props.data.notes}),f=()=>ze({form:d,url:route("admin.purchase-order.save")});return(_,y)=>{const p=L("i-head"),C=L("authenticated-layout");return g(),h(H,null,[e(p,{title:m}),e(C,null,{title:l(()=>[v(r(m))]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",Qc,[e(Me,{class:"row",onSubmit:Q(f,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[X(a("input",{type:"hidden",name:"id","onUpdate:modelValue":y[0]||(y[0]=S=>t(d).id=S)},null,512),[[Xe,t(d).id]]),e(ae,{modelValue:t(d).formatted_id,"onUpdate:modelValue":y[1]||(y[1]=S=>t(d).formatted_id=S),modelModifiers:{trim:!0},label:"ID Order",readonly:"","hide-bottom-space":""},null,8,["modelValue"]),e(Ut,{modelValue:t(d).datetime,"onUpdate:modelValue":y[2]||(y[2]=S=>t(d).datetime=S),label:"Waktu",error:!!t(d).errors.datetime,disable:t(d).processing},null,8,["modelValue","error","disable"]),e(se,{modelValue:t(d).status,"onUpdate:modelValue":y[3]||(y[3]=S=>t(d).status=S),label:"Status Order",options:t(i),"map-options":"","emit-value":"",error:!!t(d).errors.status,disable:t(d).processing,errorMessage:t(d).errors.status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(se,{modelValue:t(d).payment_status,"onUpdate:modelValue":y[4]||(y[4]=S=>t(d).payment_status=S),label:"Status Pembayaran",options:t(b),"map-options":"","emit-value":"",error:!!t(d).errors.payment_status,disable:t(d).processing,errorMessage:t(d).errors.payment_status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(se,{modelValue:t(d).delivery_status,"onUpdate:modelValue":y[5]||(y[5]=S=>t(d).delivery_status=S),label:"Status Pengiriman",options:t(c),"map-options":"","emit-value":"",error:!!t(d).errors.delivery_status,disable:t(d).processing,errorMessage:t(d).errors.delivery_status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(se,{modelValue:t(d).supplier_id,"onUpdate:modelValue":y[6]||(y[6]=S=>t(d).supplier_id=S),label:"Pemasok","use-input":"","input-debounce":"300",clearable:"",options:t(o),"map-options":"","emit-value":"",errorMessage:t(d).errors.supplier_id,onFilter:t(s),error:!!t(d).errors.supplier_id,disable:t(d).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(ee,null,{default:l(()=>[e(M,null,{default:l(()=>y[9]||(y[9]=[v("Pemasok tidak ditemukan.")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(U,{dense:"",icon:"add",type:"button",color:"primary",disable:t(d).processing,label:"Pemasok Baru"},null,8,["disable"]),e(ae,{modelValue:t(d).notes,"onUpdate:modelValue":y[7]||(y[7]=S=>t(d).notes=S),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(d).processing,error:!!t(d).errors.notes,"error-message":t(d).errors.notes,rules:[S=>S&&S.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"create",type:"submit",label:"Buat Order",color:"primary",disable:t(d).processing},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",disable:t(d).processing,onClick:y[8]||(y[8]=S=>t(W).get(_.route("admin.purchase-order.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Jc=Object.freeze(Object.defineProperty({__proto__:null,default:Wc},Symbol.toStringTag,{value:"Module"})),Gc={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Xc={class:"q-pa-xs"},Zc={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ep={key:0},tp={key:0},ap={key:1},lp={class:"flex justify-end"},il="Order Pembelian",op={__name:"Index",setup(u){const n=we(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),c=We(b),d=Ft(),f=Lt(),_=[{label:"Semua Tahun",value:"all"},{label:`${d}`,value:d},...Pt(d-2,d-1).reverse()],y=[{value:"all",label:"Semua Bulan"},...Ot()],p=Pe({search:"",category_id:"all",year:d,month:f,...Ie()}),C=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),S=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];$e(()=>{E()});const $=P=>Ge({message:`Hapus transaksi #-${P.id}?`,url:route("admin.purchase-order.delete",P.id),fetchItemsCallback:E,loading:s}),E=(P=null)=>{De({pagination:C,filter:p,props:P,rows:o,url:route("admin.purchase-order.data"),loading:s,tableRef:i})},I=()=>{E()},w=J(()=>n.screen.gt.sm?S:S.filter(P=>P.name==="datetime"||P.name==="action"));return Ne(()=>p.year,P=>{P===null&&(p.month=null)}),(P,N)=>{const V=L("i-head"),T=L("authenticated-layout");return g(),h(H,null,[e(V,{title:il}),e(T,null,Ye({title:l(()=>[v(r(il))]),"right-button":l(()=>[e(U,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:N[0]||(N[0]=D=>m.value=!m.value)},null,8,["icon"]),e(U,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:N[1]||(N[1]=D=>t(W).get(P.route("admin.purchase-order.add")))})]),default:l(()=>[a("div",Xc,[e(Ce,{ref_key:"tableRef",ref:i,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:C.value,"onUpdate:pagination":N[6]||(N[6]=D=>C.value=D),filter:p.search,loading:s.value,columns:w.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Ae({height:t(c)}),onRequest:E,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:D,message:B,filter:A})=>[a("div",Zc,[a("span",null,r(B)+" "+r(A?" with term "+A:""),1)])]),body:l(D=>[e(Ve,{props:D},{default:l(()=>[e(z,{key:"datetime",props:D,class:"wrap-column"},{default:l(()=>[a("div",null,[v(" #"+r(D.row.id)+" - ",1),e(x,{name:"calendar_today"}),v(" "+r(D.row.datetime),1)]),e(rt,null,{default:l(()=>[e(x,{name:"category"}),v(" "+r(D.row.type_label),1)]),_:2},1024),D.row.ref_type?(g(),h("div",ep,[e(x,{name:"link"}),v(" "+r(D.row.ref_type_label)+" #"+r(D.row.ref_id),1)])):k("",!0),t(n).screen.gt.sm?k("",!0):(g(),h(H,{key:1},[D.row.notes?(g(),h("div",tp,[e(x,{name:"notes"}),v(" "+r(D.row.notes),1)])):k("",!0),D.row.category?(g(),h("div",ap,[e(x,{name:"category"}),v(" "+r(D.row.category.name),1)])):k("",!0),a("div",null,[e(x,{name:"money"}),v(" Rp. "+r(t(ht)(D.row.amount)+t(Y)(D.row.amount)),1)])],64))]),_:2},1032,["props"]),e(z,{key:"account",props:D},{default:l(()=>{var B;return[v(r((B=D.row.account)==null?void 0:B.name),1)]}),_:2},1032,["props"]),e(z,{key:"notes",props:D},{default:l(()=>[v(r(D.row.notes),1)]),_:2},1032,["props"]),e(z,{key:"amount",props:D,style:{"text-align":"right"}},{default:l(()=>[v(r(t(ht)(D.row.amount)+t(Y)(D.row.amount)),1)]),_:2},1032,["props"]),e(z,{key:"action",props:D},{default:l(()=>[a("div",lp,[e(U,{icon:"more_vert",dense:"",flat:"",rounded:"",onClick:N[5]||(N[5]=Q(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(je,{style:{width:"200px"}},{default:l(()=>[X((g(),R(ee,{onClick:Q(B=>$(D.row),["stop"]),clickable:""},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"delete_forever"})]),_:1}),e(M,null,{default:l(()=>N[7]||(N[7]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[a("div",Gc,[e(se,{modelValue:p.year,"onUpdate:modelValue":[N[2]||(N[2]=D=>p.year=D),I],options:_,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(se,{modelValue:p.month,"onUpdate:modelValue":[N[3]||(N[3]=D=>p.month=D),I],options:y,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:p.year===null},null,8,["modelValue","disable"]),e(ae,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:p.search,"onUpdate:modelValue":N[4]||(N[4]=D=>p.search=D),placeholder:"Cari",clearable:""},{append:l(()=>[e(x,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},np=Object.freeze(Object.defineProperty({__proto__:null,default:op},Symbol.toStringTag,{value:"Module"})),sp={class:"column"},rp={class:"bg-grey-2 q-pa-xs"},ip={class:"text-subtitle1 text-bold text-grey-10"},dp={class:"text-caption text-grey-8"},up={class:"col-12 col-sm-6"},mp={class:"full-width"},cp={key:1},pp={key:0},fp={key:1},gp={class:"col-12 col-sm-6",align:"left"},bp={class:"full-width"};const vp={key:1},_p={class:"full-width",style:{"border-collapse":"collapse"}},yp={class:"q-pa-sm",style:{"border-bottom":"1px solid #eee"}},wp={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},kp={class:"text-center q-pa-sm",style:{"border-bottom":"1px solid #eee"}},$p={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},hp={key:0},xp={class:"col-12 col-sm-6"},Sp={class:"text-body2 text-grey-7 text-italic"},Vp={class:"col-12 col-sm-6"},qp={class:"row justify-end q-gutter-y-xs"},Cp={class:"col-12 row justify-between"},Tp={class:"text-subtitle2 text-bold"},oo={__name:"InvoiceTab",props:{data:Object},setup(u){const n=u;return(m,o)=>{const s=L("i-link");return g(),h("div",sp,[e(le,{class:"q-pa-none"},{default:l(()=>[a("div",rp,[a("div",ip," INVOICE #"+r(n.data.formatted_id),1),a("div",dp,[v(" Kasir: "+r(n.data.cashier.username)+" - "+r(n.data.cashier.name)+" | "+r(t(be)(n.data.datetime))+" ",1),n.data.cashier_session?(g(),h(H,{key:0},[v(" | Session ID: "+r(n.data.cashier_session.id)+" | Terminal: "+r(n.data.cashier_session.cashier_terminal.name),1)],64)):k("",!0)])])]),_:1}),e(st),e(le,{class:"row q-col-gutter-sm q-pa-sm",align:"left"},{default:l(()=>[a("div",up,[o[1]||(o[1]=a("div",{class:"text-subtitle2 text-bold text-grey-8"},"Info Pelanggan",-1)),a("table",mp,[a("tbody",null,[a("tr",null,[a("td",null,[n.data.customer?(g(),R(s,{key:0,href:m.route("admin.customer.detail",{id:n.data.customer_id})},{default:l(()=>[e(x,{class:"inline-icon",name:"person"}),v(" "+r(n.data.customer_name)+" ("+r(n.data.customer_username)+") ",1)]),_:1},8,["href"])):(g(),h("div",cp,[e(x,{class:"inline-icon",name:"person"}),o[0]||(o[0]=v(" Pelanggan Umum "))]))])]),n.data.customer_phone?(g(),h("tr",pp,[a("td",null,[e(x,{class:"inline-icon",name:"phone"}),v(" "+r(n.data.customer_phone),1)])])):k("",!0),n.data.customer_address?(g(),h("tr",fp,[a("td",null,[e(x,{class:"inline-icon",name:"home_pin"}),v(" "+r(n.data.customer_address),1)])])):k("",!0)])])]),a("div",gp,[o[12]||(o[12]=a("div",{class:"text-subtitle2 text-bold text-grey-8"},"Info Order",-1)),a("table",bp,[a("tbody",null,[a("tr",null,[o[2]||(o[2]=a("td",{class:"text-grey-7",style:{width:"130px"}},"Waktu",-1)),o[3]||(o[3]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,r(t(be)(n.data.datetime)),1)]),a("tr",null,[o[4]||(o[4]=a("td",{class:"text-grey-7"},"Status Order",-1)),o[5]||(o[5]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,r(m.$CONSTANTS.SALES_ORDER_STATUSES[n.data.status]),1)]),a("tr",null,[o[6]||(o[6]=a("td",{class:"text-grey-7"},"Status Pembayaran",-1)),o[7]||(o[7]=a("td",null,":",-1)),a("td",null,r(m.$CONSTANTS.SALES_ORDER_PAYMENT_STATUSES[n.data.payment_status]),1)]),k("",!0),n.data.due_date?(g(),h("tr",vp,[o[10]||(o[10]=a("td",{class:"text-grey-7"},"Jatuh Tempo",-1)),o[11]||(o[11]=a("td",null,":",-1)),a("td",null,r(t(Jt)(n.data.due_date)),1)])):k("",!0)])])])]),_:1}),e(st),e(le,{class:"q-pa-sm"},{default:l(()=>[a("table",_p,[o[14]||(o[14]=a("thead",{class:"text-grey-8"},[a("tr",null,[a("th",{class:"text-left q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Item "),a("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Harga (Rp) "),a("th",{class:"text-center q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Jumlah "),a("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Total (Rp) ")])],-1)),a("tbody",null,[(g(!0),h(H,null,at(n.data.details,i=>(g(),h("tr",{key:i.id},[a("td",yp,r(i.product_name),1),a("td",wp,r(t(Y)(i.price)),1),a("td",kp,r(i.quantity),1),a("td",$p,r(t(Y)(i.subtotal_price)),1)]))),128)),n.data.details.length==0?(g(),h("tr",hp,o[13]||(o[13]=[a("td",{colspan:"4",class:"text-center text-grey"},"Belum ada item",-1)]))):k("",!0)])])]),_:1}),e(st),e(le,{class:"row",align:"left"},{default:l(()=>[a("div",xp,[o[15]||(o[15]=a("div",{class:"text-subtitle2 text-bold text-grey-8 q-mb-xs"},"Catatan:",-1)),a("div",Sp,r(n.data.notes?n.data.notes:"-"),1)]),a("div",Vp,[a("div",qp,[a("div",Cp,[o[16]||(o[16]=a("div",{class:"text-subtitle2 text-grey-7"},"Grand Total (Rp)",-1)),a("div",Tp,r(t(Y)(n.data.grand_total)),1)])])])]),_:1})])}}},Pp=Object.freeze(Object.defineProperty({__proto__:null,default:oo},Symbol.toStringTag,{value:"Module"})),Op={key:0,class:"text-center q-mb-md text-grey-8"},Ip={class:"text-subtitle2 text-weight-medium"},Dp={class:"text-h5 text-center text-primary q-pb-md"},Rp={class:"text-center q-mt-md"},Up={key:0,class:"text-h6 text-negative text-weight-bold"},jp={key:1,class:"text-h6 text-green-8 text-weight-bold"},Mp={key:2,class:"text-h6 text-positive text-weight-bold"},no={__name:"PaymentDialog",props:{modelValue:{type:Boolean,required:!0},total:{type:Number,required:!0}},emits:["update:modelValue","accepted"],setup(u,{emit:n}){const m=u,o=n,s=me(),i=q(!1),b=q({method:"cash",amount:m.total,notes:null}),c=s.props.data.customer,d=J(()=>[{label:"Tunai",value:"cash"},...c?[{label:"Wallet",value:"wallet"}]:[],...s.props.accounts.map(S=>({label:S.name+" - "+S.number,value:S.id}))]),f=J(()=>m.total-(b.value.amount||0)),_=J(()=>{const S=b.value.amount||0;return m.total,S<=0?"Jumlah pembayaran harus lebih dari 0.":b.value.method==="wallet"&&c&&S>c.balance?"Saldo wallet tidak mencukupi.":null}),y=J(()=>_.value===null),p=()=>{if(!y.value)return;i.value=!0;const S={total_paid:b.value.amount,payments:[{id:b.value.method,amount:b.value.amount}],notes:b.value.notes,change:Math.max(0,(b.value.amount||0)-m.total),remaining_debt:Math.max(0,m.total-(b.value.amount||0))};o("accepted",S),i.value=!1},C=()=>{b.value.amount=m.total,b.value.method="cash",b.value.notes=null};return(S,$)=>(g(),R(vt,{"model-value":u.modelValue,"onUpdate:modelValue":$[4]||($[4]=E=>S.$emit("update:modelValue",E)),onBeforeShow:C},{default:l(()=>[e(ie,{style:{"min-width":"300px"}},{default:l(()=>[e(le,null,{default:l(()=>$[5]||($[5]=[a("div",{class:"text-subtitle1 text-bold text-center"}," Rincian Pembayaran ",-1)])),_:1}),e(le,{class:"q-pt-none"},{default:l(()=>[t(c)?(g(),h("div",Op,[a("div",Ip,[v(r(t(c).username)+" ",1),$[6]||($[6]=a("br",null,null,-1)),v(" "+r(t(c).name)+" ",1),$[7]||($[7]=a("br",null,null,-1)),v(" Saldo: Rp. "+r(t(Y)(t(c).balance)),1)])])):k("",!0),a("div",Dp," Total: Rp. "+r(t(Y)(u.total)),1),e(t(se),{modelValue:b.value.method,"onUpdate:modelValue":$[0]||($[0]=E=>b.value.method=E),options:d.value,label:"Metode Pembayaran",outlined:!0,"emit-value":"","map-options":"",dense:"",class:"q-mb-md",disable:i.value},null,8,["modelValue","options","disable"]),e(Ee,{modelValue:b.value.amount,"onUpdate:modelValue":$[1]||($[1]=E=>b.value.amount=E),label:"Jumlah Uang",outlined:!0,dense:"",disable:i.value,class:"q-mb-md",error:!y.value,"error-message":_.value},null,8,["modelValue","disable","error","error-message"]),e(ae,{modelValue:b.value.notes,"onUpdate:modelValue":$[2]||($[2]=E=>b.value.notes=E),label:"Catatan",outlined:!0,type:"textarea",rows:"2",disable:i.value,class:"q-mb-md"},null,8,["modelValue","disable"]),a("div",Rp,[f.value>0?(g(),h("div",Up," Sisa Tagihan: Rp. "+r(t(Y)(f.value)),1)):f.value<0?(g(),h("div",jp," Kembalian: Rp. "+r(t(Y)(Math.abs(f.value))),1)):(g(),h("div",Mp," Tagihan Terbayar "))])]),_:1}),e(gt,{align:"center",class:"q-mb-sm"},{default:l(()=>[e(U,{flat:"",label:"Batal",color:"grey",onClick:$[3]||($[3]=E=>S.$emit("update:modelValue",!1))}),e(U,{label:"Bayar",color:"positive",onClick:p,disable:i.value||!y.value,loading:i.value},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Ap=Object.freeze(Object.defineProperty({__proto__:null,default:no},Symbol.toStringTag,{value:"Module"})),Ep={class:"column"},Np={class:"full-width",style:{"border-collapse":"collapse"}},Bp={class:"q-pa-sm",style:{"border-bottom":"1px solid #eee"}},zp={class:"row items-center q-gutter-x-sm"},Fp={class:"text-weight-bold"},Lp={class:"row items-center q-gutter-x-sm q-mt-xs"},Hp={class:"text-caption text-grey-6"},Yp={key:0,class:"row items-center q-gutter-x-sm q-mt-xs"},Kp={class:"text-caption text-grey-6"},Qp={class:"q-mt-xs"},Wp={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Jp={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Gp={key:0},Xp={class:"q-pa-sm"},Zp={class:"text-right q-pa-sm"},ef={class:"text-right q-pa-sm"},so={__name:"PaymentTab",props:{data:Object},setup(u){const n=u,m=J(()=>n.data.grand_total-n.data.total_paid),o=we(),s=q(!1),i=()=>{s.value=!0},b=async d=>{const f={order_id:n.data.id,payments:d.payments,notes:d.notes};o.loading.show({message:"Memproses pembayaran..."});try{const _=await it.post(route("admin.sales-order.add-payment"),f);o.notify({message:"Pembayaran berhasil diproses!",color:"positive",icon:"check_circle"}),s.value=!1,W.visit(route("admin.sales-order.detail",{id:n.data.id})+"?tab=payment")}catch(_){let y="Gagal memproses pembayaran.";_.response&&_.response.data&&_.response.data.message?y=_.response.data.message:_.message&&(y=_.message),o.notify({message:y,color:"negative",icon:"error"})}finally{o.loading.hide()}},c=d=>{o.dialog({title:"Konfirmasi",message:"Apakah Anda yakin ingin menghapus pembayaran ini?",cancel:!0,persistent:!0}).onOk(async()=>{o.loading.show({message:"Menghapus pembayaran..."});try{await it.delete(route("admin.sales-order.delete-payment",{payment_id:d.id})),o.notify({message:"Pembayaran berhasil dihapus!",color:"positive",icon:"check_circle"}),W.visit(route("admin.sales-order.detail",{id:n.data.id})+"?tab=payment")}catch(f){let _="Gagal menghapus pembayaran.";f.response&&f.response.data&&f.response.data.message?_=f.response.data.message:f.message&&(_=f.message),o.notify({message:_,color:"negative",icon:"error"})}finally{o.loading.hide()}})};return(d,f)=>(g(),h(H,null,[a("div",Ep,[e(st),e(le,{class:"q-pa-sm"},{default:l(()=>[a("table",Np,[f[6]||(f[6]=a("thead",{class:"text-grey-8"},[a("tr",null,[a("th",{class:"text-left q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Detail Transaksi "),a("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Jumlah (Rp) "),a("th",{class:"text-center q-pa-sm",style:{"border-bottom":"2px solid #ddd"}})])],-1)),a("tbody",null,[(g(!0),h(H,null,at(n.data.payments,_=>(g(),h("tr",{key:_.id},[a("td",Bp,[a("div",zp,[e(x,{name:"tag",size:"xs",color:"grey-7"}),a("span",Fp,r(_.formatted_id),1)]),a("div",Lp,[e(x,{name:"calendar_today",size:"xs",color:"grey-7"}),a("span",Hp,r(t(be)(_.created_at)),1)]),(_.type==="transfer"||_.type==="cash")&&_.account?(g(),h("div",Yp,[e(x,{name:"wallet",size:"xs",color:"grey-7"}),a("span",Kp,r(_.account.name),1)])):k("",!0),a("div",Qp,[e(rt,{label:d.$CONSTANTS.SALES_ORDER_PAYMENT_TYPES[_.type],color:"secondary",class:"q-py-xs"},null,8,["label"])])]),a("td",Wp,r(t(Y)(_.amount)),1),a("td",Jp,[d.$can("admin.sales-order.delete-payment")?(g(),R(U,{key:0,icon:"delete",color:"negative",dense:"",flat:"",rounded:"",size:"sm",onClick:y=>c(_)},null,8,["onClick"])):k("",!0)])]))),128)),n.data.payments.length==0?(g(),h("tr",Gp,f[2]||(f[2]=[a("td",{colspan:"100%",class:"text-center text-grey"},"Belum ada item",-1)]))):k("",!0)]),a("tfoot",null,[a("tr",null,[a("td",Xp,[d.$can("admin.sales-order.add-payment")&&m.value>0?(g(),R(U,{key:0,label:"Tambah",color:"primary",icon:"add",dense:"",class:"custom-dense",size:"sm",onClick:f[0]||(f[0]=Q(_=>i(),["stop"]))})):k("",!0)]),f[3]||(f[3]=a("th",{class:"text-right q-pa-sm",colspan:"1"},"Total Dibayar",-1)),a("th",Zp,r(t(Y)(n.data.total_paid)),1)]),a("tr",null,[f[4]||(f[4]=a("th",{class:"text-right q-pa-sm",colspan:"2"},"Sisa Tagihan",-1)),a("th",ef,r(t(Y)(m.value)),1),f[5]||(f[5]=a("td",null,null,-1))])])])]),_:1})]),e(no,{modelValue:s.value,"onUpdate:modelValue":f[1]||(f[1]=_=>s.value=_),total:m.value,customer:n.data.customer,onAccepted:b},null,8,["modelValue","total","customer"])],64))}},tf=Object.freeze(Object.defineProperty({__proto__:null,default:so},Symbol.toStringTag,{value:"Module"})),af={class:"q-gutter-sm"},lf={class:"col col-lg-6 q-pa-xs",align:"center"},dl="Rincian Penjualan",of={__name:"Detail",setup(u){const n=new URLSearchParams(window.location.search),o=me().props.data,s=q(n.get("preview")||!1),b=q(n.get("tab")||"invoice"),c=()=>{window.print()};return(d,f)=>{const _=L("i-head"),y=L("authenticated-layout");return g(),h(H,null,[e(_,{title:dl}),e(y,{"show-drawer-button":!0},{title:l(()=>[a("div",{class:"row items-center q-gutter-x-sm"},[a("span",null,r(dl))])]),"left-button":l(()=>[a("div",af,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:f[0]||(f[0]=p=>d.$goBack())})])]),"right-button":l(()=>[e(U,{icon:"print",dense:"",color:"primary",flat:"",rounded:"",onClick:f[1]||(f[1]=p=>c())}),s.value?k("",!0):(g(),R(U,{key:0,class:"q-ml-sm",icon:"add",dense:"",color:"primary",rounded:"",onClick:f[2]||(f[2]=p=>t(W).get(d.route("admin.sales-order.add")))}))]),default:l(()=>[e(xe,{class:"row justify-center print-visible"},{default:l(()=>[a("div",lf,[e(ie,{square:"",flat:"",bordered:"",class:"full-width",style:{"max-width":"1024px"}},{default:l(()=>[e(jt,{modelValue:b.value,"onUpdate:modelValue":f[3]||(f[3]=p=>b.value=p),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(lt,{name:"invoice",label:"Invoice"}),s.value?k("",!0):(g(),R(lt,{key:0,name:"payment",label:"Pembayaran"}))]),_:1},8,["modelValue"]),e(st),e(Mt,{modelValue:b.value,"onUpdate:modelValue":f[4]||(f[4]=p=>b.value=p),animated:""},{default:l(()=>[e(ot,{name:"invoice",class:"q-pa-none"},{default:l(()=>[e(oo,{data:t(o)},null,8,["data"])]),_:1}),e(ot,{name:"payment",class:"q-pa-none"},{default:l(()=>[e(so,{data:t(o)},null,8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),_:1})]),_:1})],64)}}},nf=ft(of,[["__scopeId","data-v-318e887f"]]),sf=Object.freeze(Object.defineProperty({__proto__:null,default:nf},Symbol.toStringTag,{value:"Module"})),rf={class:"text-weight-medium"},df={class:"text-caption text-grey-6"},uf={class:"column items-end"},mf={class:"text-caption text-grey-6 text-italic"},ro={__name:"ItemsListTable",props:{items:{type:Array,required:!0},isProcessing:{type:Boolean,default:!1}},emits:["update-quantity","remove-item","edit-item"],setup(u){const n=we(),m=We(null,n.screen.lt.sm?395:310),o=[{name:"name",required:!0,label:"Item",align:"left",field:"name",sortable:!1},{name:"subtotal_price",label:"Sub Total (Rp.)",align:"right",sortable:!1},{name:"action",label:"",align:"right",sortable:!1}];return(s,i)=>(g(),R(Ce,{dense:"",rows:u.items,columns:o,"row-key":"id",flat:"",square:"",bordered:"",class:"full-height-table","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48,style:Ae({height:t(m)})},{header:l(b=>[e(Ve,{props:b,class:"bg-grey-4"},{default:l(()=>[(g(!0),h(H,null,at(b.cols,c=>(g(),R(Gt,{key:c.name,props:b,class:"text-weight-bold text-grey-8"},{default:l(()=>[v(r(c.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(b=>[e(Ve,{props:b,class:"hover-highlight"},{default:l(()=>[e(z,{key:"name",props:b,class:"text-left"},{default:l(()=>[a("div",rf,r(b.row.product_name),1),a("div",df,r(b.row.product_barcode),1),b.row.notes?(g(),R(ve,{key:0,text:b.row.notes,icon:"notes",class:"text-grey-6"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(z,{key:"subtotal_price",props:b,class:"text-right"},{default:l(()=>[a("div",uf,[a("div",null,r(t(Y)(b.row.subtotal_price)),1),a("div",mf,r(t(Y)(b.row.quantity))+" x Rp. "+r(t(Y)(b.row.price)),1)])]),_:2},1032,["props"]),e(z,{key:"action",props:b,class:"text-right",style:{width:"5%"}},{default:l(()=>[e(U,{icon:"edit",color:"grey",flat:"",round:"",size:"sm",onClick:c=>s.$emit("edit-item",b.row),disable:u.isProcessing},null,8,["onClick","disable"]),e(U,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:c=>s.$emit("remove-item",b.row),disable:u.isProcessing},null,8,["onClick","disable"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","style"]))}},cf=Object.freeze(Object.defineProperty({__proto__:null,default:ro},Symbol.toStringTag,{value:"Module"})),pf=bt({name:"QBtnToggle",props:{...Vl,modelValue:{required:!0},options:{type:Array,required:!0,validator:u=>u.every(n=>("label"in n||"icon"in n||"slot"in n)&&"value"in n)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(u,{slots:n,emit:m}){const o=J(()=>u.options.find(p=>p.value===u.modelValue)!==void 0),s=J(()=>({type:"hidden",name:u.name,value:u.modelValue})),i=dn(s),b=J(()=>sn(u)),c=J(()=>({rounded:u.rounded,dense:u.dense,...b.value})),d=J(()=>u.options.map((p,C)=>{const{attrs:S,value:$,slot:E,...I}=p;return{slot:E,props:{key:C,"aria-pressed":$===u.modelValue?"true":"false",...S,...I,...c.value,disable:u.disable===!0||I.disable===!0,color:$===u.modelValue?_(I,"toggleColor"):_(I,"color"),textColor:$===u.modelValue?_(I,"toggleTextColor"):_(I,"textColor"),noCaps:_(I,"noCaps")===!0,noWrap:_(I,"noWrap")===!0,size:_(I,"size"),padding:_(I,"padding"),ripple:_(I,"ripple"),stack:_(I,"stack")===!0,stretch:_(I,"stretch")===!0,onClick(w){f($,p,w)}}}}));function f(p,C,S){u.readonly!==!0&&(u.modelValue===p?u.clearable===!0&&(m("update:modelValue",null,null),m("clear")):m("update:modelValue",p,C),m("click",S))}function _(p,C){return p[C]===void 0?u[C]:p[C]}function y(){const p=d.value.map(C=>fe(U,C.props,C.slot!==void 0?n[C.slot]:void 0));return u.name!==void 0&&u.disable!==!0&&o.value===!0&&i(p,"push"),hl(n.default,p)}return()=>fe(rn,{class:"q-btn-toggle",...b.value,rounded:u.rounded,stretch:u.stretch,glossy:u.glossy,spread:u.spread},y)}}),ff={key:0,class:"text-center q-mb-md text-grey-8"},gf={class:"text-subtitle2 text-weight-medium"},bf={class:"text-h5 text-center text-primary q-pb-md"},vf={class:"q-mb-md flex flex-center"},_f={key:1},yf={class:"col-6"},wf={class:"col-6"},kf={class:"row"},$f={class:"text-center q-mt-md"},hf={key:0,class:"text-h6 text-negative text-weight-bold"},xf={key:1,class:"text-h6 text-green-8 text-weight-bold"},Sf={key:2,class:"text-h6 text-positive text-weight-bold"},Vf={key:2},qf={class:"text-h6 text-negative text-center"},Cf={key:3},io={__name:"PaymentDialog",props:{modelValue:{type:Boolean,required:!0},form:{type:Object,required:!0},customer:{type:Object,required:!1},total:{type:Number,required:!0}},emits:["update:modelValue","accepted"],setup(u,{emit:n}){const m=u,o=n,s=me(),i=q(!1),b=q("cash"),c=q(new Date),d=q(null),f=Pe([{id:"cash",amount:0}]),_=J(()=>[{label:"Tunai",value:"cash"},...m.customer?[{label:"Wallet",value:"wallet"}]:[],...s.props.accounts.map(D=>({label:D.name+" - "+D.number,value:D.id}))]),y=J(()=>f.reduce((D,B)=>D+(B.amount||0),0)),p=J(()=>m.total-y.value),C=J(()=>{if(!m.customer)return!0;const D=f.find(A=>A.id==="wallet");return(D?D.amount:0)<=m.customer.balance}),S=new Date,$=nt.addToDate(new Date,{days:30}),E=J(()=>[D=>!!D||"Tanggal jatuh tempo harus diisi",D=>nt.isBetweenDates(D,S,$,{inclusiveFrom:!0,inclusiveTo:!0})?!0:"Tanggal tidak boleh kurang dari hari ini dan lebih dari 30 hari dari sekarang."]),I=J(()=>{if(b.value==="debt")return!!m.customer&&E.value.every(Z=>Z(c.value)===!0);const D=C.value,B=f.some(Z=>(Z.amount||0)>0),A=f.every(Z=>(Z.amount||0)>=0),O=p.value<=0;return D&&B&&A&&O}),w=()=>{f.length<3&&f.push({id:"cash",amount:0})},P=D=>{if(f.length>1){const B=f.findIndex(A=>A.id===D);B!==-1&&f.splice(B,1)}},N=D=>{b.value=D,c.value=new Date,f.splice(0,f.length),D==="cash"&&(f.splice(0,f.length,{id:"cash",amount:m.total}),Tt(()=>{d.value&&d.value.length>0&&(d.value[0].focus(),d.value[0].select())}))},V=()=>{if(!I.value)return;i.value=!0;let D={total:m.total,is_debt:b.value==="debt"};if(b.value==="debt")D.due_date=nt.formatDate(c.value,"YYYY-MM-DD"),D.payments=[];else{const B=y.value,A=B>m.total?B-m.total:0,O=p.value>0?p.value:0;D.payments=f,D.remaining_debt=O,D.change=A}o("accepted",D),i.value=!1},T=()=>{N("cash"),Tt(()=>{})};return(D,B)=>(g(),R(vt,{"model-value":u.modelValue,"onUpdate:modelValue":B[3]||(B[3]=A=>D.$emit("update:modelValue",A)),onBeforeShow:T},{default:l(()=>[e(ie,{style:{"min-width":"300px"}},{default:l(()=>[e(le,null,{default:l(()=>B[4]||(B[4]=[a("div",{class:"text-subtitle1 text-bold text-center"}," Rincian Pembayaran ",-1)])),_:1}),e(le,{class:"q-pt-none"},{default:l(()=>[u.customer?(g(),h("div",ff,[a("div",gf,[v(" Username: "+r(u.customer.username)+" ",1),B[5]||(B[5]=a("br",null,null,-1)),v(" Nama: "+r(u.customer.name),1),B[6]||(B[6]=a("br",null,null,-1)),v(" Saldo: Rp. "+r(t(Y)(u.customer.balance)),1)])])):k("",!0),a("div",bf," Total: Rp. "+r(t(Y)(u.total)),1),a("div",vf,[e(t(pf),{modelValue:b.value,"onUpdate:modelValue":[B[0]||(B[0]=A=>b.value=A),N],options:[{label:"Tunai",value:"cash",slot:"cash",color:"green"},{label:"Tempo",value:"debt",slot:"debt",disable:!u.customer,color:"red"}],flat:"",spread:"",class:"bg-grey-2"},null,8,["modelValue","options"])]),b.value==="cash"?(g(),h("div",_f,[(g(!0),h(H,null,at(f,(A,O)=>(g(),h("div",{key:A.id,class:"row q-col-gutter-sm q-mb-sm"},[a("div",yf,[e(t(se),{modelValue:A.id,"onUpdate:modelValue":Z=>A.id=Z,options:_.value,label:"Metode Pembayaran",outlined:!0,"emit-value":"","map-options":"",dense:"",class:"custom-select",disable:i.value,"hide-bottom-space":""},null,8,["modelValue","onUpdate:modelValue","options","disable"])]),a("div",wf,[e(Ee,{modelValue:A.amount,"onUpdate:modelValue":Z=>A.amount=Z,label:"Jumlah",outlined:!0,dense:"",disable:i.value,error:A.id==="wallet"&&!C.value,"error-message":A.id==="wallet"&&!C.value?"Saldo tidak cukup!":"","hide-bottom-space":"",ref_for:!0,ref:O===0?"firstPaymentInputRef":null},Ye({_:2},[f.length>1?{name:"append",fn:l(()=>[e(x,{size:"xs",name:"close",class:"cursor-pointer",onClick:Z=>P(A.id)},null,8,["onClick"])]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","disable","error","error-message"])])]))),128)),a("div",kf,[e(U,{disable:!(f.length<3&&p.value>0),flat:"",dense:"",icon:"add",label:"Tambah Pembayaran",onClick:w,size:"sm"},null,8,["disable"])]),a("div",$f,[p.value>0?(g(),h("div",hf," Sisa Tagihan: Rp. "+r(t(Y)(p.value)),1)):p.value<0?(g(),h("div",xf," Kembalian: Rp. "+r(t(Y)(Math.abs(p.value))),1)):(g(),h("div",Sf," Tagihan Terbayar "))])])):b.value==="debt"&&u.customer?(g(),h("div",Vf,[e(Kl,{outlined:"",modelValue:c.value,"onUpdate:modelValue":B[1]||(B[1]=A=>c.value=A),label:"Tanggal Jatuh Tempo",hint:"Pilih tanggal jatuh tempo pembayaran utang",class:"q-mb-md","min-date":t(S),"max-date":t($),rules:E.value},null,8,["modelValue","min-date","max-date","rules"]),a("div",qf," Total Utang: Rp. "+r(t(Y)(u.total)),1)])):b.value==="debt"&&!u.customer?(g(),h("div",Cf,B[7]||(B[7]=[a("div",{class:"text-center text-negative text-h6"}," Tidak dapat mencatat utang tanpa memilih pelanggan. ",-1)]))):k("",!0)]),_:1}),e(gt,{align:"center",class:"q-mb-sm"},{default:l(()=>[e(U,{flat:"",label:"Batal",color:"grey",onClick:B[2]||(B[2]=A=>D.$emit("update:modelValue",!1))}),e(U,{label:b.value==="debt"?"Catat Utang":"Bayar",color:"positive",onClick:V,disable:i.value||!I.value,loading:i.value},null,8,["label","disable","loading"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Tf=Object.freeze(Object.defineProperty({__proto__:null,default:io},Symbol.toStringTag,{value:"Module"})),Pf={class:"row items-center no-wrap"},Of={class:"col-auto"},If={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Df={__name:"ProductBrowserDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","product-selected"],setup(u,{emit:n}){const m=u,o=n,s=q(null),i=q([]),b=q(!0),c=q(-1),d=Pe({search:"",status:"active",...Ie()}),f=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),_=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"price",label:"Harga",field:"price",align:"right"}],y=J(()=>_);$e(()=>{p()});const p=()=>{m.modelValue!==!1&&C()},C=(I=null)=>{b.value=!0,c.value=-1,De({pagination:f,filter:d,props:I,rows:i,url:route("admin.product.data"),loading:b,tableRef:s})},S=()=>{p()},$=I=>{o("product-selected",I),setTimeout(()=>{o("update:modelValue",!1)},100)},E=I=>{const w=i.value.length;w!==0&&(I.key==="ArrowDown"?(I.preventDefault(),c.value=(c.value+1)%w):I.key==="ArrowUp"?(I.preventDefault(),c.value=(c.value-1+w)%w):I.key==="Enter"&&c.value!==-1&&(I.preventDefault(),$(i.value[c.value])))};return Ne(()=>m.modelValue,(I,w)=>{w===!0&&I===!1&&(d.search=""),I===!0&&C()}),(I,w)=>(g(),R(vt,{"model-value":u.modelValue,"onUpdate:modelValue":w[3]||(w[3]=P=>I.$emit("update:modelValue",P)),maximized:I.$q.screen.lt.sm},{default:l(()=>[e(ie,{class:"column fit",tabindex:"0",onKeydown:E,ref:"cardRef"},{default:l(()=>[e(le,{class:"q-py-sm"},{default:l(()=>[a("div",Pf,[w[4]||(w[4]=a("div",{class:"col text-subtitle text-grey-8 text-bold"},"Cari Produk",-1)),a("div",Of,[e(U,{flat:"",round:"",size:"sm",icon:"close",onClick:w[0]||(w[0]=P=>I.$emit("update:modelValue",!1))})])])]),_:1}),e(le,{class:ye(["q-py-sm",I.$q.screen.lt.sm?"q-px-xs":""])},{default:l(()=>[e(ae,{autofocus:"",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":[w[1]||(w[1]=P=>d.search=P),S],placeholder:"Cari produk berdasarkan nama atau barcode",clearable:""},{append:l(()=>[e(x,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["class"]),e(le,{class:ye(["q-py-xs col",I.$q.screen.lt.sm?"q-px-xs":""])},{default:l(()=>[e(Ce,{ref_key:"tableRef",ref:s,flat:"",class:"fit full-height-table",square:"",bordered:"",dense:"",color:"primary","row-key":"id",pagination:f.value,"onUpdate:pagination":w[2]||(w[2]=P=>f.value=P),filter:d.search,loading:b.value,columns:y.value,rows:i.value,"rows-per-page-options":[10,25,50],onRequest:C,"binary-state-sort":"","no-data-label":"Tidak ada produk ditemukan","virtual-scroll":!0,"rows-per-page-label":null},{"no-data":l(({icon:P,message:N,filter:V})=>[a("div",If,[a("span",null,r(N),1)])]),body:l(P=>[e(Ve,{tabindex:"0",props:P,class:ye([{inactive:!P.row.active,"selected-row":c.value===P.rowIndex},"cursor-pointer"]),onClick:N=>$(P.row),onKeydown:[zt(Q(N=>$(P.row),["prevent","stop"]),["enter"]),zt(Q(N=>$(P.row),["prevent"]),["space"])]},{default:l(()=>[e(z,{key:"name",props:P,class:"wrap-column"},{default:l(()=>[e(ve,{text:P.row.name},null,8,["text"]),P.row.description?(g(),R(ve,{key:0,text:P.row.description,"max-length":50,class:"text-grey-6"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(z,{key:"stock",props:P,class:"wrap-column text-right"},{default:l(()=>[v(r(P.row.type=="stocked"?t(Y)(P.row.stock)+" "+P.row.uom:"-"),1)]),_:2},1032,["props"]),e(z,{key:"price",props:P,class:"wrap-column text-right"},{default:l(()=>[v(" Rp. "+r(t(Y)(P.row.price)),1)]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick","onKeydown"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1},8,["class"])]),_:1},512)]),_:1},8,["model-value","maximized"]))}},Rf={class:"row items-center no-wrap"},Uf={class:"col-auto"},uo={__name:"ItemEditorDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,required:!1},isProcessing:{type:Boolean,required:!1}},emits:["update:modelValue","save"],setup(u,{expose:n,emit:m}){const o=u,s=m,i=()=>{s("save")},b=J(()=>o.item.quantity*o.item.price),c=_=>{_.stopPropagation(),_.preventDefault()},d=_=>{o.modelValue&&(_.key==="Enter"?(i(),c(_)):_.key==="Escape"&&(s("update:modelValue",!1),c(_)))};return $e(()=>{window.addEventListener("keydown",d)}),oa(()=>{window.removeEventListener("keydown",d)}),n({getCurrentItem:()=>o.item}),(_,y)=>(g(),R(vt,{"model-value":u.modelValue,"onUpdate:modelValue":y[6]||(y[6]=p=>_.$emit("update:modelValue",p))},{default:l(()=>[e(ie,null,{default:l(()=>[e(le,{class:"q-py-sm"},{default:l(()=>[a("div",Rf,[y[7]||(y[7]=a("div",{class:"col text-subtite text-bold text-grey-8"},"Edit Item",-1)),a("div",Uf,[e(U,{flat:"",size:"sm",round:"",icon:"close",onClick:y[0]||(y[0]=p=>_.$emit("update:modelValue",!1))})])])]),_:1}),e(le,{class:"q-py-sm"},{default:l(()=>[e(ae,{modelValue:u.item.product_name,"onUpdate:modelValue":y[1]||(y[1]=p=>u.item.product_name=p),label:"Produk","hide-bottom-space":"",readonly:"",disable:u.isProcessing},null,8,["modelValue","disable"]),e(Ee,{modelValue:u.item.quantity,"onUpdate:modelValue":y[2]||(y[2]=p=>u.item.quantity=p),label:"Kwantitas","hide-bottom-space":"",autofocus:"",disable:u.isProcessing},null,8,["modelValue","disable"]),e(Ee,{modelValue:u.item.price,"onUpdate:modelValue":y[3]||(y[3]=p=>u.item.price=p),label:"Harga",readonly:!u.item.price_editable,"hide-bottom-space":"",disable:u.isProcessing},null,8,["modelValue","readonly","disable"]),e(Ee,{modelValue:b.value,"onUpdate:modelValue":y[4]||(y[4]=p=>b.value=p),label:"Subtotal","hide-bottom-space":"",readonly:""},null,8,["modelValue"]),e(ae,{modelValue:u.item.notes,"onUpdate:modelValue":y[5]||(y[5]=p=>u.item.notes=p),label:"Catatan",autogrow:"",type:"textarea",counter:"",maxlength:"50","hide-bottom-space":"",clearable:""},null,8,["modelValue"])]),_:1}),e(gt,{align:"right"},{default:l(()=>[X(e(U,{flat:"",label:"Batal",color:"primary",disable:u.isProcessing},null,8,["disable"]),[[re]]),X(e(U,{flat:"",label:"Simpan",color:"primary",onClick:i,disable:u.isProcessing},null,8,["disable"]),[[re]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},jf=Object.freeze(Object.defineProperty({__proto__:null,default:uo},Symbol.toStringTag,{value:"Module"})),Mf={key:0,class:"q-select__selected-item"},Af={__name:"CustomerAutocomplete",props:{modelValue:{type:[Object],default:null},class:{type:String,default:""},label:{type:String,default:"Cari Pelanggan"},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},disable:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},minLength:{type:Number,default:0},initialData:{type:Object,default:null,required:!1}},emits:["update:modelValue","customerSelected"],setup(u,{expose:n,emit:m}){const o=q(null),s=u,i=m,b=q([]);let c=null;const d=q(s.modelValue);$e(()=>{s.initialData&&(d.value=s.initialData)}),Ne(d,y=>{i("update:modelValue",y),i("customerSelected",y)}),Ne(()=>s.modelValue,y=>{d.value=y}),n({focus:()=>{o.value&&o.value.focus()}});const _=(y,p)=>{if(y.length<s.minLength){p(()=>{b.value=[]});return}c&&clearTimeout(c),c=setTimeout(()=>{it.get(`/web-api/customers?q=${y}`).then(C=>{p(()=>{b.value=C.data.data})}).catch(C=>{console.error("Gagal mengambil data pelanggan:",C),p(()=>{b.value=[]})})},500)};return(y,p)=>(g(),R(se,{class:ye(u.class),ref_key:"qSelectRef",ref:o,modelValue:d.value,"onUpdate:modelValue":p[0]||(p[0]=C=>d.value=C),"use-input":"","input-debounce":"0",label:u.label,options:b.value,onFilter:_,clearable:"",error:u.error,behavior:"menu","error-message":u.errorMessage,disable:u.disable,"hide-bottom-space":"",outlined:u.outlined,style:{"min-width":"150px !important"},"option-value":"id","option-label":"name"},{option:l(C=>[e(ee,un(mn(C.itemProps)),{default:l(()=>[e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>[v(r(C.opt.name),1)]),_:2},1024),e(ge,{caption:""},{default:l(()=>[e(x,{name:"person",size:"14px"}),v(" "+r(C.opt.username),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),"selected-item":l(C=>[C.opt?(g(),h("div",Mf,r(C.opt.name)+" ("+r(C.opt.username)+") ",1)):k("",!0)]),_:1},8,["class","modelValue","label","options","error","error-message","disable","outlined"]))}},Ef={__name:"HelpDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(u,{emit:n}){return(m,o)=>(g(),R(vt,{"model-value":u.modelValue,"onUpdate:modelValue":o[0]||(o[0]=s=>m.$emit("update:modelValue",s))},{default:l(()=>[e(ie,{style:{"min-width":"300px"}},{default:l(()=>[e(le,{class:"q-py-none q-pt-md"},{default:l(()=>o[1]||(o[1]=[a("div",{class:"text-bold text-grey-8"},"Bantuan",-1)])),_:1}),e(le,null,{default:l(()=>o[2]||(o[2]=[a("table",{style:{width:"100%"},class:"info-table"},[a("thead",null,[a("tr",null,[a("th",null,"Shortcut"),a("th",null,"Aksi")])]),a("tbody",null,[a("tr",null,[a("td",null,"F1"),a("td",null,"Dialog Bantuan")]),a("tr",null,[a("td",null,"F2"),a("td",null,"Aktifkan Input Barcode")]),a("tr",null,[a("td",null,"F3"),a("td",null,"Pilih Pelanggan")]),a("tr",null,[a("td",null,"F4"),a("td",null,"Gabung / pisahkan item saat input")])])],-1)])),_:1}),e(gt,{align:"center"},{default:l(()=>[X(e(U,{dense:"",label:"Tutup"},null,512),[[re]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},mo=ft(Ef,[["__scopeId","data-v-ed1bbfe5"]]),Nf=Object.freeze(Object.defineProperty({__proto__:null,default:mo},Symbol.toStringTag,{value:"Module"}));function Bf(u){const n=q(!1),m=()=>{const i=u.value||document.documentElement;i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.msRequestFullscreen&&i.msRequestFullscreen()},o=()=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},s=()=>{n.value?o():m()};return cn(()=>{const i=()=>{n.value=!!document.fullscreenElement};return document.addEventListener("fullscreenchange",i),document.addEventListener("webkitfullscreenchange",i),document.addEventListener("mozfullscreenchange",i),document.addEventListener("MSFullscreenChange",i),()=>{document.removeEventListener("fullscreenchange",i),document.removeEventListener("webkitfullscreenchange",i),document.removeEventListener("mozfullscreenchange",i),document.removeEventListener("MSFullscreenChange",i)}}),{isFullscreen:n,requestFullscreen:m,exitFullscreen:o,toggleFullscreen:s}}const zf={class:"row items-center no-wrap"},Ff={class:"col text-subtite text-bold text-grey-8"},Lf={class:"col-auto"},co={__name:"OrderInfoDialog",props:{modelValue:{type:Boolean,required:!0},data:{type:Object,required:!1},isProcessing:{type:Boolean,required:!1}},emits:["update:modelValue","save"],setup(u,{expose:n,emit:m}){const o=u,s=m,i=()=>{s("save")},b=f=>{f.stopPropagation(),f.preventDefault()},c=f=>{o.modelValue&&(f.key==="Enter"?(i(),b(f)):f.key==="Escape"&&(s("update:modelValue",!1),b(f)))};return $e(()=>{window.addEventListener("keydown",c)}),oa(()=>{window.removeEventListener("keydown",c)}),n({getCurrentItem:()=>o.item}),(f,_)=>(g(),R(vt,{"model-value":u.modelValue,"onUpdate:modelValue":_[4]||(_[4]=y=>f.$emit("update:modelValue",y))},{default:l(()=>[e(ie,null,{default:l(()=>[e(le,{class:"q-py-sm"},{default:l(()=>[a("div",zf,[a("div",Ff," Edit "+r(u.data.formatted_id),1),a("div",Lf,[e(U,{flat:"",size:"sm",round:"",icon:"close",onClick:_[0]||(_[0]=y=>f.$emit("update:modelValue",!1))})])])]),_:1}),e(le,{class:"q-py-sm"},{default:l(()=>[e(Ut,{modelValue:u.data.datetime,"onUpdate:modelValue":_[1]||(_[1]=y=>u.data.datetime=y),label:"Waktu","hide-bottom-space":"",disable:u.isProcessing,autofocus:""},null,8,["modelValue","disable"]),e(ae,{modelValue:f.$CONSTANTS.SALES_ORDER_STATUSES[u.data.status],"onUpdate:modelValue":_[2]||(_[2]=y=>f.$CONSTANTS.SALES_ORDER_STATUSES[u.data.status]=y),label:"Status","hide-bottom-space":"",readonly:"",disable:u.isProcessing},null,8,["modelValue","disable"]),e(ae,{modelValue:u.data.notes,"onUpdate:modelValue":_[3]||(_[3]=y=>u.data.notes=y),label:"Catatan",autogrow:"",type:"textarea",counter:"",maxlength:"50","hide-bottom-space":"",clearable:""},null,8,["modelValue"])]),_:1}),e(gt,{align:"right"},{default:l(()=>[X(e(U,{flat:"",label:"Batal",color:"primary",disable:u.isProcessing},null,8,["disable"]),[[re]]),X(e(U,{flat:"",label:"Simpan",color:"primary",onClick:i,disable:u.isProcessing},null,8,["disable"]),[[re]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Hf=Object.freeze(Object.defineProperty({__proto__:null,default:co},Symbol.toStringTag,{value:"Module"})),Yf={key:0},Kf={style:{float:"right"}},Qf={key:1},Wf={style:{float:"right"}},Jf={key:2},Gf={style:{float:"right"}},Xf={key:3},Zf={style:{float:"right"}},eg={style:{float:"right"}},tg={class:"q-gutter-sm"},ag={class:"q-my-md"},lg={__name:"SuccessDialog",props:{modelValue:{type:Boolean,required:!0},order:{type:Object,required:!0},total:{type:Number,required:!0},customer:{type:[Object],required:!1},payment:{type:[Object],required:!1}},emits:["update:modelValue"],setup(u,{emit:n}){const m=q(null),o=()=>{var s;(s=m.value)==null||s.focus()};return(s,i)=>(g(),R(vt,{"model-value":u.modelValue,"onUpdate:modelValue":i[0]||(i[0]=b=>s.$emit("update:modelValue",b)),onBeforeShow:o,persistent:""},{default:l(()=>[e(ie,{style:{"min-width":"300px"}},{default:l(()=>[e(le,{class:"q-py-none q-pt-md"},{default:l(()=>i[1]||(i[1]=[a("div",{class:"text-bold text-grey-8 text-h6",align:"center"},"Sukses",-1)])),_:1}),e(le,{align:"center"},{default:l(()=>[i[22]||(i[22]=a("div",{class:"q-mb-md"},"Transaksi Berhasil",-1)),a("table",null,[a("tbody",null,[a("tr",null,[i[2]||(i[2]=a("td",null,"ID",-1)),i[3]||(i[3]=a("td",null,":",-1)),a("td",null,r(u.order.formatted_id),1)]),u.customer?(g(),h("tr",Yf,[i[5]||(i[5]=a("td",{style:{"vertical-align":"top"}},"Pelanggan",-1)),i[6]||(i[6]=a("td",{style:{"vertical-align":"top"}},":",-1)),a("td",null,[v(r(u.customer.name)+" ",1),i[4]||(i[4]=a("br",null,null,-1)),v(r(u.customer.username),1)])])):k("",!0),a("tr",null,[i[8]||(i[8]=a("td",null,"Total",-1)),i[9]||(i[9]=a("td",null,":",-1)),a("td",null,[i[7]||(i[7]=v(" Rp. ")),a("div",Kf,r(t(Y)(u.payment.total)),1)])]),u.payment.cash_amount?(g(),h("tr",Qf,[i[11]||(i[11]=a("td",null,"Tunai",-1)),i[12]||(i[12]=a("td",null,":",-1)),a("td",null,[i[10]||(i[10]=v(" Rp. ")),a("div",Wf,r(t(Y)(u.payment.cash_amount)),1)])])):k("",!0),u.payment.wallet_amount?(g(),h("tr",Jf,[i[14]||(i[14]=a("td",null,"Wallet",-1)),i[15]||(i[15]=a("td",null,":",-1)),a("td",null,[i[13]||(i[13]=v(" Rp. ")),a("div",Gf,r(t(Y)(u.payment.wallet_amount)),1)])])):k("",!0),u.payment.remaining_debt?(g(),h("tr",Xf,[i[17]||(i[17]=a("td",null,"Piutang",-1)),i[18]||(i[18]=a("td",null,":",-1)),a("td",null,[i[16]||(i[16]=v(" Rp. ")),a("span",Zf,r(t(Y)(u.payment.remaining_debt)),1)])])):k("",!0),a("tr",null,[i[20]||(i[20]=a("td",null,"Kembalian",-1)),i[21]||(i[21]=a("td",null,":",-1)),a("td",null,[i[19]||(i[19]=v(" Rp. ")),a("div",eg,r(t(Y)(u.payment.change)),1)])])])])]),_:1}),e(gt,{align:"center"},{default:l(()=>[a("div",tg,[e(U,{autofocus:"",label:"Cetak Struk",icon:"print",ref_key:"printButtonRef",ref:m,color:"green"},null,512),e(U,{label:"Transaksi Baru",icon:"edit",color:"primary"})]),a("div",ag,[e(U,{label:"Kembali ke daftar transaksi",icon:"arrow_back"})])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},po=ft(lg,[["__scopeId","data-v-79f1f7a4"]]),og=Object.freeze(Object.defineProperty({__proto__:null,default:po},Symbol.toStringTag,{value:"Module"})),ng={class:"q-gutter-sm"},sg={class:"row items-center"},rg={class:"text-weight-bold"},ig={class:"row q-col-gutter-none full-width"},dg={class:"col-sm-6 col-12 col"},ug={class:"row full-width"},mg={class:"text-grey q-mt-xs q-ml-sm"},cg={class:"col-sm-6 col-12"},pg={class:"row q-ml-sm items-end"},fg={class:"row col grow"},gg={class:"col-12 q-pa-sm column"},bg={class:"row items-start q-col-gutter-none q-px-sm",style:{"max-height":"80px"}},vg={key:0,class:"col"},_g={class:"text-caption text-grey-6 q-mt-xs"},yg={key:0,class:"text-caption text-grey-8 q-mt-xs"},wg={class:"text-italic"},kg={key:1,class:"col"},$g={class:"q-pa-sm q-pb-none text-grey-8"},hg={class:"col"},xg={class:"row no-wrap items-start justify-between",style:{background:"#eee",padding:"10px",border:"1px solid #ddd"}},Sg={class:"text-h4 text-weight-bold"},Vg={class:"row q-px-sm q-pb-none q-py-sm q-col-gutter-sm"},qg={class:"col q-py-sm"},Cg={class:"q-py-sm"},Tg={__name:"Editor",setup(u){const n=we(),m=me(),o=q(!0),s=q(null),i=q(null),b=q(null),c=q(!1),d=q(null),f=q(null),{isFullscreen:_,toggleFullscreen:y}=Bf(f),p=m.props.data.formatted_id,C=q(m.props.data.customer),S=q(null),$=q(""),E=q(!1),I=q(!1),w=q(!1),P=q(!1),N=q(!1),V=q(!1),T=q(null),D=Pe({id:m.props.data.id,formatted_id:m.props.data.formatted_id,customer_id:m.props.data.customer_id,datetime:new Date(m.props.data.datetime),status:m.props.data.status,payment_status:m.props.data.payment_status,delivery_status:m.props.data.delivery_status,notes:m.props.data.notes,items:m.props.data.details??[]}),B=J(()=>D.items.reduce((ue,K)=>ue+K.price*K.quantity,0)),A=()=>{var ue;y(),_.value||(ue=d==null?void 0:d.value)==null||ue.hideDrawer()},O=ue=>isNaN(ue)||ue<=0?(Et("Kuantitas tidak valid.","top"),!1):!0,Z=ue=>isNaN(ue)||ue<0?(Et("Harga tidak valid.","top"),!1):!0,de=ue=>!ue||ue.length==0?(Et("Barcode tidak valid.","top"),!1):!0,j=ue=>{$.value.endsWith("*")?$.value+=ue.name:$.value=ue.name},F=async()=>{const ue=$.value.trim();if(ue.length===0){w.value=!0;return}const K=ue.split("*");let Se=1,he="",pe=null;if(K.length===1)he=K[0];else if(K.length<=3)Se=parseInt(K[0]),he=K[1],K.length===3&&(pe=parseFloat(K[2]));else{Et("Input tidak valid.","top");return}if(he.length===0){w.value=!0;return}!de(he)&&!O(Se)&&!Z(pe)||(E.value=!0,await it.post(route("admin.sales-order.add-item"),{order_id:D.id,product_code:he,qty:Se,price:pe,merge:o.value}).then(Ze=>{const mt=Ze.data.data.item;let ct=-1;Ze.data.data.mergeItem&&(ct=D.items.findIndex(sa=>sa.id===mt.id)),ct===-1?D.items.push(mt):D.items[ct]=mt,$.value="",pe!==null&&pe!==parseFloat(mt.price)&&Et("Harga tidak dapat diubah!","top")}).catch(Ze=>{var mt,ct;Nt((ct=(mt=Ze.response)==null?void 0:mt.data)==null?void 0:ct.message,"top"),console.error("Gagal mengambil data produk:",Ze)}),E.value=!1,Tt(()=>{var Ze;(Ze=s.value)==null||Ze.focus()}))},G=ue=>{T.value=Object.create(ue),P.value=!0},ke=ue=>{n.dialog({title:"Hapus Item",message:`Apakah Anda yakin akan menghapus item ${ue.product_name}?`,cancel:{label:"Batal",color:"grey"},ok:{label:"Hapus",color:"negative"},persistent:!0}).onOk(()=>{E.value=!0,it.post(route("admin.sales-order.remove-item"),{id:ue.id}).then(()=>{const K=D.items.findIndex(Se=>Se.id===ue.id);K!==-1&&(D.items.splice(K,1)[0],Bt("Item telah dihapus","top"))}).catch(K=>{var Se,he;Nt(((he=(Se=K==null?void 0:K.response)==null?void 0:Se.data)==null?void 0:he.message)??"Terdapat kesalahan saat menghapus item!","top"),console.error(K)}).finally(()=>{E.value=!1})})},te=()=>{E.value=!0;const ue=i.value.getCurrentItem(),K={id:ue.id,qty:ue.quantity};ue.price_editable&&(K.price=ue.price),ue.notes&&(K.notes=ue.notes),it.post(route("admin.sales-order.update-item"),K).then(Se=>{const he=Se.data.data,pe=D.items.findIndex(Ze=>Ze.id===he.id);pe!==-1&&(D.items[pe]=he,Bt("Item telah diperbarui","top"))}).catch(Se=>{var he,pe;Nt(((pe=(he=Se==null?void 0:Se.response)==null?void 0:he.data)==null?void 0:pe.message)??"Terdapat kesalahan saat menyimpan!","top"),console.error(Se)}).finally(()=>{E.value=!1})};$e(()=>{const ue=K=>{K.key==="F1"?(K.preventDefault(),c.value=!0):K.key==="F2"?(K.preventDefault(),s.value.focus()):K.key==="F3"?(K.preventDefault(),b.value.focus()):K.key==="F4"?(K.preventDefault(),o.value=!o.value):K.key==="F10"?(K.preventDefault(),I.value=!0):K.key==="F11"&&(K.preventDefault(),A())};document.addEventListener("keydown",ue),oa(()=>{document.removeEventListener("keydown",ue)}),Tt(()=>{var K;(K=d==null?void 0:d.value)==null||K.hideDrawer()})});const Te=ue=>{C.value=ue,D.customer_id=ue==null?void 0:ue.id,Fe(),Tt(()=>{var K;(K=s.value)==null||K.focus()})},Fe=()=>{E.value=!0;const ue={id:D.id,customer_id:D.customer_id,datetime:ga(D.datetime),notes:D.notes};it.post(route("admin.sales-order.update"),ue).then(K=>{const Se=K.data.data.id;D.customer_id=Se.customer_id}).catch(K=>{var Se,he;Nt(((he=(Se=K==null?void 0:K.response)==null?void 0:Se.data)==null?void 0:he.message)??"Terdapat kesalahan saat menyimpan!","top"),console.error(K)}).finally(()=>{E.value=!1})},ut=ue=>{if(D.items.length===0){Bt("Item masih kosong","top");return}const K={id:D.id,...ue};E.value=!0,it.post(route("admin.sales-order.close"),K).then(Se=>{Bt("Transaksi selesai"),W.visit(route("admin.sales-order.detail",{id:D.id}))}).catch(Se=>{var he,pe;Nt((pe=(he=Se.response)==null?void 0:he.data)==null?void 0:pe.message),console.error(Se)}).finally(()=>{E.value=!1})},dt=()=>{ka.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${D.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{it.post(route("admin.sales-order.cancel",{id:D.id}),{id:D.id}).then(()=>{Bt("Transaksi telah dibatalkan."),W.visit(route("admin.sales-order.detail",{id:D.id}))}).catch(ue=>{var Se,he;const K=((he=(Se=ue.response)==null?void 0:Se.data)==null?void 0:he.message)||"Terjadi kesalahan saat membatalkan transaksi.";n.notify({message:K,color:"warning",position:"bottom"}),console.error(ue)})})},_t=()=>{window.open(route("admin.sales-order.detail",{id:D.id})+"?preview=1","_blank")};return(ue,K)=>{const Se=L("i-head"),he=L("authenticated-layout");return g(),h(H,null,[e(Se,{title:t(p)},null,8,["title"]),e(he,{ref_key:"authLayoutRef",ref:d,"show-drawer-button":!0},{title:l(()=>[v(r(t(p)),1)]),"left-button":l(()=>[a("div",ng,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:K[0]||(K[0]=pe=>t(W).get(ue.route("admin.sales-order.index")))})])]),"right-button":l(()=>[a("div",sg,[t(n).screen.gt.sm?(g(),h(H,{key:0},[a("div",rg,r(t(m).props.auth.user.username),1),K[22]||(K[22]=a("div",{class:"q-mx-sm"},"|",-1)),a("div",null,[e(Xl)])],64)):k("",!0),k("",!0)])]),default:l(()=>[e(xe,{class:"bg-grey-2 q-pa-none column fit"},{default:l(()=>[e(ie,{square:"",flat:"",class:"full-width col column q-pb-none"},{default:l(()=>[a("div",ig,[a("div",dg,[a("div",ug,[e(Af,{ref_key:"customerAutocompleteRef",ref:b,class:"custom-select full-width col col-12 bg-white q-pa-sm",modelValue:C.value,"onUpdate:modelValue":K[2]||(K[2]=pe=>C.value=pe),label:"Pelanggan",disable:E.value,onCustomerSelected:Te,"min-length":1,outlined:"",autofocus:""},null,8,["modelValue","disable"]),a("div",mg," Saldo: "+r(C.value?"Rp. "+t(Y)(C.value?C.value.balance:0):"Tidak tersedia"),1)])]),a("div",cg,[e(ae,{ref_key:"userInputRef",ref:s,modelValue:$.value,"onUpdate:modelValue":K[5]||(K[5]=pe=>$.value=pe),onKeyup:K[6]||(K[6]=zt(Q(pe=>F(),["prevent"]),["enter"])),loading:E.value,disable:E.value,placeholder:"Qty * Kode / Barcode * Harga",class:"col col-12 q-pa-sm bg-white",outlined:"",clearable:""},{prepend:l(()=>[e(x,{name:"search",onClick:K[3]||(K[3]=pe=>w.value=!0),class:"cursor-pointer"})]),append:l(()=>{var pe;return[((pe=$.value)==null?void 0:pe.length)>0?(g(),R(x,{key:0,name:"send",onClick:K[4]||(K[4]=Ze=>F()),class:"cursor-pointer q-ml-md"})):k("",!0)]}),_:1},8,["modelValue","loading","disable"]),a("div",pg,[e(qt,{class:"col",modelValue:o.value,"onUpdate:modelValue":K[7]||(K[7]=pe=>o.value=pe),label:"Gabungkan item",disable:E.value},null,8,["modelValue","disable"])])])]),a("div",fg,[a("div",gg,[e(ro,{items:D.items,onUpdateQuantity:K[8]||(K[8]=({id:pe,value:Ze})=>ue.updateQuantity(pe,Ze)),onRemoveItem:ke,onEditItem:G,"is-processing":E.value},null,8,["items","is-processing"])])]),a("div",bg,[t(n).screen.gt.sm?(g(),h("div",vg,[a("div",_g,r(D.items.length)+" item(s) ",1),D.notes?(g(),h("div",yg,[K[23]||(K[23]=a("div",{class:"text-bold"},"Catatan:",-1)),a("div",wg,[e(ve,{text:D.notes},null,8,["text"])])])):k("",!0)])):k("",!0),t(n).screen.gt.sm?(g(),h("div",kg,[a("div",$g,[a("div",null,"#: "+r(D.formatted_id),1),a("div",null,r(t(be)(D.datetime)),1)])])):k("",!0),a("div",hg,[a("div",xg,[K[25]||(K[25]=a("span",{class:"text-grey-8 text-subtitle-2 text-bold"},"TOTAL",-1)),a("span",Sg,[K[24]||(K[24]=a("sup",{style:{"font-size":"13px"}},"Rp.",-1)),v(" "+r(t(Y)(B.value)),1)])])])]),a("div",Vg,[a("div",qg,[e(U,{class:"full-width q-py-none",label:"Bayar",color:"primary",icon:"payment",onClick:K[9]||(K[9]=pe=>I.value=!0),disable:!ue.$can("admin.sales-order.close")||E.value||D.items.length===0||D.status!=="draft",loading:E.value},null,8,["disable","loading"])]),a("div",Cg,[e(U,{class:"q-py-none",icon:"more_vert",color:"grey",onClick:K[13]||(K[13]=Q(()=>{},["stop"])),style:{width:"10px"}},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(je,{style:{width:"200px"}},{default:l(()=>[X((g(),R(ee,{clickable:"",onClick:K[10]||(K[10]=Q(pe=>N.value=!0,["stop"]))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"edit"})]),_:1}),e(M,null,{default:l(()=>K[26]||(K[26]=[v("Edit Rincian")])),_:1})]),_:1})),[[ne],[re]]),X((g(),R(ee,{clickable:"",onClick:K[11]||(K[11]=Q(pe=>_t(),["stop"]))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"preview"})]),_:1}),e(M,null,{default:l(()=>K[27]||(K[27]=[v("Pratinjau")])),_:1})]),_:1})),[[ne],[re]]),X((g(),R(ee,{clickable:"",onClick:K[12]||(K[12]=Q(pe=>dt(),["stop"]))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"cancel",color:"negative"})]),_:1}),e(M,{class:"text-negative"},{default:l(()=>K[28]||(K[28]=[v(" Batalkan ")])),_:1})]),_:1})),[[ne],[re]]),e(st)]),_:1})]),_:1})]),_:1})])])]),_:1}),e(uo,{ref_key:"itemEditorRef",ref:i,modelValue:P.value,"onUpdate:modelValue":K[14]||(K[14]=pe=>P.value=pe),item:T.value,onSave:K[15]||(K[15]=pe=>te()),"is-processing":E.value},null,8,["modelValue","item","is-processing"]),e(io,{modelValue:I.value,"onUpdate:modelValue":K[16]||(K[16]=pe=>I.value=pe),onAccepted:ut,form:D,customer:C.value,total:B.value,accounts:t(m).props.accounts},null,8,["modelValue","form","customer","total","accounts"]),e(Df,{modelValue:w.value,"onUpdate:modelValue":K[17]||(K[17]=pe=>w.value=pe),onProductSelected:j},null,8,["modelValue"]),e(co,{modelValue:N.value,"onUpdate:modelValue":K[18]||(K[18]=pe=>N.value=pe),data:D,onSave:K[19]||(K[19]=pe=>Fe()),"is-processing":E.value},null,8,["modelValue","data","is-processing"]),e(mo,{modelValue:c.value,"onUpdate:modelValue":K[20]||(K[20]=pe=>c.value=pe)},null,8,["modelValue"]),e(po,{modelValue:V.value,"onUpdate:modelValue":K[21]||(K[21]=pe=>V.value=pe),order:D,customer:C.value,total:B.value,payment:S.value},null,8,["modelValue","order","customer","total","payment"])]),_:1})]),_:1},512)],64)}}},Pg=Object.freeze(Object.defineProperty({__proto__:null,default:Tg},Symbol.toStringTag,{value:"Module"})),Og={__name:"SalesOrderStatusChip",props:{status:{type:String,required:!0}},setup(u){const n=window.CONSTANTS.SALES_ORDER_STATUSES,m={draft:"orange",closed:"green",canceled:"red"};return(o,s)=>(g(),R(Tl,{status:u.status,statuses:t(n),colors:m},null,8,["status","statuses"]))}},Ig={__name:"SalesOrderPaymentStatusChip",props:{status:{type:String,required:!0}},setup(u){const n=window.CONSTANTS.SALES_ORDER_PAYMENT_STATUSES,m={unpaid:"red",fully_paid:"green",partially_paid:"orange",refunded:"black"};return(o,s)=>(g(),R(Tl,{status:u.status,statuses:t(n),colors:m},null,8,["status","statuses"]))}};const Dg={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Rg={class:"q-pa-xs"},Ug={class:"full-width row flex-center text-grey-8 q-gutter-sm"},jg={key:0},Mg={key:1},Ag={key:2},Eg={key:3},Ng={key:0},Bg={key:1},zg={key:0},Fg={key:0},Lg={key:1},Hg={class:"flex justify-end"},ul="Penjualan",Yg={__name:"Index",setup(u){const n=we(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),c=We(b),d=Ft(),f=Lt(),_=[{label:"Semua Tahun",value:"all"},{label:`${d}`,value:d},...Pt(d-2,d-1).reverse()],y=[{value:"all",label:"Semua Bulan"},...Ot()],p=[{value:"all",label:"Semua Status"},...Ke(window.CONSTANTS.SALES_ORDER_STATUSES)],C=[{value:"all",label:"Semua Status"},...Ke(window.CONSTANTS.SALES_ORDER_PAYMENT_STATUSES)],S=[{value:"all",label:"Semua Status"},...Ke(window.CONSTANTS.SALES_ORDER_DELIVERY_STATUSES)],$=Pe({search:"",year:d,month:f,status:"all",payment_status:"all",delivery_status:"all",...Ie()}),E=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),I=[{name:"id",label:"Info Order",field:"id",align:"left",sortable:!0},{name:"cashier_id",label:"Kasir",field:"cashier_id",align:"left"},{name:"customer_id",label:"Pelanggan",field:"customer_id",align:"left"},{name:"total",label:"Total",field:"total",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}];$e(()=>{D()});const w=O=>{if(O.status=="draft"){P(O);return}N(O)},P=O=>{W.get(route("admin.sales-order.edit",O.id))},N=O=>{W.get(route("admin.sales-order.detail",O.id))},V=O=>{ka.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${O.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{it.post(route("admin.sales-order.cancel",{id:O.id}),{id:O.id}).then(Z=>{const de=Z.data.data,j=o.value.findIndex(F=>F.id===de.id);if(j===-1){console.warn("Item tidak ditemukan di tabel.");return}o.value[j].status="canceled",n.notify({message:Z.data.message,position:"bottom"})}).catch(Z=>{var j,F;const de=((F=(j=Z.response)==null?void 0:j.data)==null?void 0:F.message)||"Terjadi kesalahan saat membatalkan transaksi.";n.notify({message:de,color:"warning",position:"bottom"}),console.error(Z)})})},T=O=>Ge({title:"Konfirmasi Penghapusan",message:`Hapus transaksi #${O.formatted_id}?`,url:route("admin.sales-order.delete",O.id),fetchItemsCallback:D,loading:s}),D=(O=null)=>{De({pagination:E,filter:$,props:O,rows:o,url:route("admin.sales-order.data"),loading:s,tableRef:i})},B=()=>{D()},A=J(()=>n.screen.gt.sm?I:I.filter(O=>O.name==="id"||O.name==="action"));return Ne(()=>$.year,O=>{O===null&&($.month=null)}),(O,Z)=>{const de=L("i-head"),j=L("authenticated-layout");return g(),h(H,null,[e(de,{title:ul}),e(j,null,Ye({title:l(()=>[v(r(ul))]),"right-button":l(()=>[e(U,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:Z[0]||(Z[0]=F=>m.value=!m.value)},null,8,["icon"]),O.$can("admin.sales-order.edit")?(g(),R(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:Z[1]||(Z[1]=F=>t(W).get(O.route("admin.sales-order.add")))})):k("",!0)]),default:l(()=>[a("div",Rg,[e(Ce,{ref_key:"tableRef",ref:i,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:E.value,"onUpdate:pagination":Z[11]||(Z[11]=F=>E.value=F),filter:$.search,loading:s.value,columns:A.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Ae({height:t(c)}),onRequest:D,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:F,message:G,filter:ke})=>[a("div",Ug,[a("span",null,r(G)+" "+r(ke?" with term "+ke:""),1)])]),body:l(F=>[e(Ve,{props:F,class:"cursor-pointer",onClick:Q(G=>w(F.row),["prevent"])},{default:l(()=>[e(z,{key:"id",props:F,class:"wrap-column"},{default:l(()=>{var G,ke,te;return[a("div",null,[e(x,{name:"tag"}),v(" "+r(F.row.formatted_id),1)]),a("div",null,[e(x,{class:"inline-icon",name:"calendar_today"}),v(r(t(be)(F.row.datetime)),1)]),t(n).screen.gt.sm?k("",!0):(g(),h(H,{key:0},[F.row.cashier?(g(),h("div",jg,[e(x,{name:"person",class:"inline-icon"}),v(" Kasir: "+r((G=F.row.cashier)==null?void 0:G.username),1)])):k("",!0),F.row.cashier_session?(g(),h("div",Mg,[e(x,{name:"point_of_sale",class:"inline-icon"}),v(" Terminal: "+r((te=(ke=F.row.cashier_session)==null?void 0:ke.cashier_terminal)==null?void 0:te.name),1)])):k("",!0),F.row.customer?(g(),h("div",Ag,[e(x,{name:"person",class:"inline-icon"}),e(pn,{href:O.route("admin.customer.detail",{id:F.row.customer.id}),onClick:Z[8]||(Z[8]=Q(()=>{},["stop"]))},{default:l(()=>[v(" "+r(F.row.customer.username)+" - "+r(F.row.customer.name),1)]),_:2},1032,["href"])])):k("",!0),a("div",null,"Rp. "+r(t(Y)(F.row.grand_total)),1),F.row.notes?(g(),h("div",Eg,[e(x,{name:"notes"}),v(" "+r(F.row.notes),1)])):k("",!0)],64)),a("div",null,[e(Og,{status:F.row.status},null,8,["status"]),e(Ig,{status:F.row.payment_status},null,8,["status"]),k("",!0)])]}),_:2},1032,["props"]),e(z,{key:"cashier_id",props:F},{default:l(()=>{var G,ke,te;return[F.row.cashier?(g(),h("div",Ng,[e(x,{name:"person",class:"inline-icon"}),v(" "+r((G=F.row.cashier)==null?void 0:G.username),1)])):k("",!0),F.row.cashier_session?(g(),h("div",Bg,[e(x,{name:"point_of_sale",class:"inline-icon"}),v(" "+r((te=(ke=F.row.cashier_session)==null?void 0:ke.cashier_terminal)==null?void 0:te.name),1)])):k("",!0)]}),_:2},1032,["props"]),e(z,{key:"customer_id",props:F},{default:l(()=>[F.row.customer?(g(),h("div",zg,[a("div",null,[e(x,{name:"person",class:"inline-icon"}),v(" "+r(F.row.customer_username)+" - "+r(F.row.customer_name),1)]),F.row.customer_phone?(g(),h("div",Fg,[e(x,{name:"phone",class:"inline-icon"}),v(" "+r(F.row.customer_phone),1)])):k("",!0),F.row.customer_address?(g(),h("div",Lg,[e(x,{name:"home_pin",class:"inline-icon"}),v(" "+r(F.row.customer_address),1)])):k("",!0)])):k("",!0)]),_:2},1032,["props"]),e(z,{key:"total",props:F},{default:l(()=>[v(r(t(Y)(F.row.grand_total)),1)]),_:2},1032,["props"]),e(z,{key:"notes",props:F},{default:l(()=>[e(ve,{text:F.row.notes,icon:"notes"},null,8,["text"])]),_:2},1032,["props"]),e(z,{key:"action",props:F,onClick:Z[10]||(Z[10]=Q(()=>{},["stop"]))},{default:l(()=>[a("div",Hg,[O.$can("admin.sales-order.detail")||O.$can("admin.sales-order.edit")||O.$can("admin.sales-order.cancel")||O.$can("admin.sales-order.delete")?(g(),R(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:Z[9]||(Z[9]=Q(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(je,{style:{width:"200px"}},{default:l(()=>[F.row.status!="draft"&&O.$can("admin.sales-order.detail")?X((g(),R(ee,{key:0,onClick:Q(G=>N(F.row),["stop"]),clickable:""},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"visibility"})]),_:1}),e(M,null,{default:l(()=>Z[12]||(Z[12]=[v(" Lihat ")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),F.row.status=="draft"&&O.$can("admin.sales-order.edit")?X((g(),R(ee,{key:1,onClick:Q(G=>P(F.row),["stop"]),clickable:""},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"edit"})]),_:1}),e(M,null,{default:l(()=>Z[13]||(Z[13]=[v(" Edit ")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),F.row.status=="draft"&&O.$can("admin.sales-order.cancel")?X((g(),R(ee,{key:2,onClick:Q(G=>V(F.row),["stop"]),clickable:""},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"cancel"})]),_:1}),e(M,null,{default:l(()=>Z[14]||(Z[14]=[v(" Batalkan ")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),e(st),O.$can("admin.sales-order.delete")?X((g(),R(ee,{key:3,onClick:Q(G=>T(F.row),["stop"]),clickable:""},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"delete_forever"})]),_:1}),e(M,null,{default:l(()=>Z[15]||(Z[15]=[v(" Hapus ")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[a("div",Dg,[e(se,{modelValue:$.year,"onUpdate:modelValue":[Z[2]||(Z[2]=F=>$.year=F),B],options:_,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),$.year!="all"?(g(),R(se,{key:0,modelValue:$.month,"onUpdate:modelValue":[Z[3]||(Z[3]=F=>$.month=F),B],options:y,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:$.year===null},null,8,["modelValue","disable"])):k("",!0),e(se,{modelValue:$.status,"onUpdate:modelValue":[Z[4]||(Z[4]=F=>$.status=F),B],options:p,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(se,{modelValue:$.payment_status,"onUpdate:modelValue":[Z[5]||(Z[5]=F=>$.payment_status=F),B],options:C,label:"Status Pembayaran",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),k("",!0),e(ae,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:$.search,"onUpdate:modelValue":Z[7]||(Z[7]=F=>$.search=F),placeholder:"Cari",clearable:""},{append:l(()=>[e(x,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Kg=Object.freeze(Object.defineProperty({__proto__:null,default:Yg},Symbol.toStringTag,{value:"Module"})),Qg={class:"q-gutter-sm"},Wg={class:"col col-md-6 q-pa-xs"},Jg={key:0},Gg={class:"text-bold"},Xg={key:0},Zg={class:"text-caption text-grey-8"},eb={key:1},ml="Buat Penyesuaian Stok",tb={__name:"Create",setup(u){const m=me().props.products,o=q([]),s=Be({type:"stock_opname",datetime:new Date,notes:null,product_ids:[]}),i=[{name:"name",label:"Nama Produk",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"center",sortable:!1,format:(_,y)=>Y(_)+" "+y.uom}],b=Ke(window.CONSTANTS.STOCK_ADJUSTMENT_TYPES),c=()=>{s.product_ids=o.value.map(_=>_.id),Yt(s,{datetime:"YYYY-MM-DD HH:mm:ss"}),ze({form:s,url:route("admin.stock-adjustment.create")})},d=we(),f=J(()=>d.screen.gt.sm?i:i.filter(_=>_.name==="name"));return(_,y)=>{const p=L("i-head"),C=L("authenticated-layout");return g(),h(H,null,[e(p,{title:ml}),e(C,{"show-drawer-button":!1},{title:l(()=>[v(r(ml))]),"left-button":l(()=>[a("div",Qg,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:y[0]||(y[0]=S=>t(W).get(_.route("admin.stock-adjustment.index")))})])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",Wg,[e(Me,{class:"row",onSubmit:Q(c,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-sm"},{default:l(()=>[y[6]||(y[6]=a("div",{class:"text-subtitle2"},[a("b",null,"Info Penyesuaian Stok")],-1)),e(Ut,{modelValue:t(s).datetime,"onUpdate:modelValue":y[1]||(y[1]=S=>t(s).datetime=S),label:"Waktu",error:!!t(s).errors.datetime,disable:t(s).processing,"error-message":t(s).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(se,{modelValue:t(s).type,"onUpdate:modelValue":y[2]||(y[2]=S=>t(s).type=S),options:t(b),label:"Jenis Penyesuaian",class:"custom-select",error:!!t(s).errors.type,disable:t(s).processing,"map-options":"","emit-value":"","error-message":t(s).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","error-message"]),e(ae,{modelValue:t(s).notes,"onUpdate:modelValue":y[3]||(y[3]=S=>t(s).notes=S),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(le,null,{default:l(()=>[y[7]||(y[7]=a("div",{class:"text-subtitle2"},[a("b",null,"Pilih Produk")],-1)),e(Ce,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:f.value,rows:t(m),"binary-state-sort":"","hide-pagination":!0,dense:"","rows-per-page-options":[0],selection:"multiple",selected:o.value,"onUpdate:selected":y[4]||(y[4]=S=>o.value=S)},{"body-cell-name":l(S=>[e(z,{props:S},{default:l(()=>[t(d).screen.lt.md?(g(),h("div",Jg,[a("div",Gg,r(S.row.name),1),S.row.category?(g(),h("div",Xg,r(S.row.category.name),1)):k("",!0),a("div",Zg,r(t(Y)(S.row.stock))+" "+r(S.row.uom),1)])):(g(),h("div",eb,r(S.row.name),1))]),_:2},1032,["props"])]),_:1},8,["columns","rows","selected"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"play_arrow",type:"submit",label:"Lanjutkan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:y[5]||(y[5]=S=>t(W).get(_.route("admin.stock-adjustment.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},ab=Object.freeze(Object.defineProperty({__proto__:null,default:tb},Symbol.toStringTag,{value:"Module"})),lb={class:"q-gutter-sm"},ob={class:"row justify-center"},nb={class:"col col-lg-8 q-pa-sm"},sb={class:"row"},rb={class:"detail"},ib={key:0},db={key:1},ub={class:"text-grey-9"},mb={__name:"Detail",setup(u){const n=me(),m=`Rincian Penyesuaian Stok #${n.props.data.id}`,o=n.props.details,s=[{name:"no",label:"#",field:"no",align:"left"},{name:"product_name",label:"Nama Produk",field:"product_name",align:"left"},{name:"uom",label:"Satuan",field:"uom",align:"left"},{name:"old_quantity",label:"Stok Lama",field:"old_quantity",align:"right",format:c=>Y(c)},{name:"new_quantity",label:"Stok Baru",field:"new_quantity",align:"right",format:c=>Y(c)},{name:"balance",label:"Selisih Stok",field:"balance",align:"right",format:c=>Y(c)},{name:"cost_balance",label:"Selisih Modal",field:"cost_balance",align:"right"},{name:"price_balance",label:"Selisih Harga",field:"price_balance",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}],i=we(),b=J(()=>i.screen.gt.sm?s:s.filter(c=>c.name==="no"));return(c,d)=>{const f=L("i-head"),_=L("i-link"),y=L("authenticated-layout");return g(),h(H,null,[e(f,{title:m}),e(y,{"show-drawer-button":!1},{title:l(()=>[v(r(m))]),"left-button":l(()=>[a("div",lb,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=p=>c.$inertia.get(c.route("admin.stock-adjustment.index")))})])]),default:l(()=>[a("div",ob,[a("div",nb,[a("div",sb,[e(ie,{square:"",flat:"",bordered:"",class:"q-card col"},{default:l(()=>[e(le,null,{default:l(()=>[d[21]||(d[21]=a("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Penyesuaian Stok ",-1)),a("table",rb,[a("tbody",null,[a("tr",null,[d[1]||(d[1]=a("td",{style:{width:"120px"}},"ID",-1)),d[2]||(d[2]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,"# "+r(t(n).props.data.id),1)]),a("tr",null,[d[3]||(d[3]=a("td",null,"Jenis",-1)),d[4]||(d[4]=a("td",null,":",-1)),a("td",null,r(c.$CONSTANTS.STOCK_ADJUSTMENT_TYPES[t(n).props.data.type]),1)]),a("tr",null,[d[5]||(d[5]=a("td",null,"Status",-1)),d[6]||(d[6]=a("td",null,":",-1)),a("td",null,r(c.$CONSTANTS.STOCK_ADJUSTMENT_STATUSES[t(n).props.data.status]),1)]),a("tr",null,[d[7]||(d[7]=a("td",null,"Waktu",-1)),d[8]||(d[8]=a("td",null,":",-1)),a("td",null,r(c.$dayjs(t(n).props.data.datetime).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)]),t(n).props.data.created_at?(g(),h("tr",ib,[d[10]||(d[10]=a("td",null,"Dibuat Oleh",-1)),d[11]||(d[11]=a("td",null,":",-1)),a("td",null,[t(n).props.data.created_by?(g(),h(H,{key:0},[e(_,{href:c.route("admin.user.detail",{id:t(n).props.data.created_by})},{default:l(()=>[v(r(t(n).props.data.created_by.username)+" - "+r(t(n).props.data.created_by.name),1)]),_:1},8,["href"]),d[9]||(d[9]=v(" - "))],64)):k("",!0),v(" "+r(c.$dayjs(new Date(t(n).props.data.created_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):k("",!0),t(n).props.data.updated_at?(g(),h("tr",db,[d[13]||(d[13]=a("td",null,"Diperbarui oleh",-1)),d[14]||(d[14]=a("td",null,":",-1)),a("td",null,[t(n).props.data.updated_by?(g(),h(H,{key:0},[e(_,{href:c.route("admin.user.detail",{id:t(n).props.data.updated_by})},{default:l(()=>[v(r(t(n).props.data.updated_by.username)+" - "+r(t(n).props.data.updated_by.name),1)]),_:1},8,["href"]),d[12]||(d[12]=v(" - "))],64)):k("",!0),v(" "+r(c.$dayjs(new Date(t(n).props.data.updated_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):k("",!0),a("tr",null,[d[15]||(d[15]=a("td",null,"Total Modal",-1)),d[16]||(d[16]=a("td",null,":",-1)),a("td",null,[a("div",{class:ye(t(n).props.data.total_cost<0?"text-red-10":t(n).props.data.total_cost>0?"text-green-10":"")}," Rp. "+r(t(Y)(t(n).props.data.total_cost)),3)])]),a("tr",null,[d[17]||(d[17]=a("td",null,"Total Harga",-1)),d[18]||(d[18]=a("td",null,":",-1)),a("td",null,[a("div",{class:ye(t(n).props.data.total_price<0?"text-red-10":t(n).props.data.total_price>0?"text-green-10":"")}," Rp. "+r(t(Y)(t(n).props.data.total_price)),3)])]),a("tr",null,[d[19]||(d[19]=a("td",null,"Catatan",-1)),d[20]||(d[20]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.notes),1)])])])]),_:1}),e(le,null,{default:l(()=>[d[26]||(d[26]=a("div",{class:"text-subtitle1 text-bold text-grey-9 q-pt-md"}," Rincian ",-1)),e(Ce,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",dense:"",columns:b.value,rows:t(o),"hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-no":l(p=>[e(z,{props:p},{default:l(()=>[t(i).screen.lt.md?(g(),h(H,{key:1},[a("div",ub,[a("b",null,"#"+r(p.rowIndex+1),1),v(" - "+r(p.row.product_name),1)]),a("div",null,[v(" Stok Lama: "+r(t(Y)(p.row.old_quantity))+" "+r(p.row.uom),1),d[23]||(d[23]=a("br",null,null,-1)),v(" Stok Baru: "+r(t(Y)(p.row.new_quantity))+" "+r(p.row.uom),1),d[24]||(d[24]=a("br",null,null,-1)),a("div",{class:ye(p.row.balance<0?"text-red-10":p.row.balance>0?"text-green-10":"")},[v(" Selisih: "+r((p.row.balance>0?"+":"")+t(Y)(p.row.balance))+" "+r(p.row.uom),1),d[22]||(d[22]=a("br",null,null,-1)),v(" (Rp. "+r(t(Y)(p.row.subtotal_cost))+" / Rp. "+r(t(Y)(p.row.subtotal_price))+") ",1)],2),d[25]||(d[25]=a("br",null,null,-1)),v(" "+r(p.row.notes),1)])],64)):(g(),h(H,{key:0},[v(r(p.rowIndex+1),1)],64))]),_:2},1032,["props"])]),"body-cell-balance":l(p=>[e(z,{props:p},{default:l(()=>[a("div",{class:ye(p.row.balance<0?"text-red-10":p.row.balance>0?"text-green-10":"")},r((p.row.balance>0?"+":"")+t(Y)(p.row.balance)),3)]),_:2},1032,["props"])]),"body-cell-cost_balance":l(p=>[e(z,{props:p},{default:l(()=>[a("div",{class:ye(p.row.balance<0?"text-red-10":p.row.balance>0?"text-green-10":"")},r(t(Y)(p.row.subtotal_cost)),3)]),_:2},1032,["props"])]),"body-cell-price_balance":l(p=>[e(z,{props:p},{default:l(()=>[a("div",{class:ye(p.row.balance<0?"text-red-10":p.row.balance>0?"text-green-10":"")},r(t(Y)(p.row.subtotal_price)),3)]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1})]),_:1})])])])]),_:1})],64)}}},cb=Object.freeze(Object.defineProperty({__proto__:null,default:mb},Symbol.toStringTag,{value:"Module"})),pb={class:"q-gutter-sm"},fb={class:"col col-md-6 q-pa-xs"},gb={class:"text-bold"},bb={key:0},vb={class:"text-caption text-grey-8"},cl="Penyesuaian Stok",_b={__name:"Editor",setup(u){const n=me(),m=Be({id:n.props.item.id,type:n.props.item.type,datetime:new Date(n.props.item.datetime),notes:n.props.item.notes,action:"save",details:[]}),o=Ke(window.CONSTANTS.STOCK_ADJUSTMENT_TYPES),s=n.props.details,i=f=>{const _=()=>{m.action=f,m.details=s.map(y=>({id:y.id,new_quantity:y.new_quantity})),Yt(m,{datetime:"YYYY-MM-DD HH:mm:ss"}),ze({form:m,url:route("admin.stock-adjustment.save")})};f==="close"||f==="cancel"?ka.create({title:"Konfirmasi",message:"Aksi ini tidak dapat dibatalkan, apakah Anda yakin?",cancel:!0,persistent:!0}).onOk(()=>{_()}).onCancel(()=>{}):_()},b=[{name:"product_name",label:"Nama Produk",field:"product_name",align:"left",sortable:!0},{name:"uom",label:"Satuan",field:"uom",align:"center"},{name:"old_quantity",label:"Tercatat",field:"old_quantity",align:"right",format:f=>Y(f)},{name:"new_quantity",label:"Aktual",field:"new_quantity",align:"right",format:f=>Y(f)},{name:"balance",label:"Selisih",field:"balance",align:"right",format:(f,_)=>Y(_.new_quantity-_.old_quantity)}],c=we(),d=J(()=>c.screen.gt.sm?b:b.filter(f=>f.name==="product_name"||f.name==="new_quantity"));return(f,_)=>{const y=L("i-head"),p=L("authenticated-layout");return g(),h(H,null,[e(y,{title:cl}),e(p,{"show-drawer-button":!1},{title:l(()=>[v(r(cl))]),"left-button":l(()=>[a("div",pb,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:_[0]||(_[0]=C=>f.$inertia.get(f.route("admin.stock-adjustment.index")))})])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",fb,[e(Me,{class:"row",onSubmit:Q(i,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,null,{default:l(()=>_[8]||(_[8]=[a("div",{class:"text-subtitle1"},"Info Penyesuaian",-1)])),_:1}),e(le,{class:"q-pt-none"},{default:l(()=>[X(a("input",{type:"hidden",name:"id","onUpdate:modelValue":_[1]||(_[1]=C=>t(m).id=C)},null,512),[[Xe,t(m).id]]),e(Ut,{modelValue:t(m).datetime,"onUpdate:modelValue":_[2]||(_[2]=C=>t(m).datetime=C),label:"Waktu",error:!!t(m).errors.datetime,disable:t(m).processing,"error-message":t(m).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(se,{modelValue:t(m).type,"onUpdate:modelValue":_[3]||(_[3]=C=>t(m).type=C),options:t(o),label:"Jenis Penyesuaian",class:"custom-select",error:!!t(m).errors.type,disable:t(m).processing,"map-options":"","emit-value":"","error-message":t(m).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","error-message"]),e(ae,{modelValue:t(m).notes,"onUpdate:modelValue":_[4]||(_[4]=C=>t(m).notes=C),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(m).processing,error:!!t(m).errors.notes,"error-message":t(m).errors.notes,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(le,null,{default:l(()=>[e(Ce,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:d.value,rows:t(s),"binary-state-sort":"","hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-product_name":l(C=>[e(z,{props:C},{default:l(()=>[a("div",gb,r(C.row.product_name),1),t(c).screen.lt.md?(g(),h("div",bb,[a("div",vb,[v(" Tercatat: "+r(t(Y)(C.row.old_quantity))+" ",1),_[9]||(_[9]=a("br",null,null,-1)),v(" Selisih: "+r(t(Y)(C.row.new_quantity-C.row.old_quantity)),1)])])):k("",!0)]),_:2},1032,["props"])]),"body-cell-new_quantity":l(C=>[e(z,{props:C},{default:l(()=>[e(ae,{modelValue:C.row[C.col.name],"onUpdate:modelValue":S=>C.row[C.col.name]=S,modelModifiers:{number:!0},"input-class":"text-right",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",onClick:_[5]||(_[5]=C=>i("save")),label:"Simpan",color:"primary",disable:t(m).processing},null,8,["disable"]),e(U,{icon:"done_all",onClick:_[6]||(_[6]=C=>i("close")),label:"Selesaikan",color:"green",disable:t(m).processing},null,8,["disable"]),e(U,{icon:"close",onClick:_[7]||(_[7]=C=>i("cancel")),label:"Batalkan",color:"red",disable:t(m).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},yb=Object.freeze(Object.defineProperty({__proto__:null,default:_b},Symbol.toStringTag,{value:"Module"})),wb={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},kb={class:"q-pa-xs"},$b={class:"full-width row flex-center text-grey-8 q-gutter-sm"},hb={key:0,class:"flex q-gutter-xs"},xb={class:"flex q-col-gutter-xs"},Sb={key:0},Vb={key:1},qb={class:"flex justify-end"},pl="Penyesuaian Stok",Cb={__name:"Index",setup(u){const n=q([]),m=q(!0),o=q(!1),s=q(null),i=q(null),b=We(i),c=Pe({search:"",status:"all",type:"all",...Ie()}),d=[{value:"all",label:"Semua"},...Ke(window.CONSTANTS.STOCK_ADJUSTMENT_STATUSES)],f=[{value:"all",label:"Semua"},...Ke(window.CONSTANTS.STOCK_ADJUSTMENT_TYPES)],_=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),y=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"status",label:"Status",field:"status",align:"center",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!1},{name:"total_cost",label:"Total Modal",field:"total_cost",align:"right",sortable:!1},{name:"total_price",label:"Total Harga",field:"total_price",align:"right",sortable:!1},{name:"notes",label:"Notes",field:"notes",align:"left",sortable:!1},{name:"action",align:"right"}];$e(()=>{C()});const p=w=>Ge({message:`Hapus Transaksi #${w.id}?`,url:route("admin.stock-adjustment.delete",w.id),fetchItemsCallback:C,loading:m}),C=(w=null)=>De({pagination:_,filter:c,props:w,rows:n,url:route("admin.stock-adjustment.data"),loading:m,tableRef:s}),S=()=>{C()},$=w=>{w.status=="draft"?W.get(route("admin.stock-adjustment.editor",w.id)):W.get(route("admin.stock-adjustment.detail",w.id))},E=we(),I=J(()=>E.screen.gt.sm?y:y.filter(w=>w.name==="id"||w.name==="action"));return(w,P)=>{const N=L("i-head"),V=L("authenticated-layout");return g(),h(H,null,[e(N,{title:pl}),e(V,null,Ye({"right-button":l(()=>[e(U,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:P[0]||(P[0]=T=>o.value=!o.value)},null,8,["icon"]),w.$can("admin.stock-adjustment.add")?(g(),R(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:P[1]||(P[1]=T=>t(W).get(w.route("admin.stock-adjustment.create")))})):k("",!0)]),title:l(()=>[v(r(pl))]),default:l(()=>[a("div",kb,[e(Ce,{ref_key:"tableRef",ref:s,flat:"",bordered:"",square:"",color:"primary",class:"full-height-table stock-adjustment-list","row-key":"id","virtual-scroll":"",pagination:_.value,"onUpdate:pagination":P[6]||(P[6]=T=>_.value=T),filter:c.search,loading:m.value,columns:I.value,rows:n.value,"rows-per-page-options":[10,25,50],style:Ae({height:t(b)}),onRequest:C,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:T,message:D,filter:B})=>[a("div",$b,[a("span",null,r(D)+" "+r(B?" with term "+B:""),1)])]),body:l(T=>[e(Ve,{props:T,onClick:D=>$(T.row),class:"cursor-pointer"},{default:l(()=>[e(z,{key:"id",props:T},{default:l(()=>[t(E).screen.lt.md?(g(),h(H,{key:1},[a("div",xb,[a("div",null,"#"+r(T.row.formatted_id),1),a("div",null,[e(x,{name:"history"}),v(" "+r(w.$dayjs(new Date(T.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),e(ql,{dense:"",size:"sm",color:T.row.status==="draft"?"orange":T.row.status==="closed"?"green":T.row.status==="canceled"?"red":"",icon:T.row.status==="draft"?"emergency":T.row.status==="closed"?"check":T.row.status==="canceled"?"close":""},{default:l(()=>[v(r(w.$CONSTANTS.STOCK_ADJUSTMENT_STATUSES[T.row.status]),1)]),_:2},1032,["color","icon"])]),a("div",null,[e(x,{name:"category"}),v(" "+r(w.$CONSTANTS.STOCK_ADJUSTMENT_TYPES[T.row.type]),1)]),T.row.created_by?(g(),h("div",Sb,[e(x,{name:"person"}),P[7]||(P[7]=v(" Dibuat: ")),a("b",null,r(T.row.created_by.username),1),e(x,{name:"history"}),v(" "+r(w.$dayjs(new Date(T.row.created_at)).format("DD/MM/YYYY HH:mm")),1)])):k("",!0),T.row.updated_by?(g(),h("div",Vb,[e(x,{name:"person"}),P[8]||(P[8]=v(" Diperbarui: ")),a("b",null,r(T.row.updated_by.username),1),e(x,{name:"history"}),v(" "+r(w.$dayjs(new Date(T.row.updated_at)).format("DD/MM/YYYY HH:mm")),1)])):k("",!0),a("div",{class:ye(T.row.total_cost<0?"text-red-10":T.row.total_cost>0?"text-green-10":"")},[e(x,{name:"money"}),v(" Rp. "+r(t(Y)(T.row.total_cost))+" / Rp. "+r(t(Y)(T.row.total_price)),1)],2)],64)):(g(),h("div",hb," #"+r(T.row.formatted_id),1))]),_:2},1032,["props"]),e(z,{key:"datetime",props:T},{default:l(()=>[v(r(w.$dayjs(new Date(T.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),_:2},1032,["props"]),e(z,{key:"status",props:T,class:"text-center"},{default:l(()=>[v(r(w.$CONSTANTS.STOCK_ADJUSTMENT_STATUSES[T.row.status]),1)]),_:2},1032,["props"]),e(z,{key:"type",props:T},{default:l(()=>[v(r(w.$CONSTANTS.STOCK_ADJUSTMENT_TYPES[T.row.type]),1)]),_:2},1032,["props"]),e(z,{key:"total_cost",props:T},{default:l(()=>[a("div",{class:ye(T.row.total_cost<0?"text-red-10":T.row.total_cost>0?"text-green-10":"")},r(t(Y)(T.row.total_cost)),3)]),_:2},1032,["props"]),e(z,{key:"total_price",props:T},{default:l(()=>[a("div",{class:ye(T.row.total_price<0?"text-red-10":T.row.total_price>0?"text-green-10":"")},r(t(Y)(T.row.total_price)),3)]),_:2},1032,["props"]),e(z,{key:"notes",props:T},{default:l(()=>[v(r(T.row.notes),1)]),_:2},1032,["props"]),e(z,{key:"action",props:T},{default:l(()=>[a("div",qb,[w.$can("admin.stock-adjustment.delete")?(g(),R(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:P[5]||(P[5]=Q(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(je,{style:{width:"200px"}},{default:l(()=>[w.$can("admin.stock-adjustment.delete")?X((g(),R(ee,{key:0,onClick:Q(D=>p(T.row),["stop"]),clickable:""},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"delete_forever"})]),_:1}),e(M,null,{default:l(()=>P[9]||(P[9]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:i},{default:l(()=>[a("div",wb,[e(se,{modelValue:c.status,"onUpdate:modelValue":[P[2]||(P[2]=T=>c.status=T),S],options:d,label:"Status",dense:"","map-options":"",class:"custom-select col-xs-12 col-sm-2","emit-value":"",outlined:""},null,8,["modelValue"]),e(se,{modelValue:c.type,"onUpdate:modelValue":[P[3]||(P[3]=T=>c.type=T),S],options:f,label:"Jenis",dense:"",class:"custom-select col-xs-12 col-sm-2","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ae,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:c.search,"onUpdate:modelValue":P[4]||(P[4]=T=>c.search=T),placeholder:"Cari",clearable:""},{append:l(()=>[e(x,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Tb=Object.freeze(Object.defineProperty({__proto__:null,default:Cb},Symbol.toStringTag,{value:"Module"})),Pb={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Ob={class:"q-pa-xs"},Ib={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Db={key:0},fl="Riwayat Stok",Rb={__name:"Index",setup(u){me();const n=q(null),m=q(null),o=We(m),s=Ft();Lt();const i=[{label:"Semua Tahun",value:"all"},{label:`${s}`,value:s},...Pt(s-2,s-1).reverse()],b=[{value:"all",label:"Semua Bulan"},...Ot()],c=[{value:"all",label:"Semua"},...Ke(window.CONSTANTS.STOCK_MOVEMENT_REF_TYPES)],d=we(),f=q(!1),_=q([]),y=q(!0),p=Pe({type:"all",search:"",...Ie()}),C=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"created_at",descending:!0});let S=[{name:"id",label:d.screen.lt.sm?"Item":"#",field:"id",align:"left",sortable:!0},{name:"created_at",label:"Waktu",field:"created_at",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"left",sortable:!0},{name:"product",label:"Produk",field:"product",align:"left"},{name:"quantity_before",label:"Qty Awal",field:"quantity_before",align:"right"},{name:"quantity_after",label:"Qty Akhir",field:"quantity_after",align:"right"},{name:"quantity",label:"Selisih",field:"quantity",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}];$e(()=>{const P=new URLSearchParams(window.location.search).get("page");P&&(C.value.page=parseInt(P)),$()});const $=(w=null)=>{De({pagination:C,filter:p,props:w,rows:_,url:route("admin.stock-movement.data"),loading:y,tableRef:n})},E=()=>{$()},I=J(()=>{let w=[...S];return d.screen.gt.sm?w:w.filter(P=>P.name==="id"||P.name==="quantity")});return(w,P)=>{const N=L("i-head"),V=L("authenticated-layout");return g(),h(H,null,[e(N,{title:fl}),e(V,null,Ye({title:l(()=>[v(r(fl))]),"right-button":l(()=>[e(U,{icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:P[0]||(P[0]=T=>f.value=!f.value)},null,8,["icon"])]),default:l(()=>[a("div",Ob,[e(Ce,{ref_key:"tableRef",ref:n,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:C.value,"onUpdate:pagination":P[5]||(P[5]=T=>C.value=T),filter:p.search,loading:y.value,columns:I.value,rows:_.value,"rows-per-page-options":[10,25,50],style:Ae({height:t(o)}),onRequest:$,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:T,message:D,filter:B})=>[a("div",Ib,[a("span",null,r(D)+" "+r(B?" with term "+B:""),1)])]),body:l(T=>[e(Ve,{props:T},{default:l(()=>[e(z,{key:"id",props:T},{default:l(()=>[a("div",null,[t(d).screen.lt.sm?(g(),h(H,{key:0},[a("div",null,[e(rt,null,{default:l(()=>[v(r(w.$CONSTANTS.STOCK_MOVEMENT_REF_TYPES[T.row.ref_type]),1)]),_:2},1024)]),e(x,{class:"inline-icon",name:"tag"})],64)):k("",!0),v(" "+r(T.row.formatted_id),1)]),t(d).screen.lt.sm?(g(),h(H,{key:0},[a("div",null,[e(x,{name:"calendar_clock",class:"inline-icon"}),v(" "+r(t(be)(T.row.created_at)),1)]),a("div",null,[e(x,{name:"token",class:"inline-icon"}),v(" "+r(T.row.product.name),1)]),a("div",{class:ye(T.row.quantity>0?"text-positive":"text-negative")},[e(x,{class:"inline-icon",name:"compare_arrows"}),v(" "+r(t(Y)(T.row.quantity_before))+" "+r(T.row.uom)+"  "+r(t(Y)(T.row.quantity_after))+" "+r(T.row.uom),1)],2),e(ve,{text:T.row.notes,icon:"notes",class:"text-grey-8"},null,8,["text"])],64)):k("",!0)]),_:2},1032,["props"]),e(z,{key:"created_at",props:T},{default:l(()=>[v(r(t(be)(T.row.created_at)),1)]),_:2},1032,["props"]),e(z,{key:"type",props:T},{default:l(()=>[v(r(w.$CONSTANTS.STOCK_MOVEMENT_REF_TYPES[T.row.ref_type])+" ",1),T.row.ref?(g(),h("span",Db,r(T.row.ref),1)):k("",!0)]),_:2},1032,["props"]),e(z,{key:"product",props:T},{default:l(()=>[v(r(T.row.product.name),1)]),_:2},1032,["props"]),e(z,{key:"quantity_before",props:T},{default:l(()=>[v(r(t(Y)(T.row.quantity_before))+" "+r(T.row.uom),1)]),_:2},1032,["props"]),e(z,{key:"quantity_after",props:T},{default:l(()=>[v(r(t(Y)(T.row.quantity_after))+" "+r(T.row.uom),1)]),_:2},1032,["props"]),e(z,{key:"quantity",props:T,class:ye(T.row.quantity>0?"text-positive":"text-negative")},{default:l(()=>[v(r(t(Y)(T.row.quantity))+" "+r(T.row.uom),1)]),_:2},1032,["props","class"]),e(z,{key:"notes",props:T},{default:l(()=>[e(ve,{text:T.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[f.value?{name:"header",fn:l(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:m},{default:l(()=>[a("div",Pb,[e(se,{modelValue:p.year,"onUpdate:modelValue":[P[1]||(P[1]=T=>p.year=T),E],options:i,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),p.year!="all"?(g(),R(se,{key:0,modelValue:p.month,"onUpdate:modelValue":[P[2]||(P[2]=T=>p.month=T),E],options:b,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:p.year===null},null,8,["modelValue","disable"])):k("",!0),e(se,{modelValue:p.ref_type,"onUpdate:modelValue":[P[3]||(P[3]=T=>p.ref_type=T),E],options:c,label:"Jenis",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(ae,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:p.search,"onUpdate:modelValue":P[4]||(P[4]=T=>p.search=T),placeholder:"Cari",clearable:""},{append:l(()=>[e(x,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Ub=Object.freeze(Object.defineProperty({__proto__:null,default:Rb},Symbol.toStringTag,{value:"Module"})),jb={class:"q-gutter-sm"},Mb={class:"q-gutter-sm"},Ab={class:"col col-md-6 q-pa-xs"},Eb={class:"row"},Nb={class:"detail"},gl="Rincian Pemasok",Bb={__name:"Detail",setup(u){const n=me();return(m,o)=>{const s=L("i-head"),i=L("authenticated-layout");return g(),h(H,null,[e(s,{title:gl}),e(i,{"show-drawer-button":!1},{title:l(()=>[v(r(gl))]),"left-button":l(()=>[a("div",jb,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=b=>m.$goBack())})])]),"right-button":l(()=>[a("div",Mb,[m.$can("admin.supplier.edit")?(g(),R(U,{key:0,icon:"edit",dense:"",color:"grey",size:"sm",rounded:"",flat:"",onClick:o[1]||(o[1]=b=>t(W).get(m.route("admin.supplier.edit",{id:t(n).props.data.id})))})):k("",!0)])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",Ab,[a("div",Eb,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,null,{default:l(()=>[o[14]||(o[14]=a("div",{class:"text-subtitle1 text-bold text-grey-8"}," Info Pemasok ",-1)),a("table",Nb,[a("tbody",null,[a("tr",null,[o[2]||(o[2]=a("td",{style:{width:"70px"}},"Nama",-1)),o[3]||(o[3]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,r(t(n).props.data.name),1)]),a("tr",null,[o[4]||(o[4]=a("td",null,"Telepon",-1)),o[5]||(o[5]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.phone),1)]),a("tr",null,[o[6]||(o[6]=a("td",null,"Alamat",-1)),o[7]||(o[7]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.address),1)]),a("tr",null,[o[8]||(o[8]=a("td",null,"No. Rek",-1)),o[9]||(o[9]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.bank_account_number),1)]),a("tr",null,[o[10]||(o[10]=a("td",null,"Alamat Retur",-1)),o[11]||(o[11]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.return_address),1)]),a("tr",null,[o[12]||(o[12]=a("td",null,"Status",-1)),o[13]||(o[13]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},zb=Object.freeze(Object.defineProperty({__proto__:null,default:Bb},Symbol.toStringTag,{value:"Module"})),Fb={class:"q-gutter-sm"},Lb={class:"col col-md-6 q-pa-xs"},Hb={style:{"margin-left":"-10px"}},Yb={__name:"Editor",setup(u){const n=me(),m=(n.props.data.id?"Edit":"Tambah")+" Pemasok",o=$a({id:n.props.data.id,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,bank_account_number:n.props.data.bank_account_number,return_address:n.props.data.return_address,active:!!n.props.data.active}),s=()=>ze({form:o,url:route("admin.supplier.save")});return(i,b)=>{const c=L("i-head"),d=L("authenticated-layout");return g(),h(H,null,[e(c,{title:m}),e(d,{"show-drawer-button":!1},{title:l(()=>[v(r(m))]),"left-button":l(()=>[a("div",Fb,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=f=>i.$goBack())})])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",Lb,[e(Me,{class:"row",onSubmit:Q(s,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,null,{default:l(()=>b[9]||(b[9]=[a("div",{class:"text-subtitle1"},"Info Supplier",-1)])),_:1}),e(le,{class:"q-pt-none"},{default:l(()=>[X(a("input",{type:"hidden",name:"id","onUpdate:modelValue":b[1]||(b[1]=f=>t(o).id=f)},null,512),[[Xe,t(o).id]]),e(ae,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":b[2]||(b[2]=f=>t(o).name=f),modelModifiers:{trim:!0},label:"Nama","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[f=>f&&f.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(ae,{modelValue:t(o).phone,"onUpdate:modelValue":b[3]||(b[3]=f=>t(o).phone=f),modelModifiers:{trim:!0},type:"text",label:"No HP","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.phone,"error-message":t(o).errors.phone,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(ae,{modelValue:t(o).address,"onUpdate:modelValue":b[4]||(b[4]=f=>t(o).address=f),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.address,"error-message":t(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(ae,{modelValue:t(o).bank_account_number,"onUpdate:modelValue":b[5]||(b[5]=f=>t(o).bank_account_number=f),modelModifiers:{trim:!0},type:"text",label:"No Rek","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.bank_account_number,"error-message":t(o).errors.bank_account_number,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(ae,{modelValue:t(o).return_address,"onUpdate:modelValue":b[6]||(b[6]=f=>t(o).return_address=f),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat Return","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.return_address,"error-message":t(o).errors.return_address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),a("div",Hb,[e(Zt,{class:"full-width q-pl-none",modelValue:t(o).active,"onUpdate:modelValue":b[7]||(b[7]=f=>t(o).active=f),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"])])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:b[8]||(b[8]=f=>i.$goBack())},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Kb=Object.freeze(Object.defineProperty({__proto__:null,default:Yb},Symbol.toStringTag,{value:"Module"})),Qb={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Wb={class:"q-pa-xs"},Jb={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Gb={class:"flex justify-end"},bl="Pemasok",Xb={__name:"Index",setup(u){const n=we(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),c=We(b),d=Pe({search:"",status:"active",...Ie()}),f=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),_=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"phone",label:"No HP",field:"phone",align:"left",sortable:!0},{name:"address",label:"Alamat",field:"address",align:"left",sortable:!0},{name:"bank_account_number",label:"No Rek",field:"bank_account_number",align:"left",sortable:!0},{name:"action",align:"right"}],y=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];$e(()=>{C()});const p=I=>Ge({message:`Hapus pemasok ${I.name}?`,url:route("admin.supplier.delete",I.id),fetchItemsCallback:C,loading:s}),C=(I=null)=>{De({pagination:f,filter:d,props:I,rows:o,url:route("admin.supplier.data"),loading:s,tableRef:i})},S=()=>C(),$=I=>W.get(route("admin.supplier.detail",{id:I.id})),E=J(()=>n.screen.gt.sm?_:_.filter(I=>I.name==="name"||I.name==="action"));return(I,w)=>{const P=L("i-head"),N=L("authenticated-layout");return g(),h(H,null,[e(P,{title:bl}),e(N,null,Ye({title:l(()=>[v(r(bl))]),"right-button":l(()=>[e(U,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:w[0]||(w[0]=V=>m.value=!m.value)},null,8,["icon"]),I.$can("admin.supplier.add")?(g(),R(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:w[1]||(w[1]=V=>t(W).get(I.route("admin.supplier.add")))})):k("",!0)]),default:l(()=>[a("div",Wb,[e(Ce,{class:"full-height-table",ref_key:"tableRef",ref:i,s:"",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:f.value,"onUpdate:pagination":w[5]||(w[5]=V=>f.value=V),filter:d.search,loading:s.value,columns:E.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Ae({height:t(c)}),onRequest:C,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:V,message:T,filter:D})=>[a("div",Jb,[a("span",null,r(T)+" "+r(D?" with term "+D:""),1)])]),body:l(V=>[e(Ve,{props:V,class:ye([V.row.active?"":"bg-red-1","cursor-pointer"]),onClick:T=>$(V.row)},{default:l(()=>[e(z,{key:"name",props:V,class:"wrap-column"},{default:l(()=>[a("div",null,[t(n).screen.lt.md?(g(),R(x,{key:0,name:"person"})):k("",!0),v(" "+r(V.row.name),1)]),t(n).screen.lt.md?(g(),h(H,{key:0},[a("div",null,[e(x,{name:"phone"}),v(" "+r(V.row.phone),1)]),a("div",null,[e(x,{name:"credit_card"}),v(" "+r(V.row.bank_account_number),1)]),a("div",null,[e(x,{name:"home_pin"}),v(" "+r(V.row.address),1)])],64)):k("",!0)]),_:2},1032,["props"]),e(z,{key:"phone",props:V},{default:l(()=>[v(r(V.row.phone),1)]),_:2},1032,["props"]),e(z,{key:"address",props:V},{default:l(()=>[v(r(V.row.address),1)]),_:2},1032,["props"]),e(z,{key:"bank_account_number",props:V},{default:l(()=>[v(r(V.row.bank_account_number),1)]),_:2},1032,["props"]),e(z,{key:"action",props:V},{default:l(()=>[a("div",Gb,[I.$can("admin.supplier.add")||I.$can("admin.supplier.edit")||I.$can("admin.supplier.delete")?(g(),R(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:w[4]||(w[4]=Q(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(je,{style:{width:"200px"}},{default:l(()=>[I.$can("admin.supplier.add")?X((g(),R(ee,{key:0,clickable:"",onClick:Q(T=>t(W).get(I.route("admin.supplier.duplicate",V.row.id)),["stop"])},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"file_copy"})]),_:1}),e(M,null,{default:l(()=>w[6]||(w[6]=[v(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),I.$can("admin.supplier.edit")?X((g(),R(ee,{key:1,clickable:"",onClick:Q(T=>t(W).get(I.route("admin.supplier.edit",V.row.id)),["stop"])},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"edit"})]),_:1}),e(M,null,{default:l(()=>w[7]||(w[7]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),I.$can("admin.supplier.delete")?X((g(),R(ee,{key:2,onClick:Q(T=>p(V.row),["stop"]),clickable:""},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"delete_forever"})]),_:1}),e(M,null,{default:l(()=>w[8]||(w[8]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[a("div",Qb,[e(se,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:d.status,"onUpdate:modelValue":[w[2]||(w[2]=V=>d.status=V),S],options:y,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(ae,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":w[3]||(w[3]=V=>d.search=V),placeholder:"Cari",clearable:""},{append:l(()=>[e(x,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Zb=Object.freeze(Object.defineProperty({__proto__:null,default:Xb},Symbol.toStringTag,{value:"Module"})),fo={__name:"UpdatePasswordForm",setup(u){const n=q(!1),m=q(null),o=q(null),s=Be({current_password:"",password:"",password_confirmation:""}),i=()=>{s.clearErrors(),s.post(route("admin.user-profile.update-password"),{preserveScroll:!0,onSuccess:()=>s.reset(),onError:()=>{s.errors.password&&(s.reset("password","password_confirmation"),m.value.focus()),s.errors.current_password&&(s.reset("current_password"),o.value.focus())}})};return(b,c)=>(g(),R(Me,{class:"row",onSubmit:Q(i,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,null,{default:l(()=>[c[6]||(c[6]=a("div",{class:"text-h6 q-my-xs text-subtitle1"},"Perbarui Kata Sandi",-1)),c[7]||(c[7]=a("p",{class:"text-caption text-grey-9"}," Pastikan akun anda menggunakan kata sandi yang kuat agar akun tetap aman. ",-1)),e(ae,{modelValue:t(s).current_password,"onUpdate:modelValue":c[1]||(c[1]=d=>t(s).current_password=d),type:n.value?"text":"password",label:"Kata Sandi Sekarang",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.current_password,"error-message":t(s).errors.current_password,rules:[d=>d&&d.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(U,{dense:"",flat:"",round:"",onClick:c[0]||(c[0]=d=>n.value=!n.value)},{default:l(()=>[e(x,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(ae,{modelValue:t(s).password,"onUpdate:modelValue":c[3]||(c[3]=d=>t(s).password=d),type:n.value?"text":"password",label:"Kata Sandi Baru",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.password,"error-message":t(s).errors.password,rules:[d=>d&&d.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(U,{dense:"",flat:"",round:"",onClick:c[2]||(c[2]=d=>n.value=!n.value)},{default:l(()=>[e(x,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(ae,{modelValue:t(s).password_confirmation,"onUpdate:modelValue":c[5]||(c[5]=d=>t(s).password_confirmation=d),type:n.value?"text":"password",label:"Konfirmasi Kata Sandi",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.password_confirmation,"error-message":t(s).errors.password_confirmation,rules:[d=>d&&d.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(U,{dense:"",flat:"",round:"",onClick:c[4]||(c[4]=d=>n.value=!n.value)},{default:l(()=>[e(x,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"])]),_:1}),e(le,null,{default:l(()=>[e(U,{type:"submit",label:"Perbarui Kata Sandi",color:"primary",icon:"save",disable:t(s).processing,loading:t(s).processing},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},e1=Object.freeze(Object.defineProperty({__proto__:null,default:fo},Symbol.toStringTag,{value:"Module"})),go={__name:"UpdateProfileInformationForm",setup(u){const m=me().props.auth.user,o=Be({name:m.name,username:m.username,type:window.CONSTANTS.USER_TYPES[m.type]}),s=()=>ze({form:o,url:route("admin.user-profile.update")});return(i,b)=>(g(),R(Me,{class:"row",onSubmit:Q(s,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,null,{default:l(()=>[b[3]||(b[3]=a("div",{class:"text-h6 q-my-xs text-subtitle1"},"Profil Saya",-1)),b[4]||(b[4]=a("p",{class:"text-caption text-grey-9"},"Perbarui profil anda.",-1)),e(ae,{modelValue:t(o).username,"onUpdate:modelValue":b[0]||(b[0]=c=>t(o).username=c),label:"ID Pengguna",disable:t(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"]),e(ae,{modelValue:t(o).name,"onUpdate:modelValue":b[1]||(b[1]=c=>t(o).name=c),modelModifiers:{trim:!0},label:"Nama",disable:t(o).processing,error:!!t(o).errors.name,"error-message":t(o).errors.name,rules:[c=>c&&c.length>0||"Name harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(ae,{modelValue:t(o).type,"onUpdate:modelValue":b[2]||(b[2]=c=>t(o).type=c),label:"Jenis Akun",disable:t(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"])]),_:1}),e(le,null,{default:l(()=>[e(U,{type:"submit",label:"Perbarui Profil Saya",icon:"save",color:"primary",disable:t(o).processing,loading:t(o).processing},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},t1=Object.freeze(Object.defineProperty({__proto__:null,default:go},Symbol.toStringTag,{value:"Module"})),a1={class:"q-pa-xs"},l1={class:"row justify-center"},o1={class:"col col-md-6"},vl="Profil Saya",n1={__name:"Edit",setup(u){return(n,m)=>{const o=L("i-head"),s=L("authenticated-layout");return g(),h(H,null,[e(o,{title:vl}),e(s,null,{title:l(()=>[v(r(vl))]),default:l(()=>[a("div",a1,[a("div",l1,[a("div",o1,[e(go,{class:"q-mb-md"}),e(fo)])])])]),_:1})],64)}}},s1=Object.freeze(Object.defineProperty({__proto__:null,default:n1},Symbol.toStringTag,{value:"Module"})),r1={class:"q-gutter-sm"},i1={class:"q-gutter-sm"},d1={class:"col col-md-6 q-pa-xs"},u1={class:"row"},m1={class:"detail"},c1={key:0},p1={key:1,class:"text-grey-8 text-italic"},f1={key:2},g1={class:"text-subtitle2 text-bold text-grey-8 q-mt-xs"},b1={key:3,class:"text-grey-8 text-italic"},_l="Rincian Role Pengguna",v1={__name:"Detail",setup(u){const n=me(),m=J(()=>{const o={};return n.props.data.permissions&&n.props.data.permissions.forEach(s=>{const i=s.category;o[i]||(o[i]=[]),o[i].push(s)}),o});return(o,s)=>{const i=L("i-head"),b=L("authenticated-layout");return g(),h(H,null,[e(i,{title:_l}),e(b,{"show-drawer-button":!0},{title:l(()=>[v(r(_l))]),"left-button":l(()=>[a("div",r1,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=c=>o.$goBack())})])]),"right-button":l(()=>[a("div",i1,[e(U,{icon:"edit",dense:"",color:"grey",size:"sm",rounded:"",flat:"",onClick:s[1]||(s[1]=c=>t(W).get(o.route("admin.user-role.edit",{id:t(n).props.data.id})))})])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",d1,[a("div",u1,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,null,{default:l(()=>[s[6]||(s[6]=a("div",{class:"text-subtitle1 text-bold text-grey-8"},"Info Role",-1)),a("table",m1,[a("tbody",null,[a("tr",null,[s[2]||(s[2]=a("td",{style:{width:"100px"}},"Nama Role",-1)),s[3]||(s[3]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,r(t(n).props.data.name),1)]),a("tr",null,[s[4]||(s[4]=a("td",null,"Deskripsi",-1)),s[5]||(s[5]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.description),1)])])]),s[7]||(s[7]=a("div",{class:"text-subtitle1 text-bold text-grey-8 q-mt-md"}," Daftar Pengguna ",-1)),t(n).props.data.users.length>0?(g(),h("div",c1,[(g(!0),h(H,null,at(t(n).props.data.users,c=>(g(),h("div",null,"  "+r(c.username)+" - "+r(c.name),1))),256))])):(g(),h("div",p1," Belum ada akun pengguna yang terdaftar. ")),s[8]||(s[8]=a("div",{class:"text-subtitle1 text-bold text-grey-8 q-mt-md"}," Daftar Hak Akses ",-1)),t(n).props.data.permissions.length>0?(g(),h("div",f1,[(g(!0),h(H,null,at(m.value,(c,d)=>(g(),h("div",{key:d},[a("div",g1,r(d),1),(g(!0),h(H,null,at(c,f=>(g(),h("div",{key:f.id},"  "+r(f.label),1))),128))]))),128))])):(g(),h("div",b1," Belum ada hak akses yang ditetapkan. "))]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},_1=Object.freeze(Object.defineProperty({__proto__:null,default:v1},Symbol.toStringTag,{value:"Module"})),y1={class:"q-gutter-sm"},w1={class:"col col-md-6 q-pa-xs"},k1={class:"text-subtitle2 text-bold text-grey-8 q-mt-md q-mb-sm"},$1={__name:"Editor",setup(u){const n=me(),m=(n.props.data.id?"Edit":"Tambah")+" Peran Pengguna",o=Be({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description,permissions:n.props.data.permissions?n.props.data.permissions.map(b=>b.id):[]}),s=()=>ze({form:o,url:route("admin.user-role.save")}),i=J(()=>{const b={};return n.props.permissions&&n.props.permissions.forEach(c=>{const d=c.category;b[d]||(b[d]=[]),b[d].push(c)}),b});return(b,c)=>{const d=L("i-head"),f=L("authenticated-layout");return g(),h(H,null,[e(d,{title:m}),e(f,{"show-drawer-button":!0},{title:l(()=>[v(r(m))]),"left-button":l(()=>[a("div",y1,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=_=>b.$goBack())})])]),"right-button":l(()=>[e(U,{icon:"save",label:"Simpan",color:"primary",disable:t(o).processing,size:"sm",dense:"",class:"custom-dense",onClick:Q(s,["prevent"])},null,8,["disable"])]),default:l(()=>[e(xe,{class:"row justify-center"},{default:l(()=>[a("div",w1,[e(Me,{class:"row",onSubmit:Q(s,["prevent"]),onValidationError:t(Ue)},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[X(a("input",{type:"hidden",name:"id","onUpdate:modelValue":c[1]||(c[1]=_=>t(o).id=_)},null,512),[[Xe,t(o).id]]),e(ae,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":c[2]||(c[2]=_=>t(o).name=_),modelModifiers:{trim:!0},label:"Nama Role","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(ae,{modelValue:t(o).description,"onUpdate:modelValue":c[3]||(c[3]=_=>t(o).description=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.description,"error-message":t(o).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),(g(!0),h(H,null,at(i.value,(_,y)=>(g(),h("div",{key:y},[a("div",k1,r(y),1),(g(!0),h(H,null,at(_,p=>(g(),h("div",{key:p.id},[e(Zt,{class:"q-ma-none q-pa-none list-checkbox",modelValue:t(o).permissions,"onUpdate:modelValue":C=>t(o).permissions=C,val:p.id,label:p.label,color:"primary"},null,8,["modelValue","onUpdate:modelValue","val","label"])]))),128))]))),128))]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},h1=ft($1,[["__scopeId","data-v-c97e395c"]]),x1=Object.freeze(Object.defineProperty({__proto__:null,default:h1},Symbol.toStringTag,{value:"Module"})),S1={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},V1={class:"q-pa-xs"},q1={class:"full-width row flex-center text-grey-8 q-gutter-sm"},C1={class:"flex justify-end"},yl="Role Pengguna",T1={__name:"Index",setup(u){const n=we(),m=q(!1),o=q([]),s=q(!0),i=q(null),b=q(null),c=We(b),d=Pe({search:"",...Ie()}),f=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),_=[{name:"name",label:"Nama Role",field:"name",align:"left",sortable:!0},{name:"action",align:"right"}];$e(()=>{p()});const y=$=>Ge({message:`Hapus role ${$.name}?`,url:route("admin.user-role.delete",$.id),fetchItemsCallback:p,loading:s}),p=($=null)=>{De({pagination:f,filter:d,props:$,rows:o,url:route("admin.user-role.data"),loading:s,tableRef:i})},C=$=>W.get(route("admin.user-role.detail",{id:$.id})),S=J(()=>n.screen.gt.sm?_:_.filter($=>$.name==="name"||$.name==="action"));return($,E)=>{const I=L("i-head"),w=L("authenticated-layout");return g(),h(H,null,[e(I,{title:yl}),e(w,null,Ye({title:l(()=>[v(r(yl))]),"right-button":l(()=>[e(U,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:E[0]||(E[0]=P=>m.value=!m.value)},null,8,["icon"]),$.$can("admin.user-role.add")?(g(),R(U,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:E[1]||(E[1]=P=>t(W).get($.route("admin.user-role.add")))})):k("",!0)]),default:l(()=>[a("div",V1,[e(Ce,{class:"full-height-table",ref_key:"tableRef",ref:i,s:"",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:f.value,"onUpdate:pagination":E[4]||(E[4]=P=>f.value=P),filter:d.search,loading:s.value,columns:S.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Ae({height:t(c)}),onRequest:p,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:P,message:N,filter:V})=>[a("div",q1,[a("span",null,r(N)+" "+r(V?" with term "+V:""),1)])]),body:l(P=>[e(Ve,{props:P,class:"cursor-pointer",onClick:N=>C(P.row)},{default:l(()=>[e(z,{key:"name",props:P,class:"wrap-column"},{default:l(()=>[a("div",null,[t(n).screen.lt.md?(g(),R(x,{key:0,name:"person"})):k("",!0),v(" "+r(P.row.name),1)])]),_:2},1032,["props"]),e(z,{key:"action",props:P},{default:l(()=>[a("div",C1,[$.$can("admin.user-role.add")||$.$can("admin.user-role.edit")||$.$can("admin.user-role.delete")?(g(),R(U,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:E[3]||(E[3]=Q(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(je,{style:{width:"200px"}},{default:l(()=>[$.$can("admin.user-role.add")?X((g(),R(ee,{key:0,clickable:"",onClick:Q(N=>t(W).get($.route("admin.user-role.duplicate",P.row.id)),["stop"])},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"file_copy"})]),_:1}),e(M,null,{default:l(()=>E[5]||(E[5]=[v(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),$.$can("admin.user-role.edit")?X((g(),R(ee,{key:1,clickable:"",onClick:Q(N=>t(W).get($.route("admin.user-role.edit",P.row.id)),["stop"])},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"edit"})]),_:1}),e(M,null,{default:l(()=>E[6]||(E[6]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),$.$can("admin.user-role.delete")?X((g(),R(ee,{key:2,onClick:Q(N=>y(P.row),["stop"]),clickable:""},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"delete_forever"})]),_:1}),e(M,null,{default:l(()=>E[7]||(E[7]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[a("div",S1,[e(ae,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":E[2]||(E[2]=P=>d.search=P),placeholder:"Cari",clearable:""},{append:l(()=>[e(x,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},P1=Object.freeze(Object.defineProperty({__proto__:null,default:T1},Symbol.toStringTag,{value:"Module"})),O1={class:"q-gutter-sm"},I1={class:"q-gutter-sm"},D1={class:"row justify-center"},R1={class:"col col-md-6 q-pa-xs"},U1={class:"row"},j1={class:"detail"},M1={key:0},A1={key:1},wl="Rincian Pengguna",E1={__name:"Detail",setup(u){const n=me();return(m,o)=>{const s=L("i-head"),i=L("authenticated-layout");return g(),h(H,null,[e(s,{title:wl}),e(i,{"show-drawer-button":!1},{title:l(()=>[v(r(wl))]),"left-button":l(()=>[a("div",O1,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=b=>m.$inertia.get(m.route("admin.user.index")))})])]),"right-button":l(()=>[a("div",I1,[m.$can("admin.user.edit")?(g(),R(U,{key:0,icon:"edit",dense:"",rounded:"",flat:"",size:"sm",color:"grey",onClick:o[1]||(o[1]=b=>m.$inertia.get(m.route("admin.user.edit",{id:t(n).props.data.id})))})):k("",!0)])]),default:l(()=>[a("div",D1,[a("div",R1,[a("div",U1,[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,null,{default:l(()=>[o[19]||(o[19]=a("div",{class:"text-subtitle1 text-bold text-grey-9"}," Profil Pengguna ",-1)),a("table",j1,[a("tbody",null,[a("tr",null,[o[2]||(o[2]=a("td",{style:{width:"125px"}},"ID Pengguna",-1)),o[3]||(o[3]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,r(t(n).props.data.username),1)]),a("tr",null,[o[4]||(o[4]=a("td",null,"Nama Pengguna",-1)),o[5]||(o[5]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.name),1)]),a("tr",null,[o[6]||(o[6]=a("td",null,"Jenis Akun",-1)),o[7]||(o[7]=a("td",null,":",-1)),a("td",null,r(m.$CONSTANTS.USER_TYPES[t(n).props.data.type]),1)]),a("tr",null,[o[8]||(o[8]=a("td",null,"Peran",-1)),o[9]||(o[9]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.roles.map(b=>b.name).join(",")),1)]),a("tr",null,[o[10]||(o[10]=a("td",null,"Dibuat",-1)),o[11]||(o[11]=a("td",null,":",-1)),a("td",null,r(t(be)(t(n).props.data.created_at)),1)]),t(n).props.data.updated_at?(g(),h("tr",M1,[o[12]||(o[12]=a("td",null,"Diperbarui",-1)),o[13]||(o[13]=a("td",null,":",-1)),a("td",null,r(t(be)(t(n).props.data.updated_at)),1)])):k("",!0),a("tr",null,[o[14]||(o[14]=a("td",null,"Terakhir login",-1)),o[15]||(o[15]=a("td",null,":",-1)),a("td",null,r(t(n).props.data.last_login_datetime?m.$dayjs(t(n).props.data.last_login_datetime).format("DD MMMM YYYY HH:mm:ss"):"Belum pernah login"),1)]),t(n).props.data.last_activity_datetime?(g(),h("tr",A1,[o[17]||(o[17]=a("td",null,"Aktifitas Terakhir",-1)),o[18]||(o[18]=a("td",null,":",-1)),a("td",null,[v(r(m.$dayjs(t(n).props.data.last_activity_datetime).format("DD MMMM YYYY HH:mm:ss"))+" ",1),o[16]||(o[16]=a("br",null,null,-1)),v(r(t(n).props.data.last_activity_description),1)])])):k("",!0)])])]),_:1})]),_:1})])])])]),_:1})],64)}}},N1=Object.freeze(Object.defineProperty({__proto__:null,default:E1},Symbol.toStringTag,{value:"Module"}));function B1(u){return new RegExp("^(?=.{3,16}$)(?![_-])(?!.*[_-]{2})[a-zA-Z0-9_-]+(?<![_-])$").test(u)}const z1={class:"q-gutter-sm"},F1={class:"row justify-center"},L1={class:"col col-md-6 q-pa-xs"},H1={__name:"Editor",setup(u){const n=Ke(window.CONSTANTS.USER_TYPES),m=me(),o=m.props.roles,s=m.props.data.id?"Edit Pengguna":"Tambah Pengguna",i=Be({id:m.props.data.id,name:m.props.data.name,username:m.props.data.username,password:"",type:m.props.data.type?m.props.data.type:n[0].value,active:!!m.props.data.active,roles:m.props.data.roles??[]}),b=()=>ze({form:i,url:route("admin.user.save")});return(c,d)=>{const f=L("i-head"),_=L("authenticated-layout");return g(),h(H,null,[e(f,{title:t(s)},null,8,["title"]),e(_,{"show-drawer-button":!1},{title:l(()=>[v(r(t(s)),1)]),"left-button":l(()=>[a("div",z1,[e(U,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=y=>c.$goBack())})])]),default:l(()=>[a("div",F1,[a("div",L1,[e(Me,{class:"row",onSubmit:Q(b,["prevent"])},{default:l(()=>[e(ie,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(le,{class:"q-pt-none"},{default:l(()=>[X(a("input",{type:"hidden",name:"id","onUpdate:modelValue":d[1]||(d[1]=y=>t(i).id=y)},null,512),[[Xe,t(i).id]]),e(ae,{modelValue:t(i).name,"onUpdate:modelValue":d[2]||(d[2]=y=>t(i).name=y),modelModifiers:{trim:!0},label:"Nama",error:!!t(i).errors.name,disable:t(i).processing,"error-message":t(i).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(ae,{modelValue:t(i).username,"onUpdate:modelValue":d[3]||(d[3]=y=>t(i).username=y),modelModifiers:{trim:!0},type:"text",label:"ID Pengguna","lazy-rules":"",disable:t(i).processing,error:!!t(i).errors.username,"error-message":t(i).errors.username,rules:[y=>y&&y.length>0||"ID Pengguna harus diisi.",y=>t(B1)(y)||"ID Pengguna tidak valid."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(ae,{modelValue:t(i).password,"onUpdate:modelValue":d[4]||(d[4]=y=>t(i).password=y),type:"password",label:"Kata Sandi","lazy-rules":"",disable:t(i).processing,error:!!t(i).errors.password,"error-message":t(i).errors.password,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(se,{modelValue:t(i).type,"onUpdate:modelValue":d[5]||(d[5]=y=>t(i).type=y),label:"Jenis Akun",options:t(n),"map-options":"","emit-value":"","lazy-rules":"",disable:t(i).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!t(i).errors.type,"error-message":t(i).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"]),e(se,{modelValue:t(i).roles,"onUpdate:modelValue":d[6]||(d[6]=y=>t(i).roles=y),label:"Peran",options:t(o),"option-value":"id","option-label":"name","map-options":"","emit-value":"",multiple:"","lazy-rules":"","use-chips":"",disable:t(i).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!t(i).errors.roles,"error-message":t(i).errors.roles,"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"]),e(na,{modelValue:t(i).active,"onUpdate:modelValue":d[7]||(d[7]=y=>t(i).active=y),disable:t(i).processing,label:"Aktif"},null,8,["modelValue","disable"])]),_:1}),e(le,{class:"q-gutter-sm"},{default:l(()=>[e(U,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(i).processing,onClick:b},null,8,["disable"]),e(U,{icon:"cancel",label:"Batal",class:"text-black",disable:t(i).processing,onClick:d[8]||(d[8]=y=>c.$goBack())},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})],64)}}},Y1=Object.freeze(Object.defineProperty({__proto__:null,default:H1},Symbol.toStringTag,{value:"Module"})),K1={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Q1={class:"q-pa-xs"},W1={class:"full-width row flex-center text-grey-8 q-gutter-sm"},J1={class:"elipsis",style:{"max-width":"200px"}},G1={class:"flex justify-end"},kl="Pengguna",X1={__name:"Index",setup(u){const n=[{value:"all",label:"Semua"},...Ke(window.CONSTANTS.USER_TYPES)],m=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],o=me(),s=we(),i=o.props.auth.user,b=q([]),c=q(!0),d=q(!1),f=Pe({role:"all",status:"active",search:""}),_=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"username",descending:!1}),y=[{name:"username",label:"ID Pengguna",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"role",label:"Hak Akses",field:"role",align:"center",sortable:!0},{name:"action",align:"right"}];$e(()=>{C()});const p=()=>C(),C=(N=null)=>De({pagination:_,props:N,rows:b,loading:c,filter:f,url:route("admin.user.data"),tableRef:I}),S=N=>Ge({url:route("admin.user.delete",N.id),message:`Hapus pengguna ${N.username}?`,fetchItemsCallback:C,loading:c}),$=J(()=>s.screen.gt.sm?y:y.filter(N=>N.name==="username"||N.name==="action")),E=N=>W.get(route("admin.user.detail",N.id)),I=q(null),w=q(null),P=We(w);return(N,V)=>{const T=L("i-head"),D=L("authenticated-layout");return g(),h(H,null,[e(T,{title:kl}),e(D,null,Ye({title:l(()=>[v(r(kl))]),"right-button":l(()=>[e(U,{icon:d.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:V[0]||(V[0]=B=>d.value=!d.value)},null,8,["icon"]),N.$can("admin.user.add")?(g(),R(U,{key:0,icon:"add",dense:"",rounded:"",color:"primary",class:"q-ml-sm",onClick:V[1]||(V[1]=B=>t(W).get(N.route("admin.user.add")))})):k("",!0)]),default:l(()=>[a("div",Q1,[e(Ce,{ref_key:"tableRef",ref:I,class:"full-height-table",style:Ae({height:t(P)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:_.value,"onUpdate:pagination":V[6]||(V[6]=B=>_.value=B),filter:f.search,loading:c.value,columns:$.value,rows:b.value,"rows-per-page-options":[10,25,50],onRequest:C,"binary-state-sort":""},{loading:l(()=>[e(Re,{showing:"",color:"red"})]),"no-data":l(({icon:B,message:A,term:O})=>[a("div",W1,[a("span",null,r(A)+" "+r(O?" with term "+O:""),1)])]),body:l(B=>[e(Ve,{props:B,class:ye([B.row.active?"":"bg-red-1","cursor-pointer"]),onClick:A=>E(B.row)},{default:l(()=>[e(z,{key:"username",props:B},{default:l(()=>[a("div",null,[t(s).screen.gt.sm?k("",!0):(g(),h(H,{key:0},[e(x,{name:"person",class:"inline-icon"}),V[7]||(V[7]=v(" Username: "))],64)),v(" "+r(B.row.username),1)]),t(s).screen.gt.sm?k("",!0):(g(),h(H,{key:0},[a("div",null,[e(x,{name:"person",class:"inline-icon"}),v(" Nama: "+r(B.row.name),1)]),a("div",J1,[e(x,{name:"group",class:"inline-icon"}),V[8]||(V[8]=v(" Jenis Akun: ")),a("span",null,r(N.$CONSTANTS.USER_TYPES[B.row.type]),1)]),a("div",null,[e(x,{name:"group",class:"inline-icon"}),v(" Peran: "+r(B.row.roles.map(A=>A.name).join(",")),1)])],64))]),_:2},1032,["props"]),e(z,{key:"name",props:B},{default:l(()=>[v(r(B.row.name),1)]),_:2},1032,["props"]),e(z,{key:"role",props:B,align:"center"},{default:l(()=>[a("span",null,r(N.$CONSTANTS.USER_TYPES[B.row.type]),1)]),_:2},1032,["props"]),e(z,{key:"action",props:B},{default:l(()=>[a("div",G1,[N.$can("admin.user.add")||N.$can("admin.user.edit")||N.$can("admin.user.delete")?(g(),R(U,{key:0,disable:B.row.id==t(i).id||B.row.username=="admin",icon:"more_vert",dense:"",flat:"",rounded:"",onClick:V[5]||(V[5]=Q(()=>{},["stop"]))},{default:l(()=>[e(Qe,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(je,{style:{width:"200px"}},{default:l(()=>[N.$can("admin.user.add")?X((g(),R(ee,{key:0,clickable:"",onClick:Q(A=>t(W).get(N.route("admin.user.duplicate",B.row.id)),["stop"])},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"file_copy"})]),_:1}),e(M,null,{default:l(()=>V[9]||(V[9]=[v(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),N.$can("admin.user.edit")?X((g(),R(ee,{key:1,clickable:"",onClick:Q(A=>t(W).get(N.route("admin.user.edit",B.row.id)),["stop"])},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"edit"})]),_:1}),e(M,null,{default:l(()=>V[10]||(V[10]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0),N.$can("admin.user.delete")?X((g(),R(ee,{key:2,onClick:Q(A=>S(B.row),["stop"]),clickable:""},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"delete_forever"})]),_:1}),e(M,null,{default:l(()=>V[11]||(V[11]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[ne],[re]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["disable"])):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[d.value?{name:"header",fn:l(()=>[e(Je,{class:"filter-bar",ref_key:"filterToolbarRef",ref:w},{default:l(()=>[a("div",K1,[e(se,{modelValue:f.type,"onUpdate:modelValue":[V[2]||(V[2]=B=>f.type=B),p],class:"custom-select col-xs-12 col-sm-2",options:n,label:"Jenis Akun",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(se,{modelValue:f.status,"onUpdate:modelValue":[V[3]||(V[3]=B=>f.status=B),p],class:"custom-select col-xs-12 col-sm-2",options:m,label:"Status",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(ae,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:f.search,"onUpdate:modelValue":V[4]||(V[4]=B=>f.search=B),placeholder:"Cari",clearable:""},{append:l(()=>[e(x,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Z1=Object.freeze(Object.defineProperty({__proto__:null,default:X1},Symbol.toStringTag,{value:"Module"})),ev=bt({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(u,{slots:n,emit:m}){let o=!1,s,i,b=null,c=null,d,f;function _(){s&&s(),s=null,o=!1,b!==null&&(clearTimeout(b),b=null),c!==null&&(clearTimeout(c),c=null),i!==void 0&&i.removeEventListener("transitionend",d),d=null}function y($,E,I){E!==void 0&&($.style.height=`${E}px`),$.style.transition=`height ${u.duration}ms cubic-bezier(.25, .8, .50, 1)`,o=!0,s=I}function p($,E){$.style.overflowY=null,$.style.height=null,$.style.transition=null,_(),E!==f&&m(E)}function C($,E){let I=0;i=$,o===!0?(_(),I=$.offsetHeight===$.scrollHeight?0:void 0):(f="hide",$.style.overflowY="hidden"),y($,I,E),b=setTimeout(()=>{b=null,$.style.height=`${$.scrollHeight}px`,d=w=>{c=null,(Object(w)!==w||w.target===$)&&p($,"show")},$.addEventListener("transitionend",d),c=setTimeout(d,u.duration*1.1)},100)}function S($,E){let I;i=$,o===!0?_():(f="show",$.style.overflowY="hidden",I=$.scrollHeight),y($,I,E),b=setTimeout(()=>{b=null,$.style.height=0,d=w=>{c=null,(Object(w)!==w||w.target===$)&&p($,"hide")},$.addEventListener("transitionend",d),c=setTimeout(d,u.duration*1.1)},100)}return ea(()=>{o===!0&&_()}),()=>fe(xl,{css:!1,appear:u.appear,onEnter:C,onLeave:S},n.default)}}),St=fn({}),tv=Object.keys(Pl),wt=bt({name:"QExpansionItem",props:{...Pl,...bn,..._a,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...gn,"click","afterShow","afterHide"],setup(u,{slots:n,emit:m}){const{proxy:{$q:o}}=xt(),s=ya(u,o),i=q(u.modelValue!==null?u.modelValue:u.defaultOpened),b=q(null),c=vn(),{show:d,hide:f,toggle:_}=_n({showing:i});let y,p;const C=J(()=>`q-expansion-item q-item-type q-expansion-item--${i.value===!0?"expanded":"collapsed"} q-expansion-item--${u.popup===!0?"popup":"standard"}`),S=J(()=>u.contentInsetLevel===void 0?null:{["padding"+(o.lang.rtl===!0?"Right":"Left")]:u.contentInsetLevel*56+"px"}),$=J(()=>u.disable!==!0&&(u.href!==void 0||u.to!==void 0&&u.to!==null&&u.to!=="")),E=J(()=>{const te={};return tv.forEach(Te=>{te[Te]=u[Te]}),te}),I=J(()=>$.value===!0||u.expandIconToggle!==!0),w=J(()=>u.expandedIcon!==void 0&&i.value===!0?u.expandedIcon:u.expandIcon||o.iconSet.expansionItem[u.denseToggle===!0?"denseIcon":"icon"]),P=J(()=>u.disable!==!0&&($.value===!0||u.expandIconToggle===!0)),N=J(()=>({expanded:i.value===!0,detailsId:c.value,toggle:_,show:d,hide:f})),V=J(()=>{const te=u.toggleAriaLabel!==void 0?u.toggleAriaLabel:o.lang.label[i.value===!0?"collapse":"expand"](u.label);return{role:"button","aria-expanded":i.value===!0?"true":"false","aria-controls":c.value,"aria-label":te}});Ne(()=>u.group,te=>{p!==void 0&&p(),te!==void 0&&Z()});function T(te){$.value!==!0&&_(te),m("click",te)}function D(te){te.keyCode===13&&B(te,!0)}function B(te,Te){Te!==!0&&b.value!==null&&b.value.focus(),_(te),Ct(te)}function A(){m("afterShow")}function O(){m("afterHide")}function Z(){y===void 0&&(y=yn()),i.value===!0&&(St[u.group]=y);const te=Ne(i,Fe=>{Fe===!0?St[u.group]=y:St[u.group]===y&&delete St[u.group]}),Te=Ne(()=>St[u.group],(Fe,ut)=>{ut===y&&Fe!==void 0&&Fe!==y&&f()});p=()=>{te(),Te(),St[u.group]===y&&delete St[u.group],p=void 0}}function de(){const te={class:[`q-focusable relative-position cursor-pointer${u.denseToggle===!0&&u.switchToggleSide===!0?" items-end":""}`,u.expandIconClass],side:u.switchToggleSide!==!0,avatar:u.switchToggleSide},Te=[fe(x,{class:"q-expansion-item__toggle-icon"+(u.expandedIcon===void 0&&i.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:w.value})];return P.value===!0&&(Object.assign(te,{tabindex:0,...V.value,onClick:B,onKeyup:D}),Te.unshift(fe("div",{ref:b,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),fe(M,te,()=>Te)}function j(){let te;return n.header!==void 0?te=[].concat(n.header(N.value)):(te=[fe(M,()=>[fe(ge,{lines:u.labelLines},()=>u.label||""),u.caption?fe(ge,{lines:u.captionLines,caption:!0},()=>u.caption):null])],u.icon&&te[u.switchToggleSide===!0?"push":"unshift"](fe(M,{side:u.switchToggleSide===!0,avatar:u.switchToggleSide!==!0},()=>fe(x,{name:u.icon})))),u.disable!==!0&&u.hideExpandIcon!==!0&&te[u.switchToggleSide===!0?"unshift":"push"](de()),te}function F(){const te={ref:"item",style:u.headerStyle,class:u.headerClass,dark:s.value,disable:u.disable,dense:u.dense,insetLevel:u.headerInsetLevel};return I.value===!0&&(te.clickable=!0,te.onClick=T,Object.assign(te,$.value===!0?E.value:V.value)),fe(ee,te,j)}function G(){return X(fe("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:S.value,id:c.value},$t(n.default)),[[Cl,i.value]])}function ke(){const te=[F(),fe(ev,{duration:u.duration,onShow:A,onHide:O},G)];return u.expandSeparator===!0&&te.push(fe(st,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:s.value}),fe(st,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:s.value})),te}return u.group!==void 0&&Z(),ea(()=>{p!==void 0&&p()}),()=>fe("div",{class:C.value},[fe("div",{class:"q-expansion-item__container relative-position"},ke())])}}),av={class:"absolute-top",style:{height:"50px","border-bottom":"1px solid #ddd","align-items":"center","justify-content":"center"}},lv={style:{width:"100%",padding:"8px",display:"flex","justify-content":"space-between"}},ov={class:"text-bold"},nv={class:"text-grey-8 text-caption"},sv={class:"absolute-bottom text-grey-6 q-pa-md"},pa="amanah-pos.layout.left-drawer-open",rv={__name:"AuthenticatedLayout",props:{showDrawerButton:{type:Boolean,default:!0}},setup(u,{expose:n}){const m=we(),o=me(),s=q(JSON.parse(localStorage.getItem(pa))),i=q(!1),b=()=>s.value=!s.value,c=()=>{s.value=!1};return Ne(s,d=>{localStorage.setItem(pa,d)}),$e(()=>{s.value=JSON.parse(localStorage.getItem(pa)),m.screen.lt.md&&(s.value=!1)}),n({hideDrawer:c}),(d,f)=>(g(),R(Vn,{view:"lHh LpR lFf"},{default:l(()=>[e(wn,null,{default:l(()=>[e(Je,{class:"bg-grey-1 text-black toolbar-scrolled"},{default:l(()=>[u.showDrawerButton&&!s.value?(g(),R(U,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:b},{default:l(()=>[e(x,{class:"material-symbols-outlined"},{default:l(()=>f[25]||(f[25]=[v("dock_to_right")])),_:1})]),_:1})):k("",!0),Vt(d.$slots,"left-button",{},void 0,!0),e(kn,{style:{"font-size":"16px"}},{default:l(()=>[Vt(d.$slots,"title",{},()=>[v(r(d.$config.APP_NAME),1)],!0)]),_:3}),Vt(d.$slots,"right-button",{},void 0,!0)]),_:3}),Vt(d.$slots,"header",{},void 0,!0)]),_:3}),e($n,{breakpoint:768,modelValue:s.value,"onUpdate:modelValue":f[24]||(f[24]=_=>s.value=_),bordered:"",class:"bg-grey-2",style:{color:"#444"}},{default:l(()=>[a("div",av,[a("div",lv,[e(hn,{modelValue:i.value,"onUpdate:modelValue":f[2]||(f[2]=_=>i.value=_),class:ye(["profile-btn text-bold",{"profile-btn-active":i.value}]),flat:"",label:t(o).props.company.name,style:{"justify-content":"space-between","flex-grow":"1",overflow:"hidden"}},{default:l(()=>[e(je,{id:"profile-btn-popup",style:{color:"#444"}},{default:l(()=>[e(ee,null,{default:l(()=>[e(Rt,{style:{"margin-left":"-15px"}},{default:l(()=>[e(x,{name:"person"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>[a("div",ov,r(t(o).props.auth.user.name),1),a("div",nv,[v(r(d.$CONSTANTS.USER_TYPES[t(o).props.auth.user.type])+" ",1),f[26]||(f[26]=a("br",null,null,-1)),v(" "+r(t(o).props.company.name),1)])]),_:1})]),_:1})]),_:1}),e(st),X((g(),R(ee,{class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/settings/profile"),onClick:f[0]||(f[0]=_=>t(W).get(d.route("admin.profile.edit")))},{default:l(()=>[e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>[e(x,{name:"manage_accounts",class:"q-mr-sm"}),f[27]||(f[27]=v(" Profil Saya"))]),_:1})]),_:1})]),_:1},8,["active"])),[[re],[ne]]),d.$can("admin.company-profile.edit")?X((g(),R(ee,{key:0,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/settings/company-profile"),onClick:f[1]||(f[1]=_=>t(W).get(d.route("admin.company-profile.edit")))},{default:l(()=>[e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>[e(x,{name:"home_work",class:"q-mr-sm"}),f[28]||(f[28]=v(" Profil Perusahaan"))]),_:1})]),_:1})]),_:1},8,["active"])),[[re],[ne]]):k("",!0),e(st),X((g(),R(ee,{clickable:"",style:{color:"inherit"},href:d.route("admin.auth.logout")},{default:l(()=>[e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>[e(x,{name:"logout",class:"q-mr-sm"}),f[29]||(f[29]=v(" Keluar"))]),_:1})]),_:1})]),_:1},8,["href"])),[[re],[ne]])]),_:1})]),_:1},8,["modelValue","label","class"]),s.value?(g(),R(U,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:b},{default:l(()=>[e(x,{name:"dock_to_right"})]),_:1})):k("",!0)])]),e(xn,{style:{height:"calc(100% - 50px)","margin-top":"50px"}},{default:l(()=>[e(je,{id:"main-nav",style:{"margin-bottom":"50px"}},{default:l(()=>[X((g(),R(ee,{clickable:"",active:d.$page.url.startsWith("/admin/dashboard"),onClick:f[3]||(f[3]=_=>t(W).get(d.route("admin.dashboard")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"dashboard"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[30]||(f[30]=[v("Dashboard")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]),d.$can("admin.sales-order.index")||d.$can("admin.customer.index")?(g(),R(wt,{key:0,icon:"storefront",label:"Penjualan","default-opened":d.$page.url.startsWith("/admin/sales-orders")||d.$page.url.startsWith("/admin/customers")},{default:l(()=>[d.$can("admin.sales-order.index")?X((g(),R(ee,{key:0,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/sales-orders"),onClick:f[4]||(f[4]=_=>t(W).get(d.route("admin.sales-order.index")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"shopping_cart"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[31]||(f[31]=[v("Penjualan")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),d.$can("admin.customer.index")?X((g(),R(ee,{key:1,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/customers"),onClick:f[5]||(f[5]=_=>t(W).get(d.route("admin.customer.index")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"people"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[32]||(f[32]=[v("Pelanggan")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),d.$can("admin.purchase-order.index")||d.$can("admin.supplier.index")?(g(),R(wt,{key:1,icon:"local_shipping",label:"Pembelian","default-opened":d.$page.url.startsWith("/admin/purchase-orders")||d.$page.url.startsWith("/admin/suppliers")},{default:l(()=>[d.$can("admin.purchase-order.index")?X((g(),R(ee,{key:0,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/purchase-orders"),onClick:f[6]||(f[6]=_=>t(W).get(d.route("admin.purchase-order.index")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"shopping_cart"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[33]||(f[33]=[v("Pembelian")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),d.$can("admin.supplier.index")?X((g(),R(ee,{key:1,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/suppliers"),onClick:f[7]||(f[7]=_=>t(W).get(d.route("admin.supplier.index")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"people"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[34]||(f[34]=[v("Pemasok")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),d.$can("admin.product.index")||d.$can("admin.product-category.index")||d.$can("admin.stock-adjustment.index")||d.$can("admin.stock-movement.index")?(g(),R(wt,{key:2,icon:"inventory_2",label:"Inventori","default-opened":d.$page.url.startsWith("/admin/products")||d.$page.url.startsWith("/admin/product-categories")||d.$page.url.startsWith("/admin/stock-adjustments")||d.$page.url.startsWith("/admin/stock-movements")},{default:l(()=>[d.$can("admin.stock-adjustment.index")?X((g(),R(ee,{key:0,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/stock-adjustments"),onClick:f[8]||(f[8]=_=>t(W).get(d.route("admin.stock-adjustment.index")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"swap_vert"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[35]||(f[35]=[v("Penyesuaian Stok")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),d.$can("admin.stock-movement.index")?X((g(),R(ee,{key:1,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/stock-movements"),onClick:f[9]||(f[9]=_=>t(W).get(d.route("admin.stock-movement.index")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"timeline"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[36]||(f[36]=[v("Riwayat Stok")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),d.$can("admin.product.index")?X((g(),R(ee,{key:2,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/products"),onClick:f[10]||(f[10]=_=>t(W).get(d.route("admin.product.index")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"box"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[37]||(f[37]=[v("Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),d.$can("admin.product-category.index")?X((g(),R(ee,{key:3,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/product-categories"),onClick:f[11]||(f[11]=_=>t(W).get(d.route("admin.product-category.index")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"category"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[38]||(f[38]=[v("Kategori Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),d.$can("admin.cashier-session.index")||d.$can("admin.cashier-terminal.index")?(g(),R(wt,{key:3,icon:"point_of_sale",label:"Kasir","default-opened":d.$page.url.startsWith("/admin/cashier-terminals")||d.$page.url.startsWith("/admin/cashier-session")},{default:l(()=>[d.$can("admin.cashier-session.index")?X((g(),R(ee,{key:0,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/cashier-sessions"),onClick:f[12]||(f[12]=_=>t(W).get(d.route("admin.cashier-session.index")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"tv_signin"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[39]||(f[39]=[v("Sesi Kasir")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),d.$can("admin.cashier-terminal.index")?X((g(),R(ee,{key:1,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/cashier-terminals"),onClick:f[13]||(f[13]=_=>t(W).get(d.route("admin.cashier-terminal.index")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"point_of_sale"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[40]||(f[40]=[v("Terminal Kasir")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),d.$can("admin.customer-wallet-transaction-confirmation.index")||d.$can("admin.customer-wallet-transaction.index")?(g(),R(wt,{key:4,icon:"wallet",label:"Wallet","default-opened":d.$page.url.startsWith("/admin/customer-wallet-transactions")||d.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations")},{default:l(()=>[d.$can("admin.customer-wallet-transaction-confirmation.index")?X((g(),R(ee,{key:0,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations"),onClick:f[14]||(f[14]=_=>t(W).get(d.route("admin.customer-wallet-transaction-confirmation.index")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"add_task"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[41]||(f[41]=[v("Konfirmasi Top Up")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),d.$can("admin.customer-wallet-transaction.index")?X((g(),R(ee,{key:1,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/customer-wallet-transactions"),onClick:f[15]||(f[15]=_=>t(W).get(d.route("admin.customer-wallet-transaction.index")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"moving"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[42]||(f[42]=[v("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),d.$can("admin.finance-transaction.index")||d.$can("admin.finance-account.index")?(g(),R(wt,{key:5,icon:"finance",label:"Keuangan","default-opened":d.$page.url.startsWith("/admin/finance-accounts")||d.$page.url.startsWith("/admin/finance-transactions")},{default:l(()=>[d.$can("admin.finance-transaction.index")?X((g(),R(ee,{key:0,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/finance-transactions"),onClick:f[16]||(f[16]=_=>t(W).get(d.route("admin.finance-transaction.index")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"moving"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[43]||(f[43]=[v("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),d.$can("admin.finance-account.index")?X((g(),R(ee,{key:1,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/finance-accounts"),onClick:f[17]||(f[17]=_=>t(W).get(d.route("admin.finance-account.index")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"groups_2"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[44]||(f[44]=[v("Akun Kas")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),d.$can("admin.operational-cost.index")||d.$can("admin.operational-cost-category.index")?(g(),R(wt,{key:6,icon:"paid",label:"Operasional","default-opened":d.$page.url.startsWith("/admin/operational-costs")||d.$page.url.startsWith("/admin/operational-cost-categories")},{default:l(()=>[d.$can("admin.operational-cost.index")?X((g(),R(ee,{key:0,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/operational-costs"),onClick:f[18]||(f[18]=_=>t(W).get(d.route("admin.operational-cost.index")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"request_quote"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[45]||(f[45]=[v("Biaya Operasional")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),d.$can("admin.operational-cost-category.index")?X((g(),R(ee,{key:1,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/operational-cost-categories"),onClick:f[19]||(f[19]=_=>t(W).get(d.route("admin.operational-cost-category.index")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"category"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[46]||(f[46]=[v("Kategori")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),e(wt,{icon:"settings",label:"Pengaturan","default-opened":d.$page.url.startsWith("/admin/settings")},{default:l(()=>[d.$can("admin.user.index")?X((g(),R(ee,{key:0,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/settings/users"),onClick:f[20]||(f[20]=_=>t(W).get(d.route("admin.user.index")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"person"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[47]||(f[47]=[v("Pengguna")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),d.$can("admin.user-role.index")?X((g(),R(ee,{key:1,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/settings/user-roles"),onClick:f[21]||(f[21]=_=>t(W).get(d.route("admin.user-role.index")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"group"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[48]||(f[48]=[v("Role Pengguna")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),X((g(),R(ee,{class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/settings/profile"),onClick:f[22]||(f[22]=_=>t(W).get(d.route("admin.user-profile.edit")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"manage_accounts"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[49]||(f[49]=[v("Profil Saya")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]),d.$can("admin.company-profile.edit")?X((g(),R(ee,{key:2,class:"subnav",clickable:"",active:d.$page.url.startsWith("/admin/settings/company-profile"),onClick:f[23]||(f[23]=_=>t(W).get(d.route("admin.company-profile.edit")))},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"apartment"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[50]||(f[50]=[v("Profil Perusahaan")])),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0)]),_:1},8,["default-opened"]),X((g(),R(ee,{clickable:"",style:{color:"inherit"},href:d.route("admin.auth.logout")},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(x,{name:"logout"})]),_:1}),e(M,null,{default:l(()=>[e(ge,null,{default:l(()=>f[51]||(f[51]=[v("Logout")])),_:1})]),_:1})]),_:1},8,["href"])),[[re],[ne]]),a("div",sv,"  2025 - "+r(d.$config.APP_NAME+" v"+d.$config.APP_VERSION_STR),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Sn,{class:"bg-grey-1"},{default:l(()=>[e(xe,null,{default:l(()=>[Vt(d.$slots,"default",{},void 0,!0)]),_:3})]),_:3}),Vt(d.$slots,"footer",{},void 0,!0)]),_:3}))}},iv=ft(rv,[["__scopeId","data-v-83b5d7bb"]]),dv={__name:"GuestLayout",setup(u){return(n,m)=>(g(),R(qn,null,{default:l(()=>[Vt(n.$slots,"default")]),_:3}))}};Cn({layouts:{authenticated:iv,guest:dv},pagesGlob:Object.assign({"./pages/About.vue":Dn,"./pages/_examples/Autocomplete1.vue":Mn,"./pages/auth/Login.vue":Fn,"./pages/cashier-session/Close.vue":Jn,"./pages/cashier-session/Detail.vue":Ns,"./pages/cashier-session/Index.vue":Ys,"./pages/cashier-session/Open.vue":Js,"./pages/cashier-session/detail/FinanceTransactionTab.vue":Us,"./pages/cashier-session/detail/MainInfoTab.vue":ws,"./pages/cashier-session/detail/SalesOrderTab.vue":Ts,"./pages/cashier-terminal/Detail.vue":cr,"./pages/cashier-terminal/Editor.vue":vr,"./pages/cashier-terminal/Index.vue":hr,"./pages/cashier-terminal/detail/MainInfoTab.vue":or,"./pages/cashier-terminal/detail/SessionHistoryTab.vue":rr,"./pages/company-profile/Edit.vue":Tr,"./pages/company-profile/partials/CompanyInfoForm.vue":xr,"./pages/customer-wallet-transaction-confirmation/Detail.vue":Nr,"./pages/customer-wallet-transaction-confirmation/Index.vue":Hr,"./pages/customer-wallet-transaction/Adjustment.vue":Qr,"./pages/customer-wallet-transaction/Detail.vue":ni,"./pages/customer-wallet-transaction/Editor.vue":di,"./pages/customer-wallet-transaction/Index.vue":bi,"./pages/customer/Detail.vue":Ai,"./pages/customer/Editor.vue":zi,"./pages/customer/Import.vue":Wi,"./pages/customer/Index.vue":td,"./pages/customer/detail/MainInfoTab.vue":Si,"./pages/customer/detail/OrderHistoryTab.vue":Di,"./pages/customer/detail/WalletHistoryTab.vue":Ci,"./pages/dashboard/Index.vue":$d,"./pages/dashboard/cards/ActualSummaryCard.vue":id,"./pages/dashboard/cards/ChartCard.vue":pd,"./pages/dashboard/cards/SummaryCard.vue":Id,"./pages/dashboard/cards/TopCard.vue":vd,"./pages/finance-account/Detail.vue":Ld,"./pages/finance-account/Editor.vue":Wd,"./pages/finance-account/Index.vue":iu,"./pages/finance-account/detail/HistoryTab.vue":Ad,"./pages/finance-account/detail/MainInfoTab.vue":Rd,"./pages/finance-transaction/Detail.vue":yu,"./pages/finance-transaction/Editor.vue":hu,"./pages/finance-transaction/Index.vue":Ou,"./pages/operational-cost-category/Editor.vue":Uu,"./pages/operational-cost-category/Index.vue":zu,"./pages/operational-cost/Detail.vue":Zu,"./pages/operational-cost/Editor.vue":nm,"./pages/operational-cost/Index.vue":fm,"./pages/product-category/Editor.vue":_m,"./pages/product-category/Index.vue":Sm,"./pages/product/Detail.vue":Km,"./pages/product/Editor.vue":Gm,"./pages/product/Import.vue":tc,"./pages/product/Index.vue":cc,"./pages/product/detail/MainInfoTab.vue":Mm,"./pages/product/detail/StockHistoryTab.vue":Nm,"./pages/purchase-order/Editor.vue":Kc,"./pages/purchase-order/Editor_v1.vue":Jc,"./pages/purchase-order/Index.vue":np,"./pages/purchase-order/editor/ConfirmDeleteDialog.vue":Mc,"./pages/purchase-order/editor/ItemsListTable.vue":Cc,"./pages/purchase-order/editor/SupplierEditorDialog.vue":Ac,"./pages/purchase-order/editor/TransactionHeader.vue":hc,"./pages/purchase-order/editor/TransactionSummary.vue":Uc,"./pages/sales-order/Detail.vue":sf,"./pages/sales-order/Editor.vue":Pg,"./pages/sales-order/Index.vue":Kg,"./pages/sales-order/detail/InvoiceTab.vue":Pp,"./pages/sales-order/detail/PaymentDialog.vue":Ap,"./pages/sales-order/detail/PaymentTab.vue":tf,"./pages/sales-order/editor/HelpDialog.vue":Nf,"./pages/sales-order/editor/ItemEditorDialog.vue":jf,"./pages/sales-order/editor/ItemsListTable.vue":cf,"./pages/sales-order/editor/OrderInfoDialog.vue":Hf,"./pages/sales-order/editor/PaymentDialog.vue":Tf,"./pages/sales-order/editor/SuccessDialog.vue":og,"./pages/stock-adjustment/Create.vue":ab,"./pages/stock-adjustment/Detail.vue":cb,"./pages/stock-adjustment/Editor.vue":yb,"./pages/stock-adjustment/Index.vue":Tb,"./pages/stock-movement/Index.vue":Ub,"./pages/supplier/Detail.vue":zb,"./pages/supplier/Editor.vue":Kb,"./pages/supplier/Index.vue":Zb,"./pages/user-profile/Edit.vue":s1,"./pages/user-profile/partials/UpdatePasswordForm.vue":e1,"./pages/user-profile/partials/UpdateProfileInformationForm.vue":t1,"./pages/user-role/Detail.vue":_1,"./pages/user-role/Editor.vue":x1,"./pages/user-role/Index.vue":P1,"./pages/user/Detail.vue":N1,"./pages/user/Editor.vue":Y1,"./pages/user/Index.vue":Z1})});
