import{_ as lt,Q as ae,a as W,T as ke,b as ve,c as Se,h as he,d as tt,e as C,f as F,g as N,i as at,j as dt,k as ie,s as Ce,l as Z,m as Q,n as I,o as Oe,F as R,p as Ke,D as ft,q as ot,r as qa,u as fe,t as gt,v as Ve,w as Te,x as Ae,y as bt,z as _e,A as we,B as E,C as He,E as B,G as ze,H as Re,I as xe,J as Be,R as X,K as oe,L as Pe,M as Tt,N as Ca,O as nl,P as sl,S as pt,U as Pt,V as Ot,W as rl,X as il,Y as vt,Z as ul,$ as Mt,a0 as ct,a1 as Nt,a2 as Xt,a3 as dl,a4 as ht,a5 as Zt,a6 as ml,a7 as ea,a8 as cl,a9 as pl,aa as fl,ab as Va,ac as Ta,ad as gl,ae as At,af as Dt,ag as ne,ah as je,ai as bl,aj as Ut,ak as Et,al as vl,am as _l,an as yl,ao as Pa,ap as _t,aq as wl,ar as kl,as as hl,at as $l,au as Ma,av as Sl,aw as xl,ax as ql,ay as Je,az as Cl,aA as Vl,aB as Tl,aC as Pl,aD as Ml,aE as Nl,aF as Il,aG as Ol,aH as Al}from"./BaseGuestLayout-MHdZ6D4T.js";import{r as D,f as P,j as h,k as e,l as a,m as l,p as v,F as Y,q as M,v as J,u as t,x as j,y as u,w as qe,c as K,z as H,A as U,B as Ye,h as re,C as Me,o as ye,D as Ee,i as Dl,g as yt,b as St,E as Ul,G as El,H as jl,T as Na,K as Rl,I as pe,J as rt,L as Bl,M as jt,n as xt,N as Ll,O as zl,P as Yl,Q as et}from"./vendor1-BEIu9Sdz.js";import{bT as Hl,eC as $t}from"./vendor2-3IQwJ-7x.js";import{i as Fl,a as Kl,b as Ql,c as Wl,d as Jl,e as Gl,f as Xl}from"./vendor3-BeKTN5ZY.js";const Zl={},eo={class:"row"};function to(c,n){const p=D("i-head"),o=D("authenticated-layout");return h(),P(Y,null,[e(p,{title:"About"}),e(o,null,{title:a(()=>n[0]||(n[0]=[v("About")])),default:a(()=>[l("div",eo,[e(ae,{class:"col q-pa-md q-ma-md",square:"",flat:"",bordered:""},{default:a(()=>[e(W,null,{default:a(()=>n[1]||(n[1]=[l("div",{class:"q-mb-md text-h4"},"About",-1),l("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Autem soluta, accusamus placeat eius eligendi perferendis quisquam veritatis iste debitis laboriosam facere et aliquam quos beatae illo distinctio rerum eos! Expedita, voluptatem. Aut nihil deleniti magni fuga eius labore aliquam nulla quod ullam sunt amet eum asperiores, harum unde eligendi tempore sapiente. Placeat sed, dignissimos voluptatum perspiciatis saepe aspernatur, maxime est, ipsam quas nobis cumque sunt labore molestias? Amet in sed ullam recusandae, nostrum dicta facilis blanditiis incidunt quae commodi soluta id impedit vel fugit illo, molestias reiciendis, provident nam molestiae! Ipsam, hic. Facere aut quisquam praesentium enim illum, pariatur nam.",-1),l("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, cum nulla. Ut eligendi tenetur aliquam cum mollitia repellat voluptas, fugiat doloremque sunt commodi enim excepturi distinctio id sapiente incidunt ipsam asperiores cupiditate, labore libero! Ad facere magni cumque perspiciatis, adipisci possimus pariatur quo nobis minus, est enim similique quaerat vel asperiores ipsam harum et, totam fugit.",-1),l("p",null,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Suscipit aspernatur maxime consectetur, consequatur excepturi facilis praesentium rem placeat sapiente, maiores doloribus modi voluptate. Unde autem dolor officiis numquam incidunt quasi aspernatur nam dolores ratione quidem recusandae, nulla qui provident molestias odit nemo praesentium quas voluptatem aliquid perferendis, iste veritatis vitae. Dolor, eligendi quidem distinctio asperiores doloremque culpa corporis quibusdam earum ex laudantium iure officia ullam nostrum maxime voluptatum laboriosam impedit labore illum. Culpa, veniam dolor odio ad eius nisi, aspernatur quia veritatis blanditiis repellat id minima deserunt beatae?",-1)])),_:1})]),_:1})])]),_:1})],64)}const ao=lt(Zl,[["render",to]]),lo=Object.freeze(Object.defineProperty({__proto__:null,default:ao},Symbol.toStringTag,{value:"Module"})),oo={class:"column"},no={class:"row"},so={class:"flex justify-center"},ro={__name:"Login",setup(c){let n=ke({username:window.CONFIG.APP_DEMO?"admin":"",password:window.CONFIG.APP_DEMO?"12345":"",remember:!0});const p=()=>he({form:n,url:route("admin.auth.login")}),o=M(!1);return(s,m)=>{const r=D("i-head"),i=D("guest-layout");return h(),P(Y,null,[e(r,{title:"Login"}),e(i,null,{default:a(()=>[e(ve,{class:"row justify-center items-center"},{default:a(()=>[l("div",oo,[l("div",no,[e(Se,{class:"q-gutter-md",onSubmit:J(p,["prevent"])},{default:a(()=>[e(ae,{square:"",bordered:"",flat:"",class:"q-pa-md"},{default:a(()=>[e(W,{class:"text-center"},{default:a(()=>[l("div",so,[e(tt,{size:"80px"},{default:a(()=>[e(C,{name:"badge",color:"primary"})]),_:1})]),m[4]||(m[4]=l("h6",{class:"q-my-sm text-primary"},"Login Staff",-1))]),_:1}),e(W,null,{default:a(()=>[e(F,{modelValue:t(n).username,"onUpdate:modelValue":m[0]||(m[0]=f=>t(n).username=f),modelModifiers:{trim:!0},label:"Username","lazy-rules":"",error:!!t(n).errors.username,autocomplete:"username","error-message":t(n).errors.username,disable:t(n).processing,rules:[f=>f&&f.length>0||"Masukkan Username"]},{append:a(()=>[e(C,{name:"person"})]),_:1},8,["modelValue","error","error-message","disable","rules"]),e(F,{modelValue:t(n).password,"onUpdate:modelValue":m[2]||(m[2]=f=>t(n).password=f),type:o.value?"text":"password",label:"Kata Sandi",error:!!t(n).errors.password,autocomplete:"current-password","error-message":t(n).errors.password,"lazy-rules":"",disable:t(n).processing,rules:[f=>f&&f.length>0||"Masukkan kata sandi"]},{append:a(()=>[e(N,{dense:"",flat:"",round:"",onClick:m[1]||(m[1]=f=>o.value=!o.value)},{default:a(()=>[e(C,{name:o.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","error","error-message","disable","rules"]),e(at,{class:"q-mt-sm q-pl-none",style:{"margin-left":"-10px"},modelValue:t(n).remember,"onUpdate:modelValue":m[3]||(m[3]=f=>t(n).remember=f),disable:t(n).processing,label:"Ingat saya di perangkat ini"},null,8,["modelValue","disable"])]),_:1}),e(dt,null,{default:a(()=>[e(N,{icon:"login",type:"submit",color:"primary",class:"full-width",label:"Login",disable:t(n).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},io=Object.freeze(Object.defineProperty({__proto__:null,default:ro},Symbol.toStringTag,{value:"Module"})),Ia={__name:"CompanyInfoForm",setup(c){const n=M(),p=ie(),o=ke({name:p.props.data.name,phone:p.props.data.phone,address:p.props.data.address}),s=()=>he({form:o,url:route("admin.company-profile.update")});return(m,r)=>(h(),j(Se,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(Ce)},{default:a(()=>[e(ae,{flat:"",bordered:"",square:"",class:"col"},{default:a(()=>[e(W,null,{default:a(()=>[r[3]||(r[3]=l("div",{class:"text-subtitle1 q-my-xs"},"Profil Koperasi",-1)),r[4]||(r[4]=l("p",{class:"text-caption text-grey-9"},"Perbarui profil koperasi.",-1)),e(F,{ref_key:"nameInputRef",ref:n,modelValue:t(o).name,"onUpdate:modelValue":r[0]||(r[0]=i=>t(o).name=i),modelModifiers:{trim:!0},label:"Nama Koperasi",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.name,"error-message":t(o).errors.name,rules:[i=>i&&i.length>0||"Nama Koperasi harus diisi."]},null,8,["modelValue","disable","error","error-message","rules"]),e(F,{modelValue:t(o).phone,"onUpdate:modelValue":r[1]||(r[1]=i=>t(o).phone=i),modelModifiers:{trim:!0},label:"No Telepon",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.phone,"error-message":t(o).errors.phone},null,8,["modelValue","disable","error","error-message"]),e(F,{type:"textarea",counter:"",autogrow:"",maxlength:"1000",modelValue:t(o).address,"onUpdate:modelValue":r[2]||(r[2]=i=>t(o).address=i),modelModifiers:{trim:!0},label:"Alamat Koperasi",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.address,"error-message":t(o).errors.address},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(W,null,{default:a(()=>[e(N,{icon:"save",type:"submit",color:"primary",label:"Simpan",disable:t(o).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},uo=Object.freeze(Object.defineProperty({__proto__:null,default:Ia},Symbol.toStringTag,{value:"Module"})),mo={class:"q-pa-sm"},co={class:"row justify-center"},po={class:"col col-lg-6"},ta="Profil Koperasi",fo={__name:"Edit",setup(c){return(n,p)=>{const o=D("i-head"),s=D("authenticated-layout");return h(),P(Y,null,[e(o,{title:ta}),e(s,null,{title:a(()=>[v(u(ta))]),default:a(()=>[l("div",mo,[l("div",co,[l("div",po,[e(Ia)])])])]),_:1})],64)}}},go=Object.freeze(Object.defineProperty({__proto__:null,default:fo},Symbol.toStringTag,{value:"Module"}));function Rt(c,n=!1){const p=c.map(r=>({value:r.id,label:r.username+" - "+r.name})),o=n?[{value:"all",label:"Semua"},...p]:p,s=M([...o]);return{filteredCustomers:s,filterCustomersFn:(r,i)=>{i(()=>{s.value=o.filter(f=>f.label.toLowerCase().includes(r.toLowerCase()))})},customers:o}}const bo={class:"col col-lg-6 q-pa-sm"},aa="Penyesuaian Saldo Dompet Santri",vo={__name:"Adjustment",setup(c){const n=ie(),{filteredCustomers:p,filterCustomersFn:o}=Rt(n.props.customers,!1),s=ke({customer_id:null,old_balance:0,new_balance:0,notes:""}),m=()=>s.amount=s.new_balance-s.old_balance;qe(()=>s.customer_id,async f=>{if(!f){s.old_balance=0,s.new_balance=0,m();return}s.processing=!0;try{const _=await axios.get(route("admin.customer.balance",{id:f}));s.new_balance=s.old_balance=_.data.balance}catch(_){console.error("Gagal mengambil saldo:",_),s.old_balance=0,s.new_balance=0}s.processing=!1,m()});const r=K(()=>s.new_balance-s.old_balance),i=()=>he({form:s,url:route("admin.customer-wallet-transaction.adjustment")});return(f,_)=>{const b=D("i-head"),k=D("authenticated-layout");return h(),P(Y,null,[e(b,{title:aa}),e(k,null,{title:a(()=>[v(u(aa))]),default:a(()=>[e(ve,{class:"row justify-center"},{default:a(()=>[l("div",bo,[e(Se,{class:"row",onSubmit:J(i,["prevent"]),onValidationError:t(Ce)},{default:a(()=>[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(W,{class:"q-pt-none"},{default:a(()=>[e(Z,{class:"custom-select",modelValue:t(s).customer_id,"onUpdate:modelValue":_[0]||(_[0]=d=>t(s).customer_id=d),label:"Santri","use-input":"","input-debounce":"300",clearable:"",options:t(p),"map-options":"","emit-value":"",errorMessage:t(s).errors.customer_id,onFilter:t(o),error:!!t(s).errors.customer_id,disable:t(s).processing},{"no-option":a(()=>[e(Q,null,{default:a(()=>[e(I,null,{default:a(()=>_[6]||(_[6]=[v("Santri tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(Oe,{modelValue:t(s).old_balance,"onUpdate:modelValue":_[1]||(_[1]=d=>t(s).old_balance=d),label:"Saldo Tercatat",readonly:"",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.balance,errorMessage:t(s).errors.balance},null,8,["modelValue","disable","error","errorMessage"]),e(Oe,{modelValue:t(s).new_balance,"onUpdate:modelValue":_[2]||(_[2]=d=>t(s).new_balance=d),label:"Saldo Seharusnya",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.new_balance,errorMessage:t(s).errors.new_balance},null,8,["modelValue","disable","error","errorMessage"]),e(Oe,{modelValue:r.value,"onUpdate:modelValue":_[3]||(_[3]=d=>r.value=d),label:"Selisih",readonly:"",lazyRules:"",disable:t(s).processing},null,8,["modelValue","disable"]),e(F,{modelValue:t(s).notes,"onUpdate:modelValue":_[4]||(_[4]=d=>t(s).notes=d),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,rules:[d=>d&&d.length>0||"Catatan harus diisi."]},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(W,{class:"q-gutter-sm"},{default:a(()=>[e(N,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(N,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:_[5]||(_[5]=d=>t(R).get(f.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},_o=Object.freeze(Object.defineProperty({__proto__:null,default:vo},Symbol.toStringTag,{value:"Module"})),yo={class:"q-gutter-sm"},wo={class:"col col-lg-6 q-pa-sm"},ko={__name:"Editor",setup(c){const n=ie(),p=(n.props.data.id?"Edit":"Catat")+" Transaksi Dompet Santri",{filteredCustomers:o,filterCustomersFn:s}=Rt(n.props.customers,!1),m=[{label:"Deposit (+)",value:"deposit"},{label:"Penarikan (-)",value:"withdrawal"},{label:"Pembelian (-)",value:"purchase"},{label:"Refund (+)",value:"refund"}],r=n.props.finance_accounts.map(_=>({label:_.name,value:_.id})),i=ke({id:n.props.data.id,customer_id:n.props.data.customer_id,finance_account_id:n.props.data.finance_account_id,type:n.props.data.type,datetime:Ke(n.props.data.datetime).format("YYYY-MM-DD HH:mm:ss"),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),f=()=>he({form:i,url:route("admin.customer-wallet-transaction.save")});return(_,b)=>{const k=D("i-head"),d=D("authenticated-layout");return h(),P(Y,null,[e(k,{title:p}),e(d,null,{title:a(()=>[v(u(p))]),"left-button":a(()=>[l("div",yo,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=y=>_.$inertia.get(_.route("admin.customer-wallet-transaction.index")))})])]),default:a(()=>[e(ve,{class:"row justify-center"},{default:a(()=>[l("div",wo,[e(Se,{class:"row",onSubmit:J(f,["prevent"]),onValidationError:t(Ce)},{default:a(()=>[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(W,{class:"q-pt-none"},{default:a(()=>[H(l("input",{type:"hidden",name:"id","onUpdate:modelValue":b[1]||(b[1]=y=>t(i).id=y)},null,512),[[Ye,t(i).id]]),e(ft,{autofocus:"",modelValue:t(i).datetime,"onUpdate:modelValue":b[2]||(b[2]=y=>t(i).datetime=y),label:"Tanggal",error:!!t(i).errors.datetime,disable:t(i).processing},null,8,["modelValue","error","disable"]),e(Z,{class:"custom-select",modelValue:t(i).customer_id,"onUpdate:modelValue":b[3]||(b[3]=y=>t(i).customer_id=y),label:"Santri","use-input":"","input-debounce":"300",clearable:"",options:t(o),"map-options":"","emit-value":"",errorMessage:t(i).errors.customer_id,onFilter:t(s),error:!!t(i).errors.customer_id,disable:t(i).processing},{"no-option":a(()=>[e(Q,null,{default:a(()=>[e(I,null,{default:a(()=>b[9]||(b[9]=[v("Santri tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(Z,{modelValue:t(i).type,"onUpdate:modelValue":b[4]||(b[4]=y=>t(i).type=y),label:"Jenis",options:m,"map-options":"","emit-value":"",error:!!t(i).errors.type,disable:t(i).processing,errorMessage:t(i).errors.type},null,8,["modelValue","error","disable","errorMessage"]),t(i).type=="deposit"||t(i).type=="withdrawal"?(h(),j(Z,{key:0,modelValue:t(i).finance_account_id,"onUpdate:modelValue":b[5]||(b[5]=y=>t(i).finance_account_id=y),label:t(i).type=="deposit"?"Kas Tujuan":"Kas Asal",options:t(r),"map-options":"","emit-value":"",error:!!t(i).errors.finance_account_id,disable:t(i).processing,errorMessage:t(i).errors.finance_account_id},null,8,["modelValue","label","options","error","disable","errorMessage"])):U("",!0),e(Oe,{modelValue:t(i).amount,"onUpdate:modelValue":b[6]||(b[6]=y=>t(i).amount=y),label:"Jumlah",lazyRules:"",disable:t(i).processing,error:!!t(i).errors.amount,errorMessage:t(i).errors.amount,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),e(F,{modelValue:t(i).notes,"onUpdate:modelValue":b[7]||(b[7]=y=>t(i).notes=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(i).processing,error:!!t(i).errors.notes,"error-message":t(i).errors.notes,rules:[y=>y&&y.length>0||"Catatan harus diisi."]},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(W,{class:"q-gutter-sm"},{default:a(()=>[e(N,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(i).processing},null,8,["disable"]),e(N,{icon:"cancel",label:"Batal",disable:t(i).processing,onClick:b[8]||(b[8]=y=>t(R).get(_.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},ho=Object.freeze(Object.defineProperty({__proto__:null,default:ko},Symbol.toStringTag,{value:"Module"})),$o=["top","middle","bottom"],wt=ot({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:c=>$o.includes(c)}},setup(c,{slots:n}){const p=K(()=>c.align!==void 0?{verticalAlign:c.align}:null),o=K(()=>{const s=c.outline===!0&&c.color||c.textColor;return`q-badge flex inline items-center no-wrap q-badge--${c.multiLine===!0?"multi":"single"}-line`+(c.outline===!0?" q-badge--outline":c.color!==void 0?` bg-${c.color}`:"")+(s!==void 0?` text-${s}`:"")+(c.floating===!0?" q-badge--floating":"")+(c.rounded===!0?" q-badge--rounded":"")+(c.transparent===!0?" q-badge--transparent":"")});return()=>re("div",{class:o.value,style:p.value,role:"status","aria-label":c.label},qa(n.default,c.label!==void 0?[c.label]:[]))}}),So={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},xo={class:"q-pa-sm"},qo={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Co={class:"flex justify-end"},la="Transaksi Dompet Santri",Vo={__name:"Index",setup(c){const n=fe(),p=M(!1),o=M([]),s=M(!0),m=new Date().getFullYear(),r=new Date().getMonth()+1,i=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...gt(m-2,m-1).reverse()],f=[{value:"all",label:"Semua Bulan"},...bt()],_=Me({search:"",year:m,month:r,...Ve()}),b=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!0}),k=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"customer",label:"Santri",field:"customer",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];ye(()=>{y()});const d=T=>Be({message:`Hapus transaksi #-${T.id}?`,url:route("admin.customer-wallet-transaction.delete",T.id),fetchItemsCallback:y,loading:s}),y=(T=null)=>{Te({pagination:b,filter:_,props:T,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:s})},q=()=>{y()},g=K(()=>n.screen.gt.sm?k:k.filter(T=>T.name==="datetime"||T.name==="action"));return qe(()=>_.year,T=>{T===null&&(_.month=null)}),(T,$)=>{const S=D("i-head"),x=D("authenticated-layout");return h(),P(Y,null,[e(S,{title:la}),e(x,null,Ee({title:a(()=>[v(u(la))]),"right-button":a(()=>[e(N,{icon:"add",dense:"",color:"primary",onClick:$[0]||($[0]=w=>t(R).get(T.route("admin.customer-wallet-transaction.add")))}),e(N,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:$[1]||($[1]=w=>p.value=!p.value)},null,8,["icon"])]),default:a(()=>[l("div",xo,[e(_e,{class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":$[6]||($[6]=w=>b.value=w),filter:_.search,loading:s.value,columns:g.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:y,"binary-state-sort":""},{loading:a(()=>[e(Pe,{showing:"",color:"red"})]),"no-data":a(({icon:w,message:O,filter:V})=>[l("div",qo,[l("span",null,u(O)+" "+u(V?" with term "+V:""),1)])]),body:a(w=>[e(we,{props:w},{default:a(()=>[e(E,{key:"datetime",props:w,class:"wrap-column"},{default:a(()=>[l("div",null,[v(" #"+u(w.row.id)+" - ",1),e(C,{name:"calendar_today"}),v(" "+u(w.row.datetime),1)]),l("div",null,[e(wt,null,{default:a(()=>[e(C,{name:"category"}),v(" "+u(w.row.type_label),1)]),_:2},1024),v(" : "+u(w.row.finance_account?w.row.finance_account.name:"-"),1)]),t(n).screen.gt.sm?U("",!0):(h(),P(Y,{key:0},[l("div",null,u(w.row.customer.username)+" - "+u(w.row.customer.name),1),l("div",null,[e(C,{name:"money"}),v(" Rp. "+u(t(He)(w.row.amount)+t(B)(w.row.amount)),1)]),l("div",null,[e(C,{name:"notes"}),v(" "+u(w.row.notes),1)])],64))]),_:2},1032,["props"]),e(E,{key:"customer",props:w},{default:a(()=>[v(u(w.row.customer.username)+" - "+u(w.row.customer.name),1)]),_:2},1032,["props"]),e(E,{key:"notes",props:w},{default:a(()=>[v(u(w.row.notes),1)]),_:2},1032,["props"]),e(E,{key:"amount",props:w,style:{"text-align":"right"}},{default:a(()=>[v(u(t(He)(w.row.amount)+t(B)(w.row.amount)),1)]),_:2},1032,["props"]),e(E,{key:"action",props:w},{default:a(()=>[l("div",Co,[e(N,{disabled:!t(ze)(T.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:$[5]||($[5]=J(()=>{},["stop"]))},{default:a(()=>[e(Re,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(xe,{style:{width:"200px"}},{default:a(()=>[H((h(),j(Q,{onClick:J(O=>d(w.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>$[7]||($[7]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar"},{default:a(()=>[l("div",So,[e(Z,{modelValue:_.year,"onUpdate:modelValue":[$[2]||($[2]=w=>_.year=w),q],options:i,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(Z,{modelValue:_.month,"onUpdate:modelValue":[$[3]||($[3]=w=>_.month=w),q],options:f,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:_.year===null},null,8,["modelValue","disable"]),e(F,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:_.search,"onUpdate:modelValue":$[4]||($[4]=w=>_.search=w),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},To=Object.freeze(Object.defineProperty({__proto__:null,default:Vo},Symbol.toStringTag,{value:"Module"}));let Po=0;const Mo=["click","keydown"],No={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Po++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Io(c,n,p,o){const s=Dl(Ca,Tt);if(s===Tt)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Tt;const{proxy:m}=yt(),r=M(null),i=M(null),f=M(null),_=K(()=>c.disable===!0||c.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},c.ripple===!0?{}:c.ripple)),b=K(()=>s.currentModel.value===c.name),k=K(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(b.value===!0?" q-tab--active"+(s.tabProps.value.activeClass?" "+s.tabProps.value.activeClass:"")+(s.tabProps.value.activeColor?` text-${s.tabProps.value.activeColor}`:"")+(s.tabProps.value.activeBgColor?` bg-${s.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(c.icon&&c.label&&s.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(c.noCaps===!0||s.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(c.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),d=K(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(s.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(c.contentClass!==void 0?` ${c.contentClass}`:"")),y=K(()=>c.disable===!0||s.hasFocus.value===!0||b.value===!1&&s.hasActiveTab.value===!0?-1:c.tabindex||0);function q(x,w){if(w!==!0&&r.value!==null&&r.value.focus(),c.disable!==!0){s.updateModel({name:c.name}),p("click",x);return}}function g(x){nl(x,[13,32])?q(x,!0):sl(x)!==!0&&x.keyCode>=35&&x.keyCode<=40&&x.altKey!==!0&&x.metaKey!==!0&&s.onKbdNavigate(x.keyCode,m.$el)===!0&&pt(x),p("keydown",x)}function T(){const x=s.tabProps.value.narrowIndicator,w=[],O=re("div",{ref:f,class:["q-tab__indicator",s.tabProps.value.indicatorClass]});c.icon!==void 0&&w.push(re(C,{class:"q-tab__icon",name:c.icon})),c.label!==void 0&&w.push(re("div",{class:"q-tab__label"},c.label)),c.alert!==!1&&w.push(c.alertIcon!==void 0?re(C,{class:"q-tab__alert-icon",color:c.alert!==!0?c.alert:void 0,name:c.alertIcon}):re("div",{class:"q-tab__alert"+(c.alert!==!0?` text-${c.alert}`:"")})),x===!0&&w.push(O);const V=[re("div",{class:"q-focus-helper",tabindex:-1,ref:r}),re("div",{class:d.value},qa(n.default,w))];return x===!1&&V.push(O),V}const $={name:K(()=>c.name),rootRef:i,tabIndicatorRef:f,routeData:o};St(()=>{s.unregisterTab($)}),ye(()=>{s.registerTab($)});function S(x,w){const O={ref:i,class:k.value,tabindex:y.value,role:"tab","aria-selected":b.value===!0?"true":"false","aria-disabled":c.disable===!0?"true":void 0,onClick:q,onKeydown:g,...w};return H(re(x,O,T()),[[X,_.value]])}return{renderTab:S,$tabs:s}}const it=ot({name:"QTab",props:No,emits:Mo,setup(c,{slots:n,emit:p}){const{renderTab:o}=Io(c,n,p);return()=>o("div")}});function Oo(c,n,p){const o=p===!0?["left","right"]:["top","bottom"];return`absolute-${n===!0?o[0]:o[1]}${c?` text-${c}`:""}`}const Ao=["left","center","right","justify"],Bt=ot({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:c=>Ao.includes(c)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(c,{slots:n,emit:p}){const{proxy:o}=yt(),{$q:s}=o,{registerTick:m}=Pt(),{registerTick:r}=Pt(),{registerTick:i}=Pt(),{registerTimeout:f,removeTimeout:_}=Ot(),{registerTimeout:b,removeTimeout:k}=Ot(),d=M(null),y=M(null),q=M(c.modelValue),g=M(!1),T=M(!0),$=M(!1),S=M(!1),x=[],w=M(0),O=M(!1);let V=null,A=null,le;const L=K(()=>({activeClass:c.activeClass,activeColor:c.activeColor,activeBgColor:c.activeBgColor,indicatorClass:Oo(c.indicatorColor,c.switchIndicator,c.vertical),narrowIndicator:c.narrowIndicator,inlineLabel:c.inlineLabel,noCaps:c.noCaps})),ue=K(()=>{const z=w.value,G=q.value;for(let se=0;se<z;se++)if(x[se].name.value===G)return!0;return!1}),De=K(()=>`q-tabs__content--align-${g.value===!0?"left":S.value===!0?"justify":c.align}`),$e=K(()=>`q-tabs row no-wrap items-center q-tabs--${g.value===!0?"":"not-"}scrollable q-tabs--${c.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${c.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${c.mobileArrows===!0?"":"out"}-arrows`+(c.dense===!0?" q-tabs--dense":"")+(c.shrink===!0?" col-shrink":"")+(c.stretch===!0?" self-stretch":"")),Le=K(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+De.value+(c.contentClass!==void 0?` ${c.contentClass}`:"")),te=K(()=>c.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),me=K(()=>c.vertical!==!0&&s.lang.rtl===!0),Ne=K(()=>rl===!1&&me.value===!0);qe(me,st),qe(()=>c.modelValue,z=>{ee({name:z,setCurrent:!0,skipEmit:!0})}),qe(()=>c.outsideArrows,Ue);function ee({name:z,setCurrent:G,skipEmit:se}){q.value!==z&&(se!==!0&&c["onUpdate:modelValue"]!==void 0&&p("update:modelValue",z),(G===!0||c["onUpdate:modelValue"]===void 0)&&(qt(q.value,z),q.value=z))}function Ue(){m(()=>{Ge({width:d.value.offsetWidth,height:d.value.offsetHeight})})}function Ge(z){if(te.value===void 0||y.value===null)return;const G=z[te.value.container],se=Math.min(y.value[te.value.scroll],Array.prototype.reduce.call(y.value.children,(be,ce)=>be+(ce[te.value.content]||0),0)),ge=G>0&&se>G;g.value=ge,ge===!0&&r(st),S.value=G<parseInt(c.breakpoint,10)}function qt(z,G){const se=z!=null&&z!==""?x.find(be=>be.name.value===z):null,ge=G!=null&&G!==""?x.find(be=>be.name.value===G):null;if(kt===!0)kt=!1;else if(se&&ge){const be=se.tabIndicatorRef.value,ce=ge.tabIndicatorRef.value;V!==null&&(clearTimeout(V),V=null),be.style.transition="none",be.style.transform="none",ce.style.transition="none",ce.style.transform="none";const de=be.getBoundingClientRect(),Ie=ce.getBoundingClientRect();ce.style.transform=c.vertical===!0?`translate3d(0,${de.top-Ie.top}px,0) scale3d(1,${Ie.height?de.height/Ie.height:1},1)`:`translate3d(${de.left-Ie.left}px,0,0) scale3d(${Ie.width?de.width/Ie.width:1},1,1)`,i(()=>{V=setTimeout(()=>{V=null,ce.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",ce.style.transform="none"},70)})}ge&&g.value===!0&&nt(ge.rootRef.value)}function nt(z){const{left:G,width:se,top:ge,height:be}=y.value.getBoundingClientRect(),ce=z.getBoundingClientRect();let de=c.vertical===!0?ce.top-ge:ce.left-G;if(de<0){y.value[c.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(de),st();return}de+=c.vertical===!0?ce.height-be:ce.width-se,de>0&&(y.value[c.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(de),st())}function st(){const z=y.value;if(z===null)return;const G=z.getBoundingClientRect(),se=c.vertical===!0?z.scrollTop:Math.abs(z.scrollLeft);me.value===!0?(T.value=Math.ceil(se+G.width)<z.scrollWidth-1,$.value=se>0):(T.value=se>0,$.value=c.vertical===!0?Math.ceil(se+G.height)<z.scrollHeight:Math.ceil(se+G.width)<z.scrollWidth)}function Yt(z){A!==null&&clearInterval(A),A=setInterval(()=>{Ga(z)===!0&&Qe()},5)}function Ht(){Yt(Ne.value===!0?Number.MAX_SAFE_INTEGER:0)}function Ft(){Yt(Ne.value===!0?0:Number.MAX_SAFE_INTEGER)}function Qe(){A!==null&&(clearInterval(A),A=null)}function Wa(z,G){const se=Array.prototype.filter.call(y.value.children,Ie=>Ie===G||Ie.matches&&Ie.matches(".q-tab.q-focusable")===!0),ge=se.length;if(ge===0)return;if(z===36)return nt(se[0]),se[0].focus(),!0;if(z===35)return nt(se[ge-1]),se[ge-1].focus(),!0;const be=z===(c.vertical===!0?38:37),ce=z===(c.vertical===!0?40:39),de=be===!0?-1:ce===!0?1:void 0;if(de!==void 0){const Ie=me.value===!0?-1:1,Fe=se.indexOf(G)+de*Ie;return Fe>=0&&Fe<ge&&(nt(se[Fe]),se[Fe].focus({preventScroll:!0})),!0}}const Ja=K(()=>Ne.value===!0?{get:z=>Math.abs(z.scrollLeft),set:(z,G)=>{z.scrollLeft=-G}}:c.vertical===!0?{get:z=>z.scrollTop,set:(z,G)=>{z.scrollTop=G}}:{get:z=>z.scrollLeft,set:(z,G)=>{z.scrollLeft=G}});function Ga(z){const G=y.value,{get:se,set:ge}=Ja.value;let be=!1,ce=se(G);const de=z<ce?-1:1;return ce+=de*5,ce<0?(be=!0,ce=0):(de===-1&&ce<=z||de===1&&ce>=z)&&(be=!0,ce=z),ge(G,ce),st(),be}function Kt(z,G){for(const se in z)if(z[se]!==G[se])return!1;return!0}function Xa(){let z=null,G={matchedLen:0,queryDiff:9999,hrefLen:0};const se=x.filter(de=>de.routeData!==void 0&&de.routeData.hasRouterLink.value===!0),{hash:ge,query:be}=o.$route,ce=Object.keys(be).length;for(const de of se){const Ie=de.routeData.exact.value===!0;if(de.routeData[Ie===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:Fe,query:Ct,matched:ll,href:ol}=de.routeData.resolvedLink.value,Vt=Object.keys(Ct).length;if(Ie===!0){if(Fe!==ge||Vt!==ce||Kt(be,Ct)===!1)continue;z=de.name.value;break}if(Fe!==""&&Fe!==ge||Vt!==0&&Kt(Ct,be)===!1)continue;const We={matchedLen:ll.length,queryDiff:ce-Vt,hrefLen:ol.length-Fe.length};if(We.matchedLen>G.matchedLen){z=de.name.value,G=We;continue}else if(We.matchedLen!==G.matchedLen)continue;if(We.queryDiff<G.queryDiff)z=de.name.value,G=We;else if(We.queryDiff!==G.queryDiff)continue;We.hrefLen>G.hrefLen&&(z=de.name.value,G=We)}if(z===null&&x.some(de=>de.routeData===void 0&&de.name.value===q.value)===!0){kt=!1;return}ee({name:z,setCurrent:!0})}function Za(z){if(_(),O.value!==!0&&d.value!==null&&z.target&&typeof z.target.closest=="function"){const G=z.target.closest(".q-tab");G&&d.value.contains(G)===!0&&(O.value=!0,g.value===!0&&nt(G))}}function el(){f(()=>{O.value=!1},30)}function mt(){Wt.avoidRouteWatcher===!1?b(Xa):k()}function Qt(){if(le===void 0){const z=qe(()=>o.$route.fullPath,mt);le=()=>{z(),le=void 0}}}function tl(z){x.push(z),w.value++,Ue(),z.routeData===void 0||o.$route===void 0?b(()=>{if(g.value===!0){const G=q.value,se=G!=null&&G!==""?x.find(ge=>ge.name.value===G):null;se&&nt(se.rootRef.value)}}):(Qt(),z.routeData.hasRouterLink.value===!0&&mt())}function al(z){x.splice(x.indexOf(z),1),w.value--,Ue(),le!==void 0&&z.routeData!==void 0&&(x.every(G=>G.routeData===void 0)===!0&&le(),mt())}const Wt={currentModel:q,tabProps:L,hasFocus:O,hasActiveTab:ue,registerTab:tl,unregisterTab:al,verifyRouteModel:mt,updateModel:ee,onKbdNavigate:Wa,avoidRouteWatcher:!1};jl(Ca,Wt);function Jt(){V!==null&&clearTimeout(V),Qe(),le!==void 0&&le()}let Gt,kt;return St(Jt),Ul(()=>{Gt=le!==void 0,Jt()}),El(()=>{Gt===!0&&(Qt(),kt=!0,mt()),Ue()}),()=>re("div",{ref:d,class:$e.value,role:"tablist",onFocusin:Za,onFocusout:el},[re(il,{onResize:Ge}),re("div",{ref:y,class:Le.value,onScroll:st},vt(n.default)),re(C,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(T.value===!0?"":" q-tabs__arrow--faded"),name:c.leftIcon||s.iconSet.tabs[c.vertical===!0?"up":"left"],onMousedownPassive:Ht,onTouchstartPassive:Ht,onMouseupPassive:Qe,onMouseleavePassive:Qe,onTouchendPassive:Qe}),re(C,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+($.value===!0?"":" q-tabs__arrow--faded"),name:c.rightIcon||s.iconSet.tabs[c.vertical===!0?"down":"right"],onMousedownPassive:Ft,onTouchstartPassive:Ft,onMouseupPassive:Qe,onMouseleavePassive:Qe,onTouchendPassive:Qe})])}});function Do(c){const n=[.06,6,50];return typeof c=="string"&&c.length&&c.split(":").forEach((p,o)=>{const s=parseFloat(p);s&&(n[o]=s)}),n}const Uo=ul({name:"touch-swipe",beforeMount(c,{value:n,arg:p,modifiers:o}){if(o.mouse!==!0&&ct.has.touch!==!0)return;const s=o.mouseCapture===!0?"Capture":"",m={handler:n,sensitivity:Do(p),direction:Xt(o),noop:dl,mouseStart(r){ea(r,m)&&cl(r)&&(ht(m,"temp",[[document,"mousemove","move",`notPassive${s}`],[document,"mouseup","end","notPassiveCapture"]]),m.start(r,!0))},touchStart(r){if(ea(r,m)){const i=r.target;ht(m,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","notPassiveCapture"],[i,"touchend","end","notPassiveCapture"]]),m.start(r)}},start(r,i){ct.is.firefox===!0&&Nt(c,!0);const f=Zt(r);m.event={x:f.left,y:f.top,time:Date.now(),mouse:i===!0,dir:!1}},move(r){if(m.event===void 0)return;if(m.event.dir!==!1){pt(r);return}const i=Date.now()-m.event.time;if(i===0)return;const f=Zt(r),_=f.left-m.event.x,b=Math.abs(_),k=f.top-m.event.y,d=Math.abs(k);if(m.event.mouse!==!0){if(b<m.sensitivity[1]&&d<m.sensitivity[1]){m.end(r);return}}else if(window.getSelection().toString()!==""){m.end(r);return}else if(b<m.sensitivity[2]&&d<m.sensitivity[2])return;const y=b/i,q=d/i;m.direction.vertical===!0&&b<d&&b<100&&q>m.sensitivity[0]&&(m.event.dir=k<0?"up":"down"),m.direction.horizontal===!0&&b>d&&d<100&&y>m.sensitivity[0]&&(m.event.dir=_<0?"left":"right"),m.direction.up===!0&&b<d&&k<0&&b<100&&q>m.sensitivity[0]&&(m.event.dir="up"),m.direction.down===!0&&b<d&&k>0&&b<100&&q>m.sensitivity[0]&&(m.event.dir="down"),m.direction.left===!0&&b>d&&_<0&&d<100&&y>m.sensitivity[0]&&(m.event.dir="left"),m.direction.right===!0&&b>d&&_>0&&d<100&&y>m.sensitivity[0]&&(m.event.dir="right"),m.event.dir!==!1?(pt(r),m.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ml(),m.styleCleanup=g=>{m.styleCleanup=void 0,document.body.classList.remove("non-selectable");const T=()=>{document.body.classList.remove("no-pointer-events--children")};g===!0?setTimeout(T,50):T()}),m.handler({evt:r,touch:m.event.mouse!==!0,mouse:m.event.mouse,direction:m.event.dir,duration:i,distance:{x:b,y:d}})):m.end(r)},end(r){m.event!==void 0&&(Mt(m,"temp"),ct.is.firefox===!0&&Nt(c,!1),m.styleCleanup!==void 0&&m.styleCleanup(!0),r!==void 0&&m.event.dir!==!1&&pt(r),m.event=void 0)}};if(c.__qtouchswipe=m,o.mouse===!0){const r=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";ht(m,"main",[[c,"mousedown","mouseStart",`passive${r}`]])}ct.has.touch===!0&&ht(m,"main",[[c,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[c,"touchmove","noop","notPassiveCapture"]])},updated(c,n){const p=c.__qtouchswipe;p!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&p.end(),p.handler=n.value),p.direction=Xt(n.modifiers))},beforeUnmount(c){const n=c.__qtouchswipe;n!==void 0&&(Mt(n,"main"),Mt(n,"temp"),ct.is.firefox===!0&&Nt(c,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete c.__qtouchswipe)}}),Eo={name:{required:!0},disable:Boolean},oa={setup(c,{slots:n}){return()=>re("div",{class:"q-panel scroll",role:"tabpanel"},vt(n.default))}},jo={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Ro=["update:modelValue","beforeTransition","transition"];function Bo(){const{props:c,emit:n,proxy:p}=yt(),{getCache:o}=fl(),{registerTimeout:s}=Ot();let m,r;const i=M(null),f=M(null);function _(te){const me=c.vertical===!0?"up":"left";le((p.$q.lang.rtl===!0?-1:1)*(te.direction===me?1:-1))}const b=K(()=>[[Uo,_,void 0,{horizontal:c.vertical!==!0,vertical:c.vertical,mouse:!0}]]),k=K(()=>c.transitionPrev||`slide-${c.vertical===!0?"down":"right"}`),d=K(()=>c.transitionNext||`slide-${c.vertical===!0?"up":"left"}`),y=K(()=>`--q-transition-duration: ${c.transitionDuration}ms`),q=K(()=>typeof c.modelValue=="string"||typeof c.modelValue=="number"?c.modelValue:String(c.modelValue)),g=K(()=>({include:c.keepAliveInclude,exclude:c.keepAliveExclude,max:c.keepAliveMax})),T=K(()=>c.keepAliveInclude!==void 0||c.keepAliveExclude!==void 0);qe(()=>c.modelValue,(te,me)=>{const Ne=w(te)===!0?O(te):-1;r!==!0&&A(Ne===-1?0:Ne<O(me)?-1:1),i.value!==Ne&&(i.value=Ne,n("beforeTransition",te,me),s(()=>{n("transition",te,me)},c.transitionDuration))});function $(){le(1)}function S(){le(-1)}function x(te){n("update:modelValue",te)}function w(te){return te!=null&&te!==""}function O(te){return m.findIndex(me=>me.props.name===te&&me.props.disable!==""&&me.props.disable!==!0)}function V(){return m.filter(te=>te.props.disable!==""&&te.props.disable!==!0)}function A(te){const me=te!==0&&c.animated===!0&&i.value!==-1?"q-transition--"+(te===-1?k.value:d.value):null;f.value!==me&&(f.value=me)}function le(te,me=i.value){let Ne=me+te;for(;Ne!==-1&&Ne<m.length;){const ee=m[Ne];if(ee!==void 0&&ee.props.disable!==""&&ee.props.disable!==!0){A(te),r=!0,n("update:modelValue",ee.props.name),setTimeout(()=>{r=!1});return}Ne+=te}c.infinite===!0&&m.length!==0&&me!==-1&&me!==m.length&&le(te,te===-1?m.length:-1)}function L(){const te=O(c.modelValue);return i.value!==te&&(i.value=te),!0}function ue(){const te=w(c.modelValue)===!0&&L()&&m[i.value];return c.keepAlive===!0?[re(Rl,g.value,[re(T.value===!0?o(q.value,()=>({...oa,name:q.value})):oa,{key:q.value,style:y.value},()=>te)])]:[re("div",{class:"q-panel scroll",style:y.value,key:q.value,role:"tabpanel"},[te])]}function De(){if(m.length!==0)return c.animated===!0?[re(Na,{name:f.value},ue)]:ue()}function $e(te){return m=pl(vt(te.default,[])).filter(me=>me.props!==null&&me.props.slot===void 0&&w(me.props.name)===!0),m.length}function Le(){return m}return Object.assign(p,{next:$,previous:S,goTo:x}),{panelIndex:i,panelDirectives:b,updatePanelsList:$e,updatePanelIndex:L,getPanelContent:De,getEnabledPanels:V,getPanels:Le,isValidPanelName:w,keepAliveProps:g,needsUniqueKeepAliveWrapper:T,goToPanelByOffset:le,goToPanel:x,nextPanel:$,previousPanel:S}}const ut=ot({name:"QTabPanel",props:Eo,setup(c,{slots:n}){return()=>re("div",{class:"q-tab-panel",role:"tabpanel"},vt(n.default))}}),Lt=ot({name:"QTabPanels",props:{...jo,...Va},emits:Ro,setup(c,{slots:n}){const p=yt(),o=Ta(c,p.proxy.$q),{updatePanelsList:s,getPanelContent:m,panelDirectives:r}=Bo(),i=K(()=>"q-tab-panels q-panel-parent"+(o.value===!0?" q-tab-panels--dark q-dark":""));return()=>(s(n),gl("div",{class:i.value},m(),"pan",c.swipeable,()=>r.value))}}),Lo={class:"q-gutter-sm"},zo={class:"q-gutter-sm"},Yo={class:"col col-lg-6 q-pa-sm"},Ho={class:"row"},Fo={class:"detail"},Ko={key:0},Qo={class:"text-grey-8"},Wo={key:1},Jo={class:"text-grey-8"},Go={key:2},Xo={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Zo={class:"text-grey-8"},na="Rincian Santri",en={__name:"Detail",setup(c){const n=ie(),p=M("main"),o=M([]),s=M(!0),m=Me({customer_id:n.props.data.id,...Ve()}),r=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),i=[{name:"id",label:"#",field:"id",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah",field:"amount",align:"right"}];ye(()=>{f()});const f=(k=null)=>Te({pagination:r,filter:m,props:k,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:s}),_=fe(),b=K(()=>_.screen.gt.sm?i:i.filter(k=>k.name==="id"));return(k,d)=>{const y=D("i-head"),q=D("authenticated-layout");return h(),P(Y,null,[e(y,{title:na}),e(q,null,{title:a(()=>[v(u(na))]),"left-button":a(()=>[l("div",Lo,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=g=>k.$inertia.get(k.route("admin.customer.index")))})])]),"right-button":a(()=>[l("div",zo,[e(N,{icon:"edit",dense:"",color:"primary",onClick:d[1]||(d[1]=g=>k.$inertia.get(k.route("admin.customer.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(ve,{class:"row justify-center"},{default:a(()=>[l("div",Yo,[l("div",Ho,[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Bt,{modelValue:p.value,"onUpdate:modelValue":d[2]||(d[2]=g=>p.value=g),align:"left"},{default:a(()=>[e(it,{name:"main",label:"Info Utama"}),e(it,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(Lt,{modelValue:p.value,"onUpdate:modelValue":d[4]||(d[4]=g=>p.value=g)},{default:a(()=>[e(ut,{name:"main"},{default:a(()=>[l("table",Fo,[l("tbody",null,[d[28]||(d[28]=l("tr",null,[l("td",{colspan:"3"},[l("div",{class:"text-bold text-grey-8"},"Info Pelanggan")])],-1)),l("tr",null,[d[5]||(d[5]=l("td",{style:{width:"120px"}},"Username",-1)),d[6]||(d[6]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.username),1)]),l("tr",null,[d[7]||(d[7]=l("td",null,"Jenis",-1)),d[8]||(d[8]=l("td",null,":",-1)),l("td",null,u(k.$CONSTANTS.CUSTOMER_TYPES[t(n).props.data.type]),1)]),l("tr",null,[d[9]||(d[9]=l("td",null,"Nama",-1)),d[10]||(d[10]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[d[11]||(d[11]=l("td",null,"No. Telepon",-1)),d[12]||(d[12]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.phone),1)]),l("tr",null,[d[13]||(d[13]=l("td",null,"Alamat",-1)),d[14]||(d[14]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.address),1)]),l("tr",null,[d[15]||(d[15]=l("td",null,"Saldo",-1)),d[16]||(d[16]=l("td",null,":",-1)),l("td",null,"Rp. "+u(t(B)(t(n).props.data.balance)),1)]),l("tr",null,[d[17]||(d[17]=l("td",null,"Status",-1)),d[18]||(d[18]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),d[29]||(d[29]=l("tr",null,[l("td",{colspan:"3"},[l("div",{class:"text-bold text-grey-8 q-mt-md"},"Info Akun")])],-1)),t(n).props.data.created_at?(h(),P("tr",Ko,[d[19]||(d[19]=l("td",null,"Dibuat",-1)),d[20]||(d[20]=l("td",null,":",-1)),l("td",null,[v(u(t(At)(t(n).props.data.created_at))+" ",1),l("span",Qo,"("+u(t(Dt)(t(n).props.data.created_at))+")",1)])])):U("",!0),t(n).props.data.updated_at?(h(),P("tr",Wo,[d[21]||(d[21]=l("td",null,"Diperbarui",-1)),d[22]||(d[22]=l("td",null,":",-1)),l("td",null,[v(u(t(At)(t(n).props.data.updated_at))+" ",1),l("span",Jo,"("+u(t(Dt)(t(n).props.data.updated_at))+")",1)])])):U("",!0),l("tr",null,[d[23]||(d[23]=l("td",null,"Terakhir login",-1)),d[24]||(d[24]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.last_login_datetime?k.$dayjs(new Date(t(n).props.data.last_login_datetime)).format("DD MMMM YY HH:mm:ss"):"Belum pernah login"),1)]),t(n).props.data.last_activity_datetime?(h(),P("tr",Go,[d[26]||(d[26]=l("td",null,"Aktifitas Terakhir",-1)),d[27]||(d[27]=l("td",null,":",-1)),l("td",null,[v(u(k.$dayjs(new Date(t(n).props.data.last_activity_datetime)).format("DD MMMM YY HH:mm:ss"))+" ",1),d[25]||(d[25]=l("br",null,null,-1)),v(u(t(n).props.data.last_activity_description),1)])])):U("",!0)])])]),_:1}),e(ut,{name:"history"},{default:a(()=>[e(_e,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":d[3]||(d[3]=g=>r.value=g),filter:m.search,loading:s.value,columns:b.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:f,"binary-state-sort":""},{loading:a(()=>[e(Pe,{showing:"",color:"red"})]),"no-data":a(({icon:g,message:T,filter:$})=>[l("div",Xo,[l("span",null,u(T)+" "+u($?" with term "+$:""),1)])]),body:a(g=>[e(we,{props:g},{default:a(()=>[e(E,{key:"id",props:g},{default:a(()=>[l("div",null,[l("b",null,"#"+u(g.row.id),1),v("- "+u(k.$dayjs(new Date(g.row.created_at)).format("DD/MM/YYYY hh:mm:ss")),1)]),e(wt,{size:"xs"},{default:a(()=>[e(C,{name:"category"}),v(" "+u(g.row.type_label),1)]),_:2},1024),t(_).screen.lt.md?(h(),P(Y,{key:0},[l("div",null,[e(C,{name:"money"}),l("span",{class:pe(g.row.amount<0?"text-red-10":g.row.amount>0?"text-green-10":"")},u(t(He)(g.row.amount))+" "+u(t(B)(g.row.amount)),3)]),l("div",Zo,[e(C,{name:"notes"}),v(" "+u(g.row.notes),1)])],64)):U("",!0)]),_:2},1032,["props"]),e(E,{key:"notes",props:g},{default:a(()=>[v(u(g.row.notes),1)]),_:2},1032,["props"]),e(E,{key:"amount",props:g},{default:a(()=>[l("div",{class:pe(g.row.amount<0?"text-red-10":g.row.amount>0?"text-green-10":"")},u(t(He)(g.row.amount))+" "+u(t(B)(g.row.amount)),3)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},tn=Object.freeze(Object.defineProperty({__proto__:null,default:en},Symbol.toStringTag,{value:"Module"})),an={class:"q-gutter-sm"},ln={class:"col col-lg-6 q-pa-sm"},on={style:{"margin-left":"-10px"}},nn={__name:"Editor",setup(c){const n=ie(),p=(n.props.data.id?"Edit":"Tambah")+" Santri",o=ke({id:n.props.data.id,username:n.props.data.username,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,active:!!n.props.data.active,password:n.props.data.password}),s=()=>he({form:o,url:route("admin.customer.save")});return(m,r)=>{const i=D("i-head"),f=D("authenticated-layout");return h(),P(Y,null,[e(i,{title:p}),e(f,null,{title:a(()=>[v(u(p))]),"left-button":a(()=>[l("div",an,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=_=>m.$inertia.get(m.route("admin.customer.index")))})])]),default:a(()=>[e(ve,{class:"row justify-center"},{default:a(()=>[l("div",ln,[e(Se,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(Ce)},{default:a(()=>[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(W,null,{default:a(()=>r[9]||(r[9]=[l("div",{class:"text-subtitle1"},"Info Santri",-1)])),_:1}),e(W,{class:"q-pt-none"},{default:a(()=>[H(l("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=_=>t(o).id=_)},null,512),[[Ye,t(o).id]]),e(F,{autofocus:"",modelValue:t(o).username,"onUpdate:modelValue":r[2]||(r[2]=_=>t(o).username=_),modelModifiers:{trim:!0},label:"NIS","lazy-rules":"",error:!!t(o).errors.username,disable:t(o).processing,"error-message":t(o).errors.username,rules:[_=>_&&_.length>0||"NIS harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(F,{modelValue:t(o).name,"onUpdate:modelValue":r[3]||(r[3]=_=>t(o).name=_),modelModifiers:{trim:!0},label:"Nama Santri","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(F,{modelValue:t(o).phone,"onUpdate:modelValue":r[4]||(r[4]=_=>t(o).phone=_),modelModifiers:{trim:!0},type:"text",label:"No HP","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.phone,"error-message":t(o).errors.phone,rules:[_=>_&&_.length>0||"No HP harus diisi."]},null,8,["modelValue","disable","error","error-message","rules"]),e(F,{modelValue:t(o).address,"onUpdate:modelValue":r[5]||(r[5]=_=>t(o).address=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Alamat","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.address,"error-message":t(o).errors.address,rules:[_=>_&&_.length>0||"Alamat harus diisi."]},null,8,["modelValue","disable","error","error-message","rules"]),e(F,{modelValue:t(o).password,"onUpdate:modelValue":r[6]||(r[6]=_=>t(o).password=_),type:"password",label:"Kata Sandi (Isi untuk mengatur ulang kata sandi)","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.password,"error-message":t(o).errors.password},null,8,["modelValue","disable","error","error-message"]),l("div",on,[e(at,{class:"full-width q-pl-none",modelValue:t(o).active,"onUpdate:modelValue":r[7]||(r[7]=_=>t(o).active=_),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"])])]),_:1}),e(W,{class:"q-gutter-sm"},{default:a(()=>[e(N,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(N,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[8]||(r[8]=_=>t(R).get(m.route("admin.customer.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},sn=Object.freeze(Object.defineProperty({__proto__:null,default:nn},Symbol.toStringTag,{value:"Module"})),rn={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},un={class:"q-pa-sm"},dn={class:"full-width row flex-center text-grey-8 q-gutter-sm"},mn={class:"flex justify-end"},sa="Santri",cn={__name:"Index",setup(c){const n=fe(),p=M(!1),o=M([]),s=M(!0),m=Me({search:"",status:"active",...Ve()}),r=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),i=[{name:"username",label:"NIS",field:"username",align:"left",sortable:!0},,{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right",sortable:!0},{name:"phone",label:"No HP",field:"phone",align:"left",sortable:!0},{name:"address",label:"Alamat",field:"address",align:"left",sortable:!0},{name:"action",align:"right"}],f=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];ye(()=>{b()});const _=q=>Be({message:`Hapus Santri ${q.name}?`,url:route("admin.customer.delete",q.id),fetchItemsCallback:b,loading:s}),b=(q=null)=>{Te({pagination:r,filter:m,props:q,rows:o,url:route("admin.customer.data"),loading:s})},k=()=>b(),d=q=>R.get(route("admin.customer.detail",{id:q.id})),y=K(()=>n.screen.gt.sm?i:i.filter(q=>q.name==="username"||q.name==="action"));return(q,g)=>{const T=D("i-head"),$=D("authenticated-layout");return h(),P(Y,null,[e(T,{title:sa}),e($,null,Ee({title:a(()=>[v(u(sa))]),"right-button":a(()=>[e(N,{icon:"add",dense:"",color:"primary",onClick:g[0]||(g[0]=S=>t(R).get(q.route("admin.customer.add")))}),e(N,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:g[1]||(g[1]=S=>p.value=!p.value)},null,8,["icon"])]),default:a(()=>[l("div",un,[e(_e,{class:"full-height-table",ref:"tableRef",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":g[5]||(g[5]=S=>r.value=S),filter:m.search,loading:s.value,columns:y.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:b,"binary-state-sort":""},{loading:a(()=>[e(Pe,{showing:"",color:"red"})]),"no-data":a(({icon:S,message:x,filter:w})=>[l("div",dn,[l("span",null,u(x)+" "+u(w?" with term "+w:""),1)])]),body:a(S=>[e(we,{props:S,class:pe([S.row.active?"":"bg-red-1","cursor-pointer"]),onClick:x=>d(S.row)},{default:a(()=>[e(E,{key:"username",props:S,class:"wrap-column"},{default:a(()=>[l("div",null,[t(n).screen.lt.md?(h(),j(C,{key:0,name:"person"})):U("",!0),v(" "+u(S.row.username),1)]),t(n).screen.lt.md?(h(),P(Y,{key:0},[l("div",null,[t(n).screen.lt.md?(h(),j(C,{key:0,name:"person"})):U("",!0),v(" "+u(S.row.name),1)]),l("div",null,[e(C,{name:"phone"}),v(" "+u(S.row.phone),1)]),l("div",null,[e(C,{name:"home_pin"}),v(" "+u(S.row.address),1)]),l("div",null,[e(C,{name:"wallet"}),v(" Rp. "+u(t(B)(S.row.balance)),1)])],64)):U("",!0)]),_:2},1032,["props"]),e(E,{key:"name",props:S},{default:a(()=>[v(u(S.row.name),1)]),_:2},1032,["props"]),e(E,{key:"balance",props:S},{default:a(()=>[v(u(t(B)(S.row.balance)),1)]),_:2},1032,["props"]),e(E,{key:"phone",props:S},{default:a(()=>[v(u(S.row.phone),1)]),_:2},1032,["props"]),e(E,{key:"address",props:S},{default:a(()=>[v(u(S.row.address),1)]),_:2},1032,["props"]),e(E,{key:"action",props:S},{default:a(()=>[l("div",mn,[e(N,{disabled:!t(ze)(q.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:g[4]||(g[4]=J(()=>{},["stop"]))},{default:a(()=>[e(Re,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(xe,{style:{width:"200px"}},{default:a(()=>[H((h(),j(Q,{clickable:"",onClick:J(x=>t(R).get(q.route("admin.customer.edit",S.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:a(()=>g[6]||(g[6]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]]),H((h(),j(Q,{onClick:J(x=>_(S.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>g[7]||(g[7]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar"},{default:a(()=>[l("div",rn,[e(Z,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:m.status,"onUpdate:modelValue":[g[2]||(g[2]=S=>m.status=S),k],options:f,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(F,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":g[3]||(g[3]=S=>m.search=S),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},pn=Object.freeze(Object.defineProperty({__proto__:null,default:cn},Symbol.toStringTag,{value:"Module"})),fn={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},gn={class:"q-pa-sm"},bn={class:"q-pa-none"},vn={class:"q-pb-sm"},_n={class:"row q-col-gutter-sm"},yn={class:"row items-center no-wrap"},wn={class:"q-ml-md"},kn={class:"text-subtitle2 text-grey-8"},hn={class:"text-h6 text-weight-bold"},$n={class:"row q-col-gutter-sm q-pb-sm"},Sn={class:"col-md-6 col-12"},xn={class:"col-md-6 col-12"},qn={class:"row q-col-gutter-sm q-pb-sm"},Cn={class:"col-md-6 col-12"},Vn={class:"col-md-6 col-12"},ra="Dashboard",Tn={__name:"Index",setup(c){Hl([Fl,Kl,Ql,Wl,Jl,Gl,Xl]);const n=M({summary:{total_santri:1500,active_santri:1450,total_sales:155e5,total_transactions:1250,total_wallet_balance:55e6,total_topup:75e6,total_purchase:85e6,total_withdrawal:65e6},top_customers_sales:[{name:"Wildan Medina",value:1822e3},{name:"Syafiq",value:1754500},{name:"Umar",value:1534e3},{name:"Fauzan",value:1212e3},{name:"Rizky",value:981500}],top_customers_topup:[{name:"Abdullah",value:175e4},{name:"Abdurrahman",value:15e5},{name:"Zayd",value:125e4},{name:"Syafiq",value:8e5},{name:"Umar",value:65e4}],monthly_sales:{labels:["Jan","Feb","Mar","Apr","Mei","Jun"],data:[14123e3,21344e3,15155e3,17128e3,12557e3,12723e3]},transaction_type_distribution:[{value:500,name:"Deposit"},{value:350,name:"Purchase"},{value:200,name:"Withdrawal"},{value:200,name:"Refund"}]}),p=M(!1),o=M(Ve().month??"this_month"),s=M([{value:"this_month",label:"Bulan Ini"},{value:"prev_month",label:"1 Bulan Sebelumnya"},{value:"prev_2month",label:"2 Bulan Sebelumnya"},{value:"prev_3month",label:"3 Bulan Sebelumnya"}]),m=()=>{R.visit(route("admin.dashboard",{month:o.value}))},r=["#82B1FF","#4DB6AC","#FFB74D","#9575CD"],i=K(()=>({title:{text:"Penjualan Bulanan",left:"center"},tooltip:{trigger:"axis",formatter:function(b){let k=b[0].name+"<br/>";return b.forEach(function(d){k+=d.marker+" "+d.seriesName+": "+B(d.value)+"<br/>"}),k}},xAxis:{type:"category",data:n.value.monthly_sales.labels,axisLabel:{color:"#616161"}},yAxis:{type:"value",axisLabel:{formatter:b=>B(b),color:"#616161"}},series:[{name:"Penjualan",type:"bar",data:n.value.monthly_sales.data,itemStyle:{borderRadius:[5,5,0,0],color:r[0]}}]})),f=K(()=>({title:{text:"Distribusi Jenis Transaksi",left:"center"},tooltip:{trigger:"item",formatter:function(b){return b.name+"<br/>"+b.seriesName+": "+B(b.value)+" ("+b.percent+"%)"}},legend:{orient:"vertical",left:"left",textStyle:{color:"#616161"}},series:[{name:"Jumlah Transaksi",type:"pie",radius:["40%","70%"],data:n.value.transaction_type_distribution,itemStyle:{borderRadius:5,borderColor:"#fff",borderWidth:2,color:b=>r[b.dataIndex%r.length]},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})),_=M([{label:"Total Santri",value:K(()=>n.value.summary.total_santri),icon:"groups",color:"primary",bgColor:"#e3f2fd"},{label:"Total Penjualan",value:K(()=>B(n.value.summary.total_sales)),icon:"shopping_cart",color:"green-7",bgColor:"#e8f5e9"},{label:"Saldo Dompet Santri",value:K(()=>B(n.value.summary.total_wallet_balance)),icon:"account_balance_wallet",color:"orange-9",bgColor:"#fff3e0"},{label:"Total Transaksi",value:K(()=>B(n.value.summary.total_transactions)),icon:"swap_horiz",color:"purple-8",bgColor:"#f3e5f5"}]);return(b,k)=>{const d=D("i-head"),y=D("authenticated-layout");return h(),P(Y,null,[e(d,{title:ra}),e(y,null,Ee({title:a(()=>[v(u(ra))]),"right-button":a(()=>[e(N,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:k[0]||(k[0]=q=>p.value=!p.value)},null,8,["icon"])]),default:a(()=>[l("div",gn,[l("div",bn,[l("div",vn,[k[2]||(k[2]=l("div",{class:"text-h6 text-bold text-grey-8 q-mb-sm"}," Statistik Ringkasan ",-1)),l("div",_n,[(h(!0),P(Y,null,rt(_.value,(q,g)=>(h(),P("div",{key:g,class:"col-12 col-md-3"},[e(ae,{square:"",bordered:"",flat:"",class:"q-pa-md",style:{width:"100%"}},{default:a(()=>[l("div",yn,[e(tt,{icon:q.icon,color:q.color,"text-color":q.bgColor},null,8,["icon","color","text-color"]),l("div",wn,[l("div",kn,u(q.label),1),l("div",hn,u(q.value),1)])])]),_:2},1024)]))),128))])])]),l("div",$n,[l("div",Sn,[e(ae,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:a(()=>[k[3]||(k[3]=l("div",{class:"text-h6 q-pb-sm"},"Penjualan Bulanan",-1)),e(t($t),{class:"chart",option:i.value,autoresize:""},null,8,["option"])]),_:1})]),l("div",xn,[e(ae,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:a(()=>[k[4]||(k[4]=l("div",{class:"text-h6 q-pb-sm"},"Distribusi Transaksi",-1)),e(t($t),{class:"chart",option:f.value,autoresize:""},null,8,["option"])]),_:1})])]),l("div",qn,[l("div",Cn,[e(ae,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:a(()=>[k[5]||(k[5]=l("div",{class:"text-h6 q-mb-sm"},"Top 5 Pembelian Santri",-1)),e(xe,{separator:""},{default:a(()=>[(h(!0),P(Y,null,rt(n.value.top_customers_sales,(q,g)=>(h(),j(Q,{key:g},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(tt,{color:"primary","text-color":"white",size:"sm"},{default:a(()=>[v(u(g+1),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>[v(u(q.name),1)]),_:2},1024)]),_:2},1024),e(I,{side:""},{default:a(()=>[e(ne,{class:"text-primary"},{default:a(()=>[v(u(t(B)(q.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),l("div",Vn,[e(ae,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:a(()=>[k[6]||(k[6]=l("div",{class:"text-h6 q-mb-sm"},"Top 5 Top Up Santri",-1)),e(xe,{separator:""},{default:a(()=>[(h(!0),P(Y,null,rt(n.value.top_customers_topup,(q,g)=>(h(),j(Q,{key:g},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(tt,{color:"green-7","text-color":"white",size:"sm"},{default:a(()=>[v(u(g+1),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>[v(u(q.name),1)]),_:2},1024)]),_:2},1024),e(I,{side:""},{default:a(()=>[e(ne,{class:"text-green-7"},{default:a(()=>[v(u(t(B)(q.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar"},{default:a(()=>[l("div",fn,[e(Z,{class:"custom-select col-12",style:{"min-width":"150px"},modelValue:o.value,"onUpdate:modelValue":[k[1]||(k[1]=q=>o.value=q),m],options:s.value,label:"Bulan",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue","options"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},Pn=lt(Tn,[["__scopeId","data-v-45790296"]]),Mn=Object.freeze(Object.defineProperty({__proto__:null,default:Pn},Symbol.toStringTag,{value:"Module"})),Nn={class:"row q-col-gutter-sm"},In={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},On={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},An={__name:"ChartCard",setup(c){const n=ie(),p={tooltip:{show:!0},title:{text:"Servis Diterima vs Sukses vs Gagal",textStyle:{color:"#444"},left:"center"},legend:{top:"10%",data:[n.props.data.chart1_data.data[0].label,n.props.data.chart1_data.data[1].label,n.props.data.chart1_data.data[2].label]},grid:{containLabel:!0,left:"5px",bottom:"5px",right:"5px"},xAxis:{show:!0,type:"category",data:n.props.data.chart1_data.x_axis_label_data,axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{show:!0,color:"#ccc",type:"dashed"}},axisLabel:{show:!0},boundaryGap:!0},yAxis:{show:!0,type:"value",axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisLabel:{show:!0},splitLine:{lineStyle:{type:"dashed",color:"#ccc"}},axisTick:{show:!0,lineStyle:{show:!0,color:"#fff",type:"dashed"}}},series:[{name:n.props.data.chart1_data.data[0].label,type:"line",lineStyle:{color:"#007bff"},itemStyle:{color:"#007bff"},smooth:!0,data:n.props.data.chart1_data.data[0].data},{name:n.props.data.chart1_data.data[1].label,type:"line",lineStyle:{color:"#28a745"},itemStyle:{color:"#28a745"},smooth:!0,data:n.props.data.chart1_data.data[1].data},{name:n.props.data.chart1_data.data[2].label,type:"line",lineStyle:{color:"#dc3545"},itemStyle:{color:"#dc3545"},smooth:!0,data:n.props.data.chart1_data.data[2].data}],color:["white"]},o={tooltip:{show:!0},title:{text:"Pendapatan Servis",textStyle:{color:"#444"},left:"center"},legend:{top:"10%",data:[n.props.data.chart2_data.data[0].label]},grid:{containLabel:!0,left:"5px",bottom:"5px",right:"5px"},xAxis:{show:!0,type:"category",data:n.props.data.chart1_data.x_axis_label_data,axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{show:!0,color:"#ccc",type:"dashed"}},axisLabel:{show:!0},boundaryGap:!0},yAxis:{show:!0,type:"value",axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisLabel:{show:!0},splitLine:{lineStyle:{type:"dashed",color:"#ccc"}},axisTick:{show:!0,lineStyle:{show:!0,color:"#fff",type:"dashed"}}},series:[{name:n.props.data.chart2_data.data[0].label,type:"bar",itemStyle:{color:"#007bff"},smooth:!0,data:n.props.data.chart2_data.data[0].data}],color:["white"]};return(s,m)=>(h(),P("div",Nn,[l("div",In,[e(ae,{square:"",class:"no-shadow",bordered:"",style:{"background-color":"#fff"}},{default:a(()=>[e(W,{class:"q-pa-none"},{default:a(()=>[e(t($t),{option:p,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"250px"}})]),_:1})]),_:1})]),l("div",On,[e(ae,{class:"no-shadow",square:"",bordered:"",style:{"background-color":"#fff"}},{default:a(()=>[e(W,{class:"q-pa-none"},{default:a(()=>[e(t($t),{option:o,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"250px"}})]),_:1})]),_:1})])]))}},Dn=lt(An,[["__scopeId","data-v-5c77cb08"]]),Un=Object.freeze(Object.defineProperty({__proto__:null,default:Dn},Symbol.toStringTag,{value:"Module"})),En={class:"row"},jn={class:"row q-col-gutter-sm"},Rn={class:"col-sm-6 col-xs-12"},Bn={class:"col-sm-6 col-xs-12"},Ln={class:"col-md-3 col-sm-6 col-xs-12"},zn={class:"col-md-3 col-sm-6 col-xs-12"},Yn={class:"col-md-3 col-sm-6 col-xs-12"},Hn={class:"col-md-3 col-sm-6 col-xs-12"};const Fn={__name:"SummaryCard",setup(c){ie();const n=(p,o)=>{const m={...{order_status:"all",service_status:"all",repair_status:"all",payment_status:"all",search:""},...o};localStorage.setItem("fixsync.service-orders.filter",JSON.stringify(m)),R.visit(p,{data:m})};return(p,o)=>(h(),P("div",En,[e(ae,{class:"bg-transparent no-shadow no-border col",bordered:""},{default:a(()=>[e(W,{class:"q-pa-none"},{default:a(()=>[l("div",jn,[l("div",Rn,[e(Q,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:o[0]||(o[0]=s=>p.$inertia.visit(p.route("admin.customer.index",{status:"active"})))},{default:a(()=>[e(I,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(C,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(I,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ne,{class:"text-white text-h6 text-weight-bolder"},{default:a(()=>[v(u(p.$page.props.data.active_customer_count),1)]),_:1}),e(ne,null,{default:a(()=>o[5]||(o[5]=[v("Santri Aktif")])),_:1})]),_:1})]),_:1})]),l("div",Bn,[e(Q,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:o[1]||(o[1]=s=>p.$inertia.visit(p.route("admin.customer.index",{status:"active"})))},{default:a(()=>[e(I,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(C,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(I,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ne,{class:"text-white text-h6 text-weight-bolder"},{default:a(()=>[v(u(p.$page.props.data.active_user_count),1)]),_:1}),e(ne,null,{default:a(()=>o[6]||(o[6]=[v("Pengguna Aktif")])),_:1})]),_:1})]),_:1})]),l("div",Ln,[e(Q,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:a(()=>[e(I,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(C,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(I,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ne,{class:"text-white text-weight-bold"},{default:a(()=>[v(" Rp. "+u(t(B)(p.$page.props.data.total_finance_account_balance)),1)]),_:1}),e(ne,null,{default:a(()=>o[7]||(o[7]=[v("Total Saldo Koperasi")])),_:1})]),_:1})]),_:1})]),l("div",zn,[e(Q,{style:"background-color: #dc3545",class:"q-pa-none"},{default:a(()=>[e(I,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(C,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(I,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ne,{class:"text-white text-weight-bold"},{default:a(()=>[v(" Rp. "+u(t(B)(p.$page.props.data.total_customer_balance)),1)]),_:1}),e(ne,null,{default:a(()=>o[8]||(o[8]=[v("Total Saldo Santri")])),_:1})]),_:1})]),_:1})]),l("div",Yn,[e(Q,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:a(()=>[e(I,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(C,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(I,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ne,{class:"text-white text-weight-bold"},{default:a(()=>[v(" Rp. "+u(t(B)(p.$page.props.data.total_customer_debt)),1)]),_:1}),e(ne,null,{default:a(()=>o[9]||(o[9]=[v("Total Utang Santri")])),_:1})]),_:1})]),_:1})]),l("div",Hn,[e(Q,{style:"background-color: #dc3545",class:"q-pa-none"},{default:a(()=>[e(I,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(C,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(I,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ne,{class:"text-white text-weight-bold"},{default:a(()=>[v(" Rp. "+u(t(B)(p.$page.props.data.total_customer_credit)),1)]),_:1}),e(ne,null,{default:a(()=>o[10]||(o[10]=[v("Total Piutang Santri")])),_:1})]),_:1})]),_:1})]),U("",!0),U("",!0),U("",!0)])]),_:1})]),_:1})]))}},Kn=Object.freeze(Object.defineProperty({__proto__:null,default:Fn},Symbol.toStringTag,{value:"Module"})),Qn={class:"text-subtitle1 text-bold text-grey-9"},Wn={class:"flex items-center justify-between"},Jn={__name:"TopCard",props:{items:Array,title:String,route_url:String},setup(c){const n=c;return(p,o)=>{const s=D("i-link");return h(),j(ae,{class:"no-shadow",square:"",bordered:""},{default:a(()=>[e(W,null,{default:a(()=>[l("div",Qn,u(n.title),1),l("div",null,[(h(!0),P(Y,null,rt(n.items,m=>(h(),P("div",{key:m.id},[l("div",Wn,[l("span",null,[e(s,{href:p.route(n.route_url,{id:m.id})},{default:a(()=>[v(u(m.name),1)]),_:2},1032,["href"])]),l("span",null,"Rp. "+u(t(B)(m.total)),1)])]))),128))])]),_:1})]),_:1})}}},Gn=Object.freeze(Object.defineProperty({__proto__:null,default:Jn},Symbol.toStringTag,{value:"Module"})),Xn={class:"q-gutter-sm"},Zn={class:"q-gutter-sm"},es={class:"col col-lg-6 q-pa-sm"},ts={class:"row"},as={class:"detail"},ls={class:"full-width row flex-center text-grey-8 q-gutter-sm"},os={class:"flex q-gutter-sm"},ns={class:""},ia="Rincian Akun",ss={__name:"Detail",setup(c){const n=ie(),p=M("main"),o=M([]),s=M(!0),m=Me({...Ve()}),r=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),i=[{name:"id",label:"#",field:"id",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!0},{name:"quantity",label:"Jumlah",field:"quantity",align:"center",sortable:!0}];ye(()=>{f()});const f=(k=null)=>Te({pagination:r,filter:m,props:k,rows:o,loading:s}),_=fe(),b=K(()=>_.screen.gt.sm?i:i.filter(k=>k.name==="id"));return(k,d)=>{const y=D("i-head"),q=D("authenticated-layout");return h(),P(Y,null,[e(y,{title:ia}),e(q,null,{title:a(()=>[v(u(ia))]),"left-button":a(()=>[l("div",Xn,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=g=>k.$inertia.get(k.route("admin.finance-account.index")))})])]),"right-button":a(()=>[l("div",Zn,[e(N,{icon:"edit",dense:"",color:"primary",onClick:d[1]||(d[1]=g=>t(R).get(k.route("admin.finance-account.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(ve,{class:"row justify-center"},{default:a(()=>[l("div",es,[l("div",ts,[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Bt,{modelValue:p.value,"onUpdate:modelValue":d[2]||(d[2]=g=>p.value=g),align:"left"},{default:a(()=>[e(it,{name:"main",label:"Info Akun"}),e(it,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(Lt,{modelValue:p.value,"onUpdate:modelValue":d[4]||(d[4]=g=>p.value=g)},{default:a(()=>[e(ut,{name:"main"},{default:a(()=>[l("table",as,[l("tbody",null,[l("tr",null,[d[5]||(d[5]=l("td",{style:{width:"150px"}},"Nama",-1)),d[6]||(d[6]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[d[7]||(d[7]=l("td",null,"Jenis",-1)),d[8]||(d[8]=l("td",null,":",-1)),l("td",null,u(k.$CONSTANTS.FINANCE_ACCOUNT_TYPES[t(n).props.data.type]),1)]),t(n).props.data.type=="bank"?(h(),P(Y,{key:0},[l("tr",null,[d[9]||(d[9]=l("td",null,"Bank",-1)),d[10]||(d[10]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.bank),1)]),l("tr",null,[d[11]||(d[11]=l("td",null,"No. Rek",-1)),d[12]||(d[12]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.number),1)]),l("tr",null,[d[13]||(d[13]=l("td",null,"Atas Nama",-1)),d[14]||(d[14]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.holder),1)])],64)):U("",!0),l("tr",null,[d[15]||(d[15]=l("td",null,"Tampilkan di Wallet",-1)),d[16]||(d[16]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.has_wallet_access?"Ya":"Tidak"),1)]),l("tr",null,[d[17]||(d[17]=l("td",null,"Status",-1)),d[18]||(d[18]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),l("tr",null,[d[19]||(d[19]=l("td",null,"Saldo",-1)),d[20]||(d[20]=l("td",null,":",-1)),l("td",null,"Rp. "+u(t(B)(t(n).props.data.balance)),1)]),l("tr",null,[d[21]||(d[21]=l("td",null,"Catatan",-1)),d[22]||(d[22]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.notes),1)])])])]),_:1}),e(ut,{name:"history"},{default:a(()=>[e(_e,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":d[3]||(d[3]=g=>r.value=g),filter:m.search,loading:s.value,columns:b.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:f,"binary-state-sort":""},{loading:a(()=>[e(Pe,{showing:"",color:"red"})]),"no-data":a(({icon:g,message:T,filter:$})=>[l("div",ls,[l("span",null,u(T)+" "+u($?" with term "+$:""),1)])]),body:a(g=>[e(we,{props:g},{default:a(()=>[e(E,{key:"id",props:g},{default:a(()=>[l("div",os,[l("div",null,[l("b",null,"#"+u(g.row.id),1)]),l("div",null," - "+u(k.$dayjs(new Date(g.row.created_at)).format("DD/MM/YYYY hh:mm:ss")),1),l("div",null," - "+u(g.row.created_by?g.row.created_by.username:"--"),1)]),t(_).screen.lt.md?(h(),P(Y,{key:0},[l("div",ns,u(k.$CONSTANTS.STOCKMOVEMENT_REFTYPES[g.row.ref_type]),1),l("div",{class:pe(g.row.quantity<0?"text-red-10":g.row.quantity>0?"text-green-10":"")},[e(C,{name:g.row.quantity<0?"arrow_downward":g.row.quantity>0?"arrow_upward":""},null,8,["name"]),v(" "+u(t(B)(g.row.quantity)),1)],2)],64)):U("",!0)]),_:2},1032,["props"]),e(E,{key:"type",props:g},{default:a(()=>[v(u(k.$CONSTANTS.STOCKMOVEMENT_REFTYPES[g.row.ref_type]),1)]),_:2},1032,["props"]),e(E,{key:"quantity",props:g},{default:a(()=>[l("div",{class:pe(g.row.quantity<0?"text-red-10":g.row.quantity>0?"text-green-10":"")},[e(C,{name:g.row.quantity<0?"arrow_downward":g.row.quantity>0?"arrow_upward":""},null,8,["name"]),v(" "+u(t(B)(g.row.quantity)),1)],2)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},rs=Object.freeze(Object.defineProperty({__proto__:null,default:ss},Symbol.toStringTag,{value:"Module"})),is={class:"q-gutter-sm"},us={class:"col col-lg-6 q-pa-sm"},ds={style:{"margin-left":"-10px"}},ms={style:{"margin-left":"-10px"}},cs={__name:"Editor",setup(c){const n=ie(),p=(n.props.data.id?"Edit":"Tambah")+" Akun / Kas",o=ke({id:n.props.data.id,name:n.props.data.name,type:n.props.data.type,bank:n.props.data.bank,number:n.props.data.number,holder:n.props.data.holder,balance:n.props.data.balance,active:!!n.props.data.active,has_wallet_access:!!n.props.data.has_wallet_access,notes:n.props.data.notes}),s=je(window.CONSTANTS.FINANCE_ACCOUNT_TYPES),m=()=>he({form:o,url:route("admin.finance-account.save")});return(r,i)=>{const f=D("i-head"),_=D("authenticated-layout");return h(),P(Y,null,[e(f,{title:p}),e(_,null,{title:a(()=>[v(u(p))]),"left-button":a(()=>[l("div",is,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=b=>r.$inertia.get(r.route("admin.finance-account.index")))})])]),default:a(()=>[e(ve,{class:"row justify-center"},{default:a(()=>[l("div",us,[e(Se,{class:"row",onSubmit:J(m,["prevent"]),onValidationError:t(Ce)},{default:a(()=>[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(W,{class:"q-pt-none"},{default:a(()=>[H(l("input",{type:"hidden",name:"id","onUpdate:modelValue":i[1]||(i[1]=b=>t(o).id=b)},null,512),[[Ye,t(o).id]]),e(F,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":i[2]||(i[2]=b=>t(o).name=b),modelModifiers:{trim:!0},label:"Nama Akun","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[b=>b&&b.length>0||"Nama harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(Z,{modelValue:t(o).type,"onUpdate:modelValue":i[3]||(i[3]=b=>t(o).type=b),label:"Jenis Akun",options:t(s),"map-options":"","emit-value":"",error:!!t(o).errors.type,disable:t(o).processing},null,8,["modelValue","options","error","disable"]),t(o).type=="bank"?(h(),P(Y,{key:0},[e(F,{modelValue:t(o).bank,"onUpdate:modelValue":i[4]||(i[4]=b=>t(o).bank=b),modelModifiers:{trim:!0},label:"Nama Bank","lazy-rules":"",error:!!t(o).errors.bank,disable:t(o).processing,"error-message":t(o).errors.bank},null,8,["modelValue","error","disable","error-message"]),e(F,{modelValue:t(o).number,"onUpdate:modelValue":i[5]||(i[5]=b=>t(o).number=b),modelModifiers:{trim:!0},label:"Nomor Rekening","lazy-rules":"",error:!!t(o).errors.number,disable:t(o).processing,"error-message":t(o).errors.number},null,8,["modelValue","error","disable","error-message"]),e(F,{modelValue:t(o).holder,"onUpdate:modelValue":i[6]||(i[6]=b=>t(o).holder=b),modelModifiers:{trim:!0},label:"Pemilik Rekening","lazy-rules":"",error:!!t(o).errors.holder,disable:t(o).processing,"error-message":t(o).errors.holder},null,8,["modelValue","error","disable","error-message"])],64)):U("",!0),e(Oe,{modelValue:t(o).balance,"onUpdate:modelValue":i[7]||(i[7]=b=>t(o).balance=b),label:"Saldo",lazyRules:"",disable:t(o).processing,"allow-negative":"true",error:!!t(o).errors.balance,errorMessage:t(o).errors.balance,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),l("div",ds,[e(at,{class:"full-width q-pl-none",modelValue:t(o).has_wallet_access,"onUpdate:modelValue":i[8]||(i[8]=b=>t(o).has_wallet_access=b),disable:t(o).processing,label:"Tampilkan di Konfirmasi Topup Wallet"},null,8,["modelValue","disable"])]),l("div",ms,[e(at,{class:"full-width q-pl-none",modelValue:t(o).active,"onUpdate:modelValue":i[9]||(i[9]=b=>t(o).active=b),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"])]),e(F,{modelValue:t(o).notes,"onUpdate:modelValue":i[10]||(i[10]=b=>t(o).notes=b),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.notes,"error-message":t(o).errors.notes},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(W,{class:"q-gutter-sm"},{default:a(()=>[e(N,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(N,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:i[11]||(i[11]=b=>t(R).get(r.route("admin.finance-account.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},ps=Object.freeze(Object.defineProperty({__proto__:null,default:cs},Symbol.toStringTag,{value:"Module"})),fs={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},gs={class:"q-pa-sm"},bs={class:"q-my-sm text-subtitle"},vs={class:"text-bold text-grey-8"},_s={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ys={key:0},ws={key:1},ks={key:2},hs={class:"flex justify-end"},ua="Akun Kas",$s={__name:"Index",setup(c){const n=ie(),p=fe(),o=M(!1),s=M([]),m=M(!0),r=Me({search:"",status:"active",type:"all",...Ve()}),i=n.props.totalBalance,f=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),_=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right",sortable:!0},{name:"action",align:"right"}],b=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],k=[{value:"all",label:"Semua"},...je(window.CONSTANTS.FINANCE_ACCOUNT_TYPES)];ye(()=>{y()});const d=$=>Be({message:`Hapus Akun ${$.name}?`,url:route("admin.finance-account.delete",$.id),fetchItemsCallback:y,loading:m}),y=($=null)=>{Te({pagination:f,filter:r,props:$,rows:s,url:route("admin.finance-account.data"),loading:m})},q=()=>y(),g=$=>R.get(route("admin.finance-account.detail",{id:$.id})),T=K(()=>p.screen.gt.sm?_:_.filter($=>$.name==="name"||$.name==="action"));return($,S)=>{const x=D("i-head"),w=D("authenticated-layout");return h(),P(Y,null,[e(x,{title:ua}),e(w,null,Ee({title:a(()=>[v(u(ua))]),"right-button":a(()=>[e(N,{icon:"add",dense:"",color:"primary",onClick:S[0]||(S[0]=O=>t(R).get($.route("admin.finance-account.add")))}),e(N,{class:"q-ml-sm",icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:S[1]||(S[1]=O=>o.value=!o.value)},null,8,["icon"])]),default:a(()=>[l("div",gs,[l("div",bs,[S[7]||(S[7]=v(" Total Saldo Akun Aktif: ")),l("span",vs,"Rp. "+u(t(B)(t(i))),1)]),e(_e,{ref:"tableRef",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:f.value,"onUpdate:pagination":S[6]||(S[6]=O=>f.value=O),filter:r.search,loading:m.value,columns:T.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:y,"binary-state-sort":""},{loading:a(()=>[e(Pe,{showing:"",color:"red"})]),"no-data":a(({icon:O,message:V,filter:A})=>[l("div",_s,[l("span",null,u(V)+" "+u(A?" with term "+A:""),1)])]),body:a(O=>[e(we,{props:O,class:pe([O.row.active?"":"bg-red-1","cursor-pointer"]),onClick:V=>g(O.row)},{default:a(()=>[e(E,{key:"name",props:O,class:"wrap-column"},{default:a(()=>[l("div",null,[t(p).screen.lt.md?(h(),j(C,{key:0,name:"wallet"})):U("",!0),v(" "+u(O.row.name),1)]),O.row.type=="bank"?(h(),P("div",ys,u(O.row.bank??"-")+" "+u(O.row.number??"-")+" an "+u(O.row.holder??"-"),1)):U("",!0),O.row.notes?(h(),P("div",ws,[e(C,{name:"notes"}),v(" "+u(O.row.notes),1)])):U("",!0),t(p).screen.lt.md?(h(),P("div",ks,[e(C,{name:"money"}),v(" Rp. "+u(t(B)(O.row.balance)),1)])):U("",!0)]),_:2},1032,["props"]),e(E,{key:"balance",props:O},{default:a(()=>[v(u(t(B)(O.row.balance)),1)]),_:2},1032,["props"]),e(E,{key:"action",props:O},{default:a(()=>[l("div",hs,[e(N,{disabled:!t(ze)($.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:S[5]||(S[5]=J(()=>{},["stop"]))},{default:a(()=>[e(Re,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(xe,{style:{width:"200px"}},{default:a(()=>[H((h(),j(Q,{clickable:"",onClick:J(V=>t(R).get($.route("admin.finance-account.duplicate",O.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:a(()=>S[8]||(S[8]=[v(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]]),H((h(),j(Q,{clickable:"",onClick:J(V=>t(R).get($.route("admin.finance-account.edit",O.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:a(()=>S[9]||(S[9]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]]),H((h(),j(Q,{onClick:J(V=>d(O.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>S[10]||(S[10]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[o.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar"},{default:a(()=>[l("div",fs,[e(Z,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:r.status,"onUpdate:modelValue":[S[2]||(S[2]=O=>r.status=O),q],options:b,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(Z,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:r.type,"onUpdate:modelValue":[S[3]||(S[3]=O=>r.type=O),q],options:k,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(F,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:r.search,"onUpdate:modelValue":S[4]||(S[4]=O=>r.search=O),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},Ss=Object.freeze(Object.defineProperty({__proto__:null,default:$s},Symbol.toStringTag,{value:"Module"})),xs={class:"q-gutter-sm"},qs={class:"col col-lg-6 q-pa-sm"},Cs={__name:"Editor",setup(c){const n=ie(),p=(n.props.data.id?"Edit":"Catat")+" Transaksi Keuangan",o=n.props.accounts.map(i=>({label:i.name,value:i.id})),s=[{label:"Pemasukan (+)",value:"income"},{label:"Pengeluaran (-)",value:"expense"},{label:"Transfer",value:"transfer"}],m=ke({id:n.props.data.id,account_id:n.props.data.account_id,to_account_id:n.props.data.to_account_id??null,type:n.props.data.type,datetime:bl(n.props.data.datetime?n.props.data.datetime:new Date),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),r=()=>he({form:m,url:route("admin.finance-transaction.save")});return(i,f)=>{const _=D("i-head"),b=D("authenticated-layout");return h(),P(Y,null,[e(_,{title:p}),e(b,null,{title:a(()=>[v(u(p))]),"left-button":a(()=>[l("div",xs,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:f[0]||(f[0]=k=>i.$inertia.get(i.route("admin.finance-transaction.index")))})])]),default:a(()=>[e(ve,{class:"row justify-center"},{default:a(()=>[l("div",qs,[e(Se,{class:"row",onSubmit:J(r,["prevent"]),onValidationError:t(Ce)},{default:a(()=>[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(W,{class:"q-pt-none"},{default:a(()=>[H(l("input",{type:"hidden",name:"id","onUpdate:modelValue":f[1]||(f[1]=k=>t(m).id=k)},null,512),[[Ye,t(m).id]]),e(ft,{modelValue:t(m).datetime,"onUpdate:modelValue":f[2]||(f[2]=k=>t(m).datetime=k),label:"Waktu",error:!!t(m).errors.datetime,disable:t(m).processing,errorMessage:t(m).errors.datetime,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(Z,{autofocus:"",modelValue:t(m).type,"onUpdate:modelValue":f[3]||(f[3]=k=>t(m).type=k),label:"Jenis Transaksi",options:s,"map-options":"","emit-value":"",error:!!t(m).errors.type,disable:t(m).processing,errorMessage:t(m).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(Z,{class:"custom-select",modelValue:t(m).account_id,"onUpdate:modelValue":f[4]||(f[4]=k=>t(m).account_id=k),label:t(m).type=="transfer"?"Akun Asal":"Akun",options:t(o),"map-options":"","emit-value":"",errorMessage:t(m).errors.account_id,error:!!t(m).errors.account_id,disable:t(m).processing,"hide-bottom-space":""},null,8,["modelValue","label","options","errorMessage","error","disable"]),t(m).type=="transfer"?(h(),j(Z,{key:0,class:"custom-select",modelValue:t(m).to_account_id,"onUpdate:modelValue":f[5]||(f[5]=k=>t(m).to_account_id=k),label:"Akun Tujuan",options:t(o),"map-options":"","emit-value":"",errorMessage:t(m).errors.to_account_id,error:!!t(m).errors.to_account_id,disable:t(m).processing,"hide-bottom-space":""},null,8,["modelValue","options","errorMessage","error","disable"])):U("",!0),e(Oe,{modelValue:t(m).amount,"onUpdate:modelValue":f[6]||(f[6]=k=>t(m).amount=k),label:"Jumlah",lazyRules:"",disable:t(m).processing,error:!!t(m).errors.amount,errorMessage:t(m).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(F,{modelValue:t(m).notes,"onUpdate:modelValue":f[7]||(f[7]=k=>t(m).notes=k),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(m).processing,error:!!t(m).errors.notes,"error-message":t(m).errors.notes,rules:[k=>k&&k.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(W,{class:"q-gutter-sm"},{default:a(()=>[e(N,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(m).processing},null,8,["disable"]),e(N,{icon:"cancel",label:"Batal",disable:t(m).processing,onClick:f[8]||(f[8]=k=>t(R).get(i.route("admin.finance-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Vs=Object.freeze(Object.defineProperty({__proto__:null,default:Cs},Symbol.toStringTag,{value:"Module"})),Ts={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Ps={class:"q-pa-sm"},Ms={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ns={class:"text-grey-8"},Is={key:0},Os={key:0},As={key:1},Ds={class:"flex justify-end"},da="Transaksi Kas",Us={__name:"Index",setup(c){const n=fe(),p=M(!1),o=M([]),s=M(!0),m=Ut(),r=Et(),i=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...gt(m-2,m-1).reverse()],f=[{value:"all",label:"Semua Bulan"},...bt()],_=Me({search:"",category_id:"all",year:m,month:r,...Ve()}),b=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),k=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];ye(()=>{y()});const d=T=>Be({message:`Hapus transaksi #-${T.id}?`,url:route("admin.finance-transaction.delete",T.id),fetchItemsCallback:y,loading:s}),y=(T=null)=>{Te({pagination:b,filter:_,props:T,rows:o,url:route("admin.finance-transaction.data"),loading:s})},q=()=>{y()},g=K(()=>n.screen.gt.sm?k:k.filter(T=>T.name==="datetime"||T.name==="action"));return qe(()=>_.year,T=>{T===null&&(_.month=null)}),(T,$)=>{const S=D("i-head"),x=D("authenticated-layout");return h(),P(Y,null,[e(S,{title:da}),e(x,null,Ee({title:a(()=>[v(u(da))]),"right-button":a(()=>[e(N,{icon:"add",dense:"",color:"primary",onClick:$[0]||($[0]=w=>t(R).get(T.route("admin.finance-transaction.add")))}),e(N,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:$[1]||($[1]=w=>p.value=!p.value)},null,8,["icon"])]),default:a(()=>[l("div",Ps,[e(_e,{class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":$[6]||($[6]=w=>b.value=w),filter:_.search,loading:s.value,columns:g.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:y,"binary-state-sort":""},{loading:a(()=>[e(Pe,{showing:"",color:"red"})]),"no-data":a(({icon:w,message:O,filter:V})=>[l("div",Ms,[l("span",null,u(O)+" "+u(V?" with term "+V:""),1)])]),body:a(w=>[e(we,{props:w},{default:a(()=>[e(E,{key:"datetime",props:w,class:"wrap-column"},{default:a(()=>[l("div",null,[v(" #"+u(w.row.id)+" - ",1),e(C,{name:"calendar_today"}),v(" "+u(t(At)(w.row.datetime))+" ",1),l("span",Ns,"("+u(t(Dt)(w.row.datetime))+")",1)]),e(wt,null,{default:a(()=>[e(C,{name:"category"}),v(" "+u(w.row.type_label),1)]),_:2},1024),w.row.ref_type?(h(),P("div",Is,[e(C,{name:"link"}),v(" "+u(w.row.ref_type_label)+" #"+u(w.row.ref_id),1)])):U("",!0),t(n).screen.gt.sm?U("",!0):(h(),P(Y,{key:1},[w.row.notes?(h(),P("div",Os,[e(C,{name:"notes"}),v(" "+u(w.row.notes),1)])):U("",!0),w.row.category?(h(),P("div",As,[e(C,{name:"category"}),v(" "+u(w.row.category.name),1)])):U("",!0),l("div",null,[e(C,{name:"money"}),v(" Rp. "+u(t(He)(w.row.amount)+t(B)(w.row.amount)),1)])],64))]),_:2},1032,["props"]),e(E,{key:"account",props:w},{default:a(()=>{var O;return[v(u((O=w.row.account)==null?void 0:O.name),1)]}),_:2},1032,["props"]),e(E,{key:"notes",props:w},{default:a(()=>[v(u(w.row.notes),1)]),_:2},1032,["props"]),e(E,{key:"amount",props:w,style:{"text-align":"right"}},{default:a(()=>[v(u(t(He)(w.row.amount)+t(B)(w.row.amount)),1)]),_:2},1032,["props"]),e(E,{key:"action",props:w},{default:a(()=>[l("div",Ds,[e(N,{disabled:!t(ze)(T.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:$[5]||($[5]=J(()=>{},["stop"]))},{default:a(()=>[e(Re,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(xe,{style:{width:"200px"}},{default:a(()=>[H((h(),j(Q,{onClick:J(O=>d(w.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>$[7]||($[7]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar"},{default:a(()=>[l("div",Ts,[e(Z,{modelValue:_.year,"onUpdate:modelValue":[$[2]||($[2]=w=>_.year=w),q],options:i,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),_.year!="all"?(h(),j(Z,{key:0,modelValue:_.month,"onUpdate:modelValue":[$[3]||($[3]=w=>_.month=w),q],options:f,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:_.year===null},null,8,["modelValue","disable"])):U("",!0),e(F,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:_.search,"onUpdate:modelValue":$[4]||($[4]=w=>_.search=w),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},Es=Object.freeze(Object.defineProperty({__proto__:null,default:Us},Symbol.toStringTag,{value:"Module"})),js={class:"q-gutter-sm"},Rs={class:"col col-lg-6 q-pa-sm"},Bs={__name:"Editor",setup(c){const n=ie(),p=(n.props.data.id?"Edit":"Tambah")+" Kategori Operasional",o=ke({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description}),s=()=>he({form:o,url:route("admin.operational-cost-category.save")});return(m,r)=>{const i=D("i-head"),f=D("authenticated-layout");return h(),P(Y,null,[e(i,{title:p}),e(f,null,{title:a(()=>[v(u(p))]),"left-button":a(()=>[l("div",js,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=_=>m.$inertia.get(m.route("admin.operational-cost-category.index")))})])]),default:a(()=>[e(ve,{class:"row justify-center"},{default:a(()=>[l("div",Rs,[e(Se,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(Ce)},{default:a(()=>[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(W,{class:"q-pt-none"},{default:a(()=>[H(l("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=_=>t(o).id=_)},null,512),[[Ye,t(o).id]]),e(F,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=_=>t(o).name=_),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(F,{modelValue:t(o).description,"onUpdate:modelValue":r[3]||(r[3]=_=>t(o).description=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Deskripsi","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.description,"error-message":t(o).errors.description},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(W,{class:"q-gutter-sm"},{default:a(()=>[e(N,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(N,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[4]||(r[4]=_=>t(R).get(m.route("admin.operational-cost-category.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Ls=Object.freeze(Object.defineProperty({__proto__:null,default:Bs},Symbol.toStringTag,{value:"Module"})),zs={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Ys={class:"q-pa-sm"},Hs={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Fs={key:0,class:"text-grey-8"},Ks={class:"flex justify-end"},ma="Kategori Biaya Operasional",Qs={__name:"Index",setup(c){const n=fe(),p=M(!1),o=M([]),s=M(!0),m=Me({search:"",...Ve()}),r=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),i=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];ye(()=>{_()});const f=k=>Be({message:`Hapus Kategori Biaya ${k.name}?`,url:route("admin.operational-cost-category.delete",k.id),fetchItemsCallback:_,loading:s}),_=(k=null)=>{Te({pagination:r,filter:m,props:k,rows:o,url:route("admin.operational-cost-category.data"),loading:s})},b=K(()=>n.screen.gt.sm?i:i.filter(k=>k.name==="name"||k.name==="action"));return(k,d)=>{const y=D("i-head"),q=D("authenticated-layout");return h(),P(Y,null,[e(y,{title:ma}),e(q,null,Ee({title:a(()=>[v(u(ma))]),"right-button":a(()=>[e(N,{icon:"add",dense:"",color:"primary",onClick:d[0]||(d[0]=g=>t(R).get(k.route("admin.operational-cost-category.add")))}),e(N,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:d[1]||(d[1]=g=>p.value=!p.value)},null,8,["icon"])]),default:a(()=>[l("div",Ys,[e(_e,{class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":d[4]||(d[4]=g=>r.value=g),filter:m.search,loading:s.value,columns:b.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:_,"binary-state-sort":""},{loading:a(()=>[e(Pe,{showing:"",color:"red"})]),"no-data":a(({icon:g,message:T,filter:$})=>[l("div",Hs,[l("span",null,u(T)+" "+u($?" with term "+$:""),1)])]),body:a(g=>[e(we,{props:g},{default:a(()=>[e(E,{key:"name",props:g,class:"wrap-column"},{default:a(()=>[v(u(g.row.name)+" ",1),t(n).screen.gt.sm?U("",!0):(h(),P(Y,{key:0},[g.row.description?(h(),P("div",Fs,[e(C,{name:"description"}),v(" "+u(g.row.description),1)])):U("",!0)],64))]),_:2},1032,["props"]),e(E,{key:"description",props:g,class:"wrap-column"},{default:a(()=>[v(u(g.row.description),1)]),_:2},1032,["props"]),e(E,{key:"action",props:g},{default:a(()=>[l("div",Ks,[e(N,{disabled:!t(ze)(k.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:d[3]||(d[3]=J(()=>{},["stop"]))},{default:a(()=>[e(Re,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(xe,{style:{width:"200px"}},{default:a(()=>[H((h(),j(Q,{clickable:"",onClick:J(T=>t(R).get(k.route("admin.operational-cost-category.duplicate",g.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:a(()=>d[5]||(d[5]=[v("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]]),H((h(),j(Q,{clickable:"",onClick:J(T=>t(R).get(k.route("admin.operational-cost-category.edit",g.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:a(()=>d[6]||(d[6]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]]),H((h(),j(Q,{onClick:J(T=>f(g.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>d[7]||(d[7]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar"},{default:a(()=>[l("div",zs,[e(F,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":d[2]||(d[2]=g=>m.search=g),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},Ws=Object.freeze(Object.defineProperty({__proto__:null,default:Qs},Symbol.toStringTag,{value:"Module"})),Js={class:"q-gutter-sm"},Gs={class:"q-gutter-sm"},Xs={class:"col col-lg-6 q-pa-sm"},Zs={class:"row"},er={class:"detail"},tr={key:1,class:"text-grey-9"},ar={class:"detail"},ca="Rincian Teknisi",lr={__name:"Detail",setup(c){const n=ie();return(p,o)=>{const s=D("i-head"),m=D("i-link"),r=D("authenticated-layout");return h(),P(Y,null,[e(s,{title:ca}),e(r,null,{title:a(()=>[v(u(ca))]),"left-button":a(()=>[l("div",Js,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=i=>p.$inertia.get(p.route("admin.operational-cost.index")))})])]),"right-button":a(()=>[l("div",Gs,[e(N,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=i=>t(R).get(p.route("admin.operational-cost.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(ve,{class:"row justify-center"},{default:a(()=>[l("div",Xs,[l("div",Zs,[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(W,null,{default:a(()=>[o[12]||(o[12]=l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Profil Teknisi ",-1)),l("table",er,[l("tbody",null,[l("tr",null,[o[2]||(o[2]=l("td",{style:{width:"125px"}},"Akun Pengguna",-1)),o[3]||(o[3]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,[t(n).props.data.user?(h(),j(m,{key:0,href:p.route("admin.user.detail",{id:t(n).props.data.user.id})},{default:a(()=>[v(u(t(n).props.data.user.username),1)]),_:1},8,["href"])):(h(),P("span",tr,"Tidak terhubung"))])]),l("tr",null,[o[4]||(o[4]=l("td",null,"Nama Teknisi",-1)),o[5]||(o[5]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"No. Telepon",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.phone),1)]),l("tr",null,[o[8]||(o[8]=l("td",null,"Email",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.email),1)]),l("tr",null,[o[10]||(o[10]=l("td",null,"Alamat",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.address),1)])])])]),_:1}),e(W,null,{default:a(()=>o[13]||(o[13]=[l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Statistik Servis ",-1),l("table",{class:"detail"},[l("tbody",null,[l("tr",null,[l("td",{style:{width:"125px"}},"Servis Ditangani"),l("td",{style:{width:"1px"}},":"),l("td",null,"0")]),l("tr",null,[l("td",null,"Servis Sukses"),l("td",null,":"),l("td",null,"0")]),l("tr",null,[l("td",null,"Servis Gagal"),l("td",null,":"),l("td",null,"0")])])],-1)])),_:1}),e(W,null,{default:a(()=>[o[18]||(o[18]=l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Informasi Ekstra ",-1)),l("table",ar,[l("tbody",null,[l("tr",null,[o[14]||(o[14]=l("td",{style:{width:"125px"}},"Dibuat",-1)),o[15]||(o[15]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(p.$dayjs(new Date(t(n).props.data.created_at)).format("DD MMMM YY HH:mm:ss")),1)]),l("tr",null,[o[16]||(o[16]=l("td",null,"Diperbarui",-1)),o[17]||(o[17]=l("td",null,":",-1)),l("td",null,u(p.$dayjs(new Date(t(n).props.data.updated_at)).format("DD MMMM YY HH:mm:ss")),1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},or=Object.freeze(Object.defineProperty({__proto__:null,default:lr},Symbol.toStringTag,{value:"Module"})),nr={class:"row items-center justify-end"},sr={__name:"DatePicker",props:{modelValue:{type:String,required:!0},label:{type:String,default:""},readonly:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},rules:{type:Array,default:[]},mask:{type:String,default:"####-##-##"}},emits:["update:modelValue"],setup(c,{emit:n}){const p=c,o=n,s=M("");qe(()=>p.modelValue,i=>{const[f,_]=i.split(" ");s.value=f||""});const m=M(p.modelValue),r=()=>{let i="";s.value&&(i=`${s.value} 00:00`),o("update:modelValue",i),m.value=i};return(i,f)=>(h(),j(F,{modelValue:m.value,"onUpdate:modelValue":f[1]||(f[1]=_=>m.value=_),label:p.label,readonly:p.readonly,disable:p.disable,error:p.error,rules:[...p.rules],"error-message":c.errorMessage,mask:p.mask},{append:a(()=>[e(C,{name:"event",class:"cursor-pointer"},{default:a(()=>[e(vl,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(_l,{modelValue:s.value,"onUpdate:modelValue":[f[0]||(f[0]=_=>s.value=_),r],mask:"YYYY-MM-DD"},{default:a(()=>[l("div",nr,[H(e(N,{label:"Close",color:"primary",flat:""},null,512),[[oe]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label","readonly","disable","error","rules","error-message","mask"]))}},rr=lt(sr,[["__scopeId","data-v-af4e8707"]]);function Oa(c,n=!1){const p=c.map(r=>({value:r.id,label:r.name})),o=n?[{value:"all",label:"Semua"},...p]:p,s=M([...o]);return{filteredCostCategories:s,filterCostCategory:(r,i)=>{const f=r.toLowerCase();i(()=>{s.value=o.filter(_=>_.label.toLowerCase().includes(f))})},costCategoryOptions:o}}const ir={class:"q-gutter-sm"},ur={class:"col col-lg-6 q-pa-sm"},dr={__name:"Editor",setup(c){const n=ie(),p=(n.props.data.id?"Edit":"Tambah")+" Biaya Operasional",{costCategoryOptions:o}=Oa(n.props.categories),s=M(o),m=M([...s.value]),r=ke({id:n.props.data.id,category_id:n.props.data.category_id,date:n.props.data.date,description:n.props.data.description,notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),i=()=>he({form:r,url:route("admin.operational-cost.save")}),f=(_,b)=>{b(()=>{m.value=s.value.filter(k=>k.label.toLowerCase().includes(_.toLowerCase()))})};return(_,b)=>{const k=D("i-head"),d=D("authenticated-layout");return h(),P(Y,null,[e(k,{title:p}),e(d,null,{title:a(()=>[v(u(p))]),"left-button":a(()=>[l("div",ir,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=y=>_.$inertia.get(_.route("admin.operational-cost.index")))})])]),default:a(()=>[e(ve,{class:"row justify-center"},{default:a(()=>[l("div",ur,[e(Se,{class:"row",onSubmit:J(i,["prevent"]),onValidationError:t(Ce)},{default:a(()=>[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(W,{class:"q-pt-none"},{default:a(()=>[H(l("input",{type:"hidden",name:"id","onUpdate:modelValue":b[1]||(b[1]=y=>t(r).id=y)},null,512),[[Ye,t(r).id]]),e(Z,{autofocus:"",modelValue:t(r).category_id,"onUpdate:modelValue":b[2]||(b[2]=y=>t(r).category_id=y),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:m.value,"map-options":"","emit-value":"",onFilter:f,error:!!t(r).errors.category_id,disable:t(r).processing},{"no-option":a(()=>[e(Q,null,{default:a(()=>[e(I,null,{default:a(()=>b[8]||(b[8]=[v("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","error","disable"]),e(rr,{modelValue:t(r).date,"onUpdate:modelValue":b[3]||(b[3]=y=>t(r).date=y),label:"Tanggal",error:!!t(r).errors.date,disable:t(r).processing},null,8,["modelValue","error","disable"]),e(F,{modelValue:t(r).description,"onUpdate:modelValue":b[4]||(b[4]=y=>t(r).description=y),modelModifiers:{trim:!0},label:"Deskripsi","lazy-rules":"",error:!!t(r).errors.description,disable:t(r).processing,"error-message":t(r).errors.description,rules:[y=>y&&y.length>0||"Deskripsi harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(Oe,{modelValue:t(r).amount,"onUpdate:modelValue":b[5]||(b[5]=y=>t(r).amount=y),label:"Jumlah",lazyRules:"",disable:t(r).processing,error:!!t(r).errors.amount,errorMessage:t(r).errors.amount,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),e(F,{modelValue:t(r).notes,"onUpdate:modelValue":b[6]||(b[6]=y=>t(r).notes=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(r).processing,error:!!t(r).errors.notes,"error-message":t(r).errors.notes},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(W,{class:"q-gutter-sm"},{default:a(()=>[e(N,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(r).processing},null,8,["disable"]),e(N,{icon:"cancel",label:"Batal",disable:t(r).processing,onClick:b[7]||(b[7]=y=>t(R).get(_.route("admin.operational-cost.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},mr=Object.freeze(Object.defineProperty({__proto__:null,default:dr},Symbol.toStringTag,{value:"Module"})),cr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},pr={class:"q-pa-sm"},fr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},gr={class:"flex items-center q-gutter-xs"},br={key:0},vr={key:0},_r={class:"flex justify-end"},pa="Biaya Operasional",yr={__name:"Index",setup(c){const n=ie(),p=fe(),o=M(!1),s=M([]),m=M(!0),r=new Date().getFullYear(),i=new Date().getMonth()+1,f=[{label:"Semua Tahun",value:null},{label:`${r}`,value:r},...gt(r-2,r-1).reverse()],_=[{value:null,label:"Semua Bulan"},...bt()],{costCategoryOptions:b}=Oa(n.props.categories),k=[{value:"all",label:"Semua"},{value:"null",label:"Tanpa Kategori"},...b],d=Me({search:"",category_id:"all",year:r,month:i,...Ve()}),y=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"date",descending:!0}),q=[{name:"date",label:"Tanggal",field:"date",align:"left",sortable:!0},{name:"description",label:"Deskripsi",field:"description",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right",sortable:!0},{name:"action",align:"right"}];ye(()=>{T()});const g=x=>Be({message:`Hapus Biaya ${x.description}?`,url:route("admin.operational-cost.delete",x.id),fetchItemsCallback:T,loading:m}),T=(x=null)=>{Te({pagination:y,filter:d,props:x,rows:s,url:route("admin.operational-cost.data"),loading:m})},$=()=>{T()},S=K(()=>p.screen.gt.sm?q:q.filter(x=>x.name==="date"||x.name==="action"));return qe(()=>d.year,x=>{x===null&&(d.month=null)}),(x,w)=>{const O=D("i-head"),V=D("authenticated-layout");return h(),P(Y,null,[e(O,{title:pa}),e(V,null,Ee({title:a(()=>[v(u(pa))]),"right-button":a(()=>[e(N,{icon:"add",dense:"",color:"primary",onClick:w[0]||(w[0]=A=>t(R).get(x.route("admin.operational-cost.add")))}),e(N,{class:"q-ml-sm",icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:w[1]||(w[1]=A=>o.value=!o.value)},null,8,["icon"])]),default:a(()=>[l("div",pr,[e(_e,{class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":w[7]||(w[7]=A=>y.value=A),filter:d.search,loading:m.value,columns:S.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:T,"binary-state-sort":""},{loading:a(()=>[e(Pe,{showing:"",color:"red"})]),"no-data":a(({icon:A,message:le,filter:L})=>[l("div",fr,[l("span",null,u(le)+" "+u(L?" with term "+L:""),1)])]),body:a(A=>[e(we,{props:A},{default:a(()=>[e(E,{key:"date",props:A,class:"wrap-column"},{default:a(()=>[l("div",gr,[e(C,{name:"calendar_today"}),l("div",null,u(t(Ke)(A.row.date).format("DD/MM/YYYY")),1)]),t(p).screen.gt.sm?U("",!0):(h(),P(Y,{key:0},[l("div",null,[e(C,{name:"notes"}),v(" "+u(A.row.description),1)]),A.row.category?(h(),P("div",br,[e(C,{name:"category"}),v(" "+u(A.row.category.name),1)])):U("",!0),l("div",null,[e(C,{name:"paid"}),v(" Rp. "+u(t(B)(A.row.amount)),1)])],64))]),_:2},1032,["props"]),e(E,{key:"description",props:A},{default:a(()=>[v(u(A.row.description)+" ",1),A.row.category?(h(),P("div",vr,[e(C,{name:"category"}),v(" "+u(A.row.category.name),1)])):U("",!0)]),_:2},1032,["props"]),e(E,{key:"amount",props:A,style:{"text-align":"right"}},{default:a(()=>[v(u(t(B)(A.row.amount)),1)]),_:2},1032,["props"]),e(E,{key:"action",props:A},{default:a(()=>[l("div",_r,[e(N,{disabled:!t(ze)(x.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:w[6]||(w[6]=J(()=>{},["stop"]))},{default:a(()=>[e(Re,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(xe,{style:{width:"200px"}},{default:a(()=>[H((h(),j(Q,{clickable:"",onClick:J(le=>t(R).get(x.route("admin.operational-cost.duplicate",A.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:a(()=>w[8]||(w[8]=[v(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]]),H((h(),j(Q,{clickable:"",onClick:J(le=>t(R).get(x.route("admin.operational-cost.edit",A.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:a(()=>w[9]||(w[9]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]]),H((h(),j(Q,{onClick:J(le=>g(A.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>w[10]||(w[10]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[o.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar"},{default:a(()=>[l("div",cr,[e(Z,{modelValue:d.year,"onUpdate:modelValue":[w[2]||(w[2]=A=>d.year=A),$],options:f,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(Z,{modelValue:d.month,"onUpdate:modelValue":[w[3]||(w[3]=A=>d.month=A),$],options:_,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:d.year===null},null,8,["modelValue","disable"]),e(Z,{modelValue:d.category_id,"onUpdate:modelValue":[w[4]||(w[4]=A=>d.category_id=A),$],options:k,label:"Kategori",dense:"",class:"custom-select col-xs-12 col-sm-3","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(F,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":w[5]||(w[5]=A=>d.search=A),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},wr=Object.freeze(Object.defineProperty({__proto__:null,default:yr},Symbol.toStringTag,{value:"Module"})),kr={class:"q-gutter-sm"},hr={class:"col col-lg-6 q-pa-sm"},$r={__name:"Editor",setup(c){const n=ie(),p=(n.props.data.id?"Edit":"Tambah")+" Kategori Produk",o=ke({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description}),s=()=>he({form:o,url:route("admin.product-category.save")});return(m,r)=>{const i=D("i-head"),f=D("authenticated-layout");return h(),P(Y,null,[e(i,{title:p}),e(f,null,{title:a(()=>[v(u(p))]),"left-button":a(()=>[l("div",kr,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=_=>m.$inertia.get(m.route("admin.product-category.index")))})])]),default:a(()=>[e(ve,{class:"row justify-center"},{default:a(()=>[l("div",hr,[e(Se,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(Ce)},{default:a(()=>[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(W,{class:"q-pt-none"},{default:a(()=>[H(l("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=_=>t(o).id=_)},null,512),[[Ye,t(o).id]]),e(F,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=_=>t(o).name=_),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(F,{modelValue:t(o).description,"onUpdate:modelValue":r[3]||(r[3]=_=>t(o).description=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Deskripsi","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.description,"error-message":t(o).errors.description},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(W,{class:"q-gutter-sm"},{default:a(()=>[e(N,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(N,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[4]||(r[4]=_=>t(R).get(m.route("admin.product-category.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Sr=Object.freeze(Object.defineProperty({__proto__:null,default:$r},Symbol.toStringTag,{value:"Module"})),xr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},qr={class:"q-pa-sm"},Cr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Vr={key:0,class:"text-grey-8"},Tr={class:"flex justify-end"},fa="Kategori Produk",Pr={__name:"Index",setup(c){const n=fe(),p=M(!1),o=M([]),s=M(!0),m=Me({search:"",...Ve()}),r=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),i=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];ye(()=>{_()});const f=k=>Be({message:`Hapus Kategori ${k.name}?`,url:route("admin.product-category.delete",k.id),fetchItemsCallback:_,loading:s}),_=(k=null)=>{Te({pagination:r,filter:m,props:k,rows:o,url:route("admin.product-category.data"),loading:s})},b=K(()=>n.screen.gt.sm?i:i.filter(k=>k.name==="name"||k.name==="action"));return(k,d)=>{const y=D("i-head"),q=D("authenticated-layout");return h(),P(Y,null,[e(y,{title:fa}),e(q,null,Ee({title:a(()=>[v(u(fa))]),"right-button":a(()=>[e(N,{icon:"add",dense:"",color:"primary",onClick:d[0]||(d[0]=g=>t(R).get(k.route("admin.product-category.add")))}),e(N,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:d[1]||(d[1]=g=>p.value=!p.value)},null,8,["icon"])]),default:a(()=>[l("div",qr,[e(_e,{class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":d[4]||(d[4]=g=>r.value=g),filter:m.search,loading:s.value,columns:b.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:_,"binary-state-sort":""},{loading:a(()=>[e(Pe,{showing:"",color:"red"})]),"no-data":a(({icon:g,message:T,filter:$})=>[l("div",Cr,[l("span",null,u(T)+" "+u($?" with term "+$:""),1)])]),body:a(g=>[e(we,{props:g},{default:a(()=>[e(E,{key:"name",props:g,class:"wrap-column"},{default:a(()=>[v(u(g.row.name)+" ",1),t(n).screen.gt.sm?U("",!0):(h(),P(Y,{key:0},[g.row.description?(h(),P("div",Vr,[e(C,{name:"description"}),v(" "+u(g.row.description),1)])):U("",!0)],64))]),_:2},1032,["props"]),e(E,{key:"description",props:g,class:"wrap-column"},{default:a(()=>[v(u(g.row.description),1)]),_:2},1032,["props"]),e(E,{key:"action",props:g},{default:a(()=>[l("div",Tr,[e(N,{disabled:!t(ze)(k.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:d[3]||(d[3]=J(()=>{},["stop"]))},{default:a(()=>[e(Re,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(xe,{style:{width:"200px"}},{default:a(()=>[H((h(),j(Q,{clickable:"",onClick:J(T=>t(R).get(k.route("admin.product-category.duplicate",g.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:a(()=>d[5]||(d[5]=[v("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]]),H((h(),j(Q,{clickable:"",onClick:J(T=>t(R).get(k.route("admin.product-category.edit",g.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:a(()=>d[6]||(d[6]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]]),H((h(),j(Q,{onClick:J(T=>f(g.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>d[7]||(d[7]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar"},{default:a(()=>[l("div",xr,[e(F,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":d[2]||(d[2]=g=>m.search=g),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},Mr=Object.freeze(Object.defineProperty({__proto__:null,default:Pr},Symbol.toStringTag,{value:"Module"})),Nr={class:"q-gutter-sm"},Ir={class:"q-gutter-sm"},Or={class:"row justify-center"},Ar={class:"col col-lg-6 q-pa-sm"},Dr={class:"row"},Ur={class:"detail"},Er={key:0},jr={key:1},Rr={class:"detail"},Br={class:"detail"},Lr={key:0},zr={key:1},Yr={class:"detail"},Hr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Fr={class:"flex q-gutter-sm"},Kr={class:""},Qr={__name:"Detail",setup(c){const n=ie(),p=`Rincian Produk #${n.props.data.id}`,o=M("main"),s=M([]),m=M(!0),r=Me({...Ve()}),i=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),f=[{name:"id",label:"#",field:"id",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!0},{name:"quantity",label:"Jumlah",field:"quantity",align:"center",sortable:!0}];ye(()=>{_()});const _=(d=null)=>Te({pagination:i,filter:r,props:d,rows:s,url:route("admin.stock-movement.data",{product_id:n.props.data.id}),loading:m}),b=fe(),k=K(()=>b.screen.gt.sm?f:f.filter(d=>d.name==="id"));return(d,y)=>{const q=D("i-head"),g=D("i-link"),T=D("authenticated-layout");return h(),P(Y,null,[e(q,{title:p}),e(T,null,{title:a(()=>[v(u(p))]),"left-button":a(()=>[l("div",Nr,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:y[0]||(y[0]=$=>d.$inertia.get(d.route("admin.product.index")))})])]),"right-button":a(()=>[l("div",Ir,[e(N,{icon:"edit",dense:"",color:"primary",onClick:y[1]||(y[1]=$=>t(R).get(d.route("admin.product.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[l("div",Or,[l("div",Ar,[l("div",Dr,[e(ae,{square:"",flat:"",bordered:"",class:"q-card col"},{default:a(()=>[e(Bt,{modelValue:o.value,"onUpdate:modelValue":y[2]||(y[2]=$=>o.value=$),align:"left"},{default:a(()=>[e(it,{name:"main",label:"Info Utama"}),e(it,{name:"history",label:"Riwayat Stok"})]),_:1},8,["modelValue"]),e(Lt,{modelValue:o.value,"onUpdate:modelValue":y[4]||(y[4]=$=>o.value=$)},{default:a(()=>[e(ut,{name:"main"},{default:a(()=>[y[41]||(y[41]=l("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Produk ",-1)),l("table",Ur,[l("tbody",null,[l("tr",null,[y[5]||(y[5]=l("td",{style:{width:"120px"}},"ID",-1)),y[6]||(y[6]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,"# "+u(t(n).props.data.id),1)]),l("tr",null,[y[7]||(y[7]=l("td",null,"Nama Produk",-1)),y[8]||(y[8]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[y[9]||(y[9]=l("td",null,"Jenis Produk",-1)),y[10]||(y[10]=l("td",null,":",-1)),l("td",null,u(d.$CONSTANTS.PRODUCT_TYPES[t(n).props.data.type]),1)]),l("tr",null,[y[11]||(y[11]=l("td",null,"Kategori",-1)),y[12]||(y[12]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.category?t(n).props.data.category.name:"--Tidak memiliki kategori--"),1)]),l("tr",null,[y[13]||(y[13]=l("td",null,"Supplier",-1)),y[14]||(y[14]=l("td",null,":",-1)),l("td",null,[t(n).props.data.supplier?(h(),j(g,{key:0,href:d.route("admin.supplier.detail",{id:t(n).props.data.supplier.id})},{default:a(()=>[v(u("#"+t(n).props.data.supplier.id+" - "+t(n).props.data.supplier.name),1)]),_:1},8,["href"])):(h(),P(Y,{key:1},[v(u("--Tidak memiliki supplier--"))],64))])]),l("tr",null,[y[15]||(y[15]=l("td",null,"Status",-1)),y[16]||(y[16]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),t(n).props.data.created_at?(h(),P("tr",Er,[y[18]||(y[18]=l("td",null,"Dibuat Oleh",-1)),y[19]||(y[19]=l("td",null,":",-1)),l("td",null,[t(n).props.data.created_by?(h(),P(Y,{key:0},[e(g,{href:d.route("admin.user.detail",{id:t(n).props.data.created_by})},{default:a(()=>[v(u(t(n).props.data.created_by.username)+" - "+u(t(n).props.data.created_by.name),1)]),_:1},8,["href"]),y[17]||(y[17]=v(" - "))],64)):U("",!0),v(" "+u(d.$dayjs(new Date(t(n).props.data.created_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):U("",!0),t(n).props.data.updated_at?(h(),P("tr",jr,[y[21]||(y[21]=l("td",null,"Diperbarui oleh",-1)),y[22]||(y[22]=l("td",null,":",-1)),l("td",null,[t(n).props.data.updated_by?(h(),P(Y,{key:0},[e(g,{href:d.route("admin.user.detail",{id:t(n).props.data.updated_by})},{default:a(()=>[v(u(t(n).props.data.updated_by.username)+" - "+u(t(n).props.data.updated_by.name),1)]),_:1},8,["href"]),y[20]||(y[20]=v(" - "))],64)):U("",!0),v(" "+u(d.$dayjs(new Date(t(n).props.data.updated_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):U("",!0)])]),y[42]||(y[42]=l("div",{class:"text-subtitle1 q-pt-lg text-bold text-grey-9"}," Info Inventori ",-1)),l("table",Rr,[l("tbody",null,[l("tr",null,[y[23]||(y[23]=l("td",{style:{width:"120px"}},"Stok",-1)),y[24]||(y[24]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(B)(t(n).props.data.stock))+" "+u(t(n).props.data.uom),1)]),l("tr",null,[y[25]||(y[25]=l("td",null,"Stok Minimum",-1)),y[26]||(y[26]=l("td",null,":",-1)),l("td",null,u(t(B)(t(n).props.data.min_stock))+" "+u(t(n).props.data.uom),1)]),l("tr",null,[y[27]||(y[27]=l("td",null,"Stok Maksimum",-1)),y[28]||(y[28]=l("td",null,":",-1)),l("td",null,u(t(B)(t(n).props.data.max_stock))+" "+u(t(n).props.data.uom),1)]),l("tr",null,[y[29]||(y[29]=l("td",null,"Barcode",-1)),y[30]||(y[30]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.barcode),1)])])]),y[43]||(y[43]=l("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Harga ",-1)),l("table",Br,[l("tbody",null,[d.$page.props.auth.user.role==d.$CONSTANTS.USER_ROLE_ADMIN?(h(),P("tr",Lr,[y[31]||(y[31]=l("td",{style:{width:"120px"}},"Harga Beli",-1)),y[32]||(y[32]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,"Rp. "+u(t(B)(t(n).props.data.cost)),1)])):U("",!0),l("tr",null,[y[33]||(y[33]=l("td",null,"Harga Jual",-1)),y[34]||(y[34]=l("td",null,":",-1)),l("td",null,"Rp. "+u(t(B)(t(n).props.data.price)),1)]),d.$page.props.auth.user.role==d.$CONSTANTS.USER_ROLE_ADMIN?(h(),P("tr",zr,[y[35]||(y[35]=l("td",null,"Margin",-1)),y[36]||(y[36]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.price>0?t(B)((t(n).props.data.price-t(n).props.data.cost)/t(n).props.data.price*100,"id-ID",2):0)+" % ",1)])):U("",!0)])]),y[44]||(y[44]=l("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Deskripsi & Catatan ",-1)),l("table",Yr,[l("tbody",null,[l("tr",null,[y[37]||(y[37]=l("td",{style:{width:"120px"}},"Deskirpsi",-1)),y[38]||(y[38]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.description),1)]),l("tr",null,[y[39]||(y[39]=l("td",null,"Catatan",-1)),y[40]||(y[40]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.notes),1)])])])]),_:1}),e(ut,{name:"history"},{default:a(()=>[e(_e,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":y[3]||(y[3]=$=>i.value=$),filter:r.search,loading:m.value,columns:k.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:_,"binary-state-sort":""},{loading:a(()=>[e(Pe,{showing:"",color:"red"})]),"no-data":a(({icon:$,message:S,filter:x})=>[l("div",Hr,[l("span",null,u(S)+" "+u(x?" with term "+x:""),1)])]),body:a($=>[e(we,{props:$},{default:a(()=>[e(E,{key:"id",props:$},{default:a(()=>[l("div",Fr,[l("div",null,[l("b",null,"#"+u($.row.id),1)]),l("div",null," - "+u(d.$dayjs(new Date($.row.created_at)).format("DD/MM/YYYY hh:mm:ss")),1),l("div",null," - "+u($.row.created_by?$.row.created_by.username:"--"),1)]),t(b).screen.lt.md?(h(),P(Y,{key:0},[l("div",Kr,u(d.$CONSTANTS.STOCKMOVEMENT_REFTYPES[$.row.ref_type]),1),l("div",{class:pe($.row.quantity<0?"text-red-10":$.row.quantity>0?"text-green-10":"")},[e(C,{name:$.row.quantity<0?"arrow_downward":$.row.quantity>0?"arrow_upward":""},null,8,["name"]),v(" "+u(t(B)($.row.quantity)),1)],2)],64)):U("",!0)]),_:2},1032,["props"]),e(E,{key:"type",props:$},{default:a(()=>[v(u(d.$CONSTANTS.STOCKMOVEMENT_REFTYPES[$.row.ref_type]),1)]),_:2},1032,["props"]),e(E,{key:"quantity",props:$},{default:a(()=>[l("div",{class:pe($.row.quantity<0?"text-red-10":$.row.quantity>0?"text-green-10":"")},[e(C,{name:$.row.quantity<0?"arrow_downward":$.row.quantity>0?"arrow_upward":""},null,8,["name"]),v(" "+u(t(B)($.row.quantity)),1)],2)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])])]),_:1})],64)}}},Wr=Object.freeze(Object.defineProperty({__proto__:null,default:Qr},Symbol.toStringTag,{value:"Module"}));function Aa(c,n=!1){const p=c.map(r=>({value:r.id,label:r.name})),o=n?[{value:"all",label:"Semua"},...p]:p,s=M([...o]);return{filteredCategories:s,filterCategories:(r,i)=>{const f=r.toLowerCase();i(()=>{s.value=o.filter(_=>_.label.toLowerCase().includes(f))})},categories:o}}function zt(c,n=!1){const p=c.map(r=>({value:r.id,label:"#"+r.id+" - "+r.name})),o=n?[{value:"all",label:"Semua"},...p]:p,s=M([...o]);return{filteredSuppliers:s,filterSupplierFn:(r,i)=>{i(()=>{s.value=o.filter(f=>f.label.toLowerCase().includes(r.toLowerCase()))})},suppliers:o}}const Jr={class:"q-gutter-sm"},Gr={class:"col col-lg-6 q-pa-sm"},Xr={style:{"margin-left":"-10px"}},Zr={__name:"Editor",setup(c){const n=ie(),p=(n.props.data.id?"Edit":"Tambah")+" Produk",o=je(window.CONSTANTS.PRODUCT_TYPES),s=ke({id:n.props.data.id,category_id:n.props.data.category_id,supplier_id:n.props.data.supplier_id,type:n.props.data.type,name:n.props.data.name,barcode:n.props.data.barcode,description:n.props.data.description,stock:parseFloat(n.props.data.stock),min_stock:parseFloat(n.props.data.min_stock),max_stock:parseFloat(n.props.data.max_stock),uom:n.props.data.uom,cost:parseFloat(n.props.data.cost),price:parseFloat(n.props.data.price),active:!!n.props.data.active,notes:n.props.data.notes}),m=()=>he({form:s,url:route("admin.product.save")}),{filteredCategories:r,filterCategories:i}=Aa(n.props.categories),{filteredSuppliers:f,filterSuppliers:_}=zt(n.props.suppliers),b=K(()=>s.price>0?(s.price-s.cost)/s.price*100:0);return(k,d)=>{const y=D("i-head"),q=D("authenticated-layout");return h(),P(Y,null,[e(y,{title:p}),e(q,null,{title:a(()=>[v(u(p))]),"left-button":a(()=>[l("div",Jr,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=g=>k.$inertia.get(k.route("admin.product.index")))})])]),default:a(()=>[e(ve,{class:"row justify-center"},{default:a(()=>[l("div",Gr,[e(Se,{class:"row",onSubmit:J(m,["prevent"]),onValidationError:t(Ce)},{default:a(()=>[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(W,{class:"q-pt-none"},{default:a(()=>[H(l("input",{type:"hidden",name:"id","onUpdate:modelValue":d[1]||(d[1]=g=>t(s).id=g)},null,512),[[Ye,t(s).id]]),d[20]||(d[20]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Utama",-1)),e(Z,{autofocus:"",modelValue:t(s).type,"onUpdate:modelValue":d[2]||(d[2]=g=>t(s).type=g),class:"custom-select",options:t(o),label:"Jenis","map-options":"","emit-value":""},null,8,["modelValue","options"]),e(F,{modelValue:t(s).name,"onUpdate:modelValue":d[3]||(d[3]=g=>t(s).name=g),modelModifiers:{trim:!0},label:"Nama Produk","lazy-rules":"",error:!!t(s).errors.name,disable:t(s).processing,"error-message":t(s).errors.name,rules:[g=>g&&g.length>0||"Nama harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(F,{modelValue:t(s).description,"onUpdate:modelValue":d[4]||(d[4]=g=>t(s).description=g),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Deskripsi","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.description,"error-message":t(s).errors.description},null,8,["modelValue","disable","error","error-message"]),e(Z,{modelValue:t(s).category_id,"onUpdate:modelValue":d[5]||(d[5]=g=>t(s).category_id=g),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:t(r),"map-options":"","emit-value":"",onFilter:t(i),"option-label":"label","option-value":"value",error:!!t(s).errors.category_id,disable:t(s).processing},{"no-option":a(()=>[e(Q,null,{default:a(()=>[e(I,null,{default:a(()=>d[18]||(d[18]=[v("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),e(Z,{modelValue:t(s).supplier_id,"onUpdate:modelValue":d[6]||(d[6]=g=>t(s).supplier_id=g),label:"Supplier","use-input":"","input-debounce":"300",clearable:"",options:t(f),"map-options":"","emit-value":"",onFilter:t(_),"option-label":"label","option-value":"value",error:!!t(s).errors.supplier_id,disable:t(s).processing},{"no-option":a(()=>[e(Q,null,{default:a(()=>[e(I,null,{default:a(()=>d[19]||(d[19]=[v("Supplier tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),l("div",Xr,[e(at,{class:"full-width q-pl-none",modelValue:t(s).active,"onUpdate:modelValue":d[7]||(d[7]=g=>t(s).active=g),disable:t(s).processing,label:"Aktif"},null,8,["modelValue","disable"])]),d[21]||(d[21]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Inventori",-1)),e(F,{modelValue:t(s).barcode,"onUpdate:modelValue":d[8]||(d[8]=g=>t(s).barcode=g),modelModifiers:{trim:!0},label:"Barcode","lazy-rules":"",error:!!t(s).errors.barcode,disable:t(s).processing,"error-message":t(s).errors.barcode},null,8,["modelValue","error","disable","error-message"]),e(F,{modelValue:t(s).uom,"onUpdate:modelValue":d[9]||(d[9]=g=>t(s).uom=g),modelModifiers:{trim:!0},label:"Satuan","lazy-rules":"",error:!!t(s).errors.uom,disable:t(s).processing,"error-message":t(s).errors.uom},null,8,["modelValue","error","disable","error-message"]),e(Oe,{modelValue:t(s).stock,"onUpdate:modelValue":d[10]||(d[10]=g=>t(s).stock=g),label:"Stok",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.stock,errorMessage:t(s).errors.stock},null,8,["modelValue","disable","error","errorMessage"]),e(Oe,{modelValue:t(s).min_stock,"onUpdate:modelValue":d[11]||(d[11]=g=>t(s).min_stock=g),label:"Stok Minimum",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.min_stock,errorMessage:t(s).errors.min_stock},null,8,["modelValue","disable","error","errorMessage"]),e(Oe,{modelValue:t(s).max_stock,"onUpdate:modelValue":d[12]||(d[12]=g=>t(s).max_stock=g),label:"Stok Maksimum",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.max_stock,errorMessage:t(s).errors.max_stock},null,8,["modelValue","disable","error","errorMessage"]),d[22]||(d[22]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Harga",-1)),e(Oe,{modelValue:t(s).cost,"onUpdate:modelValue":d[13]||(d[13]=g=>t(s).cost=g),label:"Modal / Harga Beli (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.cost,errorMessage:t(s).errors.cost},null,8,["modelValue","disable","error","errorMessage"]),e(Oe,{modelValue:t(s).price,"onUpdate:modelValue":d[14]||(d[14]=g=>t(s).price=g),label:"Harga Jual (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.max_stock,errorMessage:t(s).errors.price},null,8,["modelValue","disable","error","errorMessage"]),e(Oe,{modelValue:b.value,"onUpdate:modelValue":d[15]||(d[15]=g=>b.value=g),label:"Margin (%)",lazyRules:"",disable:t(s).processing,maxDecimals:2},null,8,["modelValue","disable"]),d[23]||(d[23]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Lainnya",-1)),e(F,{modelValue:t(s).notes,"onUpdate:modelValue":d[16]||(d[16]=g=>t(s).notes=g),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(W,{class:"q-gutter-sm"},{default:a(()=>[e(N,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(N,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:d[17]||(d[17]=g=>t(R).get(k.route("admin.product.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},ei=Object.freeze(Object.defineProperty({__proto__:null,default:Zr},Symbol.toStringTag,{value:"Module"})),ti={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},ai={class:"q-pa-sm"},li={class:"full-width row flex-center text-grey-8 q-gutter-sm"},oi={key:0,class:"text-grey-8"},ni={key:1,class:"text-grey-8"},si={key:0},ri={key:1},ii={class:"flex justify-end"},ga="Produk",ui={__name:"Index",setup(c){const n=ie(),p=M(!1),o=[{value:"all",label:"Semua"},...je(window.CONSTANTS.PRODUCT_TYPES)],s=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],m=[{value:"all",label:"Semua"},{value:"ready",label:"Tersedia"},{value:"out",label:"Kosong"},{value:"low",label:"Stok Rendah"},{value:"over",label:"Stok Berlebih"}],r=fe(),i=M(!1),f=M([]),_=M(!0),b=Me({type:"all",category_id:"all",supplier_id:"all",status:"active",stock_status:"all",search:"",...Ve()}),k=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1});let d=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"cost",label:"Modal",field:"cost",align:"right"},{name:"price",label:"Harga",field:"price",align:"right"},{name:"action",align:"right"}];ye(()=>{q()});const y=O=>Be({message:`Hapus Produk ${O.name}?`,url:route("admin.product.delete",O.id),fetchItemsCallback:q,loading:_}),q=(O=null)=>{Te({pagination:k,filter:b,props:O,rows:f,url:route("admin.product.data"),loading:_})},g=()=>{q()},{filteredCategories:T,filterCategories:$}=Aa(n.props.categories,!0),{filteredSuppliers:S,filterSuppliers:x}=zt(n.props.suppliers,!0),w=K(()=>{let O=[...d];return p.value||O.splice(2,1),r.screen.gt.sm?O:O.filter(V=>V.name==="name"||V.name==="action")});return(O,V)=>{const A=D("i-head"),le=D("authenticated-layout");return h(),P(Y,null,[e(A,{title:ga}),e(le,null,Ee({title:a(()=>[v(u(ga))]),"right-button":a(()=>[O.$can("admin.product.add")?(h(),j(N,{key:0,class:"q-mr-sm",icon:p.value?"visibility":"visibility_off",label:"",dense:"",color:"grey",onClick:V[0]||(V[0]=L=>p.value=!p.value)},null,8,["icon"])):U("",!0),e(N,{icon:"add",dense:"",color:"primary",onClick:V[1]||(V[1]=L=>t(R).get(O.route("admin.product.add")))}),e(N,{class:"q-ml-sm",icon:i.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:V[2]||(V[2]=L=>i.value=!i.value)},null,8,["icon"])]),default:a(()=>[l("div",ai,[e(_e,{class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:k.value,"onUpdate:pagination":V[10]||(V[10]=L=>k.value=L),filter:b.search,loading:_.value,columns:w.value,rows:f.value,"rows-per-page-options":[10,25,50],onRequest:q,"binary-state-sort":""},{loading:a(()=>[e(Pe,{showing:"",color:"red"})]),"no-data":a(({icon:L,message:ue,filter:De})=>[l("div",li,[l("span",null,u(ue)+" "+u(De?" with term "+De:""),1)])]),body:a(L=>[e(we,{props:L,class:pe([{inactive:!L.row.active},"cursor-pointer"]),onClick:ue=>t(R).get(O.route("admin.product.detail",L.row.id))},{default:a(()=>[e(E,{key:"name",props:L,class:"wrap-column"},{default:a(()=>[v(u(L.row.name)+" ",1),L.row.category_id?(h(),P("div",oi,[e(C,{name:"category"}),v(" "+u(L.row.category.name),1)])):U("",!0),L.row.supplier_id?(h(),P("div",ni,[e(C,{name:"local_shipping"}),v(" "+u(L.row.supplier.name),1)])):U("",!0),t(r).screen.gt.sm?U("",!0):(h(),P(Y,{key:2},[L.row.type=="stocked"?(h(),P("div",si,[e(C,{name:"cycle"}),v(" Stok: "+u(t(B)(L.row.stock))+" "+u(L.row.uom),1)])):U("",!0),p.value?(h(),P("div",ri,[e(C,{name:"money"}),v(" Modal: Rp. "+u(t(B)(L.row.cost)),1)])):U("",!0),l("div",null,[e(C,{name:"sell"}),v(" Harga: Rp. "+u(t(B)(L.row.price)),1)])],64))]),_:2},1032,["props"]),e(E,{key:"stock",props:L,class:pe(["wrap-column",{"low-stock":L.row.type=="stocked"&&(Number(L.row.stock)==0||Number(L.row.stock)<Number(L.row.min_stock)),"over-stock":L.row.type=="stocked"&&Number(L.row.max_stock)&&Number(L.row.stock)>Number(L.row.max_stock)}])},{default:a(()=>[v(u(L.row.type=="stocked"?t(B)(L.row.stock)+" "+L.row.uom:"-"),1)]),_:2},1032,["props","class"]),(h(),j(E,{key:"cost",props:L,class:"wrap-column"},{default:a(()=>[v(u(t(B)(L.row.cost)),1)]),_:2},1032,["props"])),e(E,{key:"price",props:L,class:"wrap-column"},{default:a(()=>[v(u(t(B)(L.row.price)),1)]),_:2},1032,["props"]),e(E,{key:"action",props:L},{default:a(()=>[l("div",ii,[e(N,{disabled:!t(ze)(O.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:V[9]||(V[9]=J(()=>{},["stop"]))},{default:a(()=>[e(Re,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(xe,{style:{width:"200px"}},{default:a(()=>[H((h(),j(Q,{clickable:"",onClick:J(ue=>t(R).get(O.route("admin.product.duplicate",L.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:a(()=>V[11]||(V[11]=[v("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]]),H((h(),j(Q,{clickable:"",onClick:J(ue=>t(R).get(O.route("admin.product.edit",L.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:a(()=>V[12]||(V[12]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]]),O.$page.props.auth.user.role==O.$CONSTANTS.USER_ROLE_ADMIN?H((h(),j(Q,{key:0,onClick:J(ue=>y(L.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>V[13]||(V[13]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]]):U("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[i.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar"},{default:a(()=>[l("div",ti,[e(Z,{modelValue:b.type,"onUpdate:modelValue":[V[3]||(V[3]=L=>b.type=L),g],class:"custom-select col-xs-12 col-sm-2",options:o,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(Z,{modelValue:b.status,"onUpdate:modelValue":[V[4]||(V[4]=L=>b.status=L),g],class:"custom-select col-xs-12 col-sm-2",options:s,label:"Status",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(Z,{modelValue:b.stock_status,"onUpdate:modelValue":[V[5]||(V[5]=L=>b.stock_status=L),g],class:"custom-select col-xs-12 col-sm-2",options:m,label:"Status Stok",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(Z,{modelValue:b.category_id,"onUpdate:modelValue":[V[6]||(V[6]=L=>b.category_id=L),g],label:"Kategori",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:t(T),"map-options":"",dense:"","emit-value":"",onFilter:t($),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),e(Z,{modelValue:b.supplier_id,"onUpdate:modelValue":[V[7]||(V[7]=L=>b.supplier_id=L),g],label:"Pemasok",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:t(S),"map-options":"",dense:"","emit-value":"",onFilter:t(x),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),e(F,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:b.search,"onUpdate:modelValue":V[8]||(V[8]=L=>b.search=L),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},di=Object.freeze(Object.defineProperty({__proto__:null,default:ui},Symbol.toStringTag,{value:"Module"})),Da={__name:"UpdatePasswordForm",setup(c){const n=M(!1),p=M(null),o=M(null),s=ke({current_password:"",password:"",password_confirmation:""}),m=()=>{s.clearErrors(),s.post(route("admin.profile.update-password"),{preserveScroll:!0,onSuccess:()=>s.reset(),onError:()=>{s.errors.password&&(s.reset("password","password_confirmation"),p.value.focus()),s.errors.current_password&&(s.reset("current_password"),o.value.focus())}})};return(r,i)=>(h(),j(Se,{class:"row",onSubmit:J(m,["prevent"]),onValidationError:t(Ce)},{default:a(()=>[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(W,null,{default:a(()=>[i[6]||(i[6]=l("div",{class:"text-h6 q-my-xs text-subtitle1"},"Perbarui Kata Sandi",-1)),i[7]||(i[7]=l("p",{class:"text-caption text-grey-9"},"Pastikan akun anda menggunakan kata sandi acak yang panjang agar akun tetap aman.",-1)),e(F,{modelValue:t(s).current_password,"onUpdate:modelValue":i[1]||(i[1]=f=>t(s).current_password=f),label:"Kata Sandi Sekarang",type:n.value?"text":"password","lazy-rules":"",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.current_password,"error-message":t(s).errors.current_password,rules:[f=>f&&f.length>0||"Kata sandi harus diisi."]},{append:a(()=>[e(N,{dense:"",flat:"",round:"",onClick:i[0]||(i[0]=f=>n.value=!n.value)},{default:a(()=>[e(C,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(F,{modelValue:t(s).password,"onUpdate:modelValue":i[3]||(i[3]=f=>t(s).password=f),label:"Kata Sandi Baru",type:n.value?"text":"password","lazy-rules":"",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.password,"error-message":t(s).errors.password,rules:[f=>f&&f.length>0||"Kata sandi harus diisi."]},{append:a(()=>[e(N,{dense:"",flat:"",round:"",onClick:i[2]||(i[2]=f=>n.value=!n.value)},{default:a(()=>[e(C,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(F,{modelValue:t(s).password_confirmation,"onUpdate:modelValue":i[5]||(i[5]=f=>t(s).password_confirmation=f),label:"Konfirmasi Kata Sandi",type:n.value?"text":"password","lazy-rules":"",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.password_confirmation,"error-message":t(s).errors.password_confirmation,rules:[f=>f&&f.length>0||"Kata sandi harus diisi."]},{append:a(()=>[e(N,{dense:"",flat:"",round:"",onClick:i[4]||(i[4]=f=>n.value=!n.value)},{default:a(()=>[e(C,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"])]),_:1}),e(W,null,{default:a(()=>[e(N,{type:"submit",color:"primary",label:"Perbarui Kata Sandi",disable:t(s).processing,icon:"save"},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},mi=Object.freeze(Object.defineProperty({__proto__:null,default:Da},Symbol.toStringTag,{value:"Module"})),Ua={__name:"UpdateProfileInformationForm",setup(c){const p=ie().props.auth.user,o=ke({name:p.name,username:p.username,role:window.CONSTANTS.USER_ROLES[p.role]}),s=()=>he({form:o,url:route("admin.profile.update")});return(m,r)=>(h(),j(Se,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(Ce)},{default:a(()=>[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(W,null,{default:a(()=>[r[3]||(r[3]=l("div",{class:"text-h6 q-my-xs text-subtitle1"},"Profil Saya",-1)),r[4]||(r[4]=l("p",{class:"text-caption text-grey-9"},"Perbarui profil anda.",-1)),e(F,{readonly:"",modelValue:t(o).username,"onUpdate:modelValue":r[0]||(r[0]=i=>t(o).username=i),label:"ID Pengguna",disable:t(o).processing},null,8,["modelValue","disable"]),e(F,{modelValue:t(o).name,"onUpdate:modelValue":r[1]||(r[1]=i=>t(o).name=i),modelModifiers:{trim:!0},label:"Nama",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.name,"error-message":t(o).errors.name,rules:[i=>i&&i.length>0||"Name harus diisi."]},null,8,["modelValue","disable","error","error-message","rules"]),e(F,{readonly:"",modelValue:t(o).role,"onUpdate:modelValue":r[2]||(r[2]=i=>t(o).role=i),label:"Hak Akses",disable:t(o).processing},null,8,["modelValue","disable"])]),_:1}),e(W,null,{default:a(()=>[e(N,{type:"submit",color:"primary",label:"Perbarui Profil Saya",disable:t(o).processing,icon:"save"},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},ci=Object.freeze(Object.defineProperty({__proto__:null,default:Ua},Symbol.toStringTag,{value:"Module"})),pi={class:"q-pa-sm"},fi={class:"row justify-center"},gi={class:"col col-lg-6"},ba="Profil Saya",bi={__name:"Edit",setup(c){return(n,p)=>{const o=D("i-head"),s=D("authenticated-layout");return h(),P(Y,null,[e(o,{title:ba}),e(s,null,{title:a(()=>[v(u(ba))]),default:a(()=>[l("div",pi,[l("div",fi,[l("div",gi,[e(Ua,{class:"q-mb-md"}),e(Da)])])])]),_:1})],64)}}},vi=Object.freeze(Object.defineProperty({__proto__:null,default:bi},Symbol.toStringTag,{value:"Module"}));function _i(){const c=M(new Date);let n=null;const p=()=>{c.value=new Date};ye(()=>{n=setInterval(p,1e3)}),Bl(()=>{n&&clearInterval(n)});const o=K(()=>c.value.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})),s=K(()=>c.value.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}));return{currentDate:o,currentTime:s}}const yi={class:"text-grey-8"},Ea={__name:"DigitalClock",setup(c){const{currentDate:n,currentTime:p}=_i();return(o,s)=>(h(),P("div",yi,u(t(n))+" - "+u(t(p)),1))}},wi={class:"row q-col-gutter-md items-center q-px-md q-py-sm"},ki={class:"col-12 col-sm-6 col-md-4"},hi={class:"text-bold"},$i={key:0,class:"col-12 col-md-4 text-center"},Si={class:"text-h6 text-weight-bold text-grey-8"},xi={key:0,class:"text-subtitle2 text-weight-bold text-grey-8"},qi={key:1,class:"text-subtitle2 text-weight-bold text-grey-8"},Ci={class:"text-weight-bold"},ja={__name:"TransactionHeader",props:{user:{type:Object,required:!0},company:{type:Object,required:!0}},emits:["edit-supplier"],setup(c){return(n,p)=>(h(),P("div",wi,[l("div",ki,[l("div",hi,[p[1]||(p[1]=v(" Info Supplier ")),e(N,{icon:"edit",flat:"",rounded:"",dense:"",color:"grey",size:"sm",onClick:p[0]||(p[0]=o=>n.$emit("edit-supplier"))})]),p[2]||(p[2]=l("div",{class:"text-grey-8 text-italic"},"Supplier belum dipilih.",-1))]),n.$q.screen.gt.sm?(h(),P("div",$i,[l("div",Si,u(c.company.name),1),c.company.address?(h(),P("div",xi,u(c.company.address),1)):U("",!0),c.company.phone?(h(),P("div",qi,u(c.company.phone),1)):U("",!0)])):U("",!0),l("div",{class:pe(["col-12 col-sm-6 col-md-4",n.$q.screen.gt.sm?"text-right":""])},[l("div",Ci,u(c.user.username)+" - "+u(c.user.name),1),e(Ea)],2)]))}},Vi=Object.freeze(Object.defineProperty({__proto__:null,default:ja},Symbol.toStringTag,{value:"Module"})),Ti={class:"text-weight-medium"},Pi={class:"text-caption text-grey-6"},Mi={class:"text-weight-medium"},Ni={class:"text-weight-bold text-primary"},Ra={__name:"ItemsListTable",props:{items:{type:Array,required:!0},columns:{type:Array,required:!0}},emits:["update-quantity","remove-item"],setup(c){return(n,p)=>(h(),j(_e,{dense:"",rows:c.items,columns:c.columns,"row-key":"id",flat:"",square:"",bordered:"",class:"bg-grey-1 pos-table q-pa-none col","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48},{header:a(o=>[e(we,{props:o,class:"bg-grey-4"},{default:a(()=>[(h(!0),P(Y,null,rt(o.cols,s=>(h(),j(Pa,{key:s.name,props:o,class:"text-weight-bold text-grey-8"},{default:a(()=>[v(u(s.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(o=>[e(we,{props:o,class:"hover-highlight"},{default:a(()=>[e(E,{key:"name",props:o,class:"text-left"},{default:a(()=>[l("div",Ti,u(o.row.name),1),l("div",Pi," Barcode: "+u(o.row.barcode),1)]),_:2},1032,["props"]),e(E,{key:"price",props:o,class:"text-center"},{default:a(()=>[l("div",Mi,[e(Oe,{"model-value":o.row.price,dense:"",style:{width:"80px","text-align":"right"}},null,8,["model-value"])])]),_:2},1032,["props"]),e(E,{key:"quantity",props:o,class:"text-center"},{default:a(()=>[e(Oe,{"model-value":o.row.quantity,dense:"",style:{width:"80px","text-align":"right"},"onUpdate:modelValue":s=>n.$emit("update-quantity",{id:o.row.id,value:s}),onKeyup:p[0]||(p[0]=jt(s=>s.target.blur(),["enter"]))},null,8,["model-value","onUpdate:modelValue"])]),_:2},1032,["props"]),e(E,{key:"subtotal",props:o,class:"text-center"},{default:a(()=>[l("div",Ni," Rp. "+u(t(B)(o.row.price*o.row.quantity)),1)]),_:2},1032,["props"]),e(E,{key:"action",props:o,class:"text-center"},{default:a(()=>[e(N,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:s=>n.$emit("remove-item",o.row)},{default:a(()=>[e(yl,null,{default:a(()=>p[1]||(p[1]=[v("Hapus Item")])),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]))}},Ii=Object.freeze(Object.defineProperty({__proto__:null,default:Ra},Symbol.toStringTag,{value:"Module"})),Oi={class:"column"},Ai={class:"row justify-end items-center q-gutter-sm"},Di={class:"text-h4 text-weight-bold text-primary"},Ui={class:"text-caption text-grey-6 q-mt-xs text-right"},Ei={class:"q-py-sm"},ji={class:"q-py-sm"},Ba={__name:"TransactionSummary",props:{subtotal:{type:Number,required:!0},itemCount:{type:Number,required:!0},barcode:{type:String,required:!0},isProcessing:{type:Boolean,default:!1},formProcessing:{type:Boolean,default:!1}},emits:["update:barcode","add-item","process-payment"],setup(c,{expose:n}){const p=M(null);ye(()=>{o()});const o=()=>{xt(()=>{p.value&&p.value.focus()})};return n({focusOnBarcodeInput:o}),(s,m)=>(h(),P("div",Oi,[l("div",Ai,[m[3]||(m[3]=l("span",{class:"text-weight-bold text-grey-8"},"GRAND TOTAL: Rp.",-1)),l("span",Di,u(t(B)(c.subtotal)),1)]),l("div",Ui,u(c.itemCount)+" item(s) ",1),l("div",Ei,[e(F,{ref_key:"barcodeInputRef",ref:p,"model-value":c.barcode,"onUpdate:modelValue":m[0]||(m[0]=r=>s.$emit("update:barcode",r)),placeholder:"<Input Barcode>",outlined:"",square:"",class:"col bg-white",onKeyup:m[1]||(m[1]=jt(r=>s.$emit("add-item"),["enter"])),loading:c.isProcessing,clearable:"",autofocus:""},{prepend:a(()=>[e(C,{name:"qr_code_scanner"})]),_:1},8,["model-value","loading"])]),l("div",ji,[e(N,{class:"full-width",label:"Bayar",color:"primary",icon:"payment",onClick:m[2]||(m[2]=r=>s.$emit("process-payment")),disable:c.itemCount===0,loading:c.formProcessing},null,8,["disable","loading"])])]))}},Ri=Object.freeze(Object.defineProperty({__proto__:null,default:Ba},Symbol.toStringTag,{value:"Module"})),Bi={class:"q-ml-sm"},La={__name:"ConfirmDeleteDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,default:null}},emits:["update:modelValue","confirm"],setup(c){return(n,p)=>(h(),j(_t,{"model-value":c.modelValue,"onUpdate:modelValue":p[1]||(p[1]=o=>n.$emit("update:modelValue",o)),persistent:""},{default:a(()=>[e(ae,null,{default:a(()=>[e(W,{class:"row items-center"},{default:a(()=>{var o;return[e(tt,{icon:"delete",color:"negative","text-color":"white"}),l("span",Bi,'Hapus item "'+u((o=c.item)==null?void 0:o.name)+'"?',1)]}),_:1}),e(dt,{align:"right"},{default:a(()=>[H(e(N,{flat:"",label:"Batal",color:"primary"},null,512),[[oe]]),H(e(N,{flat:"",label:"Hapus",color:"negative",onClick:p[0]||(p[0]=o=>n.$emit("confirm"))},null,512),[[oe]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Li=Object.freeze(Object.defineProperty({__proto__:null,default:La},Symbol.toStringTag,{value:"Module"})),za={__name:"SupplierEditorDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","save"],setup(c,{emit:n}){const p=n,o=M(""),s=M(""),m=()=>{p("save",{name:o.value,address:s.value})};return(r,i)=>(h(),j(_t,{"model-value":c.modelValue,"onUpdate:modelValue":i[2]||(i[2]=f=>r.$emit("update:modelValue",f)),persistent:""},{default:a(()=>[e(ae,{style:{width:"400px"}},{default:a(()=>[e(W,{class:"q-py-none q-pt-lg"},{default:a(()=>i[3]||(i[3]=[l("div",{class:"text-bold text-grey-8"},"Edit Info Supplier",-1)])),_:1}),e(W,null,{default:a(()=>[e(F,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=f=>o.value=f),label:"Nama Supplier"},null,8,["modelValue"]),e(F,{modelValue:s.value,"onUpdate:modelValue":i[1]||(i[1]=f=>s.value=f),label:"Alamat",type:"textarea",autogrow:"",counter:"",maxlength:"200",class:"q-mt-md"},null,8,["modelValue"])]),_:1}),e(dt,{align:"right"},{default:a(()=>[H(e(N,{flat:"",label:"Batal",color:"primary"},null,512),[[oe]]),H(e(N,{flat:"",label:"Simpan",color:"primary",onClick:m},null,512),[[oe]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},zi=Object.freeze(Object.defineProperty({__proto__:null,default:za},Symbol.toStringTag,{value:"Module"})),Yi={class:"q-gutter-sm"},Hi={class:"row col **grow**"},Fi={class:"col-12 q-pa-sm column"},Ki={class:"row"},Qi={class:"col-xs-12 col-md-8 q-pa-sm"},Wi={class:"col-md-4 col-xs-12 q-pa-sm"},Ji={__name:"Editor",setup(c){const n=fe(),p=ie(),o=M(null),s=ke({id:null,formatted_id:"Diisi Otomatis",customer_name:"Pelanggan Umum",datetime:Ke().format("YYYY-MM-DD HH:mm:ss"),status:"pending",payment_status:"unpaid",items:[],subtotal:0,tax:0,total:0,notes:""}),m=M(""),r=M(!1),i=M(!1),f=M(null),_=M(!1),b=[{name:"name",required:!0,label:"Item Information",align:"left",field:"name",sortable:!1,style:"width: 300px"},{name:"price",label:"Harga",align:"center",field:"price",sortable:!1,style:"width: 120px"},{name:"quantity",label:"Quantity",align:"center",field:"quantity",sortable:!1,style:"width: 100px"},{name:"subtotal",label:"SubTotal",align:"center",sortable:!1,style:"width: 140px"},{name:"action",label:"Action",align:"center",sortable:!1,style:"width: 80px"}],k=K(()=>{const $=s.items.reduce((S,x)=>S+x.price*x.quantity,0);return s.subtotal=$,s.total=$+s.tax,$}),d=async()=>{if(!m.value.trim()){n.notify({message:"Silakan masukkan barcode",color:"warning",position:"bottom"});return}let $=1,S=m.value.trim(),x=null;const w=S.split("*");if(w.length===3){const V=parseInt(w[0]),A=parseFloat(w[2]);!isNaN(V)&&V>0?$=V:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"bottom"}),!isNaN(A)&&A>=0?x=A:n.notify({message:"Harga tidak valid. Menggunakan harga produk default.",color:"warning",position:"bottom"}),S=w[1]}else if(w.length===2){const V=parseInt(w[0]);!isNaN(V)&&V>0?$=V:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"bottom"}),S=w[1]}const O=s.items.findIndex(V=>V.barcode===S);if(O!==-1)s.items[O].quantity+=$,n.notify({message:`Quantity ${s.items[O].name} bertambah ${$}`,color:"positive",position:"bottom"});else{r.value=!0;try{await new Promise(le=>setTimeout(le,300));const A={...{id:Date.now(),name:`Item ${S}`,barcode:S,price:x!==null?x:Math.floor(Math.random()*5e4)+1e4},quantity:$};s.items.push(A),n.notify({message:`${A.name} berhasil ditambahkan`,color:"positive",position:"bottom",icon:"add_shopping_cart"})}catch(V){console.error("Error fetching item:",V),n.notify({message:"Item tidak ditemukan atau gagal menambahkan item",color:"negative",position:"bottom"})}finally{r.value=!1}}m.value="",await xt(),o.value.focusOnBarcodeInput()},y=$=>{f.value=$,i.value=!0},q=()=>{if(f.value){const $=s.items.findIndex(S=>S.id===f.value.id);if($!==-1){const S=s.items.splice($,1)[0];n.notify({message:`${S.name} dihapus dari keranjang`,color:"info",position:"bottom",icon:"remove_shopping_cart"})}f.value=null}},g=($,S)=>{const x=s.items.find(w=>w.id===$);x&&S>0&&(x.quantity=parseInt(S)||1)},T=()=>{if(s.items.length===0){n.notify({message:"Tidak ada item dalam keranjang",color:"warning",position:"bottom"});return}s.datetime=Ke().format("YYYY-MM-DD HH:mm:ss"),s.status="completed",s.payment_status="paid",he({form:s,url:route("admin.transaction.save")})};return($,S)=>{const x=D("i-head"),w=D("authenticated-layout");return h(),P(Y,null,[e(x,{title:"Order Pembelian"}),e(w,null,{title:a(()=>S[8]||(S[8]=[v("Order Pembelian")])),"left-button":a(()=>[l("div",Yi,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:S[0]||(S[0]=O=>t(R).get($.route("admin.purchase-order.index")))})])]),default:a(()=>[e(ve,{class:"bg-grey-2 q-pa-sm column fit"},{default:a(()=>[e(ae,{square:"",flat:"",bordered:"",class:"full-width col column"},{default:a(()=>[e(ja,{user:t(p).props.auth.user,company:t(p).props.company,onEditSupplier:S[1]||(S[1]=O=>_.value=!0)},null,8,["user","company"]),l("div",Hi,[l("div",Fi,[e(Ra,{items:t(s).items,columns:b,onUpdateQuantity:S[2]||(S[2]=({id:O,value:V})=>g(O,V)),onRemoveItem:y},null,8,["items"])])]),l("div",Ki,[l("div",Qi,[e(F,{modelValue:t(s).notes,"onUpdate:modelValue":S[3]||(S[3]=O=>t(s).notes=O),type:"textarea",placeholder:"Tambahkan catatan transaksi...",square:"",outlined:"",class:"bg-white",rows:3,counter:"",maxlength:"200",error:!!t(s).errors.notes,"error-message":t(s).errors.notes,style:{"margin-bottom":"16px"}},{prepend:a(()=>[e(C,{name:"note"})]),_:1},8,["modelValue","error","error-message"])]),l("div",Wi,[e(Ba,{ref_key:"transactionSummaryRef",ref:o,barcode:m.value,"onUpdate:barcode":S[4]||(S[4]=O=>m.value=O),subtotal:k.value,"item-count":t(s).items.length,"is-processing":r.value,"form-processing":t(s).processing,onAddItem:S[5]||(S[5]=O=>d(m.value)),onProcessPayment:T},null,8,["barcode","subtotal","item-count","is-processing","form-processing"])])])]),_:1}),e(La,{modelValue:i.value,"onUpdate:modelValue":S[6]||(S[6]=O=>i.value=O),item:f.value,onConfirm:q},null,8,["modelValue","item"]),e(za,{modelValue:_.value,"onUpdate:modelValue":S[7]||(S[7]=O=>_.value=O)},null,8,["modelValue"])]),_:1})]),_:1})],64)}}},Gi=lt(Ji,[["__scopeId","data-v-6998f6b3"]]),Xi=Object.freeze(Object.defineProperty({__proto__:null,default:Gi},Symbol.toStringTag,{value:"Module"})),Zi={class:"col col-lg-6 q-pa-sm"},eu={__name:"Editor_v1",setup(c){const n=ie(),p=(n.props.data.id?"Edit":"Tambah")+" Order Pembelian",{filteredSuppliers:o,filterSupplierFn:s}=zt(n.props.suppliers,!1),m=je(window.CONSTANTS.PURCHASE_ORDER_STATUSES),r=je(window.CONSTANTS.PURCHASE_ORDER_PAYMENT_STATUSES),i=je(window.CONSTANTS.PURCHASE_ORDER_DELIVERY_STATUSES),f=ke({id:n.props.data.id,formatted_id:n.props.data.formatted_id??"Diisi Otomatis",supplier_id:n.props.data.supplier_id,datetime:Ke(n.props.data.datetime).format("YYYY-MM-DD HH:mm:ss"),status:n.props.data.status,payment_status:n.props.data.payment_status,delivery_status:n.props.data.delivery_status,total:parseFloat(n.props.data.total),total_paid:parseFloat(n.props.data.total_paid),notes:n.props.data.notes}),_=()=>he({form:f,url:route("admin.purchase-order.save")});return(b,k)=>{const d=D("i-head"),y=D("authenticated-layout");return h(),P(Y,null,[e(d,{title:p}),e(y,null,{title:a(()=>[v(u(p))]),default:a(()=>[e(ve,{class:"row justify-center"},{default:a(()=>[l("div",Zi,[e(Se,{class:"row",onSubmit:J(_,["prevent"]),onValidationError:t(Ce)},{default:a(()=>[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(W,{class:"q-pt-none"},{default:a(()=>[H(l("input",{type:"hidden",name:"id","onUpdate:modelValue":k[0]||(k[0]=q=>t(f).id=q)},null,512),[[Ye,t(f).id]]),e(F,{modelValue:t(f).formatted_id,"onUpdate:modelValue":k[1]||(k[1]=q=>t(f).formatted_id=q),modelModifiers:{trim:!0},label:"ID Order",readonly:""},null,8,["modelValue"]),e(ft,{modelValue:t(f).datetime,"onUpdate:modelValue":k[2]||(k[2]=q=>t(f).datetime=q),label:"Waktu",error:!!t(f).errors.datetime,disable:t(f).processing},null,8,["modelValue","error","disable"]),e(Z,{modelValue:t(f).status,"onUpdate:modelValue":k[3]||(k[3]=q=>t(f).status=q),label:"Status Order",options:t(m),"map-options":"","emit-value":"",error:!!t(f).errors.status,disable:t(f).processing,errorMessage:t(f).errors.status},null,8,["modelValue","options","error","disable","errorMessage"]),e(Z,{modelValue:t(f).payment_status,"onUpdate:modelValue":k[4]||(k[4]=q=>t(f).payment_status=q),label:"Status Pembayaran",options:t(r),"map-options":"","emit-value":"",error:!!t(f).errors.payment_status,disable:t(f).processing,errorMessage:t(f).errors.payment_status},null,8,["modelValue","options","error","disable","errorMessage"]),e(Z,{modelValue:t(f).delivery_status,"onUpdate:modelValue":k[5]||(k[5]=q=>t(f).delivery_status=q),label:"Status Pengiriman",options:t(i),"map-options":"","emit-value":"",error:!!t(f).errors.delivery_status,disable:t(f).processing,errorMessage:t(f).errors.delivery_status},null,8,["modelValue","options","error","disable","errorMessage"]),e(Z,{modelValue:t(f).supplier_id,"onUpdate:modelValue":k[6]||(k[6]=q=>t(f).supplier_id=q),label:"Pemasok","use-input":"","input-debounce":"300",clearable:"",options:t(o),"map-options":"","emit-value":"",errorMessage:t(f).errors.supplier_id,onFilter:t(s),error:!!t(f).errors.supplier_id,disable:t(f).processing},{"no-option":a(()=>[e(Q,null,{default:a(()=>[e(I,null,{default:a(()=>k[9]||(k[9]=[v("Pemasok tidak ditemukan.")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(N,{dense:"",icon:"add",type:"button",color:"primary",disable:t(f).processing,label:"Pemasok Baru"},null,8,["disable"]),e(F,{modelValue:t(f).notes,"onUpdate:modelValue":k[7]||(k[7]=q=>t(f).notes=q),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(f).processing,error:!!t(f).errors.notes,"error-message":t(f).errors.notes,rules:[q=>q&&q.length>0||"Catatan harus diisi."]},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(W,{class:"q-gutter-sm"},{default:a(()=>[e(N,{icon:"create",type:"submit",label:"Buat Order",color:"primary",disable:t(f).processing},null,8,["disable"]),e(N,{icon:"cancel",label:"Batal",disable:t(f).processing,onClick:k[8]||(k[8]=q=>t(R).get(b.route("admin.purchase-order.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},tu=Object.freeze(Object.defineProperty({__proto__:null,default:eu},Symbol.toStringTag,{value:"Module"})),au={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},lu={class:"q-pa-sm"},ou={class:"full-width row flex-center text-grey-8 q-gutter-sm"},nu={key:0},su={key:0},ru={key:1},iu={class:"flex justify-end"},va="Order Pembelian",uu={__name:"Index",setup(c){ie();const n=fe(),p=M(!1),o=M([]),s=M(!0),m=Ut(),r=Et(),i=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...gt(m-2,m-1).reverse()],f=[{value:"all",label:"Semua Bulan"},...bt()],_=Me({search:"",category_id:"all",year:m,month:r,...Ve()}),b=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),k=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];ye(()=>{y()});const d=T=>Be({message:`Hapus transaksi #-${T.id}?`,url:route("admin.purchase-order.delete",T.id),fetchItemsCallback:y,loading:s}),y=(T=null)=>{Te({pagination:b,filter:_,props:T,rows:o,url:route("admin.purchase-order.data"),loading:s})},q=()=>{y()},g=K(()=>n.screen.gt.sm?k:k.filter(T=>T.name==="datetime"||T.name==="action"));return qe(()=>_.year,T=>{T===null&&(_.month=null)}),(T,$)=>{const S=D("i-head"),x=D("authenticated-layout");return h(),P(Y,null,[e(S,{title:va}),e(x,null,Ee({title:a(()=>[v(u(va))]),"right-button":a(()=>[e(N,{icon:"add",dense:"",color:"primary",onClick:$[0]||($[0]=w=>t(R).get(T.route("admin.purchase-order.add")))}),e(N,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:$[1]||($[1]=w=>p.value=!p.value)},null,8,["icon"])]),default:a(()=>[l("div",lu,[e(_e,{class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":$[6]||($[6]=w=>b.value=w),filter:_.search,loading:s.value,columns:g.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:y,"binary-state-sort":""},{loading:a(()=>[e(Pe,{showing:"",color:"red"})]),"no-data":a(({icon:w,message:O,filter:V})=>[l("div",ou,[l("span",null,u(O)+" "+u(V?" with term "+V:""),1)])]),body:a(w=>[e(we,{props:w},{default:a(()=>[e(E,{key:"datetime",props:w,class:"wrap-column"},{default:a(()=>[l("div",null,[v(" #"+u(w.row.id)+" - ",1),e(C,{name:"calendar_today"}),v(" "+u(w.row.datetime),1)]),e(wt,null,{default:a(()=>[e(C,{name:"category"}),v(" "+u(w.row.type_label),1)]),_:2},1024),w.row.ref_type?(h(),P("div",nu,[e(C,{name:"link"}),v(" "+u(w.row.ref_type_label)+" #"+u(w.row.ref_id),1)])):U("",!0),t(n).screen.gt.sm?U("",!0):(h(),P(Y,{key:1},[w.row.notes?(h(),P("div",su,[e(C,{name:"notes"}),v(" "+u(w.row.notes),1)])):U("",!0),w.row.category?(h(),P("div",ru,[e(C,{name:"category"}),v(" "+u(w.row.category.name),1)])):U("",!0),l("div",null,[e(C,{name:"money"}),v(" Rp. "+u(t(He)(w.row.amount)+t(B)(w.row.amount)),1)])],64))]),_:2},1032,["props"]),e(E,{key:"account",props:w},{default:a(()=>{var O;return[v(u((O=w.row.account)==null?void 0:O.name),1)]}),_:2},1032,["props"]),e(E,{key:"notes",props:w},{default:a(()=>[v(u(w.row.notes),1)]),_:2},1032,["props"]),e(E,{key:"amount",props:w,style:{"text-align":"right"}},{default:a(()=>[v(u(t(He)(w.row.amount)+t(B)(w.row.amount)),1)]),_:2},1032,["props"]),e(E,{key:"action",props:w},{default:a(()=>[l("div",iu,[e(N,{disabled:!t(ze)(T.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:$[5]||($[5]=J(()=>{},["stop"]))},{default:a(()=>[e(Re,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(xe,{style:{width:"200px"}},{default:a(()=>[H((h(),j(Q,{onClick:J(O=>d(w.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>$[7]||($[7]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar"},{default:a(()=>[l("div",au,[e(Z,{modelValue:_.year,"onUpdate:modelValue":[$[2]||($[2]=w=>_.year=w),q],options:i,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(Z,{modelValue:_.month,"onUpdate:modelValue":[$[3]||($[3]=w=>_.month=w),q],options:f,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:_.year===null},null,8,["modelValue","disable"]),e(F,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:_.search,"onUpdate:modelValue":$[4]||($[4]=w=>_.search=w),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},du=Object.freeze(Object.defineProperty({__proto__:null,default:uu},Symbol.toStringTag,{value:"Module"})),mu={class:"row q-col-gutter-md items-center q-px-md q-py-sm"},cu={class:"col-12 col-sm-6 col-md-4"},pu={key:0,class:"col-12 col-md-4 text-center"},fu={class:"text-h6 text-weight-bold text-grey-8"},gu={key:0,class:"text-subtitle2 text-weight-bold text-grey-8"},bu={key:1,class:"text-subtitle2 text-weight-bold text-grey-8"},vu={class:"text-weight-bold"},Ya={__name:"TransactionHeader",props:{user:{type:Object,required:!0},company:{type:Object,required:!0},modelValue:{type:[Object,null],default:null},formProcessing:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(c,{emit:n}){const p=ie(),{filterCustomersFn:o,customers:s}=Rt(p.props.customers,!1),m=M(null);return(r,i)=>(h(),P("div",mu,[l("div",cu,[e(Z,{class:"custom-select",modelValue:m.value,"onUpdate:modelValue":i[0]||(i[0]=f=>m.value=f),label:"Santri","use-input":"","input-debounce":"300",clearable:"","map-options":"","emit-value":"",options:t(s),onFilter:t(o),disable:c.formProcessing},{"no-option":a(()=>[e(Q,null,{default:a(()=>[e(I,null,{default:a(()=>i[1]||(i[1]=[v("Santri tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","disable"])]),r.$q.screen.gt.sm?(h(),P("div",pu,[l("div",fu,u(c.company.name),1),c.company.address?(h(),P("div",gu,u(c.company.address),1)):U("",!0),c.company.phone?(h(),P("div",bu,u(c.company.phone),1)):U("",!0)])):U("",!0),l("div",{class:pe(["col-12 col-sm-6 col-md-4",r.$q.screen.gt.sm?"text-right":"text-center"])},[l("div",vu,u(c.user.username)+" - "+u(c.user.name),1),e(Ea)],2)]))}},_u=Object.freeze(Object.defineProperty({__proto__:null,default:Ya},Symbol.toStringTag,{value:"Module"})),yu={class:"text-weight-medium"},wu={class:"text-caption text-grey-6"},ku={class:"column items-end"},hu={class:"text-weight-bold text-primary"},$u={class:"text-caption text-grey-6 text-italic"},Ha={__name:"ItemsListTable",props:{items:{type:Array,required:!0},columns:{type:Array,required:!0}},emits:["update-quantity","remove-item"],setup(c){return(n,p)=>(h(),j(_e,{dense:"",rows:c.items,columns:c.columns,"row-key":"id",flat:"",square:"",bordered:"",class:"bg-grey-1 pos-table q-pa-none col","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48},{header:a(o=>[e(we,{props:o,class:"bg-grey-4"},{default:a(()=>[(h(!0),P(Y,null,rt(o.cols,s=>(h(),j(Pa,{key:s.name,props:o,class:"text-weight-bold text-grey-8"},{default:a(()=>[v(u(s.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(o=>[e(we,{props:o,class:"hover-highlight"},{default:a(()=>[e(E,{key:"name",props:o,class:"text-left"},{default:a(()=>[l("div",yu,u(o.row.name),1),l("div",wu," Barcode: "+u(o.row.barcode),1)]),_:2},1032,["props"]),e(E,{key:"subtotal",props:o,class:"text-right"},{default:a(()=>[l("div",ku,[l("div",hu," Rp. "+u(t(B)(o.row.price*o.row.quantity)),1),l("div",$u,u(o.row.quantity)+" x Rp. "+u(t(B)(o.row.price)),1)])]),_:2},1032,["props"]),e(E,{key:"action",props:o,class:"text-right"},{default:a(()=>[e(N,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:s=>n.$emit("remove-item",o.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]))}},Su=Object.freeze(Object.defineProperty({__proto__:null,default:Ha},Symbol.toStringTag,{value:"Module"})),xu={class:"column"},qu={class:"row justify-end items-center q-gutter-sm"},Cu={class:"text-h4 text-weight-bold text-primary"},Vu={class:"text-caption text-grey-6 q-mt-xs text-right"},Tu={class:"q-py-sm"},Pu={class:"q-py-sm"},Fa={__name:"TransactionSummary",props:{subtotal:{type:Number,required:!0},itemCount:{type:Number,required:!0},barcode:{type:String,required:!0},isProcessing:{type:Boolean,default:!1},formProcessing:{type:Boolean,default:!1}},emits:["update:barcode","add-item","process-payment"],setup(c,{expose:n}){const p=M(null);ye(()=>{o()});const o=()=>{xt(()=>{p.value&&p.value.focus()})};return n({focusOnBarcodeInput:o}),(s,m)=>(h(),P("div",xu,[l("div",qu,[m[3]||(m[3]=l("span",{class:"text-weight-bold text-grey-8"},"GRAND TOTAL: Rp.",-1)),l("span",Cu,u(t(B)(c.subtotal)),1)]),l("div",Vu,u(c.itemCount)+" item(s) ",1),l("div",Tu,[e(F,{ref_key:"barcodeInputRef",ref:p,"model-value":c.barcode,"onUpdate:modelValue":m[0]||(m[0]=r=>s.$emit("update:barcode",r)),placeholder:"<Input Barcode>",outlined:"",square:"",class:"col bg-white",onKeyup:m[1]||(m[1]=jt(r=>s.$emit("add-item"),["enter"])),loading:c.isProcessing,clearable:"",autofocus:""},{prepend:a(()=>[e(C,{name:"qr_code_scanner"})]),_:1},8,["model-value","loading"])]),l("div",Pu,[e(N,{class:"full-width",label:"Bayar",color:"primary",icon:"payment",onClick:m[2]||(m[2]=r=>s.$emit("process-payment")),disable:c.itemCount===0,loading:c.formProcessing},null,8,["disable","loading"])])]))}},Mu=Object.freeze(Object.defineProperty({__proto__:null,default:Fa},Symbol.toStringTag,{value:"Module"})),Nu={class:"q-ml-sm"},Ka={__name:"ConfirmDeleteDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,default:null}},emits:["update:modelValue","confirm"],setup(c){return(n,p)=>(h(),j(_t,{"model-value":c.modelValue,"onUpdate:modelValue":p[1]||(p[1]=o=>n.$emit("update:modelValue",o)),persistent:""},{default:a(()=>[e(ae,null,{default:a(()=>[e(W,{class:"row items-center"},{default:a(()=>{var o;return[e(tt,{icon:"delete",color:"negative","text-color":"white"}),l("span",Nu,'Hapus item "'+u((o=c.item)==null?void 0:o.name)+'"?',1)]}),_:1}),e(dt,{align:"right"},{default:a(()=>[H(e(N,{flat:"",label:"Batal",color:"primary"},null,512),[[oe]]),H(e(N,{flat:"",label:"Hapus",color:"negative",onClick:p[0]||(p[0]=o=>n.$emit("confirm"))},null,512),[[oe]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Iu=Object.freeze(Object.defineProperty({__proto__:null,default:Ka},Symbol.toStringTag,{value:"Module"})),Qa={__name:"CustomerEditorDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","save"],setup(c,{emit:n}){const p=n,o=M(""),s=M(""),m=()=>{p("save",{name:o.value,address:s.value})};return(r,i)=>(h(),j(_t,{"model-value":c.modelValue,"onUpdate:modelValue":i[2]||(i[2]=f=>r.$emit("update:modelValue",f)),persistent:""},{default:a(()=>[e(ae,{style:{width:"400px"}},{default:a(()=>[e(W,{class:"q-py-none q-pt-lg"},{default:a(()=>i[3]||(i[3]=[l("div",{class:"text-bold text-grey-8"},"Edit Info Pelanggan",-1)])),_:1}),e(W,null,{default:a(()=>[e(F,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=f=>o.value=f),label:"Nama Pelanggan"},null,8,["modelValue"]),e(F,{modelValue:s.value,"onUpdate:modelValue":i[1]||(i[1]=f=>s.value=f),label:"Alamat",type:"textarea",autogrow:"",counter:"",maxlength:"200",class:"q-mt-md"},null,8,["modelValue"])]),_:1}),e(dt,{align:"right"},{default:a(()=>[H(e(N,{flat:"",label:"Batal",color:"primary"},null,512),[[oe]]),H(e(N,{flat:"",label:"Simpan",color:"primary",onClick:m},null,512),[[oe]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Ou=Object.freeze(Object.defineProperty({__proto__:null,default:Qa},Symbol.toStringTag,{value:"Module"})),Au={class:"q-gutter-sm"},Du={class:"row col grow"},Uu={class:"col-12 q-pa-sm column"},Eu={class:"row"},ju={class:"col-xs-12 col-md-8 q-pa-sm"},Ru={class:"col-md-4 col-xs-12 q-pa-sm"},Bu={key:0,class:"text-center q-mb-md text-grey-8"},Lu={class:"text-subtitle1 text-weight-medium"},zu={key:0,class:"text-body1"},Yu={class:"text-h4 text-center text-primary q-pb-md"},Hu={class:"row q-col-gutter-sm justify-center"},Fu={class:"col-12"},Ku={class:"col-12"},_a="Penjualan",Qu={__name:"Editor",setup(c){const n=fe(),p=ie(),o=M(null),s=ke({id:null,formatted_id:"Diisi Otomatis",customer_name:"Pelanggan Umum",datetime:Ke().format("YYYY-MM-DD HH:mm:ss"),status:"pending",payment_status:"unpaid",items:[],subtotal:0,tax:0,total:0,notes:""}),m=M(""),r=M(!1),i=M(!1),f=M(null),_=M(!1),b=M(!1),k=M(null),d=M(null),y=K(()=>n.screen.gt.sm?[{name:"name",required:!0,label:"Item Information",align:"left",field:"name",sortable:!1,style:"width: 300px"},{name:"price",label:"Harga",align:"center",field:"price",sortable:!1,style:"width: 120px"},{name:"quantity",label:"Quantity",align:"center",field:"quantity",sortable:!1,style:"width: 100px"},{name:"subtotal",label:"SubTotal",align:"center",sortable:!1,style:"width: 140px"},{name:"action",label:"Action",align:"center",sortable:!1,style:"width: 80px"}]:[{name:"name",required:!0,label:"Item",align:"left",field:"name",sortable:!1},{name:"subtotal",label:"Total",align:"right",sortable:!1},{name:"action",label:"Aksi",align:"center",sortable:!1}]),q=K(()=>{const V=s.items.reduce((A,le)=>A+le.price*le.quantity,0);return s.subtotal=V,s.total=V+s.tax,V}),g=async()=>{var De;if(!m.value.trim()){n.notify({message:"Silakan masukkan barcode",color:"warning",position:"top"});return}let V=1,A=m.value.trim(),le=null;const L=A.split("*");if(L.length===3){const $e=parseInt(L[0]),Le=parseFloat(L[2]);!isNaN($e)&&$e>0?V=$e:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"top"}),!isNaN(Le)&&Le>=0?le=Le:n.notify({message:"Harga tidak valid. Menggunakan harga produk default.",color:"warning",position:"top"}),A=L[1]}else if(L.length===2){const $e=parseInt(L[0]);!isNaN($e)&&$e>0?V=$e:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"top"}),A=L[1]}const ue=s.items.findIndex($e=>$e.barcode===A);if(ue!==-1)s.items[ue].quantity+=V,n.notify({message:`Quantity ${s.items[ue].name} bertambah ${V}`,color:"positive",position:"top"});else{r.value=!0;try{await new Promise(te=>setTimeout(te,300));const Le={...{id:Date.now(),name:`Item ${A}`,barcode:A,price:le!==null?le:Math.floor(Math.random()*5e4)+1e4},quantity:V};s.items.push(Le),n.notify({message:`${Le.name} berhasil ditambahkan`,color:"positive",position:"top",icon:"add_shopping_cart"})}catch($e){console.error("Error fetching item:",$e),n.notify({message:"Item tidak ditemukan atau gagal menambahkan item",color:"negative",position:"top"})}finally{r.value=!1}}m.value="",await xt(),(De=o.value)==null||De.focusOnBarcodeInput()},T=V=>{f.value=V,i.value=!0},$=()=>{if(f.value){const V=s.items.findIndex(A=>A.id===f.value.id);if(V!==-1){const A=s.items.splice(V,1)[0];n.notify({message:`${A.name} dihapus dari keranjang`,color:"info",position:"top",icon:"remove_shopping_cart"})}f.value=null}},S=(V,A)=>{const le=s.items.find(L=>L.id===V);le&&A>0&&(le.quantity=parseInt(A)||1)},x=async()=>{if(s.items.length===0){n.notify({message:"Tidak ada item dalam keranjang",color:"warning",position:"top"});return}await w(),b.value=!0},w=async()=>{try{k.value=s.customer_name==="Pelanggan Umum"?"Pelanggan Umum":"Nama Santri Demo",d.value=Math.floor(Math.random()*5e5)+1e4}catch(V){console.error("Gagal mengambil data santri:",V),k.value="Data tidak ditemukan",d.value=0}},O=V=>{s.items.length!==0&&(s.datetime=Ke().format("YYYY-MM-DD HH:mm:ss"),s.status="completed",s.payment_status=V==="wallet"?"paid_wallet":"paid_cash",he({form:s,url:route("admin.transaction.save")}))};return(V,A)=>{const le=D("i-head"),L=D("authenticated-layout");return h(),P(Y,null,[e(le,{title:_a}),e(L,null,{title:a(()=>[v(u(_a))]),"left-button":a(()=>[l("div",Au,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:A[0]||(A[0]=ue=>t(R).get(V.route("admin.purchase-order.index")))})])]),default:a(()=>[e(ve,{class:"bg-grey-2 q-pa-sm column fit"},{default:a(()=>[e(ae,{square:"",flat:"",bordered:"",class:"full-width col column"},{default:a(()=>[e(Ya,{user:t(p).props.auth.user,company:t(p).props.company,onEditCustomer:A[1]||(A[1]=ue=>_.value=!0)},null,8,["user","company"]),l("div",Du,[l("div",Uu,[e(Ha,{items:t(s).items,columns:y.value,onUpdateQuantity:A[2]||(A[2]=({id:ue,value:De})=>S(ue,De)),onRemoveItem:T},null,8,["items","columns"])])]),l("div",Eu,[l("div",ju,[e(F,{modelValue:t(s).notes,"onUpdate:modelValue":A[3]||(A[3]=ue=>t(s).notes=ue),type:"textarea",placeholder:"Tambahkan catatan transaksi...",square:"",outlined:"",class:"bg-white",rows:3,counter:"",maxlength:"200",error:!!t(s).errors.notes,"error-message":t(s).errors.notes,style:{"margin-bottom":"16px"}},{prepend:a(()=>[e(C,{name:"note"})]),_:1},8,["modelValue","error","error-message"])]),l("div",Ru,[e(Fa,{ref_key:"transactionSummaryRef",ref:o,barcode:m.value,"onUpdate:barcode":A[4]||(A[4]=ue=>m.value=ue),subtotal:q.value,"item-count":t(s).items.length,"is-processing":r.value,"form-processing":t(s).processing,onAddItem:A[5]||(A[5]=ue=>g(m.value)),onProcessPayment:x},null,8,["barcode","subtotal","item-count","is-processing","form-processing"])])])]),_:1}),e(Ka,{modelValue:i.value,"onUpdate:modelValue":A[6]||(A[6]=ue=>i.value=ue),item:f.value,onConfirm:$},null,8,["modelValue","item"]),e(Qa,{modelValue:_.value,"onUpdate:modelValue":A[7]||(A[7]=ue=>_.value=ue)},null,8,["modelValue"]),e(_t,{modelValue:b.value,"onUpdate:modelValue":A[11]||(A[11]=ue=>b.value=ue),persistent:""},{default:a(()=>[e(ae,{style:{"min-width":"350px"}},{default:a(()=>[e(W,null,{default:a(()=>A[12]||(A[12]=[l("div",{class:"text-h6 text-center"},"Pilih Metode Pembayaran",-1)])),_:1}),e(W,{class:"q-pt-none"},{default:a(()=>[k.value?(h(),P("div",Bu,[l("div",Lu,u(k.value),1),d.value!==null?(h(),P("div",zu," Saldo: Rp. "+u(d.value.toLocaleString("id-ID")),1)):U("",!0)])):U("",!0),l("div",Yu," Rp. "+u(t(s).total.toLocaleString("id-ID")),1),l("div",Hu,[l("div",Fu,[e(N,{label:"Tunai",icon:"attach_money",color:"primary",class:"full-width",onClick:A[8]||(A[8]=ue=>O("cash")),loading:t(s).processing,disable:t(s).processing},null,8,["loading","disable"])]),l("div",Ku,[e(N,{label:"Dompet Santri",icon:"wallet",color:"green-6",class:"full-width",onClick:A[9]||(A[9]=ue=>O("wallet")),loading:t(s).processing,disable:t(s).processing},null,8,["loading","disable"])])])]),_:1}),e(dt,{align:"right",class:"q-py-md"},{default:a(()=>[e(N,{flat:"",label:"Batal",color:"grey",onClick:A[10]||(A[10]=ue=>b.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)}}},Wu=lt(Qu,[["__scopeId","data-v-0a06bdf1"]]),Ju=Object.freeze(Object.defineProperty({__proto__:null,default:Wu},Symbol.toStringTag,{value:"Module"})),Gu={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Xu={class:"q-pa-sm"},Zu={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ed={key:0},td={key:0},ad={key:1},ld={class:"flex justify-end"},ya="Penjualan",od={__name:"Index",setup(c){ie();const n=fe(),p=M(!1),o=M([]),s=M(!0),m=Ut(),r=Et(),i=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...gt(m-2,m-1).reverse()],f=[{value:"all",label:"Semua Bulan"},...bt()],_=Me({search:"",category_id:"all",year:m,month:r,...Ve()}),b=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),k=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];ye(()=>{y()});const d=T=>Be({message:`Hapus transaksi #-${T.id}?`,url:route("admin.sales-order.delete",T.id),fetchItemsCallback:y,loading:s}),y=(T=null)=>{Te({pagination:b,filter:_,props:T,rows:o,url:route("admin.sales-order.data"),loading:s})},q=()=>{y()},g=K(()=>n.screen.gt.sm?k:k.filter(T=>T.name==="datetime"||T.name==="action"));return qe(()=>_.year,T=>{T===null&&(_.month=null)}),(T,$)=>{const S=D("i-head"),x=D("authenticated-layout");return h(),P(Y,null,[e(S,{title:ya}),e(x,null,Ee({title:a(()=>[v(u(ya))]),"right-button":a(()=>[e(N,{icon:"add",dense:"",color:"primary",onClick:$[0]||($[0]=w=>t(R).get(T.route("admin.sales-order.add")))}),e(N,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:$[1]||($[1]=w=>p.value=!p.value)},null,8,["icon"])]),default:a(()=>[l("div",Xu,[e(_e,{class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":$[6]||($[6]=w=>b.value=w),filter:_.search,loading:s.value,columns:g.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:y,"binary-state-sort":""},{loading:a(()=>[e(Pe,{showing:"",color:"red"})]),"no-data":a(({icon:w,message:O,filter:V})=>[l("div",Zu,[l("span",null,u(O)+" "+u(V?" with term "+V:""),1)])]),body:a(w=>[e(we,{props:w},{default:a(()=>[e(E,{key:"datetime",props:w,class:"wrap-column"},{default:a(()=>[l("div",null,[v(" #"+u(w.row.id)+" - ",1),e(C,{name:"calendar_today"}),v(" "+u(w.row.datetime),1)]),e(wt,null,{default:a(()=>[e(C,{name:"category"}),v(" "+u(w.row.type_label),1)]),_:2},1024),w.row.ref_type?(h(),P("div",ed,[e(C,{name:"link"}),v(" "+u(w.row.ref_type_label)+" #"+u(w.row.ref_id),1)])):U("",!0),t(n).screen.gt.sm?U("",!0):(h(),P(Y,{key:1},[w.row.notes?(h(),P("div",td,[e(C,{name:"notes"}),v(" "+u(w.row.notes),1)])):U("",!0),w.row.category?(h(),P("div",ad,[e(C,{name:"category"}),v(" "+u(w.row.category.name),1)])):U("",!0),l("div",null,[e(C,{name:"money"}),v(" Rp. "+u(t(He)(w.row.amount)+t(B)(w.row.amount)),1)])],64))]),_:2},1032,["props"]),e(E,{key:"account",props:w},{default:a(()=>{var O;return[v(u((O=w.row.account)==null?void 0:O.name),1)]}),_:2},1032,["props"]),e(E,{key:"notes",props:w},{default:a(()=>[v(u(w.row.notes),1)]),_:2},1032,["props"]),e(E,{key:"amount",props:w,style:{"text-align":"right"}},{default:a(()=>[v(u(t(He)(w.row.amount)+t(B)(w.row.amount)),1)]),_:2},1032,["props"]),e(E,{key:"action",props:w},{default:a(()=>[l("div",ld,[e(N,{disabled:!t(ze)(T.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:$[5]||($[5]=J(()=>{},["stop"]))},{default:a(()=>[e(Re,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(xe,{style:{width:"200px"}},{default:a(()=>[H((h(),j(Q,{onClick:J(O=>d(w.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>$[7]||($[7]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar"},{default:a(()=>[l("div",Gu,[e(Z,{modelValue:_.year,"onUpdate:modelValue":[$[2]||($[2]=w=>_.year=w),q],options:i,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(Z,{modelValue:_.month,"onUpdate:modelValue":[$[3]||($[3]=w=>_.month=w),q],options:f,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:_.year===null},null,8,["modelValue","disable"]),e(F,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:_.search,"onUpdate:modelValue":$[4]||($[4]=w=>_.search=w),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},nd=Object.freeze(Object.defineProperty({__proto__:null,default:od},Symbol.toStringTag,{value:"Module"})),sd={class:"q-gutter-sm"},rd={class:"col col-lg-6 q-pa-sm"},id={key:0},ud={class:"text-bold"},dd={key:0},md={class:"text-caption text-grey-8"},cd={key:1},wa="Buat Penyesuaian Stok",pd={__name:"Create",setup(c){const p=ie().props.products,o=M([]),s=ke({type:"stock_opname",datetime:Ke().format("YYYY-MM-DD HH:mm:ss"),notes:null,product_ids:[]}),m=[{name:"name",label:"Nama Produk",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"center",sortable:!1,format:(b,k)=>B(b)+" "+k.uom}],r=je(window.CONSTANTS.STOCKADJUSTMENT_TYPES),i=()=>{s.product_ids=o.value.map(b=>b.id),he({form:s,url:route("admin.stock-adjustment.create")})},f=fe(),_=K(()=>f.screen.gt.sm?m:m.filter(b=>b.name==="name"));return(b,k)=>{const d=D("i-head"),y=D("authenticated-layout");return h(),P(Y,null,[e(d,{title:wa}),e(y,null,{title:a(()=>[v(u(wa))]),"left-button":a(()=>[l("div",sd,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:k[0]||(k[0]=q=>t(R).get(b.route("admin.stock-adjustment.index")))})])]),default:a(()=>[e(ve,{class:"row justify-center"},{default:a(()=>[l("div",rd,[e(Se,{class:"row",onSubmit:J(i,["prevent"]),onValidationError:t(Ce)},{default:a(()=>[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(W,{class:"q-pt-sm"},{default:a(()=>[k[6]||(k[6]=l("div",{class:"text-subtitle2"},[l("b",null,"Info Penyesuaian Stok")],-1)),e(ft,{modelValue:t(s).datetime,"onUpdate:modelValue":k[1]||(k[1]=q=>t(s).datetime=q),label:"Waktu",error:!!t(s).errors.datetime,disable:t(s).processing,"error-message":t(s).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(Z,{modelValue:t(s).type,"onUpdate:modelValue":k[2]||(k[2]=q=>t(s).type=q),options:t(r),label:"Jenis Penyesuaian",class:"custom-select",error:!!t(s).errors.type,disable:t(s).processing,"map-options":"","emit-value":"","error-message":t(s).errors.type},null,8,["modelValue","options","error","disable","error-message"]),e(F,{modelValue:t(s).notes,"onUpdate:modelValue":k[3]||(k[3]=q=>t(s).notes=q),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,rules:[]},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(W,null,{default:a(()=>[k[7]||(k[7]=l("div",{class:"text-subtitle2"},[l("b",null,"Pilih Produk")],-1)),e(_e,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:_.value,rows:t(p),"binary-state-sort":"","hide-pagination":!0,dense:"","rows-per-page-options":[0],selection:"multiple",selected:o.value,"onUpdate:selected":k[4]||(k[4]=q=>o.value=q)},{"body-cell-name":a(q=>[e(E,{props:q},{default:a(()=>[t(f).screen.lt.md?(h(),P("div",id,[l("div",ud,u(q.row.name),1),q.row.category?(h(),P("div",dd,u(q.row.category.name),1)):U("",!0),l("div",md,u(t(B)(q.row.stock))+" "+u(q.row.uom),1)])):(h(),P("div",cd,u(q.row.name),1))]),_:2},1032,["props"])]),_:1},8,["columns","rows","selected"])]),_:1}),e(W,{class:"q-gutter-sm"},{default:a(()=>[e(N,{icon:"play_arrow",type:"submit",label:"Lanjutkan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(N,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:k[5]||(k[5]=q=>t(R).get(b.route("admin.stock-adjustment.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},fd=Object.freeze(Object.defineProperty({__proto__:null,default:pd},Symbol.toStringTag,{value:"Module"})),gd={class:"q-gutter-sm"},bd={class:"row justify-center"},vd={class:"col col-lg-8 q-pa-sm"},_d={class:"row"},yd={class:"detail"},wd={key:0},kd={key:1},hd={class:"text-grey-9"},$d={__name:"Detail",setup(c){const n=ie(),p=`Rincian Penyesuaian Stok #${n.props.data.id}`,o=n.props.details,s=[{name:"no",label:"#",field:"no",align:"left"},{name:"product_name",label:"Nama Produk",field:"product_name",align:"left"},{name:"uom",label:"Satuan",field:"uom",align:"left"},{name:"old_quantity",label:"Stok Lama",field:"old_quantity",align:"right",format:i=>B(i)},{name:"new_quantity",label:"Stok Baru",field:"new_quantity",align:"right",format:i=>B(i)},{name:"balance",label:"Selisih Stok",field:"balance",align:"right",format:i=>B(i)},{name:"cost_balance",label:"Selisih Modal",field:"cost_balance",align:"right"},{name:"price_balance",label:"Selisih Harga",field:"price_balance",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}],m=fe(),r=K(()=>m.screen.gt.sm?s:s.filter(i=>i.name==="no"));return(i,f)=>{const _=D("i-head"),b=D("i-link"),k=D("authenticated-layout");return h(),P(Y,null,[e(_,{title:p}),e(k,null,{title:a(()=>[v(u(p))]),"left-button":a(()=>[l("div",gd,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:f[0]||(f[0]=d=>i.$inertia.get(i.route("admin.stock-adjustment.index")))})])]),default:a(()=>[l("div",bd,[l("div",vd,[l("div",_d,[e(ae,{square:"",flat:"",bordered:"",class:"q-card col"},{default:a(()=>[e(W,null,{default:a(()=>[f[21]||(f[21]=l("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Penyesuaian Stok ",-1)),l("table",yd,[l("tbody",null,[l("tr",null,[f[1]||(f[1]=l("td",{style:{width:"120px"}},"ID",-1)),f[2]||(f[2]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,"# "+u(t(n).props.data.id),1)]),l("tr",null,[f[3]||(f[3]=l("td",null,"Jenis",-1)),f[4]||(f[4]=l("td",null,":",-1)),l("td",null,u(i.$CONSTANTS.STOCKADJUSTMENT_TYPES[t(n).props.data.type]),1)]),l("tr",null,[f[5]||(f[5]=l("td",null,"Status",-1)),f[6]||(f[6]=l("td",null,":",-1)),l("td",null,u(i.$CONSTANTS.STOCKADJUSTMENT_STATUSES[t(n).props.data.status]),1)]),l("tr",null,[f[7]||(f[7]=l("td",null,"Waktu",-1)),f[8]||(f[8]=l("td",null,":",-1)),l("td",null,u(i.$dayjs(t(n).props.data.datetime).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)]),t(n).props.data.created_at?(h(),P("tr",wd,[f[10]||(f[10]=l("td",null,"Dibuat Oleh",-1)),f[11]||(f[11]=l("td",null,":",-1)),l("td",null,[t(n).props.data.created_by?(h(),P(Y,{key:0},[e(b,{href:i.route("admin.user.detail",{id:t(n).props.data.created_by})},{default:a(()=>[v(u(t(n).props.data.created_by.username)+" - "+u(t(n).props.data.created_by.name),1)]),_:1},8,["href"]),f[9]||(f[9]=v(" - "))],64)):U("",!0),v(" "+u(i.$dayjs(new Date(t(n).props.data.created_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):U("",!0),t(n).props.data.updated_at?(h(),P("tr",kd,[f[13]||(f[13]=l("td",null,"Diperbarui oleh",-1)),f[14]||(f[14]=l("td",null,":",-1)),l("td",null,[t(n).props.data.updated_by?(h(),P(Y,{key:0},[e(b,{href:i.route("admin.user.detail",{id:t(n).props.data.updated_by})},{default:a(()=>[v(u(t(n).props.data.updated_by.username)+" - "+u(t(n).props.data.updated_by.name),1)]),_:1},8,["href"]),f[12]||(f[12]=v(" - "))],64)):U("",!0),v(" "+u(i.$dayjs(new Date(t(n).props.data.updated_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):U("",!0),l("tr",null,[f[15]||(f[15]=l("td",null,"Total Modal",-1)),f[16]||(f[16]=l("td",null,":",-1)),l("td",null,[l("div",{class:pe(t(n).props.data.total_cost<0?"text-red-10":t(n).props.data.total_cost>0?"text-green-10":"")}," Rp. "+u(t(B)(t(n).props.data.total_cost)),3)])]),l("tr",null,[f[17]||(f[17]=l("td",null,"Total Harga",-1)),f[18]||(f[18]=l("td",null,":",-1)),l("td",null,[l("div",{class:pe(t(n).props.data.total_price<0?"text-red-10":t(n).props.data.total_price>0?"text-green-10":"")}," Rp. "+u(t(B)(t(n).props.data.total_price)),3)])]),l("tr",null,[f[19]||(f[19]=l("td",null,"Catatan",-1)),f[20]||(f[20]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.notes),1)])])])]),_:1}),e(W,null,{default:a(()=>[f[26]||(f[26]=l("div",{class:"text-subtitle1 text-bold text-grey-9 q-pt-md"}," Rincian ",-1)),e(_e,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",dense:"",columns:r.value,rows:t(o),"hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-no":a(d=>[e(E,{props:d},{default:a(()=>[t(m).screen.lt.md?(h(),P(Y,{key:1},[l("div",hd,[l("b",null,"#"+u(d.rowIndex+1),1),v(" - "+u(d.row.product_name),1)]),l("div",null,[v(" Stok Lama: "+u(t(B)(d.row.old_quantity))+" "+u(d.row.uom),1),f[23]||(f[23]=l("br",null,null,-1)),v(" Stok Baru: "+u(t(B)(d.row.new_quantity))+" "+u(d.row.uom),1),f[24]||(f[24]=l("br",null,null,-1)),l("div",{class:pe(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},[v(" Selisih: "+u((d.row.balance>0?"+":"")+t(B)(d.row.balance))+" "+u(d.row.uom),1),f[22]||(f[22]=l("br",null,null,-1)),v(" (Rp. "+u(t(B)(d.row.subtotal_cost))+" / Rp. "+u(t(B)(d.row.subtotal_price))+") ",1)],2),f[25]||(f[25]=l("br",null,null,-1)),v(" "+u(d.row.notes),1)])],64)):(h(),P(Y,{key:0},[v(u(d.rowIndex+1),1)],64))]),_:2},1032,["props"])]),"body-cell-balance":a(d=>[e(E,{props:d},{default:a(()=>[l("div",{class:pe(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},u((d.row.balance>0?"+":"")+t(B)(d.row.balance)),3)]),_:2},1032,["props"])]),"body-cell-cost_balance":a(d=>[e(E,{props:d},{default:a(()=>[l("div",{class:pe(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},u(t(B)(d.row.subtotal_cost)),3)]),_:2},1032,["props"])]),"body-cell-price_balance":a(d=>[e(E,{props:d},{default:a(()=>[l("div",{class:pe(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},u(t(B)(d.row.subtotal_price)),3)]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1})]),_:1})])])])]),_:1})],64)}}},Sd=Object.freeze(Object.defineProperty({__proto__:null,default:$d},Symbol.toStringTag,{value:"Module"})),xd={class:"q-gutter-sm"},qd={class:"col col-lg-6 q-pa-sm"},Cd={class:"text-bold"},Vd={key:0},Td={class:"text-caption text-grey-8"},ka="Penyesuaian Stok",Pd={__name:"Editor",setup(c){const n=ie(),p=ke({id:n.props.item.id,type:n.props.item.type,datetime:Ke(n.props.item.datetime).format("YYYY-MM-DD HH:mm:ss"),notes:n.props.item.notes,action:"save",details:[]}),o=je(window.CONSTANTS.STOCKADJUSTMENT_TYPES),s=n.props.details,m=_=>{const b=()=>{p.action=_,p.details=s.map(k=>({id:k.id,new_quantity:k.new_quantity})),he({form:p,url:route("admin.stock-adjustment.save")})};_==="close"||_==="cancel"?wl.create({title:"Konfirmasi",message:"Aksi ini tidak dapat dibatalkan, apakah Anda yakin?",cancel:!0,persistent:!0}).onOk(()=>{b()}).onCancel(()=>{}):b()},r=[{name:"product_name",label:"Nama Produk",field:"product_name",align:"left",sortable:!0},{name:"uom",label:"Satuan",field:"uom",align:"center"},{name:"old_quantity",label:"Tercatat",field:"old_quantity",align:"right",format:_=>B(_)},{name:"new_quantity",label:"Aktual",field:"new_quantity",align:"right",format:_=>B(_)},{name:"balance",label:"Selisih",field:"balance",align:"right",format:(_,b)=>B(b.new_quantity-b.old_quantity)}],i=fe(),f=K(()=>i.screen.gt.sm?r:r.filter(_=>_.name==="product_name"||_.name==="new_quantity"));return(_,b)=>{const k=D("i-head"),d=D("authenticated-layout");return h(),P(Y,null,[e(k,{title:ka}),e(d,null,{title:a(()=>[v(u(ka))]),"left-button":a(()=>[l("div",xd,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=y=>_.$inertia.get(_.route("admin.stock-adjustment.index")))})])]),default:a(()=>[e(ve,{class:"row justify-center"},{default:a(()=>[l("div",qd,[e(Se,{class:"row",onSubmit:J(m,["prevent"]),onValidationError:t(Ce)},{default:a(()=>[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(W,null,{default:a(()=>b[8]||(b[8]=[l("div",{class:"text-subtitle1"},"Info Penyesuaian",-1)])),_:1}),e(W,{class:"q-pt-none"},{default:a(()=>[H(l("input",{type:"hidden",name:"id","onUpdate:modelValue":b[1]||(b[1]=y=>t(p).id=y)},null,512),[[Ye,t(p).id]]),e(ft,{modelValue:t(p).datetime,"onUpdate:modelValue":b[2]||(b[2]=y=>t(p).datetime=y),label:"Waktu",error:!!t(p).errors.datetime,disable:t(p).processing,"error-message":t(p).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(Z,{modelValue:t(p).type,"onUpdate:modelValue":b[3]||(b[3]=y=>t(p).type=y),options:t(o),label:"Jenis Penyesuaian",class:"custom-select",error:!!t(p).errors.type,disable:t(p).processing,"map-options":"","emit-value":"","error-message":t(p).errors.type},null,8,["modelValue","options","error","disable","error-message"]),e(F,{modelValue:t(p).notes,"onUpdate:modelValue":b[4]||(b[4]=y=>t(p).notes=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(p).processing,error:!!t(p).errors.notes,"error-message":t(p).errors.notes,rules:[]},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(W,null,{default:a(()=>[e(_e,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:f.value,rows:t(s),"binary-state-sort":"","hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-product_name":a(y=>[e(E,{props:y},{default:a(()=>[l("div",Cd,u(y.row.product_name),1),t(i).screen.lt.md?(h(),P("div",Vd,[l("div",Td,[v(" Tercatat: "+u(t(B)(y.row.old_quantity))+" ",1),b[9]||(b[9]=l("br",null,null,-1)),v(" Selisih: "+u(t(B)(y.row.new_quantity-y.row.old_quantity)),1)])])):U("",!0)]),_:2},1032,["props"])]),"body-cell-new_quantity":a(y=>[e(E,{props:y},{default:a(()=>[e(F,{modelValue:y.row[y.col.name],"onUpdate:modelValue":q=>y.row[y.col.name]=q,modelModifiers:{number:!0},"input-class":"text-right",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1}),e(W,{class:"q-gutter-sm"},{default:a(()=>[e(N,{icon:"save",onClick:b[5]||(b[5]=y=>m("save")),label:"Simpan",color:"primary",disable:t(p).processing},null,8,["disable"]),e(N,{icon:"done_all",onClick:b[6]||(b[6]=y=>m("close")),label:"Selesaikan",color:"green",disable:t(p).processing},null,8,["disable"]),e(N,{icon:"close",onClick:b[7]||(b[7]=y=>m("cancel")),label:"Batalkan",color:"red",disable:t(p).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Md=Object.freeze(Object.defineProperty({__proto__:null,default:Pd},Symbol.toStringTag,{value:"Module"})),Nd={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Id={class:"q-pa-sm"},Od={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ad={key:0,class:"flex q-gutter-xs"},Dd={class:"flex q-col-gutter-xs"},Ud={key:0},Ed={key:1},jd={class:"flex justify-end"},ha="Penyesuaian Stok",Rd={__name:"Index",setup(c){const n=M([]),p=M(!0),o=M(!1),s=Me({search:"",status:"all",type:"all",...Ve()}),m=[{value:"all",label:"Semua"},...je(window.CONSTANTS.STOCKADJUSTMENT_STATUSES)],r=[{value:"all",label:"Semua"},...je(window.CONSTANTS.STOCKADJUSTMENT_TYPES)],i=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),f=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"status",label:"Status",field:"status",align:"center",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!1},{name:"total_cost",label:"Total Modal",field:"total_cost",align:"right",sortable:!1},{name:"total_price",label:"Total Harga",field:"total_price",align:"right",sortable:!1},{name:"notes",label:"Notes",field:"notes",align:"left",sortable:!1},{name:"action",align:"right"}];ye(()=>{b()});const _=g=>Be({message:`Hapus Transaksi #${g.id}?`,url:route("admin.stock-adjustment.delete",g.id),fetchItemsCallback:b,loading:p}),b=(g=null)=>Te({pagination:i,filter:s,props:g,rows:n,url:route("admin.stock-adjustment.data"),loading:p}),k=()=>{b()},d=g=>{g.status=="draft"?R.get(route("admin.stock-adjustment.editor",g.id)):R.get(route("admin.stock-adjustment.detail",g.id))},y=fe(),q=K(()=>y.screen.gt.sm?f:f.filter(g=>g.name==="id"||g.name==="action"));return(g,T)=>{const $=D("i-head"),S=D("authenticated-layout");return h(),P(Y,null,[e($,{title:ha}),e(S,null,Ee({"right-button":a(()=>[e(N,{icon:"add",dense:"",color:"primary",onClick:T[0]||(T[0]=x=>t(R).get(g.route("admin.stock-adjustment.create")))}),e(N,{class:"q-ml-sm",icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:T[1]||(T[1]=x=>o.value=!o.value)},null,8,["icon"])]),title:a(()=>[v(u(ha))]),default:a(()=>[l("div",Id,[e(_e,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table stock-adjustment-list","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":T[6]||(T[6]=x=>i.value=x),filter:s.search,loading:p.value,columns:q.value,rows:n.value,"rows-per-page-options":[10,25,50],onRequest:b,"binary-state-sort":""},{loading:a(()=>[e(Pe,{showing:"",color:"red"})]),"no-data":a(({icon:x,message:w,filter:O})=>[l("div",Od,[l("span",null,u(w)+" "+u(O?" with term "+O:""),1)])]),body:a(x=>[e(we,{props:x,onClick:w=>d(x.row),class:"cursor-pointer"},{default:a(()=>[e(E,{key:"id",props:x},{default:a(()=>[t(y).screen.lt.md?(h(),P(Y,{key:1},[l("div",Dd,[l("div",null,[l("b",null,"#"+u(x.row.id),1)]),l("div",null,[e(C,{name:"history"}),v(" "+u(g.$dayjs(new Date(x.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),e(kl,{dense:"",size:"sm",color:x.row.status==="draft"?"orange":x.row.status==="closed"?"green":x.row.status==="canceled"?"red":"",icon:x.row.status==="draft"?"emergency":x.row.status==="closed"?"check":x.row.status==="canceled"?"close":""},{default:a(()=>[v(u(g.$CONSTANTS.STOCKADJUSTMENT_STATUSES[x.row.status]),1)]),_:2},1032,["color","icon"])]),l("div",null,[e(C,{name:"category"}),v(" "+u(g.$CONSTANTS.STOCKADJUSTMENT_TYPES[x.row.type]),1)]),x.row.created_by?(h(),P("div",Ud,[e(C,{name:"person"}),T[7]||(T[7]=v(" Dibuat: ")),l("b",null,u(x.row.created_by.username),1),e(C,{name:"history"}),v(" "+u(g.$dayjs(new Date(x.row.created_at)).format("DD/MM/YYYY HH:mm")),1)])):U("",!0),x.row.updated_by?(h(),P("div",Ed,[e(C,{name:"person"}),T[8]||(T[8]=v(" Diperbarui: ")),l("b",null,u(x.row.updated_by.username),1),e(C,{name:"history"}),v(" "+u(g.$dayjs(new Date(x.row.updated_at)).format("DD/MM/YYYY HH:mm")),1)])):U("",!0),l("div",{class:pe(x.row.total_cost<0?"text-red-10":x.row.total_cost>0?"text-green-10":"")},[e(C,{name:"money"}),v(" Rp. "+u(t(B)(x.row.total_cost))+" / Rp. "+u(t(B)(x.row.total_price)),1)],2)],64)):(h(),P("div",Ad,[l("div",null,[l("b",null,"#"+u(x.row.id),1)])]))]),_:2},1032,["props"]),e(E,{key:"datetime",props:x},{default:a(()=>[v(u(g.$dayjs(new Date(x.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),_:2},1032,["props"]),e(E,{key:"status",props:x,class:"text-center"},{default:a(()=>[v(u(g.$CONSTANTS.STOCKADJUSTMENT_STATUSES[x.row.status]),1)]),_:2},1032,["props"]),e(E,{key:"type",props:x},{default:a(()=>[v(u(g.$CONSTANTS.STOCKADJUSTMENT_TYPES[x.row.type]),1)]),_:2},1032,["props"]),e(E,{key:"total_cost",props:x},{default:a(()=>[l("div",{class:pe(x.row.total_cost<0?"text-red-10":x.row.total_cost>0?"text-green-10":"")},u(t(B)(x.row.total_cost)),3)]),_:2},1032,["props"]),e(E,{key:"total_price",props:x},{default:a(()=>[l("div",{class:pe(x.row.total_price<0?"text-red-10":x.row.total_price>0?"text-green-10":"")},u(t(B)(x.row.total_price)),3)]),_:2},1032,["props"]),e(E,{key:"notes",props:x},{default:a(()=>[v(u(x.row.notes),1)]),_:2},1032,["props"]),e(E,{key:"action",props:x},{default:a(()=>[l("div",jd,[e(N,{icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:T[5]||(T[5]=J(()=>{},["stop"]))},{default:a(()=>[e(Re,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(xe,{style:{width:"200px"}},{default:a(()=>[H((h(),j(Q,{onClick:J(w=>_(x.row),["stop"]),clickable:"",disabled:!t(ze)(g.$CONSTANTS.USER_ROLE_ADMIN)},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>T[9]||(T[9]=[v("Hapus")])),_:1})]),_:2},1032,["onClick","disabled"])),[[X],[oe]])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[o.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar"},{default:a(()=>[l("div",Nd,[e(Z,{modelValue:s.status,"onUpdate:modelValue":[T[2]||(T[2]=x=>s.status=x),k],options:m,label:"Status",dense:"","map-options":"",class:"custom-select col-xs-12 col-sm-2","emit-value":"",outlined:""},null,8,["modelValue"]),e(Z,{modelValue:s.type,"onUpdate:modelValue":[T[3]||(T[3]=x=>s.type=x),k],options:r,label:"Jenis",dense:"",class:"custom-select col-xs-12 col-sm-2","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(F,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:s.search,"onUpdate:modelValue":T[4]||(T[4]=x=>s.search=x),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},Bd=Object.freeze(Object.defineProperty({__proto__:null,default:Rd},Symbol.toStringTag,{value:"Module"})),Ld={class:"q-gutter-sm"},zd={class:"q-gutter-sm"},Yd={class:"col col-lg-6 q-pa-sm"},Hd={class:"row"},Fd={class:"detail"},$a="Rincian Pemasok",Kd={__name:"Detail",setup(c){const n=ie();return(p,o)=>{const s=D("i-head"),m=D("authenticated-layout");return h(),P(Y,null,[e(s,{title:$a}),e(m,null,{title:a(()=>[v(u($a))]),"left-button":a(()=>[l("div",Ld,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=r=>t(R).get(p.route("admin.supplier.index")))})])]),"right-button":a(()=>[l("div",zd,[e(N,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=r=>t(R).get(p.route("admin.supplier.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(ve,{class:"row justify-center"},{default:a(()=>[l("div",Yd,[l("div",Hd,[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(W,null,{default:a(()=>[o[14]||(o[14]=l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Info Pemasok ",-1)),l("table",Fd,[l("tbody",null,[l("tr",null,[o[2]||(o[2]=l("td",{style:{width:"70px"}},"Nama",-1)),o[3]||(o[3]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[o[4]||(o[4]=l("td",null,"Telepon",-1)),o[5]||(o[5]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.phone),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"Alamat",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.address),1)]),l("tr",null,[o[8]||(o[8]=l("td",null,"No. Rek",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.bank_account_number),1)]),l("tr",null,[o[10]||(o[10]=l("td",null,"Alamat Return",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.return_address),1)]),l("tr",null,[o[12]||(o[12]=l("td",null,"Status",-1)),o[13]||(o[13]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Qd=Object.freeze(Object.defineProperty({__proto__:null,default:Kd},Symbol.toStringTag,{value:"Module"})),Wd={class:"q-gutter-sm"},Jd={class:"col col-lg-6 q-pa-sm"},Gd={style:{"margin-left":"-10px"}},Xd={__name:"Editor",setup(c){const n=ie(),p=(n.props.data.id?"Edit":"Tambah")+" Pemasok",o=ke({id:n.props.data.id,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,bank_account_number:n.props.data.bank_account_number,return_address:n.props.data.return_address,active:!!n.props.data.active}),s=()=>he({form:o,url:route("admin.supplier.save")});return(m,r)=>{const i=D("i-head"),f=D("authenticated-layout");return h(),P(Y,null,[e(i,{title:p}),e(f,null,{title:a(()=>[v(u(p))]),"left-button":a(()=>[l("div",Wd,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=_=>t(R).get(m.route("admin.supplier.index")))})])]),default:a(()=>[e(ve,{class:"row justify-center"},{default:a(()=>[l("div",Jd,[e(Se,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(Ce)},{default:a(()=>[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(W,null,{default:a(()=>r[9]||(r[9]=[l("div",{class:"text-subtitle1"},"Info Supplier",-1)])),_:1}),e(W,{class:"q-pt-none"},{default:a(()=>[H(l("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=_=>t(o).id=_)},null,512),[[Ye,t(o).id]]),e(F,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=_=>t(o).name=_),modelModifiers:{trim:!0},label:"Nama","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(F,{modelValue:t(o).phone,"onUpdate:modelValue":r[3]||(r[3]=_=>t(o).phone=_),modelModifiers:{trim:!0},type:"text",label:"No HP","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.phone,"error-message":t(o).errors.phone},null,8,["modelValue","disable","error","error-message"]),e(F,{modelValue:t(o).address,"onUpdate:modelValue":r[4]||(r[4]=_=>t(o).address=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.address,"error-message":t(o).errors.address},null,8,["modelValue","disable","error","error-message"]),e(F,{modelValue:t(o).bank_account_number,"onUpdate:modelValue":r[5]||(r[5]=_=>t(o).bank_account_number=_),modelModifiers:{trim:!0},type:"text",label:"No Rek","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.bank_account_number,"error-message":t(o).errors.bank_account_number},null,8,["modelValue","disable","error","error-message"]),e(F,{modelValue:t(o).return_address,"onUpdate:modelValue":r[6]||(r[6]=_=>t(o).return_address=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat Return","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.return_address,"error-message":t(o).errors.return_address},null,8,["modelValue","disable","error","error-message"]),l("div",Gd,[e(at,{class:"full-width q-pl-none",modelValue:t(o).active,"onUpdate:modelValue":r[7]||(r[7]=_=>t(o).active=_),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"])])]),_:1}),e(W,{class:"q-gutter-sm"},{default:a(()=>[e(N,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(N,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[8]||(r[8]=_=>t(R).get(m.route("admin.supplier.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Zd=Object.freeze(Object.defineProperty({__proto__:null,default:Xd},Symbol.toStringTag,{value:"Module"})),em={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},tm={class:"q-pa-sm"},am={class:"full-width row flex-center text-grey-8 q-gutter-sm"},lm={class:"flex justify-end"},Sa="Pemasok",om={__name:"Index",setup(c){const n=fe(),p=M(!1),o=M([]),s=M(!0),m=Me({search:"",status:"active",...Ve()}),r=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),i=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"phone",label:"No HP",field:"phone",align:"left",sortable:!0},{name:"address",label:"Alamat",field:"address",align:"left",sortable:!0},{name:"bank_account_number",label:"No Rek",field:"bank_account_number",align:"left",sortable:!0},{name:"action",align:"right"}],f=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];ye(()=>{b()});const _=q=>Be({message:`Hapus pemasok ${q.name}?`,url:route("admin.supplier.delete",q.id),fetchItemsCallback:b,loading:s}),b=(q=null)=>{Te({pagination:r,filter:m,props:q,rows:o,url:route("admin.supplier.data"),loading:s})},k=()=>b(),d=q=>R.get(route("admin.supplier.detail",{id:q.id})),y=K(()=>n.screen.gt.sm?i:i.filter(q=>q.name==="name"||q.name==="action"));return(q,g)=>{const T=D("i-head"),$=D("authenticated-layout");return h(),P(Y,null,[e(T,{title:Sa}),e($,null,Ee({title:a(()=>[v(u(Sa))]),"right-button":a(()=>[e(N,{icon:"add",dense:"",color:"primary",onClick:g[0]||(g[0]=S=>t(R).get(q.route("admin.supplier.add")))}),e(N,{class:"q-ml-sm",icon:p.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:g[1]||(g[1]=S=>p.value=!p.value)},null,8,["icon"])]),default:a(()=>[l("div",tm,[e(_e,{class:"full-height-table",ref:"tableRef",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":g[5]||(g[5]=S=>r.value=S),filter:m.search,loading:s.value,columns:y.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:b,"binary-state-sort":""},{loading:a(()=>[e(Pe,{showing:"",color:"red"})]),"no-data":a(({icon:S,message:x,filter:w})=>[l("div",am,[l("span",null,u(x)+" "+u(w?" with term "+w:""),1)])]),body:a(S=>[e(we,{props:S,class:pe([S.row.active?"":"bg-red-1","cursor-pointer"]),onClick:x=>d(S.row)},{default:a(()=>[e(E,{key:"name",props:S,class:"wrap-column"},{default:a(()=>[l("div",null,[t(n).screen.lt.md?(h(),j(C,{key:0,name:"person"})):U("",!0),v(" "+u(S.row.name),1)]),t(n).screen.lt.md?(h(),P(Y,{key:0},[l("div",null,[e(C,{name:"phone"}),v(" "+u(S.row.phone),1)]),l("div",null,[e(C,{name:"credit_card"}),v(" "+u(S.row.bank_account_number),1)]),l("div",null,[e(C,{name:"home_pin"}),v(" "+u(S.row.address),1)])],64)):U("",!0)]),_:2},1032,["props"]),e(E,{key:"phone",props:S},{default:a(()=>[v(u(S.row.phone),1)]),_:2},1032,["props"]),e(E,{key:"address",props:S},{default:a(()=>[v(u(S.row.address),1)]),_:2},1032,["props"]),e(E,{key:"bank_account_number",props:S},{default:a(()=>[v(u(S.row.bank_account_number),1)]),_:2},1032,["props"]),e(E,{key:"action",props:S},{default:a(()=>[l("div",lm,[e(N,{disabled:!t(ze)(q.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:g[4]||(g[4]=J(()=>{},["stop"]))},{default:a(()=>[e(Re,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(xe,{style:{width:"200px"}},{default:a(()=>[H((h(),j(Q,{clickable:"",onClick:J(x=>t(R).get(q.route("admin.supplier.duplicate",S.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:a(()=>g[6]||(g[6]=[v(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]]),H((h(),j(Q,{clickable:"",onClick:J(x=>t(R).get(q.route("admin.supplier.edit",S.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:a(()=>g[7]||(g[7]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]]),H((h(),j(Q,{onClick:J(x=>_(S.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>g[8]||(g[8]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[p.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar"},{default:a(()=>[l("div",em,[e(Z,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:m.status,"onUpdate:modelValue":[g[2]||(g[2]=S=>m.status=S),k],options:f,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(F,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":g[3]||(g[3]=S=>m.search=S),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},nm=Object.freeze(Object.defineProperty({__proto__:null,default:om},Symbol.toStringTag,{value:"Module"})),sm={class:"q-gutter-sm"},rm={class:"q-gutter-sm"},im={class:"row justify-center"},um={class:"col col-lg-6 q-pa-sm"},dm={class:"row"},mm={class:"detail"},cm={key:0},xa="Rincian Pengguna",pm={__name:"Detail",setup(c){const n=ie();return(p,o)=>{const s=D("i-head"),m=D("authenticated-layout");return h(),P(Y,null,[e(s,{title:xa}),e(m,null,{title:a(()=>[v(u(xa))]),"left-button":a(()=>[l("div",sm,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=r=>p.$inertia.get(p.route("admin.user.index")))})])]),"right-button":a(()=>[l("div",rm,[e(N,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=r=>p.$inertia.get(p.route("admin.user.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[l("div",im,[l("div",um,[l("div",dm,[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(W,null,{default:a(()=>[o[17]||(o[17]=l("div",{class:"text-subtitle1 text-bold text-grey-9"}," Profil Pengguna ",-1)),l("table",mm,[l("tbody",null,[l("tr",null,[o[2]||(o[2]=l("td",{style:{width:"125px"}},"ID Pengguna",-1)),o[3]||(o[3]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.username),1)]),l("tr",null,[o[4]||(o[4]=l("td",null,"Nama Pengguna",-1)),o[5]||(o[5]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"Hak Akses",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,u(p.$CONSTANTS.USER_ROLES[t(n).props.data.role]),1)]),l("tr",null,[o[8]||(o[8]=l("td",null,"Dibuat",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,u(p.$dayjs(t(n).props.data.created_at).format("DD MMMM YY HH:mm:ss")),1)]),l("tr",null,[o[10]||(o[10]=l("td",null,"Diperbarui",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,u(p.$dayjs(t(n).props.data.updated_at).format("DD MMMM YY HH:mm:ss")),1)]),l("tr",null,[o[12]||(o[12]=l("td",null,"Terakhir login",-1)),o[13]||(o[13]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.last_login_datetime?p.$dayjs(t(n).props.data.last_login_datetime).format("DD MMMM YYYY HH:mm:ss"):"Belum pernah login"),1)]),t(n).props.data.last_activity_datetime?(h(),P("tr",cm,[o[15]||(o[15]=l("td",null,"Aktifitas Terakhir",-1)),o[16]||(o[16]=l("td",null,":",-1)),l("td",null,[v(u(p.$dayjs(t(n).props.data.last_activity_datetime).format("DD MMMM YYYY HH:mm:ss"))+" ",1),o[14]||(o[14]=l("br",null,null,-1)),v(u(t(n).props.data.last_activity_description),1)])])):U("",!0)])])]),_:1})]),_:1})])])])]),_:1})],64)}}},fm=Object.freeze(Object.defineProperty({__proto__:null,default:pm},Symbol.toStringTag,{value:"Module"}));function gm(c){return new RegExp("^(?=.{3,16}$)(?![_-])(?!.*[_-]{2})[a-zA-Z0-9_-]+(?<![_-])$").test(c)}const bm={class:"q-gutter-sm"},vm={class:"row justify-center"},_m={class:"col col-lg-6 q-pa-sm"},ym={style:{"margin-left":"-10px"}},wm={__name:"Editor",setup(c){const n=je(window.CONSTANTS.USER_ROLES),p=ie(),o=p.props.data.id?"Edit Pengguna":"Tambah Pengguna",s=ke({id:p.props.data.id,name:p.props.data.name,username:p.props.data.username,password:"",role:p.props.data.role?p.props.data.role:n[0].value,active:!!p.props.data.active}),m=()=>he({form:s,url:route("admin.user.save")});return(r,i)=>{const f=D("i-head"),_=D("authenticated-layout");return h(),P(Y,null,[e(f,{title:t(o)},null,8,["title"]),e(_,null,{title:a(()=>[v(u(t(o)),1)]),"left-button":a(()=>[l("div",bm,[e(N,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=b=>r.$inertia.get(r.route("admin.user.index")))})])]),default:a(()=>[l("div",vm,[l("div",_m,[e(Se,{class:"row",onSubmit:J(m,["prevent"])},{default:a(()=>[e(ae,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(W,{class:"q-pt-none"},{default:a(()=>[H(l("input",{type:"hidden",name:"id","onUpdate:modelValue":i[1]||(i[1]=b=>t(s).id=b)},null,512),[[Ye,t(s).id]]),e(F,{autofocus:"",modelValue:t(s).name,"onUpdate:modelValue":i[2]||(i[2]=b=>t(s).name=b),modelModifiers:{trim:!0},label:"Nama","lazy-rules":"",error:!!t(s).errors.name,disable:t(s).processing,"error-message":t(s).errors.name,rules:[b=>b&&b.length>0||"Nama harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(F,{modelValue:t(s).username,"onUpdate:modelValue":i[3]||(i[3]=b=>t(s).username=b),modelModifiers:{trim:!0},type:"text",label:"ID Pengguna","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.username,"error-message":t(s).errors.username,rules:[b=>b&&b.length>0||"ID Pengguna harus diisi.",b=>t(gm)(b)||"ID Pengguna tidak valid."]},null,8,["modelValue","disable","error","error-message","rules"]),e(F,{modelValue:t(s).password,"onUpdate:modelValue":i[4]||(i[4]=b=>t(s).password=b),type:"password",label:"Kata Sandi","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.password,"error-message":t(s).errors.password},null,8,["modelValue","disable","error","error-message"]),e(Z,{modelValue:t(s).role,"onUpdate:modelValue":i[5]||(i[5]=b=>t(s).role=b),label:"Hak Akses",options:t(n),"map-options":"","emit-value":"","lazy-rules":"",disable:t(s).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!t(s).errors.role,"error-message":t(s).errors.role},null,8,["modelValue","options","disable","error","error-message"]),l("div",ym,[e(at,{class:"full-width",modelValue:t(s).active,"onUpdate:modelValue":i[6]||(i[6]=b=>t(s).active=b),disable:t(s).processing,label:"Aktif"},null,8,["modelValue","disable"])])]),_:1}),e(W,{class:"q-gutter-sm"},{default:a(()=>[e(N,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing,onClick:m},null,8,["disable"]),e(N,{icon:"cancel",label:"Batal",class:"text-black",disable:t(s).processing,onClick:i[7]||(i[7]=b=>t(R).get(r.route("admin.user.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})],64)}}},km=Object.freeze(Object.defineProperty({__proto__:null,default:wm},Symbol.toStringTag,{value:"Module"})),hm={en:{dashboard:"Dashboard",welcome:"Welcome to our application!",greeting:"Hello, {name}!"},id:{add:"Tambah",filter:"Penyaringan",search:"Cari",dashboard:"Dasbor",stock_adjustment:"Penyesuaian Stok",customers:"Santri",suppliers:"Pemasok",sales_orders:"Penjualan",purchase_orders:"Pembelian",products:"Produk",product_categories:"Kategori Produk",users:"Pengguna",settings:"Pengaturan",my_profile:"Profil Saya",company_profile:"Profil Koperasi",logout:"Keluar",add_user:"Tambah Pengguna",edit_user:"Edit Pengguna",delete_user:"Hapus Pengguna",welcome:"Selamat datang di aplikasi kami!",greeting:"Selamat datang, {name}!"}},$m=Ll({locale:"id",messages:hm}),Sm={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},xm={class:"q-pa-sm"},qm={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Cm={class:"elipsis",style:{"max-width":"200px"}},Vm={class:"flex justify-end"},Tm={__name:"Index",setup(c){const n=[{value:"all",label:"Semua"},...je(window.CONSTANTS.USER_ROLES)],p=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],o=ie(),s=fe(),m=o.props.auth.user,r=$m.global.t("users"),i=M([]),f=M(!0),_=M(!1),b=Me({role:"all",status:"active",search:""}),k=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"username",descending:!1}),d=[{name:"username",label:"ID Pengguna",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"role",label:"Hak Akses",field:"role",align:"center",sortable:!0},{name:"action",align:"right"}];ye(()=>{q()});const y=()=>q(),q=(S=null)=>Te({pagination:k,props:S,rows:i,loading:f,filter:b,url:route("admin.user.data")}),g=S=>Be({url:route("admin.user.delete",S.id),message:`Hapus pengguna ${S.username}?`,fetchItemsCallback:q,loading:f}),T=K(()=>s.screen.gt.sm?d:d.filter(S=>S.name==="username"||S.name==="action")),$=S=>R.get(route("admin.user.detail",S.id));return(S,x)=>{const w=D("i-head"),O=D("authenticated-layout");return h(),P(Y,null,[e(w,{title:t(r)},null,8,["title"]),e(O,null,Ee({title:a(()=>[v(u(t(r)),1)]),"right-button":a(()=>[e(N,{icon:"add",dense:"",color:"primary",onClick:x[0]||(x[0]=V=>t(R).get(S.route("admin.user.add")))}),e(N,{class:"q-ml-sm",icon:_.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:x[1]||(x[1]=V=>_.value=!_.value)},null,8,["icon"])]),default:a(()=>[l("div",xm,[e(_e,{class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:k.value,"onUpdate:pagination":x[6]||(x[6]=V=>k.value=V),filter:b.search,loading:f.value,columns:T.value,rows:i.value,"rows-per-page-options":[10,25,50],onRequest:q,"binary-state-sort":""},{loading:a(()=>[e(Pe,{showing:"",color:"red"})]),"no-data":a(({icon:V,message:A,term:le})=>[l("div",qm,[l("span",null,u(A)+" "+u(le?" with term "+le:""),1)])]),body:a(V=>[e(we,{props:V,class:pe([V.row.active?"":"bg-red-1","cursor-pointer"]),onClick:A=>$(V.row)},{default:a(()=>[e(E,{key:"username",props:V},{default:a(()=>[l("div",null,u(V.row.username),1),t(s).screen.gt.sm?U("",!0):(h(),P(Y,{key:0},[l("div",null,[e(C,{name:"person"}),v(" "+u(V.row.name),1)]),l("div",Cm,[e(C,{name:"group"}),l("span",null,u(S.$CONSTANTS.USER_ROLES[V.row.role]),1)])],64))]),_:2},1032,["props"]),e(E,{key:"name",props:V},{default:a(()=>[v(u(V.row.name),1)]),_:2},1032,["props"]),e(E,{key:"role",props:V,align:"center"},{default:a(()=>[l("span",null,u(S.$CONSTANTS.USER_ROLES[V.row.role]),1)]),_:2},1032,["props"]),e(E,{key:"action",props:V},{default:a(()=>[l("div",Vm,[e(N,{disable:V.row.id==t(m).id||V.row.username=="admin",icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:x[5]||(x[5]=J(()=>{},["stop"]))},{default:a(()=>[e(Re,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(xe,{style:{width:"200px"}},{default:a(()=>[H((h(),j(Q,{clickable:"",onClick:J(A=>t(R).get(S.route("admin.user.duplicate",V.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:a(()=>x[7]||(x[7]=[v(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]]),H((h(),j(Q,{clickable:"",onClick:J(A=>t(R).get(S.route("admin.user.edit",V.row.id)),["stop"])},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:a(()=>x[8]||(x[8]=[v("Edit")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]]),H((h(),j(Q,{onClick:J(A=>g(V.row),["stop"]),clickable:""},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:a(()=>x[9]||(x[9]=[v("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[oe]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disable"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[_.value?{name:"header",fn:a(()=>[e(Ae,{class:"filter-bar"},{default:a(()=>[l("div",Sm,[e(Z,{modelValue:b.role,"onUpdate:modelValue":[x[2]||(x[2]=V=>b.role=V),y],class:"custom-select col-xs-12 col-sm-2",options:n,label:"Role",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(Z,{modelValue:b.status,"onUpdate:modelValue":[x[3]||(x[3]=V=>b.status=V),y],class:"custom-select col-xs-12 col-sm-2",options:p,label:"Status",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(F,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:b.search,"onUpdate:modelValue":x[4]||(x[4]=V=>b.search=V),placeholder:"Cari",clearable:""},{append:a(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},Pm=Object.freeze(Object.defineProperty({__proto__:null,default:Tm},Symbol.toStringTag,{value:"Module"})),Mm=ot({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(c,{slots:n,emit:p}){let o=!1,s,m,r=null,i=null,f,_;function b(){s&&s(),s=null,o=!1,r!==null&&(clearTimeout(r),r=null),i!==null&&(clearTimeout(i),i=null),m!==void 0&&m.removeEventListener("transitionend",f),f=null}function k(g,T,$){T!==void 0&&(g.style.height=`${T}px`),g.style.transition=`height ${c.duration}ms cubic-bezier(.25, .8, .50, 1)`,o=!0,s=$}function d(g,T){g.style.overflowY=null,g.style.height=null,g.style.transition=null,b(),T!==_&&p(T)}function y(g,T){let $=0;m=g,o===!0?(b(),$=g.offsetHeight===g.scrollHeight?0:void 0):(_="hide",g.style.overflowY="hidden"),k(g,$,T),r=setTimeout(()=>{r=null,g.style.height=`${g.scrollHeight}px`,f=S=>{i=null,(Object(S)!==S||S.target===g)&&d(g,"show")},g.addEventListener("transitionend",f),i=setTimeout(f,c.duration*1.1)},100)}function q(g,T){let $;m=g,o===!0?b():(_="show",g.style.overflowY="hidden",$=g.scrollHeight),k(g,$,T),r=setTimeout(()=>{r=null,g.style.height=0,f=S=>{i=null,(Object(S)!==S||S.target===g)&&d(g,"hide")},g.addEventListener("transitionend",f),i=setTimeout(f,c.duration*1.1)},100)}return St(()=>{o===!0&&b()}),()=>re(Na,{css:!1,appear:c.appear,onEnter:y,onLeave:q},n.default)}}),Xe=zl({}),Nm=Object.keys(Ma),Ze=ot({name:"QExpansionItem",props:{...Ma,...$l,...Va,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...hl,"click","afterShow","afterHide"],setup(c,{slots:n,emit:p}){const{proxy:{$q:o}}=yt(),s=Ta(c,o),m=M(c.modelValue!==null?c.modelValue:c.defaultOpened),r=M(null),i=Sl(),{show:f,hide:_,toggle:b}=xl({showing:m});let k,d;const y=K(()=>`q-expansion-item q-item-type q-expansion-item--${m.value===!0?"expanded":"collapsed"} q-expansion-item--${c.popup===!0?"popup":"standard"}`),q=K(()=>c.contentInsetLevel===void 0?null:{["padding"+(o.lang.rtl===!0?"Right":"Left")]:c.contentInsetLevel*56+"px"}),g=K(()=>c.disable!==!0&&(c.href!==void 0||c.to!==void 0&&c.to!==null&&c.to!=="")),T=K(()=>{const ee={};return Nm.forEach(Ue=>{ee[Ue]=c[Ue]}),ee}),$=K(()=>g.value===!0||c.expandIconToggle!==!0),S=K(()=>c.expandedIcon!==void 0&&m.value===!0?c.expandedIcon:c.expandIcon||o.iconSet.expansionItem[c.denseToggle===!0?"denseIcon":"icon"]),x=K(()=>c.disable!==!0&&(g.value===!0||c.expandIconToggle===!0)),w=K(()=>({expanded:m.value===!0,detailsId:i.value,toggle:b,show:f,hide:_})),O=K(()=>{const ee=c.toggleAriaLabel!==void 0?c.toggleAriaLabel:o.lang.label[m.value===!0?"collapse":"expand"](c.label);return{role:"button","aria-expanded":m.value===!0?"true":"false","aria-controls":i.value,"aria-label":ee}});qe(()=>c.group,ee=>{d!==void 0&&d(),ee!==void 0&&De()});function V(ee){g.value!==!0&&b(ee),p("click",ee)}function A(ee){ee.keyCode===13&&le(ee,!0)}function le(ee,Ue){Ue!==!0&&r.value!==null&&r.value.focus(),b(ee),pt(ee)}function L(){p("afterShow")}function ue(){p("afterHide")}function De(){k===void 0&&(k=ql()),m.value===!0&&(Xe[c.group]=k);const ee=qe(m,Ge=>{Ge===!0?Xe[c.group]=k:Xe[c.group]===k&&delete Xe[c.group]}),Ue=qe(()=>Xe[c.group],(Ge,qt)=>{qt===k&&Ge!==void 0&&Ge!==k&&_()});d=()=>{ee(),Ue(),Xe[c.group]===k&&delete Xe[c.group],d=void 0}}function $e(){const ee={class:[`q-focusable relative-position cursor-pointer${c.denseToggle===!0&&c.switchToggleSide===!0?" items-end":""}`,c.expandIconClass],side:c.switchToggleSide!==!0,avatar:c.switchToggleSide},Ue=[re(C,{class:"q-expansion-item__toggle-icon"+(c.expandedIcon===void 0&&m.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:S.value})];return x.value===!0&&(Object.assign(ee,{tabindex:0,...O.value,onClick:le,onKeyup:A}),Ue.unshift(re("div",{ref:r,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),re(I,ee,()=>Ue)}function Le(){let ee;return n.header!==void 0?ee=[].concat(n.header(w.value)):(ee=[re(I,()=>[re(ne,{lines:c.labelLines},()=>c.label||""),c.caption?re(ne,{lines:c.captionLines,caption:!0},()=>c.caption):null])],c.icon&&ee[c.switchToggleSide===!0?"push":"unshift"](re(I,{side:c.switchToggleSide===!0,avatar:c.switchToggleSide!==!0},()=>re(C,{name:c.icon})))),c.disable!==!0&&c.hideExpandIcon!==!0&&ee[c.switchToggleSide===!0?"unshift":"push"]($e()),ee}function te(){const ee={ref:"item",style:c.headerStyle,class:c.headerClass,dark:s.value,disable:c.disable,dense:c.dense,insetLevel:c.headerInsetLevel};return $.value===!0&&(ee.clickable=!0,ee.onClick=V,Object.assign(ee,g.value===!0?T.value:O.value)),re(Q,ee,Le)}function me(){return H(re("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:q.value,id:i.value},vt(n.default)),[[Yl,m.value]])}function Ne(){const ee=[te(),re(Mm,{duration:c.duration,onShow:L,onHide:ue},me)];return c.expandSeparator===!0&&ee.push(re(Je,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:s.value}),re(Je,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:s.value})),ee}return c.group!==void 0&&De(),St(()=>{d!==void 0&&d()}),()=>re("div",{class:y.value},[re("div",{class:"q-expansion-item__container relative-position"},Ne())])}}),Im={class:"absolute-top",style:{height:"50px","border-bottom":"1px solid #ddd","align-items":"center","justify-content":"center"}},Om={style:{width:"100%",padding:"8px",display:"flex","justify-content":"space-between"}},Am={class:"text-bold"},Dm={class:"text-grey-8 text-caption"},Um={class:"absolute-bottom text-grey-6 q-pa-md"},It="amanah-pos.layout.left-drawer-open",Em={__name:"AuthenticatedLayout",setup(c){const n=fe(),p=ie(),o=M(JSON.parse(localStorage.getItem(It))),s=M(!1),m=()=>o.value=!o.value;return qe(o,r=>{localStorage.setItem(It,r)}),ye(()=>{o.value=JSON.parse(localStorage.getItem(It)),n.screen.lt.md&&(o.value=!1)}),(r,i)=>(h(),j(Il,{view:"lHh LpR lFf"},{default:a(()=>[e(Cl,null,{default:a(()=>[e(Ae,{class:"bg-grey-1 text-black toolbar-scrolled"},{default:a(()=>[o.value?U("",!0):(h(),j(N,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:m},{default:a(()=>[e(C,{class:"material-symbols-outlined"},{default:a(()=>i[20]||(i[20]=[v("dock_to_right")])),_:1})]),_:1})),et(r.$slots,"left-button",{},void 0,!0),e(Vl,{class:pe({"q-ml-sm":o.value}),style:{"font-size":"18px"}},{default:a(()=>[et(r.$slots,"title",{},()=>[v(u(r.$config.APP_NAME),1)],!0)]),_:3},8,["class"]),et(r.$slots,"right-button",{},void 0,!0)]),_:3}),et(r.$slots,"header",{},void 0,!0)]),_:3}),e(Tl,{breakpoint:768,modelValue:o.value,"onUpdate:modelValue":i[19]||(i[19]=f=>o.value=f),bordered:"",class:"bg-grey-2",style:{color:"#444"}},{default:a(()=>[l("div",Im,[l("div",Om,[e(Pl,{modelValue:s.value,"onUpdate:modelValue":i[2]||(i[2]=f=>s.value=f),class:pe(["profile-btn text-bold",{"profile-btn-active":s.value}]),flat:"",label:t(p).props.company.name,style:{"justify-content":"space-between","flex-grow":"1",overflow:"hidden"}},{default:a(()=>[e(xe,{id:"profile-btn-popup",style:{color:"#444"}},{default:a(()=>[e(Q,null,{default:a(()=>[e(tt,{style:{"margin-left":"-15px"}},{default:a(()=>[e(C,{name:"person"})]),_:1}),e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>[l("div",Am,u(t(p).props.auth.user.name),1),l("div",Dm,u(r.$CONSTANTS.USER_ROLES[t(p).props.auth.user.role])+" @ "+u(t(p).props.company.name),1)]),_:1})]),_:1})]),_:1}),e(Je),H((h(),j(Q,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/profile"),onClick:i[0]||(i[0]=f=>t(R).get(r.route("admin.profile.edit")))},{default:a(()=>[e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>[e(C,{name:"manage_accounts",class:"q-mr-sm"}),i[21]||(i[21]=v(" Profil Saya"))]),_:1})]),_:1})]),_:1},8,["active"])),[[oe],[X]]),r.$can("admin.company-profile.edit")?H((h(),j(Q,{key:0,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/company-profile"),onClick:i[1]||(i[1]=f=>t(R).get(r.route("admin.company-profile.edit")))},{default:a(()=>[e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>[e(C,{name:"home_work",class:"q-mr-sm"}),i[22]||(i[22]=v(" Profil Perusahaan"))]),_:1})]),_:1})]),_:1},8,["active"])),[[oe],[X]]):U("",!0),e(Je),H((h(),j(Q,{clickable:"",style:{color:"inherit"},href:r.route("admin.auth.logout")},{default:a(()=>[e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>[e(C,{name:"logout",class:"q-mr-sm"}),i[23]||(i[23]=v(" Keluar"))]),_:1})]),_:1})]),_:1},8,["href"])),[[oe],[X]])]),_:1})]),_:1},8,["modelValue","label","class"]),o.value?(h(),j(N,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:m},{default:a(()=>[e(C,{name:"dock_to_right"})]),_:1})):U("",!0)])]),e(Ml,{style:{height:"calc(100% - 50px)","margin-top":"50px"}},{default:a(()=>[e(xe,{id:"main-nav",style:{"margin-bottom":"50px"}},{default:a(()=>[H((h(),j(Q,{clickable:"",active:r.$page.url.startsWith("/admin/dashboard"),onClick:i[3]||(i[3]=f=>t(R).get(r.route("admin.dashboard")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"dashboard"})]),_:1}),e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>i[24]||(i[24]=[v("Dashboard")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]]),e(Je),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(h(),j(Ze,{key:0,icon:"storefront",label:"Penjualan","default-opened":r.$page.url.startsWith("/admin/sales-orders")||r.$page.url.startsWith("/admin/customers")},{default:a(()=>[H((h(),j(Q,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/sales-orders"),onClick:i[4]||(i[4]=f=>t(R).get(r.route("admin.sales-order.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"shopping_cart"})]),_:1}),e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>i[25]||(i[25]=[v("Penjualan")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]]),H((h(),j(Q,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/customers"),onClick:i[5]||(i[5]=f=>t(R).get(r.route("admin.customer.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"people"})]),_:1}),e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>i[26]||(i[26]=[v("Pelanggan")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]])]),_:1},8,["default-opened"])):U("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(h(),j(Ze,{key:1,icon:"local_shipping",label:"Pembelian","default-opened":r.$page.url.startsWith("/admin/purchase-orders")||r.$page.url.startsWith("/admin/suppliers")},{default:a(()=>[H((h(),j(Q,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/purchase-orders"),onClick:i[6]||(i[6]=f=>t(R).get(r.route("admin.purchase-order.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"shopping_cart"})]),_:1}),e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>i[27]||(i[27]=[v("Pembelian")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]]),H((h(),j(Q,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/suppliers"),onClick:i[7]||(i[7]=f=>t(R).get(r.route("admin.supplier.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"people"})]),_:1}),e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>i[28]||(i[28]=[v("Pemasok")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]])]),_:1},8,["default-opened"])):U("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(h(),j(Ze,{key:2,icon:"inventory_2",label:"Inventori","default-opened":r.$page.url.startsWith("/admin/products")||r.$page.url.startsWith("/admin/product-categories")||r.$page.url.startsWith("/admin/stock-adjustments")},{default:a(()=>[H((h(),j(Q,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/stock-adjustments"),onClick:i[8]||(i[8]=f=>t(R).get(r.route("admin.stock-adjustment.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"swap_vert"})]),_:1}),e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>i[29]||(i[29]=[v("Penyesuaian Stok")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]]),H((h(),j(Q,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/products"),onClick:i[9]||(i[9]=f=>t(R).get(r.route("admin.product.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"box"})]),_:1}),e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>i[30]||(i[30]=[v("Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]]),H((h(),j(Q,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/product-categories"),onClick:i[10]||(i[10]=f=>t(R).get(r.route("admin.product-category.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"category"})]),_:1}),e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>i[31]||(i[31]=[v("Kategori Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]])]),_:1},8,["default-opened"])):U("",!0),e(Je),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(h(),j(Ze,{key:3,icon:"wallet",label:"Wallet","default-opened":r.$page.url.startsWith("/admin/customer-wallet-transactions")||r.$page.url.startsWith("/admin/customers")},{default:a(()=>[H((h(),j(Q,{class:"subnav",clickable:"",active:r.$page.url=="/admin/customer-wallet-transactions",onClick:i[11]||(i[11]=f=>t(R).get(r.route("admin.customer-wallet-transaction.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"moving"})]),_:1}),e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>i[32]||(i[32]=[v("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]])]),_:1},8,["default-opened"])):U("",!0),e(Je),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(h(),j(Ze,{key:4,icon:"finance",label:"Keuangan","default-opened":r.$page.url.startsWith("/admin/finance-accounts")||r.$page.url.startsWith("/admin/finance-transactions")},{default:a(()=>[H((h(),j(Q,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/finance-transactions"),onClick:i[12]||(i[12]=f=>t(R).get(r.route("admin.finance-transaction.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"moving"})]),_:1}),e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>i[33]||(i[33]=[v("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]]),H((h(),j(Q,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/finance-accounts"),onClick:i[13]||(i[13]=f=>t(R).get(r.route("admin.finance-account.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"groups_2"})]),_:1}),e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>i[34]||(i[34]=[v("Akun Kas")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]])]),_:1},8,["default-opened"])):U("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(h(),j(Ze,{key:5,icon:"paid",label:"Operasional","default-opened":r.$page.url.startsWith("/admin/operational-costs")||r.$page.url.startsWith("/admin/operational-cost-categories")},{default:a(()=>[H((h(),j(Q,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/operational-costs"),onClick:i[14]||(i[14]=f=>t(R).get(r.route("admin.operational-cost.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"request_quote"})]),_:1}),e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>i[35]||(i[35]=[v("Biaya Operasional")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]]),H((h(),j(Q,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/operational-cost-categories"),onClick:i[15]||(i[15]=f=>t(R).get(r.route("admin.operational-cost-category.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"category"})]),_:1}),e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>i[36]||(i[36]=[v("Kategori")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]])]),_:1},8,["default-opened"])):U("",!0),e(Je),e(Ze,{icon:"settings",label:"Pengaturan","default-opened":r.$page.url.startsWith("/admin/settings")},{default:a(()=>[r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?H((h(),j(Q,{key:0,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/users"),onClick:i[16]||(i[16]=f=>t(R).get(r.route("admin.user.index")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"group"})]),_:1}),e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>i[37]||(i[37]=[v("Pengguna")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]]):U("",!0),H((h(),j(Q,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/profile"),onClick:i[17]||(i[17]=f=>t(R).get(r.route("admin.profile.edit")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"manage_accounts"})]),_:1}),e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>i[38]||(i[38]=[v("Profil Saya")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]]),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?H((h(),j(Q,{key:1,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/company-profile"),onClick:i[18]||(i[18]=f=>t(R).get(r.route("admin.company-profile.edit")))},{default:a(()=>[e(I,{avatar:""},{default:a(()=>[e(C,{name:"apartment"})]),_:1}),e(I,null,{default:a(()=>[e(ne,null,{default:a(()=>i[39]||(i[39]=[v("Profil Maqsof")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]]):U("",!0)]),_:1},8,["default-opened"]),l("div",Um,"  2025 - "+u(r.$config.APP_NAME+" v"+r.$config.APP_VERSION_STR),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Nl,{class:"bg-grey-1"},{default:a(()=>[e(ve,null,{default:a(()=>[et(r.$slots,"default",{},void 0,!0)]),_:3})]),_:3}),et(r.$slots,"footer",{},void 0,!0)]),_:3}))}},jm=lt(Em,[["__scopeId","data-v-0d3b22fb"]]),Rm={__name:"GuestLayout",setup(c){return(n,p)=>(h(),j(Ol,null,{default:a(()=>[et(n.$slots,"default")]),_:3}))}};Al({layouts:{authenticated:jm,guest:Rm},pagesGlob:Object.assign({"./pages/About.vue":lo,"./pages/auth/Login.vue":io,"./pages/company-profile/Edit.vue":go,"./pages/company-profile/partials/CompanyInfoForm.vue":uo,"./pages/customer-wallet-transaction/Adjustment.vue":_o,"./pages/customer-wallet-transaction/Editor.vue":ho,"./pages/customer-wallet-transaction/Index.vue":To,"./pages/customer/Detail.vue":tn,"./pages/customer/Editor.vue":sn,"./pages/customer/Index.vue":pn,"./pages/dashboard/Index.vue":Mn,"./pages/dashboard/cards/ChartCard.vue":Un,"./pages/dashboard/cards/SummaryCard.vue":Kn,"./pages/dashboard/cards/TopCard.vue":Gn,"./pages/finance-account/Detail.vue":rs,"./pages/finance-account/Editor.vue":ps,"./pages/finance-account/Index.vue":Ss,"./pages/finance-transaction/Editor.vue":Vs,"./pages/finance-transaction/Index.vue":Es,"./pages/operational-cost-category/Editor.vue":Ls,"./pages/operational-cost-category/Index.vue":Ws,"./pages/operational-cost/Detail.vue":or,"./pages/operational-cost/Editor.vue":mr,"./pages/operational-cost/Index.vue":wr,"./pages/product-category/Editor.vue":Sr,"./pages/product-category/Index.vue":Mr,"./pages/product/Detail.vue":Wr,"./pages/product/Editor.vue":ei,"./pages/product/Index.vue":di,"./pages/profile/Edit.vue":vi,"./pages/profile/partials/UpdatePasswordForm.vue":mi,"./pages/profile/partials/UpdateProfileInformationForm.vue":ci,"./pages/purchase-order/Editor.vue":Xi,"./pages/purchase-order/Editor_v1.vue":tu,"./pages/purchase-order/Index.vue":du,"./pages/purchase-order/editor/ConfirmDeleteDialog.vue":Li,"./pages/purchase-order/editor/ItemsListTable.vue":Ii,"./pages/purchase-order/editor/SupplierEditorDialog.vue":zi,"./pages/purchase-order/editor/TransactionHeader.vue":Vi,"./pages/purchase-order/editor/TransactionSummary.vue":Ri,"./pages/sales-order/Editor.vue":Ju,"./pages/sales-order/Index.vue":nd,"./pages/sales-order/editor/ConfirmDeleteDialog.vue":Iu,"./pages/sales-order/editor/CustomerEditorDialog.vue":Ou,"./pages/sales-order/editor/ItemsListTable.vue":Su,"./pages/sales-order/editor/TransactionHeader.vue":_u,"./pages/sales-order/editor/TransactionSummary.vue":Mu,"./pages/stock-adjustment/Create.vue":fd,"./pages/stock-adjustment/Detail.vue":Sd,"./pages/stock-adjustment/Editor.vue":Md,"./pages/stock-adjustment/Index.vue":Bd,"./pages/supplier/Detail.vue":Qd,"./pages/supplier/Editor.vue":Zd,"./pages/supplier/Index.vue":nm,"./pages/user/Detail.vue":fm,"./pages/user/Editor.vue":km,"./pages/user/Index.vue":Pm})});
