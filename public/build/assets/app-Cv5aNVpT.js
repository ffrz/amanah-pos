import{_ as Ze,x as ee,y as Q,T as we,p as be,j as Ge,d as V,z as H,c as P,A as Xe,E as st,Q as se,i as K,k as O,F as j,r as ze,G as ut,H as $a,u as ce,b as Ne,I as Ae,h as $e,R as X,C as ae,J as xt,K as Sa,L as tl,O as al,S as vt,U as qt,V as Pt,W as ll,X as wt,Y as ol,$ as Vt,a0 as it,a1 as Ct,a2 as Wt,a3 as nl,a4 as _t,a5 as Jt,a6 as sl,a7 as Gt,a8 as rl,a9 as il,aa as ul,ab as dl,ac as ml,l as ne,ad as dt,D as xa,a as cl,e as pl,f as fl,g as gl,m as at,n as bl,o as _l,q as vl,B as yl,s as wl,v as kl,P as hl,N as $l,Z as Sl,w as xl,M as ql,t as Vl}from"./id-CqrB5b5-.js";import{B as U,C as T,j as k,l as e,k as a,y as l,q as g,F as Y,r as M,D as W,u as t,f as R,x as u,w as De,c as J,z as F,p as A,E as Re,h as ge,G as xe,o as _e,H as Oe,i as Cl,g as kt,b as qa,I as Tl,J as Pl,K as Ml,T as Nl,L as Ol,v as me,M as lt,N as Il,O as Ot,n as ht,P as Dl,m as Je,A as Ul}from"./vendor1-D5i7wp4U.js";import{Q as he,h as ke,s as qe,a as Z,_ as Me,D as mt,c as ct,g as Ve,b as Ce,d as pt,e as ve,f as ye,i as E,p as Ye,j as B,k as je,l as Ee,m as Te,r as Al,u as El,n as Mt,o as Nt,q as Ue,t as Rl,v as It,w as Dt,x as jl,y as Bl,z as zl,A as Va,B as Ll,C as Yl,Z as Hl,G as Fl}from"./index-B7CAshg0.js";import{bT as Kl,eC as yt}from"./vendor2-BCpvBFfp.js";import{i as Ql,a as Wl,b as Jl,c as Gl,d as Xl,e as Zl,f as eo}from"./vendor3-Co6dddsg.js";import{Q as We}from"./QExpansionItem-in-Ki2TM.js";const to={},ao={class:"row"};function lo(f,n){const c=U("i-head"),o=U("authenticated-layout");return k(),T(Y,null,[e(c,{title:"About"}),e(o,null,{title:a(()=>n[0]||(n[0]=[g("About")])),default:a(()=>[l("div",ao,[e(ee,{class:"col q-pa-md q-ma-md",square:"",flat:"",bordered:""},{default:a(()=>[e(Q,null,{default:a(()=>n[1]||(n[1]=[l("div",{class:"q-mb-md text-h4"},"About",-1),l("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Autem soluta, accusamus placeat eius eligendi perferendis quisquam veritatis iste debitis laboriosam facere et aliquam quos beatae illo distinctio rerum eos! Expedita, voluptatem. Aut nihil deleniti magni fuga eius labore aliquam nulla quod ullam sunt amet eum asperiores, harum unde eligendi tempore sapiente. Placeat sed, dignissimos voluptatum perspiciatis saepe aspernatur, maxime est, ipsam quas nobis cumque sunt labore molestias? Amet in sed ullam recusandae, nostrum dicta facilis blanditiis incidunt quae commodi soluta id impedit vel fugit illo, molestias reiciendis, provident nam molestiae! Ipsam, hic. Facere aut quisquam praesentium enim illum, pariatur nam.",-1),l("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, cum nulla. Ut eligendi tenetur aliquam cum mollitia repellat voluptas, fugiat doloremque sunt commodi enim excepturi distinctio id sapiente incidunt ipsam asperiores cupiditate, labore libero! Ad facere magni cumque perspiciatis, adipisci possimus pariatur quo nobis minus, est enim similique quaerat vel asperiores ipsam harum et, totam fugit.",-1),l("p",null,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Suscipit aspernatur maxime consectetur, consequatur excepturi facilis praesentium rem placeat sapiente, maiores doloribus modi voluptate. Unde autem dolor officiis numquam incidunt quasi aspernatur nam dolores ratione quidem recusandae, nulla qui provident molestias odit nemo praesentium quas voluptatem aliquid perferendis, iste veritatis vitae. Dolor, eligendi quidem distinctio asperiores doloremque culpa corporis quibusdam earum ex laudantium iure officia ullam nostrum maxime voluptatum laboriosam impedit labore illum. Culpa, veniam dolor odio ad eius nisi, aspernatur quia veritatis blanditiis repellat id minima deserunt beatae?",-1)])),_:1})]),_:1})])]),_:1})],64)}const oo=Ze(to,[["render",lo]]),no=Object.freeze(Object.defineProperty({__proto__:null,default:oo},Symbol.toStringTag,{value:"Module"})),so={class:"column"},ro={class:"row"},io={class:"flex justify-center"},uo={__name:"Login",setup(f){let n=we({username:window.CONFIG.APP_DEMO?"admin":"",password:window.CONFIG.APP_DEMO?"12345":"",remember:!0});const c=()=>ke({form:n,url:route("admin.auth.login")}),o=M(!1);return(s,m)=>{const r=U("i-head"),i=U("guest-layout");return k(),T(Y,null,[e(r,{title:"Login"}),e(i,null,{default:a(()=>[e(be,{class:"row justify-center items-center"},{default:a(()=>[l("div",so,[l("div",ro,[e(he,{class:"q-gutter-md",onSubmit:W(c,["prevent"])},{default:a(()=>[e(ee,{square:"",bordered:"",flat:"",class:"q-pa-md"},{default:a(()=>[e(Q,{class:"text-center"},{default:a(()=>[l("div",io,[e(Ge,{size:"80px"},{default:a(()=>[e(V,{name:"badge",color:"primary"})]),_:1})]),m[4]||(m[4]=l("h6",{class:"q-my-sm text-primary"},"Login Staff",-1))]),_:1}),e(Q,null,{default:a(()=>[e(H,{modelValue:t(n).username,"onUpdate:modelValue":m[0]||(m[0]=p=>t(n).username=p),modelModifiers:{trim:!0},label:"Username","lazy-rules":"",error:!!t(n).errors.username,autocomplete:"username","error-message":t(n).errors.username,disable:t(n).processing,rules:[p=>p&&p.length>0||"Masukkan Username"]},{append:a(()=>[e(V,{name:"person"})]),_:1},8,["modelValue","error","error-message","disable","rules"]),e(H,{modelValue:t(n).password,"onUpdate:modelValue":m[2]||(m[2]=p=>t(n).password=p),type:o.value?"text":"password",label:"Kata Sandi",error:!!t(n).errors.password,autocomplete:"current-password","error-message":t(n).errors.password,"lazy-rules":"",disable:t(n).processing,rules:[p=>p&&p.length>0||"Masukkan kata sandi"]},{append:a(()=>[e(P,{dense:"",flat:"",round:"",onClick:m[1]||(m[1]=p=>o.value=!o.value)},{default:a(()=>[e(V,{name:o.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","error","error-message","disable","rules"]),e(Xe,{class:"q-mt-sm q-pl-none",style:{"margin-left":"-10px"},modelValue:t(n).remember,"onUpdate:modelValue":m[3]||(m[3]=p=>t(n).remember=p),disable:t(n).processing,label:"Ingat saya di perangkat ini"},null,8,["modelValue","disable"])]),_:1}),e(st,null,{default:a(()=>[e(P,{icon:"login",type:"submit",color:"primary",class:"full-width",label:"Login",disable:t(n).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},mo=Object.freeze(Object.defineProperty({__proto__:null,default:uo},Symbol.toStringTag,{value:"Module"})),Ca={__name:"CompanyInfoForm",setup(f){const n=M(),c=se(),o=we({name:c.props.data.name,phone:c.props.data.phone,address:c.props.data.address}),s=()=>ke({form:o,url:route("admin.company-profile.update")});return(m,r)=>(k(),R(he,{class:"row",onSubmit:W(s,["prevent"]),onValidationError:t(qe)},{default:a(()=>[e(ee,{flat:"",bordered:"",square:"",class:"col"},{default:a(()=>[e(Q,null,{default:a(()=>[r[3]||(r[3]=l("div",{class:"text-subtitle1 q-my-xs"},"Profil Koperasi",-1)),r[4]||(r[4]=l("p",{class:"text-caption text-grey-9"},"Perbarui profil koperasi.",-1)),e(H,{ref_key:"nameInputRef",ref:n,modelValue:t(o).name,"onUpdate:modelValue":r[0]||(r[0]=i=>t(o).name=i),modelModifiers:{trim:!0},label:"Nama Koperasi",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.name,"error-message":t(o).errors.name,rules:[i=>i&&i.length>0||"Nama Koperasi harus diisi."]},null,8,["modelValue","disable","error","error-message","rules"]),e(H,{modelValue:t(o).phone,"onUpdate:modelValue":r[1]||(r[1]=i=>t(o).phone=i),modelModifiers:{trim:!0},label:"No Telepon",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.phone,"error-message":t(o).errors.phone},null,8,["modelValue","disable","error","error-message"]),e(H,{type:"textarea",counter:"",autogrow:"",maxlength:"1000",modelValue:t(o).address,"onUpdate:modelValue":r[2]||(r[2]=i=>t(o).address=i),modelModifiers:{trim:!0},label:"Alamat Koperasi",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.address,"error-message":t(o).errors.address},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(Q,null,{default:a(()=>[e(P,{icon:"save",type:"submit",color:"primary",label:"Simpan",disable:t(o).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},co=Object.freeze(Object.defineProperty({__proto__:null,default:Ca},Symbol.toStringTag,{value:"Module"})),po={class:"q-pa-sm"},fo={class:"row justify-center"},go={class:"col col-lg-6"},Xt="Profil Koperasi",bo={__name:"Edit",setup(f){return(n,c)=>{const o=U("i-head"),s=U("authenticated-layout");return k(),T(Y,null,[e(o,{title:Xt}),e(s,null,{title:a(()=>[g(u(Xt))]),default:a(()=>[l("div",po,[l("div",fo,[l("div",go,[e(Ca)])])])]),_:1})],64)}}},_o=Object.freeze(Object.defineProperty({__proto__:null,default:bo},Symbol.toStringTag,{value:"Module"}));function Ut(f,n=!1){const c=f.map(r=>({value:r.id,label:r.username+" - "+r.name})),o=n?[{value:"all",label:"Semua"},...c]:c,s=M([...o]);return{filteredCustomers:s,filterCustomersFn:(r,i)=>{i(()=>{s.value=o.filter(p=>p.label.toLowerCase().includes(r.toLowerCase()))})},customers:o}}const vo={class:"col col-lg-6 q-pa-sm"},Zt="Penyesuaian Saldo Dompet Santri",yo={__name:"Adjustment",setup(f){const n=se(),{filteredCustomers:c,filterCustomersFn:o}=Ut(n.props.customers,!1),s=we({customer_id:null,old_balance:0,new_balance:0,notes:""}),m=()=>s.amount=s.new_balance-s.old_balance;De(()=>s.customer_id,async p=>{if(!p){s.old_balance=0,s.new_balance=0,m();return}s.processing=!0;try{const _=await axios.get(route("admin.customer.balance",{id:p}));s.new_balance=s.old_balance=_.data.balance}catch(_){console.error("Gagal mengambil saldo:",_),s.old_balance=0,s.new_balance=0}s.processing=!1,m()});const r=J(()=>s.new_balance-s.old_balance),i=()=>ke({form:s,url:route("admin.customer-wallet-transaction.adjustment")});return(p,_)=>{const b=U("i-head"),h=U("authenticated-layout");return k(),T(Y,null,[e(b,{title:Zt}),e(h,null,{title:a(()=>[g(u(Zt))]),default:a(()=>[e(be,{class:"row justify-center"},{default:a(()=>[l("div",vo,[e(he,{class:"row",onSubmit:W(i,["prevent"]),onValidationError:t(qe)},{default:a(()=>[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Q,{class:"q-pt-none"},{default:a(()=>[e(Z,{class:"custom-select",modelValue:t(s).customer_id,"onUpdate:modelValue":_[0]||(_[0]=d=>t(s).customer_id=d),label:"Santri","use-input":"","input-debounce":"300",clearable:"",options:t(c),"map-options":"","emit-value":"",errorMessage:t(s).errors.customer_id,onFilter:t(o),error:!!t(s).errors.customer_id,disable:t(s).processing},{"no-option":a(()=>[e(K,null,{default:a(()=>[e(O,null,{default:a(()=>_[6]||(_[6]=[g("Santri tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(Me,{modelValue:t(s).old_balance,"onUpdate:modelValue":_[1]||(_[1]=d=>t(s).old_balance=d),label:"Saldo Tercatat",readonly:"",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.balance,errorMessage:t(s).errors.balance},null,8,["modelValue","disable","error","errorMessage"]),e(Me,{modelValue:t(s).new_balance,"onUpdate:modelValue":_[2]||(_[2]=d=>t(s).new_balance=d),label:"Saldo Seharusnya",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.new_balance,errorMessage:t(s).errors.new_balance},null,8,["modelValue","disable","error","errorMessage"]),e(Me,{modelValue:r.value,"onUpdate:modelValue":_[3]||(_[3]=d=>r.value=d),label:"Selisih",readonly:"",lazyRules:"",disable:t(s).processing},null,8,["modelValue","disable"]),e(H,{modelValue:t(s).notes,"onUpdate:modelValue":_[4]||(_[4]=d=>t(s).notes=d),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,rules:[d=>d&&d.length>0||"Catatan harus diisi."]},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(Q,{class:"q-gutter-sm"},{default:a(()=>[e(P,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(P,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:_[5]||(_[5]=d=>t(j).get(p.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},wo=Object.freeze(Object.defineProperty({__proto__:null,default:yo},Symbol.toStringTag,{value:"Module"})),ko={class:"q-gutter-sm"},ho={class:"col col-lg-6 q-pa-sm"},$o={__name:"Editor",setup(f){const n=se(),c=(n.props.data.id?"Edit":"Catat")+" Transaksi Dompet Santri",{filteredCustomers:o,filterCustomersFn:s}=Ut(n.props.customers,!1),m=[{label:"Deposit (+)",value:"deposit"},{label:"Penarikan (-)",value:"withdrawal"},{label:"Pembelian (-)",value:"purchase"},{label:"Refund (+)",value:"refund"}],r=n.props.finance_accounts.map(_=>({label:_.name,value:_.id})),i=we({id:n.props.data.id,customer_id:n.props.data.customer_id,finance_account_id:n.props.data.finance_account_id,type:n.props.data.type,datetime:ze(n.props.data.datetime).format("YYYY-MM-DD HH:mm:ss"),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),p=()=>ke({form:i,url:route("admin.customer-wallet-transaction.save")});return(_,b)=>{const h=U("i-head"),d=U("authenticated-layout");return k(),T(Y,null,[e(h,{title:c}),e(d,null,{title:a(()=>[g(u(c))]),"left-button":a(()=>[l("div",ko,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=y=>_.$inertia.get(_.route("admin.customer-wallet-transaction.index")))})])]),default:a(()=>[e(be,{class:"row justify-center"},{default:a(()=>[l("div",ho,[e(he,{class:"row",onSubmit:W(p,["prevent"]),onValidationError:t(qe)},{default:a(()=>[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Q,{class:"q-pt-none"},{default:a(()=>[F(l("input",{type:"hidden",name:"id","onUpdate:modelValue":b[1]||(b[1]=y=>t(i).id=y)},null,512),[[Re,t(i).id]]),e(mt,{autofocus:"",modelValue:t(i).datetime,"onUpdate:modelValue":b[2]||(b[2]=y=>t(i).datetime=y),label:"Tanggal",error:!!t(i).errors.datetime,disable:t(i).processing},null,8,["modelValue","error","disable"]),e(Z,{class:"custom-select",modelValue:t(i).customer_id,"onUpdate:modelValue":b[3]||(b[3]=y=>t(i).customer_id=y),label:"Santri","use-input":"","input-debounce":"300",clearable:"",options:t(o),"map-options":"","emit-value":"",errorMessage:t(i).errors.customer_id,onFilter:t(s),error:!!t(i).errors.customer_id,disable:t(i).processing},{"no-option":a(()=>[e(K,null,{default:a(()=>[e(O,null,{default:a(()=>b[9]||(b[9]=[g("Santri tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(Z,{modelValue:t(i).type,"onUpdate:modelValue":b[4]||(b[4]=y=>t(i).type=y),label:"Jenis",options:m,"map-options":"","emit-value":"",error:!!t(i).errors.type,disable:t(i).processing,errorMessage:t(i).errors.type},null,8,["modelValue","error","disable","errorMessage"]),t(i).type=="deposit"||t(i).type=="withdrawal"?(k(),R(Z,{key:0,modelValue:t(i).finance_account_id,"onUpdate:modelValue":b[5]||(b[5]=y=>t(i).finance_account_id=y),label:t(i).type=="deposit"?"Kas Tujuan":"Kas Asal",options:t(r),"map-options":"","emit-value":"",error:!!t(i).errors.finance_account_id,disable:t(i).processing,errorMessage:t(i).errors.finance_account_id},null,8,["modelValue","label","options","error","disable","errorMessage"])):A("",!0),e(Me,{modelValue:t(i).amount,"onUpdate:modelValue":b[6]||(b[6]=y=>t(i).amount=y),label:"Jumlah",lazyRules:"",disable:t(i).processing,error:!!t(i).errors.amount,errorMessage:t(i).errors.amount,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),e(H,{modelValue:t(i).notes,"onUpdate:modelValue":b[7]||(b[7]=y=>t(i).notes=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(i).processing,error:!!t(i).errors.notes,"error-message":t(i).errors.notes,rules:[y=>y&&y.length>0||"Catatan harus diisi."]},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(Q,{class:"q-gutter-sm"},{default:a(()=>[e(P,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(i).processing},null,8,["disable"]),e(P,{icon:"cancel",label:"Batal",disable:t(i).processing,onClick:b[8]||(b[8]=y=>t(j).get(_.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},So=Object.freeze(Object.defineProperty({__proto__:null,default:$o},Symbol.toStringTag,{value:"Module"})),xo=["top","middle","bottom"],ft=ut({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:f=>xo.includes(f)}},setup(f,{slots:n}){const c=J(()=>f.align!==void 0?{verticalAlign:f.align}:null),o=J(()=>{const s=f.outline===!0&&f.color||f.textColor;return`q-badge flex inline items-center no-wrap q-badge--${f.multiLine===!0?"multi":"single"}-line`+(f.outline===!0?" q-badge--outline":f.color!==void 0?` bg-${f.color}`:"")+(s!==void 0?` text-${s}`:"")+(f.floating===!0?" q-badge--floating":"")+(f.rounded===!0?" q-badge--rounded":"")+(f.transparent===!0?" q-badge--transparent":"")});return()=>ge("div",{class:o.value,style:c.value,role:"status","aria-label":f.label},$a(n.default,f.label!==void 0?[f.label]:[]))}}),qo={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Vo={class:"q-pa-sm"},Co={class:"full-width row flex-center text-grey-8 q-gutter-sm"},To={class:"flex justify-end"},ea="Transaksi Dompet Santri",Po={__name:"Index",setup(f){const n=ce(),c=M(!1),o=M([]),s=M(!0),m=new Date().getFullYear(),r=new Date().getMonth()+1,i=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...ct(m-2,m-1).reverse()],p=[{value:"all",label:"Semua Bulan"},...pt()],_=xe({search:"",year:m,month:r,...Ve()}),b=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!0}),h=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"customer",label:"Santri",field:"customer",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];_e(()=>{y()});const d=N=>Ee({message:`Hapus transaksi #-${N.id}?`,url:route("admin.customer-wallet-transaction.delete",N.id),fetchItemsCallback:y,loading:s}),y=(N=null)=>{Ce({pagination:b,filter:_,props:N,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:s})},q=()=>{y()},v=J(()=>n.screen.gt.sm?h:h.filter(N=>N.name==="datetime"||N.name==="action"));return De(()=>_.year,N=>{N===null&&(_.month=null)}),(N,$)=>{const x=U("i-head"),S=U("authenticated-layout");return k(),T(Y,null,[e(x,{title:ea}),e(S,null,Oe({title:a(()=>[g(u(ea))]),"right-button":a(()=>[e(P,{icon:"add",dense:"",color:"primary",onClick:$[0]||($[0]=w=>t(j).get(N.route("admin.customer-wallet-transaction.add")))}),e(P,{class:"q-ml-sm",icon:c.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:$[1]||($[1]=w=>c.value=!c.value)},null,8,["icon"])]),default:a(()=>[l("div",Vo,[e(ve,{class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":$[6]||($[6]=w=>b.value=w),filter:_.search,loading:s.value,columns:v.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:y,"binary-state-sort":""},{loading:a(()=>[e(Te,{showing:"",color:"red"})]),"no-data":a(({icon:w,message:I,filter:C})=>[l("div",Co,[l("span",null,u(I)+" "+u(C?" with term "+C:""),1)])]),body:a(w=>[e(ye,{props:w},{default:a(()=>[e(E,{key:"datetime",props:w,class:"wrap-column"},{default:a(()=>[l("div",null,[g(" #"+u(w.row.id)+" - ",1),e(V,{name:"calendar_today"}),g(" "+u(w.row.datetime),1)]),l("div",null,[e(ft,null,{default:a(()=>[e(V,{name:"category"}),g(" "+u(w.row.type_label),1)]),_:2},1024),g(" : "+u(w.row.finance_account?w.row.finance_account.name:"-"),1)]),t(n).screen.gt.sm?A("",!0):(k(),T(Y,{key:0},[l("div",null,u(w.row.customer.username)+" - "+u(w.row.customer.name),1),l("div",null,[e(V,{name:"money"}),g(" Rp. "+u(t(Ye)(w.row.amount)+t(B)(w.row.amount)),1)]),l("div",null,[e(V,{name:"notes"}),g(" "+u(w.row.notes),1)])],64))]),_:2},1032,["props"]),e(E,{key:"customer",props:w},{default:a(()=>[g(u(w.row.customer.username)+" - "+u(w.row.customer.name),1)]),_:2},1032,["props"]),e(E,{key:"notes",props:w},{default:a(()=>[g(u(w.row.notes),1)]),_:2},1032,["props"]),e(E,{key:"amount",props:w,style:{"text-align":"right"}},{default:a(()=>[g(u(t(Ye)(w.row.amount)+t(B)(w.row.amount)),1)]),_:2},1032,["props"]),e(E,{key:"action",props:w},{default:a(()=>[l("div",To,[e(P,{disabled:!t(je)(N.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:$[5]||($[5]=W(()=>{},["stop"]))},{default:a(()=>[e(Ae,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e($e,{style:{width:"200px"}},{default:a(()=>[F((k(),R(K,{onClick:W(I=>d(w.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>$[7]||($[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[c.value?{name:"header",fn:a(()=>[e(Ne,{class:"filter-bar"},{default:a(()=>[l("div",qo,[e(Z,{modelValue:_.year,"onUpdate:modelValue":[$[2]||($[2]=w=>_.year=w),q],options:i,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(Z,{modelValue:_.month,"onUpdate:modelValue":[$[3]||($[3]=w=>_.month=w),q],options:p,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:_.year===null},null,8,["modelValue","disable"]),e(H,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:_.search,"onUpdate:modelValue":$[4]||($[4]=w=>_.search=w),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},Mo=Object.freeze(Object.defineProperty({__proto__:null,default:Po},Symbol.toStringTag,{value:"Module"}));let No=0;const Oo=["click","keydown"],Io={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${No++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Do(f,n,c,o){const s=Cl(Sa,xt);if(s===xt)return console.error("QTab/QRouteTab component needs to be child of QTabs"),xt;const{proxy:m}=kt(),r=M(null),i=M(null),p=M(null),_=J(()=>f.disable===!0||f.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},f.ripple===!0?{}:f.ripple)),b=J(()=>s.currentModel.value===f.name),h=J(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(b.value===!0?" q-tab--active"+(s.tabProps.value.activeClass?" "+s.tabProps.value.activeClass:"")+(s.tabProps.value.activeColor?` text-${s.tabProps.value.activeColor}`:"")+(s.tabProps.value.activeBgColor?` bg-${s.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(f.icon&&f.label&&s.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(f.noCaps===!0||s.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(f.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),d=J(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(s.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(f.contentClass!==void 0?` ${f.contentClass}`:"")),y=J(()=>f.disable===!0||s.hasFocus.value===!0||b.value===!1&&s.hasActiveTab.value===!0?-1:f.tabindex||0);function q(S,w){if(w!==!0&&r.value!==null&&r.value.focus(),f.disable!==!0){s.updateModel({name:f.name}),c("click",S);return}}function v(S){tl(S,[13,32])?q(S,!0):al(S)!==!0&&S.keyCode>=35&&S.keyCode<=40&&S.altKey!==!0&&S.metaKey!==!0&&s.onKbdNavigate(S.keyCode,m.$el)===!0&&vt(S),c("keydown",S)}function N(){const S=s.tabProps.value.narrowIndicator,w=[],I=ge("div",{ref:p,class:["q-tab__indicator",s.tabProps.value.indicatorClass]});f.icon!==void 0&&w.push(ge(V,{class:"q-tab__icon",name:f.icon})),f.label!==void 0&&w.push(ge("div",{class:"q-tab__label"},f.label)),f.alert!==!1&&w.push(f.alertIcon!==void 0?ge(V,{class:"q-tab__alert-icon",color:f.alert!==!0?f.alert:void 0,name:f.alertIcon}):ge("div",{class:"q-tab__alert"+(f.alert!==!0?` text-${f.alert}`:"")})),S===!0&&w.push(I);const C=[ge("div",{class:"q-focus-helper",tabindex:-1,ref:r}),ge("div",{class:d.value},$a(n.default,w))];return S===!1&&C.push(I),C}const $={name:J(()=>f.name),rootRef:i,tabIndicatorRef:p,routeData:o};qa(()=>{s.unregisterTab($)}),_e(()=>{s.registerTab($)});function x(S,w){const I={ref:i,class:h.value,tabindex:y.value,role:"tab","aria-selected":b.value===!0?"true":"false","aria-disabled":f.disable===!0?"true":void 0,onClick:q,onKeydown:v,...w};return F(ge(S,I,N()),[[X,_.value]])}return{renderTab:x,$tabs:s}}const ot=ut({name:"QTab",props:Io,emits:Oo,setup(f,{slots:n,emit:c}){const{renderTab:o}=Do(f,n,c);return()=>o("div")}});function Uo(f,n,c){const o=c===!0?["left","right"]:["top","bottom"];return`absolute-${n===!0?o[0]:o[1]}${f?` text-${f}`:""}`}const Ao=["left","center","right","justify"],At=ut({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:f=>Ao.includes(f)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(f,{slots:n,emit:c}){const{proxy:o}=kt(),{$q:s}=o,{registerTick:m}=qt(),{registerTick:r}=qt(),{registerTick:i}=qt(),{registerTimeout:p,removeTimeout:_}=Pt(),{registerTimeout:b,removeTimeout:h}=Pt(),d=M(null),y=M(null),q=M(f.modelValue),v=M(!1),N=M(!0),$=M(!1),x=M(!1),S=[],w=M(0),I=M(!1);let C=null,D=null,le;const L=J(()=>({activeClass:f.activeClass,activeColor:f.activeColor,activeBgColor:f.activeBgColor,indicatorClass:Uo(f.indicatorColor,f.switchIndicator,f.vertical),narrowIndicator:f.narrowIndicator,inlineLabel:f.inlineLabel,noCaps:f.noCaps})),re=J(()=>{const z=w.value,G=q.value;for(let oe=0;oe<z;oe++)if(S[oe].name.value===G)return!0;return!1}),Be=J(()=>`q-tabs__content--align-${v.value===!0?"left":x.value===!0?"justify":f.align}`),Se=J(()=>`q-tabs row no-wrap items-center q-tabs--${v.value===!0?"":"not-"}scrollable q-tabs--${f.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${f.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${f.mobileArrows===!0?"":"out"}-arrows`+(f.dense===!0?" q-tabs--dense":"")+(f.shrink===!0?" col-shrink":"")+(f.stretch===!0?" self-stretch":"")),Le=J(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+Be.value+(f.contentClass!==void 0?` ${f.contentClass}`:"")),te=J(()=>f.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),de=J(()=>f.vertical!==!0&&s.lang.rtl===!0),Ie=J(()=>Al===!1&&de.value===!0);De(de,tt),De(()=>f.modelValue,z=>{Fe({name:z,setCurrent:!0,skipEmit:!0})}),De(()=>f.outsideArrows,gt);function Fe({name:z,setCurrent:G,skipEmit:oe}){q.value!==z&&(oe!==!0&&f["onUpdate:modelValue"]!==void 0&&c("update:modelValue",z),(G===!0||f["onUpdate:modelValue"]===void 0)&&(Ya(q.value,z),q.value=z))}function gt(){m(()=>{jt({width:d.value.offsetWidth,height:d.value.offsetHeight})})}function jt(z){if(te.value===void 0||y.value===null)return;const G=z[te.value.container],oe=Math.min(y.value[te.value.scroll],Array.prototype.reduce.call(y.value.children,(fe,ue)=>fe+(ue[te.value.content]||0),0)),pe=G>0&&oe>G;v.value=pe,pe===!0&&r(tt),x.value=G<parseInt(f.breakpoint,10)}function Ya(z,G){const oe=z!=null&&z!==""?S.find(fe=>fe.name.value===z):null,pe=G!=null&&G!==""?S.find(fe=>fe.name.value===G):null;if(bt===!0)bt=!1;else if(oe&&pe){const fe=oe.tabIndicatorRef.value,ue=pe.tabIndicatorRef.value;C!==null&&(clearTimeout(C),C=null),fe.style.transition="none",fe.style.transform="none",ue.style.transition="none",ue.style.transform="none";const ie=fe.getBoundingClientRect(),Pe=ue.getBoundingClientRect();ue.style.transform=f.vertical===!0?`translate3d(0,${ie.top-Pe.top}px,0) scale3d(1,${Pe.height?ie.height/Pe.height:1},1)`:`translate3d(${ie.left-Pe.left}px,0,0) scale3d(${Pe.width?ie.width/Pe.width:1},1,1)`,i(()=>{C=setTimeout(()=>{C=null,ue.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",ue.style.transform="none"},70)})}pe&&v.value===!0&&et(pe.rootRef.value)}function et(z){const{left:G,width:oe,top:pe,height:fe}=y.value.getBoundingClientRect(),ue=z.getBoundingClientRect();let ie=f.vertical===!0?ue.top-pe:ue.left-G;if(ie<0){y.value[f.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(ie),tt();return}ie+=f.vertical===!0?ue.height-fe:ue.width-oe,ie>0&&(y.value[f.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(ie),tt())}function tt(){const z=y.value;if(z===null)return;const G=z.getBoundingClientRect(),oe=f.vertical===!0?z.scrollTop:Math.abs(z.scrollLeft);de.value===!0?(N.value=Math.ceil(oe+G.width)<z.scrollWidth-1,$.value=oe>0):(N.value=oe>0,$.value=f.vertical===!0?Math.ceil(oe+G.height)<z.scrollHeight:Math.ceil(oe+G.width)<z.scrollWidth)}function Bt(z){D!==null&&clearInterval(D),D=setInterval(()=>{Ka(z)===!0&&Ke()},5)}function zt(){Bt(Ie.value===!0?Number.MAX_SAFE_INTEGER:0)}function Lt(){Bt(Ie.value===!0?0:Number.MAX_SAFE_INTEGER)}function Ke(){D!==null&&(clearInterval(D),D=null)}function Ha(z,G){const oe=Array.prototype.filter.call(y.value.children,Pe=>Pe===G||Pe.matches&&Pe.matches(".q-tab.q-focusable")===!0),pe=oe.length;if(pe===0)return;if(z===36)return et(oe[0]),oe[0].focus(),!0;if(z===35)return et(oe[pe-1]),oe[pe-1].focus(),!0;const fe=z===(f.vertical===!0?38:37),ue=z===(f.vertical===!0?40:39),ie=fe===!0?-1:ue===!0?1:void 0;if(ie!==void 0){const Pe=de.value===!0?-1:1,He=oe.indexOf(G)+ie*Pe;return He>=0&&He<pe&&(et(oe[He]),oe[He].focus({preventScroll:!0})),!0}}const Fa=J(()=>Ie.value===!0?{get:z=>Math.abs(z.scrollLeft),set:(z,G)=>{z.scrollLeft=-G}}:f.vertical===!0?{get:z=>z.scrollTop,set:(z,G)=>{z.scrollTop=G}}:{get:z=>z.scrollLeft,set:(z,G)=>{z.scrollLeft=G}});function Ka(z){const G=y.value,{get:oe,set:pe}=Fa.value;let fe=!1,ue=oe(G);const ie=z<ue?-1:1;return ue+=ie*5,ue<0?(fe=!0,ue=0):(ie===-1&&ue<=z||ie===1&&ue>=z)&&(fe=!0,ue=z),pe(G,ue),tt(),fe}function Yt(z,G){for(const oe in z)if(z[oe]!==G[oe])return!1;return!0}function Qa(){let z=null,G={matchedLen:0,queryDiff:9999,hrefLen:0};const oe=S.filter(ie=>ie.routeData!==void 0&&ie.routeData.hasRouterLink.value===!0),{hash:pe,query:fe}=o.$route,ue=Object.keys(fe).length;for(const ie of oe){const Pe=ie.routeData.exact.value===!0;if(ie.routeData[Pe===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:He,query:$t,matched:Za,href:el}=ie.routeData.resolvedLink.value,St=Object.keys($t).length;if(Pe===!0){if(He!==pe||St!==ue||Yt(fe,$t)===!1)continue;z=ie.name.value;break}if(He!==""&&He!==pe||St!==0&&Yt($t,fe)===!1)continue;const Qe={matchedLen:Za.length,queryDiff:ue-St,hrefLen:el.length-He.length};if(Qe.matchedLen>G.matchedLen){z=ie.name.value,G=Qe;continue}else if(Qe.matchedLen!==G.matchedLen)continue;if(Qe.queryDiff<G.queryDiff)z=ie.name.value,G=Qe;else if(Qe.queryDiff!==G.queryDiff)continue;Qe.hrefLen>G.hrefLen&&(z=ie.name.value,G=Qe)}if(z===null&&S.some(ie=>ie.routeData===void 0&&ie.name.value===q.value)===!0){bt=!1;return}Fe({name:z,setCurrent:!0})}function Wa(z){if(_(),I.value!==!0&&d.value!==null&&z.target&&typeof z.target.closest=="function"){const G=z.target.closest(".q-tab");G&&d.value.contains(G)===!0&&(I.value=!0,v.value===!0&&et(G))}}function Ja(){p(()=>{I.value=!1},30)}function rt(){Ft.avoidRouteWatcher===!1?b(Qa):h()}function Ht(){if(le===void 0){const z=De(()=>o.$route.fullPath,rt);le=()=>{z(),le=void 0}}}function Ga(z){S.push(z),w.value++,gt(),z.routeData===void 0||o.$route===void 0?b(()=>{if(v.value===!0){const G=q.value,oe=G!=null&&G!==""?S.find(pe=>pe.name.value===G):null;oe&&et(oe.rootRef.value)}}):(Ht(),z.routeData.hasRouterLink.value===!0&&rt())}function Xa(z){S.splice(S.indexOf(z),1),w.value--,gt(),le!==void 0&&z.routeData!==void 0&&(S.every(G=>G.routeData===void 0)===!0&&le(),rt())}const Ft={currentModel:q,tabProps:L,hasFocus:I,hasActiveTab:re,registerTab:Ga,unregisterTab:Xa,verifyRouteModel:rt,updateModel:Fe,onKbdNavigate:Ha,avoidRouteWatcher:!1};Ml(Sa,Ft);function Kt(){C!==null&&clearTimeout(C),Ke(),le!==void 0&&le()}let Qt,bt;return qa(Kt),Tl(()=>{Qt=le!==void 0,Kt()}),Pl(()=>{Qt===!0&&(Ht(),bt=!0,rt()),gt()}),()=>ge("div",{ref:d,class:Se.value,role:"tablist",onFocusin:Wa,onFocusout:Ja},[ge(ll,{onResize:jt}),ge("div",{ref:y,class:Le.value,onScroll:tt},wt(n.default)),ge(V,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(N.value===!0?"":" q-tabs__arrow--faded"),name:f.leftIcon||s.iconSet.tabs[f.vertical===!0?"up":"left"],onMousedownPassive:zt,onTouchstartPassive:zt,onMouseupPassive:Ke,onMouseleavePassive:Ke,onTouchendPassive:Ke}),ge(V,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+($.value===!0?"":" q-tabs__arrow--faded"),name:f.rightIcon||s.iconSet.tabs[f.vertical===!0?"down":"right"],onMousedownPassive:Lt,onTouchstartPassive:Lt,onMouseupPassive:Ke,onMouseleavePassive:Ke,onTouchendPassive:Ke})])}});function Eo(f){const n=[.06,6,50];return typeof f=="string"&&f.length&&f.split(":").forEach((c,o)=>{const s=parseFloat(c);s&&(n[o]=s)}),n}const Ro=ol({name:"touch-swipe",beforeMount(f,{value:n,arg:c,modifiers:o}){if(o.mouse!==!0&&it.has.touch!==!0)return;const s=o.mouseCapture===!0?"Capture":"",m={handler:n,sensitivity:Eo(c),direction:Wt(o),noop:nl,mouseStart(r){Gt(r,m)&&rl(r)&&(_t(m,"temp",[[document,"mousemove","move",`notPassive${s}`],[document,"mouseup","end","notPassiveCapture"]]),m.start(r,!0))},touchStart(r){if(Gt(r,m)){const i=r.target;_t(m,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","notPassiveCapture"],[i,"touchend","end","notPassiveCapture"]]),m.start(r)}},start(r,i){it.is.firefox===!0&&Ct(f,!0);const p=Jt(r);m.event={x:p.left,y:p.top,time:Date.now(),mouse:i===!0,dir:!1}},move(r){if(m.event===void 0)return;if(m.event.dir!==!1){vt(r);return}const i=Date.now()-m.event.time;if(i===0)return;const p=Jt(r),_=p.left-m.event.x,b=Math.abs(_),h=p.top-m.event.y,d=Math.abs(h);if(m.event.mouse!==!0){if(b<m.sensitivity[1]&&d<m.sensitivity[1]){m.end(r);return}}else if(window.getSelection().toString()!==""){m.end(r);return}else if(b<m.sensitivity[2]&&d<m.sensitivity[2])return;const y=b/i,q=d/i;m.direction.vertical===!0&&b<d&&b<100&&q>m.sensitivity[0]&&(m.event.dir=h<0?"up":"down"),m.direction.horizontal===!0&&b>d&&d<100&&y>m.sensitivity[0]&&(m.event.dir=_<0?"left":"right"),m.direction.up===!0&&b<d&&h<0&&b<100&&q>m.sensitivity[0]&&(m.event.dir="up"),m.direction.down===!0&&b<d&&h>0&&b<100&&q>m.sensitivity[0]&&(m.event.dir="down"),m.direction.left===!0&&b>d&&_<0&&d<100&&y>m.sensitivity[0]&&(m.event.dir="left"),m.direction.right===!0&&b>d&&_>0&&d<100&&y>m.sensitivity[0]&&(m.event.dir="right"),m.event.dir!==!1?(vt(r),m.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),sl(),m.styleCleanup=v=>{m.styleCleanup=void 0,document.body.classList.remove("non-selectable");const N=()=>{document.body.classList.remove("no-pointer-events--children")};v===!0?setTimeout(N,50):N()}),m.handler({evt:r,touch:m.event.mouse!==!0,mouse:m.event.mouse,direction:m.event.dir,duration:i,distance:{x:b,y:d}})):m.end(r)},end(r){m.event!==void 0&&(Vt(m,"temp"),it.is.firefox===!0&&Ct(f,!1),m.styleCleanup!==void 0&&m.styleCleanup(!0),r!==void 0&&m.event.dir!==!1&&vt(r),m.event=void 0)}};if(f.__qtouchswipe=m,o.mouse===!0){const r=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";_t(m,"main",[[f,"mousedown","mouseStart",`passive${r}`]])}it.has.touch===!0&&_t(m,"main",[[f,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[f,"touchmove","noop","notPassiveCapture"]])},updated(f,n){const c=f.__qtouchswipe;c!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&c.end(),c.handler=n.value),c.direction=Wt(n.modifiers))},beforeUnmount(f){const n=f.__qtouchswipe;n!==void 0&&(Vt(n,"main"),Vt(n,"temp"),it.is.firefox===!0&&Ct(f,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete f.__qtouchswipe)}}),jo={name:{required:!0},disable:Boolean},ta={setup(f,{slots:n}){return()=>ge("div",{class:"q-panel scroll",role:"tabpanel"},wt(n.default))}},Bo={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},zo=["update:modelValue","beforeTransition","transition"];function Lo(){const{props:f,emit:n,proxy:c}=kt(),{getCache:o}=El(),{registerTimeout:s}=Pt();let m,r;const i=M(null),p=M(null);function _(te){const de=f.vertical===!0?"up":"left";le((c.$q.lang.rtl===!0?-1:1)*(te.direction===de?1:-1))}const b=J(()=>[[Ro,_,void 0,{horizontal:f.vertical!==!0,vertical:f.vertical,mouse:!0}]]),h=J(()=>f.transitionPrev||`slide-${f.vertical===!0?"down":"right"}`),d=J(()=>f.transitionNext||`slide-${f.vertical===!0?"up":"left"}`),y=J(()=>`--q-transition-duration: ${f.transitionDuration}ms`),q=J(()=>typeof f.modelValue=="string"||typeof f.modelValue=="number"?f.modelValue:String(f.modelValue)),v=J(()=>({include:f.keepAliveInclude,exclude:f.keepAliveExclude,max:f.keepAliveMax})),N=J(()=>f.keepAliveInclude!==void 0||f.keepAliveExclude!==void 0);De(()=>f.modelValue,(te,de)=>{const Ie=w(te)===!0?I(te):-1;r!==!0&&D(Ie===-1?0:Ie<I(de)?-1:1),i.value!==Ie&&(i.value=Ie,n("beforeTransition",te,de),s(()=>{n("transition",te,de)},f.transitionDuration))});function $(){le(1)}function x(){le(-1)}function S(te){n("update:modelValue",te)}function w(te){return te!=null&&te!==""}function I(te){return m.findIndex(de=>de.props.name===te&&de.props.disable!==""&&de.props.disable!==!0)}function C(){return m.filter(te=>te.props.disable!==""&&te.props.disable!==!0)}function D(te){const de=te!==0&&f.animated===!0&&i.value!==-1?"q-transition--"+(te===-1?h.value:d.value):null;p.value!==de&&(p.value=de)}function le(te,de=i.value){let Ie=de+te;for(;Ie!==-1&&Ie<m.length;){const Fe=m[Ie];if(Fe!==void 0&&Fe.props.disable!==""&&Fe.props.disable!==!0){D(te),r=!0,n("update:modelValue",Fe.props.name),setTimeout(()=>{r=!1});return}Ie+=te}f.infinite===!0&&m.length!==0&&de!==-1&&de!==m.length&&le(te,te===-1?m.length:-1)}function L(){const te=I(f.modelValue);return i.value!==te&&(i.value=te),!0}function re(){const te=w(f.modelValue)===!0&&L()&&m[i.value];return f.keepAlive===!0?[ge(Ol,v.value,[ge(N.value===!0?o(q.value,()=>({...ta,name:q.value})):ta,{key:q.value,style:y.value},()=>te)])]:[ge("div",{class:"q-panel scroll",style:y.value,key:q.value,role:"tabpanel"},[te])]}function Be(){if(m.length!==0)return f.animated===!0?[ge(Nl,{name:p.value},re)]:re()}function Se(te){return m=il(wt(te.default,[])).filter(de=>de.props!==null&&de.props.slot===void 0&&w(de.props.name)===!0),m.length}function Le(){return m}return Object.assign(c,{next:$,previous:x,goTo:S}),{panelIndex:i,panelDirectives:b,updatePanelsList:Se,updatePanelIndex:L,getPanelContent:Be,getEnabledPanels:C,getPanels:Le,isValidPanelName:w,keepAliveProps:v,needsUniqueKeepAliveWrapper:N,goToPanelByOffset:le,goToPanel:S,nextPanel:$,previousPanel:x}}const nt=ut({name:"QTabPanel",props:jo,setup(f,{slots:n}){return()=>ge("div",{class:"q-tab-panel",role:"tabpanel"},wt(n.default))}}),Et=ut({name:"QTabPanels",props:{...Bo,...ul},emits:zo,setup(f,{slots:n}){const c=kt(),o=dl(f,c.proxy.$q),{updatePanelsList:s,getPanelContent:m,panelDirectives:r}=Lo(),i=J(()=>"q-tab-panels q-panel-parent"+(o.value===!0?" q-tab-panels--dark q-dark":""));return()=>(s(n),ml("div",{class:i.value},m(),"pan",f.swipeable,()=>r.value))}}),Yo={class:"q-gutter-sm"},Ho={class:"q-gutter-sm"},Fo={class:"col col-lg-6 q-pa-sm"},Ko={class:"row"},Qo={class:"detail"},Wo={key:0},Jo={class:"text-grey-8"},Go={key:1},Xo={class:"text-grey-8"},Zo={key:2},en={class:"full-width row flex-center text-grey-8 q-gutter-sm"},tn={class:"text-grey-8"},aa="Rincian Santri",an={__name:"Detail",setup(f){const n=se(),c=M("main"),o=M([]),s=M(!0),m=xe({customer_id:n.props.data.id,...Ve()}),r=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),i=[{name:"id",label:"#",field:"id",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah",field:"amount",align:"right"}];_e(()=>{p()});const p=(h=null)=>Ce({pagination:r,filter:m,props:h,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:s}),_=ce(),b=J(()=>_.screen.gt.sm?i:i.filter(h=>h.name==="id"));return(h,d)=>{const y=U("i-head"),q=U("authenticated-layout");return k(),T(Y,null,[e(y,{title:aa}),e(q,null,{title:a(()=>[g(u(aa))]),"left-button":a(()=>[l("div",Yo,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=v=>h.$inertia.get(h.route("admin.customer.index")))})])]),"right-button":a(()=>[l("div",Ho,[e(P,{icon:"edit",dense:"",color:"primary",onClick:d[1]||(d[1]=v=>h.$inertia.get(h.route("admin.customer.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(be,{class:"row justify-center"},{default:a(()=>[l("div",Fo,[l("div",Ko,[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(At,{modelValue:c.value,"onUpdate:modelValue":d[2]||(d[2]=v=>c.value=v),align:"left"},{default:a(()=>[e(ot,{name:"main",label:"Info Utama"}),e(ot,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(Et,{modelValue:c.value,"onUpdate:modelValue":d[4]||(d[4]=v=>c.value=v)},{default:a(()=>[e(nt,{name:"main"},{default:a(()=>[l("table",Qo,[l("tbody",null,[d[28]||(d[28]=l("tr",null,[l("td",{colspan:"3"},[l("div",{class:"text-bold text-grey-8"},"Info Pelanggan")])],-1)),l("tr",null,[d[5]||(d[5]=l("td",{style:{width:"120px"}},"Username",-1)),d[6]||(d[6]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.username),1)]),l("tr",null,[d[7]||(d[7]=l("td",null,"Jenis",-1)),d[8]||(d[8]=l("td",null,":",-1)),l("td",null,u(h.$CONSTANTS.CUSTOMER_TYPES[t(n).props.data.type]),1)]),l("tr",null,[d[9]||(d[9]=l("td",null,"Nama",-1)),d[10]||(d[10]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[d[11]||(d[11]=l("td",null,"No. Telepon",-1)),d[12]||(d[12]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.phone),1)]),l("tr",null,[d[13]||(d[13]=l("td",null,"Alamat",-1)),d[14]||(d[14]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.address),1)]),l("tr",null,[d[15]||(d[15]=l("td",null,"Saldo",-1)),d[16]||(d[16]=l("td",null,":",-1)),l("td",null,"Rp. "+u(t(B)(t(n).props.data.balance)),1)]),l("tr",null,[d[17]||(d[17]=l("td",null,"Status",-1)),d[18]||(d[18]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),d[29]||(d[29]=l("tr",null,[l("td",{colspan:"3"},[l("div",{class:"text-bold text-grey-8 q-mt-md"},"Info Akun")])],-1)),t(n).props.data.created_at?(k(),T("tr",Wo,[d[19]||(d[19]=l("td",null,"Dibuat",-1)),d[20]||(d[20]=l("td",null,":",-1)),l("td",null,[g(u(t(Mt)(t(n).props.data.created_at))+" ",1),l("span",Jo,"("+u(t(Nt)(t(n).props.data.created_at))+")",1)])])):A("",!0),t(n).props.data.updated_at?(k(),T("tr",Go,[d[21]||(d[21]=l("td",null,"Diperbarui",-1)),d[22]||(d[22]=l("td",null,":",-1)),l("td",null,[g(u(t(Mt)(t(n).props.data.updated_at))+" ",1),l("span",Xo,"("+u(t(Nt)(t(n).props.data.updated_at))+")",1)])])):A("",!0),l("tr",null,[d[23]||(d[23]=l("td",null,"Terakhir login",-1)),d[24]||(d[24]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.last_login_datetime?h.$dayjs(new Date(t(n).props.data.last_login_datetime)).format("DD MMMM YY HH:mm:ss"):"Belum pernah login"),1)]),t(n).props.data.last_activity_datetime?(k(),T("tr",Zo,[d[26]||(d[26]=l("td",null,"Aktifitas Terakhir",-1)),d[27]||(d[27]=l("td",null,":",-1)),l("td",null,[g(u(h.$dayjs(new Date(t(n).props.data.last_activity_datetime)).format("DD MMMM YY HH:mm:ss"))+" ",1),d[25]||(d[25]=l("br",null,null,-1)),g(u(t(n).props.data.last_activity_description),1)])])):A("",!0)])])]),_:1}),e(nt,{name:"history"},{default:a(()=>[e(ve,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":d[3]||(d[3]=v=>r.value=v),filter:m.search,loading:s.value,columns:b.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:p,"binary-state-sort":""},{loading:a(()=>[e(Te,{showing:"",color:"red"})]),"no-data":a(({icon:v,message:N,filter:$})=>[l("div",en,[l("span",null,u(N)+" "+u($?" with term "+$:""),1)])]),body:a(v=>[e(ye,{props:v},{default:a(()=>[e(E,{key:"id",props:v},{default:a(()=>[l("div",null,[l("b",null,"#"+u(v.row.id),1),g("- "+u(h.$dayjs(new Date(v.row.created_at)).format("DD/MM/YYYY hh:mm:ss")),1)]),e(ft,{size:"xs"},{default:a(()=>[e(V,{name:"category"}),g(" "+u(v.row.type_label),1)]),_:2},1024),t(_).screen.lt.md?(k(),T(Y,{key:0},[l("div",null,[e(V,{name:"money"}),l("span",{class:me(v.row.amount<0?"text-red-10":v.row.amount>0?"text-green-10":"")},u(t(Ye)(v.row.amount))+" "+u(t(B)(v.row.amount)),3)]),l("div",tn,[e(V,{name:"notes"}),g(" "+u(v.row.notes),1)])],64)):A("",!0)]),_:2},1032,["props"]),e(E,{key:"notes",props:v},{default:a(()=>[g(u(v.row.notes),1)]),_:2},1032,["props"]),e(E,{key:"amount",props:v},{default:a(()=>[l("div",{class:me(v.row.amount<0?"text-red-10":v.row.amount>0?"text-green-10":"")},u(t(Ye)(v.row.amount))+" "+u(t(B)(v.row.amount)),3)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},ln=Object.freeze(Object.defineProperty({__proto__:null,default:an},Symbol.toStringTag,{value:"Module"})),on={class:"q-gutter-sm"},nn={class:"col col-lg-6 q-pa-sm"},sn={style:{"margin-left":"-10px"}},rn={__name:"Editor",setup(f){const n=se(),c=(n.props.data.id?"Edit":"Tambah")+" Santri",o=we({id:n.props.data.id,username:n.props.data.username,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,active:!!n.props.data.active,password:n.props.data.password}),s=()=>ke({form:o,url:route("admin.customer.save")});return(m,r)=>{const i=U("i-head"),p=U("authenticated-layout");return k(),T(Y,null,[e(i,{title:c}),e(p,null,{title:a(()=>[g(u(c))]),"left-button":a(()=>[l("div",on,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=_=>m.$inertia.get(m.route("admin.customer.index")))})])]),default:a(()=>[e(be,{class:"row justify-center"},{default:a(()=>[l("div",nn,[e(he,{class:"row",onSubmit:W(s,["prevent"]),onValidationError:t(qe)},{default:a(()=>[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Q,null,{default:a(()=>r[9]||(r[9]=[l("div",{class:"text-subtitle1"},"Info Santri",-1)])),_:1}),e(Q,{class:"q-pt-none"},{default:a(()=>[F(l("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=_=>t(o).id=_)},null,512),[[Re,t(o).id]]),e(H,{autofocus:"",modelValue:t(o).username,"onUpdate:modelValue":r[2]||(r[2]=_=>t(o).username=_),modelModifiers:{trim:!0},label:"NIS","lazy-rules":"",error:!!t(o).errors.username,disable:t(o).processing,"error-message":t(o).errors.username,rules:[_=>_&&_.length>0||"NIS harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(H,{modelValue:t(o).name,"onUpdate:modelValue":r[3]||(r[3]=_=>t(o).name=_),modelModifiers:{trim:!0},label:"Nama Santri","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(H,{modelValue:t(o).phone,"onUpdate:modelValue":r[4]||(r[4]=_=>t(o).phone=_),modelModifiers:{trim:!0},type:"text",label:"No HP","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.phone,"error-message":t(o).errors.phone,rules:[_=>_&&_.length>0||"No HP harus diisi."]},null,8,["modelValue","disable","error","error-message","rules"]),e(H,{modelValue:t(o).address,"onUpdate:modelValue":r[5]||(r[5]=_=>t(o).address=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Alamat","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.address,"error-message":t(o).errors.address,rules:[_=>_&&_.length>0||"Alamat harus diisi."]},null,8,["modelValue","disable","error","error-message","rules"]),e(H,{modelValue:t(o).password,"onUpdate:modelValue":r[6]||(r[6]=_=>t(o).password=_),type:"password",label:"Kata Sandi (Isi untuk mengatur ulang kata sandi)","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.password,"error-message":t(o).errors.password},null,8,["modelValue","disable","error","error-message"]),l("div",sn,[e(Xe,{class:"full-width q-pl-none",modelValue:t(o).active,"onUpdate:modelValue":r[7]||(r[7]=_=>t(o).active=_),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"])])]),_:1}),e(Q,{class:"q-gutter-sm"},{default:a(()=>[e(P,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(P,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[8]||(r[8]=_=>t(j).get(m.route("admin.customer.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},un=Object.freeze(Object.defineProperty({__proto__:null,default:rn},Symbol.toStringTag,{value:"Module"})),dn={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},mn={class:"q-pa-sm"},cn={class:"full-width row flex-center text-grey-8 q-gutter-sm"},pn={class:"flex justify-end"},la="Santri",fn={__name:"Index",setup(f){const n=ce(),c=M(!1),o=M([]),s=M(!0),m=xe({search:"",status:"active",...Ve()}),r=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),i=[{name:"username",label:"NIS",field:"username",align:"left",sortable:!0},,{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right",sortable:!0},{name:"phone",label:"No HP",field:"phone",align:"left",sortable:!0},{name:"address",label:"Alamat",field:"address",align:"left",sortable:!0},{name:"action",align:"right"}],p=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];_e(()=>{b()});const _=q=>Ee({message:`Hapus Santri ${q.name}?`,url:route("admin.customer.delete",q.id),fetchItemsCallback:b,loading:s}),b=(q=null)=>{Ce({pagination:r,filter:m,props:q,rows:o,url:route("admin.customer.data"),loading:s})},h=()=>b(),d=q=>j.get(route("admin.customer.detail",{id:q.id})),y=J(()=>n.screen.gt.sm?i:i.filter(q=>q.name==="username"||q.name==="action"));return(q,v)=>{const N=U("i-head"),$=U("authenticated-layout");return k(),T(Y,null,[e(N,{title:la}),e($,null,Oe({title:a(()=>[g(u(la))]),"right-button":a(()=>[e(P,{icon:"add",dense:"",color:"primary",onClick:v[0]||(v[0]=x=>t(j).get(q.route("admin.customer.add")))}),e(P,{class:"q-ml-sm",icon:c.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:v[1]||(v[1]=x=>c.value=!c.value)},null,8,["icon"])]),default:a(()=>[l("div",mn,[e(ve,{class:"full-height-table",ref:"tableRef",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":v[5]||(v[5]=x=>r.value=x),filter:m.search,loading:s.value,columns:y.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:b,"binary-state-sort":""},{loading:a(()=>[e(Te,{showing:"",color:"red"})]),"no-data":a(({icon:x,message:S,filter:w})=>[l("div",cn,[l("span",null,u(S)+" "+u(w?" with term "+w:""),1)])]),body:a(x=>[e(ye,{props:x,class:me([x.row.active?"":"bg-red-1","cursor-pointer"]),onClick:S=>d(x.row)},{default:a(()=>[e(E,{key:"username",props:x,class:"wrap-column"},{default:a(()=>[l("div",null,[t(n).screen.lt.md?(k(),R(V,{key:0,name:"person"})):A("",!0),g(" "+u(x.row.username),1)]),t(n).screen.lt.md?(k(),T(Y,{key:0},[l("div",null,[t(n).screen.lt.md?(k(),R(V,{key:0,name:"person"})):A("",!0),g(" "+u(x.row.name),1)]),l("div",null,[e(V,{name:"phone"}),g(" "+u(x.row.phone),1)]),l("div",null,[e(V,{name:"home_pin"}),g(" "+u(x.row.address),1)]),l("div",null,[e(V,{name:"wallet"}),g(" Rp. "+u(t(B)(x.row.balance)),1)])],64)):A("",!0)]),_:2},1032,["props"]),e(E,{key:"name",props:x},{default:a(()=>[g(u(x.row.name),1)]),_:2},1032,["props"]),e(E,{key:"balance",props:x},{default:a(()=>[g(u(t(B)(x.row.balance)),1)]),_:2},1032,["props"]),e(E,{key:"phone",props:x},{default:a(()=>[g(u(x.row.phone),1)]),_:2},1032,["props"]),e(E,{key:"address",props:x},{default:a(()=>[g(u(x.row.address),1)]),_:2},1032,["props"]),e(E,{key:"action",props:x},{default:a(()=>[l("div",pn,[e(P,{disabled:!t(je)(q.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:v[4]||(v[4]=W(()=>{},["stop"]))},{default:a(()=>[e(Ae,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e($e,{style:{width:"200px"}},{default:a(()=>[F((k(),R(K,{clickable:"",onClick:W(S=>t(j).get(q.route("admin.customer.edit",x.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"edit"})]),_:1}),e(O,{icon:"edit"},{default:a(()=>v[6]||(v[6]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]]),F((k(),R(K,{onClick:W(S=>_(x.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>v[7]||(v[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[c.value?{name:"header",fn:a(()=>[e(Ne,{class:"filter-bar"},{default:a(()=>[l("div",dn,[e(Z,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:m.status,"onUpdate:modelValue":[v[2]||(v[2]=x=>m.status=x),h],options:p,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(H,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":v[3]||(v[3]=x=>m.search=x),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},gn=Object.freeze(Object.defineProperty({__proto__:null,default:fn},Symbol.toStringTag,{value:"Module"})),bn={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},_n={class:"q-pa-sm"},vn={class:"q-pa-none"},yn={class:"q-pb-sm"},wn={class:"row q-col-gutter-sm"},kn={class:"row items-center no-wrap"},hn={class:"q-ml-md"},$n={class:"text-subtitle2 text-grey-8"},Sn={class:"text-h6 text-weight-bold"},xn={class:"row q-col-gutter-sm q-pb-sm"},qn={class:"col-md-6 col-12"},Vn={class:"col-md-6 col-12"},Cn={class:"row q-col-gutter-sm q-pb-sm"},Tn={class:"col-md-6 col-12"},Pn={class:"col-md-6 col-12"},oa="Dashboard",Mn={__name:"Index",setup(f){Kl([Ql,Wl,Jl,Gl,Xl,Zl,eo]);const n=M({summary:{total_santri:1500,active_santri:1450,total_sales:155e5,total_transactions:1250,total_wallet_balance:55e6,total_topup:75e6,total_purchase:85e6,total_withdrawal:65e6},top_customers_sales:[{name:"Wildan Medina",value:1822e3},{name:"Syafiq",value:1754500},{name:"Umar",value:1534e3},{name:"Fauzan",value:1212e3},{name:"Rizky",value:981500}],top_customers_topup:[{name:"Abdullah",value:175e4},{name:"Abdurrahman",value:15e5},{name:"Zayd",value:125e4},{name:"Syafiq",value:8e5},{name:"Umar",value:65e4}],monthly_sales:{labels:["Jan","Feb","Mar","Apr","Mei","Jun"],data:[14123e3,21344e3,15155e3,17128e3,12557e3,12723e3]},transaction_type_distribution:[{value:500,name:"Deposit"},{value:350,name:"Purchase"},{value:200,name:"Withdrawal"},{value:200,name:"Refund"}]}),c=M(!1),o=M(Ve().month??"this_month"),s=M([{value:"this_month",label:"Bulan Ini"},{value:"prev_month",label:"1 Bulan Sebelumnya"},{value:"prev_2month",label:"2 Bulan Sebelumnya"},{value:"prev_3month",label:"3 Bulan Sebelumnya"}]),m=()=>{j.visit(route("admin.dashboard",{month:o.value}))},r=["#82B1FF","#4DB6AC","#FFB74D","#9575CD"],i=J(()=>({title:{text:"Penjualan Bulanan",left:"center"},tooltip:{trigger:"axis",formatter:function(b){let h=b[0].name+"<br/>";return b.forEach(function(d){h+=d.marker+" "+d.seriesName+": "+B(d.value)+"<br/>"}),h}},xAxis:{type:"category",data:n.value.monthly_sales.labels,axisLabel:{color:"#616161"}},yAxis:{type:"value",axisLabel:{formatter:b=>B(b),color:"#616161"}},series:[{name:"Penjualan",type:"bar",data:n.value.monthly_sales.data,itemStyle:{borderRadius:[5,5,0,0],color:r[0]}}]})),p=J(()=>({title:{text:"Distribusi Jenis Transaksi",left:"center"},tooltip:{trigger:"item",formatter:function(b){return b.name+"<br/>"+b.seriesName+": "+B(b.value)+" ("+b.percent+"%)"}},legend:{orient:"vertical",left:"left",textStyle:{color:"#616161"}},series:[{name:"Jumlah Transaksi",type:"pie",radius:["40%","70%"],data:n.value.transaction_type_distribution,itemStyle:{borderRadius:5,borderColor:"#fff",borderWidth:2,color:b=>r[b.dataIndex%r.length]},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})),_=M([{label:"Total Santri",value:J(()=>n.value.summary.total_santri),icon:"groups",color:"primary",bgColor:"#e3f2fd"},{label:"Total Penjualan",value:J(()=>B(n.value.summary.total_sales)),icon:"shopping_cart",color:"green-7",bgColor:"#e8f5e9"},{label:"Saldo Dompet Santri",value:J(()=>B(n.value.summary.total_wallet_balance)),icon:"account_balance_wallet",color:"orange-9",bgColor:"#fff3e0"},{label:"Total Transaksi",value:J(()=>B(n.value.summary.total_transactions)),icon:"swap_horiz",color:"purple-8",bgColor:"#f3e5f5"}]);return(b,h)=>{const d=U("i-head"),y=U("authenticated-layout");return k(),T(Y,null,[e(d,{title:oa}),e(y,null,Oe({title:a(()=>[g(u(oa))]),"right-button":a(()=>[e(P,{class:"q-ml-sm",icon:c.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:h[0]||(h[0]=q=>c.value=!c.value)},null,8,["icon"])]),default:a(()=>[l("div",_n,[l("div",vn,[l("div",yn,[h[2]||(h[2]=l("div",{class:"text-h6 text-bold text-grey-8 q-mb-sm"}," Statistik Ringkasan ",-1)),l("div",wn,[(k(!0),T(Y,null,lt(_.value,(q,v)=>(k(),T("div",{key:v,class:"col-12 col-md-3"},[e(ee,{square:"",bordered:"",flat:"",class:"q-pa-md",style:{width:"100%"}},{default:a(()=>[l("div",kn,[e(Ge,{icon:q.icon,color:q.color,"text-color":q.bgColor},null,8,["icon","color","text-color"]),l("div",hn,[l("div",$n,u(q.label),1),l("div",Sn,u(q.value),1)])])]),_:2},1024)]))),128))])])]),l("div",xn,[l("div",qn,[e(ee,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:a(()=>[h[3]||(h[3]=l("div",{class:"text-h6 q-pb-sm"},"Penjualan Bulanan",-1)),e(t(yt),{class:"chart",option:i.value,autoresize:""},null,8,["option"])]),_:1})]),l("div",Vn,[e(ee,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:a(()=>[h[4]||(h[4]=l("div",{class:"text-h6 q-pb-sm"},"Distribusi Transaksi",-1)),e(t(yt),{class:"chart",option:p.value,autoresize:""},null,8,["option"])]),_:1})])]),l("div",Cn,[l("div",Tn,[e(ee,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:a(()=>[h[5]||(h[5]=l("div",{class:"text-h6 q-mb-sm"},"Top 5 Pembelian Santri",-1)),e($e,{separator:""},{default:a(()=>[(k(!0),T(Y,null,lt(n.value.top_customers_sales,(q,v)=>(k(),R(K,{key:v},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(Ge,{color:"primary","text-color":"white",size:"sm"},{default:a(()=>[g(u(v+1),1)]),_:2},1024)]),_:2},1024),e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>[g(u(q.name),1)]),_:2},1024)]),_:2},1024),e(O,{side:""},{default:a(()=>[e(ne,{class:"text-primary"},{default:a(()=>[g(u(t(B)(q.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),l("div",Pn,[e(ee,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:a(()=>[h[6]||(h[6]=l("div",{class:"text-h6 q-mb-sm"},"Top 5 Top Up Santri",-1)),e($e,{separator:""},{default:a(()=>[(k(!0),T(Y,null,lt(n.value.top_customers_topup,(q,v)=>(k(),R(K,{key:v},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(Ge,{color:"green-7","text-color":"white",size:"sm"},{default:a(()=>[g(u(v+1),1)]),_:2},1024)]),_:2},1024),e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>[g(u(q.name),1)]),_:2},1024)]),_:2},1024),e(O,{side:""},{default:a(()=>[e(ne,{class:"text-green-7"},{default:a(()=>[g(u(t(B)(q.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])]),_:2},[c.value?{name:"header",fn:a(()=>[e(Ne,{class:"filter-bar"},{default:a(()=>[l("div",bn,[e(Z,{class:"custom-select col-12",style:{"min-width":"150px"},modelValue:o.value,"onUpdate:modelValue":[h[1]||(h[1]=q=>o.value=q),m],options:s.value,label:"Bulan",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue","options"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},Nn=Ze(Mn,[["__scopeId","data-v-45790296"]]),On=Object.freeze(Object.defineProperty({__proto__:null,default:Nn},Symbol.toStringTag,{value:"Module"})),In={class:"row q-col-gutter-sm"},Dn={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},Un={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},An={__name:"ChartCard",setup(f){const n=se(),c={tooltip:{show:!0},title:{text:"Servis Diterima vs Sukses vs Gagal",textStyle:{color:"#444"},left:"center"},legend:{top:"10%",data:[n.props.data.chart1_data.data[0].label,n.props.data.chart1_data.data[1].label,n.props.data.chart1_data.data[2].label]},grid:{containLabel:!0,left:"5px",bottom:"5px",right:"5px"},xAxis:{show:!0,type:"category",data:n.props.data.chart1_data.x_axis_label_data,axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{show:!0,color:"#ccc",type:"dashed"}},axisLabel:{show:!0},boundaryGap:!0},yAxis:{show:!0,type:"value",axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisLabel:{show:!0},splitLine:{lineStyle:{type:"dashed",color:"#ccc"}},axisTick:{show:!0,lineStyle:{show:!0,color:"#fff",type:"dashed"}}},series:[{name:n.props.data.chart1_data.data[0].label,type:"line",lineStyle:{color:"#007bff"},itemStyle:{color:"#007bff"},smooth:!0,data:n.props.data.chart1_data.data[0].data},{name:n.props.data.chart1_data.data[1].label,type:"line",lineStyle:{color:"#28a745"},itemStyle:{color:"#28a745"},smooth:!0,data:n.props.data.chart1_data.data[1].data},{name:n.props.data.chart1_data.data[2].label,type:"line",lineStyle:{color:"#dc3545"},itemStyle:{color:"#dc3545"},smooth:!0,data:n.props.data.chart1_data.data[2].data}],color:["white"]},o={tooltip:{show:!0},title:{text:"Pendapatan Servis",textStyle:{color:"#444"},left:"center"},legend:{top:"10%",data:[n.props.data.chart2_data.data[0].label]},grid:{containLabel:!0,left:"5px",bottom:"5px",right:"5px"},xAxis:{show:!0,type:"category",data:n.props.data.chart1_data.x_axis_label_data,axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{show:!0,color:"#ccc",type:"dashed"}},axisLabel:{show:!0},boundaryGap:!0},yAxis:{show:!0,type:"value",axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisLabel:{show:!0},splitLine:{lineStyle:{type:"dashed",color:"#ccc"}},axisTick:{show:!0,lineStyle:{show:!0,color:"#fff",type:"dashed"}}},series:[{name:n.props.data.chart2_data.data[0].label,type:"bar",itemStyle:{color:"#007bff"},smooth:!0,data:n.props.data.chart2_data.data[0].data}],color:["white"]};return(s,m)=>(k(),T("div",In,[l("div",Dn,[e(ee,{square:"",class:"no-shadow",bordered:"",style:{"background-color":"#fff"}},{default:a(()=>[e(Q,{class:"q-pa-none"},{default:a(()=>[e(t(yt),{option:c,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"250px"}})]),_:1})]),_:1})]),l("div",Un,[e(ee,{class:"no-shadow",square:"",bordered:"",style:{"background-color":"#fff"}},{default:a(()=>[e(Q,{class:"q-pa-none"},{default:a(()=>[e(t(yt),{option:o,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"250px"}})]),_:1})]),_:1})])]))}},En=Ze(An,[["__scopeId","data-v-5c77cb08"]]),Rn=Object.freeze(Object.defineProperty({__proto__:null,default:En},Symbol.toStringTag,{value:"Module"})),jn={class:"row"},Bn={class:"row q-col-gutter-sm"},zn={class:"col-sm-6 col-xs-12"},Ln={class:"col-sm-6 col-xs-12"},Yn={class:"col-md-3 col-sm-6 col-xs-12"},Hn={class:"col-md-3 col-sm-6 col-xs-12"},Fn={class:"col-md-3 col-sm-6 col-xs-12"},Kn={class:"col-md-3 col-sm-6 col-xs-12"};const Qn={__name:"SummaryCard",setup(f){se();const n=(c,o)=>{const m={...{order_status:"all",service_status:"all",repair_status:"all",payment_status:"all",search:""},...o};localStorage.setItem("fixsync.service-orders.filter",JSON.stringify(m)),j.visit(c,{data:m})};return(c,o)=>(k(),T("div",jn,[e(ee,{class:"bg-transparent no-shadow no-border col",bordered:""},{default:a(()=>[e(Q,{class:"q-pa-none"},{default:a(()=>[l("div",Bn,[l("div",zn,[e(K,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:o[0]||(o[0]=s=>c.$inertia.visit(c.route("admin.customer.index",{status:"active"})))},{default:a(()=>[e(O,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(V,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(O,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ne,{class:"text-white text-h6 text-weight-bolder"},{default:a(()=>[g(u(c.$page.props.data.active_customer_count),1)]),_:1}),e(ne,null,{default:a(()=>o[5]||(o[5]=[g("Santri Aktif")])),_:1})]),_:1})]),_:1})]),l("div",Ln,[e(K,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:o[1]||(o[1]=s=>c.$inertia.visit(c.route("admin.customer.index",{status:"active"})))},{default:a(()=>[e(O,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(V,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(O,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ne,{class:"text-white text-h6 text-weight-bolder"},{default:a(()=>[g(u(c.$page.props.data.active_user_count),1)]),_:1}),e(ne,null,{default:a(()=>o[6]||(o[6]=[g("Pengguna Aktif")])),_:1})]),_:1})]),_:1})]),l("div",Yn,[e(K,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:a(()=>[e(O,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(V,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(O,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ne,{class:"text-white text-weight-bold"},{default:a(()=>[g(" Rp. "+u(t(B)(c.$page.props.data.total_finance_account_balance)),1)]),_:1}),e(ne,null,{default:a(()=>o[7]||(o[7]=[g("Total Saldo Koperasi")])),_:1})]),_:1})]),_:1})]),l("div",Hn,[e(K,{style:"background-color: #dc3545",class:"q-pa-none"},{default:a(()=>[e(O,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(V,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(O,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ne,{class:"text-white text-weight-bold"},{default:a(()=>[g(" Rp. "+u(t(B)(c.$page.props.data.total_customer_balance)),1)]),_:1}),e(ne,null,{default:a(()=>o[8]||(o[8]=[g("Total Saldo Santri")])),_:1})]),_:1})]),_:1})]),l("div",Fn,[e(K,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:a(()=>[e(O,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(V,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(O,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ne,{class:"text-white text-weight-bold"},{default:a(()=>[g(" Rp. "+u(t(B)(c.$page.props.data.total_customer_debt)),1)]),_:1}),e(ne,null,{default:a(()=>o[9]||(o[9]=[g("Total Utang Santri")])),_:1})]),_:1})]),_:1})]),l("div",Kn,[e(K,{style:"background-color: #dc3545",class:"q-pa-none"},{default:a(()=>[e(O,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:a(()=>[e(V,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(O,{class:"q-pa-md q-ml-none text-white"},{default:a(()=>[e(ne,{class:"text-white text-weight-bold"},{default:a(()=>[g(" Rp. "+u(t(B)(c.$page.props.data.total_customer_credit)),1)]),_:1}),e(ne,null,{default:a(()=>o[10]||(o[10]=[g("Total Piutang Santri")])),_:1})]),_:1})]),_:1})]),A("",!0),A("",!0),A("",!0)])]),_:1})]),_:1})]))}},Wn=Object.freeze(Object.defineProperty({__proto__:null,default:Qn},Symbol.toStringTag,{value:"Module"})),Jn={class:"text-subtitle1 text-bold text-grey-9"},Gn={class:"flex items-center justify-between"},Xn={__name:"TopCard",props:{items:Array,title:String,route_url:String},setup(f){const n=f;return(c,o)=>{const s=U("i-link");return k(),R(ee,{class:"no-shadow",square:"",bordered:""},{default:a(()=>[e(Q,null,{default:a(()=>[l("div",Jn,u(n.title),1),l("div",null,[(k(!0),T(Y,null,lt(n.items,m=>(k(),T("div",{key:m.id},[l("div",Gn,[l("span",null,[e(s,{href:c.route(n.route_url,{id:m.id})},{default:a(()=>[g(u(m.name),1)]),_:2},1032,["href"])]),l("span",null,"Rp. "+u(t(B)(m.total)),1)])]))),128))])]),_:1})]),_:1})}}},Zn=Object.freeze(Object.defineProperty({__proto__:null,default:Xn},Symbol.toStringTag,{value:"Module"})),es={class:"q-gutter-sm"},ts={class:"q-gutter-sm"},as={class:"col col-lg-6 q-pa-sm"},ls={class:"row"},os={class:"detail"},ns={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ss={class:"flex q-gutter-sm"},rs={class:""},na="Rincian Akun",is={__name:"Detail",setup(f){const n=se(),c=M("main"),o=M([]),s=M(!0),m=xe({...Ve()}),r=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),i=[{name:"id",label:"#",field:"id",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!0},{name:"quantity",label:"Jumlah",field:"quantity",align:"center",sortable:!0}];_e(()=>{p()});const p=(h=null)=>Ce({pagination:r,filter:m,props:h,rows:o,loading:s}),_=ce(),b=J(()=>_.screen.gt.sm?i:i.filter(h=>h.name==="id"));return(h,d)=>{const y=U("i-head"),q=U("authenticated-layout");return k(),T(Y,null,[e(y,{title:na}),e(q,null,{title:a(()=>[g(u(na))]),"left-button":a(()=>[l("div",es,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=v=>h.$inertia.get(h.route("admin.finance-account.index")))})])]),"right-button":a(()=>[l("div",ts,[e(P,{icon:"edit",dense:"",color:"primary",onClick:d[1]||(d[1]=v=>t(j).get(h.route("admin.finance-account.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(be,{class:"row justify-center"},{default:a(()=>[l("div",as,[l("div",ls,[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(At,{modelValue:c.value,"onUpdate:modelValue":d[2]||(d[2]=v=>c.value=v),align:"left"},{default:a(()=>[e(ot,{name:"main",label:"Info Akun"}),e(ot,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(Et,{modelValue:c.value,"onUpdate:modelValue":d[4]||(d[4]=v=>c.value=v)},{default:a(()=>[e(nt,{name:"main"},{default:a(()=>[l("table",os,[l("tbody",null,[l("tr",null,[d[5]||(d[5]=l("td",{style:{width:"150px"}},"Nama",-1)),d[6]||(d[6]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[d[7]||(d[7]=l("td",null,"Jenis",-1)),d[8]||(d[8]=l("td",null,":",-1)),l("td",null,u(h.$CONSTANTS.FINANCE_ACCOUNT_TYPES[t(n).props.data.type]),1)]),t(n).props.data.type=="bank"?(k(),T(Y,{key:0},[l("tr",null,[d[9]||(d[9]=l("td",null,"Bank",-1)),d[10]||(d[10]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.bank),1)]),l("tr",null,[d[11]||(d[11]=l("td",null,"No. Rek",-1)),d[12]||(d[12]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.number),1)]),l("tr",null,[d[13]||(d[13]=l("td",null,"Atas Nama",-1)),d[14]||(d[14]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.holder),1)])],64)):A("",!0),l("tr",null,[d[15]||(d[15]=l("td",null,"Tampilkan di Wallet",-1)),d[16]||(d[16]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.has_wallet_access?"Ya":"Tidak"),1)]),l("tr",null,[d[17]||(d[17]=l("td",null,"Status",-1)),d[18]||(d[18]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),l("tr",null,[d[19]||(d[19]=l("td",null,"Saldo",-1)),d[20]||(d[20]=l("td",null,":",-1)),l("td",null,"Rp. "+u(t(B)(t(n).props.data.balance)),1)]),l("tr",null,[d[21]||(d[21]=l("td",null,"Catatan",-1)),d[22]||(d[22]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.notes),1)])])])]),_:1}),e(nt,{name:"history"},{default:a(()=>[e(ve,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":d[3]||(d[3]=v=>r.value=v),filter:m.search,loading:s.value,columns:b.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:p,"binary-state-sort":""},{loading:a(()=>[e(Te,{showing:"",color:"red"})]),"no-data":a(({icon:v,message:N,filter:$})=>[l("div",ns,[l("span",null,u(N)+" "+u($?" with term "+$:""),1)])]),body:a(v=>[e(ye,{props:v},{default:a(()=>[e(E,{key:"id",props:v},{default:a(()=>[l("div",ss,[l("div",null,[l("b",null,"#"+u(v.row.id),1)]),l("div",null," - "+u(h.$dayjs(new Date(v.row.created_at)).format("DD/MM/YYYY hh:mm:ss")),1),l("div",null," - "+u(v.row.created_by?v.row.created_by.username:"--"),1)]),t(_).screen.lt.md?(k(),T(Y,{key:0},[l("div",rs,u(h.$CONSTANTS.STOCKMOVEMENT_REFTYPES[v.row.ref_type]),1),l("div",{class:me(v.row.quantity<0?"text-red-10":v.row.quantity>0?"text-green-10":"")},[e(V,{name:v.row.quantity<0?"arrow_downward":v.row.quantity>0?"arrow_upward":""},null,8,["name"]),g(" "+u(t(B)(v.row.quantity)),1)],2)],64)):A("",!0)]),_:2},1032,["props"]),e(E,{key:"type",props:v},{default:a(()=>[g(u(h.$CONSTANTS.STOCKMOVEMENT_REFTYPES[v.row.ref_type]),1)]),_:2},1032,["props"]),e(E,{key:"quantity",props:v},{default:a(()=>[l("div",{class:me(v.row.quantity<0?"text-red-10":v.row.quantity>0?"text-green-10":"")},[e(V,{name:v.row.quantity<0?"arrow_downward":v.row.quantity>0?"arrow_upward":""},null,8,["name"]),g(" "+u(t(B)(v.row.quantity)),1)],2)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},us=Object.freeze(Object.defineProperty({__proto__:null,default:is},Symbol.toStringTag,{value:"Module"})),ds={class:"q-gutter-sm"},ms={class:"col col-lg-6 q-pa-sm"},cs={style:{"margin-left":"-10px"}},ps={style:{"margin-left":"-10px"}},fs={__name:"Editor",setup(f){const n=se(),c=(n.props.data.id?"Edit":"Tambah")+" Akun / Kas",o=we({id:n.props.data.id,name:n.props.data.name,type:n.props.data.type,bank:n.props.data.bank,number:n.props.data.number,holder:n.props.data.holder,balance:n.props.data.balance,active:!!n.props.data.active,has_wallet_access:!!n.props.data.has_wallet_access,notes:n.props.data.notes}),s=Ue(window.CONSTANTS.FINANCE_ACCOUNT_TYPES),m=()=>ke({form:o,url:route("admin.finance-account.save")});return(r,i)=>{const p=U("i-head"),_=U("authenticated-layout");return k(),T(Y,null,[e(p,{title:c}),e(_,null,{title:a(()=>[g(u(c))]),"left-button":a(()=>[l("div",ds,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=b=>r.$inertia.get(r.route("admin.finance-account.index")))})])]),default:a(()=>[e(be,{class:"row justify-center"},{default:a(()=>[l("div",ms,[e(he,{class:"row",onSubmit:W(m,["prevent"]),onValidationError:t(qe)},{default:a(()=>[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Q,{class:"q-pt-none"},{default:a(()=>[F(l("input",{type:"hidden",name:"id","onUpdate:modelValue":i[1]||(i[1]=b=>t(o).id=b)},null,512),[[Re,t(o).id]]),e(H,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":i[2]||(i[2]=b=>t(o).name=b),modelModifiers:{trim:!0},label:"Nama Akun","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[b=>b&&b.length>0||"Nama harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(Z,{modelValue:t(o).type,"onUpdate:modelValue":i[3]||(i[3]=b=>t(o).type=b),label:"Jenis Akun",options:t(s),"map-options":"","emit-value":"",error:!!t(o).errors.type,disable:t(o).processing},null,8,["modelValue","options","error","disable"]),t(o).type=="bank"?(k(),T(Y,{key:0},[e(H,{modelValue:t(o).bank,"onUpdate:modelValue":i[4]||(i[4]=b=>t(o).bank=b),modelModifiers:{trim:!0},label:"Nama Bank","lazy-rules":"",error:!!t(o).errors.bank,disable:t(o).processing,"error-message":t(o).errors.bank},null,8,["modelValue","error","disable","error-message"]),e(H,{modelValue:t(o).number,"onUpdate:modelValue":i[5]||(i[5]=b=>t(o).number=b),modelModifiers:{trim:!0},label:"Nomor Rekening","lazy-rules":"",error:!!t(o).errors.number,disable:t(o).processing,"error-message":t(o).errors.number},null,8,["modelValue","error","disable","error-message"]),e(H,{modelValue:t(o).holder,"onUpdate:modelValue":i[6]||(i[6]=b=>t(o).holder=b),modelModifiers:{trim:!0},label:"Pemilik Rekening","lazy-rules":"",error:!!t(o).errors.holder,disable:t(o).processing,"error-message":t(o).errors.holder},null,8,["modelValue","error","disable","error-message"])],64)):A("",!0),e(Me,{modelValue:t(o).balance,"onUpdate:modelValue":i[7]||(i[7]=b=>t(o).balance=b),label:"Saldo",lazyRules:"",disable:t(o).processing,"allow-negative":"true",error:!!t(o).errors.balance,errorMessage:t(o).errors.balance,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),l("div",cs,[e(Xe,{class:"full-width q-pl-none",modelValue:t(o).has_wallet_access,"onUpdate:modelValue":i[8]||(i[8]=b=>t(o).has_wallet_access=b),disable:t(o).processing,label:"Tampilkan di Konfirmasi Topup Wallet"},null,8,["modelValue","disable"])]),l("div",ps,[e(Xe,{class:"full-width q-pl-none",modelValue:t(o).active,"onUpdate:modelValue":i[9]||(i[9]=b=>t(o).active=b),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"])]),e(H,{modelValue:t(o).notes,"onUpdate:modelValue":i[10]||(i[10]=b=>t(o).notes=b),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.notes,"error-message":t(o).errors.notes},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(Q,{class:"q-gutter-sm"},{default:a(()=>[e(P,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(P,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:i[11]||(i[11]=b=>t(j).get(r.route("admin.finance-account.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},gs=Object.freeze(Object.defineProperty({__proto__:null,default:fs},Symbol.toStringTag,{value:"Module"})),bs={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},_s={class:"q-pa-sm"},vs={class:"q-my-sm text-subtitle"},ys={class:"text-bold text-grey-8"},ws={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ks={key:0},hs={key:1},$s={key:2},Ss={class:"flex justify-end"},sa="Akun Kas",xs={__name:"Index",setup(f){const n=se(),c=ce(),o=M(!1),s=M([]),m=M(!0),r=xe({search:"",status:"active",type:"all",...Ve()}),i=n.props.totalBalance,p=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),_=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right",sortable:!0},{name:"action",align:"right"}],b=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],h=[{value:"all",label:"Semua"},...Ue(window.CONSTANTS.FINANCE_ACCOUNT_TYPES)];_e(()=>{y()});const d=$=>Ee({message:`Hapus Akun ${$.name}?`,url:route("admin.finance-account.delete",$.id),fetchItemsCallback:y,loading:m}),y=($=null)=>{Ce({pagination:p,filter:r,props:$,rows:s,url:route("admin.finance-account.data"),loading:m})},q=()=>y(),v=$=>j.get(route("admin.finance-account.detail",{id:$.id})),N=J(()=>c.screen.gt.sm?_:_.filter($=>$.name==="name"||$.name==="action"));return($,x)=>{const S=U("i-head"),w=U("authenticated-layout");return k(),T(Y,null,[e(S,{title:sa}),e(w,null,Oe({title:a(()=>[g(u(sa))]),"right-button":a(()=>[e(P,{icon:"add",dense:"",color:"primary",onClick:x[0]||(x[0]=I=>t(j).get($.route("admin.finance-account.add")))}),e(P,{class:"q-ml-sm",icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:x[1]||(x[1]=I=>o.value=!o.value)},null,8,["icon"])]),default:a(()=>[l("div",_s,[l("div",vs,[x[7]||(x[7]=g(" Total Saldo Akun Aktif: ")),l("span",ys,"Rp. "+u(t(B)(t(i))),1)]),e(ve,{ref:"tableRef",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:p.value,"onUpdate:pagination":x[6]||(x[6]=I=>p.value=I),filter:r.search,loading:m.value,columns:N.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:y,"binary-state-sort":""},{loading:a(()=>[e(Te,{showing:"",color:"red"})]),"no-data":a(({icon:I,message:C,filter:D})=>[l("div",ws,[l("span",null,u(C)+" "+u(D?" with term "+D:""),1)])]),body:a(I=>[e(ye,{props:I,class:me([I.row.active?"":"bg-red-1","cursor-pointer"]),onClick:C=>v(I.row)},{default:a(()=>[e(E,{key:"name",props:I,class:"wrap-column"},{default:a(()=>[l("div",null,[t(c).screen.lt.md?(k(),R(V,{key:0,name:"wallet"})):A("",!0),g(" "+u(I.row.name),1)]),I.row.type=="bank"?(k(),T("div",ks,u(I.row.bank??"-")+" "+u(I.row.number??"-")+" an "+u(I.row.holder??"-"),1)):A("",!0),I.row.notes?(k(),T("div",hs,[e(V,{name:"notes"}),g(" "+u(I.row.notes),1)])):A("",!0),t(c).screen.lt.md?(k(),T("div",$s,[e(V,{name:"money"}),g(" Rp. "+u(t(B)(I.row.balance)),1)])):A("",!0)]),_:2},1032,["props"]),e(E,{key:"balance",props:I},{default:a(()=>[g(u(t(B)(I.row.balance)),1)]),_:2},1032,["props"]),e(E,{key:"action",props:I},{default:a(()=>[l("div",Ss,[e(P,{disabled:!t(je)($.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:x[5]||(x[5]=W(()=>{},["stop"]))},{default:a(()=>[e(Ae,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e($e,{style:{width:"200px"}},{default:a(()=>[F((k(),R(K,{clickable:"",onClick:W(C=>t(j).get($.route("admin.finance-account.duplicate",I.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"file_copy"})]),_:1}),e(O,{icon:"copy"},{default:a(()=>x[8]||(x[8]=[g(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]]),F((k(),R(K,{clickable:"",onClick:W(C=>t(j).get($.route("admin.finance-account.edit",I.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"edit"})]),_:1}),e(O,{icon:"edit"},{default:a(()=>x[9]||(x[9]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]]),F((k(),R(K,{onClick:W(C=>d(I.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>x[10]||(x[10]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[o.value?{name:"header",fn:a(()=>[e(Ne,{class:"filter-bar"},{default:a(()=>[l("div",bs,[e(Z,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:r.status,"onUpdate:modelValue":[x[2]||(x[2]=I=>r.status=I),q],options:b,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(Z,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:r.type,"onUpdate:modelValue":[x[3]||(x[3]=I=>r.type=I),q],options:h,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(H,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:r.search,"onUpdate:modelValue":x[4]||(x[4]=I=>r.search=I),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},qs=Object.freeze(Object.defineProperty({__proto__:null,default:xs},Symbol.toStringTag,{value:"Module"})),Vs={class:"q-gutter-sm"},Cs={class:"col col-lg-6 q-pa-sm"},Ts={__name:"Editor",setup(f){const n=se(),c=(n.props.data.id?"Edit":"Catat")+" Transaksi Keuangan",o=n.props.accounts.map(i=>({label:i.name,value:i.id})),s=[{label:"Pemasukan (+)",value:"income"},{label:"Pengeluaran (-)",value:"expense"},{label:"Transfer",value:"transfer"}],m=we({id:n.props.data.id,account_id:n.props.data.account_id,to_account_id:n.props.data.to_account_id??null,type:n.props.data.type,datetime:Rl(n.props.data.datetime?n.props.data.datetime:new Date),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),r=()=>ke({form:m,url:route("admin.finance-transaction.save")});return(i,p)=>{const _=U("i-head"),b=U("authenticated-layout");return k(),T(Y,null,[e(_,{title:c}),e(b,null,{title:a(()=>[g(u(c))]),"left-button":a(()=>[l("div",Vs,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:p[0]||(p[0]=h=>i.$inertia.get(i.route("admin.finance-transaction.index")))})])]),default:a(()=>[e(be,{class:"row justify-center"},{default:a(()=>[l("div",Cs,[e(he,{class:"row",onSubmit:W(r,["prevent"]),onValidationError:t(qe)},{default:a(()=>[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Q,{class:"q-pt-none"},{default:a(()=>[F(l("input",{type:"hidden",name:"id","onUpdate:modelValue":p[1]||(p[1]=h=>t(m).id=h)},null,512),[[Re,t(m).id]]),e(mt,{modelValue:t(m).datetime,"onUpdate:modelValue":p[2]||(p[2]=h=>t(m).datetime=h),label:"Waktu",error:!!t(m).errors.datetime,disable:t(m).processing,errorMessage:t(m).errors.datetime,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(Z,{autofocus:"",modelValue:t(m).type,"onUpdate:modelValue":p[3]||(p[3]=h=>t(m).type=h),label:"Jenis Transaksi",options:s,"map-options":"","emit-value":"",error:!!t(m).errors.type,disable:t(m).processing,errorMessage:t(m).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(Z,{class:"custom-select",modelValue:t(m).account_id,"onUpdate:modelValue":p[4]||(p[4]=h=>t(m).account_id=h),label:t(m).type=="transfer"?"Akun Asal":"Akun",options:t(o),"map-options":"","emit-value":"",errorMessage:t(m).errors.account_id,error:!!t(m).errors.account_id,disable:t(m).processing,"hide-bottom-space":""},null,8,["modelValue","label","options","errorMessage","error","disable"]),t(m).type=="transfer"?(k(),R(Z,{key:0,class:"custom-select",modelValue:t(m).to_account_id,"onUpdate:modelValue":p[5]||(p[5]=h=>t(m).to_account_id=h),label:"Akun Tujuan",options:t(o),"map-options":"","emit-value":"",errorMessage:t(m).errors.to_account_id,error:!!t(m).errors.to_account_id,disable:t(m).processing,"hide-bottom-space":""},null,8,["modelValue","options","errorMessage","error","disable"])):A("",!0),e(Me,{modelValue:t(m).amount,"onUpdate:modelValue":p[6]||(p[6]=h=>t(m).amount=h),label:"Jumlah",lazyRules:"",disable:t(m).processing,error:!!t(m).errors.amount,errorMessage:t(m).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(H,{modelValue:t(m).notes,"onUpdate:modelValue":p[7]||(p[7]=h=>t(m).notes=h),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(m).processing,error:!!t(m).errors.notes,"error-message":t(m).errors.notes,rules:[h=>h&&h.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(Q,{class:"q-gutter-sm"},{default:a(()=>[e(P,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(m).processing},null,8,["disable"]),e(P,{icon:"cancel",label:"Batal",disable:t(m).processing,onClick:p[8]||(p[8]=h=>t(j).get(i.route("admin.finance-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Ps=Object.freeze(Object.defineProperty({__proto__:null,default:Ts},Symbol.toStringTag,{value:"Module"})),Ms={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Ns={class:"q-pa-sm"},Os={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Is={class:"text-grey-8"},Ds={key:0},Us={key:0},As={key:1},Es={class:"flex justify-end"},ra="Transaksi Kas",Rs={__name:"Index",setup(f){const n=ce(),c=M(!1),o=M([]),s=M(!0),m=It(),r=Dt(),i=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...ct(m-2,m-1).reverse()],p=[{value:"all",label:"Semua Bulan"},...pt()],_=xe({search:"",category_id:"all",year:m,month:r,...Ve()}),b=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),h=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];_e(()=>{y()});const d=N=>Ee({message:`Hapus transaksi #-${N.id}?`,url:route("admin.finance-transaction.delete",N.id),fetchItemsCallback:y,loading:s}),y=(N=null)=>{Ce({pagination:b,filter:_,props:N,rows:o,url:route("admin.finance-transaction.data"),loading:s})},q=()=>{y()},v=J(()=>n.screen.gt.sm?h:h.filter(N=>N.name==="datetime"||N.name==="action"));return De(()=>_.year,N=>{N===null&&(_.month=null)}),(N,$)=>{const x=U("i-head"),S=U("authenticated-layout");return k(),T(Y,null,[e(x,{title:ra}),e(S,null,Oe({title:a(()=>[g(u(ra))]),"right-button":a(()=>[e(P,{icon:"add",dense:"",color:"primary",onClick:$[0]||($[0]=w=>t(j).get(N.route("admin.finance-transaction.add")))}),e(P,{class:"q-ml-sm",icon:c.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:$[1]||($[1]=w=>c.value=!c.value)},null,8,["icon"])]),default:a(()=>[l("div",Ns,[e(ve,{class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":$[6]||($[6]=w=>b.value=w),filter:_.search,loading:s.value,columns:v.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:y,"binary-state-sort":""},{loading:a(()=>[e(Te,{showing:"",color:"red"})]),"no-data":a(({icon:w,message:I,filter:C})=>[l("div",Os,[l("span",null,u(I)+" "+u(C?" with term "+C:""),1)])]),body:a(w=>[e(ye,{props:w},{default:a(()=>[e(E,{key:"datetime",props:w,class:"wrap-column"},{default:a(()=>[l("div",null,[g(" #"+u(w.row.id)+" - ",1),e(V,{name:"calendar_today"}),g(" "+u(t(Mt)(w.row.datetime))+" ",1),l("span",Is,"("+u(t(Nt)(w.row.datetime))+")",1)]),e(ft,null,{default:a(()=>[e(V,{name:"category"}),g(" "+u(w.row.type_label),1)]),_:2},1024),w.row.ref_type?(k(),T("div",Ds,[e(V,{name:"link"}),g(" "+u(w.row.ref_type_label)+" #"+u(w.row.ref_id),1)])):A("",!0),t(n).screen.gt.sm?A("",!0):(k(),T(Y,{key:1},[w.row.notes?(k(),T("div",Us,[e(V,{name:"notes"}),g(" "+u(w.row.notes),1)])):A("",!0),w.row.category?(k(),T("div",As,[e(V,{name:"category"}),g(" "+u(w.row.category.name),1)])):A("",!0),l("div",null,[e(V,{name:"money"}),g(" Rp. "+u(t(Ye)(w.row.amount)+t(B)(w.row.amount)),1)])],64))]),_:2},1032,["props"]),e(E,{key:"account",props:w},{default:a(()=>{var I;return[g(u((I=w.row.account)==null?void 0:I.name),1)]}),_:2},1032,["props"]),e(E,{key:"notes",props:w},{default:a(()=>[g(u(w.row.notes),1)]),_:2},1032,["props"]),e(E,{key:"amount",props:w,style:{"text-align":"right"}},{default:a(()=>[g(u(t(Ye)(w.row.amount)+t(B)(w.row.amount)),1)]),_:2},1032,["props"]),e(E,{key:"action",props:w},{default:a(()=>[l("div",Es,[e(P,{disabled:!t(je)(N.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:$[5]||($[5]=W(()=>{},["stop"]))},{default:a(()=>[e(Ae,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e($e,{style:{width:"200px"}},{default:a(()=>[F((k(),R(K,{onClick:W(I=>d(w.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>$[7]||($[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[c.value?{name:"header",fn:a(()=>[e(Ne,{class:"filter-bar"},{default:a(()=>[l("div",Ms,[e(Z,{modelValue:_.year,"onUpdate:modelValue":[$[2]||($[2]=w=>_.year=w),q],options:i,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),_.year!="all"?(k(),R(Z,{key:0,modelValue:_.month,"onUpdate:modelValue":[$[3]||($[3]=w=>_.month=w),q],options:p,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:_.year===null},null,8,["modelValue","disable"])):A("",!0),e(H,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:_.search,"onUpdate:modelValue":$[4]||($[4]=w=>_.search=w),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},js=Object.freeze(Object.defineProperty({__proto__:null,default:Rs},Symbol.toStringTag,{value:"Module"})),Bs={class:"q-gutter-sm"},zs={class:"col col-lg-6 q-pa-sm"},Ls={__name:"Editor",setup(f){const n=se(),c=(n.props.data.id?"Edit":"Tambah")+" Kategori Operasional",o=we({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description}),s=()=>ke({form:o,url:route("admin.operational-cost-category.save")});return(m,r)=>{const i=U("i-head"),p=U("authenticated-layout");return k(),T(Y,null,[e(i,{title:c}),e(p,null,{title:a(()=>[g(u(c))]),"left-button":a(()=>[l("div",Bs,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=_=>m.$inertia.get(m.route("admin.operational-cost-category.index")))})])]),default:a(()=>[e(be,{class:"row justify-center"},{default:a(()=>[l("div",zs,[e(he,{class:"row",onSubmit:W(s,["prevent"]),onValidationError:t(qe)},{default:a(()=>[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Q,{class:"q-pt-none"},{default:a(()=>[F(l("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=_=>t(o).id=_)},null,512),[[Re,t(o).id]]),e(H,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=_=>t(o).name=_),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(H,{modelValue:t(o).description,"onUpdate:modelValue":r[3]||(r[3]=_=>t(o).description=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Deskripsi","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.description,"error-message":t(o).errors.description},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(Q,{class:"q-gutter-sm"},{default:a(()=>[e(P,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(P,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[4]||(r[4]=_=>t(j).get(m.route("admin.operational-cost-category.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Ys=Object.freeze(Object.defineProperty({__proto__:null,default:Ls},Symbol.toStringTag,{value:"Module"})),Hs={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Fs={class:"q-pa-sm"},Ks={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Qs={key:0,class:"text-grey-8"},Ws={class:"flex justify-end"},ia="Kategori Biaya Operasional",Js={__name:"Index",setup(f){const n=ce(),c=M(!1),o=M([]),s=M(!0),m=xe({search:"",...Ve()}),r=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),i=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];_e(()=>{_()});const p=h=>Ee({message:`Hapus Kategori Biaya ${h.name}?`,url:route("admin.operational-cost-category.delete",h.id),fetchItemsCallback:_,loading:s}),_=(h=null)=>{Ce({pagination:r,filter:m,props:h,rows:o,url:route("admin.operational-cost-category.data"),loading:s})},b=J(()=>n.screen.gt.sm?i:i.filter(h=>h.name==="name"||h.name==="action"));return(h,d)=>{const y=U("i-head"),q=U("authenticated-layout");return k(),T(Y,null,[e(y,{title:ia}),e(q,null,Oe({title:a(()=>[g(u(ia))]),"right-button":a(()=>[e(P,{icon:"add",dense:"",color:"primary",onClick:d[0]||(d[0]=v=>t(j).get(h.route("admin.operational-cost-category.add")))}),e(P,{class:"q-ml-sm",icon:c.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:d[1]||(d[1]=v=>c.value=!c.value)},null,8,["icon"])]),default:a(()=>[l("div",Fs,[e(ve,{class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":d[4]||(d[4]=v=>r.value=v),filter:m.search,loading:s.value,columns:b.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:_,"binary-state-sort":""},{loading:a(()=>[e(Te,{showing:"",color:"red"})]),"no-data":a(({icon:v,message:N,filter:$})=>[l("div",Ks,[l("span",null,u(N)+" "+u($?" with term "+$:""),1)])]),body:a(v=>[e(ye,{props:v},{default:a(()=>[e(E,{key:"name",props:v,class:"wrap-column"},{default:a(()=>[g(u(v.row.name)+" ",1),t(n).screen.gt.sm?A("",!0):(k(),T(Y,{key:0},[v.row.description?(k(),T("div",Qs,[e(V,{name:"description"}),g(" "+u(v.row.description),1)])):A("",!0)],64))]),_:2},1032,["props"]),e(E,{key:"description",props:v,class:"wrap-column"},{default:a(()=>[g(u(v.row.description),1)]),_:2},1032,["props"]),e(E,{key:"action",props:v},{default:a(()=>[l("div",Ws,[e(P,{disabled:!t(je)(h.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:d[3]||(d[3]=W(()=>{},["stop"]))},{default:a(()=>[e(Ae,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e($e,{style:{width:"200px"}},{default:a(()=>[F((k(),R(K,{clickable:"",onClick:W(N=>t(j).get(h.route("admin.operational-cost-category.duplicate",v.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"file_copy"})]),_:1}),e(O,{icon:"copy"},{default:a(()=>d[5]||(d[5]=[g("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]]),F((k(),R(K,{clickable:"",onClick:W(N=>t(j).get(h.route("admin.operational-cost-category.edit",v.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"edit"})]),_:1}),e(O,{icon:"edit"},{default:a(()=>d[6]||(d[6]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]]),F((k(),R(K,{onClick:W(N=>p(v.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>d[7]||(d[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[c.value?{name:"header",fn:a(()=>[e(Ne,{class:"filter-bar"},{default:a(()=>[l("div",Hs,[e(H,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":d[2]||(d[2]=v=>m.search=v),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},Gs=Object.freeze(Object.defineProperty({__proto__:null,default:Js},Symbol.toStringTag,{value:"Module"})),Xs={class:"q-gutter-sm"},Zs={class:"q-gutter-sm"},er={class:"col col-lg-6 q-pa-sm"},tr={class:"row"},ar={class:"detail"},lr={key:1,class:"text-grey-9"},or={class:"detail"},ua="Rincian Teknisi",nr={__name:"Detail",setup(f){const n=se();return(c,o)=>{const s=U("i-head"),m=U("i-link"),r=U("authenticated-layout");return k(),T(Y,null,[e(s,{title:ua}),e(r,null,{title:a(()=>[g(u(ua))]),"left-button":a(()=>[l("div",Xs,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=i=>c.$inertia.get(c.route("admin.operational-cost.index")))})])]),"right-button":a(()=>[l("div",Zs,[e(P,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=i=>t(j).get(c.route("admin.operational-cost.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(be,{class:"row justify-center"},{default:a(()=>[l("div",er,[l("div",tr,[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Q,null,{default:a(()=>[o[12]||(o[12]=l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Profil Teknisi ",-1)),l("table",ar,[l("tbody",null,[l("tr",null,[o[2]||(o[2]=l("td",{style:{width:"125px"}},"Akun Pengguna",-1)),o[3]||(o[3]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,[t(n).props.data.user?(k(),R(m,{key:0,href:c.route("admin.user.detail",{id:t(n).props.data.user.id})},{default:a(()=>[g(u(t(n).props.data.user.username),1)]),_:1},8,["href"])):(k(),T("span",lr,"Tidak terhubung"))])]),l("tr",null,[o[4]||(o[4]=l("td",null,"Nama Teknisi",-1)),o[5]||(o[5]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"No. Telepon",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.phone),1)]),l("tr",null,[o[8]||(o[8]=l("td",null,"Email",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.email),1)]),l("tr",null,[o[10]||(o[10]=l("td",null,"Alamat",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.address),1)])])])]),_:1}),e(Q,null,{default:a(()=>o[13]||(o[13]=[l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Statistik Servis ",-1),l("table",{class:"detail"},[l("tbody",null,[l("tr",null,[l("td",{style:{width:"125px"}},"Servis Ditangani"),l("td",{style:{width:"1px"}},":"),l("td",null,"0")]),l("tr",null,[l("td",null,"Servis Sukses"),l("td",null,":"),l("td",null,"0")]),l("tr",null,[l("td",null,"Servis Gagal"),l("td",null,":"),l("td",null,"0")])])],-1)])),_:1}),e(Q,null,{default:a(()=>[o[18]||(o[18]=l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Informasi Ekstra ",-1)),l("table",or,[l("tbody",null,[l("tr",null,[o[14]||(o[14]=l("td",{style:{width:"125px"}},"Dibuat",-1)),o[15]||(o[15]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(c.$dayjs(new Date(t(n).props.data.created_at)).format("DD MMMM YY HH:mm:ss")),1)]),l("tr",null,[o[16]||(o[16]=l("td",null,"Diperbarui",-1)),o[17]||(o[17]=l("td",null,":",-1)),l("td",null,u(c.$dayjs(new Date(t(n).props.data.updated_at)).format("DD MMMM YY HH:mm:ss")),1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},sr=Object.freeze(Object.defineProperty({__proto__:null,default:nr},Symbol.toStringTag,{value:"Module"})),rr={class:"row items-center justify-end"},ir={__name:"DatePicker",props:{modelValue:{type:String,required:!0},label:{type:String,default:""},readonly:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},rules:{type:Array,default:[]},mask:{type:String,default:"####-##-##"}},emits:["update:modelValue"],setup(f,{emit:n}){const c=f,o=n,s=M("");De(()=>c.modelValue,i=>{const[p,_]=i.split(" ");s.value=p||""});const m=M(c.modelValue),r=()=>{let i="";s.value&&(i=`${s.value} 00:00`),o("update:modelValue",i),m.value=i};return(i,p)=>(k(),R(H,{modelValue:m.value,"onUpdate:modelValue":p[1]||(p[1]=_=>m.value=_),label:c.label,readonly:c.readonly,disable:c.disable,error:c.error,rules:[...c.rules],"error-message":f.errorMessage,mask:c.mask},{append:a(()=>[e(V,{name:"event",class:"cursor-pointer"},{default:a(()=>[e(jl,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e(Bl,{modelValue:s.value,"onUpdate:modelValue":[p[0]||(p[0]=_=>s.value=_),r],mask:"YYYY-MM-DD"},{default:a(()=>[l("div",rr,[F(e(P,{label:"Close",color:"primary",flat:""},null,512),[[ae]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label","readonly","disable","error","rules","error-message","mask"]))}},ur=Ze(ir,[["__scopeId","data-v-af4e8707"]]);function Ta(f,n=!1){const c=f.map(r=>({value:r.id,label:r.name})),o=n?[{value:"all",label:"Semua"},...c]:c,s=M([...o]);return{filteredCostCategories:s,filterCostCategory:(r,i)=>{const p=r.toLowerCase();i(()=>{s.value=o.filter(_=>_.label.toLowerCase().includes(p))})},costCategoryOptions:o}}const dr={class:"q-gutter-sm"},mr={class:"col col-lg-6 q-pa-sm"},cr={__name:"Editor",setup(f){const n=se(),c=(n.props.data.id?"Edit":"Tambah")+" Biaya Operasional",{costCategoryOptions:o}=Ta(n.props.categories),s=M(o),m=M([...s.value]),r=we({id:n.props.data.id,category_id:n.props.data.category_id,date:n.props.data.date,description:n.props.data.description,notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),i=()=>ke({form:r,url:route("admin.operational-cost.save")}),p=(_,b)=>{b(()=>{m.value=s.value.filter(h=>h.label.toLowerCase().includes(_.toLowerCase()))})};return(_,b)=>{const h=U("i-head"),d=U("authenticated-layout");return k(),T(Y,null,[e(h,{title:c}),e(d,null,{title:a(()=>[g(u(c))]),"left-button":a(()=>[l("div",dr,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=y=>_.$inertia.get(_.route("admin.operational-cost.index")))})])]),default:a(()=>[e(be,{class:"row justify-center"},{default:a(()=>[l("div",mr,[e(he,{class:"row",onSubmit:W(i,["prevent"]),onValidationError:t(qe)},{default:a(()=>[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Q,{class:"q-pt-none"},{default:a(()=>[F(l("input",{type:"hidden",name:"id","onUpdate:modelValue":b[1]||(b[1]=y=>t(r).id=y)},null,512),[[Re,t(r).id]]),e(Z,{autofocus:"",modelValue:t(r).category_id,"onUpdate:modelValue":b[2]||(b[2]=y=>t(r).category_id=y),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:m.value,"map-options":"","emit-value":"",onFilter:p,error:!!t(r).errors.category_id,disable:t(r).processing},{"no-option":a(()=>[e(K,null,{default:a(()=>[e(O,null,{default:a(()=>b[8]||(b[8]=[g("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","error","disable"]),e(ur,{modelValue:t(r).date,"onUpdate:modelValue":b[3]||(b[3]=y=>t(r).date=y),label:"Tanggal",error:!!t(r).errors.date,disable:t(r).processing},null,8,["modelValue","error","disable"]),e(H,{modelValue:t(r).description,"onUpdate:modelValue":b[4]||(b[4]=y=>t(r).description=y),modelModifiers:{trim:!0},label:"Deskripsi","lazy-rules":"",error:!!t(r).errors.description,disable:t(r).processing,"error-message":t(r).errors.description,rules:[y=>y&&y.length>0||"Deskripsi harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(Me,{modelValue:t(r).amount,"onUpdate:modelValue":b[5]||(b[5]=y=>t(r).amount=y),label:"Jumlah",lazyRules:"",disable:t(r).processing,error:!!t(r).errors.amount,errorMessage:t(r).errors.amount,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),e(H,{modelValue:t(r).notes,"onUpdate:modelValue":b[6]||(b[6]=y=>t(r).notes=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(r).processing,error:!!t(r).errors.notes,"error-message":t(r).errors.notes},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(Q,{class:"q-gutter-sm"},{default:a(()=>[e(P,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(r).processing},null,8,["disable"]),e(P,{icon:"cancel",label:"Batal",disable:t(r).processing,onClick:b[7]||(b[7]=y=>t(j).get(_.route("admin.operational-cost.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},pr=Object.freeze(Object.defineProperty({__proto__:null,default:cr},Symbol.toStringTag,{value:"Module"})),fr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},gr={class:"q-pa-sm"},br={class:"full-width row flex-center text-grey-8 q-gutter-sm"},_r={class:"flex items-center q-gutter-xs"},vr={key:0},yr={key:0},wr={class:"flex justify-end"},da="Biaya Operasional",kr={__name:"Index",setup(f){const n=se(),c=ce(),o=M(!1),s=M([]),m=M(!0),r=new Date().getFullYear(),i=new Date().getMonth()+1,p=[{label:"Semua Tahun",value:null},{label:`${r}`,value:r},...ct(r-2,r-1).reverse()],_=[{value:null,label:"Semua Bulan"},...pt()],{costCategoryOptions:b}=Ta(n.props.categories),h=[{value:"all",label:"Semua"},{value:"null",label:"Tanpa Kategori"},...b],d=xe({search:"",category_id:"all",year:r,month:i,...Ve()}),y=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"date",descending:!0}),q=[{name:"date",label:"Tanggal",field:"date",align:"left",sortable:!0},{name:"description",label:"Deskripsi",field:"description",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right",sortable:!0},{name:"action",align:"right"}];_e(()=>{N()});const v=S=>Ee({message:`Hapus Biaya ${S.description}?`,url:route("admin.operational-cost.delete",S.id),fetchItemsCallback:N,loading:m}),N=(S=null)=>{Ce({pagination:y,filter:d,props:S,rows:s,url:route("admin.operational-cost.data"),loading:m})},$=()=>{N()},x=J(()=>c.screen.gt.sm?q:q.filter(S=>S.name==="date"||S.name==="action"));return De(()=>d.year,S=>{S===null&&(d.month=null)}),(S,w)=>{const I=U("i-head"),C=U("authenticated-layout");return k(),T(Y,null,[e(I,{title:da}),e(C,null,Oe({title:a(()=>[g(u(da))]),"right-button":a(()=>[e(P,{icon:"add",dense:"",color:"primary",onClick:w[0]||(w[0]=D=>t(j).get(S.route("admin.operational-cost.add")))}),e(P,{class:"q-ml-sm",icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:w[1]||(w[1]=D=>o.value=!o.value)},null,8,["icon"])]),default:a(()=>[l("div",gr,[e(ve,{class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":w[7]||(w[7]=D=>y.value=D),filter:d.search,loading:m.value,columns:x.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:N,"binary-state-sort":""},{loading:a(()=>[e(Te,{showing:"",color:"red"})]),"no-data":a(({icon:D,message:le,filter:L})=>[l("div",br,[l("span",null,u(le)+" "+u(L?" with term "+L:""),1)])]),body:a(D=>[e(ye,{props:D},{default:a(()=>[e(E,{key:"date",props:D,class:"wrap-column"},{default:a(()=>[l("div",_r,[e(V,{name:"calendar_today"}),l("div",null,u(t(ze)(D.row.date).format("DD/MM/YYYY")),1)]),t(c).screen.gt.sm?A("",!0):(k(),T(Y,{key:0},[l("div",null,[e(V,{name:"notes"}),g(" "+u(D.row.description),1)]),D.row.category?(k(),T("div",vr,[e(V,{name:"category"}),g(" "+u(D.row.category.name),1)])):A("",!0),l("div",null,[e(V,{name:"paid"}),g(" Rp. "+u(t(B)(D.row.amount)),1)])],64))]),_:2},1032,["props"]),e(E,{key:"description",props:D},{default:a(()=>[g(u(D.row.description)+" ",1),D.row.category?(k(),T("div",yr,[e(V,{name:"category"}),g(" "+u(D.row.category.name),1)])):A("",!0)]),_:2},1032,["props"]),e(E,{key:"amount",props:D,style:{"text-align":"right"}},{default:a(()=>[g(u(t(B)(D.row.amount)),1)]),_:2},1032,["props"]),e(E,{key:"action",props:D},{default:a(()=>[l("div",wr,[e(P,{disabled:!t(je)(S.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:w[6]||(w[6]=W(()=>{},["stop"]))},{default:a(()=>[e(Ae,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e($e,{style:{width:"200px"}},{default:a(()=>[F((k(),R(K,{clickable:"",onClick:W(le=>t(j).get(S.route("admin.operational-cost.duplicate",D.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"file_copy"})]),_:1}),e(O,{icon:"copy"},{default:a(()=>w[8]||(w[8]=[g(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]]),F((k(),R(K,{clickable:"",onClick:W(le=>t(j).get(S.route("admin.operational-cost.edit",D.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"edit"})]),_:1}),e(O,{icon:"edit"},{default:a(()=>w[9]||(w[9]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]]),F((k(),R(K,{onClick:W(le=>v(D.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>w[10]||(w[10]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[o.value?{name:"header",fn:a(()=>[e(Ne,{class:"filter-bar"},{default:a(()=>[l("div",fr,[e(Z,{modelValue:d.year,"onUpdate:modelValue":[w[2]||(w[2]=D=>d.year=D),$],options:p,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(Z,{modelValue:d.month,"onUpdate:modelValue":[w[3]||(w[3]=D=>d.month=D),$],options:_,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:d.year===null},null,8,["modelValue","disable"]),e(Z,{modelValue:d.category_id,"onUpdate:modelValue":[w[4]||(w[4]=D=>d.category_id=D),$],options:h,label:"Kategori",dense:"",class:"custom-select col-xs-12 col-sm-3","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(H,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:d.search,"onUpdate:modelValue":w[5]||(w[5]=D=>d.search=D),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},hr=Object.freeze(Object.defineProperty({__proto__:null,default:kr},Symbol.toStringTag,{value:"Module"})),$r={class:"q-gutter-sm"},Sr={class:"col col-lg-6 q-pa-sm"},xr={__name:"Editor",setup(f){const n=se(),c=(n.props.data.id?"Edit":"Tambah")+" Kategori Produk",o=we({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description}),s=()=>ke({form:o,url:route("admin.product-category.save")});return(m,r)=>{const i=U("i-head"),p=U("authenticated-layout");return k(),T(Y,null,[e(i,{title:c}),e(p,null,{title:a(()=>[g(u(c))]),"left-button":a(()=>[l("div",$r,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=_=>m.$inertia.get(m.route("admin.product-category.index")))})])]),default:a(()=>[e(be,{class:"row justify-center"},{default:a(()=>[l("div",Sr,[e(he,{class:"row",onSubmit:W(s,["prevent"]),onValidationError:t(qe)},{default:a(()=>[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Q,{class:"q-pt-none"},{default:a(()=>[F(l("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=_=>t(o).id=_)},null,512),[[Re,t(o).id]]),e(H,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=_=>t(o).name=_),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(H,{modelValue:t(o).description,"onUpdate:modelValue":r[3]||(r[3]=_=>t(o).description=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Deskripsi","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.description,"error-message":t(o).errors.description},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(Q,{class:"q-gutter-sm"},{default:a(()=>[e(P,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(P,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[4]||(r[4]=_=>t(j).get(m.route("admin.product-category.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},qr=Object.freeze(Object.defineProperty({__proto__:null,default:xr},Symbol.toStringTag,{value:"Module"})),Vr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Cr={class:"q-pa-sm"},Tr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Pr={key:0,class:"text-grey-8"},Mr={class:"flex justify-end"},ma="Kategori Produk",Nr={__name:"Index",setup(f){const n=ce(),c=M(!1),o=M([]),s=M(!0),m=xe({search:"",...Ve()}),r=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),i=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];_e(()=>{_()});const p=h=>Ee({message:`Hapus Kategori ${h.name}?`,url:route("admin.product-category.delete",h.id),fetchItemsCallback:_,loading:s}),_=(h=null)=>{Ce({pagination:r,filter:m,props:h,rows:o,url:route("admin.product-category.data"),loading:s})},b=J(()=>n.screen.gt.sm?i:i.filter(h=>h.name==="name"||h.name==="action"));return(h,d)=>{const y=U("i-head"),q=U("authenticated-layout");return k(),T(Y,null,[e(y,{title:ma}),e(q,null,Oe({title:a(()=>[g(u(ma))]),"right-button":a(()=>[e(P,{icon:"add",dense:"",color:"primary",onClick:d[0]||(d[0]=v=>t(j).get(h.route("admin.product-category.add")))}),e(P,{class:"q-ml-sm",icon:c.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:d[1]||(d[1]=v=>c.value=!c.value)},null,8,["icon"])]),default:a(()=>[l("div",Cr,[e(ve,{class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":d[4]||(d[4]=v=>r.value=v),filter:m.search,loading:s.value,columns:b.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:_,"binary-state-sort":""},{loading:a(()=>[e(Te,{showing:"",color:"red"})]),"no-data":a(({icon:v,message:N,filter:$})=>[l("div",Tr,[l("span",null,u(N)+" "+u($?" with term "+$:""),1)])]),body:a(v=>[e(ye,{props:v},{default:a(()=>[e(E,{key:"name",props:v,class:"wrap-column"},{default:a(()=>[g(u(v.row.name)+" ",1),t(n).screen.gt.sm?A("",!0):(k(),T(Y,{key:0},[v.row.description?(k(),T("div",Pr,[e(V,{name:"description"}),g(" "+u(v.row.description),1)])):A("",!0)],64))]),_:2},1032,["props"]),e(E,{key:"description",props:v,class:"wrap-column"},{default:a(()=>[g(u(v.row.description),1)]),_:2},1032,["props"]),e(E,{key:"action",props:v},{default:a(()=>[l("div",Mr,[e(P,{disabled:!t(je)(h.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:d[3]||(d[3]=W(()=>{},["stop"]))},{default:a(()=>[e(Ae,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e($e,{style:{width:"200px"}},{default:a(()=>[F((k(),R(K,{clickable:"",onClick:W(N=>t(j).get(h.route("admin.product-category.duplicate",v.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"file_copy"})]),_:1}),e(O,{icon:"copy"},{default:a(()=>d[5]||(d[5]=[g("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]]),F((k(),R(K,{clickable:"",onClick:W(N=>t(j).get(h.route("admin.product-category.edit",v.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"edit"})]),_:1}),e(O,{icon:"edit"},{default:a(()=>d[6]||(d[6]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]]),F((k(),R(K,{onClick:W(N=>p(v.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>d[7]||(d[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[c.value?{name:"header",fn:a(()=>[e(Ne,{class:"filter-bar"},{default:a(()=>[l("div",Vr,[e(H,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":d[2]||(d[2]=v=>m.search=v),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},Or=Object.freeze(Object.defineProperty({__proto__:null,default:Nr},Symbol.toStringTag,{value:"Module"})),Ir={class:"q-gutter-sm"},Dr={class:"q-gutter-sm"},Ur={class:"row justify-center"},Ar={class:"col col-lg-6 q-pa-sm"},Er={class:"row"},Rr={class:"detail"},jr={key:0},Br={key:1},zr={class:"detail"},Lr={class:"detail"},Yr={key:0},Hr={key:1},Fr={class:"detail"},Kr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Qr={class:"flex q-gutter-sm"},Wr={class:""},Jr={__name:"Detail",setup(f){const n=se(),c=`Rincian Produk #${n.props.data.id}`,o=M("main"),s=M([]),m=M(!0),r=xe({...Ve()}),i=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),p=[{name:"id",label:"#",field:"id",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!0},{name:"quantity",label:"Jumlah",field:"quantity",align:"center",sortable:!0}];_e(()=>{_()});const _=(d=null)=>Ce({pagination:i,filter:r,props:d,rows:s,url:route("admin.stock-movement.data",{product_id:n.props.data.id}),loading:m}),b=ce(),h=J(()=>b.screen.gt.sm?p:p.filter(d=>d.name==="id"));return(d,y)=>{const q=U("i-head"),v=U("i-link"),N=U("authenticated-layout");return k(),T(Y,null,[e(q,{title:c}),e(N,null,{title:a(()=>[g(u(c))]),"left-button":a(()=>[l("div",Ir,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:y[0]||(y[0]=$=>d.$inertia.get(d.route("admin.product.index")))})])]),"right-button":a(()=>[l("div",Dr,[e(P,{icon:"edit",dense:"",color:"primary",onClick:y[1]||(y[1]=$=>t(j).get(d.route("admin.product.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[l("div",Ur,[l("div",Ar,[l("div",Er,[e(ee,{square:"",flat:"",bordered:"",class:"q-card col"},{default:a(()=>[e(At,{modelValue:o.value,"onUpdate:modelValue":y[2]||(y[2]=$=>o.value=$),align:"left"},{default:a(()=>[e(ot,{name:"main",label:"Info Utama"}),e(ot,{name:"history",label:"Riwayat Stok"})]),_:1},8,["modelValue"]),e(Et,{modelValue:o.value,"onUpdate:modelValue":y[4]||(y[4]=$=>o.value=$)},{default:a(()=>[e(nt,{name:"main"},{default:a(()=>[y[41]||(y[41]=l("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Produk ",-1)),l("table",Rr,[l("tbody",null,[l("tr",null,[y[5]||(y[5]=l("td",{style:{width:"120px"}},"ID",-1)),y[6]||(y[6]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,"# "+u(t(n).props.data.id),1)]),l("tr",null,[y[7]||(y[7]=l("td",null,"Nama Produk",-1)),y[8]||(y[8]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[y[9]||(y[9]=l("td",null,"Jenis Produk",-1)),y[10]||(y[10]=l("td",null,":",-1)),l("td",null,u(d.$CONSTANTS.PRODUCT_TYPES[t(n).props.data.type]),1)]),l("tr",null,[y[11]||(y[11]=l("td",null,"Kategori",-1)),y[12]||(y[12]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.category?t(n).props.data.category.name:"--Tidak memiliki kategori--"),1)]),l("tr",null,[y[13]||(y[13]=l("td",null,"Supplier",-1)),y[14]||(y[14]=l("td",null,":",-1)),l("td",null,[t(n).props.data.supplier?(k(),R(v,{key:0,href:d.route("admin.supplier.detail",{id:t(n).props.data.supplier.id})},{default:a(()=>[g(u("#"+t(n).props.data.supplier.id+" - "+t(n).props.data.supplier.name),1)]),_:1},8,["href"])):(k(),T(Y,{key:1},[g(u("--Tidak memiliki supplier--"))],64))])]),l("tr",null,[y[15]||(y[15]=l("td",null,"Status",-1)),y[16]||(y[16]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),t(n).props.data.created_at?(k(),T("tr",jr,[y[18]||(y[18]=l("td",null,"Dibuat Oleh",-1)),y[19]||(y[19]=l("td",null,":",-1)),l("td",null,[t(n).props.data.created_by?(k(),T(Y,{key:0},[e(v,{href:d.route("admin.user.detail",{id:t(n).props.data.created_by})},{default:a(()=>[g(u(t(n).props.data.created_by.username)+" - "+u(t(n).props.data.created_by.name),1)]),_:1},8,["href"]),y[17]||(y[17]=g(" - "))],64)):A("",!0),g(" "+u(d.$dayjs(new Date(t(n).props.data.created_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):A("",!0),t(n).props.data.updated_at?(k(),T("tr",Br,[y[21]||(y[21]=l("td",null,"Diperbarui oleh",-1)),y[22]||(y[22]=l("td",null,":",-1)),l("td",null,[t(n).props.data.updated_by?(k(),T(Y,{key:0},[e(v,{href:d.route("admin.user.detail",{id:t(n).props.data.updated_by})},{default:a(()=>[g(u(t(n).props.data.updated_by.username)+" - "+u(t(n).props.data.updated_by.name),1)]),_:1},8,["href"]),y[20]||(y[20]=g(" - "))],64)):A("",!0),g(" "+u(d.$dayjs(new Date(t(n).props.data.updated_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):A("",!0)])]),y[42]||(y[42]=l("div",{class:"text-subtitle1 q-pt-lg text-bold text-grey-9"}," Info Inventori ",-1)),l("table",zr,[l("tbody",null,[l("tr",null,[y[23]||(y[23]=l("td",{style:{width:"120px"}},"Stok",-1)),y[24]||(y[24]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(B)(t(n).props.data.stock))+" "+u(t(n).props.data.uom),1)]),l("tr",null,[y[25]||(y[25]=l("td",null,"Stok Minimum",-1)),y[26]||(y[26]=l("td",null,":",-1)),l("td",null,u(t(B)(t(n).props.data.min_stock))+" "+u(t(n).props.data.uom),1)]),l("tr",null,[y[27]||(y[27]=l("td",null,"Stok Maksimum",-1)),y[28]||(y[28]=l("td",null,":",-1)),l("td",null,u(t(B)(t(n).props.data.max_stock))+" "+u(t(n).props.data.uom),1)]),l("tr",null,[y[29]||(y[29]=l("td",null,"Barcode",-1)),y[30]||(y[30]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.barcode),1)])])]),y[43]||(y[43]=l("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Harga ",-1)),l("table",Lr,[l("tbody",null,[d.$page.props.auth.user.role==d.$CONSTANTS.USER_ROLE_ADMIN?(k(),T("tr",Yr,[y[31]||(y[31]=l("td",{style:{width:"120px"}},"Harga Beli",-1)),y[32]||(y[32]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,"Rp. "+u(t(B)(t(n).props.data.cost)),1)])):A("",!0),l("tr",null,[y[33]||(y[33]=l("td",null,"Harga Jual",-1)),y[34]||(y[34]=l("td",null,":",-1)),l("td",null,"Rp. "+u(t(B)(t(n).props.data.price)),1)]),d.$page.props.auth.user.role==d.$CONSTANTS.USER_ROLE_ADMIN?(k(),T("tr",Hr,[y[35]||(y[35]=l("td",null,"Margin",-1)),y[36]||(y[36]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.price>0?t(B)((t(n).props.data.price-t(n).props.data.cost)/t(n).props.data.price*100,"id-ID",2):0)+" % ",1)])):A("",!0)])]),y[44]||(y[44]=l("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Deskripsi & Catatan ",-1)),l("table",Fr,[l("tbody",null,[l("tr",null,[y[37]||(y[37]=l("td",{style:{width:"120px"}},"Deskirpsi",-1)),y[38]||(y[38]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.description),1)]),l("tr",null,[y[39]||(y[39]=l("td",null,"Catatan",-1)),y[40]||(y[40]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.notes),1)])])])]),_:1}),e(nt,{name:"history"},{default:a(()=>[e(ve,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":y[3]||(y[3]=$=>i.value=$),filter:r.search,loading:m.value,columns:h.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:_,"binary-state-sort":""},{loading:a(()=>[e(Te,{showing:"",color:"red"})]),"no-data":a(({icon:$,message:x,filter:S})=>[l("div",Kr,[l("span",null,u(x)+" "+u(S?" with term "+S:""),1)])]),body:a($=>[e(ye,{props:$},{default:a(()=>[e(E,{key:"id",props:$},{default:a(()=>[l("div",Qr,[l("div",null,[l("b",null,"#"+u($.row.id),1)]),l("div",null," - "+u(d.$dayjs(new Date($.row.created_at)).format("DD/MM/YYYY hh:mm:ss")),1),l("div",null," - "+u($.row.created_by?$.row.created_by.username:"--"),1)]),t(b).screen.lt.md?(k(),T(Y,{key:0},[l("div",Wr,u(d.$CONSTANTS.STOCKMOVEMENT_REFTYPES[$.row.ref_type]),1),l("div",{class:me($.row.quantity<0?"text-red-10":$.row.quantity>0?"text-green-10":"")},[e(V,{name:$.row.quantity<0?"arrow_downward":$.row.quantity>0?"arrow_upward":""},null,8,["name"]),g(" "+u(t(B)($.row.quantity)),1)],2)],64)):A("",!0)]),_:2},1032,["props"]),e(E,{key:"type",props:$},{default:a(()=>[g(u(d.$CONSTANTS.STOCKMOVEMENT_REFTYPES[$.row.ref_type]),1)]),_:2},1032,["props"]),e(E,{key:"quantity",props:$},{default:a(()=>[l("div",{class:me($.row.quantity<0?"text-red-10":$.row.quantity>0?"text-green-10":"")},[e(V,{name:$.row.quantity<0?"arrow_downward":$.row.quantity>0?"arrow_upward":""},null,8,["name"]),g(" "+u(t(B)($.row.quantity)),1)],2)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])])]),_:1})],64)}}},Gr=Object.freeze(Object.defineProperty({__proto__:null,default:Jr},Symbol.toStringTag,{value:"Module"}));function Pa(f,n=!1){const c=f.map(r=>({value:r.id,label:r.name})),o=n?[{value:"all",label:"Semua"},...c]:c,s=M([...o]);return{filteredCategories:s,filterCategories:(r,i)=>{const p=r.toLowerCase();i(()=>{s.value=o.filter(_=>_.label.toLowerCase().includes(p))})},categories:o}}function Rt(f,n=!1){const c=f.map(r=>({value:r.id,label:"#"+r.id+" - "+r.name})),o=n?[{value:"all",label:"Semua"},...c]:c,s=M([...o]);return{filteredSuppliers:s,filterSupplierFn:(r,i)=>{i(()=>{s.value=o.filter(p=>p.label.toLowerCase().includes(r.toLowerCase()))})},suppliers:o}}const Xr={class:"q-gutter-sm"},Zr={class:"col col-lg-6 q-pa-sm"},ei={style:{"margin-left":"-10px"}},ti={__name:"Editor",setup(f){const n=se(),c=(n.props.data.id?"Edit":"Tambah")+" Produk",o=Ue(window.CONSTANTS.PRODUCT_TYPES),s=we({id:n.props.data.id,category_id:n.props.data.category_id,supplier_id:n.props.data.supplier_id,type:n.props.data.type,name:n.props.data.name,barcode:n.props.data.barcode,description:n.props.data.description,stock:parseFloat(n.props.data.stock),min_stock:parseFloat(n.props.data.min_stock),max_stock:parseFloat(n.props.data.max_stock),uom:n.props.data.uom,cost:parseFloat(n.props.data.cost),price:parseFloat(n.props.data.price),active:!!n.props.data.active,notes:n.props.data.notes}),m=()=>ke({form:s,url:route("admin.product.save")}),{filteredCategories:r,filterCategories:i}=Pa(n.props.categories),{filteredSuppliers:p,filterSuppliers:_}=Rt(n.props.suppliers),b=J(()=>s.price>0?(s.price-s.cost)/s.price*100:0);return(h,d)=>{const y=U("i-head"),q=U("authenticated-layout");return k(),T(Y,null,[e(y,{title:c}),e(q,null,{title:a(()=>[g(u(c))]),"left-button":a(()=>[l("div",Xr,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:d[0]||(d[0]=v=>h.$inertia.get(h.route("admin.product.index")))})])]),default:a(()=>[e(be,{class:"row justify-center"},{default:a(()=>[l("div",Zr,[e(he,{class:"row",onSubmit:W(m,["prevent"]),onValidationError:t(qe)},{default:a(()=>[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Q,{class:"q-pt-none"},{default:a(()=>[F(l("input",{type:"hidden",name:"id","onUpdate:modelValue":d[1]||(d[1]=v=>t(s).id=v)},null,512),[[Re,t(s).id]]),d[20]||(d[20]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Utama",-1)),e(Z,{autofocus:"",modelValue:t(s).type,"onUpdate:modelValue":d[2]||(d[2]=v=>t(s).type=v),class:"custom-select",options:t(o),label:"Jenis","map-options":"","emit-value":""},null,8,["modelValue","options"]),e(H,{modelValue:t(s).name,"onUpdate:modelValue":d[3]||(d[3]=v=>t(s).name=v),modelModifiers:{trim:!0},label:"Nama Produk","lazy-rules":"",error:!!t(s).errors.name,disable:t(s).processing,"error-message":t(s).errors.name,rules:[v=>v&&v.length>0||"Nama harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(H,{modelValue:t(s).description,"onUpdate:modelValue":d[4]||(d[4]=v=>t(s).description=v),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Deskripsi","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.description,"error-message":t(s).errors.description},null,8,["modelValue","disable","error","error-message"]),e(Z,{modelValue:t(s).category_id,"onUpdate:modelValue":d[5]||(d[5]=v=>t(s).category_id=v),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:t(r),"map-options":"","emit-value":"",onFilter:t(i),"option-label":"label","option-value":"value",error:!!t(s).errors.category_id,disable:t(s).processing},{"no-option":a(()=>[e(K,null,{default:a(()=>[e(O,null,{default:a(()=>d[18]||(d[18]=[g("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),e(Z,{modelValue:t(s).supplier_id,"onUpdate:modelValue":d[6]||(d[6]=v=>t(s).supplier_id=v),label:"Supplier","use-input":"","input-debounce":"300",clearable:"",options:t(p),"map-options":"","emit-value":"",onFilter:t(_),"option-label":"label","option-value":"value",error:!!t(s).errors.supplier_id,disable:t(s).processing},{"no-option":a(()=>[e(K,null,{default:a(()=>[e(O,null,{default:a(()=>d[19]||(d[19]=[g("Supplier tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),l("div",ei,[e(Xe,{class:"full-width q-pl-none",modelValue:t(s).active,"onUpdate:modelValue":d[7]||(d[7]=v=>t(s).active=v),disable:t(s).processing,label:"Aktif"},null,8,["modelValue","disable"])]),d[21]||(d[21]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Inventori",-1)),e(H,{modelValue:t(s).barcode,"onUpdate:modelValue":d[8]||(d[8]=v=>t(s).barcode=v),modelModifiers:{trim:!0},label:"Barcode","lazy-rules":"",error:!!t(s).errors.barcode,disable:t(s).processing,"error-message":t(s).errors.barcode},null,8,["modelValue","error","disable","error-message"]),e(H,{modelValue:t(s).uom,"onUpdate:modelValue":d[9]||(d[9]=v=>t(s).uom=v),modelModifiers:{trim:!0},label:"Satuan","lazy-rules":"",error:!!t(s).errors.uom,disable:t(s).processing,"error-message":t(s).errors.uom},null,8,["modelValue","error","disable","error-message"]),e(Me,{modelValue:t(s).stock,"onUpdate:modelValue":d[10]||(d[10]=v=>t(s).stock=v),label:"Stok",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.stock,errorMessage:t(s).errors.stock},null,8,["modelValue","disable","error","errorMessage"]),e(Me,{modelValue:t(s).min_stock,"onUpdate:modelValue":d[11]||(d[11]=v=>t(s).min_stock=v),label:"Stok Minimum",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.min_stock,errorMessage:t(s).errors.min_stock},null,8,["modelValue","disable","error","errorMessage"]),e(Me,{modelValue:t(s).max_stock,"onUpdate:modelValue":d[12]||(d[12]=v=>t(s).max_stock=v),label:"Stok Maksimum",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.max_stock,errorMessage:t(s).errors.max_stock},null,8,["modelValue","disable","error","errorMessage"]),d[22]||(d[22]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Harga",-1)),e(Me,{modelValue:t(s).cost,"onUpdate:modelValue":d[13]||(d[13]=v=>t(s).cost=v),label:"Modal / Harga Beli (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.cost,errorMessage:t(s).errors.cost},null,8,["modelValue","disable","error","errorMessage"]),e(Me,{modelValue:t(s).price,"onUpdate:modelValue":d[14]||(d[14]=v=>t(s).price=v),label:"Harga Jual (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.max_stock,errorMessage:t(s).errors.price},null,8,["modelValue","disable","error","errorMessage"]),e(Me,{modelValue:b.value,"onUpdate:modelValue":d[15]||(d[15]=v=>b.value=v),label:"Margin (%)",lazyRules:"",disable:t(s).processing,maxDecimals:2},null,8,["modelValue","disable"]),d[23]||(d[23]=l("div",{class:"text-subtitle1 q-pt-lg"},"Info Lainnya",-1)),e(H,{modelValue:t(s).notes,"onUpdate:modelValue":d[16]||(d[16]=v=>t(s).notes=v),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(Q,{class:"q-gutter-sm"},{default:a(()=>[e(P,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(P,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:d[17]||(d[17]=v=>t(j).get(h.route("admin.product.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},ai=Object.freeze(Object.defineProperty({__proto__:null,default:ti},Symbol.toStringTag,{value:"Module"})),li={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},oi={class:"q-pa-sm"},ni={class:"full-width row flex-center text-grey-8 q-gutter-sm"},si={key:0,class:"text-grey-8"},ri={key:1,class:"text-grey-8"},ii={key:0},ui={key:1},di={class:"flex justify-end"},ca="Produk",mi={__name:"Index",setup(f){const n=se(),c=M(!1),o=[{value:"all",label:"Semua"},...Ue(window.CONSTANTS.PRODUCT_TYPES)],s=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],m=[{value:"all",label:"Semua"},{value:"ready",label:"Tersedia"},{value:"out",label:"Kosong"},{value:"low",label:"Stok Rendah"},{value:"over",label:"Stok Berlebih"}],r=ce(),i=M(!1),p=M([]),_=M(!0),b=xe({type:"all",category_id:"all",supplier_id:"all",status:"active",stock_status:"all",search:"",...Ve()}),h=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1});let d=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"cost",label:"Modal",field:"cost",align:"right"},{name:"price",label:"Harga",field:"price",align:"right"},{name:"action",align:"right"}];_e(()=>{q()});const y=I=>Ee({message:`Hapus Produk ${I.name}?`,url:route("admin.product.delete",I.id),fetchItemsCallback:q,loading:_}),q=(I=null)=>{Ce({pagination:h,filter:b,props:I,rows:p,url:route("admin.product.data"),loading:_})},v=()=>{q()},{filteredCategories:N,filterCategories:$}=Pa(n.props.categories,!0),{filteredSuppliers:x,filterSuppliers:S}=Rt(n.props.suppliers,!0),w=J(()=>{let I=[...d];return c.value||I.splice(2,1),r.screen.gt.sm?I:I.filter(C=>C.name==="name"||C.name==="action")});return(I,C)=>{const D=U("i-head"),le=U("authenticated-layout");return k(),T(Y,null,[e(D,{title:ca}),e(le,null,Oe({title:a(()=>[g(u(ca))]),"right-button":a(()=>[I.$can("admin.product.add")?(k(),R(P,{key:0,class:"q-mr-sm",icon:c.value?"visibility":"visibility_off",label:"",dense:"",color:"grey",onClick:C[0]||(C[0]=L=>c.value=!c.value)},null,8,["icon"])):A("",!0),e(P,{icon:"add",dense:"",color:"primary",onClick:C[1]||(C[1]=L=>t(j).get(I.route("admin.product.add")))}),e(P,{class:"q-ml-sm",icon:i.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:C[2]||(C[2]=L=>i.value=!i.value)},null,8,["icon"])]),default:a(()=>[l("div",oi,[e(ve,{class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:h.value,"onUpdate:pagination":C[10]||(C[10]=L=>h.value=L),filter:b.search,loading:_.value,columns:w.value,rows:p.value,"rows-per-page-options":[10,25,50],onRequest:q,"binary-state-sort":""},{loading:a(()=>[e(Te,{showing:"",color:"red"})]),"no-data":a(({icon:L,message:re,filter:Be})=>[l("div",ni,[l("span",null,u(re)+" "+u(Be?" with term "+Be:""),1)])]),body:a(L=>[e(ye,{props:L,class:me([{inactive:!L.row.active},"cursor-pointer"]),onClick:re=>t(j).get(I.route("admin.product.detail",L.row.id))},{default:a(()=>[e(E,{key:"name",props:L,class:"wrap-column"},{default:a(()=>[g(u(L.row.name)+" ",1),L.row.category_id?(k(),T("div",si,[e(V,{name:"category"}),g(" "+u(L.row.category.name),1)])):A("",!0),L.row.supplier_id?(k(),T("div",ri,[e(V,{name:"local_shipping"}),g(" "+u(L.row.supplier.name),1)])):A("",!0),t(r).screen.gt.sm?A("",!0):(k(),T(Y,{key:2},[L.row.type=="stocked"?(k(),T("div",ii,[e(V,{name:"cycle"}),g(" Stok: "+u(t(B)(L.row.stock))+" "+u(L.row.uom),1)])):A("",!0),c.value?(k(),T("div",ui,[e(V,{name:"money"}),g(" Modal: Rp. "+u(t(B)(L.row.cost)),1)])):A("",!0),l("div",null,[e(V,{name:"sell"}),g(" Harga: Rp. "+u(t(B)(L.row.price)),1)])],64))]),_:2},1032,["props"]),e(E,{key:"stock",props:L,class:me(["wrap-column",{"low-stock":L.row.type=="stocked"&&(Number(L.row.stock)==0||Number(L.row.stock)<Number(L.row.min_stock)),"over-stock":L.row.type=="stocked"&&Number(L.row.max_stock)&&Number(L.row.stock)>Number(L.row.max_stock)}])},{default:a(()=>[g(u(L.row.type=="stocked"?t(B)(L.row.stock)+" "+L.row.uom:"-"),1)]),_:2},1032,["props","class"]),(k(),R(E,{key:"cost",props:L,class:"wrap-column"},{default:a(()=>[g(u(t(B)(L.row.cost)),1)]),_:2},1032,["props"])),e(E,{key:"price",props:L,class:"wrap-column"},{default:a(()=>[g(u(t(B)(L.row.price)),1)]),_:2},1032,["props"]),e(E,{key:"action",props:L},{default:a(()=>[l("div",di,[e(P,{disabled:!t(je)(I.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:C[9]||(C[9]=W(()=>{},["stop"]))},{default:a(()=>[e(Ae,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e($e,{style:{width:"200px"}},{default:a(()=>[F((k(),R(K,{clickable:"",onClick:W(re=>t(j).get(I.route("admin.product.duplicate",L.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"file_copy"})]),_:1}),e(O,{icon:"copy"},{default:a(()=>C[11]||(C[11]=[g("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]]),F((k(),R(K,{clickable:"",onClick:W(re=>t(j).get(I.route("admin.product.edit",L.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"edit"})]),_:1}),e(O,{icon:"edit"},{default:a(()=>C[12]||(C[12]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]]),I.$page.props.auth.user.role==I.$CONSTANTS.USER_ROLE_ADMIN?F((k(),R(K,{key:0,onClick:W(re=>y(L.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>C[13]||(C[13]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]]):A("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[i.value?{name:"header",fn:a(()=>[e(Ne,{class:"filter-bar"},{default:a(()=>[l("div",li,[e(Z,{modelValue:b.type,"onUpdate:modelValue":[C[3]||(C[3]=L=>b.type=L),v],class:"custom-select col-xs-12 col-sm-2",options:o,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(Z,{modelValue:b.status,"onUpdate:modelValue":[C[4]||(C[4]=L=>b.status=L),v],class:"custom-select col-xs-12 col-sm-2",options:s,label:"Status",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(Z,{modelValue:b.stock_status,"onUpdate:modelValue":[C[5]||(C[5]=L=>b.stock_status=L),v],class:"custom-select col-xs-12 col-sm-2",options:m,label:"Status Stok",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(Z,{modelValue:b.category_id,"onUpdate:modelValue":[C[6]||(C[6]=L=>b.category_id=L),v],label:"Kategori",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:t(N),"map-options":"",dense:"","emit-value":"",onFilter:t($),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),e(Z,{modelValue:b.supplier_id,"onUpdate:modelValue":[C[7]||(C[7]=L=>b.supplier_id=L),v],label:"Pemasok",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:t(x),"map-options":"",dense:"","emit-value":"",onFilter:t(S),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),e(H,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:b.search,"onUpdate:modelValue":C[8]||(C[8]=L=>b.search=L),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},ci=Object.freeze(Object.defineProperty({__proto__:null,default:mi},Symbol.toStringTag,{value:"Module"})),Ma={__name:"UpdatePasswordForm",setup(f){const n=M(!1),c=M(null),o=M(null),s=we({current_password:"",password:"",password_confirmation:""}),m=()=>{s.clearErrors(),s.post(route("admin.profile.update-password"),{preserveScroll:!0,onSuccess:()=>s.reset(),onError:()=>{s.errors.password&&(s.reset("password","password_confirmation"),c.value.focus()),s.errors.current_password&&(s.reset("current_password"),o.value.focus())}})};return(r,i)=>(k(),R(he,{class:"row",onSubmit:W(m,["prevent"]),onValidationError:t(qe)},{default:a(()=>[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Q,null,{default:a(()=>[i[6]||(i[6]=l("div",{class:"text-h6 q-my-xs text-subtitle1"},"Perbarui Kata Sandi",-1)),i[7]||(i[7]=l("p",{class:"text-caption text-grey-9"},"Pastikan akun anda menggunakan kata sandi acak yang panjang agar akun tetap aman.",-1)),e(H,{modelValue:t(s).current_password,"onUpdate:modelValue":i[1]||(i[1]=p=>t(s).current_password=p),label:"Kata Sandi Sekarang",type:n.value?"text":"password","lazy-rules":"",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.current_password,"error-message":t(s).errors.current_password,rules:[p=>p&&p.length>0||"Kata sandi harus diisi."]},{append:a(()=>[e(P,{dense:"",flat:"",round:"",onClick:i[0]||(i[0]=p=>n.value=!n.value)},{default:a(()=>[e(V,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(H,{modelValue:t(s).password,"onUpdate:modelValue":i[3]||(i[3]=p=>t(s).password=p),label:"Kata Sandi Baru",type:n.value?"text":"password","lazy-rules":"",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.password,"error-message":t(s).errors.password,rules:[p=>p&&p.length>0||"Kata sandi harus diisi."]},{append:a(()=>[e(P,{dense:"",flat:"",round:"",onClick:i[2]||(i[2]=p=>n.value=!n.value)},{default:a(()=>[e(V,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(H,{modelValue:t(s).password_confirmation,"onUpdate:modelValue":i[5]||(i[5]=p=>t(s).password_confirmation=p),label:"Konfirmasi Kata Sandi",type:n.value?"text":"password","lazy-rules":"",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.password_confirmation,"error-message":t(s).errors.password_confirmation,rules:[p=>p&&p.length>0||"Kata sandi harus diisi."]},{append:a(()=>[e(P,{dense:"",flat:"",round:"",onClick:i[4]||(i[4]=p=>n.value=!n.value)},{default:a(()=>[e(V,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"])]),_:1}),e(Q,null,{default:a(()=>[e(P,{type:"submit",color:"primary",label:"Perbarui Kata Sandi",disable:t(s).processing,icon:"save"},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},pi=Object.freeze(Object.defineProperty({__proto__:null,default:Ma},Symbol.toStringTag,{value:"Module"})),Na={__name:"UpdateProfileInformationForm",setup(f){const c=se().props.auth.user,o=we({name:c.name,username:c.username,role:window.CONSTANTS.USER_ROLES[c.role]}),s=()=>ke({form:o,url:route("admin.profile.update")});return(m,r)=>(k(),R(he,{class:"row",onSubmit:W(s,["prevent"]),onValidationError:t(qe)},{default:a(()=>[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Q,null,{default:a(()=>[r[3]||(r[3]=l("div",{class:"text-h6 q-my-xs text-subtitle1"},"Profil Saya",-1)),r[4]||(r[4]=l("p",{class:"text-caption text-grey-9"},"Perbarui profil anda.",-1)),e(H,{readonly:"",modelValue:t(o).username,"onUpdate:modelValue":r[0]||(r[0]=i=>t(o).username=i),label:"ID Pengguna",disable:t(o).processing},null,8,["modelValue","disable"]),e(H,{modelValue:t(o).name,"onUpdate:modelValue":r[1]||(r[1]=i=>t(o).name=i),modelModifiers:{trim:!0},label:"Nama",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.name,"error-message":t(o).errors.name,rules:[i=>i&&i.length>0||"Name harus diisi."]},null,8,["modelValue","disable","error","error-message","rules"]),e(H,{readonly:"",modelValue:t(o).role,"onUpdate:modelValue":r[2]||(r[2]=i=>t(o).role=i),label:"Hak Akses",disable:t(o).processing},null,8,["modelValue","disable"])]),_:1}),e(Q,null,{default:a(()=>[e(P,{type:"submit",color:"primary",label:"Perbarui Profil Saya",disable:t(o).processing,icon:"save"},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},fi=Object.freeze(Object.defineProperty({__proto__:null,default:Na},Symbol.toStringTag,{value:"Module"})),gi={class:"q-pa-sm"},bi={class:"row justify-center"},_i={class:"col col-lg-6"},pa="Profil Saya",vi={__name:"Edit",setup(f){return(n,c)=>{const o=U("i-head"),s=U("authenticated-layout");return k(),T(Y,null,[e(o,{title:pa}),e(s,null,{title:a(()=>[g(u(pa))]),default:a(()=>[l("div",gi,[l("div",bi,[l("div",_i,[e(Na,{class:"q-mb-md"}),e(Ma)])])])]),_:1})],64)}}},yi=Object.freeze(Object.defineProperty({__proto__:null,default:vi},Symbol.toStringTag,{value:"Module"}));function wi(){const f=M(new Date);let n=null;const c=()=>{f.value=new Date};_e(()=>{n=setInterval(c,1e3)}),Il(()=>{n&&clearInterval(n)});const o=J(()=>f.value.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})),s=J(()=>f.value.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}));return{currentDate:o,currentTime:s}}const ki={class:"text-grey-8"},Oa={__name:"DigitalClock",setup(f){const{currentDate:n,currentTime:c}=wi();return(o,s)=>(k(),T("div",ki,u(t(n))+" - "+u(t(c)),1))}},hi={class:"row q-col-gutter-md items-center q-px-md q-py-sm"},$i={class:"col-12 col-sm-6 col-md-4"},Si={class:"text-bold"},xi={key:0,class:"col-12 col-md-4 text-center"},qi={class:"text-h6 text-weight-bold text-grey-8"},Vi={key:0,class:"text-subtitle2 text-weight-bold text-grey-8"},Ci={key:1,class:"text-subtitle2 text-weight-bold text-grey-8"},Ti={class:"text-weight-bold"},Ia={__name:"TransactionHeader",props:{user:{type:Object,required:!0},company:{type:Object,required:!0}},emits:["edit-supplier"],setup(f){return(n,c)=>(k(),T("div",hi,[l("div",$i,[l("div",Si,[c[1]||(c[1]=g(" Info Supplier ")),e(P,{icon:"edit",flat:"",rounded:"",dense:"",color:"grey",size:"sm",onClick:c[0]||(c[0]=o=>n.$emit("edit-supplier"))})]),c[2]||(c[2]=l("div",{class:"text-grey-8 text-italic"},"Supplier belum dipilih.",-1))]),n.$q.screen.gt.sm?(k(),T("div",xi,[l("div",qi,u(f.company.name),1),f.company.address?(k(),T("div",Vi,u(f.company.address),1)):A("",!0),f.company.phone?(k(),T("div",Ci,u(f.company.phone),1)):A("",!0)])):A("",!0),l("div",{class:me(["col-12 col-sm-6 col-md-4",n.$q.screen.gt.sm?"text-right":""])},[l("div",Ti,u(f.user.username)+" - "+u(f.user.name),1),e(Oa)],2)]))}},Pi=Object.freeze(Object.defineProperty({__proto__:null,default:Ia},Symbol.toStringTag,{value:"Module"})),Mi={class:"text-weight-medium"},Ni={class:"text-caption text-grey-6"},Oi={class:"text-weight-medium"},Ii={class:"text-weight-bold text-primary"},Da={__name:"ItemsListTable",props:{items:{type:Array,required:!0},columns:{type:Array,required:!0}},emits:["update-quantity","remove-item"],setup(f){return(n,c)=>(k(),R(ve,{dense:"",rows:f.items,columns:f.columns,"row-key":"id",flat:"",square:"",bordered:"",class:"bg-grey-1 pos-table q-pa-none col","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48},{header:a(o=>[e(ye,{props:o,class:"bg-grey-4"},{default:a(()=>[(k(!0),T(Y,null,lt(o.cols,s=>(k(),R(Va,{key:s.name,props:o,class:"text-weight-bold text-grey-8"},{default:a(()=>[g(u(s.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(o=>[e(ye,{props:o,class:"hover-highlight"},{default:a(()=>[e(E,{key:"name",props:o,class:"text-left"},{default:a(()=>[l("div",Mi,u(o.row.name),1),l("div",Ni," Barcode: "+u(o.row.barcode),1)]),_:2},1032,["props"]),e(E,{key:"price",props:o,class:"text-center"},{default:a(()=>[l("div",Oi,[e(Me,{"model-value":o.row.price,dense:"",style:{width:"80px","text-align":"right"}},null,8,["model-value"])])]),_:2},1032,["props"]),e(E,{key:"quantity",props:o,class:"text-center"},{default:a(()=>[e(Me,{"model-value":o.row.quantity,dense:"",style:{width:"80px","text-align":"right"},"onUpdate:modelValue":s=>n.$emit("update-quantity",{id:o.row.id,value:s}),onKeyup:c[0]||(c[0]=Ot(s=>s.target.blur(),["enter"]))},null,8,["model-value","onUpdate:modelValue"])]),_:2},1032,["props"]),e(E,{key:"subtotal",props:o,class:"text-center"},{default:a(()=>[l("div",Ii," Rp. "+u(t(B)(o.row.price*o.row.quantity)),1)]),_:2},1032,["props"]),e(E,{key:"action",props:o,class:"text-center"},{default:a(()=>[e(P,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:s=>n.$emit("remove-item",o.row)},{default:a(()=>[e(zl,null,{default:a(()=>c[1]||(c[1]=[g("Hapus Item")])),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]))}},Di=Object.freeze(Object.defineProperty({__proto__:null,default:Da},Symbol.toStringTag,{value:"Module"})),Ui={class:"column"},Ai={class:"row justify-end items-center q-gutter-sm"},Ei={class:"text-h4 text-weight-bold text-primary"},Ri={class:"text-caption text-grey-6 q-mt-xs text-right"},ji={class:"q-py-sm"},Bi={class:"q-py-sm"},Ua={__name:"TransactionSummary",props:{subtotal:{type:Number,required:!0},itemCount:{type:Number,required:!0},barcode:{type:String,required:!0},isProcessing:{type:Boolean,default:!1},formProcessing:{type:Boolean,default:!1}},emits:["update:barcode","add-item","process-payment"],setup(f,{expose:n}){const c=M(null);_e(()=>{o()});const o=()=>{ht(()=>{c.value&&c.value.focus()})};return n({focusOnBarcodeInput:o}),(s,m)=>(k(),T("div",Ui,[l("div",Ai,[m[3]||(m[3]=l("span",{class:"text-weight-bold text-grey-8"},"GRAND TOTAL: Rp.",-1)),l("span",Ei,u(t(B)(f.subtotal)),1)]),l("div",Ri,u(f.itemCount)+" item(s) ",1),l("div",ji,[e(H,{ref_key:"barcodeInputRef",ref:c,"model-value":f.barcode,"onUpdate:modelValue":m[0]||(m[0]=r=>s.$emit("update:barcode",r)),placeholder:"<Input Barcode>",outlined:"",square:"",class:"col bg-white",onKeyup:m[1]||(m[1]=Ot(r=>s.$emit("add-item"),["enter"])),loading:f.isProcessing,clearable:"",autofocus:""},{prepend:a(()=>[e(V,{name:"qr_code_scanner"})]),_:1},8,["model-value","loading"])]),l("div",Bi,[e(P,{class:"full-width",label:"Bayar",color:"primary",icon:"payment",onClick:m[2]||(m[2]=r=>s.$emit("process-payment")),disable:f.itemCount===0,loading:f.formProcessing},null,8,["disable","loading"])])]))}},zi=Object.freeze(Object.defineProperty({__proto__:null,default:Ua},Symbol.toStringTag,{value:"Module"})),Li={class:"q-ml-sm"},Aa={__name:"ConfirmDeleteDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,default:null}},emits:["update:modelValue","confirm"],setup(f){return(n,c)=>(k(),R(dt,{"model-value":f.modelValue,"onUpdate:modelValue":c[1]||(c[1]=o=>n.$emit("update:modelValue",o)),persistent:""},{default:a(()=>[e(ee,null,{default:a(()=>[e(Q,{class:"row items-center"},{default:a(()=>{var o;return[e(Ge,{icon:"delete",color:"negative","text-color":"white"}),l("span",Li,'Hapus item "'+u((o=f.item)==null?void 0:o.name)+'"?',1)]}),_:1}),e(st,{align:"right"},{default:a(()=>[F(e(P,{flat:"",label:"Batal",color:"primary"},null,512),[[ae]]),F(e(P,{flat:"",label:"Hapus",color:"negative",onClick:c[0]||(c[0]=o=>n.$emit("confirm"))},null,512),[[ae]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Yi=Object.freeze(Object.defineProperty({__proto__:null,default:Aa},Symbol.toStringTag,{value:"Module"})),Ea={__name:"SupplierEditorDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","save"],setup(f,{emit:n}){const c=n,o=M(""),s=M(""),m=()=>{c("save",{name:o.value,address:s.value})};return(r,i)=>(k(),R(dt,{"model-value":f.modelValue,"onUpdate:modelValue":i[2]||(i[2]=p=>r.$emit("update:modelValue",p)),persistent:""},{default:a(()=>[e(ee,{style:{width:"400px"}},{default:a(()=>[e(Q,{class:"q-py-none q-pt-lg"},{default:a(()=>i[3]||(i[3]=[l("div",{class:"text-bold text-grey-8"},"Edit Info Supplier",-1)])),_:1}),e(Q,null,{default:a(()=>[e(H,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=p=>o.value=p),label:"Nama Supplier"},null,8,["modelValue"]),e(H,{modelValue:s.value,"onUpdate:modelValue":i[1]||(i[1]=p=>s.value=p),label:"Alamat",type:"textarea",autogrow:"",counter:"",maxlength:"200",class:"q-mt-md"},null,8,["modelValue"])]),_:1}),e(st,{align:"right"},{default:a(()=>[F(e(P,{flat:"",label:"Batal",color:"primary"},null,512),[[ae]]),F(e(P,{flat:"",label:"Simpan",color:"primary",onClick:m},null,512),[[ae]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Hi=Object.freeze(Object.defineProperty({__proto__:null,default:Ea},Symbol.toStringTag,{value:"Module"})),Fi={class:"q-gutter-sm"},Ki={class:"row col **grow**"},Qi={class:"col-12 q-pa-sm column"},Wi={class:"row"},Ji={class:"col-xs-12 col-md-8 q-pa-sm"},Gi={class:"col-md-4 col-xs-12 q-pa-sm"},Xi={__name:"Editor",setup(f){const n=ce(),c=se(),o=M(null),s=we({id:null,formatted_id:"Diisi Otomatis",customer_name:"Pelanggan Umum",datetime:ze().format("YYYY-MM-DD HH:mm:ss"),status:"pending",payment_status:"unpaid",items:[],subtotal:0,tax:0,total:0,notes:""}),m=M(""),r=M(!1),i=M(!1),p=M(null),_=M(!1),b=[{name:"name",required:!0,label:"Item Information",align:"left",field:"name",sortable:!1,style:"width: 300px"},{name:"price",label:"Harga",align:"center",field:"price",sortable:!1,style:"width: 120px"},{name:"quantity",label:"Quantity",align:"center",field:"quantity",sortable:!1,style:"width: 100px"},{name:"subtotal",label:"SubTotal",align:"center",sortable:!1,style:"width: 140px"},{name:"action",label:"Action",align:"center",sortable:!1,style:"width: 80px"}],h=J(()=>{const $=s.items.reduce((x,S)=>x+S.price*S.quantity,0);return s.subtotal=$,s.total=$+s.tax,$}),d=async()=>{if(!m.value.trim()){n.notify({message:"Silakan masukkan barcode",color:"warning",position:"bottom"});return}let $=1,x=m.value.trim(),S=null;const w=x.split("*");if(w.length===3){const C=parseInt(w[0]),D=parseFloat(w[2]);!isNaN(C)&&C>0?$=C:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"bottom"}),!isNaN(D)&&D>=0?S=D:n.notify({message:"Harga tidak valid. Menggunakan harga produk default.",color:"warning",position:"bottom"}),x=w[1]}else if(w.length===2){const C=parseInt(w[0]);!isNaN(C)&&C>0?$=C:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"bottom"}),x=w[1]}const I=s.items.findIndex(C=>C.barcode===x);if(I!==-1)s.items[I].quantity+=$,n.notify({message:`Quantity ${s.items[I].name} bertambah ${$}`,color:"positive",position:"bottom"});else{r.value=!0;try{await new Promise(le=>setTimeout(le,300));const D={...{id:Date.now(),name:`Item ${x}`,barcode:x,price:S!==null?S:Math.floor(Math.random()*5e4)+1e4},quantity:$};s.items.push(D),n.notify({message:`${D.name} berhasil ditambahkan`,color:"positive",position:"bottom",icon:"add_shopping_cart"})}catch(C){console.error("Error fetching item:",C),n.notify({message:"Item tidak ditemukan atau gagal menambahkan item",color:"negative",position:"bottom"})}finally{r.value=!1}}m.value="",await ht(),o.value.focusOnBarcodeInput()},y=$=>{p.value=$,i.value=!0},q=()=>{if(p.value){const $=s.items.findIndex(x=>x.id===p.value.id);if($!==-1){const x=s.items.splice($,1)[0];n.notify({message:`${x.name} dihapus dari keranjang`,color:"info",position:"bottom",icon:"remove_shopping_cart"})}p.value=null}},v=($,x)=>{const S=s.items.find(w=>w.id===$);S&&x>0&&(S.quantity=parseInt(x)||1)},N=()=>{if(s.items.length===0){n.notify({message:"Tidak ada item dalam keranjang",color:"warning",position:"bottom"});return}s.datetime=ze().format("YYYY-MM-DD HH:mm:ss"),s.status="completed",s.payment_status="paid",ke({form:s,url:route("admin.transaction.save")})};return($,x)=>{const S=U("i-head"),w=U("authenticated-layout");return k(),T(Y,null,[e(S,{title:"Order Pembelian"}),e(w,null,{title:a(()=>x[8]||(x[8]=[g("Order Pembelian")])),"left-button":a(()=>[l("div",Fi,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:x[0]||(x[0]=I=>t(j).get($.route("admin.purchase-order.index")))})])]),default:a(()=>[e(be,{class:"bg-grey-2 q-pa-sm column fit"},{default:a(()=>[e(ee,{square:"",flat:"",bordered:"",class:"full-width col column"},{default:a(()=>[e(Ia,{user:t(c).props.auth.user,company:t(c).props.company,onEditSupplier:x[1]||(x[1]=I=>_.value=!0)},null,8,["user","company"]),l("div",Ki,[l("div",Qi,[e(Da,{items:t(s).items,columns:b,onUpdateQuantity:x[2]||(x[2]=({id:I,value:C})=>v(I,C)),onRemoveItem:y},null,8,["items"])])]),l("div",Wi,[l("div",Ji,[e(H,{modelValue:t(s).notes,"onUpdate:modelValue":x[3]||(x[3]=I=>t(s).notes=I),type:"textarea",placeholder:"Tambahkan catatan transaksi...",square:"",outlined:"",class:"bg-white",rows:3,counter:"",maxlength:"200",error:!!t(s).errors.notes,"error-message":t(s).errors.notes,style:{"margin-bottom":"16px"}},{prepend:a(()=>[e(V,{name:"note"})]),_:1},8,["modelValue","error","error-message"])]),l("div",Gi,[e(Ua,{ref_key:"transactionSummaryRef",ref:o,barcode:m.value,"onUpdate:barcode":x[4]||(x[4]=I=>m.value=I),subtotal:h.value,"item-count":t(s).items.length,"is-processing":r.value,"form-processing":t(s).processing,onAddItem:x[5]||(x[5]=I=>d(m.value)),onProcessPayment:N},null,8,["barcode","subtotal","item-count","is-processing","form-processing"])])])]),_:1}),e(Aa,{modelValue:i.value,"onUpdate:modelValue":x[6]||(x[6]=I=>i.value=I),item:p.value,onConfirm:q},null,8,["modelValue","item"]),e(Ea,{modelValue:_.value,"onUpdate:modelValue":x[7]||(x[7]=I=>_.value=I)},null,8,["modelValue"])]),_:1})]),_:1})],64)}}},Zi=Ze(Xi,[["__scopeId","data-v-6998f6b3"]]),eu=Object.freeze(Object.defineProperty({__proto__:null,default:Zi},Symbol.toStringTag,{value:"Module"})),tu={class:"col col-lg-6 q-pa-sm"},au={__name:"Editor_v1",setup(f){const n=se(),c=(n.props.data.id?"Edit":"Tambah")+" Order Pembelian",{filteredSuppliers:o,filterSupplierFn:s}=Rt(n.props.suppliers,!1),m=Ue(window.CONSTANTS.PURCHASE_ORDER_STATUSES),r=Ue(window.CONSTANTS.PURCHASE_ORDER_PAYMENT_STATUSES),i=Ue(window.CONSTANTS.PURCHASE_ORDER_DELIVERY_STATUSES),p=we({id:n.props.data.id,formatted_id:n.props.data.formatted_id??"Diisi Otomatis",supplier_id:n.props.data.supplier_id,datetime:ze(n.props.data.datetime).format("YYYY-MM-DD HH:mm:ss"),status:n.props.data.status,payment_status:n.props.data.payment_status,delivery_status:n.props.data.delivery_status,total:parseFloat(n.props.data.total),total_paid:parseFloat(n.props.data.total_paid),notes:n.props.data.notes}),_=()=>ke({form:p,url:route("admin.purchase-order.save")});return(b,h)=>{const d=U("i-head"),y=U("authenticated-layout");return k(),T(Y,null,[e(d,{title:c}),e(y,null,{title:a(()=>[g(u(c))]),default:a(()=>[e(be,{class:"row justify-center"},{default:a(()=>[l("div",tu,[e(he,{class:"row",onSubmit:W(_,["prevent"]),onValidationError:t(qe)},{default:a(()=>[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Q,{class:"q-pt-none"},{default:a(()=>[F(l("input",{type:"hidden",name:"id","onUpdate:modelValue":h[0]||(h[0]=q=>t(p).id=q)},null,512),[[Re,t(p).id]]),e(H,{modelValue:t(p).formatted_id,"onUpdate:modelValue":h[1]||(h[1]=q=>t(p).formatted_id=q),modelModifiers:{trim:!0},label:"ID Order",readonly:""},null,8,["modelValue"]),e(mt,{modelValue:t(p).datetime,"onUpdate:modelValue":h[2]||(h[2]=q=>t(p).datetime=q),label:"Waktu",error:!!t(p).errors.datetime,disable:t(p).processing},null,8,["modelValue","error","disable"]),e(Z,{modelValue:t(p).status,"onUpdate:modelValue":h[3]||(h[3]=q=>t(p).status=q),label:"Status Order",options:t(m),"map-options":"","emit-value":"",error:!!t(p).errors.status,disable:t(p).processing,errorMessage:t(p).errors.status},null,8,["modelValue","options","error","disable","errorMessage"]),e(Z,{modelValue:t(p).payment_status,"onUpdate:modelValue":h[4]||(h[4]=q=>t(p).payment_status=q),label:"Status Pembayaran",options:t(r),"map-options":"","emit-value":"",error:!!t(p).errors.payment_status,disable:t(p).processing,errorMessage:t(p).errors.payment_status},null,8,["modelValue","options","error","disable","errorMessage"]),e(Z,{modelValue:t(p).delivery_status,"onUpdate:modelValue":h[5]||(h[5]=q=>t(p).delivery_status=q),label:"Status Pengiriman",options:t(i),"map-options":"","emit-value":"",error:!!t(p).errors.delivery_status,disable:t(p).processing,errorMessage:t(p).errors.delivery_status},null,8,["modelValue","options","error","disable","errorMessage"]),e(Z,{modelValue:t(p).supplier_id,"onUpdate:modelValue":h[6]||(h[6]=q=>t(p).supplier_id=q),label:"Pemasok","use-input":"","input-debounce":"300",clearable:"",options:t(o),"map-options":"","emit-value":"",errorMessage:t(p).errors.supplier_id,onFilter:t(s),error:!!t(p).errors.supplier_id,disable:t(p).processing},{"no-option":a(()=>[e(K,null,{default:a(()=>[e(O,null,{default:a(()=>h[9]||(h[9]=[g("Pemasok tidak ditemukan.")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(P,{dense:"",icon:"add",type:"button",color:"primary",disable:t(p).processing,label:"Pemasok Baru"},null,8,["disable"]),e(H,{modelValue:t(p).notes,"onUpdate:modelValue":h[7]||(h[7]=q=>t(p).notes=q),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"255",label:"Catatan","lazy-rules":"",disable:t(p).processing,error:!!t(p).errors.notes,"error-message":t(p).errors.notes,rules:[q=>q&&q.length>0||"Catatan harus diisi."]},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(Q,{class:"q-gutter-sm"},{default:a(()=>[e(P,{icon:"create",type:"submit",label:"Buat Order",color:"primary",disable:t(p).processing},null,8,["disable"]),e(P,{icon:"cancel",label:"Batal",disable:t(p).processing,onClick:h[8]||(h[8]=q=>t(j).get(b.route("admin.purchase-order.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},lu=Object.freeze(Object.defineProperty({__proto__:null,default:au},Symbol.toStringTag,{value:"Module"})),ou={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},nu={class:"q-pa-sm"},su={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ru={key:0},iu={key:0},uu={key:1},du={class:"flex justify-end"},fa="Order Pembelian",mu={__name:"Index",setup(f){se();const n=ce(),c=M(!1),o=M([]),s=M(!0),m=It(),r=Dt(),i=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...ct(m-2,m-1).reverse()],p=[{value:"all",label:"Semua Bulan"},...pt()],_=xe({search:"",category_id:"all",year:m,month:r,...Ve()}),b=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),h=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];_e(()=>{y()});const d=N=>Ee({message:`Hapus transaksi #-${N.id}?`,url:route("admin.purchase-order.delete",N.id),fetchItemsCallback:y,loading:s}),y=(N=null)=>{Ce({pagination:b,filter:_,props:N,rows:o,url:route("admin.purchase-order.data"),loading:s})},q=()=>{y()},v=J(()=>n.screen.gt.sm?h:h.filter(N=>N.name==="datetime"||N.name==="action"));return De(()=>_.year,N=>{N===null&&(_.month=null)}),(N,$)=>{const x=U("i-head"),S=U("authenticated-layout");return k(),T(Y,null,[e(x,{title:fa}),e(S,null,Oe({title:a(()=>[g(u(fa))]),"right-button":a(()=>[e(P,{icon:"add",dense:"",color:"primary",onClick:$[0]||($[0]=w=>t(j).get(N.route("admin.purchase-order.add")))}),e(P,{class:"q-ml-sm",icon:c.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:$[1]||($[1]=w=>c.value=!c.value)},null,8,["icon"])]),default:a(()=>[l("div",nu,[e(ve,{class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":$[6]||($[6]=w=>b.value=w),filter:_.search,loading:s.value,columns:v.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:y,"binary-state-sort":""},{loading:a(()=>[e(Te,{showing:"",color:"red"})]),"no-data":a(({icon:w,message:I,filter:C})=>[l("div",su,[l("span",null,u(I)+" "+u(C?" with term "+C:""),1)])]),body:a(w=>[e(ye,{props:w},{default:a(()=>[e(E,{key:"datetime",props:w,class:"wrap-column"},{default:a(()=>[l("div",null,[g(" #"+u(w.row.id)+" - ",1),e(V,{name:"calendar_today"}),g(" "+u(w.row.datetime),1)]),e(ft,null,{default:a(()=>[e(V,{name:"category"}),g(" "+u(w.row.type_label),1)]),_:2},1024),w.row.ref_type?(k(),T("div",ru,[e(V,{name:"link"}),g(" "+u(w.row.ref_type_label)+" #"+u(w.row.ref_id),1)])):A("",!0),t(n).screen.gt.sm?A("",!0):(k(),T(Y,{key:1},[w.row.notes?(k(),T("div",iu,[e(V,{name:"notes"}),g(" "+u(w.row.notes),1)])):A("",!0),w.row.category?(k(),T("div",uu,[e(V,{name:"category"}),g(" "+u(w.row.category.name),1)])):A("",!0),l("div",null,[e(V,{name:"money"}),g(" Rp. "+u(t(Ye)(w.row.amount)+t(B)(w.row.amount)),1)])],64))]),_:2},1032,["props"]),e(E,{key:"account",props:w},{default:a(()=>{var I;return[g(u((I=w.row.account)==null?void 0:I.name),1)]}),_:2},1032,["props"]),e(E,{key:"notes",props:w},{default:a(()=>[g(u(w.row.notes),1)]),_:2},1032,["props"]),e(E,{key:"amount",props:w,style:{"text-align":"right"}},{default:a(()=>[g(u(t(Ye)(w.row.amount)+t(B)(w.row.amount)),1)]),_:2},1032,["props"]),e(E,{key:"action",props:w},{default:a(()=>[l("div",du,[e(P,{disabled:!t(je)(N.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:$[5]||($[5]=W(()=>{},["stop"]))},{default:a(()=>[e(Ae,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e($e,{style:{width:"200px"}},{default:a(()=>[F((k(),R(K,{onClick:W(I=>d(w.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>$[7]||($[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[c.value?{name:"header",fn:a(()=>[e(Ne,{class:"filter-bar"},{default:a(()=>[l("div",ou,[e(Z,{modelValue:_.year,"onUpdate:modelValue":[$[2]||($[2]=w=>_.year=w),q],options:i,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(Z,{modelValue:_.month,"onUpdate:modelValue":[$[3]||($[3]=w=>_.month=w),q],options:p,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:_.year===null},null,8,["modelValue","disable"]),e(H,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:_.search,"onUpdate:modelValue":$[4]||($[4]=w=>_.search=w),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},cu=Object.freeze(Object.defineProperty({__proto__:null,default:mu},Symbol.toStringTag,{value:"Module"})),pu={class:"row q-col-gutter-md items-center q-px-md q-py-sm"},fu={class:"col-12 col-sm-6 col-md-4"},gu={key:0,class:"col-12 col-md-4 text-center"},bu={class:"text-h6 text-weight-bold text-grey-8"},_u={key:0,class:"text-subtitle2 text-weight-bold text-grey-8"},vu={key:1,class:"text-subtitle2 text-weight-bold text-grey-8"},yu={class:"text-weight-bold"},Ra={__name:"TransactionHeader",props:{user:{type:Object,required:!0},company:{type:Object,required:!0},modelValue:{type:[Object,null],default:null},formProcessing:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(f,{emit:n}){const c=se(),{filterCustomersFn:o,customers:s}=Ut(c.props.customers,!1),m=M(null);return(r,i)=>(k(),T("div",pu,[l("div",fu,[e(Z,{class:"custom-select",modelValue:m.value,"onUpdate:modelValue":i[0]||(i[0]=p=>m.value=p),label:"Santri","use-input":"","input-debounce":"300",clearable:"","map-options":"","emit-value":"",options:t(s),onFilter:t(o),disable:f.formProcessing},{"no-option":a(()=>[e(K,null,{default:a(()=>[e(O,null,{default:a(()=>i[1]||(i[1]=[g("Santri tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","disable"])]),r.$q.screen.gt.sm?(k(),T("div",gu,[l("div",bu,u(f.company.name),1),f.company.address?(k(),T("div",_u,u(f.company.address),1)):A("",!0),f.company.phone?(k(),T("div",vu,u(f.company.phone),1)):A("",!0)])):A("",!0),l("div",{class:me(["col-12 col-sm-6 col-md-4",r.$q.screen.gt.sm?"text-right":"text-center"])},[l("div",yu,u(f.user.username)+" - "+u(f.user.name),1),e(Oa)],2)]))}},wu=Object.freeze(Object.defineProperty({__proto__:null,default:Ra},Symbol.toStringTag,{value:"Module"})),ku={class:"text-weight-medium"},hu={class:"text-caption text-grey-6"},$u={class:"column items-end"},Su={class:"text-weight-bold text-primary"},xu={class:"text-caption text-grey-6 text-italic"},ja={__name:"ItemsListTable",props:{items:{type:Array,required:!0},columns:{type:Array,required:!0}},emits:["update-quantity","remove-item"],setup(f){return(n,c)=>(k(),R(ve,{dense:"",rows:f.items,columns:f.columns,"row-key":"id",flat:"",square:"",bordered:"",class:"bg-grey-1 pos-table q-pa-none col","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48},{header:a(o=>[e(ye,{props:o,class:"bg-grey-4"},{default:a(()=>[(k(!0),T(Y,null,lt(o.cols,s=>(k(),R(Va,{key:s.name,props:o,class:"text-weight-bold text-grey-8"},{default:a(()=>[g(u(s.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(o=>[e(ye,{props:o,class:"hover-highlight"},{default:a(()=>[e(E,{key:"name",props:o,class:"text-left"},{default:a(()=>[l("div",ku,u(o.row.name),1),l("div",hu," Barcode: "+u(o.row.barcode),1)]),_:2},1032,["props"]),e(E,{key:"subtotal",props:o,class:"text-right"},{default:a(()=>[l("div",$u,[l("div",Su," Rp. "+u(t(B)(o.row.price*o.row.quantity)),1),l("div",xu,u(o.row.quantity)+" x Rp. "+u(t(B)(o.row.price)),1)])]),_:2},1032,["props"]),e(E,{key:"action",props:o,class:"text-right"},{default:a(()=>[e(P,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:s=>n.$emit("remove-item",o.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]))}},qu=Object.freeze(Object.defineProperty({__proto__:null,default:ja},Symbol.toStringTag,{value:"Module"})),Vu={class:"column"},Cu={class:"row justify-end items-center q-gutter-sm"},Tu={class:"text-h4 text-weight-bold text-primary"},Pu={class:"text-caption text-grey-6 q-mt-xs text-right"},Mu={class:"q-py-sm"},Nu={class:"q-py-sm"},Ba={__name:"TransactionSummary",props:{subtotal:{type:Number,required:!0},itemCount:{type:Number,required:!0},barcode:{type:String,required:!0},isProcessing:{type:Boolean,default:!1},formProcessing:{type:Boolean,default:!1}},emits:["update:barcode","add-item","process-payment"],setup(f,{expose:n}){const c=M(null);_e(()=>{o()});const o=()=>{ht(()=>{c.value&&c.value.focus()})};return n({focusOnBarcodeInput:o}),(s,m)=>(k(),T("div",Vu,[l("div",Cu,[m[3]||(m[3]=l("span",{class:"text-weight-bold text-grey-8"},"GRAND TOTAL: Rp.",-1)),l("span",Tu,u(t(B)(f.subtotal)),1)]),l("div",Pu,u(f.itemCount)+" item(s) ",1),l("div",Mu,[e(H,{ref_key:"barcodeInputRef",ref:c,"model-value":f.barcode,"onUpdate:modelValue":m[0]||(m[0]=r=>s.$emit("update:barcode",r)),placeholder:"<Input Barcode>",outlined:"",square:"",class:"col bg-white",onKeyup:m[1]||(m[1]=Ot(r=>s.$emit("add-item"),["enter"])),loading:f.isProcessing,clearable:"",autofocus:""},{prepend:a(()=>[e(V,{name:"qr_code_scanner"})]),_:1},8,["model-value","loading"])]),l("div",Nu,[e(P,{class:"full-width",label:"Bayar",color:"primary",icon:"payment",onClick:m[2]||(m[2]=r=>s.$emit("process-payment")),disable:f.itemCount===0,loading:f.formProcessing},null,8,["disable","loading"])])]))}},Ou=Object.freeze(Object.defineProperty({__proto__:null,default:Ba},Symbol.toStringTag,{value:"Module"})),Iu={class:"q-ml-sm"},za={__name:"ConfirmDeleteDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,default:null}},emits:["update:modelValue","confirm"],setup(f){return(n,c)=>(k(),R(dt,{"model-value":f.modelValue,"onUpdate:modelValue":c[1]||(c[1]=o=>n.$emit("update:modelValue",o)),persistent:""},{default:a(()=>[e(ee,null,{default:a(()=>[e(Q,{class:"row items-center"},{default:a(()=>{var o;return[e(Ge,{icon:"delete",color:"negative","text-color":"white"}),l("span",Iu,'Hapus item "'+u((o=f.item)==null?void 0:o.name)+'"?',1)]}),_:1}),e(st,{align:"right"},{default:a(()=>[F(e(P,{flat:"",label:"Batal",color:"primary"},null,512),[[ae]]),F(e(P,{flat:"",label:"Hapus",color:"negative",onClick:c[0]||(c[0]=o=>n.$emit("confirm"))},null,512),[[ae]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Du=Object.freeze(Object.defineProperty({__proto__:null,default:za},Symbol.toStringTag,{value:"Module"})),La={__name:"CustomerEditorDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","save"],setup(f,{emit:n}){const c=n,o=M(""),s=M(""),m=()=>{c("save",{name:o.value,address:s.value})};return(r,i)=>(k(),R(dt,{"model-value":f.modelValue,"onUpdate:modelValue":i[2]||(i[2]=p=>r.$emit("update:modelValue",p)),persistent:""},{default:a(()=>[e(ee,{style:{width:"400px"}},{default:a(()=>[e(Q,{class:"q-py-none q-pt-lg"},{default:a(()=>i[3]||(i[3]=[l("div",{class:"text-bold text-grey-8"},"Edit Info Pelanggan",-1)])),_:1}),e(Q,null,{default:a(()=>[e(H,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=p=>o.value=p),label:"Nama Pelanggan"},null,8,["modelValue"]),e(H,{modelValue:s.value,"onUpdate:modelValue":i[1]||(i[1]=p=>s.value=p),label:"Alamat",type:"textarea",autogrow:"",counter:"",maxlength:"200",class:"q-mt-md"},null,8,["modelValue"])]),_:1}),e(st,{align:"right"},{default:a(()=>[F(e(P,{flat:"",label:"Batal",color:"primary"},null,512),[[ae]]),F(e(P,{flat:"",label:"Simpan",color:"primary",onClick:m},null,512),[[ae]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Uu=Object.freeze(Object.defineProperty({__proto__:null,default:La},Symbol.toStringTag,{value:"Module"})),Au={class:"q-gutter-sm"},Eu={class:"row col grow"},Ru={class:"col-12 q-pa-sm column"},ju={class:"row"},Bu={class:"col-xs-12 col-md-8 q-pa-sm"},zu={class:"col-md-4 col-xs-12 q-pa-sm"},Lu={key:0,class:"text-center q-mb-md text-grey-8"},Yu={class:"text-subtitle1 text-weight-medium"},Hu={key:0,class:"text-body1"},Fu={class:"text-h4 text-center text-primary q-pb-md"},Ku={class:"row q-col-gutter-sm justify-center"},Qu={class:"col-12"},Wu={class:"col-12"},ga="Penjualan",Ju={__name:"Editor",setup(f){const n=ce(),c=se(),o=M(null),s=we({id:null,formatted_id:"Diisi Otomatis",customer_name:"Pelanggan Umum",datetime:ze().format("YYYY-MM-DD HH:mm:ss"),status:"pending",payment_status:"unpaid",items:[],subtotal:0,tax:0,total:0,notes:""}),m=M(""),r=M(!1),i=M(!1),p=M(null),_=M(!1),b=M(!1),h=M(null),d=M(null),y=J(()=>n.screen.gt.sm?[{name:"name",required:!0,label:"Item Information",align:"left",field:"name",sortable:!1,style:"width: 300px"},{name:"price",label:"Harga",align:"center",field:"price",sortable:!1,style:"width: 120px"},{name:"quantity",label:"Quantity",align:"center",field:"quantity",sortable:!1,style:"width: 100px"},{name:"subtotal",label:"SubTotal",align:"center",sortable:!1,style:"width: 140px"},{name:"action",label:"Action",align:"center",sortable:!1,style:"width: 80px"}]:[{name:"name",required:!0,label:"Item",align:"left",field:"name",sortable:!1},{name:"subtotal",label:"Total",align:"right",sortable:!1},{name:"action",label:"Aksi",align:"center",sortable:!1}]),q=J(()=>{const C=s.items.reduce((D,le)=>D+le.price*le.quantity,0);return s.subtotal=C,s.total=C+s.tax,C}),v=async()=>{var Be;if(!m.value.trim()){n.notify({message:"Silakan masukkan barcode",color:"warning",position:"top"});return}let C=1,D=m.value.trim(),le=null;const L=D.split("*");if(L.length===3){const Se=parseInt(L[0]),Le=parseFloat(L[2]);!isNaN(Se)&&Se>0?C=Se:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"top"}),!isNaN(Le)&&Le>=0?le=Le:n.notify({message:"Harga tidak valid. Menggunakan harga produk default.",color:"warning",position:"top"}),D=L[1]}else if(L.length===2){const Se=parseInt(L[0]);!isNaN(Se)&&Se>0?C=Se:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"top"}),D=L[1]}const re=s.items.findIndex(Se=>Se.barcode===D);if(re!==-1)s.items[re].quantity+=C,n.notify({message:`Quantity ${s.items[re].name} bertambah ${C}`,color:"positive",position:"top"});else{r.value=!0;try{await new Promise(te=>setTimeout(te,300));const Le={...{id:Date.now(),name:`Item ${D}`,barcode:D,price:le!==null?le:Math.floor(Math.random()*5e4)+1e4},quantity:C};s.items.push(Le),n.notify({message:`${Le.name} berhasil ditambahkan`,color:"positive",position:"top",icon:"add_shopping_cart"})}catch(Se){console.error("Error fetching item:",Se),n.notify({message:"Item tidak ditemukan atau gagal menambahkan item",color:"negative",position:"top"})}finally{r.value=!1}}m.value="",await ht(),(Be=o.value)==null||Be.focusOnBarcodeInput()},N=C=>{p.value=C,i.value=!0},$=()=>{if(p.value){const C=s.items.findIndex(D=>D.id===p.value.id);if(C!==-1){const D=s.items.splice(C,1)[0];n.notify({message:`${D.name} dihapus dari keranjang`,color:"info",position:"top",icon:"remove_shopping_cart"})}p.value=null}},x=(C,D)=>{const le=s.items.find(L=>L.id===C);le&&D>0&&(le.quantity=parseInt(D)||1)},S=async()=>{if(s.items.length===0){n.notify({message:"Tidak ada item dalam keranjang",color:"warning",position:"top"});return}await w(),b.value=!0},w=async()=>{try{h.value=s.customer_name==="Pelanggan Umum"?"Pelanggan Umum":"Nama Santri Demo",d.value=Math.floor(Math.random()*5e5)+1e4}catch(C){console.error("Gagal mengambil data santri:",C),h.value="Data tidak ditemukan",d.value=0}},I=C=>{s.items.length!==0&&(s.datetime=ze().format("YYYY-MM-DD HH:mm:ss"),s.status="completed",s.payment_status=C==="wallet"?"paid_wallet":"paid_cash",ke({form:s,url:route("admin.transaction.save")}))};return(C,D)=>{const le=U("i-head"),L=U("authenticated-layout");return k(),T(Y,null,[e(le,{title:ga}),e(L,null,{title:a(()=>[g(u(ga))]),"left-button":a(()=>[l("div",Au,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:D[0]||(D[0]=re=>t(j).get(C.route("admin.purchase-order.index")))})])]),default:a(()=>[e(be,{class:"bg-grey-2 q-pa-sm column fit"},{default:a(()=>[e(ee,{square:"",flat:"",bordered:"",class:"full-width col column"},{default:a(()=>[e(Ra,{user:t(c).props.auth.user,company:t(c).props.company,onEditCustomer:D[1]||(D[1]=re=>_.value=!0)},null,8,["user","company"]),l("div",Eu,[l("div",Ru,[e(ja,{items:t(s).items,columns:y.value,onUpdateQuantity:D[2]||(D[2]=({id:re,value:Be})=>x(re,Be)),onRemoveItem:N},null,8,["items","columns"])])]),l("div",ju,[l("div",Bu,[e(H,{modelValue:t(s).notes,"onUpdate:modelValue":D[3]||(D[3]=re=>t(s).notes=re),type:"textarea",placeholder:"Tambahkan catatan transaksi...",square:"",outlined:"",class:"bg-white",rows:3,counter:"",maxlength:"200",error:!!t(s).errors.notes,"error-message":t(s).errors.notes,style:{"margin-bottom":"16px"}},{prepend:a(()=>[e(V,{name:"note"})]),_:1},8,["modelValue","error","error-message"])]),l("div",zu,[e(Ba,{ref_key:"transactionSummaryRef",ref:o,barcode:m.value,"onUpdate:barcode":D[4]||(D[4]=re=>m.value=re),subtotal:q.value,"item-count":t(s).items.length,"is-processing":r.value,"form-processing":t(s).processing,onAddItem:D[5]||(D[5]=re=>v(m.value)),onProcessPayment:S},null,8,["barcode","subtotal","item-count","is-processing","form-processing"])])])]),_:1}),e(za,{modelValue:i.value,"onUpdate:modelValue":D[6]||(D[6]=re=>i.value=re),item:p.value,onConfirm:$},null,8,["modelValue","item"]),e(La,{modelValue:_.value,"onUpdate:modelValue":D[7]||(D[7]=re=>_.value=re)},null,8,["modelValue"]),e(dt,{modelValue:b.value,"onUpdate:modelValue":D[11]||(D[11]=re=>b.value=re),persistent:""},{default:a(()=>[e(ee,{style:{"min-width":"350px"}},{default:a(()=>[e(Q,null,{default:a(()=>D[12]||(D[12]=[l("div",{class:"text-h6 text-center"},"Pilih Metode Pembayaran",-1)])),_:1}),e(Q,{class:"q-pt-none"},{default:a(()=>[h.value?(k(),T("div",Lu,[l("div",Yu,u(h.value),1),d.value!==null?(k(),T("div",Hu," Saldo: Rp. "+u(d.value.toLocaleString("id-ID")),1)):A("",!0)])):A("",!0),l("div",Fu," Rp. "+u(t(s).total.toLocaleString("id-ID")),1),l("div",Ku,[l("div",Qu,[e(P,{label:"Tunai",icon:"attach_money",color:"primary",class:"full-width",onClick:D[8]||(D[8]=re=>I("cash")),loading:t(s).processing,disable:t(s).processing},null,8,["loading","disable"])]),l("div",Wu,[e(P,{label:"Dompet Santri",icon:"wallet",color:"green-6",class:"full-width",onClick:D[9]||(D[9]=re=>I("wallet")),loading:t(s).processing,disable:t(s).processing},null,8,["loading","disable"])])])]),_:1}),e(st,{align:"right",class:"q-py-md"},{default:a(()=>[e(P,{flat:"",label:"Batal",color:"grey",onClick:D[10]||(D[10]=re=>b.value=!1)})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)}}},Gu=Ze(Ju,[["__scopeId","data-v-0a06bdf1"]]),Xu=Object.freeze(Object.defineProperty({__proto__:null,default:Gu},Symbol.toStringTag,{value:"Module"})),Zu={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},ed={class:"q-pa-sm"},td={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ad={key:0},ld={key:0},od={key:1},nd={class:"flex justify-end"},ba="Penjualan",sd={__name:"Index",setup(f){se();const n=ce(),c=M(!1),o=M([]),s=M(!0),m=It(),r=Dt(),i=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...ct(m-2,m-1).reverse()],p=[{value:"all",label:"Semua Bulan"},...pt()],_=xe({search:"",category_id:"all",year:m,month:r,...Ve()}),b=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),h=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];_e(()=>{y()});const d=N=>Ee({message:`Hapus transaksi #-${N.id}?`,url:route("admin.sales-order.delete",N.id),fetchItemsCallback:y,loading:s}),y=(N=null)=>{Ce({pagination:b,filter:_,props:N,rows:o,url:route("admin.sales-order.data"),loading:s})},q=()=>{y()},v=J(()=>n.screen.gt.sm?h:h.filter(N=>N.name==="datetime"||N.name==="action"));return De(()=>_.year,N=>{N===null&&(_.month=null)}),(N,$)=>{const x=U("i-head"),S=U("authenticated-layout");return k(),T(Y,null,[e(x,{title:ba}),e(S,null,Oe({title:a(()=>[g(u(ba))]),"right-button":a(()=>[e(P,{icon:"add",dense:"",color:"primary",onClick:$[0]||($[0]=w=>t(j).get(N.route("admin.sales-order.add")))}),e(P,{class:"q-ml-sm",icon:c.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:$[1]||($[1]=w=>c.value=!c.value)},null,8,["icon"])]),default:a(()=>[l("div",ed,[e(ve,{class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":$[6]||($[6]=w=>b.value=w),filter:_.search,loading:s.value,columns:v.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:y,"binary-state-sort":""},{loading:a(()=>[e(Te,{showing:"",color:"red"})]),"no-data":a(({icon:w,message:I,filter:C})=>[l("div",td,[l("span",null,u(I)+" "+u(C?" with term "+C:""),1)])]),body:a(w=>[e(ye,{props:w},{default:a(()=>[e(E,{key:"datetime",props:w,class:"wrap-column"},{default:a(()=>[l("div",null,[g(" #"+u(w.row.id)+" - ",1),e(V,{name:"calendar_today"}),g(" "+u(w.row.datetime),1)]),e(ft,null,{default:a(()=>[e(V,{name:"category"}),g(" "+u(w.row.type_label),1)]),_:2},1024),w.row.ref_type?(k(),T("div",ad,[e(V,{name:"link"}),g(" "+u(w.row.ref_type_label)+" #"+u(w.row.ref_id),1)])):A("",!0),t(n).screen.gt.sm?A("",!0):(k(),T(Y,{key:1},[w.row.notes?(k(),T("div",ld,[e(V,{name:"notes"}),g(" "+u(w.row.notes),1)])):A("",!0),w.row.category?(k(),T("div",od,[e(V,{name:"category"}),g(" "+u(w.row.category.name),1)])):A("",!0),l("div",null,[e(V,{name:"money"}),g(" Rp. "+u(t(Ye)(w.row.amount)+t(B)(w.row.amount)),1)])],64))]),_:2},1032,["props"]),e(E,{key:"account",props:w},{default:a(()=>{var I;return[g(u((I=w.row.account)==null?void 0:I.name),1)]}),_:2},1032,["props"]),e(E,{key:"notes",props:w},{default:a(()=>[g(u(w.row.notes),1)]),_:2},1032,["props"]),e(E,{key:"amount",props:w,style:{"text-align":"right"}},{default:a(()=>[g(u(t(Ye)(w.row.amount)+t(B)(w.row.amount)),1)]),_:2},1032,["props"]),e(E,{key:"action",props:w},{default:a(()=>[l("div",nd,[e(P,{disabled:!t(je)(N.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:$[5]||($[5]=W(()=>{},["stop"]))},{default:a(()=>[e(Ae,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e($e,{style:{width:"200px"}},{default:a(()=>[F((k(),R(K,{onClick:W(I=>d(w.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>$[7]||($[7]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[c.value?{name:"header",fn:a(()=>[e(Ne,{class:"filter-bar"},{default:a(()=>[l("div",Zu,[e(Z,{modelValue:_.year,"onUpdate:modelValue":[$[2]||($[2]=w=>_.year=w),q],options:i,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(Z,{modelValue:_.month,"onUpdate:modelValue":[$[3]||($[3]=w=>_.month=w),q],options:p,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:_.year===null},null,8,["modelValue","disable"]),e(H,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:_.search,"onUpdate:modelValue":$[4]||($[4]=w=>_.search=w),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},rd=Object.freeze(Object.defineProperty({__proto__:null,default:sd},Symbol.toStringTag,{value:"Module"})),id={class:"q-gutter-sm"},ud={class:"col col-lg-6 q-pa-sm"},dd={key:0},md={class:"text-bold"},cd={key:0},pd={class:"text-caption text-grey-8"},fd={key:1},_a="Buat Penyesuaian Stok",gd={__name:"Create",setup(f){const c=se().props.products,o=M([]),s=we({type:"stock_opname",datetime:ze().format("YYYY-MM-DD HH:mm:ss"),notes:null,product_ids:[]}),m=[{name:"name",label:"Nama Produk",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"center",sortable:!1,format:(b,h)=>B(b)+" "+h.uom}],r=Ue(window.CONSTANTS.STOCKADJUSTMENT_TYPES),i=()=>{s.product_ids=o.value.map(b=>b.id),ke({form:s,url:route("admin.stock-adjustment.create")})},p=ce(),_=J(()=>p.screen.gt.sm?m:m.filter(b=>b.name==="name"));return(b,h)=>{const d=U("i-head"),y=U("authenticated-layout");return k(),T(Y,null,[e(d,{title:_a}),e(y,null,{title:a(()=>[g(u(_a))]),"left-button":a(()=>[l("div",id,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:h[0]||(h[0]=q=>t(j).get(b.route("admin.stock-adjustment.index")))})])]),default:a(()=>[e(be,{class:"row justify-center"},{default:a(()=>[l("div",ud,[e(he,{class:"row",onSubmit:W(i,["prevent"]),onValidationError:t(qe)},{default:a(()=>[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Q,{class:"q-pt-sm"},{default:a(()=>[h[6]||(h[6]=l("div",{class:"text-subtitle2"},[l("b",null,"Info Penyesuaian Stok")],-1)),e(mt,{modelValue:t(s).datetime,"onUpdate:modelValue":h[1]||(h[1]=q=>t(s).datetime=q),label:"Waktu",error:!!t(s).errors.datetime,disable:t(s).processing,"error-message":t(s).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(Z,{modelValue:t(s).type,"onUpdate:modelValue":h[2]||(h[2]=q=>t(s).type=q),options:t(r),label:"Jenis Penyesuaian",class:"custom-select",error:!!t(s).errors.type,disable:t(s).processing,"map-options":"","emit-value":"","error-message":t(s).errors.type},null,8,["modelValue","options","error","disable","error-message"]),e(H,{modelValue:t(s).notes,"onUpdate:modelValue":h[3]||(h[3]=q=>t(s).notes=q),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,rules:[]},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(Q,null,{default:a(()=>[h[7]||(h[7]=l("div",{class:"text-subtitle2"},[l("b",null,"Pilih Produk")],-1)),e(ve,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:_.value,rows:t(c),"binary-state-sort":"","hide-pagination":!0,dense:"","rows-per-page-options":[0],selection:"multiple",selected:o.value,"onUpdate:selected":h[4]||(h[4]=q=>o.value=q)},{"body-cell-name":a(q=>[e(E,{props:q},{default:a(()=>[t(p).screen.lt.md?(k(),T("div",dd,[l("div",md,u(q.row.name),1),q.row.category?(k(),T("div",cd,u(q.row.category.name),1)):A("",!0),l("div",pd,u(t(B)(q.row.stock))+" "+u(q.row.uom),1)])):(k(),T("div",fd,u(q.row.name),1))]),_:2},1032,["props"])]),_:1},8,["columns","rows","selected"])]),_:1}),e(Q,{class:"q-gutter-sm"},{default:a(()=>[e(P,{icon:"play_arrow",type:"submit",label:"Lanjutkan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(P,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:h[5]||(h[5]=q=>t(j).get(b.route("admin.stock-adjustment.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},bd=Object.freeze(Object.defineProperty({__proto__:null,default:gd},Symbol.toStringTag,{value:"Module"})),_d={class:"q-gutter-sm"},vd={class:"row justify-center"},yd={class:"col col-lg-8 q-pa-sm"},wd={class:"row"},kd={class:"detail"},hd={key:0},$d={key:1},Sd={class:"text-grey-9"},xd={__name:"Detail",setup(f){const n=se(),c=`Rincian Penyesuaian Stok #${n.props.data.id}`,o=n.props.details,s=[{name:"no",label:"#",field:"no",align:"left"},{name:"product_name",label:"Nama Produk",field:"product_name",align:"left"},{name:"uom",label:"Satuan",field:"uom",align:"left"},{name:"old_quantity",label:"Stok Lama",field:"old_quantity",align:"right",format:i=>B(i)},{name:"new_quantity",label:"Stok Baru",field:"new_quantity",align:"right",format:i=>B(i)},{name:"balance",label:"Selisih Stok",field:"balance",align:"right",format:i=>B(i)},{name:"cost_balance",label:"Selisih Modal",field:"cost_balance",align:"right"},{name:"price_balance",label:"Selisih Harga",field:"price_balance",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}],m=ce(),r=J(()=>m.screen.gt.sm?s:s.filter(i=>i.name==="no"));return(i,p)=>{const _=U("i-head"),b=U("i-link"),h=U("authenticated-layout");return k(),T(Y,null,[e(_,{title:c}),e(h,null,{title:a(()=>[g(u(c))]),"left-button":a(()=>[l("div",_d,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:p[0]||(p[0]=d=>i.$inertia.get(i.route("admin.stock-adjustment.index")))})])]),default:a(()=>[l("div",vd,[l("div",yd,[l("div",wd,[e(ee,{square:"",flat:"",bordered:"",class:"q-card col"},{default:a(()=>[e(Q,null,{default:a(()=>[p[21]||(p[21]=l("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Penyesuaian Stok ",-1)),l("table",kd,[l("tbody",null,[l("tr",null,[p[1]||(p[1]=l("td",{style:{width:"120px"}},"ID",-1)),p[2]||(p[2]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,"# "+u(t(n).props.data.id),1)]),l("tr",null,[p[3]||(p[3]=l("td",null,"Jenis",-1)),p[4]||(p[4]=l("td",null,":",-1)),l("td",null,u(i.$CONSTANTS.STOCKADJUSTMENT_TYPES[t(n).props.data.type]),1)]),l("tr",null,[p[5]||(p[5]=l("td",null,"Status",-1)),p[6]||(p[6]=l("td",null,":",-1)),l("td",null,u(i.$CONSTANTS.STOCKADJUSTMENT_STATUSES[t(n).props.data.status]),1)]),l("tr",null,[p[7]||(p[7]=l("td",null,"Waktu",-1)),p[8]||(p[8]=l("td",null,":",-1)),l("td",null,u(i.$dayjs(t(n).props.data.datetime).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)]),t(n).props.data.created_at?(k(),T("tr",hd,[p[10]||(p[10]=l("td",null,"Dibuat Oleh",-1)),p[11]||(p[11]=l("td",null,":",-1)),l("td",null,[t(n).props.data.created_by?(k(),T(Y,{key:0},[e(b,{href:i.route("admin.user.detail",{id:t(n).props.data.created_by})},{default:a(()=>[g(u(t(n).props.data.created_by.username)+" - "+u(t(n).props.data.created_by.name),1)]),_:1},8,["href"]),p[9]||(p[9]=g(" - "))],64)):A("",!0),g(" "+u(i.$dayjs(new Date(t(n).props.data.created_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):A("",!0),t(n).props.data.updated_at?(k(),T("tr",$d,[p[13]||(p[13]=l("td",null,"Diperbarui oleh",-1)),p[14]||(p[14]=l("td",null,":",-1)),l("td",null,[t(n).props.data.updated_by?(k(),T(Y,{key:0},[e(b,{href:i.route("admin.user.detail",{id:t(n).props.data.updated_by})},{default:a(()=>[g(u(t(n).props.data.updated_by.username)+" - "+u(t(n).props.data.updated_by.name),1)]),_:1},8,["href"]),p[12]||(p[12]=g(" - "))],64)):A("",!0),g(" "+u(i.$dayjs(new Date(t(n).props.data.updated_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):A("",!0),l("tr",null,[p[15]||(p[15]=l("td",null,"Total Modal",-1)),p[16]||(p[16]=l("td",null,":",-1)),l("td",null,[l("div",{class:me(t(n).props.data.total_cost<0?"text-red-10":t(n).props.data.total_cost>0?"text-green-10":"")}," Rp. "+u(t(B)(t(n).props.data.total_cost)),3)])]),l("tr",null,[p[17]||(p[17]=l("td",null,"Total Harga",-1)),p[18]||(p[18]=l("td",null,":",-1)),l("td",null,[l("div",{class:me(t(n).props.data.total_price<0?"text-red-10":t(n).props.data.total_price>0?"text-green-10":"")}," Rp. "+u(t(B)(t(n).props.data.total_price)),3)])]),l("tr",null,[p[19]||(p[19]=l("td",null,"Catatan",-1)),p[20]||(p[20]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.notes),1)])])])]),_:1}),e(Q,null,{default:a(()=>[p[26]||(p[26]=l("div",{class:"text-subtitle1 text-bold text-grey-9 q-pt-md"}," Rincian ",-1)),e(ve,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",dense:"",columns:r.value,rows:t(o),"hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-no":a(d=>[e(E,{props:d},{default:a(()=>[t(m).screen.lt.md?(k(),T(Y,{key:1},[l("div",Sd,[l("b",null,"#"+u(d.rowIndex+1),1),g(" - "+u(d.row.product_name),1)]),l("div",null,[g(" Stok Lama: "+u(t(B)(d.row.old_quantity))+" "+u(d.row.uom),1),p[23]||(p[23]=l("br",null,null,-1)),g(" Stok Baru: "+u(t(B)(d.row.new_quantity))+" "+u(d.row.uom),1),p[24]||(p[24]=l("br",null,null,-1)),l("div",{class:me(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},[g(" Selisih: "+u((d.row.balance>0?"+":"")+t(B)(d.row.balance))+" "+u(d.row.uom),1),p[22]||(p[22]=l("br",null,null,-1)),g(" (Rp. "+u(t(B)(d.row.subtotal_cost))+" / Rp. "+u(t(B)(d.row.subtotal_price))+") ",1)],2),p[25]||(p[25]=l("br",null,null,-1)),g(" "+u(d.row.notes),1)])],64)):(k(),T(Y,{key:0},[g(u(d.rowIndex+1),1)],64))]),_:2},1032,["props"])]),"body-cell-balance":a(d=>[e(E,{props:d},{default:a(()=>[l("div",{class:me(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},u((d.row.balance>0?"+":"")+t(B)(d.row.balance)),3)]),_:2},1032,["props"])]),"body-cell-cost_balance":a(d=>[e(E,{props:d},{default:a(()=>[l("div",{class:me(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},u(t(B)(d.row.subtotal_cost)),3)]),_:2},1032,["props"])]),"body-cell-price_balance":a(d=>[e(E,{props:d},{default:a(()=>[l("div",{class:me(d.row.balance<0?"text-red-10":d.row.balance>0?"text-green-10":"")},u(t(B)(d.row.subtotal_price)),3)]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1})]),_:1})])])])]),_:1})],64)}}},qd=Object.freeze(Object.defineProperty({__proto__:null,default:xd},Symbol.toStringTag,{value:"Module"})),Vd={class:"q-gutter-sm"},Cd={class:"col col-lg-6 q-pa-sm"},Td={class:"text-bold"},Pd={key:0},Md={class:"text-caption text-grey-8"},va="Penyesuaian Stok",Nd={__name:"Editor",setup(f){const n=se(),c=we({id:n.props.item.id,type:n.props.item.type,datetime:ze(n.props.item.datetime).format("YYYY-MM-DD HH:mm:ss"),notes:n.props.item.notes,action:"save",details:[]}),o=Ue(window.CONSTANTS.STOCKADJUSTMENT_TYPES),s=n.props.details,m=_=>{const b=()=>{c.action=_,c.details=s.map(h=>({id:h.id,new_quantity:h.new_quantity})),ke({form:c,url:route("admin.stock-adjustment.save")})};_==="close"||_==="cancel"?xa.create({title:"Konfirmasi",message:"Aksi ini tidak dapat dibatalkan, apakah Anda yakin?",cancel:!0,persistent:!0}).onOk(()=>{b()}).onCancel(()=>{}):b()},r=[{name:"product_name",label:"Nama Produk",field:"product_name",align:"left",sortable:!0},{name:"uom",label:"Satuan",field:"uom",align:"center"},{name:"old_quantity",label:"Tercatat",field:"old_quantity",align:"right",format:_=>B(_)},{name:"new_quantity",label:"Aktual",field:"new_quantity",align:"right",format:_=>B(_)},{name:"balance",label:"Selisih",field:"balance",align:"right",format:(_,b)=>B(b.new_quantity-b.old_quantity)}],i=ce(),p=J(()=>i.screen.gt.sm?r:r.filter(_=>_.name==="product_name"||_.name==="new_quantity"));return(_,b)=>{const h=U("i-head"),d=U("authenticated-layout");return k(),T(Y,null,[e(h,{title:va}),e(d,null,{title:a(()=>[g(u(va))]),"left-button":a(()=>[l("div",Vd,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=y=>_.$inertia.get(_.route("admin.stock-adjustment.index")))})])]),default:a(()=>[e(be,{class:"row justify-center"},{default:a(()=>[l("div",Cd,[e(he,{class:"row",onSubmit:W(m,["prevent"]),onValidationError:t(qe)},{default:a(()=>[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Q,null,{default:a(()=>b[8]||(b[8]=[l("div",{class:"text-subtitle1"},"Info Penyesuaian",-1)])),_:1}),e(Q,{class:"q-pt-none"},{default:a(()=>[F(l("input",{type:"hidden",name:"id","onUpdate:modelValue":b[1]||(b[1]=y=>t(c).id=y)},null,512),[[Re,t(c).id]]),e(mt,{modelValue:t(c).datetime,"onUpdate:modelValue":b[2]||(b[2]=y=>t(c).datetime=y),label:"Waktu",error:!!t(c).errors.datetime,disable:t(c).processing,"error-message":t(c).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(Z,{modelValue:t(c).type,"onUpdate:modelValue":b[3]||(b[3]=y=>t(c).type=y),options:t(o),label:"Jenis Penyesuaian",class:"custom-select",error:!!t(c).errors.type,disable:t(c).processing,"map-options":"","emit-value":"","error-message":t(c).errors.type},null,8,["modelValue","options","error","disable","error-message"]),e(H,{modelValue:t(c).notes,"onUpdate:modelValue":b[4]||(b[4]=y=>t(c).notes=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"1000",label:"Catatan","lazy-rules":"",disable:t(c).processing,error:!!t(c).errors.notes,"error-message":t(c).errors.notes,rules:[]},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(Q,null,{default:a(()=>[e(ve,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:p.value,rows:t(s),"binary-state-sort":"","hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-product_name":a(y=>[e(E,{props:y},{default:a(()=>[l("div",Td,u(y.row.product_name),1),t(i).screen.lt.md?(k(),T("div",Pd,[l("div",Md,[g(" Tercatat: "+u(t(B)(y.row.old_quantity))+" ",1),b[9]||(b[9]=l("br",null,null,-1)),g(" Selisih: "+u(t(B)(y.row.new_quantity-y.row.old_quantity)),1)])])):A("",!0)]),_:2},1032,["props"])]),"body-cell-new_quantity":a(y=>[e(E,{props:y},{default:a(()=>[e(H,{modelValue:y.row[y.col.name],"onUpdate:modelValue":q=>y.row[y.col.name]=q,modelModifiers:{number:!0},"input-class":"text-right",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1}),e(Q,{class:"q-gutter-sm"},{default:a(()=>[e(P,{icon:"save",onClick:b[5]||(b[5]=y=>m("save")),label:"Simpan",color:"primary",disable:t(c).processing},null,8,["disable"]),e(P,{icon:"done_all",onClick:b[6]||(b[6]=y=>m("close")),label:"Selesaikan",color:"green",disable:t(c).processing},null,8,["disable"]),e(P,{icon:"close",onClick:b[7]||(b[7]=y=>m("cancel")),label:"Batalkan",color:"red",disable:t(c).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Od=Object.freeze(Object.defineProperty({__proto__:null,default:Nd},Symbol.toStringTag,{value:"Module"})),Id={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Dd={class:"q-pa-sm"},Ud={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ad={key:0,class:"flex q-gutter-xs"},Ed={class:"flex q-col-gutter-xs"},Rd={key:0},jd={key:1},Bd={class:"flex justify-end"},ya="Penyesuaian Stok",zd={__name:"Index",setup(f){const n=M([]),c=M(!0),o=M(!1),s=xe({search:"",status:"all",type:"all",...Ve()}),m=[{value:"all",label:"Semua"},...Ue(window.CONSTANTS.STOCKADJUSTMENT_STATUSES)],r=[{value:"all",label:"Semua"},...Ue(window.CONSTANTS.STOCKADJUSTMENT_TYPES)],i=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),p=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"status",label:"Status",field:"status",align:"center",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!1},{name:"total_cost",label:"Total Modal",field:"total_cost",align:"right",sortable:!1},{name:"total_price",label:"Total Harga",field:"total_price",align:"right",sortable:!1},{name:"notes",label:"Notes",field:"notes",align:"left",sortable:!1},{name:"action",align:"right"}];_e(()=>{b()});const _=v=>Ee({message:`Hapus Transaksi #${v.id}?`,url:route("admin.stock-adjustment.delete",v.id),fetchItemsCallback:b,loading:c}),b=(v=null)=>Ce({pagination:i,filter:s,props:v,rows:n,url:route("admin.stock-adjustment.data"),loading:c}),h=()=>{b()},d=v=>{v.status=="draft"?j.get(route("admin.stock-adjustment.editor",v.id)):j.get(route("admin.stock-adjustment.detail",v.id))},y=ce(),q=J(()=>y.screen.gt.sm?p:p.filter(v=>v.name==="id"||v.name==="action"));return(v,N)=>{const $=U("i-head"),x=U("authenticated-layout");return k(),T(Y,null,[e($,{title:ya}),e(x,null,Oe({"right-button":a(()=>[e(P,{icon:"add",dense:"",color:"primary",onClick:N[0]||(N[0]=S=>t(j).get(v.route("admin.stock-adjustment.create")))}),e(P,{class:"q-ml-sm",icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:N[1]||(N[1]=S=>o.value=!o.value)},null,8,["icon"])]),title:a(()=>[g(u(ya))]),default:a(()=>[l("div",Dd,[e(ve,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table stock-adjustment-list","row-key":"id","virtual-scroll":"",pagination:i.value,"onUpdate:pagination":N[6]||(N[6]=S=>i.value=S),filter:s.search,loading:c.value,columns:q.value,rows:n.value,"rows-per-page-options":[10,25,50],onRequest:b,"binary-state-sort":""},{loading:a(()=>[e(Te,{showing:"",color:"red"})]),"no-data":a(({icon:S,message:w,filter:I})=>[l("div",Ud,[l("span",null,u(w)+" "+u(I?" with term "+I:""),1)])]),body:a(S=>[e(ye,{props:S,onClick:w=>d(S.row),class:"cursor-pointer"},{default:a(()=>[e(E,{key:"id",props:S},{default:a(()=>[t(y).screen.lt.md?(k(),T(Y,{key:1},[l("div",Ed,[l("div",null,[l("b",null,"#"+u(S.row.id),1)]),l("div",null,[e(V,{name:"history"}),g(" "+u(v.$dayjs(new Date(S.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),e(Ll,{dense:"",size:"sm",color:S.row.status==="draft"?"orange":S.row.status==="closed"?"green":S.row.status==="canceled"?"red":"",icon:S.row.status==="draft"?"emergency":S.row.status==="closed"?"check":S.row.status==="canceled"?"close":""},{default:a(()=>[g(u(v.$CONSTANTS.STOCKADJUSTMENT_STATUSES[S.row.status]),1)]),_:2},1032,["color","icon"])]),l("div",null,[e(V,{name:"category"}),g(" "+u(v.$CONSTANTS.STOCKADJUSTMENT_TYPES[S.row.type]),1)]),S.row.created_by?(k(),T("div",Rd,[e(V,{name:"person"}),N[7]||(N[7]=g(" Dibuat: ")),l("b",null,u(S.row.created_by.username),1),e(V,{name:"history"}),g(" "+u(v.$dayjs(new Date(S.row.created_at)).format("DD/MM/YYYY HH:mm")),1)])):A("",!0),S.row.updated_by?(k(),T("div",jd,[e(V,{name:"person"}),N[8]||(N[8]=g(" Diperbarui: ")),l("b",null,u(S.row.updated_by.username),1),e(V,{name:"history"}),g(" "+u(v.$dayjs(new Date(S.row.updated_at)).format("DD/MM/YYYY HH:mm")),1)])):A("",!0),l("div",{class:me(S.row.total_cost<0?"text-red-10":S.row.total_cost>0?"text-green-10":"")},[e(V,{name:"money"}),g(" Rp. "+u(t(B)(S.row.total_cost))+" / Rp. "+u(t(B)(S.row.total_price)),1)],2)],64)):(k(),T("div",Ad,[l("div",null,[l("b",null,"#"+u(S.row.id),1)])]))]),_:2},1032,["props"]),e(E,{key:"datetime",props:S},{default:a(()=>[g(u(v.$dayjs(new Date(S.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),_:2},1032,["props"]),e(E,{key:"status",props:S,class:"text-center"},{default:a(()=>[g(u(v.$CONSTANTS.STOCKADJUSTMENT_STATUSES[S.row.status]),1)]),_:2},1032,["props"]),e(E,{key:"type",props:S},{default:a(()=>[g(u(v.$CONSTANTS.STOCKADJUSTMENT_TYPES[S.row.type]),1)]),_:2},1032,["props"]),e(E,{key:"total_cost",props:S},{default:a(()=>[l("div",{class:me(S.row.total_cost<0?"text-red-10":S.row.total_cost>0?"text-green-10":"")},u(t(B)(S.row.total_cost)),3)]),_:2},1032,["props"]),e(E,{key:"total_price",props:S},{default:a(()=>[l("div",{class:me(S.row.total_price<0?"text-red-10":S.row.total_price>0?"text-green-10":"")},u(t(B)(S.row.total_price)),3)]),_:2},1032,["props"]),e(E,{key:"notes",props:S},{default:a(()=>[g(u(S.row.notes),1)]),_:2},1032,["props"]),e(E,{key:"action",props:S},{default:a(()=>[l("div",Bd,[e(P,{icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:N[5]||(N[5]=W(()=>{},["stop"]))},{default:a(()=>[e(Ae,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e($e,{style:{width:"200px"}},{default:a(()=>[F((k(),R(K,{onClick:W(w=>_(S.row),["stop"]),clickable:"",disabled:!t(je)(v.$CONSTANTS.USER_ROLE_ADMIN)},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>N[9]||(N[9]=[g("Hapus")])),_:1})]),_:2},1032,["onClick","disabled"])),[[X],[ae]])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[o.value?{name:"header",fn:a(()=>[e(Ne,{class:"filter-bar"},{default:a(()=>[l("div",Id,[e(Z,{modelValue:s.status,"onUpdate:modelValue":[N[2]||(N[2]=S=>s.status=S),h],options:m,label:"Status",dense:"","map-options":"",class:"custom-select col-xs-12 col-sm-2","emit-value":"",outlined:""},null,8,["modelValue"]),e(Z,{modelValue:s.type,"onUpdate:modelValue":[N[3]||(N[3]=S=>s.type=S),h],options:r,label:"Jenis",dense:"",class:"custom-select col-xs-12 col-sm-2","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(H,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:s.search,"onUpdate:modelValue":N[4]||(N[4]=S=>s.search=S),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},Ld=Object.freeze(Object.defineProperty({__proto__:null,default:zd},Symbol.toStringTag,{value:"Module"})),Yd={class:"q-gutter-sm"},Hd={class:"q-gutter-sm"},Fd={class:"col col-lg-6 q-pa-sm"},Kd={class:"row"},Qd={class:"detail"},wa="Rincian Pemasok",Wd={__name:"Detail",setup(f){const n=se();return(c,o)=>{const s=U("i-head"),m=U("authenticated-layout");return k(),T(Y,null,[e(s,{title:wa}),e(m,null,{title:a(()=>[g(u(wa))]),"left-button":a(()=>[l("div",Yd,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=r=>t(j).get(c.route("admin.supplier.index")))})])]),"right-button":a(()=>[l("div",Hd,[e(P,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=r=>t(j).get(c.route("admin.supplier.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[e(be,{class:"row justify-center"},{default:a(()=>[l("div",Fd,[l("div",Kd,[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Q,null,{default:a(()=>[o[14]||(o[14]=l("div",{class:"text-subtitle1 text-bold text-grey-8"}," Info Pemasok ",-1)),l("table",Qd,[l("tbody",null,[l("tr",null,[o[2]||(o[2]=l("td",{style:{width:"70px"}},"Nama",-1)),o[3]||(o[3]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[o[4]||(o[4]=l("td",null,"Telepon",-1)),o[5]||(o[5]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.phone),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"Alamat",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.address),1)]),l("tr",null,[o[8]||(o[8]=l("td",null,"No. Rek",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.bank_account_number),1)]),l("tr",null,[o[10]||(o[10]=l("td",null,"Alamat Return",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.return_address),1)]),l("tr",null,[o[12]||(o[12]=l("td",null,"Status",-1)),o[13]||(o[13]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Jd=Object.freeze(Object.defineProperty({__proto__:null,default:Wd},Symbol.toStringTag,{value:"Module"})),Gd={class:"q-gutter-sm"},Xd={class:"col col-lg-6 q-pa-sm"},Zd={style:{"margin-left":"-10px"}},em={__name:"Editor",setup(f){const n=se(),c=(n.props.data.id?"Edit":"Tambah")+" Pemasok",o=we({id:n.props.data.id,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,bank_account_number:n.props.data.bank_account_number,return_address:n.props.data.return_address,active:!!n.props.data.active}),s=()=>ke({form:o,url:route("admin.supplier.save")});return(m,r)=>{const i=U("i-head"),p=U("authenticated-layout");return k(),T(Y,null,[e(i,{title:c}),e(p,null,{title:a(()=>[g(u(c))]),"left-button":a(()=>[l("div",Gd,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=_=>t(j).get(m.route("admin.supplier.index")))})])]),default:a(()=>[e(be,{class:"row justify-center"},{default:a(()=>[l("div",Xd,[e(he,{class:"row",onSubmit:W(s,["prevent"]),onValidationError:t(qe)},{default:a(()=>[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Q,null,{default:a(()=>r[9]||(r[9]=[l("div",{class:"text-subtitle1"},"Info Supplier",-1)])),_:1}),e(Q,{class:"q-pt-none"},{default:a(()=>[F(l("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=_=>t(o).id=_)},null,512),[[Re,t(o).id]]),e(H,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":r[2]||(r[2]=_=>t(o).name=_),modelModifiers:{trim:!0},label:"Nama","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(H,{modelValue:t(o).phone,"onUpdate:modelValue":r[3]||(r[3]=_=>t(o).phone=_),modelModifiers:{trim:!0},type:"text",label:"No HP","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.phone,"error-message":t(o).errors.phone},null,8,["modelValue","disable","error","error-message"]),e(H,{modelValue:t(o).address,"onUpdate:modelValue":r[4]||(r[4]=_=>t(o).address=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.address,"error-message":t(o).errors.address},null,8,["modelValue","disable","error","error-message"]),e(H,{modelValue:t(o).bank_account_number,"onUpdate:modelValue":r[5]||(r[5]=_=>t(o).bank_account_number=_),modelModifiers:{trim:!0},type:"text",label:"No Rek","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.bank_account_number,"error-message":t(o).errors.bank_account_number},null,8,["modelValue","disable","error","error-message"]),e(H,{modelValue:t(o).return_address,"onUpdate:modelValue":r[6]||(r[6]=_=>t(o).return_address=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat Return","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.return_address,"error-message":t(o).errors.return_address},null,8,["modelValue","disable","error","error-message"]),l("div",Zd,[e(Xe,{class:"full-width q-pl-none",modelValue:t(o).active,"onUpdate:modelValue":r[7]||(r[7]=_=>t(o).active=_),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"])])]),_:1}),e(Q,{class:"q-gutter-sm"},{default:a(()=>[e(P,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(P,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:r[8]||(r[8]=_=>t(j).get(m.route("admin.supplier.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},tm=Object.freeze(Object.defineProperty({__proto__:null,default:em},Symbol.toStringTag,{value:"Module"})),am={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},lm={class:"q-pa-sm"},om={class:"full-width row flex-center text-grey-8 q-gutter-sm"},nm={class:"flex justify-end"},ka="Pemasok",sm={__name:"Index",setup(f){const n=ce(),c=M(!1),o=M([]),s=M(!0),m=xe({search:"",status:"active",...Ve()}),r=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),i=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"phone",label:"No HP",field:"phone",align:"left",sortable:!0},{name:"address",label:"Alamat",field:"address",align:"left",sortable:!0},{name:"bank_account_number",label:"No Rek",field:"bank_account_number",align:"left",sortable:!0},{name:"action",align:"right"}],p=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];_e(()=>{b()});const _=q=>Ee({message:`Hapus pemasok ${q.name}?`,url:route("admin.supplier.delete",q.id),fetchItemsCallback:b,loading:s}),b=(q=null)=>{Ce({pagination:r,filter:m,props:q,rows:o,url:route("admin.supplier.data"),loading:s})},h=()=>b(),d=q=>j.get(route("admin.supplier.detail",{id:q.id})),y=J(()=>n.screen.gt.sm?i:i.filter(q=>q.name==="name"||q.name==="action"));return(q,v)=>{const N=U("i-head"),$=U("authenticated-layout");return k(),T(Y,null,[e(N,{title:ka}),e($,null,Oe({title:a(()=>[g(u(ka))]),"right-button":a(()=>[e(P,{icon:"add",dense:"",color:"primary",onClick:v[0]||(v[0]=x=>t(j).get(q.route("admin.supplier.add")))}),e(P,{class:"q-ml-sm",icon:c.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:v[1]||(v[1]=x=>c.value=!c.value)},null,8,["icon"])]),default:a(()=>[l("div",lm,[e(ve,{class:"full-height-table",ref:"tableRef",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:r.value,"onUpdate:pagination":v[5]||(v[5]=x=>r.value=x),filter:m.search,loading:s.value,columns:y.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:b,"binary-state-sort":""},{loading:a(()=>[e(Te,{showing:"",color:"red"})]),"no-data":a(({icon:x,message:S,filter:w})=>[l("div",om,[l("span",null,u(S)+" "+u(w?" with term "+w:""),1)])]),body:a(x=>[e(ye,{props:x,class:me([x.row.active?"":"bg-red-1","cursor-pointer"]),onClick:S=>d(x.row)},{default:a(()=>[e(E,{key:"name",props:x,class:"wrap-column"},{default:a(()=>[l("div",null,[t(n).screen.lt.md?(k(),R(V,{key:0,name:"person"})):A("",!0),g(" "+u(x.row.name),1)]),t(n).screen.lt.md?(k(),T(Y,{key:0},[l("div",null,[e(V,{name:"phone"}),g(" "+u(x.row.phone),1)]),l("div",null,[e(V,{name:"credit_card"}),g(" "+u(x.row.bank_account_number),1)]),l("div",null,[e(V,{name:"home_pin"}),g(" "+u(x.row.address),1)])],64)):A("",!0)]),_:2},1032,["props"]),e(E,{key:"phone",props:x},{default:a(()=>[g(u(x.row.phone),1)]),_:2},1032,["props"]),e(E,{key:"address",props:x},{default:a(()=>[g(u(x.row.address),1)]),_:2},1032,["props"]),e(E,{key:"bank_account_number",props:x},{default:a(()=>[g(u(x.row.bank_account_number),1)]),_:2},1032,["props"]),e(E,{key:"action",props:x},{default:a(()=>[l("div",nm,[e(P,{disabled:!t(je)(q.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:v[4]||(v[4]=W(()=>{},["stop"]))},{default:a(()=>[e(Ae,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e($e,{style:{width:"200px"}},{default:a(()=>[F((k(),R(K,{clickable:"",onClick:W(S=>t(j).get(q.route("admin.supplier.duplicate",x.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"file_copy"})]),_:1}),e(O,{icon:"copy"},{default:a(()=>v[6]||(v[6]=[g(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]]),F((k(),R(K,{clickable:"",onClick:W(S=>t(j).get(q.route("admin.supplier.edit",x.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"edit"})]),_:1}),e(O,{icon:"edit"},{default:a(()=>v[7]||(v[7]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]]),F((k(),R(K,{onClick:W(S=>_(x.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>v[8]||(v[8]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[c.value?{name:"header",fn:a(()=>[e(Ne,{class:"filter-bar"},{default:a(()=>[l("div",am,[e(Z,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:m.status,"onUpdate:modelValue":[v[2]||(v[2]=x=>m.status=x),h],options:p,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(H,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":v[3]||(v[3]=x=>m.search=x),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},rm=Object.freeze(Object.defineProperty({__proto__:null,default:sm},Symbol.toStringTag,{value:"Module"})),im={class:"q-gutter-sm"},um={class:"q-gutter-sm"},dm={class:"row justify-center"},mm={class:"col col-lg-6 q-pa-sm"},cm={class:"row"},pm={class:"detail"},fm={key:0},ha="Rincian Pengguna",gm={__name:"Detail",setup(f){const n=se();return(c,o)=>{const s=U("i-head"),m=U("authenticated-layout");return k(),T(Y,null,[e(s,{title:ha}),e(m,null,{title:a(()=>[g(u(ha))]),"left-button":a(()=>[l("div",im,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=r=>c.$inertia.get(c.route("admin.user.index")))})])]),"right-button":a(()=>[l("div",um,[e(P,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=r=>c.$inertia.get(c.route("admin.user.edit",{id:t(n).props.data.id})))})])]),default:a(()=>[l("div",dm,[l("div",mm,[l("div",cm,[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Q,null,{default:a(()=>[o[17]||(o[17]=l("div",{class:"text-subtitle1 text-bold text-grey-9"}," Profil Pengguna ",-1)),l("table",pm,[l("tbody",null,[l("tr",null,[o[2]||(o[2]=l("td",{style:{width:"125px"}},"ID Pengguna",-1)),o[3]||(o[3]=l("td",{style:{width:"1px"}},":",-1)),l("td",null,u(t(n).props.data.username),1)]),l("tr",null,[o[4]||(o[4]=l("td",null,"Nama Pengguna",-1)),o[5]||(o[5]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.name),1)]),l("tr",null,[o[6]||(o[6]=l("td",null,"Hak Akses",-1)),o[7]||(o[7]=l("td",null,":",-1)),l("td",null,u(c.$CONSTANTS.USER_ROLES[t(n).props.data.role]),1)]),l("tr",null,[o[8]||(o[8]=l("td",null,"Dibuat",-1)),o[9]||(o[9]=l("td",null,":",-1)),l("td",null,u(c.$dayjs(t(n).props.data.created_at).format("DD MMMM YY HH:mm:ss")),1)]),l("tr",null,[o[10]||(o[10]=l("td",null,"Diperbarui",-1)),o[11]||(o[11]=l("td",null,":",-1)),l("td",null,u(c.$dayjs(t(n).props.data.updated_at).format("DD MMMM YY HH:mm:ss")),1)]),l("tr",null,[o[12]||(o[12]=l("td",null,"Terakhir login",-1)),o[13]||(o[13]=l("td",null,":",-1)),l("td",null,u(t(n).props.data.last_login_datetime?c.$dayjs(t(n).props.data.last_login_datetime).format("DD MMMM YYYY HH:mm:ss"):"Belum pernah login"),1)]),t(n).props.data.last_activity_datetime?(k(),T("tr",fm,[o[15]||(o[15]=l("td",null,"Aktifitas Terakhir",-1)),o[16]||(o[16]=l("td",null,":",-1)),l("td",null,[g(u(c.$dayjs(t(n).props.data.last_activity_datetime).format("DD MMMM YYYY HH:mm:ss"))+" ",1),o[14]||(o[14]=l("br",null,null,-1)),g(u(t(n).props.data.last_activity_description),1)])])):A("",!0)])])]),_:1})]),_:1})])])])]),_:1})],64)}}},bm=Object.freeze(Object.defineProperty({__proto__:null,default:gm},Symbol.toStringTag,{value:"Module"}));function _m(f){return new RegExp("^(?=.{3,16}$)(?![_-])(?!.*[_-]{2})[a-zA-Z0-9_-]+(?<![_-])$").test(f)}const vm={class:"q-gutter-sm"},ym={class:"row justify-center"},wm={class:"col col-lg-6 q-pa-sm"},km={style:{"margin-left":"-10px"}},hm={__name:"Editor",setup(f){const n=Ue(window.CONSTANTS.USER_ROLES),c=se(),o=c.props.data.id?"Edit Pengguna":"Tambah Pengguna",s=we({id:c.props.data.id,name:c.props.data.name,username:c.props.data.username,password:"",role:c.props.data.role?c.props.data.role:n[0].value,active:!!c.props.data.active}),m=()=>ke({form:s,url:route("admin.user.save")});return(r,i)=>{const p=U("i-head"),_=U("authenticated-layout");return k(),T(Y,null,[e(p,{title:t(o)},null,8,["title"]),e(_,null,{title:a(()=>[g(u(t(o)),1)]),"left-button":a(()=>[l("div",vm,[e(P,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:i[0]||(i[0]=b=>r.$inertia.get(r.route("admin.user.index")))})])]),default:a(()=>[l("div",ym,[l("div",wm,[e(he,{class:"row",onSubmit:W(m,["prevent"])},{default:a(()=>[e(ee,{square:"",flat:"",bordered:"",class:"col"},{default:a(()=>[e(Q,{class:"q-pt-none"},{default:a(()=>[F(l("input",{type:"hidden",name:"id","onUpdate:modelValue":i[1]||(i[1]=b=>t(s).id=b)},null,512),[[Re,t(s).id]]),e(H,{autofocus:"",modelValue:t(s).name,"onUpdate:modelValue":i[2]||(i[2]=b=>t(s).name=b),modelModifiers:{trim:!0},label:"Nama","lazy-rules":"",error:!!t(s).errors.name,disable:t(s).processing,"error-message":t(s).errors.name,rules:[b=>b&&b.length>0||"Nama harus diisi."]},null,8,["modelValue","error","disable","error-message","rules"]),e(H,{modelValue:t(s).username,"onUpdate:modelValue":i[3]||(i[3]=b=>t(s).username=b),modelModifiers:{trim:!0},type:"text",label:"ID Pengguna","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.username,"error-message":t(s).errors.username,rules:[b=>b&&b.length>0||"ID Pengguna harus diisi.",b=>t(_m)(b)||"ID Pengguna tidak valid."]},null,8,["modelValue","disable","error","error-message","rules"]),e(H,{modelValue:t(s).password,"onUpdate:modelValue":i[4]||(i[4]=b=>t(s).password=b),type:"password",label:"Kata Sandi","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.password,"error-message":t(s).errors.password},null,8,["modelValue","disable","error","error-message"]),e(Z,{modelValue:t(s).role,"onUpdate:modelValue":i[5]||(i[5]=b=>t(s).role=b),label:"Hak Akses",options:t(n),"map-options":"","emit-value":"","lazy-rules":"",disable:t(s).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!t(s).errors.role,"error-message":t(s).errors.role},null,8,["modelValue","options","disable","error","error-message"]),l("div",km,[e(Xe,{class:"full-width",modelValue:t(s).active,"onUpdate:modelValue":i[6]||(i[6]=b=>t(s).active=b),disable:t(s).processing,label:"Aktif"},null,8,["modelValue","disable"])])]),_:1}),e(Q,{class:"q-gutter-sm"},{default:a(()=>[e(P,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing,onClick:m},null,8,["disable"]),e(P,{icon:"cancel",label:"Batal",class:"text-black",disable:t(s).processing,onClick:i[7]||(i[7]=b=>t(j).get(r.route("admin.user.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})],64)}}},$m=Object.freeze(Object.defineProperty({__proto__:null,default:hm},Symbol.toStringTag,{value:"Module"})),Sm={en:{dashboard:"Dashboard",welcome:"Welcome to our application!",greeting:"Hello, {name}!"},id:{add:"Tambah",filter:"Penyaringan",search:"Cari",dashboard:"Dasbor",stock_adjustment:"Penyesuaian Stok",customers:"Santri",suppliers:"Pemasok",sales_orders:"Penjualan",purchase_orders:"Pembelian",products:"Produk",product_categories:"Kategori Produk",users:"Pengguna",settings:"Pengaturan",my_profile:"Profil Saya",company_profile:"Profil Koperasi",logout:"Keluar",add_user:"Tambah Pengguna",edit_user:"Edit Pengguna",delete_user:"Hapus Pengguna",welcome:"Selamat datang di aplikasi kami!",greeting:"Selamat datang, {name}!"}},xm=Dl({locale:"id",messages:Sm}),qm={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Vm={class:"q-pa-sm"},Cm={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Tm={class:"elipsis",style:{"max-width":"200px"}},Pm={class:"flex justify-end"},Mm={__name:"Index",setup(f){const n=[{value:"all",label:"Semua"},...Ue(window.CONSTANTS.USER_ROLES)],c=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],o=se(),s=ce(),m=o.props.auth.user,r=xm.global.t("users"),i=M([]),p=M(!0),_=M(!1),b=xe({role:"all",status:"active",search:""}),h=M({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"username",descending:!1}),d=[{name:"username",label:"ID Pengguna",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"role",label:"Hak Akses",field:"role",align:"center",sortable:!0},{name:"action",align:"right"}];_e(()=>{q()});const y=()=>q(),q=(x=null)=>Ce({pagination:h,props:x,rows:i,loading:p,filter:b,url:route("admin.user.data")}),v=x=>Ee({url:route("admin.user.delete",x.id),message:`Hapus pengguna ${x.username}?`,fetchItemsCallback:q,loading:p}),N=J(()=>s.screen.gt.sm?d:d.filter(x=>x.name==="username"||x.name==="action")),$=x=>j.get(route("admin.user.detail",x.id));return(x,S)=>{const w=U("i-head"),I=U("authenticated-layout");return k(),T(Y,null,[e(w,{title:t(r)},null,8,["title"]),e(I,null,Oe({title:a(()=>[g(u(t(r)),1)]),"right-button":a(()=>[e(P,{icon:"add",dense:"",color:"primary",onClick:S[0]||(S[0]=C=>t(j).get(x.route("admin.user.add")))}),e(P,{class:"q-ml-sm",icon:_.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:S[1]||(S[1]=C=>_.value=!_.value)},null,8,["icon"])]),default:a(()=>[l("div",Vm,[e(ve,{class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:h.value,"onUpdate:pagination":S[6]||(S[6]=C=>h.value=C),filter:b.search,loading:p.value,columns:N.value,rows:i.value,"rows-per-page-options":[10,25,50],onRequest:q,"binary-state-sort":""},{loading:a(()=>[e(Te,{showing:"",color:"red"})]),"no-data":a(({icon:C,message:D,term:le})=>[l("div",Cm,[l("span",null,u(D)+" "+u(le?" with term "+le:""),1)])]),body:a(C=>[e(ye,{props:C,class:me([C.row.active?"":"bg-red-1","cursor-pointer"]),onClick:D=>$(C.row)},{default:a(()=>[e(E,{key:"username",props:C},{default:a(()=>[l("div",null,u(C.row.username),1),t(s).screen.gt.sm?A("",!0):(k(),T(Y,{key:0},[l("div",null,[e(V,{name:"person"}),g(" "+u(C.row.name),1)]),l("div",Tm,[e(V,{name:"group"}),l("span",null,u(x.$CONSTANTS.USER_ROLES[C.row.role]),1)])],64))]),_:2},1032,["props"]),e(E,{key:"name",props:C},{default:a(()=>[g(u(C.row.name),1)]),_:2},1032,["props"]),e(E,{key:"role",props:C,align:"center"},{default:a(()=>[l("span",null,u(x.$CONSTANTS.USER_ROLES[C.row.role]),1)]),_:2},1032,["props"]),e(E,{key:"action",props:C},{default:a(()=>[l("div",Pm,[e(P,{disable:C.row.id==t(m).id||C.row.username=="admin",icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:S[5]||(S[5]=W(()=>{},["stop"]))},{default:a(()=>[e(Ae,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:a(()=>[e($e,{style:{width:"200px"}},{default:a(()=>[F((k(),R(K,{clickable:"",onClick:W(D=>t(j).get(x.route("admin.user.duplicate",C.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"file_copy"})]),_:1}),e(O,{icon:"copy"},{default:a(()=>S[7]||(S[7]=[g(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]]),F((k(),R(K,{clickable:"",onClick:W(D=>t(j).get(x.route("admin.user.edit",C.row.id)),["stop"])},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"edit"})]),_:1}),e(O,{icon:"edit"},{default:a(()=>S[8]||(S[8]=[g("Edit")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]]),F((k(),R(K,{onClick:W(D=>v(C.row),["stop"]),clickable:""},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"delete_forever"})]),_:1}),e(O,null,{default:a(()=>S[9]||(S[9]=[g("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[X],[ae]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disable"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"])])]),_:2},[_.value?{name:"header",fn:a(()=>[e(Ne,{class:"filter-bar"},{default:a(()=>[l("div",qm,[e(Z,{modelValue:b.role,"onUpdate:modelValue":[S[2]||(S[2]=C=>b.role=C),y],class:"custom-select col-xs-12 col-sm-2",options:n,label:"Role",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(Z,{modelValue:b.status,"onUpdate:modelValue":[S[3]||(S[3]=C=>b.status=C),y],class:"custom-select col-xs-12 col-sm-2",options:c,label:"Status",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(H,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:b.search,"onUpdate:modelValue":S[4]||(S[4]=C=>b.search=C),placeholder:"Cari",clearable:""},{append:a(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},Nm=Object.freeze(Object.defineProperty({__proto__:null,default:Mm},Symbol.toStringTag,{value:"Module"})),Om={class:"absolute-top",style:{height:"50px","border-bottom":"1px solid #ddd","align-items":"center","justify-content":"center"}},Im={style:{width:"100%",padding:"8px",display:"flex","justify-content":"space-between"}},Dm={class:"text-bold"},Um={class:"text-grey-8 text-caption"},Am={class:"absolute-bottom text-grey-6 q-pa-md"},Tt="amanah-pos.layout.left-drawer-open",Em={__name:"AuthenticatedLayout",setup(f){const n=ce(),c=se(),o=M(JSON.parse(localStorage.getItem(Tt))),s=M(!1),m=()=>o.value=!o.value;return De(o,r=>{localStorage.setItem(Tt,r)}),_e(()=>{o.value=JSON.parse(localStorage.getItem(Tt)),n.screen.lt.md&&(o.value=!1)}),(r,i)=>(k(),R(vl,{view:"lHh LpR lFf"},{default:a(()=>[e(cl,null,{default:a(()=>[e(Ne,{class:"bg-grey-1 text-black toolbar-scrolled"},{default:a(()=>[o.value?A("",!0):(k(),R(P,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:m},{default:a(()=>[e(V,{class:"material-symbols-outlined"},{default:a(()=>i[20]||(i[20]=[g("dock_to_right")])),_:1})]),_:1})),Je(r.$slots,"left-button",{},void 0,!0),e(pl,{class:me({"q-ml-sm":o.value}),style:{"font-size":"18px"}},{default:a(()=>[Je(r.$slots,"title",{},()=>[g(u(r.$config.APP_NAME),1)],!0)]),_:3},8,["class"]),Je(r.$slots,"right-button",{},void 0,!0)]),_:3}),Je(r.$slots,"header",{},void 0,!0)]),_:3}),e(fl,{breakpoint:768,modelValue:o.value,"onUpdate:modelValue":i[19]||(i[19]=p=>o.value=p),bordered:"",class:"bg-grey-2",style:{color:"#444"}},{default:a(()=>[l("div",Om,[l("div",Im,[e(gl,{modelValue:s.value,"onUpdate:modelValue":i[2]||(i[2]=p=>s.value=p),class:me(["profile-btn text-bold",{"profile-btn-active":s.value}]),flat:"",label:t(c).props.company.name,style:{"justify-content":"space-between","flex-grow":"1",overflow:"hidden"}},{default:a(()=>[e($e,{id:"profile-btn-popup",style:{color:"#444"}},{default:a(()=>[e(K,null,{default:a(()=>[e(Ge,{style:{"margin-left":"-15px"}},{default:a(()=>[e(V,{name:"person"})]),_:1}),e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>[l("div",Dm,u(t(c).props.auth.user.name),1),l("div",Um,u(r.$CONSTANTS.USER_ROLES[t(c).props.auth.user.role])+" @ "+u(t(c).props.company.name),1)]),_:1})]),_:1})]),_:1}),e(at),F((k(),R(K,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/profile"),onClick:i[0]||(i[0]=p=>t(j).get(r.route("admin.profile.edit")))},{default:a(()=>[e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>[e(V,{name:"manage_accounts",class:"q-mr-sm"}),i[21]||(i[21]=g(" Profil Saya"))]),_:1})]),_:1})]),_:1},8,["active"])),[[ae],[X]]),r.$can("admin.company-profile.edit")?F((k(),R(K,{key:0,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/company-profile"),onClick:i[1]||(i[1]=p=>t(j).get(r.route("admin.company-profile.edit")))},{default:a(()=>[e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>[e(V,{name:"home_work",class:"q-mr-sm"}),i[22]||(i[22]=g(" Profil Perusahaan"))]),_:1})]),_:1})]),_:1},8,["active"])),[[ae],[X]]):A("",!0),e(at),F((k(),R(K,{clickable:"",style:{color:"inherit"},href:r.route("admin.auth.logout")},{default:a(()=>[e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>[e(V,{name:"logout",class:"q-mr-sm"}),i[23]||(i[23]=g(" Keluar"))]),_:1})]),_:1})]),_:1},8,["href"])),[[ae],[X]])]),_:1})]),_:1},8,["modelValue","label","class"]),o.value?(k(),R(P,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:m},{default:a(()=>[e(V,{name:"dock_to_right"})]),_:1})):A("",!0)])]),e(bl,{style:{height:"calc(100% - 50px)","margin-top":"50px"}},{default:a(()=>[e($e,{id:"main-nav",style:{"margin-bottom":"50px"}},{default:a(()=>[F((k(),R(K,{clickable:"",active:r.$page.url.startsWith("/admin/dashboard"),onClick:i[3]||(i[3]=p=>t(j).get(r.route("admin.dashboard")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"dashboard"})]),_:1}),e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>i[24]||(i[24]=[g("Dashboard")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]]),e(at),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(k(),R(We,{key:0,icon:"storefront",label:"Penjualan","default-opened":r.$page.url.startsWith("/admin/sales-orders")||r.$page.url.startsWith("/admin/customers")},{default:a(()=>[F((k(),R(K,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/sales-orders"),onClick:i[4]||(i[4]=p=>t(j).get(r.route("admin.sales-order.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"shopping_cart"})]),_:1}),e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>i[25]||(i[25]=[g("Penjualan")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]]),F((k(),R(K,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/customers"),onClick:i[5]||(i[5]=p=>t(j).get(r.route("admin.customer.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"people"})]),_:1}),e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>i[26]||(i[26]=[g("Pelanggan")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]])]),_:1},8,["default-opened"])):A("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(k(),R(We,{key:1,icon:"local_shipping",label:"Pembelian","default-opened":r.$page.url.startsWith("/admin/purchase-orders")||r.$page.url.startsWith("/admin/suppliers")},{default:a(()=>[F((k(),R(K,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/purchase-orders"),onClick:i[6]||(i[6]=p=>t(j).get(r.route("admin.purchase-order.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"shopping_cart"})]),_:1}),e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>i[27]||(i[27]=[g("Pembelian")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]]),F((k(),R(K,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/suppliers"),onClick:i[7]||(i[7]=p=>t(j).get(r.route("admin.supplier.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"people"})]),_:1}),e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>i[28]||(i[28]=[g("Pemasok")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]])]),_:1},8,["default-opened"])):A("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(k(),R(We,{key:2,icon:"inventory_2",label:"Inventori","default-opened":r.$page.url.startsWith("/admin/products")||r.$page.url.startsWith("/admin/product-categories")||r.$page.url.startsWith("/admin/stock-adjustments")},{default:a(()=>[F((k(),R(K,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/stock-adjustments"),onClick:i[8]||(i[8]=p=>t(j).get(r.route("admin.stock-adjustment.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"swap_vert"})]),_:1}),e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>i[29]||(i[29]=[g("Penyesuaian Stok")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]]),F((k(),R(K,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/products"),onClick:i[9]||(i[9]=p=>t(j).get(r.route("admin.product.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"box"})]),_:1}),e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>i[30]||(i[30]=[g("Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]]),F((k(),R(K,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/product-categories"),onClick:i[10]||(i[10]=p=>t(j).get(r.route("admin.product-category.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"category"})]),_:1}),e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>i[31]||(i[31]=[g("Kategori Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]])]),_:1},8,["default-opened"])):A("",!0),e(at),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(k(),R(We,{key:3,icon:"wallet",label:"Wallet","default-opened":r.$page.url.startsWith("/admin/customer-wallet-transactions")||r.$page.url.startsWith("/admin/customers")},{default:a(()=>[F((k(),R(K,{class:"subnav",clickable:"",active:r.$page.url=="/admin/customer-wallet-transactions",onClick:i[11]||(i[11]=p=>t(j).get(r.route("admin.customer-wallet-transaction.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"moving"})]),_:1}),e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>i[32]||(i[32]=[g("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]])]),_:1},8,["default-opened"])):A("",!0),e(at),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(k(),R(We,{key:4,icon:"finance",label:"Keuangan","default-opened":r.$page.url.startsWith("/admin/finance-accounts")||r.$page.url.startsWith("/admin/finance-transactions")},{default:a(()=>[F((k(),R(K,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/finance-transactions"),onClick:i[12]||(i[12]=p=>t(j).get(r.route("admin.finance-transaction.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"moving"})]),_:1}),e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>i[33]||(i[33]=[g("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]]),F((k(),R(K,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/finance-accounts"),onClick:i[13]||(i[13]=p=>t(j).get(r.route("admin.finance-account.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"groups_2"})]),_:1}),e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>i[34]||(i[34]=[g("Akun Kas")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]])]),_:1},8,["default-opened"])):A("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(k(),R(We,{key:5,icon:"paid",label:"Operasional","default-opened":r.$page.url.startsWith("/admin/operational-costs")||r.$page.url.startsWith("/admin/operational-cost-categories")},{default:a(()=>[F((k(),R(K,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/operational-costs"),onClick:i[14]||(i[14]=p=>t(j).get(r.route("admin.operational-cost.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"request_quote"})]),_:1}),e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>i[35]||(i[35]=[g("Biaya Operasional")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]]),F((k(),R(K,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/operational-cost-categories"),onClick:i[15]||(i[15]=p=>t(j).get(r.route("admin.operational-cost-category.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"category"})]),_:1}),e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>i[36]||(i[36]=[g("Kategori")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]])]),_:1},8,["default-opened"])):A("",!0),e(at),e(We,{icon:"settings",label:"Pengaturan","default-opened":r.$page.url.startsWith("/admin/settings")},{default:a(()=>[r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?F((k(),R(K,{key:0,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/users"),onClick:i[16]||(i[16]=p=>t(j).get(r.route("admin.user.index")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"group"})]),_:1}),e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>i[37]||(i[37]=[g("Pengguna")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]]):A("",!0),F((k(),R(K,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/profile"),onClick:i[17]||(i[17]=p=>t(j).get(r.route("admin.profile.edit")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"manage_accounts"})]),_:1}),e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>i[38]||(i[38]=[g("Profil Saya")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]]),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?F((k(),R(K,{key:1,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/company-profile"),onClick:i[18]||(i[18]=p=>t(j).get(r.route("admin.company-profile.edit")))},{default:a(()=>[e(O,{avatar:""},{default:a(()=>[e(V,{name:"apartment"})]),_:1}),e(O,null,{default:a(()=>[e(ne,null,{default:a(()=>i[39]||(i[39]=[g("Profil Maqsof")])),_:1})]),_:1})]),_:1},8,["active"])),[[X]]):A("",!0)]),_:1},8,["default-opened"]),l("div",Am,"  2025 - "+u(r.$config.APP_NAME+" v"+r.$config.APP_VERSION_STR),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(_l,{class:"bg-grey-1"},{default:a(()=>[e(be,null,{default:a(()=>[Je(r.$slots,"default",{},void 0,!0)]),_:3})]),_:3}),Je(r.$slots,"footer",{},void 0,!0)]),_:3}))}},Rm=Ze(Em,[["__scopeId","data-v-0d3b22fb"]]),jm={__name:"GuestLayout",setup(f){return(n,c)=>(k(),R(yl,null,{default:a(()=>[Je(n.$slots,"default")]),_:3}))}};ze.extend(Yl);ze.locale("id");wl({title:f=>window.CONFIG.APP_NAME+(f?" - "+f:""),resolve:f=>Object.assign({"./pages/About.vue":no,"./pages/auth/Login.vue":mo,"./pages/company-profile/Edit.vue":_o,"./pages/company-profile/partials/CompanyInfoForm.vue":co,"./pages/customer-wallet-transaction/Adjustment.vue":wo,"./pages/customer-wallet-transaction/Editor.vue":So,"./pages/customer-wallet-transaction/Index.vue":Mo,"./pages/customer/Detail.vue":ln,"./pages/customer/Editor.vue":un,"./pages/customer/Index.vue":gn,"./pages/dashboard/Index.vue":On,"./pages/dashboard/cards/ChartCard.vue":Rn,"./pages/dashboard/cards/SummaryCard.vue":Wn,"./pages/dashboard/cards/TopCard.vue":Zn,"./pages/finance-account/Detail.vue":us,"./pages/finance-account/Editor.vue":gs,"./pages/finance-account/Index.vue":qs,"./pages/finance-transaction/Editor.vue":Ps,"./pages/finance-transaction/Index.vue":js,"./pages/operational-cost-category/Editor.vue":Ys,"./pages/operational-cost-category/Index.vue":Gs,"./pages/operational-cost/Detail.vue":sr,"./pages/operational-cost/Editor.vue":pr,"./pages/operational-cost/Index.vue":hr,"./pages/product-category/Editor.vue":qr,"./pages/product-category/Index.vue":Or,"./pages/product/Detail.vue":Gr,"./pages/product/Editor.vue":ai,"./pages/product/Index.vue":ci,"./pages/profile/Edit.vue":yi,"./pages/profile/partials/UpdatePasswordForm.vue":pi,"./pages/profile/partials/UpdateProfileInformationForm.vue":fi,"./pages/purchase-order/Editor.vue":eu,"./pages/purchase-order/Editor_v1.vue":lu,"./pages/purchase-order/Index.vue":cu,"./pages/purchase-order/editor/ConfirmDeleteDialog.vue":Yi,"./pages/purchase-order/editor/ItemsListTable.vue":Di,"./pages/purchase-order/editor/SupplierEditorDialog.vue":Hi,"./pages/purchase-order/editor/TransactionHeader.vue":Pi,"./pages/purchase-order/editor/TransactionSummary.vue":zi,"./pages/sales-order/Editor.vue":Xu,"./pages/sales-order/Index.vue":rd,"./pages/sales-order/editor/ConfirmDeleteDialog.vue":Du,"./pages/sales-order/editor/CustomerEditorDialog.vue":Uu,"./pages/sales-order/editor/ItemsListTable.vue":qu,"./pages/sales-order/editor/TransactionHeader.vue":wu,"./pages/sales-order/editor/TransactionSummary.vue":Ou,"./pages/stock-adjustment/Create.vue":bd,"./pages/stock-adjustment/Detail.vue":qd,"./pages/stock-adjustment/Editor.vue":Od,"./pages/stock-adjustment/Index.vue":Ld,"./pages/supplier/Detail.vue":Jd,"./pages/supplier/Editor.vue":tm,"./pages/supplier/Index.vue":rm,"./pages/user/Detail.vue":bm,"./pages/user/Editor.vue":$m,"./pages/user/Index.vue":Nm})[`./pages/${f}.vue`],setup({el:f,App:n,props:c,plugin:o}){const s=Ul({render:()=>ge(n,c)}).use(o).use(Hl).use(kl,{plugins:{Notify:$l,Loading:hl,Dialog:xa},config:{iconSet:"material-symbols-outlined"}}).component("i-head",Sl).component("i-link",xl).component("my-link",ql).component("authenticated-layout",Rm).component("guest-layout",jm);s.use(Fl),s.mount(f)},progress:{color:"#4B5563"}});j.on("success",Vl);
