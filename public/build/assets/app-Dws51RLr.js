import{_ as vt,r as Q,c as h,o as p,a as e,w as l,b as t,Q as pe,d as te,e as v,F as W,f as q,g as P,h as k,i as de,t as i,u as a,j as H,k as We,l as la,T as He,m as Ao,n as Ve,p as ze,q as J,s as Ge,v as Lt,x as V,y as oe,z as A,A as mt,B as fe,C as Be,D as ee,E as dt,G as it,N as X,H as Uo,I as pa,J as Cl,K as Tt,L as G,M as oa,O as we,R as ne,P as _e,S as Tl,U as jo,V as Eo,W as It,X as $t,Y as fa,Z as ya,$ as Mo,a0 as Me,a1 as No,a2 as Bo,a3 as zo,a4 as Ct,a5 as Fo,a6 as Lo,a7 as ga,a8 as Mt,a9 as ba,aa as Pa,ab as Ho,ac as Gt,ad as Oa,ae as Ko,af as Ia,ag as Yo,ah as Pl,ai as Qo,aj as Wo,ak as Jo,al as ka,am as wa,an as Go,ao as Vt,ap as be,aq as Pe,ar as Ae,as as Ue,at as $e,au as qe,av as L,aw as ke,ax as ut,ay as je,az as Te,aA as Zt,aB as xe,aC as Ze,aD as Ke,aE as Fe,aF as Xe,aG as Ee,aH as Je,aI as Ne,aJ as ae,aK as B,aL as ue,aM as tt,aN as De,aO as Ol,aP as na,aQ as Kt,aR as Yt,aS as Qt,aT as Rt,aU as Dt,aV as et,aW as Ra,aX as sa,aY as Da,aZ as ra,a_ as Nt,a$ as Bt,b0 as ha,b1 as Wt,b2 as Xo,b3 as Zo,b4 as Il,b5 as en,b6 as tn,b7 as an,b8 as ln,b9 as Aa,ba as on,bb as nn,bc as sn,bd as rn,be as Rl,bf as lt,bg as dn,bh as Ua,bi as un,bj as mn,bk as cn,bl as pn,bm as fn,bn as gn,bo as bn,bp as ye,bq as Ht,br as nt,bs as vn,bt as yn,bu as _n,bv as Dl,bw as ea,bx as ct,by as kn,bz as wn,bA as hn,bB as wt,bC as ta,bD as At,bE as Al,bF as Ul,bG as $n,bH as kt,bI as gt,bJ as bt,bK as zt,bL as ia,bM as jl,bN as xn,bO as Sn,bP as Vn,bQ as El,bR as qn,bS as Cn,bT as Tn,bU as Ot,bV as Pn,bW as On,bX as In,bY as Rn,bZ as Dn,b_ as An,b$ as Un,c0 as jn,c1 as En}from"./BaseGuestLayout-XhGcz19y.js";const Mn={},Nn={class:"row"};function Bn(d,n){const u=Q("i-head"),o=Q("authenticated-layout");return p(),h(W,null,[e(u,{title:"About"}),e(o,null,{title:l(()=>[...n[0]||(n[0]=[v("About",-1)])]),default:l(()=>[t("div",Nn,[e(pe,{class:"col q-pa-md q-ma-md",square:"",flat:"",bordered:""},{default:l(()=>[e(te,null,{default:l(()=>[...n[1]||(n[1]=[t("div",{class:"q-mb-md text-h4"},"About",-1),t("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Autem soluta, accusamus placeat eius eligendi perferendis quisquam veritatis iste debitis laboriosam facere et aliquam quos beatae illo distinctio rerum eos! Expedita, voluptatem. Aut nihil deleniti magni fuga eius labore aliquam nulla quod ullam sunt amet eum asperiores, harum unde eligendi tempore sapiente. Placeat sed, dignissimos voluptatum perspiciatis saepe aspernatur, maxime est, ipsam quas nobis cumque sunt labore molestias? Amet in sed ullam recusandae, nostrum dicta facilis blanditiis incidunt quae commodi soluta id impedit vel fugit illo, molestias reiciendis, provident nam molestiae! Ipsam, hic. Facere aut quisquam praesentium enim illum, pariatur nam.",-1),t("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, cum nulla. Ut eligendi tenetur aliquam cum mollitia repellat voluptas, fugiat doloremque sunt commodi enim excepturi distinctio id sapiente incidunt ipsam asperiores cupiditate, labore libero! Ad facere magni cumque perspiciatis, adipisci possimus pariatur quo nobis minus, est enim similique quaerat vel asperiores ipsam harum et, totam fugit.",-1),t("p",null,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Suscipit aspernatur maxime consectetur, consequatur excepturi facilis praesentium rem placeat sapiente, maiores doloribus modi voluptate. Unde autem dolor officiis numquam incidunt quasi aspernatur nam dolores ratione quidem recusandae, nulla qui provident molestias odit nemo praesentium quas voluptatem aliquid perferendis, iste veritatis vitae. Dolor, eligendi quidem distinctio asperiores doloremque culpa corporis quibusdam earum ex laudantium iure officia ullam nostrum maxime voluptatum laboriosam impedit labore illum. Culpa, veniam dolor odio ad eius nisi, aspernatur quia veritatis blanditiis repellat id minima deserunt beatae?",-1)])]),_:1})]),_:1})])]),_:1})],64)}const zn=vt(Mn,[["render",Bn]]),Fn=Object.freeze(Object.defineProperty({__proto__:null,default:zn},Symbol.toStringTag,{value:"Module"})),Ln={class:"q-ma-md"},Hn={key:0},Kn={__name:"Autocomplete1",setup(d){const n=q(null),u=q([]);let o=null;const r=(s,b)=>{if(s.length<2){b(()=>{u.value=[]});return}o&&clearTimeout(o),o=setTimeout(()=>{We.get(`/web-api/customers?q=${s}`).then(f=>{const m=f.data.data.map(c=>({label:`${c.code} - ${c.name}`,value:c.id,data:c}));b(()=>{u.value=m})}).catch(f=>{console.error("Gagal mengambil data pelanggan:",f),b(()=>{u.value=[]})})})};return(s,b)=>{const f=Q("guest-layout");return p(),P(f,null,{default:l(()=>[t("div",Ln,[e(de,{class:"full-width",modelValue:n.value,"onUpdate:modelValue":b[0]||(b[0]=m=>n.value=m),"use-input":"",label:"Cari Pelanggan",options:u.value,onFilter:r,hint:"Ketik minimal 2 karakter untuk mencari",clearable:""},null,8,["modelValue","options"]),n.value?(p(),h("div",Hn," Saldo: Rp. "+i(a(H)(n.value.data.wallet_balance)),1)):k("",!0)])]),_:1})}}},Yn=Object.freeze(Object.defineProperty({__proto__:null,default:Kn},Symbol.toStringTag,{value:"Module"})),Qn={style:{"margin-left":"-10px"}},da={__name:"StandardCheckBox",props:{modelValue:{type:Boolean,required:!0},disable:{type:Boolean,default:!1},label:{type:String,default:""}},emits:["update:modelValue"],setup(d,{emit:n}){const u=d,o=n;return(r,s)=>(p(),h("div",Qn,[e(la,{class:"full-width q-pl-none","model-value":u.modelValue,disable:u.disable,label:u.label,"onUpdate:modelValue":s[0]||(s[0]=b=>o("update:modelValue",b))},null,8,["model-value","disable","label"])]))}};function _a(d){return d instanceof File||d instanceof Blob||d instanceof FileList&&d.length>0||d instanceof FormData&&Array.from(d.values()).some(n=>_a(n))||typeof d=="object"&&d!==null&&Object.values(d).some(n=>_a(n))}function Ml(d,n=null){const u=He(d,n);let o=b=>b,r=null;const s={transform:b=>f=>(o=f,b),submit:b=>(f,m,c={})=>{u.wasSuccessful=!1,u.recentlySuccessful=!1,u.clearErrors(),clearTimeout(r),c.onBefore&&c.onBefore(),u.processing=!0,c.onStart&&c.onStart();const y=o(u.data());axios[f](m,y,{headers:{"Content-Type":_a(y)?"multipart/form-data":"application/json"},onUploadProgress:_=>{u.progress=_,c.onProgress&&c.onProgress(_)}}).then(_=>{u.processing=!1,u.progress=null,u.clearErrors(),u.wasSuccessful=!0,u.recentlySuccessful=!0,r=setTimeout(()=>u.recentlySuccessful=!1,2e3),c.onSuccess&&c.onSuccess(_.data),u.defaults(Ao(u.data())),u.isDirty=!1}).catch(_=>{var g;u.processing=!1,u.progress=null,u.clearErrors(),((g=_.response)==null?void 0:g.status)===422&&Object.keys(_.response.data.errors).forEach(S=>{u.setError(S,_.response.data.errors[S][0])}),c.onError&&c.onError(_)}).finally(()=>{u.processing=!1,u.progress=null,c.onFinish&&c.onFinish()})}};return new Proxy(u,{get:(b,f,m)=>Object.keys(s).indexOf(f)<0?b[f]:s[f](m)})}const Wn={class:"column"},Jn={class:"row"},Gn={class:"flex justify-center"},Xn={__name:"Login",setup(d){let n=Ml({username:window.CONFIG.APP_DEMO?"admin":"",password:window.CONFIG.APP_DEMO?"12345":"",remember:!0});const u=()=>Ge({form:n,url:route("admin.auth.login"),onSuccess:()=>{n.processing=!0,window.location.href=route("admin.dashboard")}}),o=q(!1);return(r,s)=>{const b=Q("i-head"),f=Q("guest-layout");return p(),h(W,null,[e(b,{title:"Login"}),e(f,null,{default:l(()=>[e(Ve,{class:"row justify-center items-center"},{default:l(()=>[t("div",Wn,[t("div",Jn,[e(ze,{class:"q-gutter-md",onSubmit:J(u,["prevent"])},{default:l(()=>[e(pe,{square:"",bordered:"",flat:"",class:"q-pa-md"},{default:l(()=>[e(te,{class:"text-center"},{default:l(()=>[t("div",Gn,[e(Lt,{size:"80px"},{default:l(()=>[e(V,{name:"badge",color:"primary"})]),_:1})]),s[4]||(s[4]=t("h6",{class:"q-my-sm text-primary"},"Login Staff",-1))]),_:1}),e(te,null,{default:l(()=>[e(oe,{modelValue:a(n).username,"onUpdate:modelValue":s[0]||(s[0]=m=>a(n).username=m),modelModifiers:{trim:!0},label:"Username","lazy-rules":"",error:!!a(n).errors.username,autocomplete:"username","error-message":a(n).errors.username,disable:a(n).processing,rules:[m=>m&&m.length>0||"Masukkan Username"],"hide-bottom-space":"","data-test":"username"},{append:l(()=>[e(V,{name:"person"})]),_:1},8,["modelValue","error","error-message","disable","rules"]),e(oe,{modelValue:a(n).password,"onUpdate:modelValue":s[2]||(s[2]=m=>a(n).password=m),type:o.value?"text":"password",label:"Kata Sandi",error:!!a(n).errors.password,autocomplete:"current-password","error-message":a(n).errors.password,"lazy-rules":"",disable:a(n).processing,rules:[m=>m&&m.length>0||"Masukkan kata sandi"],"hide-bottom-space":"","data-test":"password"},{append:l(()=>[e(A,{dense:"",flat:"",round:"",onClick:s[1]||(s[1]=m=>o.value=!o.value)},{default:l(()=>[e(V,{name:o.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","error","error-message","disable","rules"]),e(da,{class:"q-mt-sm",modelValue:a(n).remember,"onUpdate:modelValue":s[3]||(s[3]=m=>a(n).remember=m),disable:a(n).processing,label:"Ingat saya di perangkat ini"},null,8,["modelValue","disable"])]),_:1}),e(mt,null,{default:l(()=>[e(A,{icon:"login",type:"submit",color:"primary",class:"full-width",label:"Login",disable:a(n).processing,loading:a(n).loading,"data-test":"submit"},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Zn=Object.freeze(Object.defineProperty({__proto__:null,default:Xn},Symbol.toStringTag,{value:"Module"})),es={class:"q-gutter-sm"},ts={class:"col col-md-6 q-pa-xs"},as={class:"detail q-mt-md"},ls={key:0},os={class:"text-bold"},ja="Tutup Sesi Kasir",ns={__name:"Close",setup(d){const n=fe(),u=He({closing_notes:n.props.data.closing_notes,closing_balance:parseFloat(n.props.data.closing_balance)}),o=()=>Ge({form:u,url:route("admin.cashier-session.close",{id:n.props.data.id})});return(r,s)=>{const b=Q("i-head"),f=Q("authenticated-layout");return p(),h(W,null,[e(b,{title:ja}),e(f,null,{title:l(()=>[v(i(ja))]),"left-button":l(()=>[t("div",es,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=m=>r.$inertia.get(r.route("admin.cashier-session.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",ts,[e(ze,{class:"row",onSubmit:J(o,["prevent"]),onValidationError:a(Be)},{default:l(()=>[ee(t("input",{type:"hidden",name:"id","onUpdate:modelValue":s[1]||(s[1]=m=>a(u).id=m)},null,512),[[dt,a(u).id]]),e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[t("table",as,[t("tbody",null,[t("tr",null,[s[4]||(s[4]=t("td",{style:{width:"130px"}},"Session ID",-1)),s[5]||(s[5]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,i(a(n).props.data.id),1)]),t("tr",null,[s[6]||(s[6]=t("td",null,"Terminal",-1)),s[7]||(s[7]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.cashier_terminal.name),1)]),t("tr",null,[s[8]||(s[8]=t("td",null,"Kasir",-1)),s[9]||(s[9]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.user.username)+" - "+i(a(n).props.data.user.name),1)]),t("tr",null,[s[10]||(s[10]=t("td",null,"Saldo Awal",-1)),s[11]||(s[11]=t("td",null,":",-1)),t("td",null,i(a(it)(a(n).props.data.opening_balance)),1)]),a(n).props.data.opening_notes?(p(),h("tr",ls,[s[12]||(s[12]=t("td",null,"Catatan Buka",-1)),s[13]||(s[13]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.opening_notes),1)])):k("",!0),t("tr",null,[s[14]||(s[14]=t("td",null,"Total Penjualan",-1)),s[15]||(s[15]=t("td",null,":",-1)),t("td",null,i(a(it)(a(n).props.data.total_sales)),1)]),t("tr",null,[s[16]||(s[16]=t("td",null,"Total Pemasukan",-1)),s[17]||(s[17]=t("td",null,":",-1)),t("td",null,i(a(it)(a(n).props.data.total_income)),1)]),t("tr",null,[s[18]||(s[18]=t("td",null,"Total Pengeluaran",-1)),s[19]||(s[19]=t("td",null,":",-1)),t("td",null,i(a(it)(a(n).props.data.total_expense)),1)]),t("tr",null,[s[21]||(s[21]=t("td",null,"Saldo Akhir",-1)),s[22]||(s[22]=t("td",null,":",-1)),t("td",null,[t("div",os,i(a(it)(a(n).props.data.closing_balance)),1),s[20]||(s[20]=t("div",{class:"text-red"}," Pastikan saldo akhir sesuai dengan jumlah uang di laci! ",-1))])])])]),e(oe,{modelValue:a(u).closing_notes,"onUpdate:modelValue":s[2]||(s[2]=m=>a(u).closing_notes=m),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Catatan",disable:a(u).processing,error:!!a(u).errors.closing_notes,"error-message":a(u).errors.closing_notes,rules:[],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(A,{type:"submit",label:"Tutup",icon:"logout",color:"primary",disable:a(u).processing},null,8,["disable"]),e(A,{label:"Batal",icon:"cancel",disable:a(u).processing,onClick:s[3]||(s[3]=m=>a(X).get(r.route("admin.cashier-session.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},ss=Object.freeze(Object.defineProperty({__proto__:null,default:ns},Symbol.toStringTag,{value:"Module"}));let rs=0;const is=["click","keydown"],ds={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${rs++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function us(d,n,u,o){const r=Uo(Cl,pa);if(r===pa)return console.error("QTab/QRouteTab component needs to be child of QTabs"),pa;const{proxy:s}=Tt(),b=q(null),f=q(null),m=q(null),c=G(()=>d.disable===!0||d.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},d.ripple===!0?{}:d.ripple)),y=G(()=>r.currentModel.value===d.name),_=G(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(y.value===!0?" q-tab--active"+(r.tabProps.value.activeClass?" "+r.tabProps.value.activeClass:"")+(r.tabProps.value.activeColor?` text-${r.tabProps.value.activeColor}`:"")+(r.tabProps.value.activeBgColor?` bg-${r.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(d.icon&&d.label&&r.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(d.noCaps===!0||r.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(d.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),g=G(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(r.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(d.contentClass!==void 0?` ${d.contentClass}`:"")),S=G(()=>d.disable===!0||r.hasFocus.value===!0||y.value===!1&&r.hasActiveTab.value===!0?-1:d.tabindex||0);function I(O,z){var T;if(z!==!0&&(O==null?void 0:O.qAvoidFocus)!==!0&&((T=b.value)==null||T.focus()),d.disable!==!0){r.updateModel({name:d.name}),u("click",O);return}}function w(O){jo(O,[13,32])?I(O,!0):Eo(O)!==!0&&O.keyCode>=35&&O.keyCode<=40&&O.altKey!==!0&&O.metaKey!==!0&&r.onKbdNavigate(O.keyCode,s.$el)===!0&&It(O),u("keydown",O)}function R(){const O=r.tabProps.value.narrowIndicator,z=[],T=_e("div",{ref:m,class:["q-tab__indicator",r.tabProps.value.indicatorClass]});d.icon!==void 0&&z.push(_e(V,{class:"q-tab__icon",name:d.icon})),d.label!==void 0&&z.push(_e("div",{class:"q-tab__label"},d.label)),d.alert!==!1&&z.push(d.alertIcon!==void 0?_e(V,{class:"q-tab__alert-icon",color:d.alert!==!0?d.alert:void 0,name:d.alertIcon}):_e("div",{class:"q-tab__alert"+(d.alert!==!0?` text-${d.alert}`:"")})),O===!0&&z.push(T);const D=[_e("div",{class:"q-focus-helper",tabindex:-1,ref:b}),_e("div",{class:g.value},Tl(n.default,z))];return O===!1&&D.push(T),D}const C={name:G(()=>d.name),rootRef:f,tabIndicatorRef:m,routeData:o};oa(()=>{r.unregisterTab(C)}),we(()=>{r.registerTab(C)});function $(O,z){const T={ref:f,class:_.value,tabindex:S.value,role:"tab","aria-selected":y.value===!0?"true":"false","aria-disabled":d.disable===!0?"true":void 0,onClick:I,onKeydown:w,...z};return ee(_e(O,T,R()),[[ne,c.value]])}return{renderTab:$,$tabs:r}}const st=$t({name:"QTab",props:ds,emits:is,setup(d,{slots:n,emit:u}){const{renderTab:o}=us(d,n,u);return()=>o("div")}});function ms(d,n,u){const o=u===!0?["left","right"]:["top","bottom"];return`absolute-${n===!0?o[0]:o[1]}${d?` text-${d}`:""}`}const cs=["left","center","right","justify"],Ut=$t({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:d=>cs.includes(d)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(d,{slots:n,emit:u}){const{proxy:o}=Tt(),{$q:r}=o,{registerTick:s}=fa(),{registerTick:b}=fa(),{registerTick:f}=fa(),{registerTimeout:m,removeTimeout:c}=ya(),{registerTimeout:y,removeTimeout:_}=ya(),g=q(null),S=q(null),I=q(d.modelValue),w=q(!1),R=q(!0),C=q(!1),$=q(!1),O=[],z=q(0),T=q(!1);let D=null,E=null,M;const j=G(()=>({activeClass:d.activeClass,activeColor:d.activeColor,activeBgColor:d.activeBgColor,indicatorClass:ms(d.indicatorColor,d.switchIndicator,d.vertical),narrowIndicator:d.narrowIndicator,inlineLabel:d.inlineLabel,noCaps:d.noCaps})),x=G(()=>{const ie=z.value,ve=I.value;for(let Se=0;Se<ie;Se++)if(O[Se].name.value===ve)return!0;return!1}),Y=G(()=>`q-tabs__content--align-${w.value===!0?"left":$.value===!0?"justify":d.align}`),se=G(()=>`q-tabs row no-wrap items-center q-tabs--${w.value===!0?"":"not-"}scrollable q-tabs--${d.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${d.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${d.mobileArrows===!0?"":"out"}-arrows`+(d.dense===!0?" q-tabs--dense":"")+(d.shrink===!0?" col-shrink":"")+(d.stretch===!0?" self-stretch":"")),N=G(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+Y.value+(d.contentClass!==void 0?` ${d.contentClass}`:"")),U=G(()=>d.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),Z=G(()=>d.vertical!==!0&&r.lang.rtl===!0),he=G(()=>Mo===!1&&Z.value===!0);Me(Z,yt),Me(()=>d.modelValue,ie=>{le({name:ie,setCurrent:!0,skipEmit:!0})}),Me(()=>d.outsideArrows,Ce);function le({name:ie,setCurrent:ve,skipEmit:Se}){I.value!==ie&&(Se!==!0&&d["onUpdate:modelValue"]!==void 0&&u("update:modelValue",ie),(ve===!0||d["onUpdate:modelValue"]===void 0)&&(ft(I.value,ie),I.value=ie))}function Ce(){s(()=>{g.value&&Ie({width:g.value.offsetWidth,height:g.value.offsetHeight})})}function Ie(ie){if(U.value===void 0||S.value===null)return;const ve=ie[U.value.container],Se=Math.min(S.value[U.value.scroll],Array.prototype.reduce.call(S.value.children,(Qe,Re)=>Qe+(Re[U.value.content]||0),0)),Ye=ve>0&&Se>ve;w.value=Ye,Ye===!0&&b(yt),$.value=ve<parseInt(d.breakpoint,10)}function ft(ie,ve){const Se=ie!=null&&ie!==""?O.find(Qe=>Qe.name.value===ie):null,Ye=ve!=null&&ve!==""?O.find(Qe=>Qe.name.value===ve):null;if(Jt===!0)Jt=!1;else if(Se&&Ye){const Qe=Se.tabIndicatorRef.value,Re=Ye.tabIndicatorRef.value;D!==null&&(clearTimeout(D),D=null),Qe.style.transition="none",Qe.style.transform="none",Re.style.transition="none",Re.style.transform="none";const Oe=Qe.getBoundingClientRect(),at=Re.getBoundingClientRect();Re.style.transform=d.vertical===!0?`translate3d(0,${Oe.top-at.top}px,0) scale3d(1,${at.height?Oe.height/at.height:1},1)`:`translate3d(${Oe.left-at.left}px,0,0) scale3d(${at.width?Oe.width/at.width:1},1,1)`,f(()=>{D=setTimeout(()=>{D=null,Re.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",Re.style.transform="none"},70)})}Ye&&w.value===!0&&pt(Ye.rootRef.value)}function pt(ie){const{left:ve,width:Se,top:Ye,height:Qe}=S.value.getBoundingClientRect(),Re=ie.getBoundingClientRect();let Oe=d.vertical===!0?Re.top-Ye:Re.left-ve;if(Oe<0){S.value[d.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(Oe),yt();return}Oe+=d.vertical===!0?Re.height-Qe:Re.width-Se,Oe>0&&(S.value[d.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(Oe),yt())}function yt(){const ie=S.value;if(ie===null)return;const ve=ie.getBoundingClientRect(),Se=d.vertical===!0?ie.scrollTop:Math.abs(ie.scrollLeft);Z.value===!0?(R.value=Math.ceil(Se+ve.width)<ie.scrollWidth-1,C.value=Se>0):(R.value=Se>0,C.value=d.vertical===!0?Math.ceil(Se+ve.height)<ie.scrollHeight:Math.ceil(Se+ve.width)<ie.scrollWidth)}function ge(ie){E!==null&&clearInterval(E),E=setInterval(()=>{Le(ie)===!0&&me()},5)}function F(){ge(he.value===!0?Number.MAX_SAFE_INTEGER:0)}function K(){ge(he.value===!0?0:Number.MAX_SAFE_INTEGER)}function me(){E!==null&&(clearInterval(E),E=null)}function re(ie,ve){const Se=Array.prototype.filter.call(S.value.children,at=>at===ve||at.matches&&at.matches(".q-tab.q-focusable")===!0),Ye=Se.length;if(Ye===0)return;if(ie===36)return pt(Se[0]),Se[0].focus(),!0;if(ie===35)return pt(Se[Ye-1]),Se[Ye-1].focus(),!0;const Qe=ie===(d.vertical===!0?38:37),Re=ie===(d.vertical===!0?40:39),Oe=Qe===!0?-1:Re===!0?1:void 0;if(Oe!==void 0){const at=Z.value===!0?-1:1,ht=Se.indexOf(ve)+Oe*at;return ht>=0&&ht<Ye&&(pt(Se[ht]),Se[ht].focus({preventScroll:!0})),!0}}const ce=G(()=>he.value===!0?{get:ie=>Math.abs(ie.scrollLeft),set:(ie,ve)=>{ie.scrollLeft=-ve}}:d.vertical===!0?{get:ie=>ie.scrollTop,set:(ie,ve)=>{ie.scrollTop=ve}}:{get:ie=>ie.scrollLeft,set:(ie,ve)=>{ie.scrollLeft=ve}});function Le(ie){const ve=S.value,{get:Se,set:Ye}=ce.value;let Qe=!1,Re=Se(ve);const Oe=ie<Re?-1:1;return Re+=Oe*5,Re<0?(Qe=!0,Re=0):(Oe===-1&&Re<=ie||Oe===1&&Re>=ie)&&(Qe=!0,Re=ie),Ye(ve,Re),yt(),Qe}function ot(ie,ve){for(const Se in ie)if(ie[Se]!==ve[Se])return!1;return!0}function _t(){let ie=null,ve={matchedLen:0,queryDiff:9999,hrefLen:0};const Se=O.filter(Oe=>{var at;return((at=Oe.routeData)==null?void 0:at.hasRouterLink.value)===!0}),{hash:Ye,query:Qe}=o.$route,Re=Object.keys(Qe).length;for(const Oe of Se){const at=Oe.routeData.exact.value===!0;if(Oe.routeData[at===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:ht,query:ma,matched:Ro,href:Do}=Oe.routeData.resolvedLink.value,ca=Object.keys(ma).length;if(at===!0){if(ht!==Ye||ca!==Re||ot(Qe,ma)===!1)continue;ie=Oe.name.value;break}if(ht!==""&&ht!==Ye||ca!==0&&ot(ma,Qe)===!1)continue;const xt={matchedLen:Ro.length,queryDiff:Re-ca,hrefLen:Do.length-ht.length};if(xt.matchedLen>ve.matchedLen){ie=Oe.name.value,ve=xt;continue}else if(xt.matchedLen!==ve.matchedLen)continue;if(xt.queryDiff<ve.queryDiff)ie=Oe.name.value,ve=xt;else if(xt.queryDiff!==ve.queryDiff)continue;xt.hrefLen>ve.hrefLen&&(ie=Oe.name.value,ve=xt)}if(ie===null&&O.some(Oe=>Oe.routeData===void 0&&Oe.name.value===I.value)===!0){Jt=!1;return}le({name:ie,setCurrent:!0})}function ua(ie){if(c(),T.value!==!0&&g.value!==null&&ie.target&&typeof ie.target.closest=="function"){const ve=ie.target.closest(".q-tab");ve&&g.value.contains(ve)===!0&&(T.value=!0,w.value===!0&&pt(ve))}}function Po(){m(()=>{T.value=!1},30)}function Ft(){qa.avoidRouteWatcher===!1?y(_t):_()}function Va(){if(M===void 0){const ie=Me(()=>o.$route.fullPath,Ft);M=()=>{ie(),M=void 0}}}function Oo(ie){O.push(ie),z.value++,Ce(),ie.routeData===void 0||o.$route===void 0?y(()=>{if(w.value===!0){const ve=I.value,Se=ve!=null&&ve!==""?O.find(Ye=>Ye.name.value===ve):null;Se&&pt(Se.rootRef.value)}}):(Va(),ie.routeData.hasRouterLink.value===!0&&Ft())}function Io(ie){O.splice(O.indexOf(ie),1),z.value--,Ce(),M!==void 0&&ie.routeData!==void 0&&(O.every(ve=>ve.routeData===void 0)===!0&&M(),Ft())}const qa={currentModel:I,tabProps:j,hasFocus:T,hasActiveTab:x,registerTab:Oo,unregisterTab:Io,verifyRouteModel:Ft,updateModel:le,onKbdNavigate:re,avoidRouteWatcher:!1};Fo(Cl,qa);function Ca(){D!==null&&clearTimeout(D),me(),M==null||M()}let Ta,Jt;return oa(Ca),No(()=>{Ta=M!==void 0,Ca()}),Bo(()=>{Ta===!0&&(Va(),Jt=!0,Ft()),Ce()}),()=>_e("div",{ref:g,class:se.value,role:"tablist",onFocusin:ua,onFocusout:Po},[_e(zo,{onResize:Ie}),_e("div",{ref:S,class:N.value,onScroll:yt},Ct(n.default)),_e(V,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(R.value===!0?"":" q-tabs__arrow--faded"),name:d.leftIcon||r.iconSet.tabs[d.vertical===!0?"up":"left"],onMousedownPassive:F,onTouchstartPassive:F,onMouseupPassive:me,onMouseleavePassive:me,onTouchendPassive:me}),_e(V,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(C.value===!0?"":" q-tabs__arrow--faded"),name:d.rightIcon||r.iconSet.tabs[d.vertical===!0?"down":"right"],onMousedownPassive:K,onTouchstartPassive:K,onMouseupPassive:me,onMouseleavePassive:me,onTouchendPassive:me})])}});function ps(d){const n=[.06,6,50];return typeof d=="string"&&d.length&&d.split(":").forEach((u,o)=>{const r=parseFloat(u);r&&(n[o]=r)}),n}const fs=Lo({name:"touch-swipe",beforeMount(d,{value:n,arg:u,modifiers:o}){if(o.mouse!==!0&&Mt.has.touch!==!0)return;const r=o.mouseCapture===!0?"Capture":"",s={handler:n,sensitivity:ps(u),direction:Pa(o),noop:Ho,mouseStart(b){Ia(b,s)&&Yo(b)&&(Gt(s,"temp",[[document,"mousemove","move",`notPassive${r}`],[document,"mouseup","end","notPassiveCapture"]]),s.start(b,!0))},touchStart(b){if(Ia(b,s)){const f=b.target;Gt(s,"temp",[[f,"touchmove","move","notPassiveCapture"],[f,"touchcancel","end","notPassiveCapture"],[f,"touchend","end","notPassiveCapture"]]),s.start(b)}},start(b,f){Mt.is.firefox===!0&&ba(d,!0);const m=Oa(b);s.event={x:m.left,y:m.top,time:Date.now(),mouse:f===!0,dir:!1}},move(b){if(s.event===void 0)return;if(s.event.dir!==!1){It(b);return}const f=Date.now()-s.event.time;if(f===0)return;const m=Oa(b),c=m.left-s.event.x,y=Math.abs(c),_=m.top-s.event.y,g=Math.abs(_);if(s.event.mouse!==!0){if(y<s.sensitivity[1]&&g<s.sensitivity[1]){s.end(b);return}}else if(window.getSelection().toString()!==""){s.end(b);return}else if(y<s.sensitivity[2]&&g<s.sensitivity[2])return;const S=y/f,I=g/f;s.direction.vertical===!0&&y<g&&y<100&&I>s.sensitivity[0]&&(s.event.dir=_<0?"up":"down"),s.direction.horizontal===!0&&y>g&&g<100&&S>s.sensitivity[0]&&(s.event.dir=c<0?"left":"right"),s.direction.up===!0&&y<g&&_<0&&y<100&&I>s.sensitivity[0]&&(s.event.dir="up"),s.direction.down===!0&&y<g&&_>0&&y<100&&I>s.sensitivity[0]&&(s.event.dir="down"),s.direction.left===!0&&y>g&&c<0&&g<100&&S>s.sensitivity[0]&&(s.event.dir="left"),s.direction.right===!0&&y>g&&c>0&&g<100&&S>s.sensitivity[0]&&(s.event.dir="right"),s.event.dir!==!1?(It(b),s.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ko(),s.styleCleanup=w=>{s.styleCleanup=void 0,document.body.classList.remove("non-selectable");const R=()=>{document.body.classList.remove("no-pointer-events--children")};w===!0?setTimeout(R,50):R()}),s.handler({evt:b,touch:s.event.mouse!==!0,mouse:s.event.mouse,direction:s.event.dir,duration:f,distance:{x:y,y:g}})):s.end(b)},end(b){var f;s.event!==void 0&&(ga(s,"temp"),Mt.is.firefox===!0&&ba(d,!1),(f=s.styleCleanup)==null||f.call(s,!0),b!==void 0&&s.event.dir!==!1&&It(b),s.event=void 0)}};if(d.__qtouchswipe=s,o.mouse===!0){const b=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";Gt(s,"main",[[d,"mousedown","mouseStart",`passive${b}`]])}Mt.has.touch===!0&&Gt(s,"main",[[d,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[d,"touchmove","noop","notPassiveCapture"]])},updated(d,n){const u=d.__qtouchswipe;u!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&u.end(),u.handler=n.value),u.direction=Pa(n.modifiers))},beforeUnmount(d){var u;const n=d.__qtouchswipe;n!==void 0&&(ga(n,"main"),ga(n,"temp"),Mt.is.firefox===!0&&ba(d,!1),(u=n.styleCleanup)==null||u.call(n),delete d.__qtouchswipe)}}),gs={name:{required:!0},disable:Boolean},Ea={setup(d,{slots:n}){return()=>_e("div",{class:"q-panel scroll",role:"tabpanel"},Ct(n.default))}},bs={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},vs=["update:modelValue","beforeTransition","transition"];function ys(){const{props:d,emit:n,proxy:u}=Tt(),{getCache:o}=Wo(),{registerTimeout:r}=ya();let s,b;const f=q(null),m={value:null};function c(U){const Z=d.vertical===!0?"up":"left";M((u.$q.lang.rtl===!0?-1:1)*(U.direction===Z?1:-1))}const y=G(()=>[[fs,c,void 0,{horizontal:d.vertical!==!0,vertical:d.vertical,mouse:!0}]]),_=G(()=>d.transitionPrev||`slide-${d.vertical===!0?"down":"right"}`),g=G(()=>d.transitionNext||`slide-${d.vertical===!0?"up":"left"}`),S=G(()=>`--q-transition-duration: ${d.transitionDuration}ms`),I=G(()=>typeof d.modelValue=="string"||typeof d.modelValue=="number"?d.modelValue:String(d.modelValue)),w=G(()=>({include:d.keepAliveInclude,exclude:d.keepAliveExclude,max:d.keepAliveMax})),R=G(()=>d.keepAliveInclude!==void 0||d.keepAliveExclude!==void 0);Me(()=>d.modelValue,(U,Z)=>{const he=z(U)===!0?T(U):-1;b!==!0&&E(he===-1?0:he<T(Z)?-1:1),m.value!==he&&(m.value=he,n("beforeTransition",U,Z),r(()=>{n("transition",U,Z)},d.transitionDuration))});function C(){M(1)}function $(){M(-1)}function O(U){n("update:modelValue",U)}function z(U){return U!=null&&U!==""}function T(U){return s.findIndex(Z=>Z.props.name===U&&Z.props.disable!==""&&Z.props.disable!==!0)}function D(){return s.filter(U=>U.props.disable!==""&&U.props.disable!==!0)}function E(U){const Z=U!==0&&d.animated===!0&&m.value!==-1?"q-transition--"+(U===-1?_.value:g.value):null;f.value!==Z&&(f.value=Z)}function M(U,Z=m.value){let he=Z+U;for(;he!==-1&&he<s.length;){const le=s[he];if(le!==void 0&&le.props.disable!==""&&le.props.disable!==!0){E(U),b=!0,n("update:modelValue",le.props.name),setTimeout(()=>{b=!1});return}he+=U}d.infinite===!0&&s.length!==0&&Z!==-1&&Z!==s.length&&M(U,U===-1?s.length:-1)}function j(){const U=T(d.modelValue);return m.value!==U&&(m.value=U),!0}function x(){const U=z(d.modelValue)===!0&&j()&&s[m.value];return d.keepAlive===!0?[_e(Jo,w.value,[_e(R.value===!0?o(I.value,()=>({...Ea,name:I.value})):Ea,{key:I.value,style:S.value},()=>U)])]:[_e("div",{class:"q-panel scroll",style:S.value,key:I.value,role:"tabpanel"},[U])]}function Y(){if(s.length!==0)return d.animated===!0?[_e(Pl,{name:f.value},x)]:x()}function se(U){return s=Qo(Ct(U.default,[])).filter(Z=>Z.props!==null&&Z.props.slot===void 0&&z(Z.props.name)===!0),s.length}function N(){return s}return Object.assign(u,{next:C,previous:$,goTo:O}),{panelIndex:m,panelDirectives:y,updatePanelsList:se,updatePanelIndex:j,getPanelContent:Y,getEnabledPanels:D,getPanels:N,isValidPanelName:z,keepAliveProps:w,needsUniqueKeepAliveWrapper:R,goToPanelByOffset:M,goToPanel:O,nextPanel:C,previousPanel:$}}const rt=$t({name:"QTabPanel",props:gs,setup(d,{slots:n}){return()=>_e("div",{class:"q-tab-panel",role:"tabpanel"},Ct(n.default))}}),jt=$t({name:"QTabPanels",props:{...bs,...ka},emits:vs,setup(d,{slots:n}){const u=Tt(),o=wa(d,u.proxy.$q),{updatePanelsList:r,getPanelContent:s,panelDirectives:b}=ys(),f=G(()=>"q-tab-panels q-panel-parent"+(o.value===!0?" q-tab-panels--dark q-dark":""));return()=>(r(n),Go("div",{class:f.value},s(),"pan",d.swipeable,()=>b.value))}}),_s={class:"detail"},ks={key:0},ws={key:1},hs={key:0},$s={key:0},xs={colspan:"100%"},Ss={class:"q-my-md"},Vs={key:4},qs={colspan:"100%"},Cs={key:5},Ts={colspan:"100%"},Nl={__name:"MainInfoTab",setup(d){const n=fe();return(u,o)=>(p(),h("table",_s,[t("tbody",null,[o[27]||(o[27]=t("tr",null,[t("td",{colspan:"3"},[t("div",{class:"text-bold text-grey-8"},"Info Sesi")])],-1)),t("tr",null,[o[1]||(o[1]=t("td",{style:{width:"130px"}},"Session ID",-1)),o[2]||(o[2]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,i(a(n).props.data.id),1)]),t("tr",null,[o[3]||(o[3]=t("td",null,"Terminal",-1)),o[4]||(o[4]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.cashier_terminal.name),1)]),t("tr",null,[o[5]||(o[5]=t("td",null,"Kasir",-1)),o[6]||(o[6]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.user.username)+" - "+i(a(n).props.data.user.name),1)]),t("tr",null,[o[7]||(o[7]=t("td",null,"Status",-1)),o[8]||(o[8]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.is_closed?"Ditutup":"Aktif"),1)]),o[28]||(o[28]=t("tr",null,[t("td",{colspan:"100%"},[t("div",{class:"q-mt-sm text-grey-8"},"Info Buka Sesi")])],-1)),t("tr",null,[o[9]||(o[9]=t("td",null,"Saldo Awal",-1)),o[10]||(o[10]=t("td",null,":",-1)),t("td",null,i(a(it)(a(n).props.data.opening_balance)),1)]),a(n).props.data.opening_notes?(p(),h("tr",ks,[o[11]||(o[11]=t("td",null,"Catatan",-1)),o[12]||(o[12]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.opening_notes),1)])):k("",!0),o[29]||(o[29]=t("tr",null,[t("td",{colspan:"100%"},[t("div",{class:"q-mt-sm text-grey-8"},"Rincian Pendapatan & Kas")])],-1)),t("tr",null,[o[13]||(o[13]=t("td",null,"Total Penjualan",-1)),o[14]||(o[14]=t("td",null,":",-1)),t("td",null,i(a(it)(a(n).props.data.total_sales)),1)]),t("tr",null,[o[15]||(o[15]=t("td",null,"Total Pemasukan",-1)),o[16]||(o[16]=t("td",null,":",-1)),t("td",null,i(a(it)(a(n).props.data.total_income)),1)]),t("tr",null,[o[17]||(o[17]=t("td",null,"Total Pengeluaran",-1)),o[18]||(o[18]=t("td",null,":",-1)),t("td",null,i(a(it)(a(n).props.data.total_expense)),1)]),a(n).props.data.is_closed?k("",!0):(p(),h("tr",ws,[o[19]||(o[19]=t("td",null,"Saldo Aktual",-1)),o[20]||(o[20]=t("td",null,":",-1)),t("td",null,i(a(it)(a(n).props.data.opening_balance+(a(n).props.data.total_income-a(n).props.data.total_expense))),1)])),a(n).props.data.is_closed?(p(),h(W,{key:2},[o[25]||(o[25]=t("tr",null,[t("td",{colspan:"100%"},[t("div",{class:"q-mt-sm text-grey-8"},"Info Tutup Sesi")])],-1)),t("tr",null,[o[21]||(o[21]=t("td",null,"Saldo Akhir",-1)),o[22]||(o[22]=t("td",null,":",-1)),t("td",null,i(a(it)(a(n).props.data.closing_balance)),1)]),a(n).props.data.closing_notes?(p(),h("tr",hs,[o[23]||(o[23]=t("td",null,"Catatan",-1)),o[24]||(o[24]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.closing_notes),1)])):k("",!0)],64)):k("",!0),u.$can("admin.cashier-session.close")?(p(),h(W,{key:3},[a(n).props.data.is_closed?k("",!0):(p(),h("tr",$s,[t("td",xs,[t("div",Ss,[e(A,{class:"full-width",color:"accent",icon:"logout",onClick:o[0]||(o[0]=r=>u.$inertia.get(u.route("admin.cashier-session.close",{id:a(n).props.data.id})))},{default:l(()=>[...o[26]||(o[26]=[v(" Tutup Sesi Kasir ",-1)])]),_:1})])])]))],64)):k("",!0),o[30]||(o[30]=t("tr",null,[t("td",{colspan:"3"},[t("div",{class:"text-bold text-grey-8 q-mt-md"},"Info Rekaman")])],-1)),a(n).props.data.created_at?(p(),h("tr",Vs,[t("td",qs," Dibuat "+i(a(Vt)(a(n).props.data.created_at))+" oleh "+i(a(n).props.data.creator.name)+" ("+i(a(be)(a(n).props.data.created_at))+") ",1)])):k("",!0),a(n).props.data.updated_at?(p(),h("tr",Cs,[t("td",Ts," Diperbarui "+i(a(Vt)(a(n).props.data.updated_at))+" oleh "+i(a(n).props.data.updater.name)+" ("+i(a(be)(a(n).props.data.updated_at))+") ",1)])):k("",!0)])]))}},Ps=Object.freeze(Object.defineProperty({__proto__:null,default:Nl},Symbol.toStringTag,{value:"Module"})),Os={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Is={class:"text-bold"},Rs={key:0},Ds={class:"text-bold"},As={key:1},Us={key:0},js={key:0},Es={key:1},Bl={__name:"SalesOrderTab",props:{data:Object},setup(d){const n=d,u=q([]),o=q(!0),r=Pe({...Ae(),cashier_session_id:n.data.id,status:["closed","canceled"]}),s=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),b=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"customer",label:"Pelanggan",field:"customer",align:"left"},{name:"grand_total",label:"Total (Rp)",field:"grand_total",align:"right",sortable:!0},{name:"notes",label:"Catatan",field:"notes",align:"left"}];we(()=>{f()});const f=(y=null)=>Ue({pagination:s,filter:r,props:y,rows:u,url:route("admin.sales-order.data"),loading:o}),m=$e(),c=G(()=>m.screen.gt.sm?b:b.filter(y=>y.name==="id"));return(y,_)=>(p(),P(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:s.value,"onUpdate:pagination":_[0]||(_[0]=g=>s.value=g),filter:r.search,loading:o.value,columns:c.value,rows:u.value,"rows-per-page-options":[10,25,50],onRequest:f,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:g,message:S,filter:I})=>[t("div",Os,[t("span",null,i(S)+" "+i(I?" with term "+I:""),1)])]),body:l(g=>[e(qe,{props:g,class:"cursor-pointer",onClick:J(S=>a(X).get(y.route("admin.sales-order.detail",{id:g.row.id})),["stop"])},{default:l(()=>[e(L,{key:"id",props:g},{default:l(()=>[t("div",Is,[e(V,{class:"inline-icon",name:"tag"}),v(" "+i(g.row.formatted_id),1)]),t("div",null,[e(V,{class:"inline-icon",name:"calendar_today"}),v(" "+i(a(be)(g.row.datetime)),1)]),a(m).screen.lt.md?(p(),h(W,{key:0},[g.row.customer?(p(),h("div",Rs,[e(V,{class:"inline-icon",name:"person"}),v(" "+i(g.row.customer_code)+" "+i(g.row.customer.name),1)])):k("",!0),t("div",Ds,[e(V,{name:"money",class:"inline-icon"}),v(" Rp. "+i(a(H)(g.row.grand_total)),1)]),g.row.notes?(p(),h("div",As,[e(ke,{text:g.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])):k("",!0)],64)):k("",!0),t("div",null,[e(ut,{color:g.row.status==="closed"?"green":"red"},{default:l(()=>[v(i(y.$CONSTANTS.SALES_ORDER_STATUSES[g.row.status]),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(L,{key:"customer",props:g},{default:l(()=>[g.row.customer?(p(),h("div",Us,[t("div",null,[e(V,{name:"person",class:"inline-icon"}),v(" "+i(g.row.customer_code)+" - "+i(g.row.customer_name),1)]),g.row.customer_phone?(p(),h("div",js,[e(V,{name:"phone",class:"inline-icon"}),v(" "+i(g.row.customer_phone),1)])):k("",!0),g.row.customer_address?(p(),h("div",Es,[e(V,{name:"home_pin",class:"inline-icon"}),v(" "+i(g.row.customer_address),1)])):k("",!0)])):k("",!0)]),_:2},1032,["props"]),e(L,{key:"grand_total",props:g},{default:l(()=>[t("div",null,i(a(H)(g.row.grand_total)),1)]),_:2},1032,["props"]),e(L,{key:"notes",props:g,class:"wrap-column"},{default:l(()=>[e(ke,{text:g.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},Ms=Object.freeze(Object.defineProperty({__proto__:null,default:Bl},Symbol.toStringTag,{value:"Module"})),Ns={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Bs={class:"text-bold"},zs={class:"text-bold"},Fs={key:0},Ls={class:"q-mt-sm"},zl={__name:"FinanceTransactionTab",props:{data:Object},setup(d){const n=d;console.log(n.data);const u=q([]),o=q(!0),r=Pe({...Ae(),user_id:n.data.user_id,from_datetime:Zt(n.data.opened_at),to_datetime:n.data.closed_at?Zt(n.data.closed_at):null}),s=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),b=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp)",field:"amount",align:"right",sortable:!0},{name:"notes",label:"Catatan",field:"notes",align:"left"}];we(()=>{f()});const f=(y=null)=>Ue({pagination:s,filter:r,props:y,rows:u,url:route("admin.finance-transaction.data"),loading:o}),m=$e(),c=G(()=>m.screen.gt.sm?b:b.filter(y=>y.name==="id"));return(y,_)=>(p(),P(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:s.value,"onUpdate:pagination":_[0]||(_[0]=g=>s.value=g),filter:r.search,loading:o.value,columns:c.value,rows:u.value,"rows-per-page-options":[10,25,50],onRequest:f,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:g,message:S,filter:I})=>[t("div",Ns,[t("span",null,i(S)+" "+i(I?" with term "+I:""),1)])]),body:l(g=>[e(qe,{props:g},{default:l(()=>[e(L,{key:"id",props:g},{default:l(()=>[t("div",Bs,[e(V,{class:"inline-icon",name:"tag"}),v(" "+i(g.row.formatted_id),1)]),t("div",null,[e(V,{class:"inline-icon",name:"calendar_today"}),v(" "+i(a(be)(g.row.datetime)),1)]),a(m).screen.lt.md?(p(),h(W,{key:0},[t("div",zs,[e(V,{name:"money",class:"inline-icon"}),v(" Rp. "+i(a(H)(g.row.amount)),1)]),g.row.notes?(p(),h("div",Fs,[e(ke,{text:g.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])):k("",!0)],64)):k("",!0),t("div",Ls,[e(ut,{color:g.row.amount>=0?"green":"red"},{default:l(()=>[v(i(y.$CONSTANTS.FINANCE_TRANSACTION_TYPES[g.row.type]),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(L,{key:"amount",props:g},{default:l(()=>[t("span",{class:xe(g.row.amount<0?"text-red":"text-green")},i(a(H)(g.row.amount)),3)]),_:2},1032,["props"]),e(L,{key:"notes",props:g,class:"wrap-column"},{default:l(()=>[e(ke,{text:g.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},Hs=Object.freeze(Object.defineProperty({__proto__:null,default:zl},Symbol.toStringTag,{value:"Module"})),Ks={class:"q-gutter-sm"},Ys={class:"col col-lg-6 q-pa-xs"},Qs={class:"row"},Ma="Rincian Sesi Kasir",Ws={__name:"Detail",setup(d){const n=fe(),u=G(()=>n.props.data),o=q("main");return Me(()=>n.props.tab,r=>{r&&(o.value=r)},{immediate:!0}),(r,s)=>{const b=Q("i-head"),f=Q("authenticated-layout");return p(),h(W,null,[e(b,{title:Ma}),e(f,null,{title:l(()=>[v(i(Ma))]),"left-button":l(()=>[t("div",Ks,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=m=>r.$inertia.get(r.route("admin.cashier-session.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Ys,[t("div",Qs,[e(pe,{square:"",flat:"",bordered:"",class:"col q-pa-none"},{default:l(()=>[e(Ut,{modelValue:o.value,"onUpdate:modelValue":s[1]||(s[1]=m=>o.value=m),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(st,{name:"main",label:"Ringkasan"}),e(st,{name:"sales",label:"Transaksi Penjualan"}),e(st,{name:"finance",label:"Transaksi Keuangan"})]),_:1},8,["modelValue"]),e(Ze),e(jt,{modelValue:o.value,"onUpdate:modelValue":s[2]||(s[2]=m=>o.value=m),animated:"",class:"q-pa-none"},{default:l(()=>[e(rt,{name:"main"},{default:l(()=>[e(Nl,{data:u.value},null,8,["data"])]),_:1}),e(rt,{name:"sales",class:"q-pa-xs"},{default:l(()=>[e(Bl,{data:u.value},null,8,["data"])]),_:1}),e(rt,{name:"finance",class:"q-pa-xs"},{default:l(()=>[e(zl,{data:u.value},null,8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},Js=Object.freeze(Object.defineProperty({__proto__:null,default:Ws},Symbol.toStringTag,{value:"Module"})),Gs={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Xs={class:"q-pa-xs"},Zs={class:"full-width row flex-center text-grey-8 q-gutter-sm"},er={class:"flex justify-end"},Na="Sesi Kasir",tr={__name:"Index",setup(d){const n=$e(),u=q(!1),o=q([]),r=q(!0),s=q(null),b=q(null),f=Ke(b),m=Pe({search:"",status:"all",...Ae()}),c=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),y=[{name:"id",label:"Sesi",field:"id",align:"left",sortable:!0},{name:"opening_info",label:"Buka Sesi",field:"opening_info",sortable:!1,align:"left"},{name:"closing_info",label:"Tutup Sesi",field:"closing_info",sortable:!1,align:"left"},{name:"action",align:"right"}],_=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"closed",label:"Selesai"}];we(()=>{S()});const g=C=>tt({message:`Hapus Sesi: ${C.cashier_terminal.name} - ${C.user.username}?`,url:route("admin.cashier-session.delete",C.id),fetchItemsCallback:S,loading:r}),S=(C=null)=>{Ue({pagination:c,filter:m,props:C,rows:o,url:route("admin.cashier-session.data"),loading:r,tableRef:s})},I=()=>S(),w=C=>X.get(route("admin.cashier-session.detail",{id:C.id})),R=G(()=>n.screen.gt.sm?y:y.filter(C=>C.name==="id"||C.name==="action"));return(C,$)=>{const O=Q("i-head"),z=Q("authenticated-layout");return p(),h(W,null,[e(O,{title:Na}),e(z,null,Fe({title:l(()=>[v(i(Na))]),"right-button":l(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:$[0]||($[0]=T=>u.value=!u.value)},null,8,["icon"]),C.$can("admin.cashier-session.open")?(p(),P(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:$[1]||($[1]=T=>a(X).get(C.route("admin.cashier-session.open")))})):k("",!0)]),default:l(()=>[t("div",Xs,[e(Te,{class:"full-height-table",style:Ee({height:a(f)}),ref_key:"tableRef",ref:s,flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":$[5]||($[5]=T=>c.value=T),filter:m.search,loading:r.value,columns:R.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:S,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:T,message:D,filter:E})=>[t("div",Zs,[t("span",null,i(D)+" "+i(E?" with term "+E:""),1)])]),body:l(T=>[e(qe,{props:T,class:xe(["cursor-pointer",T.row.is_closed?"":"bg-yellow-3"]),onClick:D=>w(T.row)},{default:l(()=>[e(L,{key:"id",props:T,class:"wrap-column"},{default:l(()=>[t("div",null,[e(V,{class:"inline-icon",name:"tag"}),v(" SessionID: "+i(T.row.id),1)]),t("div",null,[e(V,{class:"inline-icon",name:"point_of_sale"}),v(" "+i(T.row.cashier_terminal.name),1)]),t("div",null,[e(V,{class:"inline-icon",name:"person"}),v(" "+i(T.row.user.username)+" - "+i(T.row.user.name),1)])]),_:2},1032,["props"]),e(L,{key:"opening_info",props:T},{default:l(()=>[t("div",null,[e(V,{class:"inline-icon",name:"calendar_clock"}),v(" "+i(T.row.opened_at?a(be)(T.row.opened_at):"-"),1)]),t("div",null,[e(V,{class:"inline-icon",name:"money"}),v(" "+i(a(it)(T.row.opening_balance)),1)]),T.row.opening_notes?(p(),P(ke,{key:0,text:T.row.opening_notes,icon:"notes"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(L,{key:"closing_info",props:T},{default:l(()=>[t("div",null,[e(V,{class:"inline-icon",name:"calendar_clock"}),v(" "+i(T.row.closed_at?a(be)(T.row.closed_at):"-"),1)]),t("div",null,[e(V,{class:"inline-icon",name:"money"}),v(" "+i(a(it)(T.row.closing_balance)),1)]),T.row.closing_notes?(p(),P(ke,{key:0,text:T.row.closing_notes,icon:"notes"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(L,{key:"action",props:T},{default:l(()=>[t("div",er,[C.$can("admin.cashier-session.close")||C.$can("admin.cashier-session.delete")?(p(),P(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:$[4]||($[4]=J(()=>{},["stop"]))},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"200px"}},{default:l(()=>[C.$can("admin.cashier-session.close")?ee((p(),P(ae,{key:0,disable:T.row.is_closed,clickable:"",onClick:J(D=>a(X).get(C.route("admin.cashier-session.close",T.row.id)),["stop"])},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"logout"})]),_:1}),e(B,null,{default:l(()=>[...$[6]||($[6]=[v("Tutup Sesi Kasir",-1)])]),_:1})]),_:1},8,["disable","onClick"])),[[ne],[ue]]):k("",!0),C.$can("admin.cashier-session.delete")?ee((p(),P(ae,{key:1,onClick:J(D=>g(T.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"delete_forever"})]),_:1}),e(B,null,{default:l(()=>[...$[7]||($[7]=[v("Hapus",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[u.value?{name:"header",fn:l(()=>[e(Xe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",Gs,[e(de,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:m.status,"onUpdate:modelValue":[$[2]||($[2]=T=>m.status=T),I],options:_,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":$[3]||($[3]=T=>m.search=T),placeholder:"Cari",clearable:""},{append:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},ar=Object.freeze(Object.defineProperty({__proto__:null,default:tr},Symbol.toStringTag,{value:"Module"})),lr={class:"q-gutter-sm"},or={class:"col col-md-6 q-pa-xs"},Ba="Buka Sesi Kasir",nr={__name:"Open",setup(d){const n=fe(),u=He({cashier_terminal_id:n.props.data.cashier_terminal_id,opening_balance:parseFloat(n.props.data.opening_balance),opening_notes:n.props.data.opening_notes}),o=[...n.props.cashier_terminals.map(s=>({value:s.id,label:s.name,balance:parseFloat(s.finance_account.balance)}))],r=()=>Ge({form:u,url:route("admin.cashier-session.open")});return Me(()=>u.cashier_terminal_id,s=>{if(s){const b=o.find(f=>f.value===s);b&&(u.opening_balance=b.balance)}else u.opening_balance=0}),(s,b)=>{const f=Q("i-head"),m=Q("authenticated-layout");return p(),h(W,null,[e(f,{title:Ba}),e(m,null,{title:l(()=>[v(i(Ba))]),"left-button":l(()=>[t("div",lr,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=c=>s.$inertia.get(s.route("admin.cashier-session.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",or,[e(ze,{class:"row",onSubmit:J(r,["prevent"]),onValidationError:a(Be)},{default:l(()=>[ee(t("input",{type:"hidden",name:"id","onUpdate:modelValue":b[1]||(b[1]=c=>a(u).id=c)},null,512),[[dt,a(u).id]]),e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[e(de,{class:"custom-select",modelValue:a(u).cashier_terminal_id,"onUpdate:modelValue":b[2]||(b[2]=c=>a(u).cashier_terminal_id=c),label:"Terminal Kasir",options:o,"map-options":"","emit-value":"",errorMessage:a(u).errors.cashier_terminal_id,error:!!a(u).errors.cashier_terminal_id,disable:a(u).processing,"hide-bottom-space":""},null,8,["modelValue","errorMessage","error","disable"]),e(De,{modelValue:a(u).opening_balance,"onUpdate:modelValue":b[3]||(b[3]=c=>a(u).opening_balance=c),label:"Saldo Buka Sesi",lazyRules:"",disable:a(u).processing,error:!!a(u).errors.opening_balance,errorMessage:a(u).errors.opening_balance,rules:[],readonly:"","hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),b[6]||(b[6]=t("div",{class:"q-my-sm text-red"}," Pastikan saldo awal sesuai dengan jumlah uang di laci! ",-1)),e(oe,{modelValue:a(u).opening_notes,"onUpdate:modelValue":b[4]||(b[4]=c=>a(u).opening_notes=c),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Catatan",disable:a(u).processing,error:!!a(u).errors.opening_notes,"error-message":a(u).errors.opening_notes,rules:[],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(A,{type:"submit",label:"Buka Sesi",icon:"login",color:"primary",disable:a(u).processing},null,8,["disable"]),e(A,{label:"Batal",icon:"cancel",disable:a(u).processing,onClick:b[5]||(b[5]=c=>a(X).get(s.route("admin.cashier-session.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},sr=Object.freeze(Object.defineProperty({__proto__:null,default:nr},Symbol.toStringTag,{value:"Module"})),rr={class:"detail"},ir={colspan:"3"},dr={class:"text-bold text-grey-8"},ur={key:0},mr={colspan:"100%"},cr={key:1},pr={colspan:"100%"},Fl={__name:"MainInfoTab",setup(d){const n=fe();return(u,o)=>(p(),h("table",rr,[t("tbody",null,[t("tr",null,[t("td",ir,[t("div",dr,[o[1]||(o[1]=v(" Info Terminal Kasir ",-1)),e(A,{icon:"edit",size:"sm",dense:"",flat:"",rounded:"",class:"q-ml-sm",color:"grey",onClick:o[0]||(o[0]=r=>u.$inertia.get(u.route("admin.cashier-terminal.edit",{id:a(n).props.data.id})))})])])]),t("tr",null,[o[2]||(o[2]=t("td",{style:{width:"120px"}},"Nama",-1)),o[3]||(o[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,i(a(n).props.data.name),1)]),t("tr",null,[o[4]||(o[4]=t("td",null,"Lokasi",-1)),o[5]||(o[5]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.location),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"Akun Keuangan",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.finance_account.name),1)]),t("tr",null,[o[8]||(o[8]=t("td",null,"Saldo",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,i(a(it)(a(n).props.data.finance_account.balance)),1)]),t("tr",null,[o[10]||(o[10]=t("td",null,"Catatan",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.notes),1)]),t("tr",null,[o[12]||(o[12]=t("td",null,"Status",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),o[14]||(o[14]=t("tr",null,[t("td",{colspan:"3"},[t("div",{class:"text-bold text-grey-8 q-mt-md"},"Info Rekaman")])],-1)),a(n).props.data.created_at?(p(),h("tr",ur,[t("td",mr," Dibuat "+i(a(Vt)(a(n).props.data.created_at))+" oleh "+i(a(n).props.data.creator.name)+" ("+i(a(be)(a(n).props.data.created_at))+") ",1)])):k("",!0),a(n).props.data.updated_at?(p(),h("tr",cr,[t("td",pr," Diperbarui "+i(a(Vt)(a(n).props.data.updated_at))+" oleh "+i(a(n).props.data.updater.name)+" ("+i(a(be)(a(n).props.data.updated_at))+") ",1)])):k("",!0)])]))}},fr=Object.freeze(Object.defineProperty({__proto__:null,default:Fl},Symbol.toStringTag,{value:"Module"})),gr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},br={class:"text-bold"},Ll={__name:"SessionHistoryTab",setup(d){const n=fe(),u=q([]),o=q(!0),r=Pe({customer_id:n.props.data.id,...Ae()}),s=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),b=[{name:"id",label:"Trx",field:"id",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah",field:"amount",align:"right"}];we(()=>{f()});const f=(y=null)=>Ue({pagination:s,filter:r,props:y,rows:u,url:route("admin.customer-wallet-transaction.data"),loading:o}),m=$e(),c=G(()=>m.screen.gt.sm?b:b.filter(y=>y.name==="id"));return(y,_)=>(p(),P(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:s.value,"onUpdate:pagination":_[0]||(_[0]=g=>s.value=g),filter:r.search,loading:o.value,columns:c.value,rows:u.value,"rows-per-page-options":[10,25,50],onRequest:f,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:g,message:S,filter:I})=>[t("div",gr,[t("span",null,i(S)+" "+i(I?" with term "+I:""),1)])]),body:l(g=>[e(qe,{props:g,class:"cursor-pointer",onClick:J(S=>a(X).get(y.route("admin.customer-wallet-transaction.detail",{id:g.row.id})),["stop"])},{default:l(()=>[e(L,{key:"id",props:g},{default:l(()=>[t("div",br,[e(V,{class:"inline-icon",name:"tag"}),v(" "+i(g.row.formatted_id),1)]),t("div",null,[e(V,{class:"inline-icon",name:"calendar_clock"}),v(" "+i(a(be)(g.row.datetime)),1)]),a(m).screen.lt.md?(p(),h(W,{key:0},[t("div",{class:xe(["text-bold",g.row.amount<0?"text-red":"text-green"])},[e(V,{name:"money",class:"inline-icon"}),v(" "+i(a(Ol)(g.row.amount)),1)],2),t("div",null,[e(ke,{text:g.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])],64)):k("",!0),t("div",null,[e(ut,{size:"xs",color:g.row.amount>0?"green":"red"},{default:l(()=>[e(V,{name:"category"}),v(" "+i(g.row.type_label),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(L,{key:"notes",props:g,class:"wrap-column"},{default:l(()=>[e(ke,{text:g.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(L,{key:"amount",props:g},{default:l(()=>[t("div",{class:xe(g.row.amount<0?"text-red-10":g.row.amount>0?"text-green-10":"")},i(a(na)(g.row.amount)),3)]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},vr=Object.freeze(Object.defineProperty({__proto__:null,default:Ll},Symbol.toStringTag,{value:"Module"})),yr={class:"q-gutter-sm"},_r={class:"col col-lg-6 q-pa-xs"},kr={class:"row"},za="Rincian Terminal Kasir",wr={__name:"Detail",setup(d){const n=q("main");return(u,o)=>{const r=Q("i-head"),s=Q("authenticated-layout");return p(),h(W,null,[e(r,{title:za}),e(s,null,{title:l(()=>[v(i(za))]),"left-button":l(()=>[t("div",yr,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=b=>u.$inertia.get(u.route("admin.cashier-terminal.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",_r,[t("div",kr,[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Ut,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=b=>n.value=b),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(st,{name:"main",label:"Info Utama"}),e(st,{name:"session-history",label:"Riwayat Sesi Kasir"})]),_:1},8,["modelValue"]),e(jt,{modelValue:n.value,"onUpdate:modelValue":o[2]||(o[2]=b=>n.value=b),animated:""},{default:l(()=>[e(rt,{name:"main"},{default:l(()=>[e(Fl)]),_:1}),e(rt,{name:"session-history",class:"q-pa-xs"},{default:l(()=>[e(Ll)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},hr=Object.freeze(Object.defineProperty({__proto__:null,default:wr},Symbol.toStringTag,{value:"Module"})),$r={class:"q-gutter-sm"},xr={class:"col col-md-6 q-pa-xs"},Sr={key:0,class:"q-my-xs text-grey-8"},Vr={__name:"Editor",setup(d){const n=fe(),u=(n.props.data.id?"Edit":"Tambah")+" Pelanggan",o=He({id:n.props.data.id,name:n.props.data.name,finance_account_id:n.props.data.finance_account_id??"new",location:n.props.data.location,active:!!n.props.data.active,notes:n.props.data.notes}),r=[{value:"new",label:"Buat Baru (Otomatis)"},...n.props.finance_accounts.map(b=>({value:b.id,label:b.name}))],s=()=>Ge({form:o,url:route("admin.cashier-terminal.save")});return(b,f)=>{const m=Q("i-head"),c=Q("authenticated-layout");return p(),h(W,null,[e(m,{title:u}),e(c,null,{title:l(()=>[v(i(u))]),"left-button":l(()=>[t("div",$r,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:f[0]||(f[0]=y=>b.$inertia.get(b.route("admin.cashier-terminal.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",xr,[e(ze,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:a(Be)},{default:l(()=>[ee(t("input",{type:"hidden",name:"id","onUpdate:modelValue":f[1]||(f[1]=y=>a(o).id=y)},null,512),[[dt,a(o).id]]),e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[e(oe,{modelValue:a(o).name,"onUpdate:modelValue":f[2]||(f[2]=y=>a(o).name=y),modelModifiers:{trim:!0},label:"Nama",error:!!a(o).errors.name,disable:a(o).processing,"error-message":a(o).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(de,{class:"custom-select",modelValue:a(o).finance_account_id,"onUpdate:modelValue":f[3]||(f[3]=y=>a(o).finance_account_id=y),label:"Akun Kas",options:r,"map-options":"","emit-value":"",errorMessage:a(o).errors.finance_account_id,error:!!a(o).errors.finance_account_id,disable:a(o).processing,"hide-bottom-space":""},null,8,["modelValue","errorMessage","error","disable"]),a(o).finance_account_id==="new"?(p(),h("div",Sr,[f[8]||(f[8]=v(" Akun keuangan akan dibuat ",-1)),a(o).name?(p(),h(W,{key:0},[v(" dengan nama Kas "+i(a(o).name),1)],64)):k("",!0)])):k("",!0),e(oe,{modelValue:a(o).location,"onUpdate:modelValue":f[4]||(f[4]=y=>a(o).location=y),modelModifiers:{trim:!0},label:"Lokasi",error:!!a(o).errors.location,disable:a(o).processing,"error-message":a(o).errors.location,rules:[],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(oe,{modelValue:a(o).notes,"onUpdate:modelValue":f[5]||(f[5]=y=>a(o).notes=y),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Catatan",disable:a(o).processing,error:!!a(o).errors.notes,"error-message":a(o).errors.notes,rules:[],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(da,{modelValue:a(o).active,"onUpdate:modelValue":f[6]||(f[6]=y=>a(o).active=y),label:"Aktif",disable:a(o).processing},null,8,["modelValue","disable"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(A,{type:"submit",label:"Simpan",icon:"save",color:"primary",disable:a(o).processing},null,8,["disable"]),e(A,{label:"Batal",icon:"cancel",disable:a(o).processing,onClick:f[7]||(f[7]=y=>a(X).get(b.route("admin.cashier-terminal.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},qr=Object.freeze(Object.defineProperty({__proto__:null,default:Vr},Symbol.toStringTag,{value:"Module"})),Cr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Tr={class:"q-pa-xs"},Pr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Or={class:"flex justify-end"},Fa="Terminal Kasir",Ir={__name:"Index",setup(d){const n=$e(),u=q(!1),o=q([]),r=q(!0),s=q(null),b=q(null),f=Ke(b),m=Pe({search:"",status:"active",...Ae()}),c=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:n.screen.lt.md?"Item":"Nama",field:"name",align:"left",sortable:!0},{name:"finance_account_id",label:"Akun Kas",field:"finance_account_id",sortable:!1,align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}],_=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];we(()=>{S()});const g=C=>tt({message:`Hapus Terminal Kasir ${C.name}?`,url:route("admin.cashier-terminal.delete",C.id),fetchItemsCallback:S,loading:r}),S=(C=null)=>{Ue({pagination:c,filter:m,props:C,rows:o,url:route("admin.cashier-terminal.data"),loading:r,tableRef:s})},I=()=>S(),w=C=>X.get(route("admin.cashier-terminal.detail",{id:C.id})),R=G(()=>n.screen.gt.sm?y:y.filter(C=>C.name==="name"||C.name==="finance_account_id"||C.name==="action"));return(C,$)=>{const O=Q("i-head"),z=Q("authenticated-layout");return p(),h(W,null,[e(O,{title:Fa}),e(z,null,Fe({title:l(()=>[v(i(Fa))]),"right-button":l(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:$[0]||($[0]=T=>u.value=!u.value)},null,8,["icon"]),C.$can("admin.cashier-terminal.add")?(p(),P(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:$[1]||($[1]=T=>a(X).get(C.route("admin.cashier-terminal.add")))})):k("",!0)]),default:l(()=>[t("div",Tr,[e(Te,{class:"full-height-table",style:Ee({height:a(f)}),ref_key:"tableRef",ref:s,flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":$[5]||($[5]=T=>c.value=T),filter:m.search,loading:r.value,columns:R.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:S,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:T,message:D,filter:E})=>[t("div",Pr,[t("span",null,i(D)+" "+i(E?" with term "+E:""),1)])]),body:l(T=>[e(qe,{props:T,class:xe([T.row.active?"":"bg-red-1","cursor-pointer"]),onClick:D=>w(T.row)},{default:l(()=>[e(L,{key:"name",props:T,class:"wrap-column"},{default:l(()=>[t("div",null,[e(V,{name:"wallet"}),v(" "+i(T.row.name),1)]),t("div",null,[e(V,{name:"home_pin"}),v(" "+i(T.row.location),1)]),a(n).screen.lt.md?(p(),P(ke,{key:0,text:T.row.notes,icon:"notes"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(L,{key:"finance_account_id",props:T},{default:l(()=>[t("div",null,[e(V,{name:"wallet"}),v(" "+i(T.row.finance_account.name),1)]),t("div",null,[e(V,{name:"money"}),v(" "+i(a(it)(T.row.finance_account.balance)),1)])]),_:2},1032,["props"]),e(L,{key:"notes",props:T},{default:l(()=>[e(ke,{text:T.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(L,{key:"action",props:T},{default:l(()=>[t("div",Or,[C.$can("admin.cashier-terminal.edit")||C.$can("admin.cashier-terminal.delete")?(p(),P(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:$[4]||($[4]=J(()=>{},["stop"]))},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"200px"}},{default:l(()=>[C.$can("admin.cashier-terminal.edit")?ee((p(),P(ae,{key:0,clickable:"",onClick:J(D=>a(X).get(C.route("admin.cashier-terminal.edit",T.row.id)),["stop"])},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"edit"})]),_:1}),e(B,null,{default:l(()=>[...$[6]||($[6]=[v("Edit",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),C.$can("admin.cashier-terminal.delete")?ee((p(),P(ae,{key:1,onClick:J(D=>g(T.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"delete_forever"})]),_:1}),e(B,null,{default:l(()=>[...$[7]||($[7]=[v("Hapus",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[u.value?{name:"header",fn:l(()=>[e(Xe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",Cr,[e(de,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:m.status,"onUpdate:modelValue":[$[2]||($[2]=T=>m.status=T),I],options:_,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":$[3]||($[3]=T=>m.search=T),placeholder:"Cari",clearable:""},{append:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Rr=Object.freeze(Object.defineProperty({__proto__:null,default:Ir},Symbol.toStringTag,{value:"Module"})),Hl={__name:"CompanyInfoForm",setup(d){const n=q(),u=fe(),o=He({name:u.props.data.name,headline:u.props.data.headline,phone:u.props.data.phone,address:u.props.data.address,logo_path:u.props.data.logo_path,logo_image:null}),r=q(null),s=q("");we(()=>{o.logo_path&&(s.value=`/${o.logo_path}`)});function b(){r.value.click()}function f(y){const _=y.target.files[0];_&&(o.logo_image=_,s.value=URL.createObjectURL(_))}function m(){o.logo_image=null,o.logo_path=null,s.value=null,r.value.value=null}const c=()=>Ge({form:o,url:route("admin.company-profile.edit")});return(y,_)=>(p(),P(ze,{class:"row",onSubmit:J(c,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(pe,{flat:"",bordered:"",square:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>[_[8]||(_[8]=t("div",{class:"text-subtitle1 q-my-xs"},"Profil Perusahaan",-1)),_[9]||(_[9]=t("p",{class:"text-caption text-grey-9"},"Perbarui profil perusahaan.",-1)),e(oe,{ref_key:"nameInputRef",ref:n,modelValue:a(o).name,"onUpdate:modelValue":_[0]||(_[0]=g=>a(o).name=g),modelModifiers:{trim:!0},label:"Nama Perusahaan",disable:a(o).processing,"lazy-rules":"",error:!!a(o).errors.name,"error-message":a(o).errors.name,rules:[g=>g&&g.length>0||"Nama perusahaan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(oe,{modelValue:a(o).headline,"onUpdate:modelValue":_[1]||(_[1]=g=>a(o).headline=g),modelModifiers:{trim:!0},label:"Headline",disable:a(o).processing,maxlength:"200","lazy-rules":"",error:!!a(o).errors.headline,"error-message":a(o).errors.headline,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(oe,{modelValue:a(o).phone,"onUpdate:modelValue":_[2]||(_[2]=g=>a(o).phone=g),modelModifiers:{trim:!0},label:"No Telepon",disable:a(o).processing,"lazy-rules":"",error:!!a(o).errors.phone,"error-message":a(o).errors.phone,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(oe,{type:"textarea",counter:"",autogrow:"",maxlength:"500",modelValue:a(o).address,"onUpdate:modelValue":_[3]||(_[3]=g=>a(o).address=g),modelModifiers:{trim:!0},label:"Alamat",disable:a(o).processing,"lazy-rules":"",error:!!a(o).errors.address,"error-message":a(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),t("div",null,[_[7]||(_[7]=t("div",{class:"text-subtitle1 q-my-sm"},"Logo:",-1)),e(A,{label:"Browse Logo",size:"sm",onClick:b,color:"secondary",icon:"add_a_photo",disable:a(o).processing},null,8,["disable"]),e(A,{class:"q-ml-sm",size:"sm",icon:"close",label:"Buang",disable:a(o).processing||!s.value,color:"red",onClick:m},null,8,["disable"]),t("input",{type:"file",ref_key:"fileInput",ref:r,accept:"image/*",style:{display:"none"},onChange:f},null,544),t("div",null,[e(Kt,{src:s.value,class:"q-mt-md",ratio:1,"spinner-color":"white",style:{width:"240px",border:"1px solid #ddd"}},Fe({error:l(()=>[_[4]||(_[4]=t("div",{class:"text-negative text-center q-pa-md"}," Gambar tidak tersedia ",-1))]),_:2},[s.value?void 0:{name:"default",fn:l(()=>[_[5]||(_[5]=t("div",{class:"absolute-full text-subtitle2 flex flex-center"}," Logo belum diset ",-1))]),key:"0"}]),1032,["src"]),_[6]||(_[6]=t("p",{class:"q-my-sm text-grey-9"}," Logo akan di resize ke ukuran 240px x 240px ",-1))])])]),_:1}),e(te,null,{default:l(()=>[e(A,{icon:"save",type:"submit",color:"primary",label:"Simpan",disable:a(o).processing,loading:a(o).processing},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},Dr=Object.freeze(Object.defineProperty({__proto__:null,default:Hl},Symbol.toStringTag,{value:"Module"})),Ar={class:"q-pa-xs"},Ur={class:"row justify-center"},jr={class:"col col-md-6"},La="Profil Perusahaan",Er={__name:"Edit",setup(d){return(n,u)=>{const o=Q("i-head"),r=Q("authenticated-layout");return p(),h(W,null,[e(o,{title:La}),e(r,null,{title:l(()=>[v(i(La))]),default:l(()=>[t("div",Ar,[t("div",Ur,[t("div",jr,[e(Hl)])])])]),_:1})],64)}}},Mr=Object.freeze(Object.defineProperty({__proto__:null,default:Er},Symbol.toStringTag,{value:"Module"})),Nr={class:"q-gutter-sm"},Br={class:"col col-md-6 q-pa-xs"},zr={class:"row"},Fr={class:"detail"},Lr={key:0},Hr={key:1},Kr={key:0},Yr={key:1},Qr={colspan:"3",class:"bg-white"},Ha="Rincian Konfirmasi Top Up",Wr={__name:"Detail",setup(d){const n=fe();return(u,o)=>{const r=Q("i-head"),s=Q("i-link"),b=Q("my-link"),f=Q("authenticated-layout");return p(),h(W,null,[e(r,{title:Ha}),e(f,{"show-drawer-button":!0},{"left-button":l(()=>[t("div",Nr,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=m=>u.$inertia.get(u.route("admin.customer-wallet-transaction-confirmation.index")))})])]),title:l(()=>[t("span",{class:"text-subtitle2"},i(Ha))]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Br,[t("div",zr,[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>[o[23]||(o[23]=t("div",{class:"text-subtitle1 text-bold text-grey-8"}," Rincian Konfirmasi ",-1)),t("table",Fr,[t("tbody",null,[t("tr",null,[o[1]||(o[1]=t("td",{style:{width:"110px"}},"Kode Trx",-1)),o[2]||(o[2]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,i(a(n).props.data.formatted_id),1)]),t("tr",null,[o[3]||(o[3]=t("td",null,"Waktu",-1)),o[4]||(o[4]=t("td",null,":",-1)),t("td",null,i(a(be)(a(n).props.data.datetime)),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"Pelanggan",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,[t("div",null,[e(V,{name:"person",class:"inline-icon"}),v(" "+i(a(n).props.data.customer.code),1)]),t("div",null,[e(V,{name:"person",class:"inline-icon"}),v(" "+i(a(n).props.data.customer.name),1)]),a(n).props.data.customer.phone?(p(),h("div",Lr,[e(V,{name:"phone",class:"inline-icon"}),v(" "+i(a(n).props.data.customer.phone),1)])):k("",!0),a(n).props.data.customer.address?(p(),h("div",Hr,[e(V,{name:"home_pin",class:"inline-icon"}),v(" "+i(a(n).props.data.customer.address),1)])):k("",!0),t("div",null,[e(s,{href:u.route("admin.customer.detail",{id:a(n).props.data.customer_id})},{default:l(()=>[...o[5]||(o[5]=[v("Lihat Rincian Pelanggan",-1)])]),_:1},8,["href"])])])]),t("tr",null,[o[10]||(o[10]=t("td",null,"Akun Tujuan",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,[e(b,{href:u.route("admin.finance-account.detail",{id:a(n).props.data.finance_account.id})},{default:l(()=>[v(i(a(n).props.data.finance_account.name),1)]),_:1},8,["href"]),o[9]||(o[9]=t("br",null,null,-1)),a(n).props.data.finance_account.type==="bank"?(p(),h(W,{key:0},[v(" Rek "+i(a(n).props.data.finance_account.bank)+" an "+i(a(n).props.data.finance_account.holder)+" ",1),o[8]||(o[8]=t("br",null,null,-1)),v(" "+i(a(n).props.data.finance_account.number),1)],64)):k("",!0)])]),t("tr",null,[o[12]||(o[12]=t("td",null,"Jumlah",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,"Rp. "+i(a(H)(a(n).props.data.amount)),1)]),t("tr",null,[o[14]||(o[14]=t("td",null,"Status",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,i(u.$CONSTANTS.CUSTOMER_WALLET_TRANSACTION_CONFIRMATION_STATUSES[a(n).props.data.status]),1)]),t("tr",null,[o[16]||(o[16]=t("td",null,"Catatan",-1)),o[17]||(o[17]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.notes),1)]),a(n).props.data.creator?(p(),h("tr",Kr,[o[18]||(o[18]=t("td",null,"Dibuat",-1)),o[19]||(o[19]=t("td",null,":",-1)),t("td",null,i(a(be)(a(n).props.data.created_at))+" oleh "+i(a(n).props.data.creator.name),1)])):k("",!0),a(n).props.data.updater?(p(),h("tr",Yr,[o[20]||(o[20]=t("td",null,"Diperbarui",-1)),o[21]||(o[21]=t("td",null,":",-1)),t("td",null,i(a(be)(a(n).props.data.updated_at))+" oleh "+i(a(n).props.data.updater.name),1)])):k("",!0),a(n).props.data.image_path?(p(),h(W,{key:2},[o[22]||(o[22]=t("tr",null,[t("td",null,"Lampiran"),t("td",null,":"),t("td")],-1)),t("tr",null,[t("td",Qr,[e(Kt,{src:`/${a(n).props.data.image_path}`,class:"q-mt-none",style:Ee([{"max-width":"500px"},{border:"1px solid #ddd"}])},null,8,["src"])])])],64)):k("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Jr=Object.freeze(Object.defineProperty({__proto__:null,default:Wr},Symbol.toStringTag,{value:"Module"})),Gr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Xr={class:"q-pa-xs"},Zr={class:"flex justify-end no-wrap"},Ka="Konfirmasi Top Up Wallet",ei={__name:"Index",setup(d){const n=$e(),u=q(!1),o=q([]),r=q(!0),s=q(null),b=q(null),f=Ke(b),m=q(null),c=q(!1),y=Yt(),_=Qt(),g=[{label:"Semua Tahun",value:"all"},...Rt(y-2,y).reverse()],S=[{value:"all",label:"Semua Bulan"},...Dt()],I=[{value:"all",label:"Semua Status"},...et(window.CONSTANTS.CUSTOMER_WALLET_TRANSACTION_CONFIRMATION_STATUSES)],w=Pe({search:"",year:y,month:_,status:"all",...Ae()}),R=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!1}),C=[{name:"datetime",label:"Tanggal",field:"datetime",align:"left",sortable:!0},{name:"finance_account_id",label:"Bank Tujuan",field:"finance_account_id",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"status",label:"Status",field:"status",align:"center"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",label:"Aksi",field:"action",align:"center"}];we(()=>{$()});const $=(j=null)=>{Ue({pagination:R,filter:w,props:j,rows:o,url:route("admin.customer-wallet-transaction-confirmation.data"),loading:r,tableRef:s})},O=()=>{$()},z=G(()=>n.screen.gt.sm?C:C.filter(j=>["datetime","action"].includes(j.name)));Me(()=>w.year,j=>{j===null&&(w.month=null)});const T=j=>Da({message:`Setujui konfirmasi transaksi #${j.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",j.id),fetchItemsCallback:$,loading:r,data:{id:j.id,action:"accept"}}),D=j=>Da({message:`Tolak konfirmasi transaksi #${j.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",j.id),fetchItemsCallback:$,loading:r,data:{id:j.id,action:"reject"}}),E=j=>tt({message:`Hapus konfirmasi transaksi ${j.formatted_id}?`,url:route("admin.customer-wallet-transaction-confirmation.delete",j.id),fetchItemsCallback:$,loading:r}),M=j=>{m.value=j,c.value=!0};return(j,x)=>{const Y=Q("i-head"),se=Q("authenticated-layout");return p(),h(W,null,[e(Y,{title:Ka}),e(se,null,Fe({title:l(()=>[v(i(Ka))]),"right-button":l(()=>[e(A,{class:"q-ml-sm",icon:u.value?"filter_alt_off":"filter_alt",color:"grey",flat:"",rounded:"",dense:"",onClick:x[0]||(x[0]=N=>u.value=!u.value)},null,8,["icon"])]),default:l(()=>[t("div",Xr,[e(Te,{ref_key:"tableRef",ref:s,class:"full-height-table",style:Ee({height:a(f)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:R.value,"onUpdate:pagination":x[6]||(x[6]=N=>R.value=N),filter:w.search,loading:r.value,columns:z.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:$,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),body:l(N=>[e(qe,{props:N,class:"cursor-pointer",onClick:J(U=>a(X).get(j.route("admin.customer-wallet-transaction-confirmation.detail",{id:N.row.id})),["stop"])},{default:l(()=>[e(L,{key:"datetime",props:N,class:"wrap-column"},{default:l(()=>[t("div",null,[e(V,{class:"inline-icon",name:"tag"}),v(" "+i(N.row.formatted_id),1)]),t("div",null,[e(V,{name:"calendar_clock",class:"inline-icon"}),v(" "+i(a(be)(N.row.datetime)),1)]),a(n).screen.gt.sm?k("",!0):(p(),h(W,{key:0},[e(ke,{icon:"account_balance",text:N.row.finance_account.name},null,8,["text"]),t("div",null,[e(V,{name:"person",class:"inline-icon"}),v(" "+i(N.row.customer.code)+" - "+i(N.row.customer.name),1)]),t("div",null,[e(V,{name:"money",class:"inline-icon"}),v(" Rp. "+i(a(H)(N.row.amount)),1)]),N.row.notes?(p(),P(ke,{key:0,icon:"notes",text:N.row.notes},null,8,["text"])):k("",!0),t("div",null,[e(Ra,{status:N.row.status},null,8,["status"])])],64))]),_:2},1032,["props"]),e(L,{key:"finance_account_id",props:N},{default:l(()=>[v(i(N.row.finance_account.name),1),x[8]||(x[8]=t("br",null,null,-1)),v(" "+i(N.row.finance_account.bank)+" "+i(N.row.finance_account.number)+" an. "+i(N.row.finance_account.holder),1)]),_:2},1032,["props"]),e(L,{key:"amount",props:N,style:{"text-align":"right"}},{default:l(()=>[v(i(a(H)(N.row.amount)),1)]),_:2},1032,["props"]),e(L,{key:"status",props:N,class:"text-center"},{default:l(()=>[e(Ra,{status:N.row.status},null,8,["status"])]),_:2},1032,["props"]),e(L,{key:"notes",props:N,class:"word-wrap"},{default:l(()=>[e(ke,{icon:"notes",text:N.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(L,{key:"action",props:N,class:"text-center"},{default:l(()=>[t("div",Zr,[e(A,{icon:"image",color:"primary",dense:"",flat:"",disable:N.row.image_path===null||N.row.image_path==="",onClick:J(U=>M(N.row.image_path),["stop"])},{default:l(()=>[N.row.image_path!=null?(p(),P(sa,{key:0},{default:l(()=>[...x[9]||(x[9]=[v(" Lihat Bukti ",-1)])]),_:1})):k("",!0)]),_:2},1032,["disable","onClick"]),j.$can("admin.customer-wallet-transaction-confirmation:accept")||j.$can("admin.customer-wallet-transaction-confirmation:deny")||j.$can("admin.customer-wallet-transaction-confirmation.delete")?(p(),P(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:x[5]||(x[5]=J(()=>{},["stop"]))},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"200px"}},{default:l(()=>[j.$can("admin.customer-wallet-transaction-confirmation:accept")?ee((p(),P(ae,{key:0,onClick:J(U=>T(N.row),["stop"]),clickable:"",disable:N.row.status!=="pending"},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"check"})]),_:1}),e(B,null,{default:l(()=>[...x[10]||(x[10]=[v("Setujui",-1)])]),_:1})]),_:1},8,["onClick","disable"])),[[ne],[ue]]):k("",!0),j.$can("admin.customer-wallet-transaction-confirmation:deny")?ee((p(),P(ae,{key:1,onClick:J(U=>D(N.row),["stop"]),clickable:"",disable:N.row.status!=="pending"},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"cancel"})]),_:1}),e(B,null,{default:l(()=>[...x[11]||(x[11]=[v("Tolak",-1)])]),_:1})]),_:1},8,["onClick","disable"])),[[ne],[ue]]):k("",!0),e(Ze),j.$can("admin.customer-wallet-transaction-confirmation.delete")?ee((p(),P(ae,{key:2,onClick:J(U=>E(N.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"delete_forever"})]),_:1}),e(B,null,{default:l(()=>[...x[12]||(x[12]=[v("Hapus",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"]),e(ra,{modelValue:c.value,"onUpdate:modelValue":x[7]||(x[7]=N=>c.value=N),imageUrl:`/${m.value}`},null,8,["modelValue","imageUrl"])])]),_:2},[u.value?{name:"header",fn:l(()=>[e(Xe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",Gr,[e(de,{modelValue:w.year,"onUpdate:modelValue":[x[1]||(x[1]=N=>w.year=N),O],options:g,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),w.year!=="all"?(p(),P(de,{key:0,modelValue:w.month,"onUpdate:modelValue":[x[2]||(x[2]=N=>w.month=N),O],options:S,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:w.year===null},null,8,["modelValue","disable"])):k("",!0),e(de,{modelValue:w.status,"onUpdate:modelValue":[x[3]||(x[3]=N=>w.status=N),O],options:I,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:w.search,"onUpdate:modelValue":x[4]||(x[4]=N=>w.search=N),placeholder:"Cari...",clearable:""},{append:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},ti=Object.freeze(Object.defineProperty({__proto__:null,default:ei},Symbol.toStringTag,{value:"Module"}));function Kl(d,n=!1){const u=d.map(b=>({value:b.id,label:b.code+" - "+b.name})),o=n?[{value:"all",label:"Semua"},...u]:u,r=q([...o]);return{filteredCustomers:r,filterCustomersFn:(b,f)=>{f(()=>{r.value=o.filter(m=>m.label.toLowerCase().includes(b.toLowerCase()))})},customers:o}}const ai={class:"col col-md-6 q-pa-xs"},Ya="Penyesuaian Saldo Dompet Pelanggan",li={__name:"Adjustment",setup(d){const n=fe(),{filteredCustomers:u,filterCustomersFn:o}=Kl(n.props.customers,!1),r=He({customer_id:null,old_wallet_balance:0,new_wallet_balance:0,notes:""}),s=()=>r.amount=r.new_wallet_balance-r.old_wallet_balance;Me(()=>r.customer_id,async m=>{if(!m){r.old_wallet_balance=0,r.new_wallet_balance=0,s();return}r.processing=!0;try{const c=await axios.get(route("admin.customer.wallet_balance",{id:m}));r.new_wallet_balance=r.old_wallet_balance=c.data.wallet_balance}catch(c){console.error("Gagal mengambil saldo:",c),r.old_wallet_balance=0,r.new_wallet_balance=0}r.processing=!1,s()});const b=G(()=>r.new_wallet_balance-r.old_wallet_balance),f=()=>Ge({form:r,url:route("admin.customer-wallet-transaction.adjustment")});return(m,c)=>{const y=Q("i-head"),_=Q("authenticated-layout");return p(),h(W,null,[e(y,{title:Ya}),e(_,null,{title:l(()=>[v(i(Ya))]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",ai,[e(ze,{class:"row",onSubmit:J(f,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[e(de,{class:"custom-select",modelValue:a(r).customer_id,"onUpdate:modelValue":c[0]||(c[0]=g=>a(r).customer_id=g),label:"Pelanggan","use-input":"","input-debounce":"300",clearable:"",options:a(u),"map-options":"","emit-value":"",errorMessage:a(r).errors.customer_id,onFilter:a(o),error:!!a(r).errors.customer_id,disable:a(r).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(ae,null,{default:l(()=>[e(B,null,{default:l(()=>[...c[6]||(c[6]=[v("Pelanggan tidak ditemukan",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(De,{modelValue:a(r).old_wallet_balance,"onUpdate:modelValue":c[1]||(c[1]=g=>a(r).old_wallet_balance=g),label:"Saldo Tercatat",readonly:"",lazyRules:"",disable:a(r).processing,error:!!a(r).errors.old_wallet_balance,errorMessage:a(r).errors.old_wallet_balance},null,8,["modelValue","disable","error","errorMessage"]),e(De,{modelValue:a(r).new_wallet_balance,"onUpdate:modelValue":c[2]||(c[2]=g=>a(r).new_wallet_balance=g),label:"Saldo Seharusnya",lazyRules:"",disable:a(r).processing,error:!!a(r).errors.new_wallet_balance,errorMessage:a(r).errors.new_wallet_balance},null,8,["modelValue","disable","error","errorMessage"]),e(De,{modelValue:b.value,"onUpdate:modelValue":c[3]||(c[3]=g=>b.value=g),label:"Selisih",readonly:"",lazyRules:"",disable:a(r).processing},null,8,["modelValue","disable"]),e(oe,{modelValue:a(r).notes,"onUpdate:modelValue":c[4]||(c[4]=g=>a(r).notes=g),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(r).processing,error:!!a(r).errors.notes,"error-message":a(r).errors.notes,rules:[g=>g&&g.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(A,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(r).processing},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",disable:a(r).processing,onClick:c[5]||(c[5]=g=>a(X).get(m.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},oi=Object.freeze(Object.defineProperty({__proto__:null,default:li},Symbol.toStringTag,{value:"Module"})),ni={class:"q-gutter-sm"},si={class:"col col-md-6 q-pa-xs"},ri={class:"row"},ii={class:"detail"},di={key:0},ui={key:1},mi={key:0},ci={key:1},pi={colspan:"3",class:"bg-white"},Qa="Rincian Transaksi",fi={__name:"Detail",setup(d){const n=fe();return(u,o)=>{const r=Q("i-head"),s=Q("i-link"),b=Q("authenticated-layout");return p(),h(W,null,[e(r,{title:Qa}),e(b,null,{"left-button":l(()=>[t("div",ni,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=f=>u.$goBack())})])]),title:l(()=>[v(i(Qa))]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",si,[t("div",ri,[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>[o[19]||(o[19]=t("div",{class:"text-subtitle1 text-bold text-grey-8"}," Rincian Transaksi Wallet ",-1)),t("table",ii,[t("tbody",null,[t("tr",null,[o[1]||(o[1]=t("td",{style:{width:"110px"}},"Kode Trx",-1)),o[2]||(o[2]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,i(a(n).props.data.formatted_id),1)]),t("tr",null,[o[3]||(o[3]=t("td",null,"Waktu",-1)),o[4]||(o[4]=t("td",null,":",-1)),t("td",null,i(a(be)(a(n).props.data.datetime)),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"Pelanggan",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,[t("div",null,[e(V,{name:"person",class:"inline-icon"}),v(" "+i(a(n).props.data.customer.code),1)]),t("div",null,[e(V,{name:"person",class:"inline-icon"}),v(" "+i(a(n).props.data.customer.name),1)]),a(n).props.data.customer.phone?(p(),h("div",di,[e(V,{name:"phone",class:"inline-icon"}),v(" "+i(a(n).props.data.customer.phone),1)])):k("",!0),a(n).props.data.customer.address?(p(),h("div",ui,[e(V,{name:"home_pin",class:"inline-icon"}),v(" "+i(a(n).props.data.customer.address),1)])):k("",!0),t("div",null,[e(s,{href:u.route("admin.customer.detail",{id:a(n).props.data.customer_id})},{default:l(()=>[...o[5]||(o[5]=[v("Lihat Rincian Pelanggan",-1)])]),_:1},8,["href"])])])]),t("tr",null,[o[8]||(o[8]=t("td",null,"Jenis Transaksi",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,i(u.$CONSTANTS.CUSTOMER_WALLET_TRANSACTION_TYPES[a(n).props.data.type]),1)]),t("tr",null,[o[10]||(o[10]=t("td",null,"Jumlah",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",{class:xe(a(n).props.data.amount>0?"text-positive":"text-negative")},i(a(Nt)(a(n).props.data.amount))+"Rp. "+i(a(H)(Math.abs(a(n).props.data.amount))),3)]),t("tr",null,[o[12]||(o[12]=t("td",null,"Catatan",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.notes),1)]),a(n).props.data.creator?(p(),h("tr",mi,[o[14]||(o[14]=t("td",null,"Dibuat",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,i(a(be)(a(n).props.data.created_at))+" oleh "+i(a(n).props.data.creator.name),1)])):k("",!0),a(n).props.data.updater?(p(),h("tr",ci,[o[16]||(o[16]=t("td",null,"Diperbarui",-1)),o[17]||(o[17]=t("td",null,":",-1)),t("td",null,i(a(be)(a(n).props.data.updated_at))+" oleh "+i(a(n).props.data.updater.name),1)])):k("",!0),a(n).props.data.image_path?(p(),h(W,{key:2},[o[18]||(o[18]=t("tr",null,[t("td",null,"Lampiran"),t("td",null,":"),t("td")],-1)),t("tr",null,[t("td",pi,[e(Kt,{src:`/${a(n).props.data.image_path}`,class:"q-mt-none",style:Ee([{"max-width":"500px"},{border:"1px solid #ddd"}])},null,8,["src"])])])],64)):k("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},gi=Object.freeze(Object.defineProperty({__proto__:null,default:fi},Symbol.toStringTag,{value:"Module"})),bi={class:"q-gutter-sm"},vi={class:"col col-md-6 q-pa-xs"},yi={__name:"Editor",setup(d){var c;const n=fe(),u=(n.props.data.id?"Edit":"Catat")+" Transaksi Dompet Pelanggan",{filteredCustomers:o,filterCustomersFn:r}=Kl(n.props.customers,!1),s=[{label:"Deposit (+)",value:"deposit"},{label:"Penarikan (-)",value:"withdrawal"}],b=n.props.finance_accounts.map(y=>({label:y.name,value:y.id})),f=He({id:n.props.data.id,customer_id:n.props.data.customer_id,finance_account_id:n.props.data.finance_account_id,type:n.props.data.type,datetime:new Date(n.props.data.datetime),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount),image_path:((c=n.props.data)==null?void 0:c.image_path)??"",image:null}),m=()=>{Wt(f,{datetime:"YYYY-MM-DD HH:mm:ss"}),Ge({form:f,url:route("admin.customer-wallet-transaction.save")})};return(y,_)=>{const g=Q("i-head"),S=Q("authenticated-layout");return p(),h(W,null,[e(g,{title:u}),e(S,null,{title:l(()=>[v(i(u))]),"left-button":l(()=>[t("div",bi,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:_[0]||(_[0]=I=>y.$inertia.get(y.route("admin.customer-wallet-transaction.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",vi,[e(ze,{class:"row",onSubmit:J(m,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[ee(t("input",{type:"hidden",name:"id","onUpdate:modelValue":_[1]||(_[1]=I=>a(f).id=I)},null,512),[[dt,a(f).id]]),e(Bt,{autofocus:"",modelValue:a(f).datetime,"onUpdate:modelValue":_[2]||(_[2]=I=>a(f).datetime=I),label:"Tanggal",error:!!a(f).errors.datetime,disable:a(f).processing,"hide-bottom-space":""},null,8,["modelValue","error","disable"]),e(de,{class:"custom-select",modelValue:a(f).customer_id,"onUpdate:modelValue":_[3]||(_[3]=I=>a(f).customer_id=I),label:"Pelanggan","use-input":"","input-debounce":"300",clearable:"",options:a(o),"map-options":"","emit-value":"",errorMessage:a(f).errors.customer_id,onFilter:a(r),error:!!a(f).errors.customer_id,disable:a(f).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(ae,null,{default:l(()=>[e(B,null,{default:l(()=>[..._[10]||(_[10]=[v("Pelanggan tidak ditemukan",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(de,{modelValue:a(f).type,"onUpdate:modelValue":_[4]||(_[4]=I=>a(f).type=I),label:"Jenis",options:s,"map-options":"","emit-value":"",error:!!a(f).errors.type,disable:a(f).processing,errorMessage:a(f).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(de,{modelValue:a(f).finance_account_id,"onUpdate:modelValue":_[5]||(_[5]=I=>a(f).finance_account_id=I),label:a(f).type=="deposit"?"Kas Tujuan":"Kas Asal",options:a(b),"map-options":"","emit-value":"",error:!!a(f).errors.finance_account_id,disable:a(f).processing,errorMessage:a(f).errors.finance_account_id,"hide-bottom-space":""},null,8,["modelValue","label","options","error","disable","errorMessage"]),e(De,{modelValue:a(f).amount,"onUpdate:modelValue":_[6]||(_[6]=I=>a(f).amount=I),label:"Jumlah",lazyRules:"",disable:a(f).processing,error:!!a(f).errors.amount,errorMessage:a(f).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(oe,{modelValue:a(f).notes,"onUpdate:modelValue":_[7]||(_[7]=I=>a(f).notes=I),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(f).processing,error:!!a(f).errors.notes,"error-message":a(f).errors.notes,rules:[I=>I&&I.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(ha,{modelValue:a(f).image,"onUpdate:modelValue":_[8]||(_[8]=I=>a(f).image=I),"initial-image-path":a(f).image_path,disabled:a(f).processing,error:!!a(f).errors.image||!!a(f).errors.image_path,"error-message":a(f).errors.image||a(f).errors.image_path},null,8,["modelValue","initial-image-path","disabled","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(A,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(f).processing},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",disable:a(f).processing,onClick:_[9]||(_[9]=I=>a(X).get(y.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},_i=Object.freeze(Object.defineProperty({__proto__:null,default:yi},Symbol.toStringTag,{value:"Module"})),ki={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},wi={class:"q-pa-xs"},hi={class:"full-width row flex-center text-grey-8 q-gutter-sm"},$i={key:0},xi={class:"flex justify-end no-wrap"},Wa="Transaksi Dompet Pelanggan",Si={__name:"Index",setup(d){const n=$e(),u=q(!1),o=q([]),r=q(!0),s=q(null),b=q(null),f=Ke(b),m=new Date().getFullYear(),c=new Date().getMonth()+1,y=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...Rt(m-2,m-1).reverse()],_=[{value:"all",label:"Semua Bulan"},...Dt()],g=Pe({search:"",year:m,month:c,...Ae()}),S=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!0}),I=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"customer",label:"Pelanggan",field:"customer",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];we(()=>{R()});const w=D=>tt({message:`Hapus transaksi #${D.formatted_id}? Seluruh akun terkait akan di refund dan rekaman akan dihapus.`,url:route("admin.customer-wallet-transaction.delete",D.id),fetchItemsCallback:R,loading:r}),R=(D=null)=>{Ue({pagination:S,filter:g,props:D,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:r,tableRef:s})},C=()=>{R()},$=G(()=>n.screen.gt.sm?I:I.filter(D=>D.name==="datetime"||D.name==="action"));Me(()=>g.year,D=>{D===null&&(g.month=null)});const O=q(null),z=q(!1),T=D=>{O.value=D,z.value=!0};return(D,E)=>{const M=Q("i-head"),j=Q("authenticated-layout");return p(),h(W,null,[e(M,{title:Wa}),e(j,null,Fe({title:l(()=>[v(i(Wa))]),"right-button":l(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:E[0]||(E[0]=x=>u.value=!u.value)},null,8,["icon"]),D.$can("admin.customer-wallet-transaction.add")?(p(),P(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:E[1]||(E[1]=x=>a(X).get(D.route("admin.customer-wallet-transaction.add")))})):k("",!0)]),default:l(()=>[t("div",wi,[e(Te,{ref_key:"tableRef",ref:s,style:Ee({height:a(f)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:S.value,"onUpdate:pagination":E[6]||(E[6]=x=>S.value=x),filter:g.search,loading:r.value,columns:$.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:R,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:x,message:Y,filter:se})=>[t("div",hi,[t("span",null,i(Y)+" "+i(se?" with term "+se:""),1)])]),body:l(x=>[e(qe,{props:x,class:"cursor-pointer",onClick:J(Y=>a(X).get(D.route("admin.customer-wallet-transaction.detail",{id:x.row.id})),["stop"])},{default:l(()=>[e(L,{key:"datetime",props:x,class:"wrap-column"},{default:l(()=>[t("div",null,[e(V,{name:"tag",class:"inline-icon"}),v(" "+i(x.row.formatted_id),1)]),t("div",null,[e(V,{name:"calendar_clock",class:"inline-icon"}),v(" "+i(a(be)(x.row.datetime)),1)]),x.row.finance_account?(p(),h("div",$i,[e(V,{name:"wallet",class:"inline-icon"}),v(" "+i(x.row.finance_account?x.row.finance_account.name:"-"),1)])):k("",!0),a(n).screen.gt.sm?k("",!0):(p(),h(W,{key:1},[e(ke,{icon:"person",text:x.row.customer.code+" - "+x.row.customer.name},null,8,["text"]),t("div",{class:xe([x.row.amount>0?"text-positive":"text-negative","text-bold"])},[e(V,{name:"money",class:"inline-icon"}),v(" "+i(a(Nt)(x.row.amount))+"Rp. "+i(a(H)(Math.abs(x.row.amount))),1)],2),e(ke,{text:x.row.notes,icon:"notes",class:"text-grey-8"},null,8,["text"]),t("div",null,[e(ut,null,{default:l(()=>[v(i(x.row.type_label),1)]),_:2},1024)])],64))]),_:2},1032,["props"]),e(L,{key:"customer",props:x},{default:l(()=>[e(ke,{text:x.row.customer.code+" - "+x.row.customer.name},null,8,["text"])]),_:2},1032,["props"]),e(L,{key:"notes",props:x},{default:l(()=>[e(ke,{text:x.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(L,{key:"amount",props:x,style:{"text-align":"right"}},{default:l(()=>[v(i(a(na)(x.row.amount)),1)]),_:2},1032,["props"]),e(L,{key:"action",props:x},{default:l(()=>[t("div",xi,[e(A,{icon:"image",color:"primary",dense:"",flat:"",disable:x.row.image_path===null||x.row.image_path==="",onClick:J(Y=>T(x.row.image_path),["stop"])},{default:l(()=>[x.row.image_path!=null?(p(),P(sa,{key:0},{default:l(()=>[...E[8]||(E[8]=[v(" Lihat Bukti ",-1)])]),_:1})):k("",!0)]),_:2},1032,["disable","onClick"]),D.$can("admin.customer-wallet-transaction.delete")?(p(),P(A,{key:0,icon:"more_vert",rounded:"",dense:"",flat:"",onClick:E[5]||(E[5]=J(()=>{},["stop"]))},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"200px"}},{default:l(()=>[D.$can("admin.customer-wallet-transaction.delete")?ee((p(),P(ae,{key:0,onClick:J(Y=>w(x.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"delete_forever"})]),_:1}),e(B,null,{default:l(()=>[...E[9]||(E[9]=[v("Hapus",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])]),e(ra,{modelValue:z.value,"onUpdate:modelValue":E[7]||(E[7]=x=>z.value=x),imageUrl:`/${O.value}`},null,8,["modelValue","imageUrl"])]),_:2},[u.value?{name:"header",fn:l(()=>[e(Xe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",ki,[e(de,{modelValue:g.year,"onUpdate:modelValue":[E[2]||(E[2]=x=>g.year=x),C],options:y,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(de,{modelValue:g.month,"onUpdate:modelValue":[E[3]||(E[3]=x=>g.month=x),C],options:_,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:g.year===null},null,8,["modelValue","disable"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:g.search,"onUpdate:modelValue":E[4]||(E[4]=x=>g.search=x),placeholder:"Cari",clearable:""},{append:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Vi=Object.freeze(Object.defineProperty({__proto__:null,default:Si},Symbol.toStringTag,{value:"Module"})),qi={class:"detail"},Ci={colspan:"3"},Ti={class:"text-bold text-grey-8"},Pi={key:0},Oi={key:1},Ii={class:"text-grey-8"},Ri={key:2},Di={class:"text-grey-8"},Yl={__name:"MainInfoTab",setup(d){const n=fe();return(u,o)=>(p(),h("table",qi,[t("tbody",null,[t("tr",null,[t("td",Ci,[t("div",Ti,[o[1]||(o[1]=v(" Info Pelanggan ",-1)),u.$can("admin.customer.edit")?(p(),P(A,{key:0,icon:"edit",size:"sm",dense:"",flat:"",rounded:"",class:"q-ml-sm",color:"grey",onClick:o[0]||(o[0]=r=>u.$inertia.get(u.route("admin.customer.edit",{id:a(n).props.data.id})))})):k("",!0)])])]),t("tr",null,[o[2]||(o[2]=t("td",{style:{width:"120px"}},"Username",-1)),o[3]||(o[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,i(a(n).props.data.code),1)]),t("tr",null,[o[4]||(o[4]=t("td",null,"Jenis",-1)),o[5]||(o[5]=t("td",null,":",-1)),t("td",null,i(u.$CONSTANTS.CUSTOMER_TYPES[a(n).props.data.type]),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"Nama",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.name),1)]),t("tr",null,[o[8]||(o[8]=t("td",null,"No. Telepon",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.phone?a(n).props.data.phone:"-"),1)]),t("tr",null,[o[10]||(o[10]=t("td",null,"Alamat",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.address?a(n).props.data.address:"-"),1)]),t("tr",null,[o[12]||(o[12]=t("td",null,"Saldo Wallet",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,"Rp. "+i(a(H)(a(n).props.data.wallet_balance)),1)]),t("tr",null,[o[14]||(o[14]=t("td",null,"Status",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),o[25]||(o[25]=t("tr",null,[t("td",{colspan:"3"},[t("div",{class:"text-bold text-grey-8 q-mt-md"},"Info Akun")])],-1)),a(n).props.data.created_at?(p(),h("tr",Pi,[o[16]||(o[16]=t("td",null,"Dibuat",-1)),o[17]||(o[17]=t("td",null,":",-1)),t("td",null,i(a(Vt)(a(n).props.data.created_at))+" oleh "+i(a(n).props.data.creator.name)+" ("+i(a(be)(a(n).props.data.created_at))+") ",1)])):k("",!0),a(n).props.data.updated_at?(p(),h("tr",Oi,[o[18]||(o[18]=t("td",null,"Diperbarui",-1)),o[19]||(o[19]=t("td",null,":",-1)),t("td",null,i(a(Vt)(a(n).props.data.updated_at))+" oleh "+i(a(n).props.data.updater.name)+" ("+i(a(be)(a(n).props.data.updated_at))+") ",1)])):k("",!0),t("tr",null,[o[20]||(o[20]=t("td",null,"Terakhir login",-1)),o[21]||(o[21]=t("td",null,":",-1)),t("td",null,[v(i(a(n).props.data.last_login_datetime?a(be)(a(n).props.data.last_login_datetime):"Belum pernah login")+" ",1),t("span",Ii,"("+i(a(Vt)(a(n).props.data.last_login_datetime))+")",1)])]),a(n).props.data.last_activity_datetime?(p(),h("tr",Ri,[o[23]||(o[23]=t("td",null,"Aktifitas Terakhir",-1)),o[24]||(o[24]=t("td",null,":",-1)),t("td",null,[v(i(a(be)(a(n).props.data.last_activity_datetime))+" ",1),t("span",Di,[v("("+i(a(Vt)(a(n).props.data.last_activity_datetime))+")",1),o[22]||(o[22]=t("br",null,null,-1)),v(i(a(n).props.data.last_activity_description),1)])])])):k("",!0)])]))}},Ai=Object.freeze(Object.defineProperty({__proto__:null,default:Yl},Symbol.toStringTag,{value:"Module"})),Ui={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ji={class:"text-bold"},Ql={__name:"WalletHistoryTab",setup(d){const n=fe(),u=q([]),o=q(!0),r=Pe({customer_id:n.props.data.id,...Ae()}),s=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),b=[{name:"id",label:"Trx",field:"id",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah",field:"amount",align:"right"}];we(()=>{f()});const f=(y=null)=>Ue({pagination:s,filter:r,props:y,rows:u,url:route("admin.customer-wallet-transaction.data"),loading:o}),m=$e(),c=G(()=>m.screen.gt.sm?b:b.filter(y=>y.name==="id"));return(y,_)=>(p(),P(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:s.value,"onUpdate:pagination":_[0]||(_[0]=g=>s.value=g),filter:r.search,loading:o.value,columns:c.value,rows:u.value,"rows-per-page-options":[10,25,50],onRequest:f,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:g,message:S,filter:I})=>[t("div",Ui,[t("span",null,i(S)+" "+i(I?" with term "+I:""),1)])]),body:l(g=>[e(qe,{props:g,class:"cursor-pointer",onClick:J(S=>a(X).get(y.route("admin.customer-wallet-transaction.detail",{id:g.row.id})),["stop"])},{default:l(()=>[e(L,{key:"id",props:g},{default:l(()=>[t("div",ji,[e(V,{class:"inline-icon",name:"tag"}),v(" "+i(g.row.formatted_id),1)]),t("div",null,[e(V,{class:"inline-icon",name:"calendar_clock"}),v(" "+i(a(be)(g.row.datetime)),1)]),a(m).screen.lt.md?(p(),h(W,{key:0},[t("div",{class:xe(["text-bold",g.row.amount<0?"text-red":"text-green"])},[e(V,{name:"money",class:"inline-icon"}),v(" "+i(a(Ol)(g.row.amount)),1)],2),t("div",null,[e(ke,{text:g.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])],64)):k("",!0),t("div",null,[e(ut,{size:"xs",color:g.row.amount>0?"green":"red"},{default:l(()=>[e(V,{name:"category"}),v(" "+i(g.row.type_label),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(L,{key:"notes",props:g,class:"wrap-column"},{default:l(()=>[e(ke,{text:g.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(L,{key:"amount",props:g},{default:l(()=>[t("div",{class:xe(g.row.amount<0?"text-red-10":g.row.amount>0?"text-green-10":"")},i(a(na)(g.row.amount)),3)]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},Ei=Object.freeze(Object.defineProperty({__proto__:null,default:Ql},Symbol.toStringTag,{value:"Module"})),Mi={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ni={class:"text-bold"},Bi={class:"text-bold"},zi={key:0},Wl={__name:"OrderHistoryTab",setup(d){const n=fe(),u=q([]),o=q(!0),r=Pe({customer_id:n.props.data.id,...Ae()}),s=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),b=[{name:"id",label:"Trx",field:"id",align:"left"},{name:"grand_total",label:"Total",field:"grand_total",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}];we(()=>{f()});const f=(y=null)=>Ue({pagination:s,filter:r,props:y,rows:u,url:route("admin.sales-order.data",{customer_id:n.props.data.id,filter:{status:["closed","canceled"]}}),loading:o}),m=$e(),c=G(()=>m.screen.gt.sm?b:b.filter(y=>y.name==="id"));return(y,_)=>(p(),P(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:s.value,"onUpdate:pagination":_[0]||(_[0]=g=>s.value=g),filter:r.search,loading:o.value,columns:c.value,rows:u.value,"rows-per-page-options":[10,25,50],onRequest:f,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:g,message:S,filter:I})=>[t("div",Mi,[t("span",null,i(S)+" "+i(I?" with term "+I:""),1)])]),body:l(g=>[e(qe,{props:g,class:"cursor-pointer",onClick:J(S=>a(X).get(y.route("admin.sales-order.detail",{id:g.row.id})),["stop"])},{default:l(()=>[e(L,{key:"id",props:g},{default:l(()=>[t("div",Ni,[e(V,{class:"inline-icon",name:"tag"}),v(" "+i(g.row.formatted_id),1)]),t("div",null,[e(V,{class:"inline-icon",name:"calendar_clock"}),v(" "+i(a(be)(g.row.datetime)),1)]),a(m).screen.lt.md?(p(),h(W,{key:0},[t("div",Bi,[e(V,{name:"money",class:"inline-icon"}),v(" Rp. "+i(a(H)(g.row.grand_total)),1)]),g.row.notes?(p(),h("div",zi,[e(ke,{text:g.row.notes,class:"text-grey-8",icon:"notes"},null,8,["text"])])):k("",!0)],64)):k("",!0),t("div",null,[e(ut,{color:g.row.status=="closed"?"green":"red"},{default:l(()=>[v(i(y.$CONSTANTS.SALES_ORDER_STATUSES[g.row.status]),1)]),_:2},1032,["color"])])]),_:2},1032,["props"]),e(L,{key:"grand_total",props:g},{default:l(()=>[t("div",null,i(a(H)(g.row.grand_total)),1)]),_:2},1032,["props"]),e(L,{key:"notes",props:g,class:"wrap-column"},{default:l(()=>[e(ke,{text:g.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},Fi=Object.freeze(Object.defineProperty({__proto__:null,default:Wl},Symbol.toStringTag,{value:"Module"})),Li={class:"q-gutter-sm"},Hi={class:"col col-lg-6 q-pa-xs"},Ki={class:"row"},Ja="Rincian Pelanggan",Yi={__name:"Detail",setup(d){fe();const n=q("main");return $e(),(u,o)=>{const r=Q("i-head"),s=Q("authenticated-layout");return p(),h(W,null,[e(r,{title:Ja}),e(s,null,{title:l(()=>[v(i(Ja))]),"left-button":l(()=>[t("div",Li,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=b=>u.$inertia.get(u.route("admin.customer.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Hi,[t("div",Ki,[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Ut,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=b=>n.value=b),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(st,{name:"main",label:"Info Utama"}),e(st,{name:"history",label:"Riwayat Wallet"}),e(st,{name:"order-history",label:"Riwayat Order"})]),_:1},8,["modelValue"]),e(jt,{modelValue:n.value,"onUpdate:modelValue":o[2]||(o[2]=b=>n.value=b),animated:""},{default:l(()=>[e(rt,{name:"main"},{default:l(()=>[e(Yl)]),_:1}),e(rt,{name:"history",class:"q-pa-xs"},{default:l(()=>[e(Ql)]),_:1}),e(rt,{name:"order-history",class:"q-pa-xs"},{default:l(()=>[e(Wl)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},Qi=Object.freeze(Object.defineProperty({__proto__:null,default:Yi},Symbol.toStringTag,{value:"Module"})),Wi={class:"q-gutter-sm"},Ji={class:"col col-md-6 q-pa-xs"},Gi={__name:"Editor",setup(d){const n=fe(),u=(n.props.data.id?"Edit":"Tambah")+" Pelanggan",o=He({id:n.props.data.id,code:n.props.data.code,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,active:!!n.props.data.active,password:n.props.data.password,type:n.props.data.type}),r=et(window.CONSTANTS.CUSTOMER_TYPES),s=()=>Ge({form:o,url:route("admin.customer."+(n.props.data.id?"edit":"add"),{id:o.id})});return(b,f)=>{const m=Q("i-head"),c=Q("authenticated-layout");return p(),h(W,null,[e(m,{title:u}),e(c,null,{title:l(()=>[v(i(u))]),"left-button":l(()=>[t("div",Wi,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:f[0]||(f[0]=y=>b.$inertia.get(b.route("admin.customer.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Ji,[e(ze,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:a(Be)},{default:l(()=>[ee(t("input",{type:"hidden",name:"id","onUpdate:modelValue":f[1]||(f[1]=y=>a(o).id=y)},null,512),[[dt,a(o).id]]),e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[e(oe,{modelValue:a(o).code,"onUpdate:modelValue":f[2]||(f[2]=y=>a(o).code=y),modelModifiers:{trim:!0},label:"Kode Pelanggan",error:!!a(o).errors.code,disable:a(o).processing,"error-message":a(o).errors.code,rules:[y=>y&&y.length>0||"Kode harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(oe,{modelValue:a(o).name,"onUpdate:modelValue":f[3]||(f[3]=y=>a(o).name=y),modelModifiers:{trim:!0},label:"Nama Pelanggan",error:!!a(o).errors.name,disable:a(o).processing,"error-message":a(o).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(de,{modelValue:a(o).type,"onUpdate:modelValue":f[4]||(f[4]=y=>a(o).type=y),label:"Jenis Akun",options:a(r),"map-options":"","emit-value":"","lazy-rules":"",disable:a(o).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!a(o).errors.type,"error-message":a(o).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"]),e(oe,{modelValue:a(o).phone,"onUpdate:modelValue":f[5]||(f[5]=y=>a(o).phone=y),modelModifiers:{trim:!0},type:"text",label:"No HP",disable:a(o).processing,error:!!a(o).errors.phone,"error-message":a(o).errors.phone,rules:[],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(oe,{modelValue:a(o).address,"onUpdate:modelValue":f[6]||(f[6]=y=>a(o).address=y),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Alamat",disable:a(o).processing,error:!!a(o).errors.address,"error-message":a(o).errors.address,rules:[],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(oe,{autocomplete:"","aria-autocomplete":"none",modelValue:a(o).password,"onUpdate:modelValue":f[7]||(f[7]=y=>a(o).password=y),type:"password",label:a(o).id?"Kata Sandi (Isi jika ingin mengganti)":"Kata Sandi Baru (Wajib diisi)",disable:a(o).processing,error:!!a(o).errors.password,"error-message":a(o).errors.password,"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","label","disable","error","error-message"]),e(da,{modelValue:a(o).active,"onUpdate:modelValue":f[8]||(f[8]=y=>a(o).active=y),label:"Aktif",disable:a(o).processing},null,8,["modelValue","disable"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(A,{type:"submit",label:"Simpan",icon:"save",color:"primary",disable:a(o).processing},null,8,["disable"]),e(A,{label:"Batal",icon:"cancel",disable:a(o).processing,onClick:f[9]||(f[9]=y=>a(X).get(b.route("admin.customer.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Xi=Object.freeze(Object.defineProperty({__proto__:null,default:Gi},Symbol.toStringTag,{value:"Module"}));function Et(d,n,u,o){const r=[];return d.forEach(s=>{o(s)===!0?r.push(s):n.push({failedPropValidation:u,file:s})}),r}function Xt(d){d!=null&&d.dataTransfer&&(d.dataTransfer.dropEffect="copy"),It(d)}const Zi={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},ed=["rejected"];function td({editable:d,dnd:n,getFileInput:u,addFilesToQueue:o}){const{props:r,emit:s,proxy:b}=Tt(),f=q(null),m=G(()=>r.accept!==void 0?r.accept.split(",").map($=>($=$.trim(),$==="*"?"*/":($.endsWith("/*")&&($=$.slice(0,$.length-1)),$.toUpperCase()))):null),c=G(()=>parseInt(r.maxFiles,10)),y=G(()=>parseInt(r.maxTotalSize,10));function _($){var O;if(d.value)if($!==Object($)&&($={target:null}),((O=$.target)==null?void 0:O.matches('input[type="file"]'))===!0)$.clientX===0&&$.clientY===0&&Xo($);else{const z=u();z!==$.target&&(z==null||z.click($))}}function g($){d.value&&$&&o(null,$)}function S($,O,z,T){let D=Array.from(O||$.target.files);const E=[],M=()=>{E.length!==0&&s("rejected",E)};if(r.accept!==void 0&&m.value.indexOf("*/")===-1&&(D=Et(D,E,"accept",j=>m.value.some(x=>j.type.toUpperCase().startsWith(x)||j.name.toUpperCase().endsWith(x))),D.length===0))return M();if(r.maxFileSize!==void 0){const j=parseInt(r.maxFileSize,10);if(D=Et(D,E,"max-file-size",x=>x.size<=j),D.length===0)return M()}if(r.multiple!==!0&&D.length!==0&&(D=[D[0]]),D.forEach(j=>{j.__key=j.webkitRelativePath+j.lastModified+j.name+j.size}),T===!0){const j=z.map(x=>x.__key);D=Et(D,E,"duplicate",x=>j.includes(x.__key)===!1)}if(D.length===0)return M();if(r.maxTotalSize!==void 0){let j=T===!0?z.reduce((x,Y)=>x+Y.size,0):0;if(D=Et(D,E,"max-total-size",x=>(j+=x.size,j<=y.value)),D.length===0)return M()}if(typeof r.filter=="function"){const j=r.filter(D);D=Et(D,E,"filter",x=>j.includes(x))}if(r.maxFiles!==void 0){let j=T===!0?z.length:0;if(D=Et(D,E,"max-files",()=>(j++,j<=c.value)),D.length===0)return M()}if(M(),D.length!==0)return D}function I($){Xt($),n.value!==!0&&(n.value=!0)}function w($){It($),($.relatedTarget!==null||Mt.is.safari!==!0?$.relatedTarget!==f.value:document.elementsFromPoint($.clientX,$.clientY).includes(f.value)===!1)===!0&&(n.value=!1)}function R($){Xt($);const O=$.dataTransfer.files;O.length!==0&&o(null,O),n.value=!1}function C($){if(n.value===!0)return _e("div",{ref:f,class:`q-${$}__dnd absolute-full`,onDragenter:Xt,onDragover:Xt,onDragleave:w,onDrop:R})}return Object.assign(b,{pickFiles:_,addFiles:g}),{pickFiles:_,addFiles:g,onDragover:I,onDragleave:w,processFiles:S,getDndNode:C,maxFilesNumber:c,maxTotalSizeNumber:y}}const Jl=$t({name:"QFile",inheritAttrs:!1,props:{...en,...Il,...Zi,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Zo,...ed],setup(d,{slots:n,emit:u,attrs:o}){const{proxy:r}=Tt(),s=tn(),b=q(null),f=q(!1),m=an(d),{pickFiles:c,onDragover:y,onDragleave:_,processFiles:g,getDndNode:S}=td({editable:s.editable,dnd:f,getFileInput:se,addFilesToQueue:N}),I=ln(d),w=G(()=>Object(d.modelValue)===d.modelValue?"length"in d.modelValue?Array.from(d.modelValue):[d.modelValue]:[]),R=G(()=>Aa(w.value)),C=G(()=>w.value.map(le=>le.name).join(", ")),$=G(()=>on(w.value.reduce((le,Ce)=>le+Ce.size,0))),O=G(()=>({totalSize:$.value,filesNumber:w.value.length,maxFiles:d.maxFiles})),z=G(()=>({tabindex:-1,type:"file",title:"",accept:d.accept,capture:d.capture,name:m.value,...o,id:s.targetUid.value,disabled:s.editable.value!==!0})),T=G(()=>"q-file q-field--auto-height"+(f.value===!0?" q-file--dnd":"")),D=G(()=>d.multiple===!0&&d.append===!0);function E(le){const Ce=w.value.slice();Ce.splice(le,1),j(Ce)}function M(le){const Ce=w.value.indexOf(le);Ce!==-1&&E(Ce)}function j(le){u("update:modelValue",d.multiple===!0?le:le[0])}function x(le){le.keyCode===13&&rn(le)}function Y(le){(le.keyCode===13||le.keyCode===32)&&c(le)}function se(){return b.value}function N(le,Ce){const Ie=g(le,Ce,w.value,D.value),ft=se();ft!=null&&(ft.value=""),Ie!==void 0&&((d.multiple===!0?d.modelValue&&Ie.every(pt=>w.value.includes(pt)):d.modelValue===Ie[0])||j(D.value===!0?w.value.concat(Ie):Ie))}function U(){return[_e("input",{class:[d.inputClass,"q-file__filler"],style:d.inputStyle})]}function Z(){if(n.file!==void 0)return w.value.length===0?U():w.value.map((Ce,Ie)=>n.file({index:Ie,file:Ce,ref:this}));if(n.selected!==void 0)return w.value.length===0?U():n.selected({files:w.value,ref:this});if(d.useChips===!0)return w.value.length===0?U():w.value.map((Ce,Ie)=>_e(Rl,{key:"file-"+Ie,removable:s.editable.value,dense:!0,textColor:d.color,tabindex:d.tabindex,onRemove:()=>{E(Ie)}},()=>_e("span",{class:"ellipsis",textContent:Ce.name})));const le=d.displayValue!==void 0?d.displayValue:C.value;return le.length!==0?[_e("div",{class:d.inputClass,style:d.inputStyle,textContent:le})]:U()}function he(){const le={ref:b,...z.value,...I.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:N};return d.multiple===!0&&(le.multiple=!0),_e("input",le)}return Object.assign(s,{fieldClass:T,emitValue:j,hasValue:R,inputRef:b,innerValue:w,floatingLabel:G(()=>R.value===!0||Aa(d.displayValue)),computedCounter:G(()=>{if(d.counterLabel!==void 0)return d.counterLabel(O.value);const le=d.maxFiles;return`${w.value.length}${le!==void 0?" / "+le:""} (${$.value})`}),getControlChild:()=>S("file"),getControl:()=>{const le={ref:s.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:d.tabindex};return s.editable.value===!0&&Object.assign(le,{onDragover:y,onDragleave:_,onKeydown:x,onKeyup:Y}),_e("div",le,[he()].concat(Z()))}}),Object.assign(r,{removeAtIndex:E,removeFile:M,getNativeElement:()=>b.value}),nn(r,"nativeEl",()=>b.value),sn(s)}}),aa=$t({name:"QBanner",props:{...ka,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(d,{slots:n}){const{proxy:{$q:u}}=Tt(),o=wa(d,u),r=G(()=>"q-banner row items-center"+(d.dense===!0?" q-banner--dense":"")+(o.value===!0?" q-banner--dark q-dark":"")+(d.rounded===!0?" rounded-borders":"")),s=G(()=>`q-banner__actions row items-center justify-end col-${d.inlineActions===!0?"auto":"all"}`);return()=>{const b=[_e("div",{class:"q-banner__avatar col-auto row items-center self-start"},Ct(n.avatar)),_e("div",{class:"q-banner__content col text-body2"},Ct(n.default))],f=Ct(n.action);return f!==void 0&&b.push(_e("div",{class:s.value},f)),_e("div",{class:r.value+(d.inlineActions===!1&&f!==void 0?" q-banner--top-padding":""),role:"alert"},b)}}}),ad={class:"q-gutter-sm"},ld={class:"col col-md-6 q-pa-xs"},Ga="Import Pelanggan",od={__name:"Import",setup(d){const n=He({csv_file:null}),u=()=>{n.post(route("admin.customer.import"),{onSuccess:()=>{n.reset()},onError:()=>{Be()},onFinish:()=>{n.clearErrors()}})};return(o,r)=>{const s=Q("i-head"),b=Q("authenticated-layout");return p(),h(W,null,[e(s,{title:Ga}),e(b,{"show-drawer-button":!0},{title:l(()=>[v(i(Ga))]),"left-button":l(()=>[t("div",ad,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=f=>o.$goBack())})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",ld,[e(ze,{class:"row",onSubmit:J(u,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[r[3]||(r[3]=t("div",{class:"text-subtitle1 q-pt-lg"},"Unggah File Impor",-1)),r[4]||(r[4]=t("div",{class:"text-caption text-grey"}," Unggah file CSV untuk mengimpor data pelanggan. Pastikan format kolom sesuai dengan template yang disediakan. ",-1)),e(Jl,{modelValue:a(n).csv_file,"onUpdate:modelValue":r[1]||(r[1]=f=>a(n).csv_file=f),accept:".csv",label:"Pilih file CSV",error:!!a(n).errors.csv_file,"error-message":a(n).errors.csv_file,disable:a(n).processing,"hide-bottom-space":"",class:"q-mt-md"},null,8,["modelValue","error","error-message","disable"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(A,{icon:"upload",type:"submit",label:"Import Data",color:"primary",disable:a(n).processing||!a(n).csv_file,loading:a(n).processing},null,8,["disable","loading"]),e(A,{icon:"cancel",label:"Batal",disable:a(n).processing,onClick:r[2]||(r[2]=f=>o.$goBack())},null,8,["disable"])]),_:1}),o.$page.props.flash.success?(p(),P(aa,{key:0,class:"bg-positive text-white q-mt-md"},{default:l(()=>[v(i(o.$page.props.flash.success),1)]),_:1})):k("",!0),o.$page.props.flash.error?(p(),P(aa,{key:1,class:"bg-negative text-white q-mt-md"},{default:l(()=>[v(i(o.$page.props.flash.error),1)]),_:1})):k("",!0)]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},nd=Object.freeze(Object.defineProperty({__proto__:null,default:od},Symbol.toStringTag,{value:"Module"})),sd={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},rd={class:"q-pa-xs"},id={class:"full-width row flex-center text-grey-8 q-gutter-sm"},dd={class:"flex justify-end"},Xa="Pelanggan",ud={__name:"Index",setup(d){const n=$e(),u=q(!1),o=q([]),r=q(!0),s=q(null),b=q(null),f=Ke(b),m=Pe({search:"",status:"active",...Ae()}),c=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"code",label:n.screen.lt.md?"Pelanggan":"Kode",field:"code",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"wallet_balance",label:"Saldo (Rp)",field:"wallet_balance",align:"right"},{name:"phone",label:"No HP",field:"phone",align:"left"},{name:"address",label:"Alamat",field:"address",align:"left"},{name:"action",align:"right"}],_=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];we(()=>{S()});const g=C=>tt({message:`Hapus Pelanggan ${C.name}?`,url:route("admin.customer.delete",C.id),fetchItemsCallback:S,loading:r}),S=(C=null)=>{Ue({pagination:c,filter:m,props:C,rows:o,url:route("admin.customer.data"),loading:r,tableRef:s})},I=()=>S(),w=C=>X.get(route("admin.customer.detail",{id:C.id})),R=G(()=>n.screen.gt.sm?y:y.filter(C=>C.name==="code"||C.name==="action"));return(C,$)=>{const O=Q("i-head"),z=Q("authenticated-layout");return p(),h(W,null,[e(O,{title:Xa}),e(z,null,Fe({title:l(()=>[v(i(Xa))]),"right-button":l(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:$[0]||($[0]=T=>u.value=!u.value)},null,8,["icon"]),C.$can("admin.customer.add")?(p(),P(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:$[1]||($[1]=T=>a(X).get(C.route("admin.customer.add")))})):k("",!0),C.$can("admin.customer.import")?(p(),P(A,{key:1,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:$[3]||($[3]=J(()=>{},["stop"])),class:"q-ml-sm"},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"200px"}},{default:l(()=>[C.$can("admin.customer.import")?ee((p(),P(ae,{key:0,clickable:"",onClick:$[2]||($[2]=J(T=>a(X).get(C.route("admin.customer.import")),["stop"]))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"csv"})]),_:1}),e(B,null,{default:l(()=>[...$[8]||($[8]=[v("Import",-1)])]),_:1})]),_:1})),[[ne],[ue]]):k("",!0)]),_:1})]),_:1})]),_:1})):k("",!0)]),default:l(()=>[t("div",rd,[e(Te,{class:"full-height-table",style:Ee({height:a(f)}),ref_key:"tableRef",ref:s,flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":$[7]||($[7]=T=>c.value=T),filter:m.search,loading:r.value,columns:R.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:S,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:T,message:D,filter:E})=>[t("div",id,[t("span",null,i(D)+" "+i(E?" with term "+E:""),1)])]),body:l(T=>[e(qe,{props:T,class:xe([T.row.active?"":"bg-red-1","cursor-pointer"]),onClick:D=>w(T.row)},{default:l(()=>[e(L,{key:"code",props:T,class:"wrap-column"},{default:l(()=>[t("div",null,[a(n).screen.lt.md?(p(),P(V,{key:0,name:"person"})):k("",!0),v(" "+i(T.row.code),1)]),a(n).screen.lt.md?(p(),h(W,{key:0},[t("div",null,[a(n).screen.lt.md?(p(),P(V,{key:0,name:"person"})):k("",!0),v(" "+i(T.row.name),1)]),t("div",null,[e(V,{name:"phone"}),v(" "+i(T.row.phone),1)]),e(ke,{text:T.row.address,icon:"home_pin"},null,8,["text"]),t("div",null,[e(V,{name:"wallet"}),v(" Rp. "+i(a(H)(T.row.wallet_balance)),1)])],64)):k("",!0)]),_:2},1032,["props"]),e(L,{key:"name",props:T},{default:l(()=>[v(i(T.row.name),1)]),_:2},1032,["props"]),e(L,{key:"wallet_balance",props:T},{default:l(()=>[v(i(a(H)(T.row.wallet_balance)),1)]),_:2},1032,["props"]),e(L,{key:"phone",props:T},{default:l(()=>[v(i(T.row.phone),1)]),_:2},1032,["props"]),e(L,{key:"address",props:T},{default:l(()=>[e(ke,{text:T.row.address},null,8,["text"])]),_:2},1032,["props"]),e(L,{key:"action",props:T},{default:l(()=>[t("div",dd,[C.$can("admin.customer.add")||C.$can("admin.customer.edit")||C.$can("admin.customer.delete")?(p(),P(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:$[6]||($[6]=J(()=>{},["stop"]))},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"200px"}},{default:l(()=>[C.$can("admin.customer.edit")?ee((p(),P(ae,{key:0,clickable:"",onClick:J(D=>a(X).get(C.route("admin.customer.edit",T.row.id)),["stop"])},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"edit"})]),_:1}),e(B,null,{default:l(()=>[...$[9]||($[9]=[v("Edit",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),C.$can("admin.customer.delete")?ee((p(),P(ae,{key:1,onClick:J(D=>g(T.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"delete_forever"})]),_:1}),e(B,null,{default:l(()=>[...$[10]||($[10]=[v("Hapus",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[u.value?{name:"header",fn:l(()=>[e(Xe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",sd,[e(de,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:m.status,"onUpdate:modelValue":[$[4]||($[4]=T=>m.status=T),I],options:_,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":$[5]||($[5]=T=>m.search=T),placeholder:"Cari",clearable:""},{append:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},md=Object.freeze(Object.defineProperty({__proto__:null,default:ud},Symbol.toStringTag,{value:"Module"})),cd={class:"q-pb-sm"},pd={class:"row q-col-gutter-sm"},fd={class:"row items-center no-wrap"},gd={class:"q-ml-md"},bd={class:"text-subtitle2 text-grey-8"},vd={class:"text-h6 text-weight-bold"},Gl={__name:"ActualSummaryCard",props:{dashboardData:{type:Object,required:!0}},setup(d){const n=d,u=G(()=>[{label:"Total Pelanggan Aktif",value:n.dashboardData.summary.total_active_customer,icon:"groups",color:"primary",bgColor:"#e3f2fd"},{label:"Total Saldo Wallet",value:H(n.dashboardData.summary.total_wallet_balance),icon:"account_balance_wallet",color:"orange-9",bgColor:"#fff3e0"},{label:"Total Penjualan",value:H(n.dashboardData.summary.total_sales),icon:"shopping_cart",color:"green-7",bgColor:"#e8f5e9"},{label:"Total Transaksi",value:H(n.dashboardData.summary.total_transactions),icon:"swap_horiz",color:"purple-8",bgColor:"#f3e5f5"}]);return(o,r)=>(p(),h("div",cd,[r[0]||(r[0]=t("div",{class:"text-h6 text-bold text-grey-8 q-mb-sm"},"Ringkasan Statistik",-1)),t("div",pd,[(p(!0),h(W,null,lt(u.value,(s,b)=>(p(),h("div",{key:b,class:"col-12 col-md-6"},[e(pe,{square:"",bordered:"",flat:"",class:"q-pa-md",style:{width:"100%"}},{default:l(()=>[t("div",fd,[e(Lt,{icon:s.icon,color:s.color,"text-color":s.bgColor},null,8,["icon","color","text-color"]),t("div",gd,[t("div",bd,i(s.label),1),t("div",vd,i(s.value),1)])])]),_:2},1024)]))),128))])]))}},yd=Object.freeze(Object.defineProperty({__proto__:null,default:Gl},Symbol.toStringTag,{value:"Module"})),_d={class:"row q-col-gutter-sm q-pb-sm"},kd={class:"col-md-6 col-12"},wd={class:"col-md-6 col-12"},hd={__name:"ChartCard",props:{dashboardData:{type:Object,required:!0}},setup(d){dn([un,mn,cn,pn,fn,gn,bn]);const n=d,u=["#82B1FF","#4DB6AC","#FFB74D","#9575CD"],o=G(()=>({title:{text:"Penjualan Bulanan",left:"center"},tooltip:{trigger:"axis",formatter:function(s){let b=s[0].name+"<br/>";return s.forEach(function(f){b+=f.marker+" "+f.seriesName+": "+H(f.value)+"<br/>"}),b}},xAxis:{type:"category",data:n.dashboardData.monthly_sales.labels,axisLabel:{color:"#616161"}},yAxis:{type:"value",axisLabel:{formatter:s=>H(s),color:"#616161"}},series:[{name:"Penjualan",type:"bar",data:n.dashboardData.monthly_sales.data,itemStyle:{borderRadius:[5,5,0,0],color:u[0]}}]})),r=G(()=>({title:{text:"Distribusi Jenis Transaksi",left:"center"},tooltip:{trigger:"item",formatter:function(s){return s.name+"<br/>"+s.seriesName+": "+H(s.value)+" ("+s.percent+"%)"}},legend:{orient:"vertical",left:"left",textStyle:{color:"#616161"}},series:[{name:"Jumlah Transaksi",type:"pie",radius:["40%","70%"],data:n.dashboardData.transaction_type_distribution,itemStyle:{borderRadius:5,borderColor:"#fff",borderWidth:2,color:s=>u[s.dataIndex%u.length]},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}));return(s,b)=>(p(),h("div",_d,[t("div",kd,[e(pe,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:l(()=>[b[0]||(b[0]=t("div",{class:"text-h6 q-pb-sm"},"Penjualan Bulanan",-1)),e(a(Ua),{class:"chart",option:o.value,autoresize:""},null,8,["option"])]),_:1})]),t("div",wd,[e(pe,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:l(()=>[b[1]||(b[1]=t("div",{class:"text-h6 q-pb-sm"},"Distribusi Transaksi",-1)),e(a(Ua),{class:"chart",option:r.value,autoresize:""},null,8,["option"])]),_:1})])]))}},Xl=vt(hd,[["__scopeId","data-v-b9cdf915"]]),$d=Object.freeze(Object.defineProperty({__proto__:null,default:Xl},Symbol.toStringTag,{value:"Module"})),xd={class:"row q-col-gutter-sm q-pb-sm"},Sd={class:"col-md-6 col-12"},Vd={class:"col-md-6 col-12"},Zl={__name:"TopCard",props:{dashboardData:{type:Object,required:!0}},setup(d){return(n,u)=>(p(),h("div",xd,[t("div",Sd,[e(pe,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:l(()=>[u[0]||(u[0]=t("div",{class:"text-h6 q-mb-sm"},"Top 5 Pembelian Pelanggan",-1)),e(Ne,{separator:""},{default:l(()=>[(p(!0),h(W,null,lt(d.dashboardData.top_customers_sales,(o,r)=>(p(),P(ae,{key:r},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(Lt,{color:"primary","text-color":"white",size:"sm"},{default:l(()=>[v(i(r+1),1)]),_:2},1024)]),_:2},1024),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[v(i(o.name),1)]),_:2},1024)]),_:2},1024),e(B,{side:""},{default:l(()=>[e(ye,{class:"text-primary"},{default:l(()=>[v(i(a(H)(o.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),t("div",Vd,[e(pe,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:l(()=>[u[1]||(u[1]=t("div",{class:"text-h6 q-mb-sm"},"Top 5 Top Up Pelanggan",-1)),e(Ne,{separator:""},{default:l(()=>[(p(!0),h(W,null,lt(d.dashboardData.top_customers_topup,(o,r)=>(p(),P(ae,{key:r},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(Lt,{color:"green-7","text-color":"white",size:"sm"},{default:l(()=>[v(i(r+1),1)]),_:2},1024)]),_:2},1024),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[v(i(o.name),1)]),_:2},1024)]),_:2},1024),e(B,{side:""},{default:l(()=>[e(ye,{class:"text-green-7"},{default:l(()=>[v(i(a(H)(o.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]))}},qd=Object.freeze(Object.defineProperty({__proto__:null,default:Zl},Symbol.toStringTag,{value:"Module"})),Cd={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Td={class:"q-pa-xs"},Pd={class:"q-pa-none"},Za="Dashboard",Od={__name:"Index",setup(d){const n=fe(),u=q({summary:{total_active_customer:n.props.data.active_customer_count,total_sales:155e5,total_transactions:1250,total_wallet_balance:n.props.data.total_customer_wallet_balance,total_topup:75e6,total_purchase:85e6,total_withdrawal:65e6},top_customers_sales:[{name:"Wildan Medina",value:1822e3},{name:"Syafiq",value:1754500},{name:"Umar",value:1534e3},{name:"Fauzan",value:1212e3},{name:"Rizky",value:981500}],top_customers_topup:[{name:"Abdullah",value:175e4},{name:"Abdurrahman",value:15e5},{name:"Zayd",value:125e4},{name:"Syafiq",value:8e5},{name:"Umar",value:65e4}],monthly_sales:{labels:["Jan","Feb","Mar","Apr","Mei","Jun"],data:[14123e3,21344e3,15155e3,17128e3,12557e3,12723e3]},transaction_type_distribution:[{value:500,name:"Deposit"},{value:350,name:"Purchase"},{value:200,name:"Withdrawal"},{value:200,name:"Refund"}]}),o=q(!1),r=q(Ae().month??"this_month"),s=q([{value:"this_month",label:"Bulan Ini"},{value:"prev_month",label:"1 Bulan Sebelumnya"},{value:"prev_2month",label:"2 Bulan Sebelumnya"},{value:"prev_3month",label:"3 Bulan Sebelumnya"}]),b=()=>{X.visit(route("admin.dashboard",{month:r.value}))};return(f,m)=>{const c=Q("i-head"),y=Q("authenticated-layout");return p(),h(W,null,[e(c,{title:Za}),e(y,null,Fe({title:l(()=>[v(i(Za))]),"right-button":l(()=>[e(A,{class:"q-ml-sm",icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:m[0]||(m[0]=_=>o.value=!o.value)},null,8,["icon"])]),default:l(()=>[t("div",Td,[t("div",Pd,[e(Gl,{dashboardData:u.value},null,8,["dashboardData"])]),e(Xl,{dashboardData:u.value},null,8,["dashboardData"]),e(Zl,{dashboardData:u.value},null,8,["dashboardData"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Xe,{class:"filter-bar"},{default:l(()=>[t("div",Cd,[e(de,{class:"custom-select col-12",style:{"min-width":"150px"},modelValue:r.value,"onUpdate:modelValue":[m[1]||(m[1]=_=>r.value=_),b],options:s.value,label:"Bulan",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue","options"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},Id=Object.freeze(Object.defineProperty({__proto__:null,default:Od},Symbol.toStringTag,{value:"Module"})),Rd={class:"row"},Dd={class:"row q-col-gutter-sm"},Ad={class:"col-sm-6 col-xs-12"},Ud={class:"col-sm-6 col-xs-12"},jd={class:"col-md-3 col-sm-6 col-xs-12"},Ed={class:"col-md-3 col-sm-6 col-xs-12"},Md={class:"col-md-3 col-sm-6 col-xs-12"},Nd={class:"col-md-3 col-sm-6 col-xs-12"};const Bd={__name:"SummaryCard",setup(d){const n=fe(),u=(o,r)=>{const b={...{order_status:"all",service_status:"all",repair_status:"all",payment_status:"all",search:""},...r};localStorage.setItem("fixsync.service-orders.filter",JSON.stringify(b)),X.visit(o,{data:b})};return(o,r)=>(p(),h("div",Rd,[e(pe,{class:"bg-transparent no-shadow no-border col",bordered:""},{default:l(()=>[e(te,{class:"q-pa-none"},{default:l(()=>[t("div",Dd,[t("div",Ad,[e(ae,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:r[0]||(r[0]=s=>o.$inertia.visit(o.route("admin.customer.index",{status:"active"})))},{default:l(()=>[e(B,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(V,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(B,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ye,{class:"text-white text-h6 text-weight-bolder"},{default:l(()=>[v(i(a(n).props.data.active_customer_count),1)]),_:1}),e(ye,null,{default:l(()=>[...r[5]||(r[5]=[v("Pelanggan Aktif",-1)])]),_:1})]),_:1})]),_:1})]),t("div",Ud,[e(ae,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:r[1]||(r[1]=s=>o.$inertia.visit(o.route("admin.customer.index",{status:"active"})))},{default:l(()=>[e(B,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(V,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(B,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ye,{class:"text-white text-h6 text-weight-bolder"},{default:l(()=>[v(i(o.$page.props.data.active_user_count),1)]),_:1}),e(ye,null,{default:l(()=>[...r[6]||(r[6]=[v("Pengguna Aktif",-1)])]),_:1})]),_:1})]),_:1})]),t("div",jd,[e(ae,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:l(()=>[e(B,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(V,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(B,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ye,{class:"text-white text-weight-bold"},{default:l(()=>[v(" Rp. "+i(a(H)(o.$page.props.data.total_finance_account_balance)),1)]),_:1}),e(ye,null,{default:l(()=>[...r[7]||(r[7]=[v("Total Saldo Koperasi",-1)])]),_:1})]),_:1})]),_:1})]),t("div",Ed,[e(ae,{style:"background-color: #dc3545",class:"q-pa-none"},{default:l(()=>[e(B,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(V,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(B,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ye,{class:"text-white text-weight-bold"},{default:l(()=>[v(" Rp. "+i(a(H)(o.$page.props.data.total_customer_wallet_balance)),1)]),_:1}),e(ye,null,{default:l(()=>[...r[8]||(r[8]=[v("Total Saldo Pelanggan",-1)])]),_:1})]),_:1})]),_:1})]),t("div",Md,[e(ae,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:l(()=>[e(B,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(V,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(B,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ye,{class:"text-white text-weight-bold"},{default:l(()=>[v(" Rp. "+i(a(H)(o.$page.props.data.total_customer_debt)),1)]),_:1}),e(ye,null,{default:l(()=>[...r[9]||(r[9]=[v("Total Utang Pelanggan",-1)])]),_:1})]),_:1})]),_:1})]),t("div",Nd,[e(ae,{style:"background-color: #dc3545",class:"q-pa-none"},{default:l(()=>[e(B,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(V,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(B,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(ye,{class:"text-white text-weight-bold"},{default:l(()=>[v(" Rp. "+i(a(H)(o.$page.props.data.total_customer_credit)),1)]),_:1}),e(ye,null,{default:l(()=>[...r[10]||(r[10]=[v("Total Piutang Pelanggan",-1)])]),_:1})]),_:1})]),_:1})]),k("",!0),k("",!0),k("",!0)])]),_:1})]),_:1})]))}},zd=Object.freeze(Object.defineProperty({__proto__:null,default:Bd},Symbol.toStringTag,{value:"Module"})),Fd={class:"detail"},eo={__name:"MainInfoTab",setup(d){const n=fe();return(u,o)=>(p(),h("table",Fd,[t("tbody",null,[t("tr",null,[o[0]||(o[0]=t("td",{style:{width:"170px"}},"Nama",-1)),o[1]||(o[1]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,i(a(n).props.data.name),1)]),t("tr",null,[o[2]||(o[2]=t("td",null,"Jenis",-1)),o[3]||(o[3]=t("td",null,":",-1)),t("td",null,i(u.$CONSTANTS.FINANCE_ACCOUNT_TYPES[a(n).props.data.type]),1)]),a(n).props.data.type=="bank"?(p(),h(W,{key:0},[t("tr",null,[o[4]||(o[4]=t("td",null,"Bank",-1)),o[5]||(o[5]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.bank),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"No. Rek",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.number),1)]),t("tr",null,[o[8]||(o[8]=t("td",null,"Atas Nama",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.holder),1)])],64)):k("",!0),t("tr",null,[o[10]||(o[10]=t("td",null,"Saldo",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,"Rp. "+i(a(H)(a(n).props.data.balance)),1)]),t("tr",null,[o[12]||(o[12]=t("td",null,"Status",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),t("tr",null,[o[14]||(o[14]=t("td",null,"Catatan",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.notes),1)]),o[22]||(o[22]=t("tr",null,[t("td",{colspan:"3",class:"text-bold text-grey-9"},[t("div",{class:"q-mt-sm"},"Opsi Lanjutan")])],-1)),t("tr",null,[o[16]||(o[16]=t("td",null,"Tampilkan di Penjualan",-1)),o[17]||(o[17]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.show_in_pos_payment?"Ya":"Tidak"),1)]),t("tr",null,[o[18]||(o[18]=t("td",null,"Tampilkan di Pembelian",-1)),o[19]||(o[19]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.show_in_purchasing?"Ya":"Tidak"),1)]),t("tr",null,[o[20]||(o[20]=t("td",null,"Tampilkan di Wallet",-1)),o[21]||(o[21]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.has_wallet_access?"Ya":"Tidak"),1)])])]))}},Ld=Object.freeze(Object.defineProperty({__proto__:null,default:eo},Symbol.toStringTag,{value:"Module"})),Hd={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Kd={class:"flex q-gutter-sm"},Yd={key:0},to={__name:"HistoryTab",setup(d){const n=fe(),u=$e(),o=q(null),r=q([]),s=q(!0),b=Pe({...Ae()}),f=Ke(null,117),m=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),c=[{name:"id",label:"ID",field:"id",align:"left"},{name:"datetime",label:"Waktu",field:"datetime",align:"left"},{name:"type",label:"Jenis Trx",field:"type",align:"center"},{name:"amount",label:"Jumlah",field:"amount",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}],y=G(()=>u.screen.gt.sm?c:c.filter(g=>g.name==="id"));we(()=>{_()});const _=(g=null)=>Ue({pagination:m,filter:b,props:g,rows:r,url:route("admin.finance-transaction.data",{filter:{account_id:n.props.data.id}}),loading:s,tableRef:o});return(g,S)=>(p(),P(Te,{ref_key:"tableRef",ref:o,flat:"",bordered:"",square:"",style:Ee({height:a(f)}),color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",pagination:m.value,"onUpdate:pagination":S[0]||(S[0]=I=>m.value=I),filter:b.search,loading:s.value,columns:y.value,rows:r.value,"rows-per-page-options":[10,25,50],onRequest:_,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({message:I,filter:w})=>[t("div",Hd,[t("span",null,i(I)+" "+i(w?" with term "+w:""),1)])]),body:l(I=>[e(qe,{props:I},{default:l(()=>[e(L,{key:"id",props:I},{default:l(()=>[t("div",Kd,[t("div",null,[a(u).screen.lt.md?(p(),P(V,{key:0,name:"tag",class:"inline-icon"})):k("",!0),v(" "+i(I.row.formatted_id),1)])]),a(u).screen.lt.md?(p(),h(W,{key:0},[t("div",null,[e(V,{name:"calendar_clock",class:"inline-icon"}),v(" "+i(a(be)(I.row.datetime)),1)]),I.row.creator?(p(),h("div",Yd,[e(V,{name:"person",class:"inline-icon"}),v(" "+i(I.row.creator.username),1)])):k("",!0),t("div",{class:xe([I.row.amount>0?"text-green":"text-red","text-bold"])},[e(V,{class:"inline-icon",name:"money"}),v(" "+i(a(Nt)(I.row.amount))+"Rp. "+i(a(H)(Math.abs(I.row.amount))),1)],2),t("div",null,[e(ut,{color:I.row.amount>0?"green":"red"},{default:l(()=>[v(i(g.$CONSTANTS.FINANCE_TRANSACTION_TYPES[I.row.type]),1)]),_:2},1032,["color"])]),e(ke,{text:I.row.notes,icon:"notes",class:"text-grey-8"},null,8,["text"])],64)):k("",!0)]),_:2},1032,["props"]),e(L,{key:"datetime",props:I},{default:l(()=>[v(i(a(be)(I.row.datetime)),1)]),_:2},1032,["props"]),e(L,{key:"type",props:I},{default:l(()=>[e(ut,{color:I.row.amount>0?"green":"red"},{default:l(()=>[v(i(g.$CONSTANTS.FINANCE_TRANSACTION_TYPES[I.row.type]),1)]),_:2},1032,["color"])]),_:2},1032,["props"]),e(L,{key:"amount",props:I,class:xe(I.row.amount>0?"text-green":"text-red")},{default:l(()=>[v(i(a(Nt)(I.row.amount)+a(H)(Math.abs(I.row.amount))),1)]),_:2},1032,["props","class"]),e(L,{key:"notes",props:I},{default:l(()=>[e(ke,{text:I.row.notes,icon:g.notes},null,8,["text","icon"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"]))}},Qd=Object.freeze(Object.defineProperty({__proto__:null,default:to},Symbol.toStringTag,{value:"Module"})),Wd={class:"q-gutter-sm"},Jd={class:"q-gutter-sm"},Gd={class:"col q-pa-xs"},Xd={class:"row"},el="Rincian Akun",Zd={__name:"Detail",setup(d){const n=fe(),u=q("main");return(o,r)=>{const s=Q("i-head"),b=Q("authenticated-layout");return p(),h(W,null,[e(s,{title:el}),e(b,null,{title:l(()=>[v(i(el))]),"left-button":l(()=>[t("div",Wd,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=f=>o.$inertia.get(o.route("admin.finance-account.index")))})])]),"right-button":l(()=>[t("div",Jd,[o.$can("admin.finance-account.edit")?(p(),P(A,{key:0,icon:"edit",size:"sm",dense:"",flat:"",rounded:"",color:"grey",onClick:r[1]||(r[1]=f=>a(X).get(o.route("admin.finance-account.edit",{id:a(n).props.data.id})))})):k("",!0)])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Gd,[t("div",Xd,[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Ut,{modelValue:u.value,"onUpdate:modelValue":r[2]||(r[2]=f=>u.value=f),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(st,{name:"main",label:"Info Akun"}),e(st,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(jt,{modelValue:u.value,"onUpdate:modelValue":r[3]||(r[3]=f=>u.value=f),animated:""},{default:l(()=>[e(rt,{name:"main"},{default:l(()=>[e(eo)]),_:1}),e(rt,{name:"history",class:"q-pa-xs"},{default:l(()=>[e(to)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},eu=Object.freeze(Object.defineProperty({__proto__:null,default:Zd},Symbol.toStringTag,{value:"Module"})),tu={style:{"margin-left":"-10px"}},qt={__name:"CheckBox",props:{modelValue:{type:[Boolean,Array],default:!1},label:{type:String,default:""},disable:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(d){return(n,u)=>(p(),h("div",tu,[e(la,{class:"full-width q-pl-none","model-value":d.modelValue,"onUpdate:modelValue":u[0]||(u[0]=o=>n.$emit("update:modelValue",o)),disable:d.disable,label:d.label},null,8,["model-value","disable","label"])]))}},au={class:"q-gutter-sm"},lu={class:"col col-md-6 q-pa-xs"},ou={__name:"Editor",setup(d){const n=fe(),u=(n.props.data.id?"Edit":"Tambah")+" Akun / Kas",o=He({id:n.props.data.id,name:n.props.data.name,type:n.props.data.type,bank:n.props.data.bank,number:n.props.data.number,holder:n.props.data.holder,balance:parseFloat(n.props.data.balance),active:!!n.props.data.active,has_wallet_access:!!n.props.data.has_wallet_access,show_in_pos_payment:!!n.props.data.show_in_pos_payment,show_in_purchasing_payment:!!n.props.data.show_in_purchasing_payment,notes:n.props.data.notes}),r=et(window.CONSTANTS.FINANCE_ACCOUNT_TYPES),s=()=>Ge({form:o,url:route("admin.finance-account.save")}),b=f=>{f==="cashier_cash"&&(o.show_in_pos_payment=!0)};return we(()=>{b(o.type)}),Me(()=>o.type,f=>{b(f)}),(f,m)=>{const c=Q("i-head"),y=Q("authenticated-layout");return p(),h(W,null,[e(c,{title:u}),e(y,null,{title:l(()=>[v(i(u))]),"left-button":l(()=>[t("div",au,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:m[0]||(m[0]=_=>f.$inertia.get(f.route("admin.finance-account.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",lu,[e(ze,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[ee(t("input",{type:"hidden",name:"id","onUpdate:modelValue":m[1]||(m[1]=_=>a(o).id=_)},null,512),[[dt,a(o).id]]),e(oe,{autofocus:"",modelValue:a(o).name,"onUpdate:modelValue":m[2]||(m[2]=_=>a(o).name=_),modelModifiers:{trim:!0},label:"Nama Akun","lazy-rules":"",error:!!a(o).errors.name,disable:a(o).processing,"error-message":a(o).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(de,{modelValue:a(o).type,"onUpdate:modelValue":m[3]||(m[3]=_=>a(o).type=_),label:"Jenis Akun",options:a(r),"map-options":"","emit-value":"",error:!!a(o).errors.type,disable:a(o).processing,"hide-bottom-space":""},null,8,["modelValue","options","error","disable"]),a(o).type=="bank"?(p(),h(W,{key:0},[e(oe,{modelValue:a(o).bank,"onUpdate:modelValue":m[4]||(m[4]=_=>a(o).bank=_),modelModifiers:{trim:!0},label:"Nama Bank","lazy-rules":"",error:!!a(o).errors.bank,disable:a(o).processing,"error-message":a(o).errors.bank,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(oe,{modelValue:a(o).number,"onUpdate:modelValue":m[5]||(m[5]=_=>a(o).number=_),modelModifiers:{trim:!0},label:"Nomor Rekening","lazy-rules":"",error:!!a(o).errors.number,disable:a(o).processing,"error-message":a(o).errors.number,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(oe,{modelValue:a(o).holder,"onUpdate:modelValue":m[6]||(m[6]=_=>a(o).holder=_),modelModifiers:{trim:!0},label:"Pemilik Rekening","lazy-rules":"",error:!!a(o).errors.holder,disable:a(o).processing,"error-message":a(o).errors.holder,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"])],64)):k("",!0),e(De,{modelValue:a(o).balance,"onUpdate:modelValue":m[7]||(m[7]=_=>a(o).balance=_),label:"Saldo",lazyRules:"",disable:a(o).processing,"allow-negative":!0,error:!!a(o).errors.balance,errorMessage:a(o).errors.balance,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(oe,{modelValue:a(o).notes,"onUpdate:modelValue":m[8]||(m[8]=_=>a(o).notes=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.notes,"error-message":a(o).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(qt,{modelValue:a(o).active,"onUpdate:modelValue":m[9]||(m[9]=_=>a(o).active=_),disable:a(o).processing,label:"Aktif"},null,8,["modelValue","disable"]),m[14]||(m[14]=t("div",{class:"text-subtitle2 text-bold text-grey-8 q-pt-md"}," Opsi Lanjutan ",-1)),e(qt,{modelValue:a(o).show_in_pos_payment,"onUpdate:modelValue":m[10]||(m[10]=_=>a(o).show_in_pos_payment=_),disable:a(o).processing||a(o).type=="cashier_cash",label:"Tampilkan di Pembayaran Penjualan"},null,8,["modelValue","disable"]),e(qt,{modelValue:a(o).show_in_purchasing_payment,"onUpdate:modelValue":m[11]||(m[11]=_=>a(o).show_in_purchasing_payment=_),disable:a(o).processing,label:"Tampilkan di Pembayaran Pembelian"},null,8,["modelValue","disable"]),e(qt,{modelValue:a(o).has_wallet_access,"onUpdate:modelValue":m[12]||(m[12]=_=>a(o).has_wallet_access=_),disable:a(o).processing,label:"Tampilkan di Konfirmasi Topup Wallet"},null,8,["modelValue","disable"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(A,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(o).processing},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",disable:a(o).processing,onClick:m[13]||(m[13]=_=>a(X).get(f.route("admin.finance-account.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},nu=Object.freeze(Object.defineProperty({__proto__:null,default:ou},Symbol.toStringTag,{value:"Module"})),su={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},ru={class:"q-pa-xs"},iu={class:"q-my-sm text-subtitle"},du={class:"text-bold text-grey-8"},uu={class:"full-width row flex-center text-grey-8 q-gutter-sm"},mu={class:"text-bold text-grey-9"},cu={class:"text-grey-9"},pu={key:0},fu={key:1},gu={key:0},bu={class:"flex justify-end"},tl="Akun Kas",vu={__name:"Index",setup(d){const n=fe(),u=$e(),o=q(!1),r=q([]),s=q(null),b=q(null),f=Ke(b,117),m=q(!0),c=Pe({search:"",status:"active",type:"all",...Ae()}),y=n.props.totalBalance,_=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),g=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"type",label:"Jenis Akun",field:"type",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right",sortable:!0},{name:"action",align:"right"}],S=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],I=[{value:"all",label:"Semua"},...et(window.CONSTANTS.FINANCE_ACCOUNT_TYPES)];we(()=>{R()});const w=z=>tt({message:`Hapus Akun ${z.name}?`,url:route("admin.finance-account.delete",z.id),fetchItemsCallback:R,loading:m}),R=(z=null)=>{Ue({pagination:_,filter:c,props:z,rows:r,url:route("admin.finance-account.data"),loading:m,tableRef:s})},C=()=>R(),$=z=>X.get(route("admin.finance-account.detail",{id:z.id})),O=G(()=>u.screen.gt.sm?g:g.filter(z=>z.name==="name"||z.name==="action"));return(z,T)=>{const D=Q("i-head"),E=Q("authenticated-layout");return p(),h(W,null,[e(D,{title:tl}),e(E,null,Fe({title:l(()=>[v(i(tl))]),"right-button":l(()=>[e(A,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:T[0]||(T[0]=M=>o.value=!o.value)},null,8,["icon"]),z.$can("admin.finance-account.add")?(p(),P(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:T[1]||(T[1]=M=>a(X).get(z.route("admin.finance-account.add")))})):k("",!0)]),default:l(()=>[t("div",ru,[e(pe,{class:"full-width q-pa-sm q-mb-xs",flat:"",bordered:"",square:""},{default:l(()=>[t("div",iu,[T[7]||(T[7]=v(" Total Saldo Akun Aktif: ",-1)),t("span",du,"Rp. "+i(a(H)(a(y))),1)])]),_:1}),e(Te,{ref_key:"tableRef",ref:s,class:"full-height-table",style:Ee({height:a(f)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:_.value,"onUpdate:pagination":T[6]||(T[6]=M=>_.value=M),filter:c.search,loading:m.value,columns:O.value,rows:r.value,"rows-per-page-options":[10,25,50],onRequest:R,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:M,message:j,filter:x})=>[t("div",uu,[t("span",null,i(j)+" "+i(x?" with term "+x:""),1)])]),body:l(M=>[e(qe,{props:M,class:xe([M.row.active?"":"bg-red-1","cursor-pointer"]),onClick:j=>$(M.row)},{default:l(()=>[e(L,{key:"name",props:M,class:"wrap-column"},{default:l(()=>[t("div",mu,i(M.row.name),1),t("div",cu,[M.row.type=="bank"?(p(),h("div",pu,[e(V,{name:"wallet",class:"inline-icon"}),v(" Rekening "+i(M.row.bank??"-")+" "+i(M.row.number??"-")+" a.n. "+i(M.row.holder??"-"),1)])):k("",!0),M.row.notes?(p(),h("div",fu,[e(V,{name:"notes"}),v(" "+i(M.row.notes),1)])):k("",!0)]),a(u).screen.lt.md?(p(),h("div",gu,[e(V,{name:"money",class:"inline-icon"}),v(" Rp. "+i(a(H)(M.row.balance)),1)])):k("",!0)]),_:2},1032,["props"]),e(L,{key:"type",props:M},{default:l(()=>[v(i(z.$CONSTANTS.FINANCE_ACCOUNT_TYPES[M.row.type]),1)]),_:2},1032,["props"]),e(L,{key:"balance",props:M},{default:l(()=>[v(i(a(H)(M.row.balance)),1)]),_:2},1032,["props"]),e(L,{key:"action",props:M},{default:l(()=>[t("div",bu,[z.$can("admin.finance-account.add")||z.$can("admin.finance-account.edit")||z.$can("admin.finance-account.delete")?(p(),P(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:T[5]||(T[5]=J(()=>{},["stop"]))},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"200px"}},{default:l(()=>[z.$can("admin.finance-account.add")?ee((p(),P(ae,{key:0,clickable:"",onClick:J(j=>a(X).get(z.route("admin.finance-account.duplicate",M.row.id)),["stop"])},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"file_copy"})]),_:1}),e(B,null,{default:l(()=>[...T[8]||(T[8]=[v(" Duplikat ",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),z.$can("admin.finance-account.edit")?ee((p(),P(ae,{key:1,clickable:"",onClick:J(j=>a(X).get(z.route("admin.finance-account.edit",M.row.id)),["stop"])},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"edit"})]),_:1}),e(B,null,{default:l(()=>[...T[9]||(T[9]=[v("Edit",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),z.$can("admin.finance-account.delete")?ee((p(),P(ae,{key:2,onClick:J(j=>w(M.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"delete_forever"})]),_:1}),e(B,null,{default:l(()=>[...T[10]||(T[10]=[v("Hapus",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Xe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",su,[e(de,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:c.type,"onUpdate:modelValue":[T[2]||(T[2]=M=>c.type=M),C],options:I,label:"Jenis Akun",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(de,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:c.status,"onUpdate:modelValue":[T[3]||(T[3]=M=>c.status=M),C],options:S,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:c.search,"onUpdate:modelValue":T[4]||(T[4]=M=>c.search=M),placeholder:"Cari",clearable:""},{append:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},yu=Object.freeze(Object.defineProperty({__proto__:null,default:vu},Symbol.toStringTag,{value:"Module"})),_u={class:"q-gutter-sm"},ku={class:"col col-md-6 q-pa-xs"},wu={class:"row"},hu={class:"detail"},$u={key:0},xu={key:1},Su={key:2},Vu={key:3},qu={colspan:"3",class:"bg-white"},al="Rincian Transaksi",Cu={__name:"Detail",setup(d){const n=fe();return(u,o)=>{const r=Q("i-head"),s=Q("authenticated-layout");return p(),h(W,null,[e(r,{title:al}),e(s,{"show-drawer-button":!0},{"left-button":l(()=>[t("div",_u,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=b=>u.$inertia.get(u.route("admin.finance-transaction.index")))})])]),title:l(()=>[t("span",{class:"text-subtitle2"},i(al))]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",ku,[t("div",wu,[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>[o[19]||(o[19]=t("div",{class:"text-subtitle1 text-bold text-grey-8"}," Rincian Transaksi Keuangan ",-1)),t("table",hu,[t("tbody",null,[t("tr",null,[o[1]||(o[1]=t("td",{style:{width:"110px"}},"Kode Trx",-1)),o[2]||(o[2]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,i(a(n).props.data.formatted_id),1)]),t("tr",null,[o[3]||(o[3]=t("td",null,"Tanggal",-1)),o[4]||(o[4]=t("td",null,":",-1)),t("td",null,i(a(be)(a(n).props.data.datetime)),1)]),a(n).props.data.account?(p(),h("tr",$u,[o[6]||(o[6]=t("td",null,"Akun",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,[v(i(a(n).props.data.account.name)+" ",1),a(n).props.data.account.type==="bank"?(p(),h(W,{key:0},[v(" Rek "+i(a(n).props.data.account.bank)+" an "+i(a(n).props.data.account.holder)+" ",1),o[5]||(o[5]=t("br",null,null,-1)),v(" "+i(a(n).props.data.account.number),1)],64)):k("",!0)])])):k("",!0),a(n).props.data.type?(p(),h("tr",xu,[o[8]||(o[8]=t("td",null,"Jenis",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,i(u.$CONSTANTS.FINANCE_TRANSACTION_TYPES[a(n).props.data.type]),1)])):k("",!0),t("tr",null,[o[10]||(o[10]=t("td",null,"Jumlah",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,i(a(Nt)(a(n).props.data.amount))+" Rp. "+i(a(H)(Math.abs(a(n).props.data.amount))),1)]),t("tr",null,[o[12]||(o[12]=t("td",null,"Catatan",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.notes),1)]),a(n).props.data.creator?(p(),h("tr",Su,[o[14]||(o[14]=t("td",null,"Dibuat",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,i(a(be)(a(n).props.data.created_at))+" oleh "+i(a(n).props.data.creator.name),1)])):k("",!0),a(n).props.data.updater?(p(),h("tr",Vu,[o[16]||(o[16]=t("td",null,"Diperbarui",-1)),o[17]||(o[17]=t("td",null,":",-1)),t("td",null,i(a(be)(a(n).props.data.updated_at))+" oleh "+i(a(n).props.data.updater.name),1)])):k("",!0),a(n).props.data.image_path?(p(),h(W,{key:4},[o[18]||(o[18]=t("tr",null,[t("td",null,"Lampiran"),t("td",null,":"),t("td")],-1)),t("tr",null,[t("td",qu,[e(Kt,{src:`/${a(n).props.data.image_path}`,class:"q-mt-none",style:Ee([{"max-width":"500px"},{border:"1px solid #ddd"}])},null,8,["src"])])])],64)):k("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Tu=Object.freeze(Object.defineProperty({__proto__:null,default:Cu},Symbol.toStringTag,{value:"Module"})),Pu={class:"q-gutter-sm"},Ou={class:"col col-md-6 q-pa-xs"},Iu={__name:"Editor",setup(d){var f;const n=fe(),u=(n.props.data.id?"Edit":"Catat")+" Transaksi Keuangan",o=n.props.accounts.map(m=>({label:m.name,value:m.id})),r=[{label:"Pemasukan (+)",value:"income"},{label:"Pengeluaran (-)",value:"expense"},{label:"Transfer",value:"transfer"}],s=He({id:n.props.data.id,account_id:n.props.data.account_id,to_account_id:n.props.data.to_account_id??null,type:n.props.data.type,datetime:new Date(n.props.data.datetime),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount),image_path:((f=n.props.data)==null?void 0:f.image_path)??"",image:null}),b=()=>{Wt(s,{datetime:"YYYY-MM-DD HH:mm:ss"}),Ge({form:s,url:route("admin.finance-transaction.save")})};return(m,c)=>{const y=Q("i-head"),_=Q("authenticated-layout");return p(),h(W,null,[e(y,{title:u}),e(_,null,{title:l(()=>[v(i(u))]),"left-button":l(()=>[t("div",Pu,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=g=>m.$inertia.get(m.route("admin.finance-transaction.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Ou,[e(ze,{class:"row",onSubmit:J(b,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[ee(t("input",{type:"hidden",name:"id","onUpdate:modelValue":c[1]||(c[1]=g=>a(s).id=g)},null,512),[[dt,a(s).id]]),e(Bt,{modelValue:a(s).datetime,"onUpdate:modelValue":c[2]||(c[2]=g=>a(s).datetime=g),label:"Waktu",error:!!a(s).errors.datetime,disable:a(s).processing,errorMessage:a(s).errors.datetime,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(de,{autofocus:"",modelValue:a(s).type,"onUpdate:modelValue":c[3]||(c[3]=g=>a(s).type=g),label:"Jenis Transaksi",options:r,"map-options":"","emit-value":"",error:!!a(s).errors.type,disable:a(s).processing,errorMessage:a(s).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(de,{class:"custom-select",modelValue:a(s).account_id,"onUpdate:modelValue":c[4]||(c[4]=g=>a(s).account_id=g),label:a(s).type=="transfer"?"Akun Asal":"Akun",options:a(o),"map-options":"","emit-value":"",errorMessage:a(s).errors.account_id,error:!!a(s).errors.account_id,disable:a(s).processing,"hide-bottom-space":""},null,8,["modelValue","label","options","errorMessage","error","disable"]),a(s).type=="transfer"?(p(),P(de,{key:0,class:"custom-select",modelValue:a(s).to_account_id,"onUpdate:modelValue":c[5]||(c[5]=g=>a(s).to_account_id=g),label:"Akun Tujuan",options:a(o),"map-options":"","emit-value":"",errorMessage:a(s).errors.to_account_id,error:!!a(s).errors.to_account_id,disable:a(s).processing,"hide-bottom-space":""},null,8,["modelValue","options","errorMessage","error","disable"])):k("",!0),e(De,{modelValue:a(s).amount,"onUpdate:modelValue":c[6]||(c[6]=g=>a(s).amount=g),label:"Jumlah",lazyRules:"",disable:a(s).processing,error:!!a(s).errors.amount,errorMessage:a(s).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(oe,{modelValue:a(s).notes,"onUpdate:modelValue":c[7]||(c[7]=g=>a(s).notes=g),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(s).processing,error:!!a(s).errors.notes,"error-message":a(s).errors.notes,rules:[g=>g&&g.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(ha,{modelValue:a(s).image,"onUpdate:modelValue":c[8]||(c[8]=g=>a(s).image=g),"initial-image-path":a(s).image_path,disabled:a(s).processing,error:!!a(s).errors.image||!!a(s).errors.image_path,"error-message":a(s).errors.image||a(s).errors.image_path},null,8,["modelValue","initial-image-path","disabled","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(A,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(s).processing},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",disable:a(s).processing,onClick:c[9]||(c[9]=g=>a(X).get(m.route("admin.finance-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Ru=Object.freeze(Object.defineProperty({__proto__:null,default:Iu},Symbol.toStringTag,{value:"Module"})),Du={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Au={class:"q-pa-xs"},Uu={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ju={class:"text-grey-8"},Eu={class:"text-bold text-grey-8"},Mu={class:"flex justify-end no-wrap"},ll="Transaksi Kas",Nu={__name:"Index",setup(d){const n=fe(),u=$e(),o=q(!1),r=q([]),s=q(!0),b=q(null),f=q(null),m=Ke(f),c=Yt(),y=Qt(),_=[{label:"Semua",value:"all"},...n.props.accounts.map(j=>({label:j.name,value:j.id}))],g=[{label:"Semua Tahun",value:"all"},{label:`${c}`,value:c},...Rt(c-2,c-1).reverse()],S=[{value:"all",label:"Semua Bulan"},...Dt()],I=[{value:"all",label:"Semua"},...et(window.CONSTANTS.FINANCE_TRANSACTION_TYPES)],w=Pe({search:"",type:"all",account_id:"all",year:c,month:y,...Ae()}),R=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),C=[{name:"id",label:u.screen.lt.md?"Item":"Kode Trx",field:"id",align:"left",sortable:!0},{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"type",label:"Jenis",field:"type",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}];we(()=>{O()});const $=j=>tt({message:`Penghapusan transaksi keuangan bisa mengakibatkan data yang saling berkaitan di modul lain tidak konsisten. Anda setuju untuk menghapus transaksi ${j.formatted_id}?`,url:route("admin.finance-transaction.delete",j.id),fetchItemsCallback:O,loading:s}),O=(j=null)=>{Ue({pagination:R,filter:w,props:j,rows:r,url:route("admin.finance-transaction.data"),loading:s,tableRef:b})},z=()=>{O()},T=G(()=>u.screen.gt.sm?C:C.filter(j=>j.name==="id"||j.name==="action"));Me(()=>w.year,j=>{j===null&&(w.month=null)});const D=q(null),E=q(!1),M=j=>{D.value=j,E.value=!0};return(j,x)=>{const Y=Q("i-head"),se=Q("authenticated-layout");return p(),h(W,null,[e(Y,{title:ll}),e(se,null,Fe({title:l(()=>[v(i(ll))]),"right-button":l(()=>[e(A,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:x[0]||(x[0]=N=>o.value=!o.value)},null,8,["icon"]),j.$can("admin.finance-transaction.add")?(p(),P(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:x[1]||(x[1]=N=>a(X).get(j.route("admin.finance-transaction.add")))})):k("",!0)]),default:l(()=>[t("div",Au,[e(Te,{ref_key:"tableRef",ref:b,style:Ee({height:a(m)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:R.value,"onUpdate:pagination":x[8]||(x[8]=N=>R.value=N),filter:w.search,loading:s.value,columns:T.value,rows:r.value,"rows-per-page-options":[10,25,50],onRequest:O,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:N,message:U,filter:Z})=>[t("div",Uu,[t("span",null,i(U)+" "+i(Z?" with term "+Z:""),1)])]),body:l(N=>[e(qe,{props:N,class:"cursor-pointer",onClick:J(U=>a(X).get(j.route("admin.finance-transaction.detail",{id:N.row.id})),["stop"])},{default:l(()=>[e(L,{key:"id",props:N},{default:l(()=>[t("div",null,[a(u).screen.lt.md?(p(),P(V,{key:0,class:"inline-icon",name:"tag"})):k("",!0),v(" "+i(N.row.formatted_id),1)]),a(u).screen.lt.md?(p(),h(W,{key:0},[t("div",ju,[e(V,{class:"inline-icon",name:"calendar_clock"}),v(" "+i(a(be)(N.row.datetime)),1)]),t("div",Eu,[e(V,{name:"wallet",class:"inline-icon"}),v(" "+i(N.row.account.name),1)]),t("div",{class:xe(["text-bold",N.row.amount<0?"text-red":"text-green"])},[e(V,{name:"money",class:"inline-icon"}),v(" "+i(a(Nt)(N.row.amount)+"Rp."+a(H)(Math.abs(N.row.amount))),1)],2),N.row.notes?(p(),P(ke,{key:0,icon:"notes",text:N.row.notes,class:"text-grey-8"},null,8,["text"])):k("",!0),e(ut,{color:N.row.amount>0?"green":"red"},{default:l(()=>[v(i(N.row.type_label),1)]),_:2},1032,["color"])],64)):k("",!0)]),_:2},1032,["props"]),e(L,{key:"datetime",props:N,class:"wrap-column"},{default:l(()=>[v(i(a(be)(N.row.datetime)),1)]),_:2},1032,["props"]),e(L,{key:"account",props:N},{default:l(()=>{var U;return[v(i((U=N.row.account)==null?void 0:U.name),1)]}),_:2},1032,["props"]),e(L,{key:"type",props:N},{default:l(()=>[v(i(j.$CONSTANTS.FINANCE_TRANSACTION_TYPES[N.row.type]),1)]),_:2},1032,["props"]),e(L,{key:"amount",props:N,style:{"text-align":"right"}},{default:l(()=>[v(i(a(na)(N.row.amount)),1)]),_:2},1032,["props"]),e(L,{key:"notes",props:N,class:"wrap-column"},{default:l(()=>[v(i(N.row.notes),1)]),_:2},1032,["props"]),e(L,{key:"action",props:N},{default:l(()=>[t("div",Mu,[e(A,{icon:"image",color:"primary",dense:"",flat:"",disable:N.row.image_path===null||N.row.image_path==="",onClick:J(U=>M(N.row.image_path),["stop"])},{default:l(()=>[N.row.image_path!=null?(p(),P(sa,{key:0},{default:l(()=>[...x[10]||(x[10]=[v(" Lihat Bukti ",-1)])]),_:1})):k("",!0)]),_:2},1032,["disable","onClick"]),j.$can("admin.finance-transaction.delete")?(p(),P(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:x[7]||(x[7]=J(()=>{},["stop"]))},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"200px"}},{default:l(()=>[j.$can("admin.finance-transaction.delete")?ee((p(),P(ae,{key:0,onClick:J(U=>$(N.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"delete_forever"})]),_:1}),e(B,null,{default:l(()=>[...x[11]||(x[11]=[v("Hapus",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])]),e(ra,{modelValue:E.value,"onUpdate:modelValue":x[9]||(x[9]=N=>E.value=N),imageUrl:`/${D.value}`},null,8,["modelValue","imageUrl"])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Xe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:f},{default:l(()=>[t("div",Du,[e(de,{modelValue:w.year,"onUpdate:modelValue":[x[2]||(x[2]=N=>w.year=N),z],options:g,label:"Tahun",dense:"",outlined:"",class:"custom-select col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),w.year!="all"?(p(),P(de,{key:0,modelValue:w.month,"onUpdate:modelValue":[x[3]||(x[3]=N=>w.month=N),z],options:S,label:"Bulan",dense:"",outlined:"",class:"custom-select col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:w.year===null},null,8,["modelValue","disable"])):k("",!0),e(de,{modelValue:w.type,"onUpdate:modelValue":[x[4]||(x[4]=N=>w.type=N),z],options:I,label:"Jenis",dense:"",class:"custom-select col-xs-6 col-sm-2","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(de,{modelValue:w.account_id,"onUpdate:modelValue":[x[5]||(x[5]=N=>w.account_id=N),z],label:"Akun",options:_,"map-options":"","emit-value":"",class:"custom-select col-xs-6 col-sm-2",outlined:"",dense:""},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:w.search,"onUpdate:modelValue":x[6]||(x[6]=N=>w.search=N),placeholder:"Cari",clearable:""},{append:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Bu=Object.freeze(Object.defineProperty({__proto__:null,default:Nu},Symbol.toStringTag,{value:"Module"})),zu={class:"q-gutter-sm"},Fu={class:"col col-md-6 q-pa-xs"},Lu={__name:"Editor",setup(d){const n=fe(),u=(n.props.data.id?"Edit":"Tambah")+" Kategori Operasional",o=He({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description}),r=()=>Ge({form:o,url:route("admin.operational-cost-category.save")});return(s,b)=>{const f=Q("i-head"),m=Q("authenticated-layout");return p(),h(W,null,[e(f,{title:u}),e(m,null,{title:l(()=>[v(i(u))]),"left-button":l(()=>[t("div",zu,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=c=>s.$goBack())})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Fu,[e(ze,{class:"row",onSubmit:J(r,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[ee(t("input",{type:"hidden",name:"id","onUpdate:modelValue":b[1]||(b[1]=c=>a(o).id=c)},null,512),[[dt,a(o).id]]),e(oe,{autofocus:"",modelValue:a(o).name,"onUpdate:modelValue":b[2]||(b[2]=c=>a(o).name=c),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!a(o).errors.name,disable:a(o).processing,"error-message":a(o).errors.name,rules:[c=>c&&c.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(oe,{modelValue:a(o).description,"onUpdate:modelValue":b[3]||(b[3]=c=>a(o).description=c),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.description,"error-message":a(o).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(A,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(o).processing},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",disable:a(o).processing,onClick:b[4]||(b[4]=c=>a(o).reset())},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Hu=Object.freeze(Object.defineProperty({__proto__:null,default:Lu},Symbol.toStringTag,{value:"Module"})),Ku={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Yu={class:"q-pa-xs"},Qu={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Wu={key:0,class:"text-grey-8"},Ju={class:"flex justify-end"},ol="Kategori Biaya Operasional",Gu={__name:"Index",setup(d){const n=$e(),u=q(!1),o=q([]),r=q(!0),s=q(null),b=q(null),f=Ke(b),m=Pe({search:"",...Ae()}),c=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];we(()=>{g()});const _=I=>tt({message:`Hapus Kategori Biaya ${I.name}?`,url:route("admin.operational-cost-category.delete",I.id),fetchItemsCallback:g,loading:r}),g=(I=null)=>{Ue({pagination:c,filter:m,props:I,rows:o,url:route("admin.operational-cost-category.data"),loading:r,tableRef:s})},S=G(()=>n.screen.gt.sm?y:y.filter(I=>I.name==="name"||I.name==="action"));return(I,w)=>{const R=Q("i-head"),C=Q("authenticated-layout");return p(),h(W,null,[e(R,{title:ol}),e(C,null,Fe({title:l(()=>[v(i(ol))]),"right-button":l(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:w[0]||(w[0]=$=>u.value=!u.value)},null,8,["icon"]),I.$can("admin.operational-cost-category.add")?(p(),P(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:w[1]||(w[1]=$=>a(X).get(I.route("admin.operational-cost-category.add")))})):k("",!0)]),default:l(()=>[t("div",Yu,[e(Te,{ref_key:"tableRef",ref:s,class:"full-height-table",style:Ee({height:a(f)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":w[4]||(w[4]=$=>c.value=$),filter:m.search,loading:r.value,columns:S.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:g,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:$,message:O,filter:z})=>[t("div",Qu,[t("span",null,i(O)+" "+i(z?" with term "+z:""),1)])]),body:l($=>[e(qe,{props:$},{default:l(()=>[e(L,{key:"name",props:$,class:"wrap-column"},{default:l(()=>[v(i($.row.name)+" ",1),a(n).screen.gt.sm?k("",!0):(p(),h(W,{key:0},[$.row.description?(p(),h("div",Wu,[e(V,{name:"description"}),v(" "+i($.row.description),1)])):k("",!0)],64))]),_:2},1032,["props"]),e(L,{key:"description",props:$,class:"wrap-column"},{default:l(()=>[v(i($.row.description),1)]),_:2},1032,["props"]),e(L,{key:"action",props:$},{default:l(()=>[t("div",Ju,[I.$can("admin.operational-cost-category.add")||I.$can("admin.operational-cost-category.edit")||I.$can("admin.operational-cost-category.delete")?(p(),P(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:w[3]||(w[3]=J(()=>{},["stop"]))},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"200px"}},{default:l(()=>[I.$can("admin.operational-cost-category.add")?ee((p(),P(ae,{key:0,clickable:"",onClick:J(O=>a(X).get(I.route("admin.operational-cost-category.duplicate",$.row.id)),["stop"])},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"file_copy"})]),_:1}),e(B,null,{default:l(()=>[...w[5]||(w[5]=[v("Duplikat",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),I.$can("admin.operational-cost-category.edit")?ee((p(),P(ae,{key:1,clickable:"",onClick:J(O=>a(X).get(I.route("admin.operational-cost-category.edit",$.row.id)),["stop"])},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"edit"})]),_:1}),e(B,null,{default:l(()=>[...w[6]||(w[6]=[v("Edit",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),I.$can("admin.operational-cost-category.delete")?ee((p(),P(ae,{key:2,onClick:J(O=>_($.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"delete_forever"})]),_:1}),e(B,null,{default:l(()=>[...w[7]||(w[7]=[v("Hapus",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[u.value?{name:"header",fn:l(()=>[e(Xe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",Ku,[e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":w[2]||(w[2]=$=>m.search=$),placeholder:"Cari",clearable:""},{append:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Xu=Object.freeze(Object.defineProperty({__proto__:null,default:Gu},Symbol.toStringTag,{value:"Module"})),Zu={class:"q-gutter-sm"},em={class:"col col-md-6 q-pa-xs"},tm={class:"row"},am={class:"detail"},lm={key:0},om={key:1},nm={key:2},sm={key:3},rm={colspan:"3",class:"bg-white"},nl="Rincian Biaya Operasional",im={__name:"Detail",setup(d){const n=fe();return(u,o)=>{const r=Q("i-head"),s=Q("authenticated-layout");return p(),h(W,null,[e(r,{title:nl}),e(s,{"show-drawer-button":!0},{"left-button":l(()=>[t("div",Zu,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=b=>u.$inertia.get(u.route("admin.operational-cost.index")))})])]),title:l(()=>[t("span",{class:"text-subtitle2"},i(nl))]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",em,[t("div",tm,[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>[o[21]||(o[21]=t("div",{class:"text-subtitle1 text-bold text-grey-8"}," Rincian Biaya Operasional ",-1)),t("table",am,[t("tbody",null,[t("tr",null,[o[1]||(o[1]=t("td",{style:{width:"110px"}},"ID",-1)),o[2]||(o[2]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,i(a(n).props.data.id),1)]),t("tr",null,[o[3]||(o[3]=t("td",null,"Tanggal",-1)),o[4]||(o[4]=t("td",null,":",-1)),t("td",null,i(a(Ht)(a(n).props.data.date)),1)]),a(n).props.data.finance_account?(p(),h("tr",lm,[o[6]||(o[6]=t("td",null,"Akun",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,[v(i(a(n).props.data.finance_account.name)+" ",1),a(n).props.data.finance_account.type==="bank"?(p(),h(W,{key:0},[v(" Rek "+i(a(n).props.data.finance_account.bank)+" an "+i(a(n).props.data.finance_account.holder)+" ",1),o[5]||(o[5]=t("br",null,null,-1)),v(" "+i(a(n).props.data.finance_account.number),1)],64)):k("",!0)])])):k("",!0),a(n).props.data.category?(p(),h("tr",om,[o[8]||(o[8]=t("td",null,"Kategori",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.category.name),1)])):k("",!0),t("tr",null,[o[10]||(o[10]=t("td",null,"Deskripsi",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.description),1)]),t("tr",null,[o[12]||(o[12]=t("td",null,"Jumlah",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,"Rp. "+i(a(H)(a(n).props.data.amount)),1)]),t("tr",null,[o[14]||(o[14]=t("td",null,"Catatan",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.notes),1)]),a(n).props.data.creator?(p(),h("tr",nm,[o[16]||(o[16]=t("td",null,"Dibuat",-1)),o[17]||(o[17]=t("td",null,":",-1)),t("td",null,i(a(be)(a(n).props.data.created_at))+" oleh "+i(a(n).props.data.creator.name),1)])):k("",!0),a(n).props.data.updater?(p(),h("tr",sm,[o[18]||(o[18]=t("td",null,"Diperbarui",-1)),o[19]||(o[19]=t("td",null,":",-1)),t("td",null,i(a(be)(a(n).props.data.updated_at))+" oleh "+i(a(n).props.data.updater.name),1)])):k("",!0),a(n).props.data.image_path?(p(),h(W,{key:4},[o[20]||(o[20]=t("tr",null,[t("td",null,"Lampiran"),t("td",null,":"),t("td")],-1)),t("tr",null,[t("td",rm,[e(Kt,{src:`/${a(n).props.data.image_path}`,class:"q-mt-none",style:Ee([{"max-width":"500px"},{border:"1px solid #ddd"}])},null,8,["src"])])])],64)):k("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},dm=Object.freeze(Object.defineProperty({__proto__:null,default:im},Symbol.toStringTag,{value:"Module"})),um={class:"row items-center justify-end"},mm={__name:"DatePicker",props:{modelValue:{type:[Date,null],required:!1,default:null},label:String,readonly:Boolean,disable:Boolean,error:Boolean,errorMessage:String,rules:{type:Array,default:()=>[]},minDate:{type:[Date,null],default:null},maxDate:{type:[Date,null],default:null},displayFormat:{type:String,default:"DD/MM/YYYY"}},emits:["update:modelValue"],setup(d,{emit:n}){const u=d,o=n,r=q(""),s=q(""),b=c=>{let y=!0;const _=u.minDate?nt.formatDate(u.minDate,"YYYY/MM/DD"):null,g=u.maxDate?nt.formatDate(u.maxDate,"YYYY/MM/DD"):null;return _&&(y=y&&nt.isBetweenDates(c,_,"2999/01/01",{inclusiveFrom:!0})),g&&(y=y&&nt.isBetweenDates(c,"1900/01/01",g,{inclusiveTo:!0})),y},f=G(()=>[c=>!!c||"Tanggal harus diisi",c=>{const y=nt.extractDate(c,u.displayFormat);if(!y)return"Format tanggal tidak valid";y.setHours(0,0,0,0);const _=u.minDate?new Date(u.minDate):null;_&&_.setHours(0,0,0,0);const g=u.maxDate?new Date(u.maxDate):null;return g&&g.setHours(0,0,0,0),_&&y<_?`Tanggal tidak boleh kurang dari ${nt.formatDate(u.minDate,u.displayFormat)}`:g&&y>g?`Tanggal tidak boleh lebih dari ${nt.formatDate(u.maxDate,u.displayFormat)}`:(o("update:modelValue",y),!0)}]);Me(()=>u.modelValue,c=>{c instanceof Date?(s.value=nt.formatDate(c,"YYYY/MM/DD"),r.value=nt.formatDate(c,u.displayFormat)):(s.value="",r.value="")},{immediate:!0});const m=c=>{const y=c!==null?new Date(c):null;o("update:modelValue",y),r.value=y?nt.formatDate(y,u.displayFormat):null};return(c,y)=>(p(),P(oe,{modelValue:r.value,"onUpdate:modelValue":y[1]||(y[1]=_=>r.value=_),label:u.label,readonly:u.readonly,disable:u.disable,error:u.error,"error-message":u.errorMessage,mask:u.displayFormat.replaceAll("D","#").replaceAll("M","#").replaceAll("Y","#"),rules:f.value},{append:l(()=>[e(V,{name:"event",class:"cursor-pointer"},{default:l(()=>[e(vn,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(yn,{modelValue:s.value,"onUpdate:modelValue":[y[0]||(y[0]=_=>s.value=_),m],options:b},{default:l(()=>[t("div",um,[ee(e(A,{label:"Close",color:"primary",flat:""},null,512),[[ue]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label","readonly","disable","error","error-message","mask","rules"]))}},$a=vt(mm,[["__scopeId","data-v-38faf9a9"]]);function ao(d,n=!1){const u=d.map(b=>({value:b.id,label:b.name})),o=n?[{value:"all",label:"Semua"},...u]:u,r=q([...o]);return{filteredCostCategories:r,filterCostCategory:(b,f)=>{const m=b.toLowerCase();f(()=>{r.value=o.filter(c=>c.label.toLowerCase().includes(m))})},costCategoryOptions:o}}const cm={class:"q-gutter-sm"},pm={class:"col col-md-6 q-pa-xs"},fm={__name:"Editor",setup(d){var _;const n=fe(),u=(n.props.data.id?"Edit":"Tambah")+" Biaya Operasional",{costCategoryOptions:o}=ao(n.props.categories),r=n.props.finance_accounts.map(g=>({label:g.name,value:g.id})),s=q(o),b=q([...s.value]),f=He({id:n.props.data.id,finance_account_id:n.props.data.finance_account_id??null,category_id:n.props.data.category_id??null,date:new Date(n.props.data.date),description:n.props.data.description,notes:n.props.data.notes,amount:parseFloat(n.props.data.amount),image_path:((_=n.props.data)==null?void 0:_.image_path)??null,image:null}),m=()=>{Wt(f,{date:"YYYY-MM-DD"}),Ge({form:f,url:route("admin.operational-cost.save")})},c=(g,S)=>{S(()=>{b.value=s.value.filter(I=>I.label.toLowerCase().includes(g.toLowerCase()))})},y=()=>{f.image_path=null};return(g,S)=>{const I=Q("i-head"),w=Q("authenticated-layout");return p(),h(W,null,[e(I,{title:u}),e(w,null,{title:l(()=>[v(i(u))]),"left-button":l(()=>[t("div",cm,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:S[0]||(S[0]=R=>g.$inertia.get(g.route("admin.operational-cost.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",pm,[e(ze,{class:"row",onSubmit:J(m,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[ee(t("input",{type:"hidden",name:"id","onUpdate:modelValue":S[1]||(S[1]=R=>a(f).id=R)},null,512),[[dt,a(f).id]]),e(de,{autofocus:"",modelValue:a(f).category_id,"onUpdate:modelValue":S[2]||(S[2]=R=>a(f).category_id=R),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:b.value,"map-options":"","emit-value":"",onFilter:c,error:!!a(f).errors.category_id,disable:a(f).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(ae,null,{default:l(()=>[e(B,null,{default:l(()=>[...S[10]||(S[10]=[v("Kategori tidak ditemukan",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","error","disable"]),e($a,{modelValue:a(f).date,"onUpdate:modelValue":S[3]||(S[3]=R=>a(f).date=R),label:"Tanggal",error:!!a(f).errors.date,disable:a(f).processing,"hide-bottom-space":""},null,8,["modelValue","error","disable"]),e(oe,{modelValue:a(f).description,"onUpdate:modelValue":S[4]||(S[4]=R=>a(f).description=R),modelModifiers:{trim:!0},label:"Deskripsi","lazy-rules":"",error:!!a(f).errors.description,disable:a(f).processing,"error-message":a(f).errors.description,rules:[R=>R&&R.length>0||"Deskripsi harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(De,{modelValue:a(f).amount,"onUpdate:modelValue":S[5]||(S[5]=R=>a(f).amount=R),label:"Jumlah",lazyRules:"",disable:a(f).processing,error:!!a(f).errors.amount,errorMessage:a(f).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(de,{class:"custom-select",modelValue:a(f).finance_account_id,"onUpdate:modelValue":S[6]||(S[6]=R=>a(f).finance_account_id=R),label:"Sumber Dana",options:a(r),"map-options":"","emit-value":"",clearable:"",errorMessage:a(f).errors.finance_account_id,error:!!a(f).errors.finance_account_id,disable:a(f).processing,"hide-bottom-space":""},null,8,["modelValue","options","errorMessage","error","disable"]),e(oe,{modelValue:a(f).notes,"onUpdate:modelValue":S[7]||(S[7]=R=>a(f).notes=R),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(f).processing,error:!!a(f).errors.notes,"error-message":a(f).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(ha,{modelValue:a(f).image,"onUpdate:modelValue":S[8]||(S[8]=R=>a(f).image=R),"initial-image-path":a(f).image_path,disabled:a(f).processing,error:!!a(f).errors.image||!!a(f).errors.image_path,"error-message":a(f).errors.image||a(f).errors.image_path,onImageCleared:y},null,8,["modelValue","initial-image-path","disabled","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(A,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(f).processing},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",disable:a(f).processing,onClick:S[9]||(S[9]=R=>a(X).get(g.route("admin.operational-cost.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},gm=Object.freeze(Object.defineProperty({__proto__:null,default:fm},Symbol.toStringTag,{value:"Module"})),bm={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},vm={class:"q-pa-xs"},ym={class:"full-width row flex-center text-grey-8 q-gutter-sm"},_m={key:0},km={key:1},wm={key:0},hm={class:"flex justify-end no-wrap"},sl="Biaya Operasional",$m={__name:"Index",setup(d){const n=fe(),u=$e(),o=q(!1),r=q(null),s=q(null),b=Ke(s),f=q(null),m=q(!1),c=q([]),y=q(!0),_=new Date().getFullYear(),g=new Date().getMonth()+1,S=[{label:"Semua Tahun",value:null},{label:`${_}`,value:_},...Rt(_-2,_-1).reverse()],I=[{value:null,label:"Semua Bulan"},...Dt()],{costCategoryOptions:w}=ao(n.props.categories),R=[{value:"all",label:"Semua"},{value:null,label:"Tanpa Kategori"},...w],{accountOptions:C}=_n(n.props.finance_accounts),$=[{value:"all",label:"Semua"},{value:null,label:"Tidak Diset"},...C],O=Pe({search:"",category_id:"all",year:_,month:g,...Ae()}),z=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),T=[{name:"id",label:u.screen.lt.md?"Item":"ID",field:"id",align:"left",sortable:!0},{name:"date",label:"Tanggal",field:"date",align:"left",sortable:!0},{name:"account_id",label:"Akun",field:"account_id",align:"left",sortable:!0},{name:"category_id",label:"Kategori",field:"category_id",align:"left",sortable:!0},{name:"description",label:"Deskripsi",field:"description",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right",sortable:!0},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}];we(()=>{E()});const D=Y=>tt({message:`Hapus Biaya ${Y.description}?`,url:route("admin.operational-cost.delete",Y.id),fetchItemsCallback:E,loading:y}),E=(Y=null)=>{Ue({pagination:z,filter:O,props:Y,rows:c,url:route("admin.operational-cost.data"),loading:y,tableRef:r})},M=()=>{E()},j=G(()=>u.screen.gt.sm?T:T.filter(Y=>Y.name==="id"||Y.name==="action"));Me(()=>O.year,Y=>{Y===null&&(O.month=null)});const x=Y=>{f.value=Y,m.value=!0};return(Y,se)=>{const N=Q("i-head"),U=Q("authenticated-layout");return p(),h(W,null,[e(N,{title:sl}),e(U,null,Fe({title:l(()=>[v(i(sl))]),"right-button":l(()=>[e(A,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:se[0]||(se[0]=Z=>o.value=!o.value)},null,8,["icon"]),Y.$can("admin.operational-cost.add")?(p(),P(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:se[1]||(se[1]=Z=>a(X).get(Y.route("admin.operational-cost.add")))})):k("",!0)]),default:l(()=>[t("div",vm,[e(Te,{ref_key:"tableRef",ref:r,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:z.value,"onUpdate:pagination":se[8]||(se[8]=Z=>z.value=Z),filter:O.search,loading:y.value,columns:j.value,rows:c.value,"rows-per-page-options":[10,25,50],style:Ee({height:a(b)}),onRequest:E,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:Z,message:he,filter:le})=>[t("div",ym,[t("span",null,i(he)+" "+i(le?" with term "+le:""),1)])]),body:l(Z=>[e(qe,{props:Z,class:"cursor-pointer",onClick:J(he=>a(X).get(Y.route("admin.operational-cost.detail",{id:Z.row.id})),["stop"])},{default:l(()=>[e(L,{key:"id",props:Z,class:"wrap-column"},{default:l(()=>[a(u).screen.gt.sm?k("",!0):(p(),h(W,{key:0},[v(" ID: ")],64)),v(" "+i(Z.row.id)+" ",1),a(u).screen.gt.sm?k("",!0):(p(),h(W,{key:1},[t("div",null,[e(V,{name:"calendar_clock",class:"inline-icon"}),v(" "+i(a(Ht)(Z.row.date)),1)]),Z.row.finance_account?(p(),h("div",_m,[e(V,{name:"wallet",class:"inline-icon"}),v(" "+i(Z.row.finance_account.name),1)])):k("",!0),Z.row.category?(p(),h("div",km,[e(V,{name:"category",class:"inline-icon"}),v(" "+i(Z.row.category.name),1)])):k("",!0),e(ke,{icon:"description",text:Z.row.description,class:"inline-icon"},null,8,["text"]),t("div",null,[e(V,{name:"money",class:"inline-icon"}),v(" Rp. "+i(a(H)(Z.row.amount)),1)]),e(ke,{icon:"notes",text:Z.row.notes,class:"inline-icon text-grey-9"},null,8,["text"])],64))]),_:2},1032,["props"]),e(L,{key:"date",props:Z,class:"wrap-column"},{default:l(()=>[v(i(a(Ht)(Z.row.date)),1)]),_:2},1032,["props"]),e(L,{key:"account_id",props:Z,class:"wrap-column"},{default:l(()=>[v(i(Z.row.finance_account?Z.row.finance_account.name:""),1)]),_:2},1032,["props"]),e(L,{key:"category_id",props:Z},{default:l(()=>[Z.row.category?(p(),h("div",wm,i(Z.row.category.name),1)):k("",!0)]),_:2},1032,["props"]),e(L,{key:"description",props:Z},{default:l(()=>[e(ke,{text:Z.row.description,"max-length":50},null,8,["text"])]),_:2},1032,["props"]),e(L,{key:"amount",props:Z},{default:l(()=>[v(i(a(H)(Z.row.amount)),1)]),_:2},1032,["props"]),e(L,{key:"notes",props:Z},{default:l(()=>[e(ke,{text:Z.row.notes,"max-length":50},null,8,["text"])]),_:2},1032,["props"]),e(L,{key:"action",props:Z},{default:l(()=>[t("div",hm,[e(A,{icon:"image",color:"primary",dense:"",flat:"",disable:Z.row.image_path===null||Z.row.image_path==="",onClick:J(he=>x(Z.row.image_path),["stop"])},{default:l(()=>[Z.row.image_path!=null?(p(),P(sa,{key:0},{default:l(()=>[...se[10]||(se[10]=[v(" Lihat Bukti ",-1)])]),_:1})):k("",!0)]),_:2},1032,["disable","onClick"]),Y.$can("admin.operational-cost.add")||Y.$can("admin.operational-cost.edit")||Y.$can("admin.operational-cost.delete")?(p(),P(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:se[7]||(se[7]=J(()=>{},["stop"]))},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"200px"}},{default:l(()=>[Y.$can("admin.operational-cost.add")?ee((p(),P(ae,{key:0,clickable:"",onClick:J(he=>a(X).get(Y.route("admin.operational-cost.duplicate",Z.row.id)),["stop"])},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"file_copy"})]),_:1}),e(B,null,{default:l(()=>[...se[11]||(se[11]=[v(" Duplikat ",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),Y.$can("admin.operational-cost.edit")?ee((p(),P(ae,{key:1,clickable:"",onClick:J(he=>a(X).get(Y.route("admin.operational-cost.edit",Z.row.id)),["stop"])},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"edit"})]),_:1}),e(B,null,{default:l(()=>[...se[12]||(se[12]=[v("Edit",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),Y.$can("admin.operational-cost.delete")?ee((p(),P(ae,{key:2,onClick:J(he=>D(Z.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"delete_forever"})]),_:1}),e(B,null,{default:l(()=>[...se[13]||(se[13]=[v("Hapus",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])]),e(ra,{modelValue:m.value,"onUpdate:modelValue":se[9]||(se[9]=Z=>m.value=Z),imageUrl:`/${f.value}`},null,8,["modelValue","imageUrl"])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Xe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:s},{default:l(()=>[t("div",bm,[e(de,{modelValue:O.year,"onUpdate:modelValue":[se[2]||(se[2]=Z=>O.year=Z),M],options:S,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(de,{modelValue:O.month,"onUpdate:modelValue":[se[3]||(se[3]=Z=>O.month=Z),M],options:I,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:O.year===null},null,8,["modelValue","disable"]),e(de,{modelValue:O.category_id,"onUpdate:modelValue":[se[4]||(se[4]=Z=>O.category_id=Z),M],options:R,label:"Kategori",dense:"",class:"custom-select col-xs-12 col-sm-3","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(de,{modelValue:O.finance_account_id,"onUpdate:modelValue":[se[5]||(se[5]=Z=>O.finance_account_id=Z),M],options:$,label:"Akun Kas",dense:"",class:"custom-select col-xs-12 col-sm-3","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:O.search,"onUpdate:modelValue":se[6]||(se[6]=Z=>O.search=Z),placeholder:"Cari",clearable:""},{append:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},xm=Object.freeze(Object.defineProperty({__proto__:null,default:$m},Symbol.toStringTag,{value:"Module"})),Sm={class:"q-gutter-sm"},Vm={class:"col col-md-6 q-pa-xs"},qm={__name:"Editor",setup(d){const n=$e(),u=fe(),o=(u.props.data.id?"Edit":"Tambah")+" Kategori Produk",r=He({id:u.props.data.id,name:u.props.data.name,description:u.props.data.description}),s=()=>Ge({form:r,url:route("admin.product-category.save")});return(b,f)=>{const m=Q("i-head"),c=Q("authenticated-layout");return p(),h(W,null,[e(m,{title:o}),e(c,{"show-drawer-button":!a(n).screen.lt.md},Fe({title:l(()=>[v(i(o))]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Vm,[e(ze,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[ee(t("input",{type:"hidden",name:"id","onUpdate:modelValue":f[1]||(f[1]=y=>a(r).id=y)},null,512),[[dt,a(r).id]]),e(oe,{autofocus:"",modelValue:a(r).name,"onUpdate:modelValue":f[2]||(f[2]=y=>a(r).name=y),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!a(r).errors.name,disable:a(r).processing,"error-message":a(r).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(oe,{modelValue:a(r).description,"onUpdate:modelValue":f[3]||(f[3]=y=>a(r).description=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:a(r).processing,error:!!a(r).errors.description,"error-message":a(r).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(A,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(r).processing,loading:a(r).processing},null,8,["disable","loading"]),e(A,{icon:"cancel",label:"Batal",disable:a(r).processing,onClick:f[4]||(f[4]=y=>a(r).reset())},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:2},[a(n).screen.lt.md?{name:"left-button",fn:l(()=>[t("div",Sm,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:f[0]||(f[0]=y=>b.$goBack())})])]),key:"0"}:void 0]),1032,["show-drawer-button"])],64)}}},Cm=Object.freeze(Object.defineProperty({__proto__:null,default:qm},Symbol.toStringTag,{value:"Module"})),Tm={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Pm={class:"q-pa-xs"},Om={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Im={key:0,class:"text-grey-8"},Rm={class:"flex justify-end"},rl="Kategori Produk",Dm={__name:"Index",setup(d){const n=$e(),u=q(!1),o=q([]),r=q(!0),s=q(null),b=q(null),f=Ke(b),m=Pe({search:"",...Ae()}),c=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];we(()=>{g()});const _=I=>tt({message:`Hapus Kategori ${I.name}?`,url:route("admin.product-category.delete",I.id),fetchItemsCallback:g,loading:r}),g=(I=null)=>{Ue({pagination:c,filter:m,props:I,rows:o,url:route("admin.product-category.data"),loading:r,tableRef:s})},S=G(()=>n.screen.gt.sm?y:y.filter(I=>I.name==="name"||I.name==="action"));return(I,w)=>{const R=Q("i-head"),C=Q("authenticated-layout");return p(),h(W,null,[e(R,{title:rl}),e(C,null,Fe({title:l(()=>[v(i(rl))]),"right-button":l(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:w[0]||(w[0]=$=>u.value=!u.value)},null,8,["icon"]),I.$can("admin.product-category.add")?(p(),P(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:w[1]||(w[1]=$=>a(X).get(I.route("admin.product-category.add")))})):k("",!0)]),default:l(()=>[t("div",Pm,[e(Te,{ref_key:"tableRef",ref:s,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":w[4]||(w[4]=$=>c.value=$),filter:m.search,loading:r.value,columns:S.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Ee({height:a(f)}),onRequest:g,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:$,message:O,filter:z})=>[t("div",Om,[t("span",null,i(O)+" "+i(z?" with term "+z:""),1)])]),body:l($=>[e(qe,{props:$},{default:l(()=>[e(L,{key:"name",props:$,class:"wrap-column"},{default:l(()=>[v(i($.row.name)+" ",1),a(n).screen.gt.sm?k("",!0):(p(),h(W,{key:0},[$.row.description?(p(),h("div",Im,[e(V,{name:"description"}),v(" "+i($.row.description),1)])):k("",!0)],64))]),_:2},1032,["props"]),e(L,{key:"description",props:$,class:"wrap-column"},{default:l(()=>[v(i($.row.description),1)]),_:2},1032,["props"]),e(L,{key:"action",props:$},{default:l(()=>[t("div",Rm,[I.$can("admin.product-category.add")||I.$can("admin.product-category.edit")||I.$can("admin.product-category.delete")?(p(),P(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:w[3]||(w[3]=J(()=>{},["stop"]))},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"200px"}},{default:l(()=>[I.$can("admin.product-category.add")?ee((p(),P(ae,{key:0,clickable:"",onClick:J(O=>a(X).get(I.route("admin.product-category.duplicate",$.row.id)),["stop"])},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"file_copy"})]),_:1}),e(B,null,{default:l(()=>[...w[5]||(w[5]=[v("Duplikat",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),I.$can("admin.product-category.edit")?ee((p(),P(ae,{key:1,clickable:"",onClick:J(O=>a(X).get(I.route("admin.product-category.edit",$.row.id)),["stop"])},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"edit"})]),_:1}),e(B,null,{default:l(()=>[...w[6]||(w[6]=[v("Edit",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),I.$can("admin.product-category.delete")?ee((p(),P(ae,{key:2,onClick:J(O=>_($.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"delete_forever"})]),_:1}),e(B,null,{default:l(()=>[...w[7]||(w[7]=[v("Hapus",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[u.value?{name:"header",fn:l(()=>[e(Xe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",Tm,[e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":w[2]||(w[2]=$=>m.search=$),placeholder:"Cari",clearable:""},{append:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Am=Object.freeze(Object.defineProperty({__proto__:null,default:Dm},Symbol.toStringTag,{value:"Module"})),Um={class:"detail"},jm={key:0},Em={key:1},Mm={key:2},Nm={class:"detail"},Bm={class:"detail"},zm={key:0},Fm={key:0},Lm={key:0},Hm={key:0},Km={class:"detail"},lo={__name:"MainInfoTab",props:{product:{type:Object,required:!0}},setup(d){const n=d;$e();const u=o=>`${o>0?H((o-n.product.cost)/o*100,2):0}%`;return(o,r)=>{const s=Q("i-link");return p(),h("div",null,[r[42]||(r[42]=t("div",{class:"text-subtitle1 text-bold text-grey-9"},"Info Produk",-1)),t("table",Um,[t("tbody",null,[t("tr",null,[r[0]||(r[0]=t("td",{style:{width:"120px"}},"ID",-1)),r[1]||(r[1]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,i(d.product.formatted_id),1)]),t("tr",null,[r[2]||(r[2]=t("td",null,"Nama Produk",-1)),r[3]||(r[3]=t("td",null,":",-1)),t("td",null,i(d.product.name),1)]),t("tr",null,[r[4]||(r[4]=t("td",null,"Barcode",-1)),r[5]||(r[5]=t("td",null,":",-1)),t("td",null,i(d.product.barcode),1)]),t("tr",null,[r[6]||(r[6]=t("td",null,"Jenis Produk",-1)),r[7]||(r[7]=t("td",null,":",-1)),t("td",null,i(o.$CONSTANTS.PRODUCT_TYPES[d.product.type]),1)]),t("tr",null,[r[8]||(r[8]=t("td",null,"Kategori",-1)),r[9]||(r[9]=t("td",null,":",-1)),t("td",null,i(d.product.category?d.product.category.name:"--Tidak memiliki kategori--"),1)]),o.$can("admin.product:view-supplier")?(p(),h("tr",jm,[r[10]||(r[10]=t("td",null,"Supplier",-1)),r[11]||(r[11]=t("td",null,":",-1)),t("td",null,[d.product.supplier?(p(),P(s,{key:0,href:o.route("admin.supplier.detail",{id:d.product.supplier.id})},{default:l(()=>[v(i(d.product.supplier.name),1)]),_:1},8,["href"])):(p(),h(W,{key:1},[v(i("--Tidak memiliki supplier--"))],64))])])):k("",!0),t("tr",null,[r[12]||(r[12]=t("td",null,"Status",-1)),r[13]||(r[13]=t("td",null,":",-1)),t("td",null,i(d.product.active?"Aktif":"Tidak Aktif"),1)]),d.product.created_at?(p(),h("tr",Em,[r[15]||(r[15]=t("td",null,"Dibuat Oleh",-1)),r[16]||(r[16]=t("td",null,":",-1)),t("td",null,[d.product.creator?(p(),h(W,{key:0},[e(s,{href:o.route("admin.user.detail",{id:d.product.creator})},{default:l(()=>[v(i(d.product.creator.username),1)]),_:1},8,["href"]),r[14]||(r[14]=v(" - ",-1))],64)):k("",!0),v(" "+i(a(be)(d.product.created_at)),1)])])):k("",!0),d.product.updater?(p(),h("tr",Mm,[r[18]||(r[18]=t("td",null,"Diperbarui oleh",-1)),r[19]||(r[19]=t("td",null,":",-1)),t("td",null,[d.product.updater?(p(),h(W,{key:0},[e(s,{href:o.route("admin.user.detail",{id:d.product.updater})},{default:l(()=>[v(i(d.product.updater.username),1)]),_:1},8,["href"]),r[17]||(r[17]=v(" - ",-1))],64)):k("",!0),v(" "+i(a(be)(d.product.updated_at)),1)])])):k("",!0)])]),r[43]||(r[43]=t("div",{class:"text-subtitle1 q-pt-lg text-bold text-grey-9"}," Info Inventori ",-1)),t("table",Nm,[t("tbody",null,[t("tr",null,[r[20]||(r[20]=t("td",{style:{width:"120px"}},"Stok",-1)),r[21]||(r[21]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,i(a(H)(d.product.stock))+" "+i(d.product.uom),1)]),t("tr",null,[r[22]||(r[22]=t("td",null,"Stok Minimum",-1)),r[23]||(r[23]=t("td",null,":",-1)),t("td",null,i(a(H)(d.product.min_stock))+" "+i(d.product.uom),1)]),t("tr",null,[r[24]||(r[24]=t("td",null,"Stok Maksimum",-1)),r[25]||(r[25]=t("td",null,":",-1)),t("td",null,i(a(H)(d.product.max_stock))+" "+i(d.product.uom),1)]),t("tr",null,[r[26]||(r[26]=t("td",null,"Barcode",-1)),r[27]||(r[27]=t("td",null,":",-1)),t("td",null,i(d.product.barcode),1)])])]),r[44]||(r[44]=t("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"},"Info Harga",-1)),t("table",Bm,[t("tbody",null,[t("tr",null,[r[28]||(r[28]=t("td",null,"Opsi Harga",-1)),r[29]||(r[29]=t("td",null,":",-1)),t("td",null,i(d.product.price_editable?"Dapat":"Tidak dapat")+" diubah saat penjualan. ",1)]),o.$can("admin.product:view-cost")?(p(),h("tr",zm,[r[30]||(r[30]=t("td",{style:{width:"120px"}},"Harga Beli",-1)),r[31]||(r[31]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,"Rp. "+i(a(H)(d.product.cost)),1)])):k("",!0),t("tr",null,[r[32]||(r[32]=t("td",null,"Harga Eceran",-1)),r[33]||(r[33]=t("td",null,":",-1)),t("td",null,[v(" Rp. "+i(a(H)(d.product.price))+" ",1),o.$can("admin.product:view-cost")?(p(),h("span",Fm," ("+i(u(d.product.price))+") ",1)):k("",!0)])]),t("tr",null,[r[34]||(r[34]=t("td",null,"Harga Partai",-1)),r[35]||(r[35]=t("td",null,":",-1)),t("td",null,[v(" Rp. "+i(a(H)(d.product.price_2))+" ",1),o.$can("admin.product:view-cost")?(p(),h("span",Lm," ("+i(u(d.product.price_2))+") ",1)):k("",!0)])]),t("tr",null,[r[36]||(r[36]=t("td",null,"Harga Grosir",-1)),r[37]||(r[37]=t("td",null,":",-1)),t("td",null,[v(" Rp. "+i(a(H)(d.product.price_3))+" ",1),o.$can("admin.product:view-cost")?(p(),h("span",Hm," ("+i(u(d.product.price_3))+") ",1)):k("",!0)])])])]),r[45]||(r[45]=t("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Deskripsi & Catatan ",-1)),t("table",Km,[t("tbody",null,[t("tr",null,[r[38]||(r[38]=t("td",{style:{width:"120px"}},"Deskirpsi",-1)),r[39]||(r[39]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,i(d.product.description),1)]),t("tr",null,[r[40]||(r[40]=t("td",null,"Catatan",-1)),r[41]||(r[41]=t("td",null,":",-1)),t("td",null,i(d.product.notes),1)])])])])}}},Ym=Object.freeze(Object.defineProperty({__proto__:null,default:lo},Symbol.toStringTag,{value:"Module"})),Qm={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Wm={key:0},oo={__name:"StockHistoryTab",props:{productId:{type:[String,Number],required:!0}},setup(d){const n=d,u=$e(),o=q([]),r=q(!0),s=Pe({...Ae()}),b=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"created_at",descending:!0});let f=[{name:"id",label:u.screen.lt.sm?"Item":"#",field:"id",align:"left",sortable:!0},{name:"created_at",label:"Waktu",field:"created_at",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"left",sortable:!0},{name:"quantity_before",label:"Qty Awal",field:"quantity_before",align:"right"},{name:"quantity_after",label:"Qty Akhir",field:"quantity_after",align:"right"},{name:"quantity",label:"Selisih",field:"quantity",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}];we(()=>{m()});const m=(y=null)=>Ue({pagination:b,filter:s,props:y,rows:o,url:route("admin.stock-movement.data",{product_id:n.productId}),loading:r}),c=G(()=>u.screen.gt.sm?f:f.filter(y=>y.name==="id"||y.name==="quantity"));return(y,_)=>(p(),P(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":_[0]||(_[0]=g=>b.value=g),filter:s.search,loading:r.value,columns:c.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:m,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:g,message:S,filter:I})=>[t("div",Qm,[t("span",null,i(S)+" "+i(I?" with term "+I:""),1)])]),body:l(g=>[e(qe,{props:g},{default:l(()=>[e(L,{key:"id",props:g},{default:l(()=>[t("div",null,[a(u).screen.lt.sm?(p(),h(W,{key:0},[t("div",null,[e(ut,null,{default:l(()=>[v(i(y.$CONSTANTS.STOCK_MOVEMENT_REF_TYPES[g.row.ref_type]),1)]),_:2},1024)]),e(V,{class:"inline-icon",name:"tag"})],64)):k("",!0),v(" "+i(g.row.formatted_id),1)]),a(u).screen.lt.sm?(p(),h(W,{key:0},[t("div",null,[e(V,{name:"calendar_clock",class:"inline-icon"}),v(" "+i(a(be)(g.row.created_at)),1)]),t("div",{class:xe(g.row.quantity>0?"text-positive":"text-negative")},[e(V,{class:"inline-icon",name:"compare_arrows"}),v(" "+i(a(H)(g.row.quantity_before))+" "+i(g.row.uom)+"  "+i(a(H)(g.row.quantity_after))+" "+i(g.row.uom),1)],2),e(ke,{text:g.row.notes,icon:"notes",class:"text-grey-8"},null,8,["text"])],64)):k("",!0)]),_:2},1032,["props"]),e(L,{key:"created_at",props:g},{default:l(()=>[v(i(a(be)(g.row.created_at)),1)]),_:2},1032,["props"]),e(L,{key:"type",props:g},{default:l(()=>[v(i(y.$CONSTANTS.STOCK_MOVEMENT_REF_TYPES[g.row.ref_type])+" ",1),g.row.ref?(p(),h("span",Wm,i(g.row.ref),1)):k("",!0)]),_:2},1032,["props"]),e(L,{key:"quantity_before",props:g},{default:l(()=>[v(i(a(H)(g.row.quantity_before))+" "+i(g.row.uom),1)]),_:2},1032,["props"]),e(L,{key:"quantity_after",props:g},{default:l(()=>[v(i(a(H)(g.row.quantity_after))+" "+i(g.row.uom),1)]),_:2},1032,["props"]),e(L,{key:"quantity",props:g,class:xe(g.row.quantity>0?"text-positive":"text-negative")},{default:l(()=>[v(i(a(H)(g.row.quantity))+" "+i(g.row.uom),1)]),_:2},1032,["props","class"]),e(L,{key:"notes",props:g},{default:l(()=>[e(ke,{text:g.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"]))}},Jm=Object.freeze(Object.defineProperty({__proto__:null,default:oo},Symbol.toStringTag,{value:"Module"})),Gm={class:"q-gutter-sm"},Xm={class:"q-gutter-sm"},Zm={class:"row justify-center"},ec={class:"col col-lg-6 q-pa-xs"},tc={class:"row"},ac={__name:"Detail",setup(d){const n=fe(),u=`Rincian Produk #${n.props.data.id}`,o=q("main");return(r,s)=>{const b=Q("i-head"),f=Q("authenticated-layout");return p(),h(W,null,[e(b,{title:u}),e(f,{"show-drawer-button":!0},{title:l(()=>[v(i(u))]),"left-button":l(()=>[t("div",Gm,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=m=>r.$goBack())})])]),"right-button":l(()=>[t("div",Xm,[r.$can("admin.product.edit")?(p(),P(A,{key:0,icon:"edit",size:"sm",dense:"",flat:"",rounded:"",color:"grey",onClick:s[1]||(s[1]=m=>a(X).get(r.route("admin.product.edit",{id:a(n).props.data.id})))})):k("",!0)])]),default:l(()=>[t("div",Zm,[t("div",ec,[t("div",tc,[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(Ut,{modelValue:o.value,"onUpdate:modelValue":s[2]||(s[2]=m=>o.value=m),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(st,{name:"main",label:"Info Utama"}),e(st,{name:"history",label:"Riwayat Stok"})]),_:1},8,["modelValue"]),e(jt,{modelValue:o.value,"onUpdate:modelValue":s[3]||(s[3]=m=>o.value=m),animated:""},{default:l(()=>[e(rt,{name:"main"},{default:l(()=>[e(lo,{product:a(n).props.data},null,8,["product"])]),_:1}),e(rt,{name:"history",class:"q-pa-xs"},{default:l(()=>[e(oo,{"product-id":a(n).props.data.id},null,8,["product-id"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])])]),_:1})],64)}}},lc=Object.freeze(Object.defineProperty({__proto__:null,default:ac},Symbol.toStringTag,{value:"Module"}));function xa(d,n=!1){const u=d.map(b=>({value:b.id,label:b.name})),o=n?[{value:"all",label:"Semua"},...u]:u,r=q([...o]);return{filteredCategories:r,filterCategories:(b,f)=>{const m=b.toLowerCase();f(()=>{r.value=o.filter(c=>c.label.toLowerCase().includes(m))})},categories:o}}function Sa(d,n=!1){const u=d.map(b=>({value:b.id,label:"#"+b.id+" - "+b.name})),o=n?[{value:"all",label:"Semua"},...u]:u,r=q([...o]);return{filteredSuppliers:r,filterSupplierFn:(b,f)=>{const m=b.toLowerCase();f(()=>{r.value=o.filter(c=>c.label.toLowerCase().includes(m))})},suppliers:o}}const oc={class:"q-gutter-sm"},nc={class:"col col-md-6 q-pa-xs"},sc={__name:"Editor",setup(d){const n=fe(),u=(n.props.data.id?"Edit":"Tambah")+" Produk",o=et(window.CONSTANTS.PRODUCT_TYPES),r=He({id:n.props.data.id,category_id:n.props.data.category_id,supplier_id:n.props.data.supplier_id,type:n.props.data.type||"",name:n.props.data.name||"",barcode:n.props.data.barcode||"",description:n.props.data.description||"",stock:parseFloat(n.props.data.stock)||0,min_stock:parseFloat(n.props.data.min_stock)||0,max_stock:parseFloat(n.props.data.max_stock)||0,uom:n.props.data.uom||"",cost:parseFloat(n.props.data.cost)||0,price:parseFloat(n.props.data.price)||0,price_2:parseFloat(n.props.data.price_2)||0,price_3:parseFloat(n.props.data.price_3)||0,active:!!n.props.data.active,price_editable:!!n.props.data.price_editable,notes:n.props.data.notes||""}),s=()=>Ge({form:r,url:route("admin.product.save")}),{filteredCategories:b,filterCategories:f}=xa(n.props.categories),{filteredSuppliers:m,filterSuppliers:c}=Sa(n.props.suppliers),y=G(()=>r.price>0?(r.price-r.cost)/r.price*100:0);return(_,g)=>{const S=Q("i-head"),I=Q("authenticated-layout");return p(),h(W,null,[e(S,{title:u}),e(I,{"show-drawer-button":!0},{title:l(()=>[v(i(u))]),"left-button":l(()=>[t("div",oc,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:g[0]||(g[0]=w=>_.$goBack())})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",nc,[e(ze,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[ee(t("input",{type:"hidden",name:"id","onUpdate:modelValue":g[1]||(g[1]=w=>a(r).id=w)},null,512),[[dt,a(r).id]]),g[23]||(g[23]=t("div",{class:"text-subtitle1 q-pt-lg"},"Info Utama",-1)),e(de,{autofocus:"",modelValue:a(r).type,"onUpdate:modelValue":g[2]||(g[2]=w=>a(r).type=w),class:"custom-select",options:a(o),label:"Jenis","map-options":"","emit-value":"","hide-bottom-space":""},null,8,["modelValue","options"]),e(oe,{modelValue:a(r).name,"onUpdate:modelValue":g[3]||(g[3]=w=>a(r).name=w),modelModifiers:{trim:!0},label:"Nama Produk","lazy-rules":"",error:!!a(r).errors.name,disable:a(r).processing,"error-message":a(r).errors.name,rules:[w=>w&&w.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(oe,{modelValue:a(r).description,"onUpdate:modelValue":g[4]||(g[4]=w=>a(r).description=w),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:a(r).processing,error:!!a(r).errors.description,"error-message":a(r).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(de,{modelValue:a(r).category_id,"onUpdate:modelValue":g[5]||(g[5]=w=>a(r).category_id=w),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:a(b),"map-options":"","emit-value":"",onFilter:a(f),"option-label":"label","option-value":"value",error:!!a(r).errors.category_id,disable:a(r).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(ae,null,{default:l(()=>[e(B,null,{default:l(()=>[...g[21]||(g[21]=[v("Kategori tidak ditemukan",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),_.$can("admin.product:view-supplier")?(p(),P(de,{key:0,modelValue:a(r).supplier_id,"onUpdate:modelValue":g[6]||(g[6]=w=>a(r).supplier_id=w),label:"Supplier","use-input":"","input-debounce":"300",clearable:"",options:a(m),"map-options":"","emit-value":"",onFilter:a(c),"option-label":"label","option-value":"value",error:!!a(r).errors.supplier_id,disable:a(r).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(ae,null,{default:l(()=>[e(B,null,{default:l(()=>[...g[22]||(g[22]=[v("Supplier tidak ditemukan",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"])):k("",!0),e(qt,{modelValue:a(r).active,"onUpdate:modelValue":g[7]||(g[7]=w=>a(r).active=w),disable:a(r).processing,label:"Aktif"},null,8,["modelValue","disable"]),g[24]||(g[24]=t("div",{class:"text-subtitle1 q-pt-lg"},"Info Inventori",-1)),e(oe,{modelValue:a(r).barcode,"onUpdate:modelValue":g[8]||(g[8]=w=>a(r).barcode=w),modelModifiers:{trim:!0},label:"Barcode","lazy-rules":"",error:!!a(r).errors.barcode,disable:a(r).processing,"error-message":a(r).errors.barcode,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(oe,{modelValue:a(r).uom,"onUpdate:modelValue":g[9]||(g[9]=w=>a(r).uom=w),modelModifiers:{trim:!0},label:"Satuan","lazy-rules":"",error:!!a(r).errors.uom,disable:a(r).processing,"error-message":a(r).errors.uom,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(De,{modelValue:a(r).stock,"onUpdate:modelValue":g[10]||(g[10]=w=>a(r).stock=w),label:"Stok",lazyRules:"",disable:a(r).processing,error:!!a(r).errors.stock,errorMessage:a(r).errors.stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(De,{modelValue:a(r).min_stock,"onUpdate:modelValue":g[11]||(g[11]=w=>a(r).min_stock=w),label:"Stok Minimum",lazyRules:"",disable:a(r).processing,error:!!a(r).errors.min_stock,errorMessage:a(r).errors.min_stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(De,{modelValue:a(r).max_stock,"onUpdate:modelValue":g[12]||(g[12]=w=>a(r).max_stock=w),label:"Stok Maksimum",lazyRules:"",disable:a(r).processing,error:!!a(r).errors.max_stock,errorMessage:a(r).errors.max_stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),g[25]||(g[25]=t("div",{class:"text-subtitle1 q-pt-lg"},"Info Harga",-1)),e(qt,{modelValue:a(r).price_editable,"onUpdate:modelValue":g[13]||(g[13]=w=>a(r).price_editable=w),disable:a(r).processing,label:"Harga bisa diubah saat penjualan"},null,8,["modelValue","disable"]),_.$can("admin.product:view-cost")?(p(),P(De,{key:1,modelValue:a(r).cost,"onUpdate:modelValue":g[14]||(g[14]=w=>a(r).cost=w),label:"Modal / Harga Beli (Rp)",lazyRules:"",disable:a(r).processing,error:!!a(r).errors.cost,errorMessage:a(r).errors.cost,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"])):k("",!0),e(De,{modelValue:a(r).price,"onUpdate:modelValue":g[15]||(g[15]=w=>a(r).price=w),label:"Harga Eceran (Rp)",lazyRules:"",disable:a(r).processing,error:!!a(r).errors.price,errorMessage:a(r).errors.price,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(De,{modelValue:a(r).price_2,"onUpdate:modelValue":g[16]||(g[16]=w=>a(r).price_2=w),label:"Harga Partai (Rp)",lazyRules:"",disable:a(r).processing,error:!!a(r).errors.price_2,errorMessage:a(r).errors.price_2,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(De,{modelValue:a(r).price_3,"onUpdate:modelValue":g[17]||(g[17]=w=>a(r).price_3=w),label:"Harga Grosir (Rp)",lazyRules:"",disable:a(r).processing,error:!!a(r).errors.price_3,errorMessage:a(r).errors.price_3,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),_.$can("admin.product:view-cost")?(p(),P(De,{key:2,modelValue:y.value,"onUpdate:modelValue":g[18]||(g[18]=w=>y.value=w),label:"Margin (%)",lazyRules:"",disable:a(r).processing,maxDecimals:2,"hide-bottom-space":""},null,8,["modelValue","disable"])):k("",!0),g[26]||(g[26]=t("div",{class:"text-subtitle1 q-pt-lg"},"Info Lainnya",-1)),e(oe,{modelValue:a(r).notes,"onUpdate:modelValue":g[19]||(g[19]=w=>a(r).notes=w),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(r).processing,error:!!a(r).errors.notes,"error-message":a(r).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(A,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(r).processing},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",disable:a(r).processing,onClick:g[20]||(g[20]=w=>_.$goBack())},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},rc=Object.freeze(Object.defineProperty({__proto__:null,default:sc},Symbol.toStringTag,{value:"Module"})),ic={class:"q-gutter-sm"},dc={class:"col col-md-6 q-pa-xs"},il="Import Produk",uc={__name:"Import",setup(d){const n=He({csv_file:null}),u=()=>{n.post(route("admin.product.import"),{onSuccess:()=>{n.reset()},onError:()=>{Be()},onFinish:()=>{n.clearErrors()}})};return(o,r)=>{const s=Q("i-head"),b=Q("authenticated-layout");return p(),h(W,null,[e(s,{title:il}),e(b,{"show-drawer-button":!0},{title:l(()=>[v(i(il))]),"left-button":l(()=>[t("div",ic,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=f=>o.$goBack())})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",dc,[e(ze,{class:"row",onSubmit:J(u,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[r[3]||(r[3]=t("div",{class:"text-subtitle1 q-pt-lg"},"Unggah File Impor",-1)),r[4]||(r[4]=t("div",{class:"text-caption text-grey"}," Unggah file CSV untuk mengimpor data produk. Pastikan format kolom sesuai dengan template yang disediakan. ",-1)),e(Jl,{modelValue:a(n).csv_file,"onUpdate:modelValue":r[1]||(r[1]=f=>a(n).csv_file=f),accept:".csv",label:"Pilih file CSV",error:!!a(n).errors.csv_file,"error-message":a(n).errors.csv_file,disable:a(n).processing,"hide-bottom-space":"",class:"q-mt-md"},null,8,["modelValue","error","error-message","disable"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(A,{icon:"upload",type:"submit",label:"Import Data",color:"primary",disable:a(n).processing||!a(n).csv_file,loading:a(n).processing},null,8,["disable","loading"]),e(A,{icon:"cancel",label:"Batal",disable:a(n).processing,onClick:r[2]||(r[2]=f=>o.$goBack())},null,8,["disable"])]),_:1}),o.$page.props.flash.success?(p(),P(aa,{key:0,class:"bg-positive text-white q-mt-md"},{default:l(()=>[v(i(o.$page.props.flash.success),1)]),_:1})):k("",!0),o.$page.props.flash.error?(p(),P(aa,{key:1,class:"bg-negative text-white q-mt-md"},{default:l(()=>[v(i(o.$page.props.flash.error),1)]),_:1})):k("",!0)]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},mc=Object.freeze(Object.defineProperty({__proto__:null,default:uc},Symbol.toStringTag,{value:"Module"})),cc={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},pc={class:"q-pa-xs"},fc={class:"full-width row flex-center text-grey-8 q-gutter-sm"},gc={key:0},bc={key:1},vc={class:"flex justify-end"},yc={key:0},_c={key:1},kc={key:0},dl="Produk",wc={__name:"Index",setup(d){const n=fe(),u=q(null),o=q(null),r=Ke(o),s=q(!1),b=[{value:"all",label:"Semua"},...et(window.CONSTANTS.PRODUCT_TYPES)],f=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],m=[{value:"all",label:"Semua"},{value:"ready",label:"Tersedia"},{value:"out",label:"Kosong"},{value:"low",label:"Stok Rendah"},{value:"over",label:"Stok Berlebih"}],c=$e(),y=q(!1),_=q([]),g=q(!0),S=Pe({type:"all",category_id:"all",supplier_id:"all",status:"active",stock_status:"all",search:"",...Ae()}),I=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1});let w=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"cost",label:"Modal",field:"cost",align:"right"},{name:"price",label:"Harga",field:"price",align:"right"},{name:"action",align:"right"}];we(()=>{const x=new URLSearchParams(window.location.search).get("page");x&&(I.value.page=parseInt(x)),C()});const R=j=>tt({message:`Hapus Produk ${j.name}?`,url:route("admin.product.delete",j.id),fetchItemsCallback:C,loading:g}),C=(j=null)=>{Ue({pagination:I,filter:S,props:j,rows:_,url:route("admin.product.data"),loading:g,tableRef:u})},$=()=>{C()},{filteredCategories:O,filterCategories:z}=xa(n.props.categories,!0),{filteredSuppliers:T,filterSupplierFn:D}=Sa(n.props.suppliers,!0),E=G(()=>{let j=[...w];return s.value||j.splice(2,1),c.screen.gt.sm?j:j.filter(x=>x.name==="name"||x.name==="action")}),M=j=>{console.log(window.location.href),X.get(route("admin.product.detail",j.row.id))};return(j,x)=>{const Y=Q("i-head"),se=Q("authenticated-layout");return p(),h(W,null,[e(Y,{title:dl}),e(se,null,Fe({title:l(()=>[v(i(dl))]),"right-button":l(()=>[e(A,{icon:y.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:x[0]||(x[0]=N=>y.value=!y.value)},null,8,["icon"]),j.$can("admin.product.add")?(p(),P(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:x[1]||(x[1]=N=>a(X).get(j.route("admin.product.add")))})):k("",!0),j.$can("admin.product.import")||j.$can("admin.product:view-cost")?(p(),P(A,{key:1,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:x[4]||(x[4]=J(()=>{},["stop"])),class:"q-ml-sm"},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"200px"}},{default:l(()=>[j.$can("admin.product.import")?ee((p(),P(ae,{key:0,clickable:"",onClick:x[2]||(x[2]=N=>s.value=!s.value)},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:s.value?"visibility":"visibility_off"},null,8,["name"])]),_:1}),e(B,null,{default:l(()=>[v(i(s.value?"Sembunyikan":"Tampilkan")+" Modal",1)]),_:1})]),_:1})),[[ne],[ue]]):k("",!0),j.$can("admin.product.import")?ee((p(),P(ae,{key:1,clickable:"",onClick:x[3]||(x[3]=J(N=>a(X).get(j.route("admin.product.import")),["stop"]))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"csv"})]),_:1}),e(B,null,{default:l(()=>[...x[13]||(x[13]=[v("Import",-1)])]),_:1})]),_:1})),[[ne],[ue]]):k("",!0)]),_:1})]),_:1})]),_:1})):k("",!0)]),default:l(()=>[t("div",pc,[e(Te,{ref_key:"tableRef",ref:u,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:I.value,"onUpdate:pagination":x[12]||(x[12]=N=>I.value=N),filter:S.search,loading:g.value,columns:E.value,rows:_.value,"rows-per-page-options":[10,25,50],style:Ee({height:a(r)}),onRequest:C,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:N,message:U,filter:Z})=>[t("div",fc,[t("span",null,i(U)+" "+i(Z?" with term "+Z:""),1)])]),header:l(N=>[e(qe,{props:N},{default:l(()=>[e(ea,{"auto-width":""}),(p(!0),h(W,null,lt(N.cols,U=>(p(),P(ea,{key:U.name,props:N},{default:l(()=>[v(i(U.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(N=>[e(qe,{props:N,class:xe({inactive:!N.row.active})},{default:l(()=>[e(L,{"auto-width":""},{default:l(()=>[e(A,{size:"sm",flat:"",round:"",dense:"",onClick:J(U=>N.expand=!N.expand,["prevent"]),icon:N.expand?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["onClick","icon"])]),_:2},1024),e(L,{key:"name",props:N,class:"wrap-column cursor-pointer",onClick:U=>M(N)},{default:l(()=>[v(i(N.row.name)+" ",1),a(c).screen.gt.sm?k("",!0):(p(),h(W,{key:0},[N.row.type=="stocked"?(p(),h("div",gc,[e(V,{name:"cycle"}),v(" Stok: "+i(a(H)(N.row.stock))+" "+i(N.row.uom),1)])):k("",!0),s.value?(p(),h("div",bc,[e(V,{name:"money"}),v(" Modal: Rp. "+i(a(H)(N.row.cost)),1)])):k("",!0),t("div",null,[e(V,{name:"sell"}),v(" Harga: Rp. "+i(a(H)(N.row.price)),1)])],64))]),_:2},1032,["props","onClick"]),e(L,{key:"stock",props:N,class:xe(["wrap-column",{"low-stock":N.row.type=="stocked"&&(Number(N.row.stock)==0||Number(N.row.stock)<Number(N.row.min_stock)),"over-stock":N.row.type=="stocked"&&Number(N.row.max_stock)&&Number(N.row.stock)>Number(N.row.max_stock)}])},{default:l(()=>[v(i(N.row.type=="stocked"?a(H)(N.row.stock)+" "+N.row.uom:"-"),1)]),_:2},1032,["props","class"]),(p(),P(L,{key:"cost",props:N,class:"wrap-column"},{default:l(()=>[v(i(a(H)(N.row.cost)),1)]),_:2},1032,["props"])),e(L,{key:"price",props:N,class:"wrap-column"},{default:l(()=>[v(i(a(H)(N.row.price)),1)]),_:2},1032,["props"]),e(L,{key:"action",props:N},{default:l(()=>[t("div",vc,[j.$can("admin.product.add")||j.$can("admin.product.edit")||j.$can("admin.product.delete")?(p(),P(A,{key:0,icon:"more_vert",rounded:"",dense:"",flat:"",onClick:x[11]||(x[11]=J(()=>{},["stop"]))},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"175px"}},{default:l(()=>[j.$can("admin.product.add")?ee((p(),P(ae,{key:0,clickable:"",onClick:J(U=>a(X).get(j.route("admin.product.duplicate",N.row.id)),["stop"])},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"file_copy"})]),_:1}),e(B,null,{default:l(()=>[...x[14]||(x[14]=[v("Duplikat",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),j.$can("admin.product.edit")?ee((p(),P(ae,{key:1,clickable:"",onClick:J(U=>a(X).get(j.route("admin.product.edit",N.row.id)),["stop"])},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"edit"})]),_:1}),e(B,null,{default:l(()=>[...x[15]||(x[15]=[v("Edit",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),j.$can("admin.product.delete")?ee((p(),P(ae,{key:2,onClick:J(U=>R(N.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"delete_forever"})]),_:1}),e(B,null,{default:l(()=>[...x[16]||(x[16]=[v("Hapus",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class"]),ee(e(qe,{props:N},{default:l(()=>[e(L,{colspan:"100%"},{default:l(()=>[N.row.barcode?(p(),h("div",yc,[e(V,{class:"inline-icon",name:"barcode"}),v(" Barcode: "+i(N.row.barcode),1)])):k("",!0),N.row.category_id?(p(),h("div",_c,[e(V,{name:"category",class:"inline-icon"}),v(" Kategori: "+i(N.row.category.name),1)])):k("",!0),j.$can("admin.product:view-supplier")?(p(),h(W,{key:2},[N.row.supplier_id?(p(),h("div",kc,[e(V,{name:"local_shipping",class:"inline-icon"}),v(" Supplier: "+i(N.row.supplier.name),1)])):k("",!0)],64)):k("",!0),N.row.description?(p(),P(ke,{key:3,text:N.row.description,icon:"notes","max-length":200},null,8,["text"])):k("",!0),N.row.notes?(p(),P(ke,{key:4,text:N.row.notes,icon:"notes","max-length":200},null,8,["text"])):k("",!0)]),_:2},1024)]),_:2},1032,["props"]),[[Dl,N.expand]])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[y.value?{name:"header",fn:l(()=>[e(Xe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:o},{default:l(()=>[t("div",cc,[e(de,{modelValue:S.type,"onUpdate:modelValue":[x[5]||(x[5]=N=>S.type=N),$],class:"custom-select col-xs-4 col-sm-2",options:b,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(de,{modelValue:S.status,"onUpdate:modelValue":[x[6]||(x[6]=N=>S.status=N),$],class:"custom-select col-xs-4 col-sm-2",options:f,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(de,{modelValue:S.stock_status,"onUpdate:modelValue":[x[7]||(x[7]=N=>S.stock_status=N),$],class:"custom-select col-xs-4 col-sm-2",options:m,label:"Status Stok",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(de,{modelValue:S.category_id,"onUpdate:modelValue":[x[8]||(x[8]=N=>S.category_id=N),$],label:"Kategori",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:a(O),"map-options":"",dense:"","emit-value":"",onFilter:a(z),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),j.$can("admin.product:view-supplier")?(p(),P(de,{key:0,modelValue:S.supplier_id,"onUpdate:modelValue":[x[9]||(x[9]=N=>S.supplier_id=N),$],label:"Pemasok",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:a(T),"map-options":"",dense:"","emit-value":"",onFilter:a(D),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"])):k("",!0),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:S.search,"onUpdate:modelValue":x[10]||(x[10]=N=>S.search=N),placeholder:"Cari",clearable:""},{append:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},hc=Object.freeze(Object.defineProperty({__proto__:null,default:wc},Symbol.toStringTag,{value:"Module"})),$c={class:"column"},xc={class:"bg-grey-2 q-pa-xs"},Sc={class:"text-subtitle1 text-bold text-grey-10"},Vc={class:"col-12 col-sm-6"},qc={class:"full-width"},Cc={key:1},Tc={key:0},Pc={key:1},Oc={class:"col-12 col-sm-6",align:"left"},Ic={class:"full-width"};const Rc={key:1},Dc={class:"full-width",style:{"border-collapse":"collapse"}},Ac={class:"q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Uc={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},jc={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Ec={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Mc={key:0},Nc={class:"col-12 col-sm-6"},Bc={class:"text-body2 text-grey-7 text-italic"},zc={class:"col-12 col-sm-6"},Fc={class:"row justify-end q-gutter-y-xs"},Lc={class:"col-12 row justify-between"},Hc={class:"text-subtitle2 text-bold"},no={__name:"InvoiceTab",props:{data:Object},setup(d){const n=d;return(u,o)=>{const r=Q("i-link");return p(),h("div",$c,[e(te,{class:"q-pa-none"},{default:l(()=>[t("div",xc,[t("div",Sc," INVOICE #"+i(n.data.formatted_id),1)])]),_:1}),e(Ze),e(te,{class:"row q-col-gutter-sm q-pa-sm",align:"left"},{default:l(()=>[t("div",Vc,[o[1]||(o[1]=t("div",{class:"text-subtitle2 text-bold text-grey-8"},"Info Pemasok",-1)),t("table",qc,[t("tbody",null,[t("tr",null,[t("td",null,[n.data.supplier?(p(),P(r,{key:0,href:u.route("admin.customer.detail",{id:n.data.supplier_id})},{default:l(()=>[e(V,{class:"inline-icon",name:"person"}),v(" "+i(n.data.supplier_name),1)]),_:1},8,["href"])):(p(),h("div",Cc,[e(V,{class:"inline-icon",name:"person"}),o[0]||(o[0]=v(" Pemasok Umum ",-1))]))])]),n.data.supplier_phone?(p(),h("tr",Tc,[t("td",null,[e(V,{class:"inline-icon",name:"phone"}),v(" "+i(n.data.supplier_phone),1)])])):k("",!0),n.data.supplier_address?(p(),h("tr",Pc,[t("td",null,[e(V,{class:"inline-icon",name:"home_pin"}),v(" "+i(n.data.supplier_address),1)])])):k("",!0)])])]),t("div",Oc,[o[12]||(o[12]=t("div",{class:"text-subtitle2 text-bold text-grey-8"},"Info Order",-1)),t("table",Ic,[t("tbody",null,[t("tr",null,[o[2]||(o[2]=t("td",{class:"text-grey-7",style:{width:"130px"}},"Waktu",-1)),o[3]||(o[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,i(a(be)(n.data.datetime)),1)]),t("tr",null,[o[4]||(o[4]=t("td",{class:"text-grey-7"},"Status Order",-1)),o[5]||(o[5]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,i(u.$CONSTANTS.PURCHASE_ORDER_STATUSES[n.data.status]),1)]),t("tr",null,[o[6]||(o[6]=t("td",{class:"text-grey-7"},"Status Pembayaran",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,i(u.$CONSTANTS.PURCHASE_ORDER_PAYMENT_STATUSES[n.data.payment_status]),1)]),k("",!0),n.data.due_date?(p(),h("tr",Rc,[o[10]||(o[10]=t("td",{class:"text-grey-7"},"Jatuh Tempo",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,i(a(Ht)(n.data.due_date)),1)])):k("",!0)])])])]),_:1}),e(Ze),e(te,{class:"q-pa-sm"},{default:l(()=>[t("table",Dc,[o[14]||(o[14]=t("thead",{class:"text-grey-8"},[t("tr",null,[t("th",{class:"text-left q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Item "),t("th",{colspan:"2",class:"text-center q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Qty "),t("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Harga Beli (Rp) "),t("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Total (Rp) ")])],-1)),t("tbody",null,[(p(!0),h(W,null,lt(n.data.details,s=>(p(),h("tr",{key:s.id},[t("td",Ac,[e(r,{href:u.route("admin.product.detail",{id:s.product_id})},{default:l(()=>[v(i(s.product_name),1)]),_:2},1032,["href"])]),t("td",Uc,i(s.quantity),1),t("td",null,i(s.product_uom),1),t("td",jc,i(a(H)(s.cost)),1),t("td",Ec,i(a(H)(s.subtotal_cost)),1)]))),128)),n.data.details.length==0?(p(),h("tr",Mc,[...o[13]||(o[13]=[t("td",{colspan:"4",class:"text-center text-grey"},"Belum ada item",-1)])])):k("",!0)])])]),_:1}),e(Ze),e(te,{class:"row",align:"left"},{default:l(()=>[t("div",Nc,[o[15]||(o[15]=t("div",{class:"text-subtitle2 text-bold text-grey-8 q-mb-xs"},"Catatan:",-1)),t("div",Bc,i(n.data.notes?n.data.notes:"-"),1)]),t("div",zc,[t("div",Fc,[t("div",Lc,[o[16]||(o[16]=t("div",{class:"text-subtitle2 text-grey-7"},"Grand Total (Rp)",-1)),t("div",Hc,i(a(H)(n.data.grand_total)),1)])])])]),_:1})])}}},Kc=Object.freeze(Object.defineProperty({__proto__:null,default:no},Symbol.toStringTag,{value:"Module"})),Yc={key:0,class:"text-center q-mb-md text-grey-8"},Qc={class:"text-subtitle2 text-weight-medium"},Wc={class:"text-h5 text-center text-primary q-pb-md"},Jc={class:"text-center q-mt-md"},Gc={key:0,class:"text-h6 text-negative text-weight-bold"},Xc={key:1,class:"text-h6 text-green-8 text-weight-bold"},Zc={key:2,class:"text-h6 text-positive text-weight-bold"},so={__name:"PaymentDialog",props:{modelValue:{type:Boolean,required:!0},total:{type:Number,required:!0}},emits:["update:modelValue","accepted"],setup(d,{emit:n}){const u=d,o=n,r=fe(),s=q(!1),b=q({method:null,amount:u.total,notes:null}),f=r.props.data.supplier,m=G(()=>[...r.props.accounts.map(w=>({label:w.type=="bank"?w.name+" - "+w.number:w.name,value:w.id}))]),c=G(()=>u.total-(b.value.amount||0)),y=G(()=>b.value.method&&typeof b.value.amount=="number"&&b.value.amount>0),_=G(()=>b.value.method?(b.value.amount||0)<=0?"Jumlah pembayaran harus lebih dari 0.":null:"Metode pembayaran harus dipilih."),g=G(()=>y.value&&_.value===null),S=()=>{if(!g.value)return;s.value=!0;const w={total_paid:b.value.amount,payments:[{id:b.value.method,amount:b.value.amount}],notes:b.value.notes,remaining_debt:Math.max(0,u.total-(b.value.amount||0))};o("accepted",w),s.value=!1},I=()=>{b.value.amount=u.total,b.value.method=null,b.value.notes=null};return(w,R)=>(p(),P(ct,{"model-value":d.modelValue,"onUpdate:modelValue":R[4]||(R[4]=C=>w.$emit("update:modelValue",C)),onBeforeShow:I},{default:l(()=>[e(pe,{style:{"min-width":"300px"}},{default:l(()=>[e(te,null,{default:l(()=>[...R[5]||(R[5]=[t("div",{class:"text-subtitle1 text-bold text-center"}," Rincian Pembayaran ",-1)])]),_:1}),e(te,{class:"q-pt-none"},{default:l(()=>[a(f)?(p(),h("div",Yc,[t("div",Qc,[v(i(a(f).name)+" ",1),R[6]||(R[6]=t("br",null,null,-1)),v(" Saldo: Rp. "+i(a(H)(a(f).balance)),1)])])):k("",!0),t("div",Wc," Total: Rp. "+i(a(H)(d.total)),1),e(a(de),{modelValue:b.value.method,"onUpdate:modelValue":R[0]||(R[0]=C=>b.value.method=C),options:m.value,label:"Metode Pembayaran",outlined:!0,"emit-value":"","map-options":"",dense:"",class:"q-mb-md",disable:s.value,rules:[C=>!!C||"Pilih metode pembayaran."]},null,8,["modelValue","options","disable","rules"]),e(De,{modelValue:b.value.amount,"onUpdate:modelValue":R[1]||(R[1]=C=>b.value.amount=C),label:"Jumlah Uang",outlined:!0,dense:"",disable:s.value,class:"q-mb-md",error:!g.value,"error-message":_.value},null,8,["modelValue","disable","error","error-message"]),e(oe,{modelValue:b.value.notes,"onUpdate:modelValue":R[2]||(R[2]=C=>b.value.notes=C),label:"Catatan",outlined:!0,type:"textarea",rows:"2",disable:s.value,class:"q-mb-md"},null,8,["modelValue","disable"]),t("div",Jc,[c.value>0?(p(),h("div",Gc," Sisa Tagihan: Rp. "+i(a(H)(c.value)),1)):c.value<0?(p(),h("div",Xc," Kembalian: Rp. "+i(a(H)(Math.abs(c.value))),1)):(p(),h("div",Zc," Tagihan Terbayar "))])]),_:1}),e(mt,{align:"center",class:"q-mb-sm"},{default:l(()=>[e(A,{flat:"",label:"Batal",color:"grey",onClick:R[3]||(R[3]=C=>w.$emit("update:modelValue",!1))}),e(A,{label:"Bayar",color:"positive",onClick:S,disable:s.value||!g.value,loading:s.value},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},ep=Object.freeze(Object.defineProperty({__proto__:null,default:so},Symbol.toStringTag,{value:"Module"})),tp={class:"column"},ap={class:"full-width",style:{"border-collapse":"collapse"}},lp={class:"q-pa-sm",style:{"border-bottom":"1px solid #eee"}},op={class:"row items-center q-gutter-x-sm"},np={class:"text-weight-bold"},sp={class:"row items-center q-gutter-x-sm q-mt-xs"},rp={class:"text-caption text-grey-6"},ip={key:0,class:"row items-center q-gutter-x-sm q-mt-xs"},dp={class:"text-caption text-grey-6"},up={class:"q-mt-xs"},mp={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},cp={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},pp={key:0},fp={class:"q-pa-sm"},gp={class:"text-right q-pa-sm"},bp={class:"text-right q-pa-sm"},ro={__name:"PaymentTab",props:{data:Object},setup(d){const n=d,u=G(()=>n.data.grand_total-n.data.total_paid),o=$e(),r=q(!1),s=()=>{r.value=!0},b=async m=>{const c={order_id:n.data.id,payments:m.payments,notes:m.notes};o.loading.show({message:"Memproses pembayaran..."});try{const y=await We.post(route("admin.purchase-order.add-payment"),c);o.notify({message:"Pembayaran berhasil diproses!",color:"positive",icon:"check_circle"}),r.value=!1,X.visit(route("admin.purchase-order.detail",{id:n.data.id})+"?tab=payment")}catch(y){let _="Gagal memproses pembayaran.";y.response&&y.response.data&&y.response.data.message?_=y.response.data.message:y.message&&(_=y.message),o.notify({message:_,color:"negative",icon:"error"})}finally{o.loading.hide()}},f=m=>{o.dialog({title:"Konfirmasi",message:"Apakah Anda yakin ingin menghapus pembayaran ini?",cancel:!0,persistent:!0}).onOk(async()=>{o.loading.show({message:"Menghapus pembayaran..."});try{await We.post(route("admin.purchase-order.delete-payment",{id:m.id})),o.notify({message:"Pembayaran berhasil dihapus!",color:"positive",icon:"check_circle"}),X.visit(route("admin.purchase-order.detail",{id:n.data.id})+"?tab=payment")}catch(c){let y="Gagal menghapus pembayaran.";c.response&&c.response.data&&c.response.data.message?y=c.response.data.message:c.message&&(y=c.message),o.notify({message:y,color:"negative",icon:"error"})}finally{o.loading.hide()}})};return(m,c)=>(p(),h(W,null,[t("div",tp,[e(Ze),e(te,{class:"q-pa-sm"},{default:l(()=>[t("table",ap,[c[6]||(c[6]=t("thead",{class:"text-grey-8"},[t("tr",null,[t("th",{class:"text-left q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Detail Transaksi "),t("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Jumlah (Rp) "),t("th",{class:"text-center q-pa-sm",style:{"border-bottom":"2px solid #ddd"}})])],-1)),t("tbody",null,[(p(!0),h(W,null,lt(n.data.payments,y=>(p(),h("tr",{key:y.id},[t("td",lp,[t("div",op,[e(V,{name:"tag",size:"xs",color:"grey-7"}),t("span",np,i(y.formatted_id),1)]),t("div",sp,[e(V,{name:"calendar_today",size:"xs",color:"grey-7"}),t("span",rp,i(a(be)(y.created_at)),1)]),(y.type==="transfer"||y.type==="cash")&&y.account?(p(),h("div",ip,[e(V,{name:"wallet",size:"xs",color:"grey-7"}),t("span",dp,i(y.account.name),1)])):k("",!0),t("div",up,[e(ut,{label:m.$CONSTANTS.SALES_ORDER_PAYMENT_TYPES[y.type],color:"secondary",class:"q-py-xs"},null,8,["label"])])]),t("td",mp,i(a(H)(y.amount)),1),t("td",cp,[m.$can("admin.sales-order.delete-payment")?(p(),P(A,{key:0,icon:"delete",color:"negative",dense:"",flat:"",rounded:"",size:"sm",onClick:_=>f(y)},null,8,["onClick"])):k("",!0)])]))),128)),n.data.payments.length==0?(p(),h("tr",pp,[...c[2]||(c[2]=[t("td",{colspan:"100%",class:"text-center text-grey"},"Belum ada item",-1)])])):k("",!0)]),t("tfoot",null,[t("tr",null,[t("td",fp,[m.$can("admin.sales-order.add-payment")&&u.value>0?(p(),P(A,{key:0,label:"Tambah",color:"primary",icon:"add",dense:"",class:"custom-dense",size:"sm",onClick:c[0]||(c[0]=J(y=>s(),["stop"]))})):k("",!0)]),c[3]||(c[3]=t("th",{class:"text-right q-pa-sm",colspan:"1"},"Total Dibayar",-1)),t("th",gp,i(a(H)(n.data.total_paid)),1)]),t("tr",null,[c[4]||(c[4]=t("th",{class:"text-right q-pa-sm",colspan:"2"},"Sisa Tagihan",-1)),t("th",bp,i(a(H)(u.value)),1),c[5]||(c[5]=t("td",null,null,-1))])])])]),_:1})]),e(so,{modelValue:r.value,"onUpdate:modelValue":c[1]||(c[1]=y=>r.value=y),total:u.value,customer:n.data.customer,onAccepted:b},null,8,["modelValue","total","customer"])],64))}},vp=Object.freeze(Object.defineProperty({__proto__:null,default:ro},Symbol.toStringTag,{value:"Module"})),yp={class:"q-gutter-sm"},_p={class:"col col-lg-6 q-pa-xs",align:"center"},ul="Rincian Pembelian",kp={__name:"Detail",setup(d){const n=new URLSearchParams(window.location.search),o=fe().props.data,r=q(n.get("preview")||!1),b=q(n.get("tab")||"invoice"),f=()=>{window.print()};return(m,c)=>{const y=Q("i-head"),_=Q("authenticated-layout");return p(),h(W,null,[e(y,{title:ul}),e(_,{"show-drawer-button":!0},{title:l(()=>[t("div",{class:"row items-center q-gutter-x-sm"},[t("span",null,i(ul))])]),"left-button":l(()=>[t("div",yp,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=g=>m.$goBack())})])]),"right-button":l(()=>[e(A,{icon:"print",dense:"",color:"primary",flat:"",rounded:"",onClick:c[1]||(c[1]=g=>f())}),r.value?k("",!0):(p(),P(A,{key:0,class:"q-ml-sm",icon:"add",dense:"",color:"primary",rounded:"",onClick:c[2]||(c[2]=g=>a(X).get(m.route("admin.purchase-order.add")))}))]),default:l(()=>[e(Ve,{class:"row justify-center print-visible"},{default:l(()=>[t("div",_p,[e(pe,{square:"",flat:"",bordered:"",class:"full-width",style:{"max-width":"1024px"}},{default:l(()=>[e(Ut,{modelValue:b.value,"onUpdate:modelValue":c[3]||(c[3]=g=>b.value=g),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(st,{name:"invoice",label:"Invoice"}),r.value?k("",!0):(p(),P(st,{key:0,name:"payment",label:"Pembayaran"}))]),_:1},8,["modelValue"]),e(Ze),e(jt,{modelValue:b.value,"onUpdate:modelValue":c[4]||(c[4]=g=>b.value=g),animated:""},{default:l(()=>[e(rt,{name:"invoice",class:"q-pa-none"},{default:l(()=>[e(no,{data:a(o)},null,8,["data"])]),_:1}),e(rt,{name:"payment",class:"q-pa-none"},{default:l(()=>[e(ro,{data:a(o)},null,8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),_:1})]),_:1})],64)}}},wp=vt(kp,[["__scopeId","data-v-e38a4c29"]]),hp=Object.freeze(Object.defineProperty({__proto__:null,default:wp},Symbol.toStringTag,{value:"Module"})),$p={class:"text-weight-medium"},xp={class:"text-caption text-grey-6"},Sp={class:"column items-end"},Vp={class:"text-caption text-grey-6 text-italic"},io={__name:"ItemsListTable",props:{items:{type:Array,required:!0},isProcessing:{type:Boolean,default:!1}},emits:["update-quantity","remove-item","edit-item"],setup(d){const n=$e(),u=Ke(null,n.screen.lt.sm?395:310),o=[{name:"name",required:!0,label:"Item",align:"left",field:"name",sortable:!1},{name:"subtotal",label:"Sub Total (Rp.)",align:"right",sortable:!1},{name:"action",label:"",align:"right",sortable:!1}];return(r,s)=>(p(),P(Te,{dense:"",rows:d.items,columns:o,"row-key":"id",flat:"",square:"",bordered:"",class:"full-height-table","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48,style:Ee({height:a(u)})},{header:l(b=>[e(qe,{props:b,class:"bg-grey-4"},{default:l(()=>[(p(!0),h(W,null,lt(b.cols,f=>(p(),P(ea,{key:f.name,props:b,class:"text-weight-bold text-grey-8"},{default:l(()=>[v(i(f.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(b=>[e(qe,{props:b,class:"hover-highlight"},{default:l(()=>[e(L,{key:"name",props:b,class:"text-left"},{default:l(()=>[t("div",$p,i(b.row.product_name),1),t("div",xp,i(b.row.product_barcode),1),b.row.notes?(p(),P(ke,{key:0,text:b.row.notes,icon:"notes",class:"text-grey-6"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(L,{key:"subtotal",props:b,class:"text-right"},{default:l(()=>[t("div",Sp,[t("div",null,i(a(H)(b.row.subtotal_cost)),1),t("div",Vp,i(a(H)(b.row.quantity))+" x Rp. "+i(a(H)(b.row.cost)),1)])]),_:2},1032,["props"]),e(L,{key:"action",props:b,class:"text-right",style:{width:"5%"}},{default:l(()=>[e(A,{icon:"edit",color:"grey",flat:"",round:"",size:"sm",onClick:f=>r.$emit("edit-item",b.row),disable:d.isProcessing},null,8,["onClick","disable"]),e(A,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:f=>r.$emit("remove-item",b.row),disable:d.isProcessing},null,8,["onClick","disable"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","style"]))}},qp=Object.freeze(Object.defineProperty({__proto__:null,default:io},Symbol.toStringTag,{value:"Module"})),uo=$t({name:"QBtnToggle",props:{...Il,modelValue:{required:!0},options:{type:Array,required:!0,validator:d=>d.every(n=>("label"in n||"icon"in n||"slot"in n)&&"value"in n)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(d,{slots:n,emit:u}){const o=G(()=>d.options.find(g=>g.value===d.modelValue)!==void 0),r=G(()=>({type:"hidden",name:d.name,value:d.modelValue})),s=hn(r),b=G(()=>kn(d)),f=G(()=>({rounded:d.rounded,dense:d.dense,...b.value})),m=G(()=>d.options.map((g,S)=>{const{attrs:I,value:w,slot:R,...C}=g;return{slot:R,props:{key:S,"aria-pressed":w===d.modelValue?"true":"false",...I,...C,...f.value,disable:d.disable===!0||C.disable===!0,color:w===d.modelValue?y(C,"toggleColor"):y(C,"color"),textColor:w===d.modelValue?y(C,"toggleTextColor"):y(C,"textColor"),noCaps:y(C,"noCaps")===!0,noWrap:y(C,"noWrap")===!0,size:y(C,"size"),padding:y(C,"padding"),ripple:y(C,"ripple"),stack:y(C,"stack")===!0,stretch:y(C,"stretch")===!0,onClick($){c(w,g,$)}}}}));function c(g,S,I){d.readonly!==!0&&(d.modelValue===g?d.clearable===!0&&(u("update:modelValue",null,null),u("clear")):u("update:modelValue",g,S),u("click",I))}function y(g,S){return g[S]===void 0?d[S]:g[S]}function _(){const g=m.value.map(S=>_e(A,S.props,S.slot!==void 0?n[S.slot]:void 0));return d.name!==void 0&&d.disable!==!0&&o.value===!0&&s(g,"push"),Tl(n.default,g)}return()=>_e(wn,{class:"q-btn-toggle",...b.value,rounded:d.rounded,stretch:d.stretch,glossy:d.glossy,spread:d.spread},_)}}),Cp={key:0,class:"text-center q-mb-md text-grey-8"},Tp={class:"text-subtitle2 text-weight-medium"},Pp={class:"text-h5 text-center text-primary q-pb-md"},Op={class:"q-mb-md flex flex-center"},Ip={key:1},Rp={class:"col-6"},Dp={class:"col-6"},Ap={class:"row"},Up={class:"text-center q-mt-md"},jp={key:0,class:"text-h6 text-negative text-weight-bold"},Ep={key:1,class:"text-h6 text-green-8 text-weight-bold"},Mp={key:2,class:"text-h6 text-positive text-weight-bold"},Np={key:2},Bp={class:"text-h6 text-negative text-center"},zp={key:3},mo={__name:"PaymentDialog",props:{modelValue:{type:Boolean,required:!0},form:{type:Object,required:!0},supplier:{type:Object,required:!1},total:{type:Number,required:!0}},emits:["update:modelValue","accepted"],setup(d,{emit:n}){const u=d,o=n,r=fe(),s=q(!1),b=q("payment"),f=q(new Date),m=q(null),c=Pe([]),y=G(()=>c.every(M=>M.id&&typeof M.amount=="number"&&M.amount>0)),_=G(()=>r.props.accounts.map(M=>({label:M.name,value:M.id}))),g=G(()=>c.reduce((M,j)=>M+(j.amount||0),0)),S=G(()=>u.total-g.value),I=G(()=>{if(!u.supplier)return!0;const M=c.find(x=>x.id==="wallet");return(M?M.amount:0)<=u.supplier.balance}),w=new Date,R=nt.addToDate(new Date,{days:30}),C=G(()=>[M=>!!M||"Tanggal jatuh tempo harus diisi",M=>nt.isBetweenDates(M,w,R,{inclusiveFrom:!0,inclusiveTo:!0})?!0:"Tanggal tidak boleh kurang dari hari ini dan lebih dari 30 hari dari sekarang."]),$=G(()=>{if(b.value==="debt")return!!u.supplier&&C.value.every(Y=>Y(f.value)===!0);const M=c.some(Y=>(Y.amount||0)>0),j=c.every(Y=>(Y.amount||0)>=0),x=S.value<=0;return y.value&&M&&j&&x}),O=()=>{c.length<3&&c.push({id:null,amount:0})},z=M=>{if(c.length>1){const j=c.findIndex(x=>x.id===M);j!==-1&&c.splice(j,1)}},T=M=>{b.value=M,f.value=new Date,c.splice(0,c.length),M==="payment"&&_.value.length>0&&(c.splice(0,c.length,{id:_.value[0].value,amount:u.total}),wt(()=>{m.value&&m.value.length>0&&(m.value[0].focus(),m.value[0].select())}))},D=()=>{if(!$.value)return;s.value=!0;let M={total:u.total,is_debt:b.value==="debt"};if(b.value==="debt")M.due_date=nt.formatDate(f.value,"YYYY-MM-DD"),M.payments=[];else{const j=g.value,x=j>u.total?j-u.total:0,Y=S.value>0?S.value:0;M.payments=c,M.remaining_debt=Y,M.change=x}o("accepted",M),s.value=!1},E=()=>{if(_.value.length===0){console.log("Tidak ada akun yang dapat digunakan untuk pembayaran!");return}T("payment")};return(M,j)=>(p(),P(ct,{"model-value":d.modelValue,"onUpdate:modelValue":j[3]||(j[3]=x=>M.$emit("update:modelValue",x)),onBeforeShow:E},{default:l(()=>[e(pe,{style:{"min-width":"300px"}},{default:l(()=>[e(te,null,{default:l(()=>[...j[4]||(j[4]=[t("div",{class:"text-subtitle1 text-bold text-center"}," Rincian Pembayaran ",-1)])]),_:1}),e(te,{class:"q-pt-none"},{default:l(()=>[d.supplier?(p(),h("div",Cp,[t("div",Tp,[v(" Nama: "+i(d.supplier.name),1),j[5]||(j[5]=t("br",null,null,-1)),v(" Utang / Piutang: Rp. "+i(a(H)(d.supplier.balance)),1)])])):k("",!0),t("div",Pp," Total: Rp. "+i(a(H)(d.total)),1),t("div",Op,[e(a(uo),{modelValue:b.value,"onUpdate:modelValue":[j[0]||(j[0]=x=>b.value=x),T],options:[{label:"Pembayaran",value:"payment",slot:"payment",color:"green"},{label:"Tempo",value:"debt",slot:"debt",disable:!d.supplier,color:"red"}],flat:"",spread:"",class:"bg-grey-2"},null,8,["modelValue","options"])]),b.value==="payment"?(p(),h("div",Ip,[(p(!0),h(W,null,lt(c,(x,Y)=>(p(),h("div",{key:Y,class:"row q-col-gutter-sm q-mb-sm"},[t("div",Rp,[e(a(de),{modelValue:x.id,"onUpdate:modelValue":se=>x.id=se,options:_.value,label:"Akun",outlined:!0,"emit-value":"","map-options":"",dense:"",disable:s.value,"hide-bottom-space":"",rules:[se=>!!se||"Akun harus dipilih"],error:!x.id,"error-message":"Akun tidak valid",class:"custom-select"},null,8,["modelValue","onUpdate:modelValue","options","disable","rules","error"])]),t("div",Dp,[e(De,{modelValue:x.amount,"onUpdate:modelValue":se=>x.amount=se,label:"Jumlah",outlined:!0,dense:"",disable:s.value,error:!I.value,"error-message":I.value?"":"Jumlah Tidak valid!","hide-bottom-space":"",ref_for:!0,ref:Y===0?"firstPaymentInputRef":null},Fe({_:2},[c.length>1?{name:"append",fn:l(()=>[e(V,{size:"xs",name:"close",class:"cursor-pointer",onClick:se=>z(Y)},null,8,["onClick"])]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","disable","error","error-message"])])]))),128)),t("div",Ap,[e(A,{disable:!(c.length<3&&S.value>0),flat:"",dense:"",icon:"add",label:"Tambah Pembayaran",onClick:O,size:"sm"},null,8,["disable"])]),t("div",Up,[S.value>0?(p(),h("div",jp," Sisa Tagihan: Rp. "+i(a(H)(S.value)),1)):S.value<0?(p(),h("div",Ep," Kembalian: Rp. "+i(a(H)(Math.abs(S.value))),1)):(p(),h("div",Mp," Tagihan Terbayar "))])])):b.value==="debt"&&d.supplier?(p(),h("div",Np,[e($a,{outlined:"",modelValue:f.value,"onUpdate:modelValue":j[1]||(j[1]=x=>f.value=x),label:"Tanggal Jatuh Tempo",hint:"Pilih tanggal jatuh tempo pembayaran utang",class:"q-mb-md","min-date":a(w),"max-date":a(R),rules:C.value},null,8,["modelValue","min-date","max-date","rules"]),t("div",Bp," Total Utang: Rp. "+i(a(H)(d.total)),1)])):b.value==="debt"&&!d.supplier?(p(),h("div",zp,[...j[6]||(j[6]=[t("div",{class:"text-center text-negative text-h6"}," Tidak dapat mencatat utang tanpa memilih pelanggan. ",-1)])])):k("",!0)]),_:1}),e(mt,{align:"center",class:"q-mb-sm"},{default:l(()=>[e(A,{flat:"",label:"Batal",color:"grey",onClick:j[2]||(j[2]=x=>M.$emit("update:modelValue",!1))}),e(A,{label:b.value==="debt"?"Catat Utang":"Bayar",color:"positive",onClick:D,disable:s.value||!$.value,loading:s.value},null,8,["label","disable","loading"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Fp=Object.freeze(Object.defineProperty({__proto__:null,default:mo},Symbol.toStringTag,{value:"Module"})),Lp={class:"row items-center no-wrap"},Hp={class:"col-auto"},Kp={class:"full-width row flex-center text-grey-8 q-gutter-sm"},co={__name:"ProductBrowserDialog",props:{modelValue:{type:Boolean,required:!0},showCost:{type:Boolean,require:!1,default:!1}},emits:["update:modelValue","product-selected"],setup(d,{emit:n}){const u=d,o=n,r=q(null),s=q([]),b=q(!0),f=q(-1),m=Pe({search:"",status:"active",...Ae()}),c=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"cost",label:"Modal (Rp)",field:"cost",align:"right"},{name:"price",label:"Harga (Rp)",field:"price",align:"right"}],_=G(()=>u.showCost?y:y.filter(C=>C.name!=="cost"));we(()=>{g()});const g=()=>{u.modelValue!==!1&&S()},S=(C=null)=>{b.value=!0,f.value=-1,Ue({pagination:c,filter:m,props:C,rows:s,url:route("admin.product.data"),loading:b,tableRef:r})},I=()=>{g()},w=C=>{o("product-selected",C),setTimeout(()=>{o("update:modelValue",!1)},100)},R=C=>{const $=s.value.length;$!==0&&(C.key==="ArrowDown"?(C.preventDefault(),f.value=(f.value+1)%$):C.key==="ArrowUp"?(C.preventDefault(),f.value=(f.value-1+$)%$):C.key==="Enter"&&f.value!==-1&&(C.preventDefault(),w(s.value[f.value])))};return Me(()=>u.modelValue,(C,$)=>{$===!0&&C===!1&&(m.search=""),C===!0&&S()}),(C,$)=>(p(),P(ct,{"model-value":d.modelValue,"onUpdate:modelValue":$[3]||($[3]=O=>C.$emit("update:modelValue",O)),maximized:C.$q.screen.lt.sm},{default:l(()=>[e(pe,{class:"column fit",tabindex:"0",onKeydown:R,ref:"cardRef"},{default:l(()=>[e(te,{class:"q-py-sm"},{default:l(()=>[t("div",Lp,[$[4]||($[4]=t("div",{class:"col text-subtitle text-grey-8 text-bold"},"Cari Produk",-1)),t("div",Hp,[e(A,{flat:"",round:"",size:"sm",icon:"close",onClick:$[0]||($[0]=O=>C.$emit("update:modelValue",!1))})])])]),_:1}),e(te,{class:xe(["q-py-sm",C.$q.screen.lt.sm?"q-px-xs":""])},{default:l(()=>[e(oe,{autofocus:"",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":[$[1]||($[1]=O=>m.search=O),I],placeholder:"Cari produk berdasarkan nama atau barcode",clearable:""},{append:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["class"]),e(te,{class:xe(["q-py-xs col",C.$q.screen.lt.sm?"q-px-xs":""])},{default:l(()=>[e(Te,{ref_key:"tableRef",ref:r,flat:"",class:"fit full-height-table",square:"",bordered:"",dense:"",color:"primary","row-key":"id",pagination:c.value,"onUpdate:pagination":$[2]||($[2]=O=>c.value=O),filter:m.search,loading:b.value,columns:_.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:S,"binary-state-sort":"","no-data-label":"Tidak ada produk ditemukan","virtual-scroll":!0,"rows-per-page-label":null},{"no-data":l(({icon:O,message:z,filter:T})=>[t("div",Kp,[t("span",null,i(z),1)])]),body:l(O=>[e(qe,{tabindex:"0",props:O,class:xe([{inactive:!O.row.active,"selected-row":f.value===O.rowIndex},"cursor-pointer"]),onClick:z=>w(O.row),onKeydown:[ta(J(z=>w(O.row),["prevent","stop"]),["enter"]),ta(J(z=>w(O.row),["prevent"]),["space"])]},{default:l(()=>[e(L,{key:"name",props:O,class:"wrap-column"},{default:l(()=>[e(ke,{text:O.row.name},null,8,["text"]),O.row.description?(p(),P(ke,{key:0,text:O.row.description,"max-length":50,class:"text-grey-6"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(L,{key:"stock",props:O,class:"wrap-column text-right"},{default:l(()=>[v(i(O.row.type=="stocked"?a(H)(O.row.stock)+" "+O.row.uom:"-"),1)]),_:2},1032,["props"]),d.showCost?(p(),P(L,{key:"cost",props:O,class:"wrap-column text-right"},{default:l(()=>[v(i(a(H)(O.row.cost)),1)]),_:2},1032,["props"])):k("",!0),e(L,{key:"price",props:O,class:"wrap-column text-right"},{default:l(()=>[v(i(a(H)(O.row.price)),1)]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick","onKeydown"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1},8,["class"])]),_:1},512)]),_:1},8,["model-value","maximized"]))}},Yp={class:"row items-center no-wrap"},Qp={class:"col-auto"},po={__name:"ItemEditorDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,required:!1},isProcessing:{type:Boolean,required:!1}},emits:["update:modelValue","save"],setup(d,{expose:n,emit:u}){const o=d,r=u,s=()=>{r("save")},b=G(()=>o.item.quantity*o.item.cost),f=y=>{y.stopPropagation(),y.preventDefault()},m=y=>{o.modelValue&&(y.key==="Enter"?(s(),f(y)):y.key==="Escape"&&(r("update:modelValue",!1),f(y)))};return we(()=>{window.addEventListener("keydown",m)}),At(()=>{window.removeEventListener("keydown",m)}),n({getCurrentItem:()=>o.item}),(y,_)=>(p(),P(ct,{"model-value":d.modelValue,"onUpdate:modelValue":_[6]||(_[6]=g=>y.$emit("update:modelValue",g))},{default:l(()=>[e(pe,null,{default:l(()=>[e(te,{class:"q-py-sm"},{default:l(()=>[t("div",Yp,[_[7]||(_[7]=t("div",{class:"col text-subtite text-bold text-grey-8"},"Edit Item",-1)),t("div",Qp,[e(A,{flat:"",size:"sm",round:"",icon:"close",onClick:_[0]||(_[0]=g=>y.$emit("update:modelValue",!1))})])])]),_:1}),e(te,{class:"q-py-sm"},{default:l(()=>[e(oe,{modelValue:d.item.product_name,"onUpdate:modelValue":_[1]||(_[1]=g=>d.item.product_name=g),label:"Produk","hide-bottom-space":"",readonly:"",disable:d.isProcessing},null,8,["modelValue","disable"]),e(De,{modelValue:d.item.quantity,"onUpdate:modelValue":_[2]||(_[2]=g=>d.item.quantity=g),label:"Kwantitas","hide-bottom-space":"",autofocus:"",disable:d.isProcessing},null,8,["modelValue","disable"]),e(De,{modelValue:d.item.cost,"onUpdate:modelValue":_[3]||(_[3]=g=>d.item.cost=g),label:"Harga","hide-bottom-space":"",disable:d.isProcessing},null,8,["modelValue","disable"]),e(De,{modelValue:b.value,"onUpdate:modelValue":_[4]||(_[4]=g=>b.value=g),label:"Subtotal","hide-bottom-space":"",readonly:""},null,8,["modelValue"]),e(oe,{modelValue:d.item.notes,"onUpdate:modelValue":_[5]||(_[5]=g=>d.item.notes=g),label:"Catatan",autogrow:"",type:"textarea",counter:"",maxlength:"50","hide-bottom-space":"",clearable:""},null,8,["modelValue"])]),_:1}),e(mt,{align:"right"},{default:l(()=>[ee(e(A,{flat:"",label:"Batal",color:"primary",disable:d.isProcessing},null,8,["disable"]),[[ue]]),ee(e(A,{flat:"",label:"Simpan",color:"primary",onClick:s,disable:d.isProcessing},null,8,["disable"]),[[ue]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Wp=Object.freeze(Object.defineProperty({__proto__:null,default:po},Symbol.toStringTag,{value:"Module"}));function Jp(){const d=q(new Date);let n=null;const u=()=>{d.value=new Date};return we(()=>{n=setInterval(u,1e3)}),At(()=>{n&&clearInterval(n)}),{currentDateTime:d}}const Gp={class:"text-grey-8"},fo={__name:"DigitalClock",setup(d){const{currentDateTime:n}=Jp();return(u,o)=>(p(),h("div",Gp,i(a(be)(a(n))),1))}},Xp={key:0,class:"q-select__selected-item"},Zp={__name:"SupplierAutocomplete",props:{modelValue:{type:[Object],default:null},class:{type:String,default:""},label:{type:String,default:"Cari Pelanggan"},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},disable:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},minLength:{type:Number,default:0},initialData:{type:Object,default:null,required:!1}},emits:["update:modelValue","supplierSelected"],setup(d,{expose:n,emit:u}){const o=q(null),r=d,s=u,b=q([]);let f=null;const m=q(r.modelValue);we(()=>{r.initialData&&(m.value=r.initialData)}),Me(m,_=>{s("update:modelValue",_),s("supplierSelected",_)}),Me(()=>r.modelValue,_=>{m.value=_}),n({focus:()=>{o.value&&o.value.focus()}});const y=(_,g)=>{if(_.length<r.minLength){g(()=>{b.value=[]});return}f&&clearTimeout(f),f=setTimeout(()=>{We.get(`/web-api/suppliers?q=${_}`).then(S=>{g(()=>{b.value=S.data.data})}).catch(S=>{console.error("Gagal mengambil data pemasok:",S),g(()=>{b.value=[]})})},500)};return(_,g)=>(p(),P(de,{class:xe(d.class),ref_key:"qSelectRef",ref:o,modelValue:m.value,"onUpdate:modelValue":g[0]||(g[0]=S=>m.value=S),"use-input":"","input-debounce":"0",label:d.label,options:b.value,onFilter:y,clearable:"",error:d.error,behavior:"menu","error-message":d.errorMessage,disable:d.disable,"hide-bottom-space":"",outlined:d.outlined,style:{"min-width":"150px !important"},"option-value":"id","option-label":"name"},{option:l(S=>[e(ae,Al(Ul(S.itemProps)),{default:l(()=>[e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[v(i(S.opt.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),"selected-item":l(S=>[S.opt?(p(),h("div",Xp,i(S.opt.name),1)):k("",!0)]),_:1},8,["class","modelValue","label","options","error","error-message","disable","outlined"]))}},ef={__name:"HelpDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(d,{emit:n}){return(u,o)=>(p(),P(ct,{"model-value":d.modelValue,"onUpdate:modelValue":o[0]||(o[0]=r=>u.$emit("update:modelValue",r))},{default:l(()=>[e(pe,{style:{"min-width":"300px"}},{default:l(()=>[e(te,{class:"q-py-none q-pt-md"},{default:l(()=>[...o[1]||(o[1]=[t("div",{class:"text-bold text-grey-8"},"Bantuan",-1)])]),_:1}),e(te,null,{default:l(()=>[...o[2]||(o[2]=[t("table",{style:{width:"100%"},class:"info-table"},[t("thead",null,[t("tr",null,[t("th",null,"Shortcut"),t("th",null,"Aksi")])]),t("tbody",null,[t("tr",null,[t("td",null,"F1"),t("td",null,"Dialog Bantuan")]),t("tr",null,[t("td",null,"F2"),t("td",null,"Aktifkan Input Barcode")]),t("tr",null,[t("td",null,"F3"),t("td",null,"Pilih Pelanggan")]),t("tr",null,[t("td",null,"F4"),t("td",null,"Gabung / pisahkan item saat input")])])],-1)])]),_:1}),e(mt,{align:"center"},{default:l(()=>[ee(e(A,{dense:"",label:"Tutup"},null,512),[[ue]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},go=vt(ef,[["__scopeId","data-v-459ccab7"]]),tf=Object.freeze(Object.defineProperty({__proto__:null,default:go},Symbol.toStringTag,{value:"Module"}));function bo(d){const n=q(!1),u=()=>{const s=d.value||document.documentElement;s.requestFullscreen?s.requestFullscreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.msRequestFullscreen&&s.msRequestFullscreen()},o=()=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},r=()=>{n.value?o():u()};return $n(()=>{const s=()=>{n.value=!!document.fullscreenElement};return document.addEventListener("fullscreenchange",s),document.addEventListener("webkitfullscreenchange",s),document.addEventListener("mozfullscreenchange",s),document.addEventListener("MSFullscreenChange",s),()=>{document.removeEventListener("fullscreenchange",s),document.removeEventListener("webkitfullscreenchange",s),document.removeEventListener("mozfullscreenchange",s),document.removeEventListener("MSFullscreenChange",s)}}),{isFullscreen:n,requestFullscreen:u,exitFullscreen:o,toggleFullscreen:r}}const af={class:"row items-center no-wrap"},lf={class:"col text-subtite text-bold text-grey-8"},of={class:"col-auto"},vo={__name:"OrderInfoDialog",props:{modelValue:{type:Boolean,required:!0},data:{type:Object,required:!1},isProcessing:{type:Boolean,required:!1}},emits:["update:modelValue","save"],setup(d,{expose:n,emit:u}){const o=d,r=u,s=()=>{r("save")},b=c=>{c.stopPropagation(),c.preventDefault()},f=c=>{o.modelValue&&(c.key==="Enter"?(s(),b(c)):c.key==="Escape"&&(r("update:modelValue",!1),b(c)))};return we(()=>{window.addEventListener("keydown",f)}),At(()=>{window.removeEventListener("keydown",f)}),n({getCurrentItem:()=>o.item}),(c,y)=>(p(),P(ct,{"model-value":d.modelValue,"onUpdate:modelValue":y[4]||(y[4]=_=>c.$emit("update:modelValue",_))},{default:l(()=>[e(pe,null,{default:l(()=>[e(te,{class:"q-py-sm"},{default:l(()=>[t("div",af,[t("div",lf," Edit "+i(d.data.formatted_id),1),t("div",of,[e(A,{flat:"",size:"sm",round:"",icon:"close",onClick:y[0]||(y[0]=_=>c.$emit("update:modelValue",!1))})])])]),_:1}),e(te,{class:"q-py-sm"},{default:l(()=>[e(Bt,{modelValue:d.data.datetime,"onUpdate:modelValue":y[1]||(y[1]=_=>d.data.datetime=_),label:"Waktu","hide-bottom-space":"",disable:d.isProcessing,autofocus:""},null,8,["modelValue","disable"]),e(oe,{modelValue:c.$CONSTANTS.SALES_ORDER_STATUSES[d.data.status],"onUpdate:modelValue":y[2]||(y[2]=_=>c.$CONSTANTS.SALES_ORDER_STATUSES[d.data.status]=_),label:"Status","hide-bottom-space":"",readonly:"",disable:d.isProcessing},null,8,["modelValue","disable"]),e(oe,{modelValue:d.data.notes,"onUpdate:modelValue":y[3]||(y[3]=_=>d.data.notes=_),label:"Catatan",autogrow:"",type:"textarea",counter:"",maxlength:"50","hide-bottom-space":"",clearable:""},null,8,["modelValue"])]),_:1}),e(mt,{align:"right"},{default:l(()=>[ee(e(A,{flat:"",label:"Batal",color:"primary",disable:d.isProcessing},null,8,["disable"]),[[ue]]),ee(e(A,{flat:"",label:"Simpan",color:"primary",onClick:s,disable:d.isProcessing},null,8,["disable"]),[[ue]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},nf=Object.freeze(Object.defineProperty({__proto__:null,default:vo},Symbol.toStringTag,{value:"Module"})),sf={key:0},rf={style:{float:"right"}},df={key:1},uf={style:{float:"right"}},mf={key:2},cf={style:{float:"right"}},pf={key:3},ff={style:{float:"right"}},gf={style:{float:"right"}},bf={class:"q-gutter-sm"},vf={class:"q-my-md"},yf={__name:"SuccessDialog",props:{modelValue:{type:Boolean,required:!0},order:{type:Object,required:!0},total:{type:Number,required:!0},customer:{type:[Object],required:!1},payment:{type:[Object],required:!1}},emits:["update:modelValue"],setup(d,{emit:n}){const u=q(null),o=()=>{var r;(r=u.value)==null||r.focus()};return(r,s)=>(p(),P(ct,{"model-value":d.modelValue,"onUpdate:modelValue":s[0]||(s[0]=b=>r.$emit("update:modelValue",b)),onBeforeShow:o,persistent:""},{default:l(()=>[e(pe,{style:{"min-width":"300px"}},{default:l(()=>[e(te,{class:"q-py-none q-pt-md"},{default:l(()=>[...s[1]||(s[1]=[t("div",{class:"text-bold text-grey-8 text-h6",align:"center"},"Sukses",-1)])]),_:1}),e(te,{align:"center"},{default:l(()=>[s[22]||(s[22]=t("div",{class:"q-mb-md"},"Transaksi Berhasil",-1)),t("table",null,[t("tbody",null,[t("tr",null,[s[2]||(s[2]=t("td",null,"ID",-1)),s[3]||(s[3]=t("td",null,":",-1)),t("td",null,i(d.order.formatted_id),1)]),d.customer?(p(),h("tr",sf,[s[5]||(s[5]=t("td",{style:{"vertical-align":"top"}},"Pelanggan",-1)),s[6]||(s[6]=t("td",{style:{"vertical-align":"top"}},":",-1)),t("td",null,[v(i(d.customer.name)+" ",1),s[4]||(s[4]=t("br",null,null,-1)),v(i(d.customer.code),1)])])):k("",!0),t("tr",null,[s[8]||(s[8]=t("td",null,"Total",-1)),s[9]||(s[9]=t("td",null,":",-1)),t("td",null,[s[7]||(s[7]=v(" Rp. ",-1)),t("div",rf,i(a(H)(d.payment.total)),1)])]),d.payment.cash_amount?(p(),h("tr",df,[s[11]||(s[11]=t("td",null,"Tunai",-1)),s[12]||(s[12]=t("td",null,":",-1)),t("td",null,[s[10]||(s[10]=v(" Rp. ",-1)),t("div",uf,i(a(H)(d.payment.cash_amount)),1)])])):k("",!0),d.payment.wallet_amount?(p(),h("tr",mf,[s[14]||(s[14]=t("td",null,"Wallet",-1)),s[15]||(s[15]=t("td",null,":",-1)),t("td",null,[s[13]||(s[13]=v(" Rp. ",-1)),t("div",cf,i(a(H)(d.payment.wallet_amount)),1)])])):k("",!0),d.payment.remaining_debt?(p(),h("tr",pf,[s[17]||(s[17]=t("td",null,"Piutang",-1)),s[18]||(s[18]=t("td",null,":",-1)),t("td",null,[s[16]||(s[16]=v(" Rp. ",-1)),t("span",ff,i(a(H)(d.payment.remaining_debt)),1)])])):k("",!0),t("tr",null,[s[20]||(s[20]=t("td",null,"Kembalian",-1)),s[21]||(s[21]=t("td",null,":",-1)),t("td",null,[s[19]||(s[19]=v(" Rp. ",-1)),t("div",gf,i(a(H)(d.payment.change)),1)])])])])]),_:1}),e(mt,{align:"center"},{default:l(()=>[t("div",bf,[e(A,{autofocus:"",label:"Cetak Struk",icon:"print",ref_key:"printButtonRef",ref:u,color:"green"},null,512),e(A,{label:"Transaksi Baru",icon:"edit",color:"primary"})]),t("div",vf,[e(A,{label:"Kembali ke daftar transaksi",icon:"arrow_back"})])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},yo=vt(yf,[["__scopeId","data-v-15f5d36e"]]),_f=Object.freeze(Object.defineProperty({__proto__:null,default:yo},Symbol.toStringTag,{value:"Module"})),kf={class:"q-gutter-sm"},wf={class:"row items-center"},hf={class:"text-weight-bold"},$f={class:"row q-col-gutter-none full-width"},xf={class:"col-sm-6 col-12 col"},Sf={class:"row full-width"},Vf={class:"text-grey q-mt-xs q-ml-sm"},qf={class:"col-sm-6 col-12"},Cf={class:"row q-ml-sm items-end"},Tf={class:"row col grow"},Pf={class:"col-12 q-pa-sm column"},Of={class:"row items-start q-col-gutter-none q-px-sm",style:{"max-height":"80px"}},If={key:0,class:"col"},Rf={class:"text-caption text-grey-6 q-mt-xs"},Df={key:0,class:"text-caption text-grey-8 q-mt-xs"},Af={class:"text-italic"},Uf={key:1,class:"col"},jf={class:"q-pa-sm q-pb-none text-grey-8"},Ef={class:"col"},Mf={class:"row no-wrap items-start justify-between",style:{background:"#eee",padding:"10px",border:"1px solid #ddd"}},Nf={class:"text-h4 text-weight-bold"},Bf={class:"row q-px-sm q-pb-none q-py-sm q-col-gutter-sm"},zf={class:"col q-py-sm"},Ff={class:"q-py-sm"},Lf={__name:"Editor",setup(d){const n=$e(),u=fe(),o=q(!0),r=q(null),s=q(null),b=q(null),f=q(!1),m=q(null),c=q(null),{isFullscreen:y,toggleFullscreen:_}=bo(c),g=u.props.data.formatted_id,S=q(u.props.data.supplier),I=q(null),w=q(""),R=q(!1),C=q(!1),$=q(!1),O=q(!1),z=q(!1),T=q(!1),D=q(null),E=Pe({id:u.props.data.id,formatted_id:u.props.data.formatted_id,supplier_id:u.props.data.supplier_id,datetime:new Date(u.props.data.datetime),status:u.props.data.status,payment_status:u.props.data.payment_status,delivery_status:u.props.data.delivery_status,notes:u.props.data.notes,items:u.props.data.details??[]}),M=G(()=>E.items.reduce((ge,F)=>ge+F.cost*F.quantity,0)),j=()=>{var ge;_(),y.value||(ge=m==null?void 0:m.value)==null||ge.hideDrawer()},x=ge=>isNaN(ge)||ge<=0?(kt("Kuantitas tidak valid.","top"),!1):!0,Y=ge=>isNaN(ge)||ge<0?(kt("Harga tidak valid.","top"),!1):!0,se=ge=>!ge||ge.length==0?(kt("Barcode tidak valid.","top"),!1):!0,N=ge=>{w.value.endsWith("*")?w.value+=ge.name:w.value=ge.name},U=async()=>{const ge=w.value.trim();if(ge.length===0){$.value=!0;return}const F=ge.split("*");let K=1,me="",re=null;if(F.length===1)me=F[0];else if(F.length<=3)K=parseInt(F[0]),me=F[1],F.length===3&&(re=parseFloat(F[2]));else{kt("Input tidak valid.","top");return}if(me.length===0){$.value=!0;return}!se(me)&&!x(K)&&!Y(re)||(R.value=!0,await We.post(route("admin.purchase-order.add-item"),{order_id:E.id,product_code:me,qty:K,cost:re,merge:o.value}).then(ce=>{const Le=ce.data.data.item;let ot=-1;ce.data.data.mergeItem&&(ot=E.items.findIndex(_t=>_t.id===Le.id)),ot===-1?E.items.push(Le):E.items[ot]=Le,w.value="",re!==null&&re!==parseFloat(Le.cost)&&kt("Harga tidak dapat diubah!","top")}).catch(ce=>{var Le,ot;gt((ot=(Le=ce.response)==null?void 0:Le.data)==null?void 0:ot.message,"top"),console.error("Gagal mengambil data produk:",ce)}),R.value=!1,wt(()=>{var ce;(ce=r.value)==null||ce.focus()}))},Z=ge=>{D.value=Object.create(ge),O.value=!0},he=ge=>{n.dialog({title:"Hapus Item",message:`Apakah Anda yakin akan menghapus item ${ge.product_name}?`,cancel:{label:"Batal",color:"grey"},ok:{label:"Hapus",color:"negative"},persistent:!0}).onOk(()=>{R.value=!0,We.post(route("admin.purchase-order.remove-item"),{id:ge.id}).then(()=>{const F=E.items.findIndex(K=>K.id===ge.id);F!==-1&&(E.items.splice(F,1)[0],bt("Item telah dihapus","top"))}).catch(F=>{var K,me;gt(((me=(K=F==null?void 0:F.response)==null?void 0:K.data)==null?void 0:me.message)??"Terdapat kesalahan saat menghapus item!","top"),console.error(F)}).finally(()=>{R.value=!1})})},le=()=>{R.value=!0;const ge=s.value.getCurrentItem(),F={id:ge.id,qty:ge.quantity,cost:ge.cost};ge.notes&&(F.notes=ge.notes),We.post(route("admin.purchase-order.update-item"),F).then(K=>{const me=K.data.data,re=E.items.findIndex(ce=>ce.id===me.id);re!==-1&&(E.items[re]=me,bt("Item telah diperbarui","top"))}).catch(K=>{var me,re;gt(((re=(me=K==null?void 0:K.response)==null?void 0:me.data)==null?void 0:re.message)??"Terdapat kesalahan saat menyimpan!","top"),console.error(K)}).finally(()=>{R.value=!1})};we(()=>{const ge=F=>{F.key==="F1"?(F.preventDefault(),f.value=!0):F.key==="F2"?(F.preventDefault(),r.value.focus()):F.key==="F3"?(F.preventDefault(),b.value.focus()):F.key==="F4"?(F.preventDefault(),o.value=!o.value):F.key==="F10"?(F.preventDefault(),C.value=!0):F.key==="F11"&&(F.preventDefault(),j())};document.addEventListener("keydown",ge),At(()=>{document.removeEventListener("keydown",ge)}),wt(()=>{var F;(F=m==null?void 0:m.value)==null||F.hideDrawer()})});const Ce=ge=>{S.value=ge,E.supplier_id=ge==null?void 0:ge.id,Ie(),wt(()=>{var F;(F=r.value)==null||F.focus()})},Ie=()=>{R.value=!0;const ge={id:E.id,supplier_id:E.supplier_id,datetime:Zt(E.datetime),notes:E.notes};We.post(route("admin.purchase-order.update"),ge).then(F=>{const K=F.data.data.id;E.supplier_id=K.supplier_id}).catch(F=>{var K,me;gt(((me=(K=F==null?void 0:F.response)==null?void 0:K.data)==null?void 0:me.message)??"Terdapat kesalahan saat menyimpan!","top"),console.error(F)}).finally(()=>{R.value=!1})},ft=ge=>{if(E.items.length===0){bt("Item masih kosong","top");return}const F={id:E.id,...ge};R.value=!0,We.post(route("admin.purchase-order.close"),F).then(K=>{bt("Transaksi selesai"),X.visit(route("admin.purchase-order.detail",{id:E.id}))}).catch(K=>{var me,re;gt((re=(me=K.response)==null?void 0:me.data)==null?void 0:re.message),console.error(K)}).finally(()=>{R.value=!1})},pt=()=>{zt.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${E.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{We.post(route("admin.purchase-order.cancel",{id:E.id}),{id:E.id}).then(()=>{bt("Transaksi telah dibatalkan."),X.visit(route("admin.purchase-order.detail",{id:E.id}))}).catch(ge=>{var K,me;const F=((me=(K=ge.response)==null?void 0:K.data)==null?void 0:me.message)||"Terjadi kesalahan saat membatalkan transaksi.";n.notify({message:F,color:"warning",position:"bottom"}),console.error(ge)})})},yt=()=>{window.open(route("admin.purchase-order.detail",{id:E.id})+"?preview=1","_blank")};return(ge,F)=>{const K=Q("i-head"),me=Q("authenticated-layout");return p(),h(W,null,[e(K,{title:a(g)},null,8,["title"]),e(me,{ref_key:"authLayoutRef",ref:m,"show-drawer-button":!0},{title:l(()=>[v(i(a(g)),1)]),"left-button":l(()=>[t("div",kf,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:F[0]||(F[0]=re=>a(X).get(ge.route("admin.purchase-order.index")))})])]),"right-button":l(()=>[t("div",wf,[a(n).screen.gt.sm?(p(),h(W,{key:0},[t("div",hf,i(a(u).props.auth.user.username),1),F[22]||(F[22]=t("div",{class:"q-mx-sm"},"|",-1)),t("div",null,[e(fo)])],64)):k("",!0),k("",!0)])]),default:l(()=>[e(Ve,{class:"bg-grey-2 q-pa-none column fit"},{default:l(()=>[e(pe,{square:"",flat:"",class:"full-width col column q-pb-none"},{default:l(()=>[t("div",$f,[t("div",xf,[t("div",Sf,[e(Zp,{ref_key:"supplierAutocompleteRef",ref:b,class:"custom-select full-width col col-12 bg-white q-pa-sm",modelValue:S.value,"onUpdate:modelValue":F[2]||(F[2]=re=>S.value=re),label:"Pemasok",disable:R.value,onSupplierSelected:Ce,"min-length":1,outlined:"",autofocus:""},null,8,["modelValue","disable"]),t("div",Vf," Saldo: "+i(S.value?"Rp. "+a(H)(S.value?S.value.balance:0):"Tidak tersedia"),1)])]),t("div",qf,[e(oe,{ref_key:"userInputRef",ref:r,modelValue:w.value,"onUpdate:modelValue":F[5]||(F[5]=re=>w.value=re),onKeyup:F[6]||(F[6]=ta(J(re=>U(),["prevent"]),["enter"])),loading:R.value,disable:R.value,placeholder:"Qty * Kode / Barcode * Harga",class:"col col-12 q-pa-sm bg-white",outlined:"",clearable:""},{prepend:l(()=>[e(V,{name:"search",onClick:F[3]||(F[3]=re=>$.value=!0),class:"cursor-pointer"})]),append:l(()=>{var re;return[((re=w.value)==null?void 0:re.length)>0?(p(),P(V,{key:0,name:"send",onClick:F[4]||(F[4]=ce=>U()),class:"cursor-pointer q-ml-md"})):k("",!0)]}),_:1},8,["modelValue","loading","disable"]),t("div",Cf,[e(qt,{class:"col",modelValue:o.value,"onUpdate:modelValue":F[7]||(F[7]=re=>o.value=re),label:"Gabungkan item",disable:R.value},null,8,["modelValue","disable"])])])]),t("div",Tf,[t("div",Pf,[e(io,{items:E.items,onUpdateQuantity:F[8]||(F[8]=({id:re,value:ce})=>ge.updateQuantity(re,ce)),onRemoveItem:he,onEditItem:Z,"is-processing":R.value},null,8,["items","is-processing"])])]),t("div",Of,[a(n).screen.gt.sm?(p(),h("div",If,[t("div",Rf,i(E.items.length)+" item(s) ",1),E.notes?(p(),h("div",Df,[F[23]||(F[23]=t("div",{class:"text-bold"},"Catatan:",-1)),t("div",Af,[e(ke,{text:E.notes},null,8,["text"])])])):k("",!0)])):k("",!0),a(n).screen.gt.sm?(p(),h("div",Uf,[t("div",jf,[t("div",null,"#: "+i(E.formatted_id),1),t("div",null,i(a(be)(E.datetime)),1)])])):k("",!0),t("div",Ef,[t("div",Mf,[F[25]||(F[25]=t("span",{class:"text-grey-8 text-subtitle-2 text-bold"},"TOTAL",-1)),t("span",Nf,[F[24]||(F[24]=t("sup",{style:{"font-size":"13px"}},"Rp.",-1)),v(" "+i(a(H)(M.value)),1)])])])]),t("div",Bf,[t("div",zf,[e(A,{class:"full-width q-py-none",label:"Bayar",color:"primary",icon:"payment",onClick:F[9]||(F[9]=re=>C.value=!0),disable:!ge.$can("admin.purchase-order.close")||R.value||E.items.length===0||E.status!=="draft",loading:R.value},null,8,["disable","loading"])]),t("div",Ff,[e(A,{class:"q-py-none",icon:"more_vert",color:"grey",onClick:F[13]||(F[13]=J(()=>{},["stop"])),style:{width:"10px"}},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"200px"}},{default:l(()=>[ee((p(),P(ae,{clickable:"",onClick:F[10]||(F[10]=J(re=>z.value=!0,["stop"]))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"edit"})]),_:1}),e(B,null,{default:l(()=>[...F[26]||(F[26]=[v("Edit Rincian",-1)])]),_:1})]),_:1})),[[ne],[ue]]),ee((p(),P(ae,{clickable:"",onClick:F[11]||(F[11]=J(re=>yt(),["stop"]))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"preview"})]),_:1}),e(B,null,{default:l(()=>[...F[27]||(F[27]=[v("Pratinjau",-1)])]),_:1})]),_:1})),[[ne],[ue]]),ee((p(),P(ae,{clickable:"",onClick:F[12]||(F[12]=J(re=>pt(),["stop"]))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"cancel",color:"negative"})]),_:1}),e(B,{class:"text-negative"},{default:l(()=>[...F[28]||(F[28]=[v(" Batalkan ",-1)])]),_:1})]),_:1})),[[ne],[ue]]),e(Ze)]),_:1})]),_:1})]),_:1})])])]),_:1}),e(po,{ref_key:"itemEditorRef",ref:s,modelValue:O.value,"onUpdate:modelValue":F[14]||(F[14]=re=>O.value=re),item:D.value,onSave:F[15]||(F[15]=re=>le()),"is-processing":R.value},null,8,["modelValue","item","is-processing"]),e(mo,{modelValue:C.value,"onUpdate:modelValue":F[16]||(F[16]=re=>C.value=re),onAccepted:ft,form:E,supplier:S.value,total:M.value,accounts:a(u).props.accounts},null,8,["modelValue","form","supplier","total","accounts"]),e(co,{modelValue:$.value,"onUpdate:modelValue":F[17]||(F[17]=re=>$.value=re),"show-cost":!0,onProductSelected:N},null,8,["modelValue"]),e(vo,{modelValue:z.value,"onUpdate:modelValue":F[18]||(F[18]=re=>z.value=re),data:E,onSave:F[19]||(F[19]=re=>Ie()),"is-processing":R.value},null,8,["modelValue","data","is-processing"]),e(go,{modelValue:f.value,"onUpdate:modelValue":F[20]||(F[20]=re=>f.value=re)},null,8,["modelValue"]),e(yo,{modelValue:T.value,"onUpdate:modelValue":F[21]||(F[21]=re=>T.value=re),order:E,supplier:S.value,total:M.value,payment:I.value},null,8,["modelValue","order","supplier","total","payment"])]),_:1})]),_:1},512)],64)}}},Hf=Object.freeze(Object.defineProperty({__proto__:null,default:Lf},Symbol.toStringTag,{value:"Module"})),Kf={__name:"PurchaseOrderStatusChip",props:{status:{type:String,required:!0}},setup(d){const n=window.CONSTANTS.PURCHASE_ORDER_STATUSES,u={draft:"orange",closed:"green",canceled:"red"};return(o,r)=>(p(),P(ia,{status:d.status,statuses:a(n),colors:u},null,8,["status","statuses"]))}},Yf={__name:"PurchaseOrderPaymentStatusChip",props:{status:{type:String,required:!0}},setup(d){const n=window.CONSTANTS.PURCHASE_ORDER_PAYMENT_STATUSES,u={unpaid:"red",fully_paid:"green",partially_paid:"orange",refunded:"black"};return(o,r)=>(p(),P(ia,{status:d.status,statuses:a(n),colors:u},null,8,["status","statuses"]))}};const Qf={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Wf={class:"q-pa-xs"},Jf={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Gf={key:0},Xf={key:1},Zf={key:0},eg={key:0},tg={key:1},ag={class:"flex justify-end"},ml="Pembelian",lg={__name:"Index",setup(d){const n=$e(),u=q(!1),o=q([]),r=q(!0),s=q(null),b=q(null),f=Ke(b),m=Yt(),c=Qt(),y=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...Rt(m-2,m-1).reverse()],_=[{value:"all",label:"Semua Bulan"},...Dt()],g=[{value:"all",label:"Semua Status"},...et(window.CONSTANTS.PURCHASE_ORDER_STATUSES)],S=[{value:"all",label:"Semua Status"},...et(window.CONSTANTS.PURCHASE_ORDER_PAYMENT_STATUSES)],I=[{value:"all",label:"Semua Status"},...et(window.CONSTANTS.PURCHASE_ORDER_DELIVERY_STATUSES)],w=Pe({search:"",year:m,month:c,status:"all",payment_status:"all",delivery_status:"all",...Ae()}),R=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),C=[{name:"id",label:"Info Order",field:"id",align:"left",sortable:!0},{name:"supplier_id",label:"Pemasok",field:"supplier_id",align:"left"},{name:"total",label:"Total",field:"total",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}];we(()=>{E()});const $=x=>{if(x.status=="draft"){O(x);return}z(x)},O=x=>{X.get(route("admin.purchase-order.edit",x.id))},z=x=>{X.get(route("admin.purchase-order.detail",x.id))},T=x=>{zt.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${x.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{We.post(route("admin.purchase-order.cancel",{id:x.id}),{id:x.id}).then(Y=>{const se=Y.data.data,N=o.value.findIndex(U=>U.id===se.id);if(N===-1){console.warn("Item tidak ditemukan di tabel.");return}o.value[N].status="canceled",n.notify({message:Y.data.message,position:"bottom"})}).catch(Y=>{var N,U;const se=((U=(N=Y.response)==null?void 0:N.data)==null?void 0:U.message)||"Terjadi kesalahan saat membatalkan transaksi.";n.notify({message:se,color:"warning",position:"bottom"}),console.error(Y)})})},D=x=>tt({title:"Konfirmasi Penghapusan",message:`Hapus transaksi #${x.formatted_id}?`,url:route("admin.purchase-order.delete",x.id),fetchItemsCallback:E,loading:r}),E=(x=null)=>{Ue({pagination:R,filter:w,props:x,rows:o,url:route("admin.purchase-order.data"),loading:r,tableRef:s})},M=()=>{E()},j=G(()=>n.screen.gt.sm?C:C.filter(x=>x.name==="id"||x.name==="action"));return Me(()=>w.year,x=>{x===null&&(w.month=null)}),(x,Y)=>{const se=Q("i-head"),N=Q("authenticated-layout");return p(),h(W,null,[e(se,{title:ml}),e(N,null,Fe({title:l(()=>[v(i(ml))]),"right-button":l(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:Y[0]||(Y[0]=U=>u.value=!u.value)},null,8,["icon"]),x.$can("admin.purchase-order.edit")?(p(),P(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:Y[1]||(Y[1]=U=>a(X).get(x.route("admin.purchase-order.add")))})):k("",!0)]),default:l(()=>[t("div",Wf,[e(Te,{ref_key:"tableRef",ref:s,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:R.value,"onUpdate:pagination":Y[11]||(Y[11]=U=>R.value=U),filter:w.search,loading:r.value,columns:j.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Ee({height:a(f)}),onRequest:E,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:U,message:Z,filter:he})=>[t("div",Jf,[t("span",null,i(Z)+" "+i(he?" with term "+he:""),1)])]),body:l(U=>[e(qe,{props:U,class:"cursor-pointer",onClick:J(Z=>$(U.row),["prevent"])},{default:l(()=>[e(L,{key:"id",props:U,class:"wrap-column"},{default:l(()=>[t("div",null,[e(V,{name:"tag"}),v(" "+i(U.row.formatted_id),1)]),t("div",null,[e(V,{class:"inline-icon",name:"calendar_today"}),v(i(a(be)(U.row.datetime)),1)]),a(n).screen.gt.sm?k("",!0):(p(),h(W,{key:0},[U.row.supplier?(p(),h("div",Gf,[e(V,{name:"person",class:"inline-icon"}),e(jl,{href:x.route("admin.supplier.detail",{id:U.row.supplier.id}),onClick:Y[8]||(Y[8]=J(()=>{},["stop"]))},{default:l(()=>[v(" "+i(U.row.supplier.name),1)]),_:2},1032,["href"])])):k("",!0),t("div",null,"Rp. "+i(a(H)(U.row.grand_total)),1),U.row.notes?(p(),h("div",Xf,[e(V,{name:"notes"}),v(" "+i(U.row.notes),1)])):k("",!0)],64)),t("div",null,[e(Kf,{status:U.row.status},null,8,["status"]),e(Yf,{status:U.row.payment_status},null,8,["status"]),k("",!0)])]),_:2},1032,["props"]),e(L,{key:"supplier_id",props:U},{default:l(()=>[U.row.supplier?(p(),h("div",Zf,[t("div",null,[e(V,{name:"person",class:"inline-icon"}),v(" "+i(U.row.supplier_name),1)]),U.row.supplier_phone?(p(),h("div",eg,[e(V,{name:"phone",class:"inline-icon"}),v(" "+i(U.row.supplier_phone),1)])):k("",!0),U.row.supplier_address?(p(),h("div",tg,[e(V,{name:"home_pin",class:"inline-icon"}),v(" "+i(U.row.supplier_address),1)])):k("",!0)])):k("",!0)]),_:2},1032,["props"]),e(L,{key:"total",props:U},{default:l(()=>[v(i(a(H)(U.row.grand_total)),1)]),_:2},1032,["props"]),e(L,{key:"notes",props:U},{default:l(()=>[e(ke,{text:U.row.notes,icon:"notes"},null,8,["text"])]),_:2},1032,["props"]),e(L,{key:"action",props:U,onClick:Y[10]||(Y[10]=J(()=>{},["stop"]))},{default:l(()=>[t("div",ag,[x.$can("admin.purchase-order.detail")||x.$can("admin.purchase-order.edit")||x.$can("admin.purchase-order.cancel")||x.$can("admin.purchase-order.delete")?(p(),P(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:Y[9]||(Y[9]=J(()=>{},["stop"]))},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"200px"}},{default:l(()=>[U.row.status!="draft"&&x.$can("admin.purchase-order.detail")?ee((p(),P(ae,{key:0,onClick:J(Z=>z(U.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"visibility"})]),_:1}),e(B,null,{default:l(()=>[...Y[12]||(Y[12]=[v(" Lihat ",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),U.row.status=="draft"&&x.$can("admin.purchase-order.edit")?ee((p(),P(ae,{key:1,onClick:J(Z=>O(U.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"edit"})]),_:1}),e(B,null,{default:l(()=>[...Y[13]||(Y[13]=[v(" Edit ",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),U.row.status=="draft"&&x.$can("admin.purchase-order.cancel")?ee((p(),P(ae,{key:2,onClick:J(Z=>T(U.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"cancel"})]),_:1}),e(B,null,{default:l(()=>[...Y[14]||(Y[14]=[v(" Batalkan ",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),e(Ze),x.$can("admin.purchase-order.delete")?ee((p(),P(ae,{key:3,onClick:J(Z=>D(U.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"delete_forever"})]),_:1}),e(B,null,{default:l(()=>[...Y[15]||(Y[15]=[v(" Hapus ",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[u.value?{name:"header",fn:l(()=>[e(Xe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",Qf,[e(de,{modelValue:w.year,"onUpdate:modelValue":[Y[2]||(Y[2]=U=>w.year=U),M],options:y,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),w.year!="all"?(p(),P(de,{key:0,modelValue:w.month,"onUpdate:modelValue":[Y[3]||(Y[3]=U=>w.month=U),M],options:_,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:w.year===null},null,8,["modelValue","disable"])):k("",!0),e(de,{modelValue:w.status,"onUpdate:modelValue":[Y[4]||(Y[4]=U=>w.status=U),M],options:g,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(de,{modelValue:w.payment_status,"onUpdate:modelValue":[Y[5]||(Y[5]=U=>w.payment_status=U),M],options:S,label:"Status Pembayaran",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),k("",!0),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:w.search,"onUpdate:modelValue":Y[7]||(Y[7]=U=>w.search=U),placeholder:"Cari",clearable:""},{append:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},og=Object.freeze(Object.defineProperty({__proto__:null,default:lg},Symbol.toStringTag,{value:"Module"})),ng={class:"column"},sg={class:"bg-grey-2 q-pa-xs"},rg={class:"text-subtitle1 text-bold text-grey-10"},ig={class:"text-caption text-grey-8"},dg={class:"col-12 col-sm-6"},ug={class:"full-width"},mg={key:1},cg={key:0},pg={key:1},fg={class:"col-12 col-sm-6",align:"left"},gg={class:"full-width"};const bg={key:1},vg={class:"full-width",style:{"border-collapse":"collapse"}},yg={class:"q-pa-sm",style:{"border-bottom":"1px solid #eee"}},_g={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},kg={class:"text-center q-pa-sm",style:{"border-bottom":"1px solid #eee"}},wg={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},hg={key:0},$g={class:"col-12 col-sm-6"},xg={class:"text-body2 text-grey-7 text-italic"},Sg={class:"col-12 col-sm-6"},Vg={class:"row justify-end q-gutter-y-xs"},qg={class:"col-12 row justify-between"},Cg={class:"text-subtitle2 text-bold"},_o={__name:"InvoiceTab",props:{data:Object},setup(d){const n=d;return(u,o)=>{const r=Q("i-link");return p(),h("div",ng,[e(te,{class:"q-pa-none"},{default:l(()=>[t("div",sg,[t("div",rg," INVOICE #"+i(n.data.formatted_id),1),t("div",ig,[v(" Kasir: "+i(n.data.cashier.username)+" - "+i(n.data.cashier.name)+" | "+i(a(be)(n.data.datetime))+" ",1),n.data.cashier_session?(p(),h(W,{key:0},[v(" | Session ID: "+i(n.data.cashier_session.id)+" | Terminal: "+i(n.data.cashier_session.cashier_terminal.name),1)],64)):k("",!0)])])]),_:1}),e(Ze),e(te,{class:"row q-col-gutter-sm q-pa-sm",align:"left"},{default:l(()=>[t("div",dg,[o[1]||(o[1]=t("div",{class:"text-subtitle2 text-bold text-grey-8"},"Info Pelanggan",-1)),t("table",ug,[t("tbody",null,[t("tr",null,[t("td",null,[n.data.customer?(p(),P(r,{key:0,href:u.route("admin.customer.detail",{id:n.data.customer_id})},{default:l(()=>[e(V,{class:"inline-icon",name:"person"}),v(" "+i(n.data.customer_name)+" ("+i(n.data.customer_code)+") ",1)]),_:1},8,["href"])):(p(),h("div",mg,[e(V,{class:"inline-icon",name:"person"}),o[0]||(o[0]=v(" Pelanggan Umum ",-1))]))])]),n.data.customer_phone?(p(),h("tr",cg,[t("td",null,[e(V,{class:"inline-icon",name:"phone"}),v(" "+i(n.data.customer_phone),1)])])):k("",!0),n.data.customer_address?(p(),h("tr",pg,[t("td",null,[e(V,{class:"inline-icon",name:"home_pin"}),v(" "+i(n.data.customer_address),1)])])):k("",!0)])])]),t("div",fg,[o[12]||(o[12]=t("div",{class:"text-subtitle2 text-bold text-grey-8"},"Info Order",-1)),t("table",gg,[t("tbody",null,[t("tr",null,[o[2]||(o[2]=t("td",{class:"text-grey-7",style:{width:"130px"}},"Waktu",-1)),o[3]||(o[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,i(a(be)(n.data.datetime)),1)]),t("tr",null,[o[4]||(o[4]=t("td",{class:"text-grey-7"},"Status Order",-1)),o[5]||(o[5]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,i(u.$CONSTANTS.SALES_ORDER_STATUSES[n.data.status]),1)]),t("tr",null,[o[6]||(o[6]=t("td",{class:"text-grey-7"},"Status Pembayaran",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,i(u.$CONSTANTS.SALES_ORDER_PAYMENT_STATUSES[n.data.payment_status]),1)]),k("",!0),n.data.due_date?(p(),h("tr",bg,[o[10]||(o[10]=t("td",{class:"text-grey-7"},"Jatuh Tempo",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,i(a(Ht)(n.data.due_date)),1)])):k("",!0)])])])]),_:1}),e(Ze),e(te,{class:"q-pa-sm"},{default:l(()=>[t("table",vg,[o[14]||(o[14]=t("thead",{class:"text-grey-8"},[t("tr",null,[t("th",{class:"text-left q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Item "),t("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Harga (Rp) "),t("th",{class:"text-center q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Jumlah "),t("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Total (Rp) ")])],-1)),t("tbody",null,[(p(!0),h(W,null,lt(n.data.details,s=>(p(),h("tr",{key:s.id},[t("td",yg,i(s.product_name),1),t("td",_g,i(a(H)(s.price)),1),t("td",kg,i(s.quantity),1),t("td",wg,i(a(H)(s.subtotal_price)),1)]))),128)),n.data.details.length==0?(p(),h("tr",hg,[...o[13]||(o[13]=[t("td",{colspan:"4",class:"text-center text-grey"},"Belum ada item",-1)])])):k("",!0)])])]),_:1}),e(Ze),e(te,{class:"row",align:"left"},{default:l(()=>[t("div",$g,[o[15]||(o[15]=t("div",{class:"text-subtitle2 text-bold text-grey-8 q-mb-xs"},"Catatan:",-1)),t("div",xg,i(n.data.notes?n.data.notes:"-"),1)]),t("div",Sg,[t("div",Vg,[t("div",qg,[o[16]||(o[16]=t("div",{class:"text-subtitle2 text-grey-7"},"Grand Total (Rp)",-1)),t("div",Cg,i(a(H)(n.data.grand_total)),1)])])])]),_:1})])}}},Tg=Object.freeze(Object.defineProperty({__proto__:null,default:_o},Symbol.toStringTag,{value:"Module"})),Pg={key:0,class:"text-center q-mb-md text-grey-8"},Og={class:"text-subtitle2 text-weight-medium"},Ig={class:"text-h5 text-center text-primary q-pb-md"},Rg={class:"text-center q-mt-md"},Dg={key:0,class:"text-h6 text-negative text-weight-bold"},Ag={key:1,class:"text-h6 text-green-8 text-weight-bold"},Ug={key:2,class:"text-h6 text-positive text-weight-bold"},ko={__name:"PaymentDialog",props:{modelValue:{type:Boolean,required:!0},total:{type:Number,required:!0}},emits:["update:modelValue","accepted"],setup(d,{emit:n}){const u=d,o=n,r=fe(),s=q(!1),b=q({method:"cash",amount:u.total,notes:null}),f=r.props.data.customer,m=G(()=>[{label:"Tunai",value:"cash"},...f?[{label:"Wallet",value:"wallet"}]:[],...r.props.accounts.map(I=>({label:I.name,value:I.id}))]),c=G(()=>u.total-(b.value.amount||0)),y=G(()=>{const I=b.value.amount||0;return u.total,I<=0?"Jumlah pembayaran harus lebih dari 0.":b.value.method==="wallet"&&f&&I>f.wallet_balance?"Saldo wallet tidak mencukupi.":null}),_=G(()=>y.value===null),g=()=>{if(!_.value)return;s.value=!0;const I={total_paid:b.value.amount,payments:[{id:b.value.method,amount:b.value.amount}],notes:b.value.notes,change:Math.max(0,(b.value.amount||0)-u.total),remaining_debt:Math.max(0,u.total-(b.value.amount||0))};o("accepted",I),s.value=!1},S=()=>{b.value.amount=u.total,b.value.method="cash",b.value.notes=null};return(I,w)=>(p(),P(ct,{"model-value":d.modelValue,"onUpdate:modelValue":w[4]||(w[4]=R=>I.$emit("update:modelValue",R)),onBeforeShow:S},{default:l(()=>[e(pe,{style:{"min-width":"300px"}},{default:l(()=>[e(te,null,{default:l(()=>[...w[5]||(w[5]=[t("div",{class:"text-subtitle1 text-bold text-center"}," Rincian Pembayaran ",-1)])]),_:1}),e(te,{class:"q-pt-none"},{default:l(()=>[a(f)?(p(),h("div",Pg,[t("div",Og,[v(i(a(f).code)+" ",1),w[6]||(w[6]=t("br",null,null,-1)),v(" "+i(a(f).name)+" ",1),w[7]||(w[7]=t("br",null,null,-1)),v(" Saldo: Rp. "+i(a(H)(a(f).wallet_balance)),1)])])):k("",!0),t("div",Ig," Total: Rp. "+i(a(H)(d.total)),1),e(a(de),{modelValue:b.value.method,"onUpdate:modelValue":w[0]||(w[0]=R=>b.value.method=R),options:m.value,label:"Metode Pembayaran",outlined:!0,"emit-value":"","map-options":"",dense:"",class:"q-mb-md",disable:s.value},null,8,["modelValue","options","disable"]),e(De,{modelValue:b.value.amount,"onUpdate:modelValue":w[1]||(w[1]=R=>b.value.amount=R),label:"Jumlah Uang",outlined:!0,dense:"",disable:s.value,class:"q-mb-md",error:!_.value,"error-message":y.value},null,8,["modelValue","disable","error","error-message"]),e(oe,{modelValue:b.value.notes,"onUpdate:modelValue":w[2]||(w[2]=R=>b.value.notes=R),label:"Catatan",outlined:!0,type:"textarea",rows:"2",disable:s.value,class:"q-mb-md"},null,8,["modelValue","disable"]),t("div",Rg,[c.value>0?(p(),h("div",Dg," Sisa Tagihan: Rp. "+i(a(H)(c.value)),1)):c.value<0?(p(),h("div",Ag," Kembalian: Rp. "+i(a(H)(Math.abs(c.value))),1)):(p(),h("div",Ug," Tagihan Terbayar "))])]),_:1}),e(mt,{align:"center",class:"q-mb-sm"},{default:l(()=>[e(A,{flat:"",label:"Batal",color:"grey",onClick:w[3]||(w[3]=R=>I.$emit("update:modelValue",!1))}),e(A,{label:"Bayar",color:"positive",onClick:g,disable:s.value||!_.value,loading:s.value},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},jg=Object.freeze(Object.defineProperty({__proto__:null,default:ko},Symbol.toStringTag,{value:"Module"})),Eg={class:"column"},Mg={class:"full-width",style:{"border-collapse":"collapse"}},Ng={class:"q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Bg={class:"row items-center q-gutter-x-sm"},zg={class:"text-weight-bold"},Fg={class:"row items-center q-gutter-x-sm q-mt-xs"},Lg={class:"text-caption text-grey-6"},Hg={key:0,class:"row items-center q-gutter-x-sm q-mt-xs"},Kg={class:"text-caption text-grey-6"},Yg={class:"q-mt-xs"},Qg={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Wg={class:"text-right q-pa-sm",style:{"border-bottom":"1px solid #eee"}},Jg={key:0},Gg={class:"q-pa-sm"},Xg={class:"text-right q-pa-sm"},Zg={class:"text-right q-pa-sm"},wo={__name:"PaymentTab",props:{data:Object},setup(d){const n=d,u=G(()=>n.data.grand_total-n.data.total_paid),o=$e(),r=q(!1),s=()=>{r.value=!0},b=async m=>{const c={order_id:n.data.id,payments:m.payments,notes:m.notes};o.loading.show({message:"Memproses pembayaran..."});try{const y=await We.post(route("admin.sales-order.add-payment"),c);o.notify({message:"Pembayaran berhasil diproses!",color:"positive",icon:"check_circle"}),r.value=!1,X.visit(route("admin.sales-order.detail",{id:n.data.id})+"?tab=payment")}catch(y){let _="Gagal memproses pembayaran.";y.response&&y.response.data&&y.response.data.message?_=y.response.data.message:y.message&&(_=y.message),o.notify({message:_,color:"negative",icon:"error"})}finally{o.loading.hide()}},f=m=>{o.dialog({title:"Konfirmasi",message:"Apakah Anda yakin ingin menghapus pembayaran ini?",cancel:!0,persistent:!0}).onOk(async()=>{o.loading.show({message:"Menghapus pembayaran..."});try{await We.post(route("admin.sales-order.delete-payment",{id:m.id})),o.notify({message:"Pembayaran berhasil dihapus!",color:"positive",icon:"check_circle"}),X.visit(route("admin.sales-order.detail",{id:n.data.id})+"?tab=payment")}catch(c){let y="Gagal menghapus pembayaran.";c.response&&c.response.data&&c.response.data.message?y=c.response.data.message:c.message&&(y=c.message),o.notify({message:y,color:"negative",icon:"error"})}finally{o.loading.hide()}})};return(m,c)=>(p(),h(W,null,[t("div",Eg,[e(Ze),e(te,{class:"q-pa-sm"},{default:l(()=>[t("table",Mg,[c[6]||(c[6]=t("thead",{class:"text-grey-8"},[t("tr",null,[t("th",{class:"text-left q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Detail Transaksi "),t("th",{class:"text-right q-pa-sm",style:{"border-bottom":"2px solid #ddd"}}," Jumlah (Rp) "),t("th",{class:"text-center q-pa-sm",style:{"border-bottom":"2px solid #ddd"}})])],-1)),t("tbody",null,[(p(!0),h(W,null,lt(n.data.payments,y=>(p(),h("tr",{key:y.id},[t("td",Ng,[t("div",Bg,[e(V,{name:"tag",size:"xs",color:"grey-7"}),t("span",zg,i(y.formatted_id),1)]),t("div",Fg,[e(V,{name:"calendar_today",size:"xs",color:"grey-7"}),t("span",Lg,i(a(be)(y.created_at)),1)]),(y.type==="transfer"||y.type==="cash")&&y.account?(p(),h("div",Hg,[e(V,{name:"wallet",size:"xs",color:"grey-7"}),t("span",Kg,i(y.account.name),1)])):k("",!0),t("div",Yg,[e(ut,{label:m.$CONSTANTS.SALES_ORDER_PAYMENT_TYPES[y.type],color:"secondary",class:"q-py-xs"},null,8,["label"])])]),t("td",Qg,i(a(H)(y.amount)),1),t("td",Wg,[m.$can("admin.sales-order.delete-payment")?(p(),P(A,{key:0,icon:"delete",color:"negative",dense:"",flat:"",rounded:"",size:"sm",onClick:_=>f(y)},null,8,["onClick"])):k("",!0)])]))),128)),n.data.payments.length==0?(p(),h("tr",Jg,[...c[2]||(c[2]=[t("td",{colspan:"100%",class:"text-center text-grey"},"Belum ada item",-1)])])):k("",!0)]),t("tfoot",null,[t("tr",null,[t("td",Gg,[m.$can("admin.sales-order.add-payment")&&u.value>0?(p(),P(A,{key:0,label:"Tambah",color:"primary",icon:"add",dense:"",class:"custom-dense",size:"sm",onClick:c[0]||(c[0]=J(y=>s(),["stop"]))})):k("",!0)]),c[3]||(c[3]=t("th",{class:"text-right q-pa-sm",colspan:"1"},"Total Dibayar",-1)),t("th",Xg,i(a(H)(n.data.total_paid)),1)]),t("tr",null,[c[4]||(c[4]=t("th",{class:"text-right q-pa-sm",colspan:"2"},"Sisa Tagihan",-1)),t("th",Zg,i(a(H)(u.value)),1),c[5]||(c[5]=t("td",null,null,-1))])])])]),_:1})]),e(ko,{modelValue:r.value,"onUpdate:modelValue":c[1]||(c[1]=y=>r.value=y),total:u.value,customer:n.data.customer,onAccepted:b},null,8,["modelValue","total","customer"])],64))}},e1=Object.freeze(Object.defineProperty({__proto__:null,default:wo},Symbol.toStringTag,{value:"Module"})),t1={class:"q-gutter-sm"},a1={class:"col col-lg-6 q-pa-xs",align:"center"},cl="Rincian Penjualan",l1={__name:"Detail",setup(d){const n=new URLSearchParams(window.location.search),u=fe(),o=u.props.data,r=q(n.get("preview")||!1),b=q(n.get("tab")||"invoice");we(()=>{wt(()=>{const m=n.get("print_size");m&&f(m)})});const f=m=>{window.open(route("admin.sales-order.print",{id:u.props.data.id,size:m}),"_self")};return(m,c)=>{const y=Q("i-head"),_=Q("authenticated-layout");return p(),h(W,null,[e(y,{title:cl}),e(_,{"show-drawer-button":!0},{title:l(()=>[t("div",{class:"row items-center q-gutter-x-sm"},[t("span",null,i(cl))])]),"left-button":l(()=>[t("div",t1,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:c[0]||(c[0]=g=>m.$goBack())})])]),"right-button":l(()=>[e(A,{icon:"receipt",dense:"",color:"primary",flat:"",rounded:"",onClick:c[1]||(c[1]=g=>f("58mm"))}),e(A,{icon:"print",dense:"",color:"primary",flat:"",rounded:"",onClick:c[2]||(c[2]=g=>f("a4"))}),r.value?k("",!0):(p(),P(A,{key:0,class:"q-ml-sm",icon:"add",dense:"",color:"primary",rounded:"",onClick:c[3]||(c[3]=g=>a(X).get(m.route("admin.sales-order.add")))}))]),default:l(()=>[e(Ve,{class:"row justify-center print-visible"},{default:l(()=>[t("div",a1,[e(pe,{square:"",flat:"",bordered:"",class:"full-width",style:{"max-width":"1024px"}},{default:l(()=>[e(Ut,{modelValue:b.value,"onUpdate:modelValue":c[4]||(c[4]=g=>b.value=g),dense:"",class:"text-grey-7","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[e(st,{name:"invoice",label:"Invoice"}),r.value?k("",!0):(p(),P(st,{key:0,name:"payment",label:"Pembayaran"}))]),_:1},8,["modelValue"]),e(Ze),e(jt,{modelValue:b.value,"onUpdate:modelValue":c[5]||(c[5]=g=>b.value=g),animated:""},{default:l(()=>[e(rt,{name:"invoice",class:"q-pa-none"},{default:l(()=>[e(_o,{data:a(o)},null,8,["data"])]),_:1}),e(rt,{name:"payment",class:"q-pa-none"},{default:l(()=>[e(wo,{data:a(o)},null,8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),_:1})]),_:1})],64)}}},o1=Object.freeze(Object.defineProperty({__proto__:null,default:l1},Symbol.toStringTag,{value:"Module"})),n1={class:"text-weight-medium"},s1={class:"text-caption text-grey-6"},r1={class:"column items-end"},i1={class:"text-caption text-grey-6 text-italic"},ho={__name:"ItemsListTable",props:{items:{type:Array,required:!0},isProcessing:{type:Boolean,default:!1}},emits:["update-quantity","remove-item","edit-item"],setup(d){const n=$e(),u=Ke(null,n.screen.lt.sm?395:310),o=[{name:"name",required:!0,label:"Item",align:"left",field:"name",sortable:!1},{name:"subtotal_price",label:"Sub Total (Rp.)",align:"right",sortable:!1},{name:"action",label:"",align:"right",sortable:!1}];return(r,s)=>(p(),P(Te,{dense:"",rows:d.items,columns:o,"row-key":"id",flat:"",square:"",bordered:"",class:"full-height-table","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48,style:Ee({height:a(u)})},{header:l(b=>[e(qe,{props:b,class:"bg-grey-4"},{default:l(()=>[(p(!0),h(W,null,lt(b.cols,f=>(p(),P(ea,{key:f.name,props:b,class:"text-weight-bold text-grey-8"},{default:l(()=>[v(i(f.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(b=>[e(qe,{props:b,class:"hover-highlight"},{default:l(()=>[e(L,{key:"name",props:b,class:"text-left"},{default:l(()=>[t("div",n1,i(b.row.product_name),1),t("div",s1,i(b.row.product_barcode),1),b.row.notes?(p(),P(ke,{key:0,text:b.row.notes,icon:"notes",class:"text-grey-6"},null,8,["text"])):k("",!0)]),_:2},1032,["props"]),e(L,{key:"subtotal_price",props:b,class:"text-right"},{default:l(()=>[t("div",r1,[t("div",null,i(a(H)(b.row.subtotal_price)),1),t("div",i1,i(a(H)(b.row.quantity))+" x Rp. "+i(a(H)(b.row.price)),1)])]),_:2},1032,["props"]),e(L,{key:"action",props:b,class:"text-right",style:{width:"5%"}},{default:l(()=>[e(A,{icon:"edit",color:"grey",flat:"",round:"",size:"sm",onClick:f=>r.$emit("edit-item",b.row),disable:d.isProcessing},null,8,["onClick","disable"]),e(A,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:f=>r.$emit("remove-item",b.row),disable:d.isProcessing},null,8,["onClick","disable"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","style"]))}},d1=Object.freeze(Object.defineProperty({__proto__:null,default:ho},Symbol.toStringTag,{value:"Module"})),u1={key:0,class:"text-center q-mb-md text-grey-8"},m1={class:"text-subtitle2 text-weight-medium"},c1={class:"text-h5 text-center text-primary q-pb-md"},p1={class:"q-mb-md flex flex-center"},f1={key:1},g1={class:"col-6"},b1={class:"col-6"},v1={class:"row"},y1={class:"text-center q-mt-md"},_1={key:0,class:"text-h6 text-negative text-weight-bold"},k1={key:1,class:"text-h6 text-green-8 text-weight-bold"},w1={key:2,class:"text-h6 text-positive text-weight-bold"},h1={key:2},$1={class:"text-h6 text-negative text-center"},x1={key:3},$o={__name:"PaymentDialog",props:{modelValue:{type:Boolean,required:!0},form:{type:Object,required:!0},customer:{type:Object,required:!1},total:{type:Number,required:!0}},emits:["update:modelValue","accepted"],setup(d,{emit:n}){const u=d,o=n,r=fe(),s=q(!1),b=q("cash"),f=q(new Date),m=q(null),c=Pe([{id:"cash",amount:0}]),y=r.props.settings.default_payment_mode,_=G(()=>[{label:"Tunai",value:"cash"},...u.customer?[{label:"Wallet",value:"wallet"}]:[],...r.props.accounts.map(M=>({label:M.name,value:M.id}))]),g=G(()=>c.reduce((M,j)=>M+(j.amount||0),0)),S=G(()=>u.total-g.value),I=G(()=>{if(!u.customer)return!0;const M=c.find(x=>x.id==="wallet");return(M?M.amount:0)<=u.customer.wallet_balance}),w=new Date,R=nt.addToDate(new Date,{days:30}),C=G(()=>[M=>!!M||"Tanggal jatuh tempo harus diisi",M=>nt.isBetweenDates(M,w,R,{inclusiveFrom:!0,inclusiveTo:!0})?!0:"Tanggal tidak boleh kurang dari hari ini dan lebih dari 30 hari dari sekarang."]),$=G(()=>{if(b.value==="debt")return!!u.customer&&C.value.every(se=>se(f.value)===!0);const M=I.value,j=c.some(se=>(se.amount||0)>0),x=c.every(se=>(se.amount||0)>=0),Y=S.value<=0;return M&&j&&x&&Y}),O=()=>{c.length<3&&c.push({id:"cash",amount:0})},z=M=>{if(c.length>1){const j=c.findIndex(x=>x.id===M);j!==-1&&c.splice(j,1)}},T=(M,j="cash")=>{b.value=M,f.value=new Date,c.splice(0,c.length),M==="cash"&&(c.splice(0,c.length,{id:j,amount:u.total}),wt(()=>{m.value&&m.value.length>0&&(m.value[0].focus(),m.value[0].select())}))},D=()=>{if(!$.value)return;s.value=!0;let M={total:u.total,is_debt:b.value==="debt"};if(b.value==="debt")M.due_date=nt.formatDate(f.value,"YYYY-MM-DD"),M.payments=[];else{const j=g.value,x=j>u.total?j-u.total:0,Y=S.value>0?S.value:0;M.payments=c,M.remaining_debt=Y,M.change=x}o("accepted",M),s.value=!1},E=()=>{T("cash",u.customer?y:"cash"),wt(()=>{})};return(M,j)=>(p(),P(ct,{"model-value":d.modelValue,"onUpdate:modelValue":j[3]||(j[3]=x=>M.$emit("update:modelValue",x)),onBeforeShow:E},{default:l(()=>[e(pe,{style:{"min-width":"300px"}},{default:l(()=>[e(te,null,{default:l(()=>[...j[4]||(j[4]=[t("div",{class:"text-subtitle1 text-bold text-center"}," Rincian Pembayaran ",-1)])]),_:1}),e(te,{class:"q-pt-none"},{default:l(()=>[d.customer?(p(),h("div",u1,[t("div",m1,[v(" Username: "+i(d.customer.code)+" ",1),j[5]||(j[5]=t("br",null,null,-1)),v(" Nama: "+i(d.customer.name),1),j[6]||(j[6]=t("br",null,null,-1)),v(" Saldo: Rp. "+i(a(H)(d.customer.wallet_balance)),1)])])):k("",!0),t("div",c1," Total: Rp. "+i(a(H)(d.total)),1),t("div",p1,[e(a(uo),{modelValue:b.value,"onUpdate:modelValue":[j[0]||(j[0]=x=>b.value=x),T],options:[{label:"Tunai",value:"cash",slot:"cash",color:"green"},{label:"Tempo",value:"debt",slot:"debt",disable:!d.customer,color:"red"}],flat:"",spread:"",class:"bg-grey-2"},null,8,["modelValue","options"])]),b.value==="cash"?(p(),h("div",f1,[(p(!0),h(W,null,lt(c,(x,Y)=>(p(),h("div",{key:x.id,class:"row q-col-gutter-sm q-mb-sm"},[t("div",g1,[e(a(de),{modelValue:x.id,"onUpdate:modelValue":se=>x.id=se,options:_.value,label:"Metode Pembayaran",outlined:!0,"emit-value":"","map-options":"",dense:"",class:"custom-select",disable:s.value,"hide-bottom-space":""},null,8,["modelValue","onUpdate:modelValue","options","disable"])]),t("div",b1,[e(De,{modelValue:x.amount,"onUpdate:modelValue":se=>x.amount=se,label:"Jumlah",outlined:!0,dense:"",disable:s.value,error:x.id==="wallet"&&!I.value,"error-message":x.id==="wallet"&&!I.value?"Saldo tidak cukup!":"","hide-bottom-space":"",ref_for:!0,ref:Y===0?"firstPaymentInputRef":null},Fe({_:2},[c.length>1?{name:"append",fn:l(()=>[e(V,{size:"xs",name:"close",class:"cursor-pointer",onClick:se=>z(x.id)},null,8,["onClick"])]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","disable","error","error-message"])])]))),128)),t("div",v1,[e(A,{disable:!(c.length<3&&S.value>0),flat:"",dense:"",icon:"add",label:"Tambah Pembayaran",onClick:O,size:"sm"},null,8,["disable"])]),t("div",y1,[S.value>0?(p(),h("div",_1," Sisa Tagihan: Rp. "+i(a(H)(S.value)),1)):S.value<0?(p(),h("div",k1," Kembalian: Rp. "+i(a(H)(Math.abs(S.value))),1)):(p(),h("div",w1," Tagihan Terbayar "))])])):b.value==="debt"&&d.customer?(p(),h("div",h1,[e($a,{outlined:"",modelValue:f.value,"onUpdate:modelValue":j[1]||(j[1]=x=>f.value=x),label:"Tanggal Jatuh Tempo",hint:"Pilih tanggal jatuh tempo pembayaran utang",class:"q-mb-md","min-date":a(w),"max-date":a(R),rules:C.value},null,8,["modelValue","min-date","max-date","rules"]),t("div",$1," Total Utang: Rp. "+i(a(H)(d.total)),1)])):b.value==="debt"&&!d.customer?(p(),h("div",x1,[...j[7]||(j[7]=[t("div",{class:"text-center text-negative text-h6"}," Tidak dapat mencatat utang tanpa memilih pelanggan. ",-1)])])):k("",!0)]),_:1}),e(mt,{align:"center",class:"q-mb-sm"},{default:l(()=>[e(A,{flat:"",label:"Batal",color:"grey",onClick:j[2]||(j[2]=x=>M.$emit("update:modelValue",!1))}),e(A,{label:b.value==="debt"?"Catat Utang":"Bayar",color:"positive",onClick:D,disable:s.value||!$.value,loading:s.value},null,8,["label","disable","loading"])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},S1=Object.freeze(Object.defineProperty({__proto__:null,default:$o},Symbol.toStringTag,{value:"Module"})),V1={class:"row items-center no-wrap"},q1={class:"col-auto"},xo={__name:"ItemEditorDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,required:!1},isProcessing:{type:Boolean,required:!1}},emits:["update:modelValue","save"],setup(d,{expose:n,emit:u}){const o=d,r=u,s=()=>{r("save")},b=G(()=>o.item.quantity*o.item.price),f=y=>{y.stopPropagation(),y.preventDefault()},m=y=>{o.modelValue&&(y.key==="Enter"?(s(),f(y)):y.key==="Escape"&&(r("update:modelValue",!1),f(y)))};return we(()=>{window.addEventListener("keydown",m)}),At(()=>{window.removeEventListener("keydown",m)}),n({getCurrentItem:()=>o.item}),(y,_)=>(p(),P(ct,{"model-value":d.modelValue,"onUpdate:modelValue":_[6]||(_[6]=g=>y.$emit("update:modelValue",g))},{default:l(()=>[e(pe,null,{default:l(()=>[e(te,{class:"q-py-sm"},{default:l(()=>[t("div",V1,[_[7]||(_[7]=t("div",{class:"col text-subtite text-bold text-grey-8"},"Edit Item",-1)),t("div",q1,[e(A,{flat:"",size:"sm",round:"",icon:"close",onClick:_[0]||(_[0]=g=>y.$emit("update:modelValue",!1))})])])]),_:1}),e(te,{class:"q-py-sm"},{default:l(()=>[e(oe,{modelValue:d.item.product_name,"onUpdate:modelValue":_[1]||(_[1]=g=>d.item.product_name=g),label:"Produk","hide-bottom-space":"",readonly:"",disable:d.isProcessing},null,8,["modelValue","disable"]),e(De,{modelValue:d.item.quantity,"onUpdate:modelValue":_[2]||(_[2]=g=>d.item.quantity=g),label:"Kwantitas","hide-bottom-space":"",autofocus:"",disable:d.isProcessing},null,8,["modelValue","disable"]),e(De,{modelValue:d.item.price,"onUpdate:modelValue":_[3]||(_[3]=g=>d.item.price=g),label:"Harga",readonly:!d.item.price_editable,"hide-bottom-space":"",disable:d.isProcessing},null,8,["modelValue","readonly","disable"]),e(De,{modelValue:b.value,"onUpdate:modelValue":_[4]||(_[4]=g=>b.value=g),label:"Subtotal","hide-bottom-space":"",readonly:""},null,8,["modelValue"]),e(oe,{modelValue:d.item.notes,"onUpdate:modelValue":_[5]||(_[5]=g=>d.item.notes=g),label:"Catatan",autogrow:"",type:"textarea",counter:"",maxlength:"50","hide-bottom-space":"",clearable:""},null,8,["modelValue"])]),_:1}),e(mt,{align:"right"},{default:l(()=>[ee(e(A,{flat:"",label:"Batal",color:"primary",disable:d.isProcessing},null,8,["disable"]),[[ue]]),ee(e(A,{flat:"",label:"Simpan",color:"primary",onClick:s,disable:d.isProcessing},null,8,["disable"]),[[ue]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},C1=Object.freeze(Object.defineProperty({__proto__:null,default:xo},Symbol.toStringTag,{value:"Module"})),T1={key:0,class:"q-select__selected-item"},P1={__name:"CustomerAutocomplete",props:{modelValue:{type:[Object],default:null},class:{type:String,default:""},label:{type:String,default:"Cari Pelanggan"},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},disable:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},minLength:{type:Number,default:0},initialData:{type:Object,default:null,required:!1}},emits:["update:modelValue","customerSelected"],setup(d,{expose:n,emit:u}){const o=q(null),r=d,s=u,b=q([]);let f=null;const m=q(r.modelValue);we(()=>{r.initialData&&(m.value=r.initialData)}),Me(m,_=>{s("update:modelValue",_),s("customerSelected",_)}),Me(()=>r.modelValue,_=>{m.value=_}),n({focus:()=>{o.value&&o.value.focus()}});const y=(_,g)=>{if(_.length<r.minLength){g(()=>{b.value=[]});return}f&&clearTimeout(f),f=setTimeout(()=>{We.get(`/web-api/customers?q=${_}`).then(S=>{g(()=>{b.value=S.data.data})}).catch(S=>{console.error("Gagal mengambil data pelanggan:",S),g(()=>{b.value=[]})})},500)};return(_,g)=>(p(),P(de,{class:xe(d.class),ref_key:"qSelectRef",ref:o,modelValue:m.value,"onUpdate:modelValue":g[0]||(g[0]=S=>m.value=S),"use-input":"","input-debounce":"0",label:d.label,options:b.value,onFilter:y,clearable:"",error:d.error,behavior:"menu","error-message":d.errorMessage,disable:d.disable,"hide-bottom-space":"",outlined:d.outlined,style:{"min-width":"150px !important"},"option-value":"id","option-label":"name"},{option:l(S=>[e(ae,Al(Ul(S.itemProps)),{default:l(()=>[e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[v(i(S.opt.name),1)]),_:2},1024),e(ye,{caption:""},{default:l(()=>[e(V,{name:"person",size:"14px"}),v(" "+i(S.opt.code),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),"selected-item":l(S=>[S.opt?(p(),h("div",T1,i(S.opt.name)+" ("+i(S.opt.code)+") ",1)):k("",!0)]),_:1},8,["class","modelValue","label","options","error","error-message","disable","outlined"]))}},O1={__name:"HelpDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(d,{emit:n}){return(u,o)=>(p(),P(ct,{"model-value":d.modelValue,"onUpdate:modelValue":o[0]||(o[0]=r=>u.$emit("update:modelValue",r))},{default:l(()=>[e(pe,{style:{"min-width":"300px"}},{default:l(()=>[e(te,{class:"q-py-none q-pt-md"},{default:l(()=>[...o[1]||(o[1]=[t("div",{class:"text-bold text-grey-8"},"Bantuan",-1)])]),_:1}),e(te,null,{default:l(()=>[...o[2]||(o[2]=[t("table",{style:{width:"100%"},class:"info-table"},[t("thead",null,[t("tr",null,[t("th",null,"Shortcut"),t("th",null,"Aksi")])]),t("tbody",null,[t("tr",null,[t("td",null,"F1"),t("td",null,"Dialog Bantuan")]),t("tr",null,[t("td",null,"F2"),t("td",null,"Aktifkan Input Barcode")]),t("tr",null,[t("td",null,"F3"),t("td",null,"Pilih Pelanggan")]),t("tr",null,[t("td",null,"F4"),t("td",null,"Gabung / pisahkan item saat input")])])],-1)])]),_:1}),e(mt,{align:"center"},{default:l(()=>[ee(e(A,{dense:"",label:"Tutup"},null,512),[[ue]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},So=vt(O1,[["__scopeId","data-v-ed1bbfe5"]]),I1=Object.freeze(Object.defineProperty({__proto__:null,default:So},Symbol.toStringTag,{value:"Module"})),R1={class:"row items-center no-wrap"},D1={class:"col text-subtite text-bold text-grey-8"},A1={class:"col-auto"},Vo={__name:"OrderInfoDialog",props:{modelValue:{type:Boolean,required:!0},data:{type:Object,required:!1},isProcessing:{type:Boolean,required:!1}},emits:["update:modelValue","save"],setup(d,{expose:n,emit:u}){const o=d,r=u,s=()=>{r("save")},b=c=>{c.stopPropagation(),c.preventDefault()},f=c=>{o.modelValue&&(c.key==="Enter"?(s(),b(c)):c.key==="Escape"&&(r("update:modelValue",!1),b(c)))};return we(()=>{window.addEventListener("keydown",f)}),At(()=>{window.removeEventListener("keydown",f)}),n({getCurrentItem:()=>o.item}),(c,y)=>(p(),P(ct,{"model-value":d.modelValue,"onUpdate:modelValue":y[4]||(y[4]=_=>c.$emit("update:modelValue",_))},{default:l(()=>[e(pe,null,{default:l(()=>[e(te,{class:"q-py-sm"},{default:l(()=>[t("div",R1,[t("div",D1," Edit "+i(d.data.formatted_id),1),t("div",A1,[e(A,{flat:"",size:"sm",round:"",icon:"close",onClick:y[0]||(y[0]=_=>c.$emit("update:modelValue",!1))})])])]),_:1}),e(te,{class:"q-py-sm"},{default:l(()=>[e(Bt,{modelValue:d.data.datetime,"onUpdate:modelValue":y[1]||(y[1]=_=>d.data.datetime=_),label:"Waktu","hide-bottom-space":"",disable:d.isProcessing,autofocus:""},null,8,["modelValue","disable"]),e(oe,{modelValue:c.$CONSTANTS.SALES_ORDER_STATUSES[d.data.status],"onUpdate:modelValue":y[2]||(y[2]=_=>c.$CONSTANTS.SALES_ORDER_STATUSES[d.data.status]=_),label:"Status","hide-bottom-space":"",readonly:"",disable:d.isProcessing},null,8,["modelValue","disable"]),e(oe,{modelValue:d.data.notes,"onUpdate:modelValue":y[3]||(y[3]=_=>d.data.notes=_),label:"Catatan",autogrow:"",type:"textarea",counter:"",maxlength:"50","hide-bottom-space":"",clearable:""},null,8,["modelValue"])]),_:1}),e(mt,{align:"right"},{default:l(()=>[ee(e(A,{flat:"",label:"Batal",color:"primary",disable:d.isProcessing},null,8,["disable"]),[[ue]]),ee(e(A,{flat:"",label:"Simpan",color:"primary",onClick:s,disable:d.isProcessing},null,8,["disable"]),[[ue]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},U1=Object.freeze(Object.defineProperty({__proto__:null,default:Vo},Symbol.toStringTag,{value:"Module"})),j1={key:0},E1={style:{float:"right"}},M1={key:1},N1={style:{float:"right"}},B1={key:2},z1={style:{float:"right"}},F1={key:3},L1={style:{float:"right"}},H1={style:{float:"right"}},K1={class:"q-gutter-sm"},Y1={class:"q-my-md"},Q1={__name:"SuccessDialog",props:{modelValue:{type:Boolean,required:!0},order:{type:Object,required:!0},total:{type:Number,required:!0},customer:{type:[Object],required:!1},payment:{type:[Object],required:!1}},emits:["update:modelValue"],setup(d,{emit:n}){const u=q(null),o=()=>{var r;(r=u.value)==null||r.focus()};return(r,s)=>(p(),P(ct,{"model-value":d.modelValue,"onUpdate:modelValue":s[0]||(s[0]=b=>r.$emit("update:modelValue",b)),onBeforeShow:o,persistent:""},{default:l(()=>[e(pe,{style:{"min-width":"300px"}},{default:l(()=>[e(te,{class:"q-py-none q-pt-md"},{default:l(()=>[...s[1]||(s[1]=[t("div",{class:"text-bold text-grey-8 text-h6",align:"center"},"Sukses",-1)])]),_:1}),e(te,{align:"center"},{default:l(()=>[s[22]||(s[22]=t("div",{class:"q-mb-md"},"Transaksi Berhasil",-1)),t("table",null,[t("tbody",null,[t("tr",null,[s[2]||(s[2]=t("td",null,"ID",-1)),s[3]||(s[3]=t("td",null,":",-1)),t("td",null,i(d.order.formatted_id),1)]),d.customer?(p(),h("tr",j1,[s[5]||(s[5]=t("td",{style:{"vertical-align":"top"}},"Pelanggan",-1)),s[6]||(s[6]=t("td",{style:{"vertical-align":"top"}},":",-1)),t("td",null,[v(i(d.customer.name)+" ",1),s[4]||(s[4]=t("br",null,null,-1)),v(i(d.customer.code),1)])])):k("",!0),t("tr",null,[s[8]||(s[8]=t("td",null,"Total",-1)),s[9]||(s[9]=t("td",null,":",-1)),t("td",null,[s[7]||(s[7]=v(" Rp. ",-1)),t("div",E1,i(a(H)(d.payment.total)),1)])]),d.payment.cash_amount?(p(),h("tr",M1,[s[11]||(s[11]=t("td",null,"Tunai",-1)),s[12]||(s[12]=t("td",null,":",-1)),t("td",null,[s[10]||(s[10]=v(" Rp. ",-1)),t("div",N1,i(a(H)(d.payment.cash_amount)),1)])])):k("",!0),d.payment.wallet_amount?(p(),h("tr",B1,[s[14]||(s[14]=t("td",null,"Wallet",-1)),s[15]||(s[15]=t("td",null,":",-1)),t("td",null,[s[13]||(s[13]=v(" Rp. ",-1)),t("div",z1,i(a(H)(d.payment.wallet_amount)),1)])])):k("",!0),d.payment.remaining_debt?(p(),h("tr",F1,[s[17]||(s[17]=t("td",null,"Piutang",-1)),s[18]||(s[18]=t("td",null,":",-1)),t("td",null,[s[16]||(s[16]=v(" Rp. ",-1)),t("span",L1,i(a(H)(d.payment.remaining_debt)),1)])])):k("",!0),t("tr",null,[s[20]||(s[20]=t("td",null,"Kembalian",-1)),s[21]||(s[21]=t("td",null,":",-1)),t("td",null,[s[19]||(s[19]=v(" Rp. ",-1)),t("div",H1,i(a(H)(d.payment.change)),1)])])])])]),_:1}),e(mt,{align:"center"},{default:l(()=>[t("div",K1,[e(A,{autofocus:"",label:"Cetak Struk",icon:"print",ref_key:"printButtonRef",ref:u,color:"green"},null,512),e(A,{label:"Transaksi Baru",icon:"edit",color:"primary"})]),t("div",Y1,[e(A,{label:"Kembali ke daftar transaksi",icon:"arrow_back"})])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},qo=vt(Q1,[["__scopeId","data-v-85a4c3ae"]]),W1=Object.freeze(Object.defineProperty({__proto__:null,default:qo},Symbol.toStringTag,{value:"Module"})),J1={class:"q-gutter-sm"},G1={class:"row items-center"},X1={class:"text-weight-bold"},Z1={class:"row q-col-gutter-none full-width"},eb={class:"col-sm-6 col-12 col"},tb={class:"row full-width"},ab={class:"col-sm-6 col-12"},lb={class:"row q-ml-sm items-end"},ob={class:"row col grow"},nb={class:"col-12 q-pa-sm column"},sb={class:"row items-start q-col-gutter-none q-px-sm",style:{"max-height":"80px"}},rb={key:0,class:"col"},ib={class:"text-caption text-grey-6 q-mt-xs"},db={key:0,class:"text-caption text-grey-8 q-mt-xs"},ub={class:"text-italic"},mb={key:1,class:"col"},cb={class:"q-pa-sm q-pb-none text-grey-8"},pb={class:"col"},fb={class:"row no-wrap items-start justify-between",style:{background:"#eee",padding:"10px",border:"1px solid #ddd"}},gb={class:"text-h4 text-weight-bold"},bb={class:"row q-px-sm q-pb-none q-py-sm q-col-gutter-sm"},vb={class:"col q-py-sm"},yb={class:"q-py-sm"},_b={__name:"Editor",setup(d){const n=$e(),u=fe(),o=q(!0),r=q(null),s=q(null),b=q(null),f=q(!1),m=q(null),c=q(null),{isFullscreen:y,toggleFullscreen:_}=bo(c),g=u.props.data.formatted_id,S=q(u.props.data.customer),I=q(null),w=q(""),R=q(!1),C=q(!1),$=q(!1),O=q(!1),z=q(!1),T=q(!1),D=q(null),E=Pe({id:u.props.data.id,formatted_id:u.props.data.formatted_id,customer_id:u.props.data.customer_id,datetime:new Date(u.props.data.datetime),status:u.props.data.status,payment_status:u.props.data.payment_status,delivery_status:u.props.data.delivery_status,notes:u.props.data.notes,items:u.props.data.details??[]}),M=G(()=>E.items.reduce((F,K)=>F+K.price*K.quantity,0)),j=()=>{var F;_(),y.value||(F=m==null?void 0:m.value)==null||F.hideDrawer()},x=F=>isNaN(F)||F<=0?(kt("Kuantitas tidak valid.","top"),!1):!0,Y=F=>isNaN(F)||F<0?(kt("Harga tidak valid.","top"),!1):!0,se=F=>!F||F.length==0?(kt("Barcode tidak valid.","top"),!1):!0,N=F=>{w.value.endsWith("*")?w.value+=F.name:w.value=F.name},U=async()=>{const F=w.value.trim();if(F.length===0){$.value=!0;return}const K=F.split("*");let me=1,re="",ce=null;if(K.length===1)re=K[0];else if(K.length<=3)me=parseInt(K[0]),re=K[1],K.length===3&&(ce=parseFloat(K[2]));else{kt("Input tidak valid.","top");return}if(re.length===0){$.value=!0;return}!se(re)&&!x(me)&&!Y(ce)||(R.value=!0,await We.post(route("admin.sales-order.add-item"),{order_id:E.id,product_code:re,qty:me,price:ce,merge:o.value}).then(Le=>{const ot=Le.data.data.item;let _t=-1;Le.data.data.mergeItem&&(_t=E.items.findIndex(ua=>ua.id===ot.id)),_t===-1?E.items.push(ot):E.items[_t]=ot,w.value="",ce!==null&&ce!==parseFloat(ot.price)&&kt("Harga tidak dapat diubah!","top")}).catch(Le=>{var ot,_t;gt((_t=(ot=Le.response)==null?void 0:ot.data)==null?void 0:_t.message,"top"),console.error("Gagal mengambil data produk:",Le)}),R.value=!1,wt(()=>{var Le;(Le=r.value)==null||Le.focus()}))},Z=F=>{D.value=Object.create(F),O.value=!0},he=F=>{n.dialog({title:"Hapus Item",message:`Apakah Anda yakin akan menghapus item ${F.product_name}?`,cancel:{label:"Batal",color:"grey"},ok:{label:"Hapus",color:"negative"},persistent:!0}).onOk(()=>{R.value=!0,We.post(route("admin.sales-order.remove-item"),{id:F.id}).then(()=>{const K=E.items.findIndex(me=>me.id===F.id);K!==-1&&(E.items.splice(K,1)[0],bt("Item telah dihapus","top"))}).catch(K=>{var me,re;gt(((re=(me=K==null?void 0:K.response)==null?void 0:me.data)==null?void 0:re.message)??"Terdapat kesalahan saat menghapus item!","top"),console.error(K)}).finally(()=>{R.value=!1})})},le=()=>{R.value=!0;const F=s.value.getCurrentItem(),K={id:F.id,qty:F.quantity};F.price_editable&&(K.price=F.price),F.notes&&(K.notes=F.notes),We.post(route("admin.sales-order.update-item"),K).then(me=>{const re=me.data.data,ce=E.items.findIndex(Le=>Le.id===re.id);ce!==-1&&(E.items[ce]=re,bt("Item telah diperbarui","top"))}).catch(me=>{var re,ce;gt(((ce=(re=me==null?void 0:me.response)==null?void 0:re.data)==null?void 0:ce.message)??"Terdapat kesalahan saat menyimpan!","top"),console.error(me)}).finally(()=>{R.value=!1})};we(()=>{const F=K=>{K.key==="F1"?(K.preventDefault(),f.value=!0):K.key==="F2"?(K.preventDefault(),r.value.focus()):K.key==="F3"?(K.preventDefault(),b.value.focus()):K.key==="F4"?(K.preventDefault(),o.value=!o.value):K.key==="F10"?(K.preventDefault(),C.value=!0):K.key==="F11"&&(K.preventDefault(),j())};document.addEventListener("keydown",F),At(()=>{document.removeEventListener("keydown",F)}),wt(()=>{var K;(K=m==null?void 0:m.value)==null||K.hideDrawer()})});const Ce=F=>{S.value=F,E.customer_id=F==null?void 0:F.id,Ie(),wt(()=>{var K;(K=r.value)==null||K.focus()})},Ie=()=>{R.value=!0;const F={id:E.id,customer_id:E.customer_id,datetime:Zt(E.datetime),notes:E.notes};We.post(route("admin.sales-order.update"),F).then(K=>{const me=K.data.data.id;E.customer_id=me.customer_id}).catch(K=>{var me,re;gt(((re=(me=K==null?void 0:K.response)==null?void 0:me.data)==null?void 0:re.message)??"Terdapat kesalahan saat menyimpan!","top"),console.error(K)}).finally(()=>{R.value=!1})},ft=F=>{if(E.items.length===0){bt("Item masih kosong","top");return}const K={id:E.id,...F};R.value=!0,We.post(route("admin.sales-order.close"),K).then(me=>{bt("Transaksi selesai"),window.open(route("admin.sales-order.print",{id:E.id,size:u.props.settings.default_print_size}),"_self")}).catch(me=>{var re,ce;gt((ce=(re=me.response)==null?void 0:re.data)==null?void 0:ce.message),console.error(me)}).finally(()=>{R.value=!1})},pt=()=>{zt.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${E.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{We.post(route("admin.sales-order.cancel",{id:E.id}),{id:E.id}).then(()=>{bt("Transaksi telah dibatalkan."),X.visit(route("admin.sales-order.detail",{id:E.id}))}).catch(F=>{var me,re;const K=((re=(me=F.response)==null?void 0:me.data)==null?void 0:re.message)||"Terjadi kesalahan saat membatalkan transaksi.";n.notify({message:K,color:"warning",position:"bottom"}),console.error(F)})})},yt=()=>{window.open(route("admin.sales-order.detail",{id:E.id})+"?preview=1","_blank")},ge=G(()=>S.value?S.value.wallet_balance>=M.value:!0);return(F,K)=>{const me=Q("i-head"),re=Q("authenticated-layout");return p(),h(W,null,[e(me,{title:a(g)},null,8,["title"]),e(re,{ref_key:"authLayoutRef",ref:m,"show-drawer-button":!0},{title:l(()=>[v(i(a(g)),1)]),"left-button":l(()=>[t("div",J1,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:K[0]||(K[0]=ce=>a(X).get(F.route("admin.sales-order.index")))})])]),"right-button":l(()=>[t("div",G1,[a(n).screen.gt.sm?(p(),h(W,{key:0},[t("div",X1,i(a(u).props.auth.user.username),1),K[22]||(K[22]=t("div",{class:"q-mx-sm"},"|",-1)),t("div",null,[e(fo)])],64)):k("",!0),k("",!0)])]),default:l(()=>[e(Ve,{class:"bg-grey-2 q-pa-none column fit"},{default:l(()=>[e(pe,{square:"",flat:"",class:"full-width col column q-pb-none"},{default:l(()=>[t("div",Z1,[t("div",eb,[t("div",tb,[e(P1,{ref_key:"customerAutocompleteRef",ref:b,class:"custom-select full-width col col-12 bg-white q-pa-sm",modelValue:S.value,"onUpdate:modelValue":K[2]||(K[2]=ce=>S.value=ce),label:"Pelanggan",disable:R.value,onCustomerSelected:Ce,"min-length":1,outlined:"",autofocus:""},null,8,["modelValue","disable"]),t("div",{class:xe(["q-mt-xs q-ml-sm text-bold",ge.value?"text-green":"text-red"])}," Saldo: "+i(S.value?"Rp. "+a(H)(S.value?S.value.wallet_balance:0):"Tidak tersedia"),3)])]),t("div",ab,[e(oe,{ref_key:"userInputRef",ref:r,modelValue:w.value,"onUpdate:modelValue":K[5]||(K[5]=ce=>w.value=ce),onKeyup:K[6]||(K[6]=ta(J(ce=>U(),["prevent"]),["enter"])),loading:R.value,disable:R.value,placeholder:"Qty * Kode / Barcode * Harga",class:"col col-12 q-pa-sm bg-white",outlined:"",clearable:""},{prepend:l(()=>[e(V,{name:"search",onClick:K[3]||(K[3]=ce=>$.value=!0),class:"cursor-pointer"})]),append:l(()=>{var ce;return[((ce=w.value)==null?void 0:ce.length)>0?(p(),P(V,{key:0,name:"send",onClick:K[4]||(K[4]=Le=>U()),class:"cursor-pointer q-ml-md"})):k("",!0)]}),_:1},8,["modelValue","loading","disable"]),t("div",lb,[e(qt,{class:"col",modelValue:o.value,"onUpdate:modelValue":K[7]||(K[7]=ce=>o.value=ce),label:"Gabungkan item",disable:R.value},null,8,["modelValue","disable"])])])]),t("div",ob,[t("div",nb,[e(ho,{items:E.items,onUpdateQuantity:K[8]||(K[8]=({id:ce,value:Le})=>F.updateQuantity(ce,Le)),onRemoveItem:he,onEditItem:Z,"is-processing":R.value},null,8,["items","is-processing"])])]),t("div",sb,[a(n).screen.gt.sm?(p(),h("div",rb,[t("div",ib,i(E.items.length)+" item(s) ",1),E.notes?(p(),h("div",db,[K[23]||(K[23]=t("div",{class:"text-bold"},"Catatan:",-1)),t("div",ub,[e(ke,{text:E.notes},null,8,["text"])])])):k("",!0)])):k("",!0),a(n).screen.gt.sm?(p(),h("div",mb,[t("div",cb,[t("div",null,"#: "+i(E.formatted_id),1),t("div",null,i(a(be)(E.datetime)),1)])])):k("",!0),t("div",pb,[t("div",fb,[K[25]||(K[25]=t("span",{class:"text-grey-8 text-subtitle-2 text-bold"},"TOTAL",-1)),t("span",gb,[K[24]||(K[24]=t("sup",{style:{"font-size":"13px"}},"Rp.",-1)),v(" "+i(a(H)(M.value)),1)])])])]),t("div",bb,[t("div",vb,[e(A,{class:"full-width q-py-none",label:"Bayar",color:"primary",icon:"payment",onClick:K[9]||(K[9]=ce=>C.value=!0),disable:!F.$can("admin.sales-order.close")||R.value||E.items.length===0||E.status!=="draft",loading:R.value},null,8,["disable","loading"])]),t("div",yb,[e(A,{class:"q-py-none",icon:"more_vert",color:"grey",onClick:K[13]||(K[13]=J(()=>{},["stop"])),style:{width:"10px"}},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"200px"}},{default:l(()=>[ee((p(),P(ae,{clickable:"",onClick:K[10]||(K[10]=J(ce=>z.value=!0,["stop"]))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"edit"})]),_:1}),e(B,null,{default:l(()=>[...K[26]||(K[26]=[v("Edit Rincian",-1)])]),_:1})]),_:1})),[[ne],[ue]]),ee((p(),P(ae,{clickable:"",onClick:K[11]||(K[11]=J(ce=>yt(),["stop"]))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"preview"})]),_:1}),e(B,null,{default:l(()=>[...K[27]||(K[27]=[v("Pratinjau",-1)])]),_:1})]),_:1})),[[ne],[ue]]),ee((p(),P(ae,{clickable:"",onClick:K[12]||(K[12]=J(ce=>pt(),["stop"]))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"cancel",color:"negative"})]),_:1}),e(B,{class:"text-negative"},{default:l(()=>[...K[28]||(K[28]=[v(" Batalkan ",-1)])]),_:1})]),_:1})),[[ne],[ue]]),e(Ze)]),_:1})]),_:1})]),_:1})])])]),_:1}),e(xo,{ref_key:"itemEditorRef",ref:s,modelValue:O.value,"onUpdate:modelValue":K[14]||(K[14]=ce=>O.value=ce),item:D.value,onSave:K[15]||(K[15]=ce=>le()),"is-processing":R.value},null,8,["modelValue","item","is-processing"]),e($o,{modelValue:C.value,"onUpdate:modelValue":K[16]||(K[16]=ce=>C.value=ce),onAccepted:ft,form:E,customer:S.value,total:M.value,accounts:a(u).props.accounts},null,8,["modelValue","form","customer","total","accounts"]),e(co,{modelValue:$.value,"onUpdate:modelValue":K[17]||(K[17]=ce=>$.value=ce),onProductSelected:N},null,8,["modelValue"]),e(Vo,{modelValue:z.value,"onUpdate:modelValue":K[18]||(K[18]=ce=>z.value=ce),data:E,onSave:K[19]||(K[19]=ce=>Ie()),"is-processing":R.value},null,8,["modelValue","data","is-processing"]),e(So,{modelValue:f.value,"onUpdate:modelValue":K[20]||(K[20]=ce=>f.value=ce)},null,8,["modelValue"]),e(qo,{modelValue:T.value,"onUpdate:modelValue":K[21]||(K[21]=ce=>T.value=ce),order:E,customer:S.value,total:M.value,payment:I.value},null,8,["modelValue","order","customer","total","payment"])]),_:1})]),_:1},512)],64)}}},kb=Object.freeze(Object.defineProperty({__proto__:null,default:_b},Symbol.toStringTag,{value:"Module"})),wb={__name:"SalesOrderStatusChip",props:{status:{type:String,required:!0}},setup(d){const n=window.CONSTANTS.SALES_ORDER_STATUSES,u={draft:"orange",closed:"green",canceled:"red"};return(o,r)=>(p(),P(ia,{status:d.status,statuses:a(n),colors:u},null,8,["status","statuses"]))}},hb={__name:"SalesOrderPaymentStatusChip",props:{status:{type:String,required:!0}},setup(d){const n=window.CONSTANTS.SALES_ORDER_PAYMENT_STATUSES,u={unpaid:"red",fully_paid:"green",partially_paid:"orange",refunded:"black"};return(o,r)=>(p(),P(ia,{status:d.status,statuses:a(n),colors:u},null,8,["status","statuses"]))}};const $b={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},xb={class:"q-pa-xs"},Sb={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Vb={key:0},qb={key:1},Cb={key:2},Tb={key:3},Pb={key:0},Ob={key:1},Ib={key:0},Rb={key:0},Db={key:1},Ab={class:"flex justify-end"},pl="Penjualan",Ub={__name:"Index",setup(d){const n=$e(),u=q(!1),o=q([]),r=q(!0),s=q(null),b=q(null),f=Ke(b),m=Yt(),c=Qt(),y=[{label:"Semua Tahun",value:"all"},{label:`${m}`,value:m},...Rt(m-2,m-1).reverse()],_=[{value:"all",label:"Semua Bulan"},...Dt()],g=[{value:"all",label:"Semua Status"},...et(window.CONSTANTS.SALES_ORDER_STATUSES)],S=[{value:"all",label:"Semua Status"},...et(window.CONSTANTS.SALES_ORDER_PAYMENT_STATUSES)],I=[{value:"all",label:"Semua Status"},...et(window.CONSTANTS.SALES_ORDER_DELIVERY_STATUSES)],w=Pe({search:"",year:m,month:c,status:"all",payment_status:"all",delivery_status:"all",...Ae()}),R=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),C=[{name:"id",label:"Info Order",field:"id",align:"left",sortable:!0},{name:"cashier_id",label:"Kasir",field:"cashier_id",align:"left"},{name:"customer_id",label:"Pelanggan",field:"customer_id",align:"left"},{name:"total",label:"Total",field:"total",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",align:"right"}];we(()=>{E()});const $=x=>{if(x.status=="draft"){O(x);return}z(x)},O=x=>{X.get(route("admin.sales-order.edit",x.id))},z=x=>{X.get(route("admin.sales-order.detail",x.id))},T=x=>{zt.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${x.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{We.post(route("admin.sales-order.cancel",{id:x.id}),{id:x.id}).then(Y=>{const se=Y.data.data,N=o.value.findIndex(U=>U.id===se.id);if(N===-1){console.warn("Item tidak ditemukan di tabel.");return}o.value[N].status="canceled",n.notify({message:Y.data.message,position:"bottom"})}).catch(Y=>{var N,U;const se=((U=(N=Y.response)==null?void 0:N.data)==null?void 0:U.message)||"Terjadi kesalahan saat membatalkan transaksi.";n.notify({message:se,color:"warning",position:"bottom"}),console.error(Y)})})},D=x=>tt({title:"Konfirmasi Penghapusan",message:`Hapus transaksi #${x.formatted_id}?`,url:route("admin.sales-order.delete",x.id),fetchItemsCallback:E,loading:r}),E=(x=null)=>{Ue({pagination:R,filter:w,props:x,rows:o,url:route("admin.sales-order.data"),loading:r,tableRef:s})},M=()=>{E()},j=G(()=>n.screen.gt.sm?C:C.filter(x=>x.name==="id"||x.name==="action"));return Me(()=>w.year,x=>{x===null&&(w.month=null)}),(x,Y)=>{const se=Q("i-head"),N=Q("authenticated-layout");return p(),h(W,null,[e(se,{title:pl}),e(N,null,Fe({title:l(()=>[v(i(pl))]),"right-button":l(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:Y[0]||(Y[0]=U=>u.value=!u.value)},null,8,["icon"]),x.$can("admin.sales-order.edit")?(p(),P(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:Y[1]||(Y[1]=U=>a(X).get(x.route("admin.sales-order.add")))})):k("",!0)]),default:l(()=>[t("div",xb,[e(Te,{ref_key:"tableRef",ref:s,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:R.value,"onUpdate:pagination":Y[11]||(Y[11]=U=>R.value=U),filter:w.search,loading:r.value,columns:j.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Ee({height:a(f)}),onRequest:E,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:U,message:Z,filter:he})=>[t("div",Sb,[t("span",null,i(Z)+" "+i(he?" with term "+he:""),1)])]),body:l(U=>[e(qe,{props:U,class:"cursor-pointer",onClick:J(Z=>$(U.row),["prevent"])},{default:l(()=>[e(L,{key:"id",props:U,class:"wrap-column"},{default:l(()=>{var Z,he,le;return[t("div",null,[e(V,{name:"tag"}),v(" "+i(U.row.formatted_id),1)]),t("div",null,[e(V,{class:"inline-icon",name:"calendar_today"}),v(i(a(be)(U.row.datetime)),1)]),a(n).screen.gt.sm?k("",!0):(p(),h(W,{key:0},[U.row.cashier?(p(),h("div",Vb,[e(V,{name:"person",class:"inline-icon"}),v(" Kasir: "+i((Z=U.row.cashier)==null?void 0:Z.username),1)])):k("",!0),U.row.cashier_session?(p(),h("div",qb,[e(V,{name:"point_of_sale",class:"inline-icon"}),v(" Terminal: "+i((le=(he=U.row.cashier_session)==null?void 0:he.cashier_terminal)==null?void 0:le.name),1)])):k("",!0),U.row.customer?(p(),h("div",Cb,[e(V,{name:"person",class:"inline-icon"}),e(jl,{href:x.route("admin.customer.detail",{id:U.row.customer.id}),onClick:Y[8]||(Y[8]=J(()=>{},["stop"]))},{default:l(()=>[v(" "+i(U.row.customer.code)+" - "+i(U.row.customer.name),1)]),_:2},1032,["href"])])):k("",!0),t("div",null,"Rp. "+i(a(H)(U.row.grand_total)),1),U.row.notes?(p(),h("div",Tb,[e(V,{name:"notes"}),v(" "+i(U.row.notes),1)])):k("",!0)],64)),t("div",null,[e(wb,{status:U.row.status},null,8,["status"]),e(hb,{status:U.row.payment_status},null,8,["status"]),k("",!0)])]}),_:2},1032,["props"]),e(L,{key:"cashier_id",props:U},{default:l(()=>{var Z,he,le;return[U.row.cashier?(p(),h("div",Pb,[e(V,{name:"person",class:"inline-icon"}),v(" "+i((Z=U.row.cashier)==null?void 0:Z.username),1)])):k("",!0),U.row.cashier_session?(p(),h("div",Ob,[e(V,{name:"point_of_sale",class:"inline-icon"}),v(" "+i((le=(he=U.row.cashier_session)==null?void 0:he.cashier_terminal)==null?void 0:le.name),1)])):k("",!0)]}),_:2},1032,["props"]),e(L,{key:"customer_id",props:U},{default:l(()=>[U.row.customer?(p(),h("div",Ib,[t("div",null,[e(V,{name:"person",class:"inline-icon"}),v(" "+i(U.row.customer_code)+" - "+i(U.row.customer_name),1)]),U.row.customer_phone?(p(),h("div",Rb,[e(V,{name:"phone",class:"inline-icon"}),v(" "+i(U.row.customer_phone),1)])):k("",!0),U.row.customer_address?(p(),h("div",Db,[e(V,{name:"home_pin",class:"inline-icon"}),v(" "+i(U.row.customer_address),1)])):k("",!0)])):k("",!0)]),_:2},1032,["props"]),e(L,{key:"total",props:U},{default:l(()=>[v(i(a(H)(U.row.grand_total)),1)]),_:2},1032,["props"]),e(L,{key:"notes",props:U},{default:l(()=>[e(ke,{text:U.row.notes,icon:"notes"},null,8,["text"])]),_:2},1032,["props"]),e(L,{key:"action",props:U,onClick:Y[10]||(Y[10]=J(()=>{},["stop"]))},{default:l(()=>[t("div",Ab,[x.$can("admin.sales-order.detail")||x.$can("admin.sales-order.edit")||x.$can("admin.sales-order.cancel")||x.$can("admin.sales-order.delete")?(p(),P(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:Y[9]||(Y[9]=J(()=>{},["stop"]))},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"200px"}},{default:l(()=>[U.row.status!="draft"&&x.$can("admin.sales-order.detail")?ee((p(),P(ae,{key:0,onClick:J(Z=>z(U.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"visibility"})]),_:1}),e(B,null,{default:l(()=>[...Y[12]||(Y[12]=[v(" Lihat ",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),U.row.status=="draft"&&x.$can("admin.sales-order.edit")?ee((p(),P(ae,{key:1,onClick:J(Z=>O(U.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"edit"})]),_:1}),e(B,null,{default:l(()=>[...Y[13]||(Y[13]=[v(" Edit ",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),U.row.status=="draft"&&x.$can("admin.sales-order.cancel")?ee((p(),P(ae,{key:2,onClick:J(Z=>T(U.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"cancel"})]),_:1}),e(B,null,{default:l(()=>[...Y[14]||(Y[14]=[v(" Batalkan ",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),e(Ze),x.$can("admin.sales-order.delete")?ee((p(),P(ae,{key:3,onClick:J(Z=>D(U.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"delete_forever"})]),_:1}),e(B,null,{default:l(()=>[...Y[15]||(Y[15]=[v(" Hapus ",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[u.value?{name:"header",fn:l(()=>[e(Xe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",$b,[e(de,{modelValue:w.year,"onUpdate:modelValue":[Y[2]||(Y[2]=U=>w.year=U),M],options:y,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),w.year!="all"?(p(),P(de,{key:0,modelValue:w.month,"onUpdate:modelValue":[Y[3]||(Y[3]=U=>w.month=U),M],options:_,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:w.year===null},null,8,["modelValue","disable"])):k("",!0),e(de,{modelValue:w.status,"onUpdate:modelValue":[Y[4]||(Y[4]=U=>w.status=U),M],options:g,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(de,{modelValue:w.payment_status,"onUpdate:modelValue":[Y[5]||(Y[5]=U=>w.payment_status=U),M],options:S,label:"Status Pembayaran",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),k("",!0),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:w.search,"onUpdate:modelValue":Y[7]||(Y[7]=U=>w.search=U),placeholder:"Cari",clearable:""},{append:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},jb=Object.freeze(Object.defineProperty({__proto__:null,default:Ub},Symbol.toStringTag,{value:"Module"})),Eb={class:"col-xs-12 col-md-8"},Mb={class:"col-xs-12 col-sm-9"},Nb={class:"col-xs-12 col-sm-3 text-right"},fl="Pengaturan Database & Utilitas",Bb={__name:"Index",setup(d){fe();const n=[{name:"Akses Log Operasi Database",icon:"insights",color:"primary",description:"Melihat riwayat operasi database untuk mendiagnosis masalah, melacak aktifitas pengguna, dan memantau *error* aplikasi. Log ini penting untuk *troubleshooting*.",action:()=>console.log("Aksi: Lihat Log Sistem")},{name:"Buat Salinan Cadangan (Backup)",icon:"cloud_download",color:"positive",description:"Membuat salinan cadangan (*backup*) lengkap dari seluruh database saat ini dan mengunduh data ke perangkat lokal.",warning:"Pastikan proses backup berjalan sepenuhnya sebelum menutup halaman. Waktu pemrosesan tergantung ukuran database Anda.",action:()=>console.log("Aksi: Mulai Backup")},{name:"Pulihkan Database (Restore)",icon:"cloud_upload",color:"negative",description:"Memulihkan database ke kondisi terakhir dari file cadangan (*backup*). Semua data setelah waktu backup akan hilang permanen.",warning:" **Peringatan Kritis:** Tindakan ini akan **menghapus semua data saat ini** dan digantikan oleh data dari file backup. Lakukan dengan sangat hati-hati.",action:()=>console.log("Aksi: Mulai Restore")},{name:"Reset Database Transaksional",icon:"data_thresholding",color:"deep-orange-10",description:"Mengosongkan semua tabel data transaksional (penjualan, stok, pembelian, transaksi keuangan, operasional, dll.). Data master seperti pelanggan, pemasok, produk, dan akun pengguna **tidak akan dihapus**.",warning:" **Hati-hati:** Semua riwayat transaksi dan operasional akan **hilang permanen**. Data master aman, tetapi relasi data akan terputus.",action:()=>console.log("Aksi: Mulai Reset Transaksional")},{name:"Reset Database Total",icon:"delete_forever",color:"red-10",description:"Mengosongkan semua tabel data termasuk data master (pelanggan, produk, pemasok, dll.), dan mengembalikan database ke kondisi awal instalasi. Hanya menyisakan konfigurasi sistem.",warning:" **Tindakan Penghapusan Data Total:** Semua data (transaksi dan master) akan **hilang permanen**. Gunakan hanya untuk tujuan testing atau reset menyeluruh.",action:()=>console.log("Aksi: Mulai Reset Total")}];return(u,o)=>{const r=Q("i-head"),s=Q("authenticated-layout");return p(),h(W,null,[e(r,{title:fl}),e(s,null,{title:l(()=>[v(i(fl))]),default:l(()=>[e(QPage,{class:"row justify-center q-pa-xs"},{default:l(()=>[t("div",Eb,[e(QCard,{square:"",flat:"",bordered:"",class:"full-width"},{default:l(()=>[e(QCardSection,null,{default:l(()=>[o[2]||(o[2]=t("div",{class:"text-subtitle1 text-bold text-grey-8"}," Pengaturan Database & Utilitas ",-1)),e(QBanner,{dense:"",rounded:"",class:"bg-yellow-4 text-dark q-mt-sm"},{avatar:l(()=>[e(QIcon,{name:"warning",color:"red"})]),default:l(()=>[o[0]||(o[0]=t("span",{class:"text-bold"},"PERINGATAN!",-1)),o[1]||(o[1]=v(" Bagian ini berisi alat-alat sensitif yang dapat memengaruhi ketersediaan dan integritas data Anda. Gunakan dengan penuh tanggung jawab. ",-1))]),_:1})]),_:1}),e(QSeparator),e(QCardSection,{class:"q-gutter-y-lg"},{default:l(()=>[(p(),h(W,null,lt(n,b=>t("div",{key:b.name,class:"row items-center q-col-gutter-md"},[t("div",Mb,[e(QItem,{class:"q-pa-none"},{default:l(()=>[e(QItemSection,{avatar:"",class:"q-pr-md"},{default:l(()=>[e(QIcon,{name:b.icon,color:b.color,size:"lg"},null,8,["name","color"])]),_:2},1024),e(QItemSection,{style:{"text-wrap":"initial"}},{default:l(()=>[e(QItemLabel,{class:"text-subtitle1 text-bold"},{default:l(()=>[v(i(b.name),1)]),_:2},1024),e(QItemLabel,{caption:"",class:"q-pb-sm"},{default:l(()=>[v(i(b.description),1)]),_:2},1024),e(QItemLabel,{class:"text-caption text-negative text-bold"},{default:l(()=>[v(i(b.warning),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),t("div",Nb,[e(QBtn,{icon:b.icon,label:b.name.split(" ")[0],color:b.color,onClick:b.action,class:"full-width"},null,8,["icon","label","color","onClick"])])])),64))]),_:1})]),_:1})])]),_:1})]),_:1})],64)}}},zb=Object.freeze(Object.defineProperty({__proto__:null,default:Bb},Symbol.toStringTag,{value:"Module"})),Fb={class:"q-pa-xs"},Lb={class:"row justify-center"},Hb={class:"col col-md-6"},Kb={__name:"Edit",setup(d){const n=fe(),u=He({foot_note:n.props.data.foot_note,default_payment_mode:n.props.data.default_payment_mode,default_print_size:n.props.data.default_print_size}),o=()=>Ge({form:u,url:route("admin.pos-settings.edit")}),r=[{value:"cash",label:"Tunai"},{value:"wallet",label:"Wallet"}],s=[{value:"58mm",label:"Struk 58mm"},{value:"a4",label:"Nota A4"}];return(b,f)=>{const m=Q("i-head"),c=Q("authenticated-layout");return p(),h(W,null,[e(m,{title:"Pengaturan POS"}),e(c,null,{title:l(()=>[...f[3]||(f[3]=[v("Pengaturan POS",-1)])]),default:l(()=>[t("div",Fb,[t("div",Lb,[t("div",Hb,[e(ze,{class:"row",onSubmit:J(o,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(pe,{flat:"",bordered:"",square:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>[f[4]||(f[4]=t("div",{class:"text-subtitle1 q-my-xs"}," Pengaturan POS (Point of Sales) ",-1)),f[5]||(f[5]=t("p",{class:"text-caption text-grey-9"},"Perbarui pengaturan POS.",-1)),e(de,{modelValue:a(u).default_payment_mode,"onUpdate:modelValue":f[0]||(f[0]=y=>a(u).default_payment_mode=y),label:"Default Pembayaran",options:r,"map-options":"","emit-value":"","lazy-rules":"",disable:a(u).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!a(u).errors.default_payment_mode,"error-message":a(u).errors.default_payment_mode,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(de,{modelValue:a(u).default_print_size,"onUpdate:modelValue":f[1]||(f[1]=y=>a(u).default_print_size=y),label:"Default Ukuran Cetak",options:s,"map-options":"","emit-value":"","lazy-rules":"",disable:a(u).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!a(u).errors.default_print_size,"error-message":a(u).errors.default_print_size,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(oe,{type:"textarea",counter:"",autogrow:"",maxlength:"500",modelValue:a(u).foot_note,"onUpdate:modelValue":f[2]||(f[2]=y=>a(u).foot_note=y),modelModifiers:{trim:!0},label:"Foot Note",disable:a(u).processing,"lazy-rules":"",error:!!a(u).errors.foot_note,"error-message":a(u).errors.foot_note,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,null,{default:l(()=>[e(A,{icon:"save",type:"submit",color:"primary",label:"Simpan",disable:a(u).processing,loading:a(u).processing},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])])])]),_:1})],64)}}},Yb=Object.freeze(Object.defineProperty({__proto__:null,default:Kb},Symbol.toStringTag,{value:"Module"})),Qb={class:"q-gutter-sm"},Wb={class:"q-gutter-sm"},Jb={class:"col col-md-6 q-pa-xs"},Gb={class:"row"},Xb={class:"detail"},Zb={style:{"text-wrap":"initial !important"}},ev={key:0,class:"text-italic text-grey-8"},tv={key:0},av={colspan:"100%"},lv={class:"bg-grey-3 q-pa-sm",style:{overflow:"auto",width:"100%","text-wrap":"auto"}},ov={class:"text-caption text-mono"},gl="Rincian Log Aktifitas",nv={__name:"Detail",setup(d){const n=fe(),u=G(()=>{const r=n.props.data.metadata;if(!r)return"Tidak ada Metadata.";try{const s=JSON.parse(r);return JSON.stringify(s,null,2)}catch(s){return console.error("Gagal memformat JSON Metadata:",s),r}}),o=()=>tt({message:`Hapus log aktifitas #${n.props.data.id}?`,url:route("admin.user-activity-log.delete",n.props.data.id),onSuccess:()=>{X.get(route("admin.user-activity-log.index"))}});return(r,s)=>{const b=Q("i-head"),f=Q("authenticated-layout");return p(),h(W,null,[e(b,{title:gl}),e(f,{"show-drawer-button":!0},{title:l(()=>[v(i(gl))]),"left-button":l(()=>[t("div",Qb,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:s[0]||(s[0]=m=>r.$goBack())})])]),"right-button":l(()=>[t("div",Wb,[e(A,{icon:"delete",dense:"",color:"grey",size:"sm",rounded:"",flat:"",onClick:s[1]||(s[1]=m=>o())})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Jb,[t("div",Gb,[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>[s[20]||(s[20]=t("div",{class:"text-subtitle1 text-bold text-grey-8"}," Info Log Aktifitas Pengguna ",-1)),t("table",Xb,[t("tbody",null,[t("tr",null,[s[2]||(s[2]=t("td",{style:{width:"100px"}},"ID",-1)),s[3]||(s[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,i(a(n).props.data.id),1)]),t("tr",null,[s[4]||(s[4]=t("td",null,"Waktu",-1)),s[5]||(s[5]=t("td",null,":",-1)),t("td",null,i(a(be)(a(n).props.data.logged_at)),1)]),t("tr",null,[s[6]||(s[6]=t("td",null,"Pengguna",-1)),s[7]||(s[7]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.username),1)]),t("tr",null,[s[8]||(s[8]=t("td",null,"Kategori",-1)),s[9]||(s[9]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.activity_category_label),1)]),t("tr",null,[s[10]||(s[10]=t("td",null,"Aktifitas",-1)),s[11]||(s[11]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.activity_name_label),1)]),t("tr",null,[s[12]||(s[12]=t("td",null,"Deskripsi",-1)),s[13]||(s[13]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.description),1)]),t("tr",null,[s[14]||(s[14]=t("td",null,"Alamat IP",-1)),s[15]||(s[15]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.ip_address),1)]),t("tr",null,[s[16]||(s[16]=t("td",null,"User Agent",-1)),s[17]||(s[17]=t("td",null,":",-1)),t("td",Zb,i(a(n).props.data.user_agent),1)]),t("tr",null,[s[18]||(s[18]=t("td",null,"Meta Data",-1)),s[19]||(s[19]=t("td",null,":",-1)),t("td",null,[a(n).props.data.metadata===""?(p(),h("div",ev," Tidak tersedia ")):k("",!0)])]),a(n).props.data.metadata!==""?(p(),h("tr",tv,[t("td",av,[t("pre",lv,[t("code",ov,i(u.value),1)])])])):k("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},sv=vt(nv,[["__scopeId","data-v-621aeeda"]]),rv=Object.freeze(Object.defineProperty({__proto__:null,default:sv},Symbol.toStringTag,{value:"Module"}));function iv(){return{protectClick:n=>(u,o)=>{const r=window.getSelection();if(r&&!r.isCollapsed){o.stopPropagation();return}n(u,o)}}}const dv={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},uv={class:"q-pa-xs"},mv={class:"full-width row flex-center text-grey-8 q-gutter-sm"},cv={key:0},pv={class:"flex justify-end"},bl="Log Aktifitas Pengguna",fv={__name:"Index",setup(d){const n=$e(),u=q(!1),o=q([]),r=q(!0),s=q(null),b=q(null),f=Ke(b),{protectClick:m}=iv(),c=Pe({search:"",...Ae()}),y=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),_=[{name:"id",label:n.screen.lt.md?"Log Item":"ID",field:"id",align:"left",sortable:!0},{name:"logged_at",label:"Waktu",field:"logged_at",align:"left",sortable:!0},{name:"username",label:"Pengguna",field:"username",align:"left",sortable:!0},{name:"activity_category",label:"Kategori Aktifitas",field:"activity_category",align:"left",sortable:!0},{name:"activity_name",label:"Nama Aktifitas",field:"activity_name",align:"left",sortable:!0},{name:"description",label:"Deskripsi",field:"description",align:"left",sortable:!0},{name:"action",align:"right"}];we(()=>{S()});const g=$=>tt({message:`Hapus log #${$.id}?`,url:route("admin.user-activity-log.delete",$.id),fetchItemsCallback:S,loading:r}),S=($=null)=>{Ue({pagination:y,filter:c,props:$,rows:o,url:route("admin.user-activity-log.data"),loading:r,tableRef:s})},w=m($=>X.get(route("admin.user-activity-log.detail",{id:$.id}))),R=G(()=>n.screen.gt.sm?_:_.filter($=>$.name==="id"||$.name==="action")),C=()=>{zt.create({title:"PERINGATAN: Hapus Permanen Log",message:"Anda yakin ingin menghapus **SELURUH** log aktivitas pengguna? Aksi ini **tidak dapat dibatalkan** dan akan menghapus semua rekaman riwayat.",focus:"cancel",cancel:!0,persistent:!0,ok:{label:"YA, HAPUS SEKARANG",color:"negative",push:!0},cancel:{label:"Batal",color:"white",textColor:"dark"}}).onOk(()=>{axios.post(route("admin.user-activity-log.clear")).then(()=>{bt("Seluruh log telah dibersihkan."),S()}).catch($=>{var z,T;const O=((T=(z=$.response)==null?void 0:z.data)==null?void 0:T.message)||"Terjadi kesalahan saat membersihkan log aktifitas pengguna.";gt(O,"bottom"),console.error($)})})};return($,O)=>{const z=Q("i-head"),T=Q("i-link"),D=Q("authenticated-layout");return p(),h(W,null,[e(z,{title:bl}),e(D,null,Fe({title:l(()=>[v(i(bl))]),"right-button":l(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:O[0]||(O[0]=E=>u.value=!u.value)},null,8,["icon"]),$.$can("admin.user-activity-log.clear")?(p(),P(A,{key:0,icon:"delete_sweep",dense:"",rounded:"",flat:"",class:"q-ml-sm",color:"negative",onClick:C})):k("",!0)]),default:l(()=>[t("div",uv,[e(Te,{class:"full-height-table",ref_key:"tableRef",ref:s,s:"",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":O[4]||(O[4]=E=>y.value=E),filter:c.search,loading:r.value,columns:R.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Ee({height:a(f)}),onRequest:S,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:E,message:M,filter:j})=>[t("div",mv,[t("span",null,i(M)+" "+i(j?" with term "+j:""),1)])]),body:l(E=>[e(qe,{props:E,class:"cursor-pointer",onClick:J(M=>a(w)(E.row,M),["stop"])},{default:l(()=>[e(L,{key:"id",props:E},{default:l(()=>[t("div",null,[a(n).screen.lt.md?(p(),h(W,{key:0},[e(V,{name:"tag",class:"inline-icon"}),O[5]||(O[5]=v(" ID Aktifitas: ",-1))],64)):k("",!0),v(" "+i(E.row.id),1)]),a(n).screen.lt.md?(p(),h("div",cv,[t("div",null,[e(V,{name:"calendar_clock",class:"inline-icon"}),v(" "+i(a(be)(E.row.logged_at)),1)]),t("div",null,[e(V,{name:"person",class:"inline-icon"}),e(T,{onClick:O[2]||(O[2]=J(()=>{},["stop"])),href:$.route("admin.user.detail",{id:E.row.user_id})},{default:l(()=>[v(i(E.row.username),1)]),_:2},1032,["href"])]),t("div",null,[e(V,{name:"category",class:"inline-icon"}),v(" "+i(E.row.activity_category_label)+" > "+i(E.row.activity_name_label),1)]),t("div",null,[e(V,{name:"notes",class:"inline-icon"}),v(" "+i(E.row.description),1)])])):k("",!0)]),_:2},1032,["props"]),e(L,{key:"logged_at",props:E},{default:l(()=>[v(i(a(be)(E.row.logged_at)),1)]),_:2},1032,["props"]),e(L,{key:"username",props:E},{default:l(()=>[e(T,{onClick:O[3]||(O[3]=J(()=>{},["stop"])),href:$.route("admin.user.detail",{id:E.row.user_id})},{default:l(()=>[v(i(E.row.username),1)]),_:2},1032,["href"])]),_:2},1032,["props"]),e(L,{key:"activity_category",props:E},{default:l(()=>[v(i(E.row.activity_category_label),1)]),_:2},1032,["props"]),e(L,{key:"activity_name",props:E},{default:l(()=>[v(i(E.row.activity_name_label),1)]),_:2},1032,["props"]),e(L,{key:"description",props:E,class:"wrap-column"},{default:l(()=>[v(i(E.row.description),1)]),_:2},1032,["props"]),e(L,{key:"action",props:E},{default:l(()=>[t("div",pv,[$.$can("admin.user-role.delete")?(p(),P(A,{key:0,onClick:J(M=>g(E.row),["stop"]),icon:"delete_forever",flat:"",color:"red",dense:"",size:"sm",rounded:""},null,8,["onClick"])):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[u.value?{name:"header",fn:l(()=>[e(Xe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",dv,[e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:c.search,"onUpdate:modelValue":O[1]||(O[1]=E=>c.search=E),placeholder:"Cari",clearable:""},{append:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},gv=Object.freeze(Object.defineProperty({__proto__:null,default:fv},Symbol.toStringTag,{value:"Module"})),bv={class:"q-gutter-sm"},vv={class:"col col-lg-6 q-pa-xs"},yv={class:"row q-col-gutter-sm q-mb-md"},_v={key:0},kv={class:"text-bold"},wv={key:0},hv={class:"text-caption text-grey-8"},$v={key:1},vl="Buat Penyesuaian Stok",xv={__name:"Create",setup(d){const n=fe(),u=n.props.products,{filteredCategories:o,filterCategories:r}=xa(n.props.categories),{filteredSuppliers:s,filterSupplierFn:b}=Sa(n.props.suppliers),f=q({search:null,category_id:null,supplier_id:null}),m=q([]),c=He({type:"stock_opname",datetime:new Date,notes:null,product_ids:[]}),y=[{name:"name",label:"Nama Produk",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"center",sortable:!1,format:(R,C)=>H(R)+" "+C.uom},{name:"category",label:"Kategori",field:"category.name",align:"left"},{name:"supplier",label:"Supplier",field:"supplier.name",align:"left"},{name:"type",label:"Jenis",field:"product_type",align:"left"}],_=et(window.CONSTANTS.STOCK_ADJUSTMENT_TYPES),g=G(()=>u.filter(R=>{let C=!0;if(f.value.search){const $=f.value.search.toLowerCase();C=R.name.toLowerCase().includes($)||R.description.toLowerCase().includes($)||R.barcode&&R.barcode.toLowerCase().includes($)}return C&&f.value.category_id&&(C=R.category_id===f.value.category_id),C&&f.value.supplier_id&&(C=R.supplier_id===f.value.supplier_id),C})),S=()=>{c.product_ids=m.value.map(R=>R.id),Wt(c,{datetime:"YYYY-MM-DD HH:mm:ss"}),Ge({form:c,url:route("admin.stock-adjustment.create")})},I=$e(),w=G(()=>I.screen.gt.sm?y:y.filter(R=>R.name==="name"));return(R,C)=>{const $=Q("i-head"),O=Q("authenticated-layout");return p(),h(W,null,[e($,{title:vl}),e(O,{"show-drawer-button":!0},{title:l(()=>[v(i(vl))]),"left-button":l(()=>[t("div",bv,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:C[0]||(C[0]=z=>a(X).get(R.route("admin.stock-adjustment.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",vv,[e(ze,{class:"row",onSubmit:J(S,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-sm"},{default:l(()=>[C[9]||(C[9]=t("div",{class:"text-subtitle2"},[t("b",null,"Info Penyesuaian Stok")],-1)),e(Bt,{modelValue:a(c).datetime,"onUpdate:modelValue":C[1]||(C[1]=z=>a(c).datetime=z),label:"Waktu",error:!!a(c).errors.datetime,disable:a(c).processing,"error-message":a(c).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(de,{modelValue:a(c).type,"onUpdate:modelValue":C[2]||(C[2]=z=>a(c).type=z),options:a(_),label:"Jenis Penyesuaian",class:"custom-select",error:!!a(c).errors.type,disable:a(c).processing,"map-options":"","emit-value":"","error-message":a(c).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","error-message"]),e(oe,{modelValue:a(c).notes,"onUpdate:modelValue":C[3]||(C[3]=z=>a(c).notes=z),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(c).processing,error:!!a(c).errors.notes,"error-message":a(c).errors.notes,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,null,{default:l(()=>[C[10]||(C[10]=t("div",{class:"text-subtitle2"},[t("b",null,"Pilih Produk")],-1)),t("div",yv,[e(oe,{modelValue:f.value.search,"onUpdate:modelValue":C[4]||(C[4]=z=>f.value.search=z),label:"Cari Produk",dense:"",outlined:"",class:"col-12 col-sm-4",clearable:""},null,8,["modelValue"]),e(de,{modelValue:f.value.category_id,"onUpdate:modelValue":C[5]||(C[5]=z=>f.value.category_id=z),label:"Kategori",class:"custom-select col-xs-12 col-md-4",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:a(o),"map-options":"",dense:"","emit-value":"",onFilter:a(r),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),e(de,{modelValue:f.value.supplier_id,"onUpdate:modelValue":C[6]||(C[6]=z=>f.value.supplier_id=z),label:"Pemasok",class:"custom-select col-xs-12 col-md-4",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:a(s),"map-options":"",dense:"","emit-value":"",onFilter:a(b),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"])]),e(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:w.value,rows:g.value,"binary-state-sort":"","hide-pagination":!0,dense:"","rows-per-page-options":[0],selection:"multiple",selected:m.value,"onUpdate:selected":C[7]||(C[7]=z=>m.value=z)},{"body-cell-name":l(z=>[e(L,{props:z},{default:l(()=>[a(I).screen.lt.md?(p(),h("div",_v,[t("div",kv,i(z.row.name),1),z.row.category?(p(),h("div",wv,i(z.row.category.name),1)):k("",!0),t("div",hv,i(a(H)(z.row.stock))+" "+i(z.row.uom),1)])):(p(),h("div",$v,i(z.row.name),1))]),_:2},1032,["props"])]),_:1},8,["columns","rows","selected"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(A,{icon:"play_arrow",type:"submit",label:"Lanjutkan",color:"primary",disable:a(c).processing},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",disable:a(c).processing,onClick:C[8]||(C[8]=z=>a(X).get(R.route("admin.stock-adjustment.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Sv=Object.freeze(Object.defineProperty({__proto__:null,default:xv},Symbol.toStringTag,{value:"Module"})),Vv={class:"q-gutter-sm"},qv={class:"row justify-center"},Cv={class:"col col-lg-8 q-pa-sm"},Tv={class:"row"},Pv={class:"detail"},Ov={key:0},Iv={key:1},Rv={class:"text-grey-9"},Dv={__name:"Detail",setup(d){const n=fe(),u=`Rincian Penyesuaian Stok #${n.props.data.id}`,o=n.props.details,r=[{name:"no",label:"#",field:"no",align:"left"},{name:"product_name",label:"Nama Produk",field:"product_name",align:"left"},{name:"uom",label:"Satuan",field:"uom",align:"left"},{name:"old_quantity",label:"Stok Lama",field:"old_quantity",align:"right",format:f=>H(f)},{name:"new_quantity",label:"Stok Baru",field:"new_quantity",align:"right",format:f=>H(f)},{name:"balance",label:"Selisih Stok",field:"balance",align:"right",format:f=>H(f)},{name:"cost_balance",label:"Selisih Modal",field:"cost_balance",align:"right"},{name:"price_balance",label:"Selisih Harga",field:"price_balance",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}],s=$e(),b=G(()=>s.screen.gt.sm?r:r.filter(f=>f.name==="no"));return(f,m)=>{const c=Q("i-head"),y=Q("i-link"),_=Q("authenticated-layout");return p(),h(W,null,[e(c,{title:u}),e(_,{"show-drawer-button":!0},{title:l(()=>[v(i(u))]),"left-button":l(()=>[t("div",Vv,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:m[0]||(m[0]=g=>f.$inertia.get(f.route("admin.stock-adjustment.index")))})])]),default:l(()=>[t("div",qv,[t("div",Cv,[t("div",Tv,[e(pe,{square:"",flat:"",bordered:"",class:"q-card col"},{default:l(()=>[e(te,null,{default:l(()=>[m[21]||(m[21]=t("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Penyesuaian Stok ",-1)),t("table",Pv,[t("tbody",null,[t("tr",null,[m[1]||(m[1]=t("td",{style:{width:"120px"}},"ID",-1)),m[2]||(m[2]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,"# "+i(a(n).props.data.id),1)]),t("tr",null,[m[3]||(m[3]=t("td",null,"Jenis",-1)),m[4]||(m[4]=t("td",null,":",-1)),t("td",null,i(f.$CONSTANTS.STOCK_ADJUSTMENT_TYPES[a(n).props.data.type]),1)]),t("tr",null,[m[5]||(m[5]=t("td",null,"Status",-1)),m[6]||(m[6]=t("td",null,":",-1)),t("td",null,i(f.$CONSTANTS.STOCK_ADJUSTMENT_STATUSES[a(n).props.data.status]),1)]),t("tr",null,[m[7]||(m[7]=t("td",null,"Waktu",-1)),m[8]||(m[8]=t("td",null,":",-1)),t("td",null,i(f.$dayjs(a(n).props.data.datetime).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)]),a(n).props.data.created_at?(p(),h("tr",Ov,[m[10]||(m[10]=t("td",null,"Dibuat Oleh",-1)),m[11]||(m[11]=t("td",null,":",-1)),t("td",null,[a(n).props.data.created_by?(p(),h(W,{key:0},[e(y,{href:f.route("admin.user.detail",{id:a(n).props.data.created_by})},{default:l(()=>[v(i(a(n).props.data.created_by.username)+" - "+i(a(n).props.data.created_by.name),1)]),_:1},8,["href"]),m[9]||(m[9]=v(" - ",-1))],64)):k("",!0),v(" "+i(f.$dayjs(new Date(a(n).props.data.created_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):k("",!0),a(n).props.data.updated_at?(p(),h("tr",Iv,[m[13]||(m[13]=t("td",null,"Diperbarui oleh",-1)),m[14]||(m[14]=t("td",null,":",-1)),t("td",null,[a(n).props.data.updated_by?(p(),h(W,{key:0},[e(y,{href:f.route("admin.user.detail",{id:a(n).props.data.updated_by})},{default:l(()=>[v(i(a(n).props.data.updated_by.username)+" - "+i(a(n).props.data.updated_by.name),1)]),_:1},8,["href"]),m[12]||(m[12]=v(" - ",-1))],64)):k("",!0),v(" "+i(f.$dayjs(new Date(a(n).props.data.updated_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):k("",!0),t("tr",null,[m[15]||(m[15]=t("td",null,"Total Modal",-1)),m[16]||(m[16]=t("td",null,":",-1)),t("td",null,[t("div",{class:xe(a(n).props.data.total_cost<0?"text-red-10":a(n).props.data.total_cost>0?"text-green-10":"")}," Rp. "+i(a(H)(a(n).props.data.total_cost)),3)])]),t("tr",null,[m[17]||(m[17]=t("td",null,"Total Harga",-1)),m[18]||(m[18]=t("td",null,":",-1)),t("td",null,[t("div",{class:xe(a(n).props.data.total_price<0?"text-red-10":a(n).props.data.total_price>0?"text-green-10":"")}," Rp. "+i(a(H)(a(n).props.data.total_price)),3)])]),t("tr",null,[m[19]||(m[19]=t("td",null,"Catatan",-1)),m[20]||(m[20]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.notes),1)])])])]),_:1}),e(te,null,{default:l(()=>[m[26]||(m[26]=t("div",{class:"text-subtitle1 text-bold text-grey-9 q-pt-md"}," Rincian ",-1)),e(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",dense:"",columns:b.value,rows:a(o),"hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-no":l(g=>[e(L,{props:g},{default:l(()=>[a(s).screen.lt.md?(p(),h(W,{key:1},[t("div",Rv,[t("b",null,"#"+i(g.rowIndex+1),1),v(" - "+i(g.row.product_name),1)]),t("div",null,[v(" Stok Lama: "+i(a(H)(g.row.old_quantity))+" "+i(g.row.uom),1),m[23]||(m[23]=t("br",null,null,-1)),v(" Stok Baru: "+i(a(H)(g.row.new_quantity))+" "+i(g.row.uom),1),m[24]||(m[24]=t("br",null,null,-1)),t("div",{class:xe(g.row.balance<0?"text-red-10":g.row.balance>0?"text-green-10":"")},[v(" Selisih: "+i((g.row.balance>0?"+":"")+a(H)(g.row.balance))+" "+i(g.row.uom),1),m[22]||(m[22]=t("br",null,null,-1)),v(" (Rp. "+i(a(H)(g.row.subtotal_cost))+" / Rp. "+i(a(H)(g.row.subtotal_price))+") ",1)],2),m[25]||(m[25]=t("br",null,null,-1)),v(" "+i(g.row.notes),1)])],64)):(p(),h(W,{key:0},[v(i(g.rowIndex+1),1)],64))]),_:2},1032,["props"])]),"body-cell-balance":l(g=>[e(L,{props:g},{default:l(()=>[t("div",{class:xe(g.row.balance<0?"text-red-10":g.row.balance>0?"text-green-10":"")},i((g.row.balance>0?"+":"")+a(H)(g.row.balance)),3)]),_:2},1032,["props"])]),"body-cell-cost_balance":l(g=>[e(L,{props:g},{default:l(()=>[t("div",{class:xe(g.row.balance<0?"text-red-10":g.row.balance>0?"text-green-10":"")},i(a(H)(g.row.subtotal_cost)),3)]),_:2},1032,["props"])]),"body-cell-price_balance":l(g=>[e(L,{props:g},{default:l(()=>[t("div",{class:xe(g.row.balance<0?"text-red-10":g.row.balance>0?"text-green-10":"")},i(a(H)(g.row.subtotal_price)),3)]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1})]),_:1})])])])]),_:1})],64)}}},Av=Object.freeze(Object.defineProperty({__proto__:null,default:Dv},Symbol.toStringTag,{value:"Module"})),Uv={class:"q-gutter-sm"},jv={class:"col col-lg-6 q-pa-xs"},Ev={class:"text-bold"},Mv={key:0},Nv={class:"text-caption text-grey-8"},yl="Penyesuaian Stok",Bv={__name:"Editor",setup(d){const n=fe(),u=He({id:n.props.item.id,type:n.props.item.type,datetime:new Date(n.props.item.datetime),notes:n.props.item.notes,action:"save",details:[]}),o=et(window.CONSTANTS.STOCK_ADJUSTMENT_TYPES),r=n.props.details,s=c=>{const y=()=>{u.action=c,u.details=r.map(_=>({id:_.id,new_quantity:_.new_quantity})),Wt(u,{datetime:"YYYY-MM-DD HH:mm:ss"}),Ge({form:u,url:route("admin.stock-adjustment.save")})};c==="close"||c==="cancel"?zt.create({title:"Konfirmasi",message:"Aksi ini tidak dapat dibatalkan, apakah Anda yakin?",cancel:!0,persistent:!0}).onOk(()=>{y()}).onCancel(()=>{}):y()},b=[{name:"product_name",label:"Nama Produk",field:"product_name",align:"left",sortable:!0},{name:"uom",label:"Satuan",field:"uom",align:"center"},{name:"old_quantity",label:"Tercatat",field:"old_quantity",align:"right",format:c=>H(c)},{name:"new_quantity",label:"Aktual",field:"new_quantity",align:"right",format:c=>H(c)},{name:"balance",label:"Selisih",field:"balance",align:"right",format:(c,y)=>H(y.new_quantity-y.old_quantity)}],f=$e(),m=G(()=>f.screen.gt.sm?b:b.filter(c=>c.name==="product_name"||c.name==="new_quantity"));return(c,y)=>{const _=Q("i-head"),g=Q("authenticated-layout");return p(),h(W,null,[e(_,{title:yl}),e(g,{"show-drawer-button":!0},{title:l(()=>[v(i(yl))]),"left-button":l(()=>[t("div",Uv,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:y[0]||(y[0]=S=>c.$inertia.get(c.route("admin.stock-adjustment.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",jv,[e(ze,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>[...y[8]||(y[8]=[t("div",{class:"text-subtitle1"},"Info Penyesuaian",-1)])]),_:1}),e(te,{class:"q-pt-none"},{default:l(()=>[ee(t("input",{type:"hidden",name:"id","onUpdate:modelValue":y[1]||(y[1]=S=>a(u).id=S)},null,512),[[dt,a(u).id]]),e(Bt,{modelValue:a(u).datetime,"onUpdate:modelValue":y[2]||(y[2]=S=>a(u).datetime=S),label:"Waktu",error:!!a(u).errors.datetime,disable:a(u).processing,"error-message":a(u).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(de,{modelValue:a(u).type,"onUpdate:modelValue":y[3]||(y[3]=S=>a(u).type=S),options:a(o),label:"Jenis Penyesuaian",class:"custom-select",error:!!a(u).errors.type,disable:a(u).processing,"map-options":"","emit-value":"","error-message":a(u).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","error-message"]),e(oe,{modelValue:a(u).notes,"onUpdate:modelValue":y[4]||(y[4]=S=>a(u).notes=S),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:a(u).processing,error:!!a(u).errors.notes,"error-message":a(u).errors.notes,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-pa-xs"},{default:l(()=>[e(Te,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:m.value,rows:a(r),"binary-state-sort":"","hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-product_name":l(S=>[e(L,{props:S},{default:l(()=>[t("div",Ev,i(S.row.product_name),1),a(f).screen.lt.md?(p(),h("div",Mv,[t("div",Nv,[v(" Tercatat: "+i(a(H)(S.row.old_quantity))+" ",1),y[9]||(y[9]=t("br",null,null,-1)),v(" Selisih: "+i(a(H)(S.row.new_quantity-S.row.old_quantity)),1)])])):k("",!0)]),_:2},1032,["props"])]),"body-cell-new_quantity":l(S=>[e(L,{props:S,class:"text-center"},{default:l(()=>[e(De,{modelValue:S.row[S.col.name],"onUpdate:modelValue":I=>S.row[S.col.name]=I,modelModifiers:{number:!0},"input-class":"text-right",dense:"",style:{width:"60px"},"hide-bottom-space":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(A,{icon:"save",onClick:y[5]||(y[5]=S=>s("save")),label:"Simpan",color:"primary",disable:a(u).processing},null,8,["disable"]),e(A,{icon:"done_all",onClick:y[6]||(y[6]=S=>s("close")),label:"Selesaikan",color:"green",disable:a(u).processing},null,8,["disable"]),e(A,{icon:"close",onClick:y[7]||(y[7]=S=>s("cancel")),label:"Batalkan",color:"red",disable:a(u).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},zv=Object.freeze(Object.defineProperty({__proto__:null,default:Bv},Symbol.toStringTag,{value:"Module"})),Fv={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Lv={class:"q-pa-xs"},Hv={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Kv={key:0,class:"flex q-gutter-xs"},Yv={class:"flex q-col-gutter-xs"},Qv={key:0},Wv={key:1},Jv={class:"flex justify-end"},_l="Penyesuaian Stok",Gv={__name:"Index",setup(d){const n=q([]),u=q(!0),o=q(!1),r=q(null),s=q(null),b=Ke(s),f=Pe({search:"",status:"all",type:"all",...Ae()}),m=[{value:"all",label:"Semua"},...et(window.CONSTANTS.STOCK_ADJUSTMENT_STATUSES)],c=[{value:"all",label:"Semua"},...et(window.CONSTANTS.STOCK_ADJUSTMENT_TYPES)],y=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),_=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"status",label:"Status",field:"status",align:"center",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!1},{name:"total_cost",label:"Total Modal",field:"total_cost",align:"right",sortable:!1},{name:"total_price",label:"Total Harga",field:"total_price",align:"right",sortable:!1},{name:"notes",label:"Notes",field:"notes",align:"left",sortable:!1},{name:"action",align:"right"}];we(()=>{S()});const g=$=>tt({message:`Hapus Transaksi #${$.id}?`,url:route("admin.stock-adjustment.delete",$.id),fetchItemsCallback:S,loading:u}),S=($=null)=>Ue({pagination:y,filter:f,props:$,rows:n,url:route("admin.stock-adjustment.data"),loading:u,tableRef:r}),I=()=>{S()},w=$=>{$.status=="draft"?X.get(route("admin.stock-adjustment.editor",$.id)):X.get(route("admin.stock-adjustment.detail",$.id))},R=$e(),C=G(()=>R.screen.gt.sm?_:_.filter($=>$.name==="id"||$.name==="action"));return($,O)=>{const z=Q("i-head"),T=Q("authenticated-layout");return p(),h(W,null,[e(z,{title:_l}),e(T,null,Fe({"right-button":l(()=>[e(A,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:O[0]||(O[0]=D=>o.value=!o.value)},null,8,["icon"]),$.$can("admin.stock-adjustment.add")?(p(),P(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:O[1]||(O[1]=D=>a(X).get($.route("admin.stock-adjustment.create")))})):k("",!0)]),title:l(()=>[v(i(_l))]),default:l(()=>[t("div",Lv,[e(Te,{ref_key:"tableRef",ref:r,flat:"",bordered:"",square:"",color:"primary",class:"full-height-table stock-adjustment-list","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":O[6]||(O[6]=D=>y.value=D),filter:f.search,loading:u.value,columns:C.value,rows:n.value,"rows-per-page-options":[10,25,50],style:Ee({height:a(b)}),onRequest:S,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:D,message:E,filter:M})=>[t("div",Hv,[t("span",null,i(E)+" "+i(M?" with term "+M:""),1)])]),body:l(D=>[e(qe,{props:D,onClick:E=>w(D.row),class:"cursor-pointer"},{default:l(()=>[e(L,{key:"id",props:D},{default:l(()=>[a(R).screen.lt.md?(p(),h(W,{key:1},[t("div",Yv,[t("div",null,"#"+i(D.row.formatted_id),1),t("div",null,[e(V,{name:"history"}),v(" "+i($.$dayjs(new Date(D.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),e(Rl,{dense:"",size:"sm",color:D.row.status==="draft"?"orange":D.row.status==="closed"?"green":D.row.status==="canceled"?"red":"",icon:D.row.status==="draft"?"emergency":D.row.status==="closed"?"check":D.row.status==="canceled"?"close":""},{default:l(()=>[v(i($.$CONSTANTS.STOCK_ADJUSTMENT_STATUSES[D.row.status]),1)]),_:2},1032,["color","icon"])]),t("div",null,[e(V,{name:"category"}),v(" "+i($.$CONSTANTS.STOCK_ADJUSTMENT_TYPES[D.row.type]),1)]),D.row.created_by?(p(),h("div",Qv,[e(V,{name:"person"}),O[7]||(O[7]=v(" Dibuat: ",-1)),t("b",null,i(D.row.created_by.username),1),e(V,{name:"history"}),v(" "+i($.$dayjs(new Date(D.row.created_at)).format("DD/MM/YYYY HH:mm")),1)])):k("",!0),D.row.updated_by?(p(),h("div",Wv,[e(V,{name:"person"}),O[8]||(O[8]=v(" Diperbarui: ",-1)),t("b",null,i(D.row.updated_by.username),1),e(V,{name:"history"}),v(" "+i($.$dayjs(new Date(D.row.updated_at)).format("DD/MM/YYYY HH:mm")),1)])):k("",!0),t("div",{class:xe(D.row.total_cost<0?"text-red-10":D.row.total_cost>0?"text-green-10":"")},[e(V,{name:"money"}),v(" Rp. "+i(a(H)(D.row.total_cost))+" / Rp. "+i(a(H)(D.row.total_price)),1)],2)],64)):(p(),h("div",Kv," #"+i(D.row.formatted_id),1))]),_:2},1032,["props"]),e(L,{key:"datetime",props:D},{default:l(()=>[v(i($.$dayjs(new Date(D.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),_:2},1032,["props"]),e(L,{key:"status",props:D,class:"text-center"},{default:l(()=>[v(i($.$CONSTANTS.STOCK_ADJUSTMENT_STATUSES[D.row.status]),1)]),_:2},1032,["props"]),e(L,{key:"type",props:D},{default:l(()=>[v(i($.$CONSTANTS.STOCK_ADJUSTMENT_TYPES[D.row.type]),1)]),_:2},1032,["props"]),e(L,{key:"total_cost",props:D},{default:l(()=>[t("div",{class:xe(D.row.total_cost<0?"text-red-10":D.row.total_cost>0?"text-green-10":"")},i(a(H)(D.row.total_cost)),3)]),_:2},1032,["props"]),e(L,{key:"total_price",props:D},{default:l(()=>[t("div",{class:xe(D.row.total_price<0?"text-red-10":D.row.total_price>0?"text-green-10":"")},i(a(H)(D.row.total_price)),3)]),_:2},1032,["props"]),e(L,{key:"notes",props:D},{default:l(()=>[v(i(D.row.notes),1)]),_:2},1032,["props"]),e(L,{key:"action",props:D},{default:l(()=>[t("div",Jv,[$.$can("admin.stock-adjustment.delete")?(p(),P(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:O[5]||(O[5]=J(()=>{},["stop"]))},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"200px"}},{default:l(()=>[$.$can("admin.stock-adjustment.delete")?ee((p(),P(ae,{key:0,onClick:J(E=>g(D.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"delete_forever"})]),_:1}),e(B,null,{default:l(()=>[...O[9]||(O[9]=[v("Hapus",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Xe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:s},{default:l(()=>[t("div",Fv,[e(de,{modelValue:f.status,"onUpdate:modelValue":[O[2]||(O[2]=D=>f.status=D),I],options:m,label:"Status",dense:"","map-options":"",class:"custom-select col-xs-12 col-sm-2","emit-value":"",outlined:""},null,8,["modelValue"]),e(de,{modelValue:f.type,"onUpdate:modelValue":[O[3]||(O[3]=D=>f.type=D),I],options:c,label:"Jenis",dense:"",class:"custom-select col-xs-12 col-sm-2","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:f.search,"onUpdate:modelValue":O[4]||(O[4]=D=>f.search=D),placeholder:"Cari",clearable:""},{append:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Xv=Object.freeze(Object.defineProperty({__proto__:null,default:Gv},Symbol.toStringTag,{value:"Module"})),Zv={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},ey={class:"q-pa-xs"},ty={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ay={key:0},kl="Riwayat Stok",ly={__name:"Index",setup(d){fe();const n=q(null),u=q(null),o=Ke(u),r=Yt();Qt();const s=[{label:"Semua Tahun",value:"all"},{label:`${r}`,value:r},...Rt(r-2,r-1).reverse()],b=[{value:"all",label:"Semua Bulan"},...Dt()],f=[{value:"all",label:"Semua"},...et(window.CONSTANTS.STOCK_MOVEMENT_REF_TYPES)],m=$e(),c=q(!1),y=q([]),_=q(!0),g=Pe({type:"all",search:"",...Ae()}),S=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"created_at",descending:!0});let I=[{name:"id",label:m.screen.lt.sm?"Item":"#",field:"id",align:"left",sortable:!0},{name:"created_at",label:"Waktu",field:"created_at",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"left",sortable:!0},{name:"product",label:"Produk",field:"product",align:"left"},{name:"quantity_before",label:"Qty Awal",field:"quantity_before",align:"right"},{name:"quantity_after",label:"Qty Akhir",field:"quantity_after",align:"right"},{name:"quantity",label:"Selisih",field:"quantity",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}];we(()=>{const O=new URLSearchParams(window.location.search).get("page");O&&(S.value.page=parseInt(O)),w()});const w=($=null)=>{Ue({pagination:S,filter:g,props:$,rows:y,url:route("admin.stock-movement.data"),loading:_,tableRef:n})},R=()=>{w()},C=G(()=>{let $=[...I];return m.screen.gt.sm?$:$.filter(O=>O.name==="id"||O.name==="quantity")});return($,O)=>{const z=Q("i-head"),T=Q("authenticated-layout");return p(),h(W,null,[e(z,{title:kl}),e(T,null,Fe({title:l(()=>[v(i(kl))]),"right-button":l(()=>[e(A,{icon:c.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:O[0]||(O[0]=D=>c.value=!c.value)},null,8,["icon"])]),default:l(()=>[t("div",ey,[e(Te,{ref_key:"tableRef",ref:n,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:S.value,"onUpdate:pagination":O[5]||(O[5]=D=>S.value=D),filter:g.search,loading:_.value,columns:C.value,rows:y.value,"rows-per-page-options":[10,25,50],style:Ee({height:a(o)}),onRequest:w,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:D,message:E,filter:M})=>[t("div",ty,[t("span",null,i(E)+" "+i(M?" with term "+M:""),1)])]),body:l(D=>[e(qe,{props:D},{default:l(()=>[e(L,{key:"id",props:D},{default:l(()=>[t("div",null,[a(m).screen.lt.sm?(p(),h(W,{key:0},[t("div",null,[e(ut,null,{default:l(()=>[v(i($.$CONSTANTS.STOCK_MOVEMENT_REF_TYPES[D.row.ref_type]),1)]),_:2},1024)]),e(V,{class:"inline-icon",name:"tag"})],64)):k("",!0),v(" "+i(D.row.formatted_id),1)]),a(m).screen.lt.sm?(p(),h(W,{key:0},[t("div",null,[e(V,{name:"calendar_clock",class:"inline-icon"}),v(" "+i(a(be)(D.row.created_at)),1)]),t("div",null,[e(V,{name:"token",class:"inline-icon"}),v(" "+i(D.row.product.name),1)]),t("div",{class:xe(D.row.quantity>0?"text-positive":"text-negative")},[e(V,{class:"inline-icon",name:"compare_arrows"}),v(" "+i(a(H)(D.row.quantity_before))+" "+i(D.row.uom)+"  "+i(a(H)(D.row.quantity_after))+" "+i(D.row.uom),1)],2),e(ke,{text:D.row.notes,icon:"notes",class:"text-grey-8"},null,8,["text"])],64)):k("",!0)]),_:2},1032,["props"]),e(L,{key:"created_at",props:D},{default:l(()=>[v(i(a(be)(D.row.created_at)),1)]),_:2},1032,["props"]),e(L,{key:"type",props:D},{default:l(()=>[v(i($.$CONSTANTS.STOCK_MOVEMENT_REF_TYPES[D.row.ref_type])+" ",1),D.row.ref?(p(),h("span",ay,i(D.row.ref),1)):k("",!0)]),_:2},1032,["props"]),e(L,{key:"product",props:D},{default:l(()=>[v(i(D.row.product.name),1)]),_:2},1032,["props"]),e(L,{key:"quantity_before",props:D},{default:l(()=>[v(i(a(H)(D.row.quantity_before))+" "+i(D.row.uom),1)]),_:2},1032,["props"]),e(L,{key:"quantity_after",props:D},{default:l(()=>[v(i(a(H)(D.row.quantity_after))+" "+i(D.row.uom),1)]),_:2},1032,["props"]),e(L,{key:"quantity",props:D,class:xe(D.row.quantity>0?"text-positive":"text-negative")},{default:l(()=>[v(i(a(H)(D.row.quantity))+" "+i(D.row.uom),1)]),_:2},1032,["props","class"]),e(L,{key:"notes",props:D},{default:l(()=>[e(ke,{text:D.row.notes},null,8,["text"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[c.value?{name:"header",fn:l(()=>[e(Xe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:u},{default:l(()=>[t("div",Zv,[e(de,{modelValue:g.year,"onUpdate:modelValue":[O[1]||(O[1]=D=>g.year=D),R],options:s,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),g.year!="all"?(p(),P(de,{key:0,modelValue:g.month,"onUpdate:modelValue":[O[2]||(O[2]=D=>g.month=D),R],options:b,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:g.year===null},null,8,["modelValue","disable"])):k("",!0),e(de,{modelValue:g.ref_type,"onUpdate:modelValue":[O[3]||(O[3]=D=>g.ref_type=D),R],options:f,label:"Jenis",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:g.search,"onUpdate:modelValue":O[4]||(O[4]=D=>g.search=D),placeholder:"Cari",clearable:""},{append:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},oy=Object.freeze(Object.defineProperty({__proto__:null,default:ly},Symbol.toStringTag,{value:"Module"})),ny={class:"q-gutter-sm"},sy={class:"q-gutter-sm"},ry={class:"col col-md-6 q-pa-xs"},iy={class:"row"},dy={class:"detail"},wl="Rincian Pemasok",uy={__name:"Detail",setup(d){const n=fe();return(u,o)=>{const r=Q("i-head"),s=Q("authenticated-layout");return p(),h(W,null,[e(r,{title:wl}),e(s,{"show-drawer-button":!0},{title:l(()=>[v(i(wl))]),"left-button":l(()=>[t("div",ny,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=b=>u.$goBack())})])]),"right-button":l(()=>[t("div",sy,[u.$can("admin.supplier.edit")?(p(),P(A,{key:0,icon:"edit",dense:"",color:"grey",size:"sm",rounded:"",flat:"",onClick:o[1]||(o[1]=b=>a(X).get(u.route("admin.supplier.edit",{id:a(n).props.data.id})))})):k("",!0)])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",ry,[t("div",iy,[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>[o[14]||(o[14]=t("div",{class:"text-subtitle1 text-bold text-grey-8"}," Info Pemasok ",-1)),t("table",dy,[t("tbody",null,[t("tr",null,[o[2]||(o[2]=t("td",{style:{width:"70px"}},"Nama",-1)),o[3]||(o[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,i(a(n).props.data.name),1)]),t("tr",null,[o[4]||(o[4]=t("td",null,"Telepon",-1)),o[5]||(o[5]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.phone),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"Alamat",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.address),1)]),t("tr",null,[o[8]||(o[8]=t("td",null,"No. Rek",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.bank_account_number),1)]),t("tr",null,[o[10]||(o[10]=t("td",null,"Alamat Retur",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.return_address),1)]),t("tr",null,[o[12]||(o[12]=t("td",null,"Status",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.active?"Aktif":"Tidak Aktif"),1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},my=Object.freeze(Object.defineProperty({__proto__:null,default:uy},Symbol.toStringTag,{value:"Module"})),cy={class:"q-gutter-sm"},py={class:"col col-md-6 q-pa-xs"},fy={style:{"margin-left":"-10px"}},gy={__name:"Editor",setup(d){const n=fe(),u=(n.props.data.id?"Edit":"Tambah")+" Pemasok",o=Ml({id:n.props.data.id,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,bank_account_number:n.props.data.bank_account_number,return_address:n.props.data.return_address,active:!!n.props.data.active}),r=()=>Ge({form:o,url:route("admin.supplier.save")});return(s,b)=>{const f=Q("i-head"),m=Q("authenticated-layout");return p(),h(W,null,[e(f,{title:u}),e(m,{"show-drawer-button":!0},{title:l(()=>[v(i(u))]),"left-button":l(()=>[t("div",cy,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=c=>s.$goBack())})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",py,[e(ze,{class:"row",onSubmit:J(r,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>[...b[9]||(b[9]=[t("div",{class:"text-subtitle1"},"Info Supplier",-1)])]),_:1}),e(te,{class:"q-pt-none"},{default:l(()=>[ee(t("input",{type:"hidden",name:"id","onUpdate:modelValue":b[1]||(b[1]=c=>a(o).id=c)},null,512),[[dt,a(o).id]]),e(oe,{autofocus:"",modelValue:a(o).name,"onUpdate:modelValue":b[2]||(b[2]=c=>a(o).name=c),modelModifiers:{trim:!0},label:"Nama","lazy-rules":"",error:!!a(o).errors.name,disable:a(o).processing,"error-message":a(o).errors.name,rules:[c=>c&&c.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(oe,{modelValue:a(o).phone,"onUpdate:modelValue":b[3]||(b[3]=c=>a(o).phone=c),modelModifiers:{trim:!0},type:"text",label:"No HP","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.phone,"error-message":a(o).errors.phone,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(oe,{modelValue:a(o).address,"onUpdate:modelValue":b[4]||(b[4]=c=>a(o).address=c),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.address,"error-message":a(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(oe,{modelValue:a(o).bank_account_number,"onUpdate:modelValue":b[5]||(b[5]=c=>a(o).bank_account_number=c),modelModifiers:{trim:!0},type:"text",label:"No Rek","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.bank_account_number,"error-message":a(o).errors.bank_account_number,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(oe,{modelValue:a(o).return_address,"onUpdate:modelValue":b[6]||(b[6]=c=>a(o).return_address=c),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat Return","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.return_address,"error-message":a(o).errors.return_address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),t("div",fy,[e(la,{class:"full-width q-pl-none",modelValue:a(o).active,"onUpdate:modelValue":b[7]||(b[7]=c=>a(o).active=c),disable:a(o).processing,label:"Aktif"},null,8,["modelValue","disable"])])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(A,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(o).processing},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",disable:a(o).processing,onClick:b[8]||(b[8]=c=>s.$goBack())},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},by=Object.freeze(Object.defineProperty({__proto__:null,default:gy},Symbol.toStringTag,{value:"Module"})),vy={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},yy={class:"q-pa-xs"},_y={class:"full-width row flex-center text-grey-8 q-gutter-sm"},ky={class:"flex justify-end"},hl="Pemasok",wy={__name:"Index",setup(d){const n=$e(),u=q(!1),o=q([]),r=q(!0),s=q(null),b=q(null),f=Ke(b),m=Pe({search:"",status:"active",...Ae()}),c=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"phone",label:"No HP",field:"phone",align:"left",sortable:!0},{name:"address",label:"Alamat",field:"address",align:"left",sortable:!0},{name:"bank_account_number",label:"No Rek",field:"bank_account_number",align:"left",sortable:!0},{name:"action",align:"right"}],_=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];we(()=>{S()});const g=C=>tt({message:`Hapus pemasok ${C.name}?`,url:route("admin.supplier.delete",C.id),fetchItemsCallback:S,loading:r}),S=(C=null)=>{Ue({pagination:c,filter:m,props:C,rows:o,url:route("admin.supplier.data"),loading:r,tableRef:s})},I=()=>S(),w=C=>X.get(route("admin.supplier.detail",{id:C.id})),R=G(()=>n.screen.gt.sm?y:y.filter(C=>C.name==="name"||C.name==="action"));return(C,$)=>{const O=Q("i-head"),z=Q("authenticated-layout");return p(),h(W,null,[e(O,{title:hl}),e(z,null,Fe({title:l(()=>[v(i(hl))]),"right-button":l(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:$[0]||($[0]=T=>u.value=!u.value)},null,8,["icon"]),C.$can("admin.supplier.add")?(p(),P(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:$[1]||($[1]=T=>a(X).get(C.route("admin.supplier.add")))})):k("",!0)]),default:l(()=>[t("div",yy,[e(Te,{class:"full-height-table",ref_key:"tableRef",ref:s,s:"",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":$[5]||($[5]=T=>c.value=T),filter:m.search,loading:r.value,columns:R.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Ee({height:a(f)}),onRequest:S,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:T,message:D,filter:E})=>[t("div",_y,[t("span",null,i(D)+" "+i(E?" with term "+E:""),1)])]),body:l(T=>[e(qe,{props:T,class:xe([T.row.active?"":"bg-red-1","cursor-pointer"]),onClick:D=>w(T.row)},{default:l(()=>[e(L,{key:"name",props:T,class:"wrap-column"},{default:l(()=>[t("div",null,[a(n).screen.lt.md?(p(),P(V,{key:0,name:"person"})):k("",!0),v(" "+i(T.row.name),1)]),a(n).screen.lt.md?(p(),h(W,{key:0},[t("div",null,[e(V,{name:"phone"}),v(" "+i(T.row.phone),1)]),t("div",null,[e(V,{name:"credit_card"}),v(" "+i(T.row.bank_account_number),1)]),t("div",null,[e(V,{name:"home_pin"}),v(" "+i(T.row.address),1)])],64)):k("",!0)]),_:2},1032,["props"]),e(L,{key:"phone",props:T},{default:l(()=>[v(i(T.row.phone),1)]),_:2},1032,["props"]),e(L,{key:"address",props:T},{default:l(()=>[v(i(T.row.address),1)]),_:2},1032,["props"]),e(L,{key:"bank_account_number",props:T},{default:l(()=>[v(i(T.row.bank_account_number),1)]),_:2},1032,["props"]),e(L,{key:"action",props:T},{default:l(()=>[t("div",ky,[C.$can("admin.supplier.add")||C.$can("admin.supplier.edit")||C.$can("admin.supplier.delete")?(p(),P(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:$[4]||($[4]=J(()=>{},["stop"]))},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"200px"}},{default:l(()=>[C.$can("admin.supplier.add")?ee((p(),P(ae,{key:0,clickable:"",onClick:J(D=>a(X).get(C.route("admin.supplier.duplicate",T.row.id)),["stop"])},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"file_copy"})]),_:1}),e(B,null,{default:l(()=>[...$[6]||($[6]=[v(" Duplikat ",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),C.$can("admin.supplier.edit")?ee((p(),P(ae,{key:1,clickable:"",onClick:J(D=>a(X).get(C.route("admin.supplier.edit",T.row.id)),["stop"])},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"edit"})]),_:1}),e(B,null,{default:l(()=>[...$[7]||($[7]=[v("Edit",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),C.$can("admin.supplier.delete")?ee((p(),P(ae,{key:2,onClick:J(D=>g(T.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"delete_forever"})]),_:1}),e(B,null,{default:l(()=>[...$[8]||($[8]=[v("Hapus",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[u.value?{name:"header",fn:l(()=>[e(Xe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",vy,[e(de,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:m.status,"onUpdate:modelValue":[$[2]||($[2]=T=>m.status=T),I],options:_,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":$[3]||($[3]=T=>m.search=T),placeholder:"Cari",clearable:""},{append:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},hy=Object.freeze(Object.defineProperty({__proto__:null,default:wy},Symbol.toStringTag,{value:"Module"})),Co={__name:"UpdatePasswordForm",setup(d){const n=q(!1),u=q(null),o=q(null),r=He({current_password:"",password:"",password_confirmation:""}),s=()=>{r.clearErrors(),r.post(route("admin.user-profile.update-password"),{preserveScroll:!0,onSuccess:()=>r.reset(),onError:()=>{r.errors.password&&(r.reset("password","password_confirmation"),u.value.focus()),r.errors.current_password&&(r.reset("current_password"),o.value.focus())}})};return(b,f)=>(p(),P(ze,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>[f[6]||(f[6]=t("div",{class:"text-h6 q-my-xs text-subtitle1"},"Perbarui Kata Sandi",-1)),f[7]||(f[7]=t("p",{class:"text-caption text-grey-9"}," Pastikan akun anda menggunakan kata sandi yang kuat agar akun tetap aman. ",-1)),e(oe,{modelValue:a(r).current_password,"onUpdate:modelValue":f[1]||(f[1]=m=>a(r).current_password=m),type:n.value?"text":"password",label:"Kata Sandi Sekarang",autocomplete:"off",disable:a(r).processing,error:!!a(r).errors.current_password,"error-message":a(r).errors.current_password,rules:[m=>m&&m.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(A,{dense:"",flat:"",round:"",onClick:f[0]||(f[0]=m=>n.value=!n.value)},{default:l(()=>[e(V,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(oe,{modelValue:a(r).password,"onUpdate:modelValue":f[3]||(f[3]=m=>a(r).password=m),type:n.value?"text":"password",label:"Kata Sandi Baru",autocomplete:"off",disable:a(r).processing,error:!!a(r).errors.password,"error-message":a(r).errors.password,rules:[m=>m&&m.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(A,{dense:"",flat:"",round:"",onClick:f[2]||(f[2]=m=>n.value=!n.value)},{default:l(()=>[e(V,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(oe,{modelValue:a(r).password_confirmation,"onUpdate:modelValue":f[5]||(f[5]=m=>a(r).password_confirmation=m),type:n.value?"text":"password",label:"Konfirmasi Kata Sandi",autocomplete:"off",disable:a(r).processing,error:!!a(r).errors.password_confirmation,"error-message":a(r).errors.password_confirmation,rules:[m=>m&&m.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(A,{dense:"",flat:"",round:"",onClick:f[4]||(f[4]=m=>n.value=!n.value)},{default:l(()=>[e(V,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"])]),_:1}),e(te,null,{default:l(()=>[e(A,{type:"submit",label:"Perbarui Kata Sandi",color:"primary",icon:"save",disable:a(r).processing,loading:a(r).processing},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},$y=Object.freeze(Object.defineProperty({__proto__:null,default:Co},Symbol.toStringTag,{value:"Module"})),To={__name:"UpdateProfileInformationForm",setup(d){const u=fe().props.auth.user,o=He({name:u.name,username:u.username,type:window.CONSTANTS.USER_TYPES[u.type]}),r=()=>Ge({form:o,url:route("admin.user-profile.update")});return(s,b)=>(p(),P(ze,{class:"row",onSubmit:J(r,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>[b[3]||(b[3]=t("div",{class:"text-h6 q-my-xs text-subtitle1"},"Profil Saya",-1)),b[4]||(b[4]=t("p",{class:"text-caption text-grey-9"},"Perbarui profil anda.",-1)),e(oe,{modelValue:a(o).username,"onUpdate:modelValue":b[0]||(b[0]=f=>a(o).username=f),label:"ID Pengguna",disable:a(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"]),e(oe,{modelValue:a(o).name,"onUpdate:modelValue":b[1]||(b[1]=f=>a(o).name=f),modelModifiers:{trim:!0},label:"Nama",disable:a(o).processing,error:!!a(o).errors.name,"error-message":a(o).errors.name,rules:[f=>f&&f.length>0||"Name harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(oe,{modelValue:a(o).type,"onUpdate:modelValue":b[2]||(b[2]=f=>a(o).type=f),label:"Jenis Akun",disable:a(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"])]),_:1}),e(te,null,{default:l(()=>[e(A,{type:"submit",label:"Perbarui Profil Saya",icon:"save",color:"primary",disable:a(o).processing,loading:a(o).processing},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},xy=Object.freeze(Object.defineProperty({__proto__:null,default:To},Symbol.toStringTag,{value:"Module"})),Sy={class:"q-pa-xs"},Vy={class:"row justify-center"},qy={class:"col col-md-6"},$l="Profil Saya",Cy={__name:"Edit",setup(d){return(n,u)=>{const o=Q("i-head"),r=Q("authenticated-layout");return p(),h(W,null,[e(o,{title:$l}),e(r,null,{title:l(()=>[v(i($l))]),default:l(()=>[t("div",Sy,[t("div",Vy,[t("div",qy,[e(To,{class:"q-mb-md"}),e(Co)])])])]),_:1})],64)}}},Ty=Object.freeze(Object.defineProperty({__proto__:null,default:Cy},Symbol.toStringTag,{value:"Module"})),Py={class:"q-gutter-sm"},Oy={class:"q-gutter-sm"},Iy={class:"col col-md-6 q-pa-xs"},Ry={class:"row"},Dy={class:"detail"},Ay={key:0},Uy={key:1,class:"text-grey-8 text-italic"},jy={key:2},Ey={class:"text-subtitle2 text-bold text-grey-8 q-mt-xs"},My={key:3,class:"text-grey-8 text-italic"},xl="Rincian Role Pengguna",Ny={__name:"Detail",setup(d){const n=fe(),u=G(()=>{const o={};return n.props.data.permissions&&n.props.data.permissions.forEach(r=>{const s=r.category;o[s]||(o[s]=[]),o[s].push(r)}),o});return(o,r)=>{const s=Q("i-head"),b=Q("authenticated-layout");return p(),h(W,null,[e(s,{title:xl}),e(b,{"show-drawer-button":!0},{title:l(()=>[v(i(xl))]),"left-button":l(()=>[t("div",Py,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=f=>o.$goBack())})])]),"right-button":l(()=>[t("div",Oy,[e(A,{icon:"edit",dense:"",color:"grey",size:"sm",rounded:"",flat:"",onClick:r[1]||(r[1]=f=>a(X).get(o.route("admin.user-role.edit",{id:a(n).props.data.id})))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Iy,[t("div",Ry,[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>[r[6]||(r[6]=t("div",{class:"text-subtitle1 text-bold text-grey-8"},"Info Role",-1)),t("table",Dy,[t("tbody",null,[t("tr",null,[r[2]||(r[2]=t("td",{style:{width:"100px"}},"Nama Role",-1)),r[3]||(r[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,i(a(n).props.data.name),1)]),t("tr",null,[r[4]||(r[4]=t("td",null,"Deskripsi",-1)),r[5]||(r[5]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.description),1)])])]),r[7]||(r[7]=t("div",{class:"text-subtitle1 text-bold text-grey-8 q-mt-md"}," Daftar Pengguna ",-1)),a(n).props.data.users.length>0?(p(),h("div",Ay,[(p(!0),h(W,null,lt(a(n).props.data.users,f=>(p(),h("div",null,"  "+i(f.username)+" - "+i(f.name),1))),256))])):(p(),h("div",Uy," Belum ada akun pengguna yang terdaftar. ")),r[8]||(r[8]=t("div",{class:"text-subtitle1 text-bold text-grey-8 q-mt-md"}," Daftar Hak Akses ",-1)),a(n).props.data.permissions.length>0?(p(),h("div",jy,[(p(!0),h(W,null,lt(u.value,(f,m)=>(p(),h("div",{key:m},[t("div",Ey,i(m),1),(p(!0),h(W,null,lt(f,c=>(p(),h("div",{key:c.id},"  "+i(c.label),1))),128))]))),128))])):(p(),h("div",My," Belum ada hak akses yang ditetapkan. "))]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},By=Object.freeze(Object.defineProperty({__proto__:null,default:Ny},Symbol.toStringTag,{value:"Module"})),zy={class:"q-gutter-sm"},Fy={class:"col col-md-6 q-pa-xs"},Ly={class:"text-subtitle2 text-bold text-grey-8 q-mt-md q-mb-sm"},Hy={__name:"Editor",setup(d){const n=fe(),u=(n.props.data.id?"Edit":"Tambah")+" Peran Pengguna",o=He({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description,permissions:n.props.data.permissions?n.props.data.permissions.map(b=>b.id):[]}),r=()=>Ge({form:o,url:route("admin.user-role.save")}),s=G(()=>{const b={};return n.props.permissions&&n.props.permissions.forEach(f=>{const m=f.category;b[m]||(b[m]=[]),b[m].push(f)}),b});return(b,f)=>{const m=Q("i-head"),c=Q("authenticated-layout");return p(),h(W,null,[e(m,{title:u}),e(c,{"show-drawer-button":!0},{title:l(()=>[v(i(u))]),"left-button":l(()=>[t("div",zy,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:f[0]||(f[0]=y=>b.$goBack())})])]),"right-button":l(()=>[e(A,{icon:"save",label:"Simpan",color:"primary",disable:a(o).processing,size:"sm",dense:"",class:"custom-dense",onClick:J(r,["prevent"])},null,8,["disable"])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[t("div",Fy,[e(ze,{class:"row",onSubmit:J(r,["prevent"]),onValidationError:a(Be)},{default:l(()=>[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[ee(t("input",{type:"hidden",name:"id","onUpdate:modelValue":f[1]||(f[1]=y=>a(o).id=y)},null,512),[[dt,a(o).id]]),e(oe,{autofocus:"",modelValue:a(o).name,"onUpdate:modelValue":f[2]||(f[2]=y=>a(o).name=y),modelModifiers:{trim:!0},label:"Nama Role","lazy-rules":"",error:!!a(o).errors.name,disable:a(o).processing,"error-message":a(o).errors.name,rules:[y=>y&&y.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(oe,{modelValue:a(o).description,"onUpdate:modelValue":f[3]||(f[3]=y=>a(o).description=y),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:a(o).processing,error:!!a(o).errors.description,"error-message":a(o).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),(p(!0),h(W,null,lt(s.value,(y,_)=>(p(),h("div",{key:_},[t("div",Ly,i(_),1),(p(!0),h(W,null,lt(y,g=>(p(),h("div",{key:g.id},[e(la,{class:"q-ma-none q-pa-none list-checkbox",modelValue:a(o).permissions,"onUpdate:modelValue":S=>a(o).permissions=S,val:g.id,label:g.label,color:"primary"},null,8,["modelValue","onUpdate:modelValue","val","label"])]))),128))]))),128))]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Ky=vt(Hy,[["__scopeId","data-v-c97e395c"]]),Yy=Object.freeze(Object.defineProperty({__proto__:null,default:Ky},Symbol.toStringTag,{value:"Module"})),Qy={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Wy={class:"q-pa-xs"},Jy={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Gy={class:"flex justify-end"},Sl="Role Pengguna",Xy={__name:"Index",setup(d){const n=$e(),u=q(!1),o=q([]),r=q(!0),s=q(null),b=q(null),f=Ke(b),m=Pe({search:"",...Ae()}),c=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),y=[{name:"name",label:"Nama Role",field:"name",align:"left",sortable:!0},{name:"action",align:"right"}];we(()=>{g()});const _=w=>tt({message:`Hapus role ${w.name}?`,url:route("admin.user-role.delete",w.id),fetchItemsCallback:g,loading:r}),g=(w=null)=>{Ue({pagination:c,filter:m,props:w,rows:o,url:route("admin.user-role.data"),loading:r,tableRef:s})},S=w=>X.get(route("admin.user-role.detail",{id:w.id})),I=G(()=>n.screen.gt.sm?y:y.filter(w=>w.name==="name"||w.name==="action"));return(w,R)=>{const C=Q("i-head"),$=Q("authenticated-layout");return p(),h(W,null,[e(C,{title:Sl}),e($,null,Fe({title:l(()=>[v(i(Sl))]),"right-button":l(()=>[e(A,{icon:u.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:R[0]||(R[0]=O=>u.value=!u.value)},null,8,["icon"]),w.$can("admin.user-role.add")?(p(),P(A,{key:0,icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:R[1]||(R[1]=O=>a(X).get(w.route("admin.user-role.add")))})):k("",!0)]),default:l(()=>[t("div",Wy,[e(Te,{class:"full-height-table",ref_key:"tableRef",ref:s,s:"",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":R[4]||(R[4]=O=>c.value=O),filter:m.search,loading:r.value,columns:I.value,rows:o.value,"rows-per-page-options":[10,25,50],style:Ee({height:a(f)}),onRequest:g,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:O,message:z,filter:T})=>[t("div",Jy,[t("span",null,i(z)+" "+i(T?" with term "+T:""),1)])]),body:l(O=>[e(qe,{props:O,class:"cursor-pointer",onClick:z=>S(O.row)},{default:l(()=>[e(L,{key:"name",props:O,class:"wrap-column"},{default:l(()=>[t("div",null,[a(n).screen.lt.md?(p(),P(V,{key:0,name:"person"})):k("",!0),v(" "+i(O.row.name),1)])]),_:2},1032,["props"]),e(L,{key:"action",props:O},{default:l(()=>[t("div",Gy,[w.$can("admin.user-role.add")||w.$can("admin.user-role.edit")||w.$can("admin.user-role.delete")?(p(),P(A,{key:0,icon:"more_vert",dense:"",flat:"",rounded:"",onClick:R[3]||(R[3]=J(()=>{},["stop"]))},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"200px"}},{default:l(()=>[w.$can("admin.user-role.add")?ee((p(),P(ae,{key:0,clickable:"",onClick:J(z=>a(X).get(w.route("admin.user-role.duplicate",O.row.id)),["stop"])},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"file_copy"})]),_:1}),e(B,null,{default:l(()=>[...R[5]||(R[5]=[v(" Duplikat ",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),w.$can("admin.user-role.edit")?ee((p(),P(ae,{key:1,clickable:"",onClick:J(z=>a(X).get(w.route("admin.user-role.edit",O.row.id)),["stop"])},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"edit"})]),_:1}),e(B,null,{default:l(()=>[...R[6]||(R[6]=[v("Edit",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),w.$can("admin.user-role.delete")?ee((p(),P(ae,{key:2,onClick:J(z=>_(O.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"delete_forever"})]),_:1}),e(B,null,{default:l(()=>[...R[7]||(R[7]=[v("Hapus",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[u.value?{name:"header",fn:l(()=>[e(Xe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:b},{default:l(()=>[t("div",Qy,[e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:m.search,"onUpdate:modelValue":R[2]||(R[2]=O=>m.search=O),placeholder:"Cari",clearable:""},{append:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Zy=Object.freeze(Object.defineProperty({__proto__:null,default:Xy},Symbol.toStringTag,{value:"Module"})),e_={class:"q-gutter-sm"},t_={class:"q-gutter-sm"},a_={class:"row justify-center"},l_={class:"col col-md-6 q-pa-xs"},o_={class:"row"},n_={class:"detail"},s_={key:0},r_={key:1},i_={key:2},Vl="Rincian Pengguna",d_={__name:"Detail",setup(d){const n=fe();return(u,o)=>{const r=Q("i-head"),s=Q("authenticated-layout");return p(),h(W,null,[e(r,{title:Vl}),e(s,{"show-drawer-button":!0},{title:l(()=>[v(i(Vl))]),"left-button":l(()=>[t("div",e_,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=b=>u.$inertia.get(u.route("admin.user.index")))})])]),"right-button":l(()=>[t("div",t_,[u.$can("admin.user.edit")&&a(n).props.data.id!=a(n).props.auth.user.id?(p(),P(A,{key:0,icon:"edit",dense:"",rounded:"",flat:"",size:"sm",color:"grey",onClick:o[1]||(o[1]=b=>u.$inertia.get(u.route("admin.user.edit",{id:a(n).props.data.id})))})):k("",!0)])]),default:l(()=>[t("div",a_,[t("div",l_,[t("div",o_,[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>[o[19]||(o[19]=t("div",{class:"text-subtitle1 text-bold text-grey-9"}," Profil Pengguna ",-1)),t("table",n_,[t("tbody",null,[t("tr",null,[o[2]||(o[2]=t("td",{style:{width:"125px"}},"ID Pengguna",-1)),o[3]||(o[3]=t("td",{style:{width:"1px"}},":",-1)),t("td",null,i(a(n).props.data.username),1)]),t("tr",null,[o[4]||(o[4]=t("td",null,"Nama Pengguna",-1)),o[5]||(o[5]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.name),1)]),t("tr",null,[o[6]||(o[6]=t("td",null,"Jenis Akun",-1)),o[7]||(o[7]=t("td",null,":",-1)),t("td",null,i(u.$CONSTANTS.USER_TYPES[a(n).props.data.type]),1)]),a(n).props.data.roles.length>0?(p(),h("tr",s_,[o[8]||(o[8]=t("td",null,"Peran",-1)),o[9]||(o[9]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.roles.map(b=>b.name).join(",")),1)])):k("",!0),t("tr",null,[o[10]||(o[10]=t("td",null,"Dibuat",-1)),o[11]||(o[11]=t("td",null,":",-1)),t("td",null,i(a(be)(a(n).props.data.created_at)),1)]),a(n).props.data.updated_at?(p(),h("tr",r_,[o[12]||(o[12]=t("td",null,"Diperbarui",-1)),o[13]||(o[13]=t("td",null,":",-1)),t("td",null,i(a(be)(a(n).props.data.updated_at)),1)])):k("",!0),t("tr",null,[o[14]||(o[14]=t("td",null,"Terakhir login",-1)),o[15]||(o[15]=t("td",null,":",-1)),t("td",null,i(a(n).props.data.last_login_datetime?u.$dayjs(a(n).props.data.last_login_datetime).format("DD MMMM YYYY HH:mm:ss"):"Belum pernah login"),1)]),a(n).props.data.last_activity_datetime?(p(),h("tr",i_,[o[17]||(o[17]=t("td",null,"Aktifitas Terakhir",-1)),o[18]||(o[18]=t("td",null,":",-1)),t("td",null,[v(i(u.$dayjs(a(n).props.data.last_activity_datetime).format("DD MMMM YYYY HH:mm:ss"))+" ",1),o[16]||(o[16]=t("br",null,null,-1)),v(i(a(n).props.data.last_activity_description),1)])])):k("",!0)])])]),_:1})]),_:1})])])])]),_:1})],64)}}},u_=Object.freeze(Object.defineProperty({__proto__:null,default:d_},Symbol.toStringTag,{value:"Module"}));function m_(d){return new RegExp("^(?=.{3,16}$)(?![_-])(?!.*[_-]{2})[a-zA-Z0-9_-]+(?<![_-])$").test(d)}const c_={class:"q-gutter-sm"},p_={class:"row justify-center"},f_={class:"col col-md-6 q-pa-xs"},g_={__name:"Editor",setup(d){const n=et(window.CONSTANTS.USER_TYPES),u=fe(),o=u.props.roles,r=u.props.data.id?"Edit Pengguna":"Tambah Pengguna",s=He({id:u.props.data.id,name:u.props.data.name,username:u.props.data.username,password:"",type:u.props.data.type?u.props.data.type:n[0].value,active:!!u.props.data.active,roles:u.props.data.roles??[]}),b=()=>Ge({form:s,url:route("admin.user.save")});return(f,m)=>{const c=Q("i-head"),y=Q("authenticated-layout");return p(),h(W,null,[e(c,{title:a(r)},null,8,["title"]),e(y,{"show-drawer-button":!0},{title:l(()=>[v(i(a(r)),1)]),"left-button":l(()=>[t("div",c_,[e(A,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:m[0]||(m[0]=_=>f.$goBack())})])]),default:l(()=>[t("div",p_,[t("div",f_,[e(ze,{class:"row",onSubmit:J(b,["prevent"])},{default:l(()=>[e(pe,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[ee(t("input",{type:"hidden",name:"id","onUpdate:modelValue":m[1]||(m[1]=_=>a(s).id=_)},null,512),[[dt,a(s).id]]),e(oe,{modelValue:a(s).name,"onUpdate:modelValue":m[2]||(m[2]=_=>a(s).name=_),modelModifiers:{trim:!0},label:"Nama",error:!!a(s).errors.name,disable:a(s).processing,"error-message":a(s).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(oe,{modelValue:a(s).username,"onUpdate:modelValue":m[3]||(m[3]=_=>a(s).username=_),modelModifiers:{trim:!0},type:"text",label:"ID Pengguna","lazy-rules":"",disable:a(s).processing,error:!!a(s).errors.username,"error-message":a(s).errors.username,rules:[_=>_&&_.length>0||"ID Pengguna harus diisi.",_=>a(m_)(_)||"ID Pengguna tidak valid."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(oe,{modelValue:a(s).password,"onUpdate:modelValue":m[4]||(m[4]=_=>a(s).password=_),type:"password",label:"Kata Sandi","lazy-rules":"",disable:a(s).processing,error:!!a(s).errors.password,"error-message":a(s).errors.password,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(de,{modelValue:a(s).type,"onUpdate:modelValue":m[5]||(m[5]=_=>a(s).type=_),label:"Jenis Akun",options:a(n),"map-options":"","emit-value":"","lazy-rules":"",disable:a(s).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!a(s).errors.type,"error-message":a(s).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"]),e(de,{modelValue:a(s).roles,"onUpdate:modelValue":m[6]||(m[6]=_=>a(s).roles=_),label:"Peran",options:a(o),"option-value":"id","option-label":"name","map-options":"","emit-value":"",multiple:"","lazy-rules":"","use-chips":"",disable:a(s).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!a(s).errors.roles,"error-message":a(s).errors.roles,"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"]),e(da,{modelValue:a(s).active,"onUpdate:modelValue":m[7]||(m[7]=_=>a(s).active=_),disable:a(s).processing,label:"Aktif"},null,8,["modelValue","disable"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(A,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:a(s).processing,onClick:b},null,8,["disable"]),e(A,{icon:"cancel",label:"Batal",class:"text-black",disable:a(s).processing,onClick:m[8]||(m[8]=_=>f.$goBack())},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})],64)}}},b_=Object.freeze(Object.defineProperty({__proto__:null,default:g_},Symbol.toStringTag,{value:"Module"})),v_={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},y_={class:"q-pa-xs"},__={class:"full-width row flex-center text-grey-8 q-gutter-sm"},k_={class:"elipsis",style:{"max-width":"200px"}},w_={class:"flex justify-end"},ql="Pengguna",h_={__name:"Index",setup(d){const n=[{value:"all",label:"Semua"},...et(window.CONSTANTS.USER_TYPES)],u=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],o=fe(),r=$e(),s=o.props.auth.user,b=q([]),f=q(!0),m=q(!1),c=Pe({role:"all",status:"active",search:""}),y=q({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"username",descending:!1}),_=[{name:"username",label:"ID Pengguna",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"role",label:"Hak Akses",field:"role",align:"center",sortable:!0},{name:"action",align:"right"}];we(()=>{S()});const g=()=>S(),S=(z=null)=>Ue({pagination:y,props:z,rows:b,loading:f,filter:c,url:route("admin.user.data"),tableRef:C}),I=z=>tt({url:route("admin.user.delete",z.id),message:`Hapus pengguna ${z.username}?`,fetchItemsCallback:S,loading:f}),w=G(()=>r.screen.gt.sm?_:_.filter(z=>z.name==="username"||z.name==="action")),R=z=>X.get(route("admin.user.detail",z.id)),C=q(null),$=q(null),O=Ke($);return(z,T)=>{const D=Q("i-head"),E=Q("authenticated-layout");return p(),h(W,null,[e(D,{title:ql}),e(E,null,Fe({title:l(()=>[v(i(ql))]),"right-button":l(()=>[e(A,{icon:m.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:T[0]||(T[0]=M=>m.value=!m.value)},null,8,["icon"]),z.$can("admin.user.add")?(p(),P(A,{key:0,icon:"add",dense:"",rounded:"",color:"primary",class:"q-ml-sm",onClick:T[1]||(T[1]=M=>a(X).get(z.route("admin.user.add")))})):k("",!0)]),default:l(()=>[t("div",y_,[e(Te,{ref_key:"tableRef",ref:C,class:"full-height-table",style:Ee({height:a(O)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":T[6]||(T[6]=M=>y.value=M),filter:c.search,loading:f.value,columns:w.value,rows:b.value,"rows-per-page-options":[10,25,50],onRequest:S,"binary-state-sort":""},{loading:l(()=>[e(je,{showing:"",color:"red"})]),"no-data":l(({icon:M,message:j,term:x})=>[t("div",__,[t("span",null,i(j)+" "+i(x?" with term "+x:""),1)])]),body:l(M=>[e(qe,{props:M,class:xe([M.row.active?"":"bg-red-1","cursor-pointer"]),onClick:j=>R(M.row)},{default:l(()=>[e(L,{key:"username",props:M},{default:l(()=>[t("div",null,[a(r).screen.gt.sm?k("",!0):(p(),h(W,{key:0},[e(V,{name:"person",class:"inline-icon"}),T[7]||(T[7]=v(" Username: ",-1))],64)),v(" "+i(M.row.username),1)]),a(r).screen.gt.sm?k("",!0):(p(),h(W,{key:0},[t("div",null,[e(V,{name:"person",class:"inline-icon"}),v(" Nama: "+i(M.row.name),1)]),t("div",k_,[e(V,{name:"group",class:"inline-icon"}),T[8]||(T[8]=v(" Jenis Akun: ",-1)),t("span",null,i(z.$CONSTANTS.USER_TYPES[M.row.type]),1)]),t("div",null,[e(V,{name:"group",class:"inline-icon"}),v(" Peran: "+i(M.row.roles.map(j=>j.name).join(",")),1)])],64))]),_:2},1032,["props"]),e(L,{key:"name",props:M},{default:l(()=>[v(i(M.row.name),1)]),_:2},1032,["props"]),e(L,{key:"role",props:M,align:"center"},{default:l(()=>[t("span",null,i(z.$CONSTANTS.USER_TYPES[M.row.type]),1)]),_:2},1032,["props"]),e(L,{key:"action",props:M},{default:l(()=>[t("div",w_,[z.$can("admin.user.add")||z.$can("admin.user.edit")||z.$can("admin.user.delete")?(p(),P(A,{key:0,disable:M.row.id==a(s).id||M.row.username=="admin",icon:"more_vert",dense:"",flat:"",rounded:"",onClick:T[5]||(T[5]=J(()=>{},["stop"]))},{default:l(()=>[e(Je,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ne,{style:{width:"200px"}},{default:l(()=>[z.$can("admin.user.add")?ee((p(),P(ae,{key:0,clickable:"",onClick:J(j=>a(X).get(z.route("admin.user.duplicate",M.row.id)),["stop"])},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"file_copy"})]),_:1}),e(B,null,{default:l(()=>[...T[9]||(T[9]=[v(" Duplikat ",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),z.$can("admin.user.edit")?ee((p(),P(ae,{key:1,clickable:"",onClick:J(j=>a(X).get(z.route("admin.user.edit",M.row.id)),["stop"])},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"edit"})]),_:1}),e(B,null,{default:l(()=>[...T[10]||(T[10]=[v("Edit",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0),z.$can("admin.user.delete")?ee((p(),P(ae,{key:2,onClick:J(j=>I(M.row),["stop"]),clickable:""},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"delete_forever"})]),_:1}),e(B,null,{default:l(()=>[...T[11]||(T[11]=[v("Hapus",-1)])]),_:1})]),_:1},8,["onClick"])),[[ne],[ue]]):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["disable"])):k("",!0)])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[m.value?{name:"header",fn:l(()=>[e(Xe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:$},{default:l(()=>[t("div",v_,[e(de,{modelValue:c.type,"onUpdate:modelValue":[T[2]||(T[2]=M=>c.type=M),g],class:"custom-select col-xs-12 col-sm-2",options:n,label:"Jenis Akun",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(de,{modelValue:c.status,"onUpdate:modelValue":[T[3]||(T[3]=M=>c.status=M),g],class:"custom-select col-xs-12 col-sm-2",options:u,label:"Status",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(oe,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:c.search,"onUpdate:modelValue":T[4]||(T[4]=M=>c.search=M),placeholder:"Cari",clearable:""},{append:l(()=>[e(V,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},$_=Object.freeze(Object.defineProperty({__proto__:null,default:h_},Symbol.toStringTag,{value:"Module"})),x_=$t({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(d,{slots:n,emit:u}){let o=!1,r,s,b=null,f=null,m,c;function y(){r==null||r(),r=null,o=!1,b!==null&&(clearTimeout(b),b=null),f!==null&&(clearTimeout(f),f=null),s==null||s.removeEventListener("transitionend",m),m=null}function _(w,R,C){R!==void 0&&(w.style.height=`${R}px`),w.style.transition=`height ${d.duration}ms cubic-bezier(.25, .8, .50, 1)`,o=!0,r=C}function g(w,R){w.style.overflowY=null,w.style.height=null,w.style.transition=null,y(),R!==c&&u(R)}function S(w,R){let C=0;s=w,o===!0?(y(),C=w.offsetHeight===w.scrollHeight?0:void 0):(c="hide",w.style.overflowY="hidden"),_(w,C,R),b=setTimeout(()=>{b=null,w.style.height=`${w.scrollHeight}px`,m=$=>{f=null,(Object($)!==$||$.target===w)&&g(w,"show")},w.addEventListener("transitionend",m),f=setTimeout(m,d.duration*1.1)},100)}function I(w,R){let C;s=w,o===!0?y():(c="show",w.style.overflowY="hidden",C=w.scrollHeight),_(w,C,R),b=setTimeout(()=>{b=null,w.style.height=0,m=$=>{f=null,(Object($)!==$||$.target===w)&&g(w,"hide")},w.addEventListener("transitionend",m),f=setTimeout(m,d.duration*1.1)},100)}return oa(()=>{o===!0&&y()}),()=>_e(Pl,{css:!1,appear:d.appear,onEnter:S,onLeave:I},n.default)}}),Pt=xn({}),S_=Object.keys(El),St=$t({name:"QExpansionItem",props:{...El,...Vn,...ka,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Sn,"click","afterShow","afterHide"],setup(d,{slots:n,emit:u}){const{proxy:{$q:o}}=Tt(),r=wa(d,o),s=q(d.modelValue!==null?d.modelValue:d.defaultOpened),b=q(null),f=qn(),{show:m,hide:c,toggle:y}=Cn({showing:s});let _,g;const S=G(()=>`q-expansion-item q-item-type q-expansion-item--${s.value===!0?"expanded":"collapsed"} q-expansion-item--${d.popup===!0?"popup":"standard"}`),I=G(()=>d.contentInsetLevel===void 0?null:{["padding"+(o.lang.rtl===!0?"Right":"Left")]:d.contentInsetLevel*56+"px"}),w=G(()=>d.disable!==!0&&(d.href!==void 0||d.to!==void 0&&d.to!==null&&d.to!=="")),R=G(()=>{const le={};return S_.forEach(Ce=>{le[Ce]=d[Ce]}),le}),C=G(()=>w.value===!0||d.expandIconToggle!==!0),$=G(()=>d.expandedIcon!==void 0&&s.value===!0?d.expandedIcon:d.expandIcon||o.iconSet.expansionItem[d.denseToggle===!0?"denseIcon":"icon"]),O=G(()=>d.disable!==!0&&(w.value===!0||d.expandIconToggle===!0)),z=G(()=>({expanded:s.value===!0,detailsId:f.value,toggle:y,show:m,hide:c})),T=G(()=>{const le=d.toggleAriaLabel!==void 0?d.toggleAriaLabel:o.lang.label[s.value===!0?"collapse":"expand"](d.label);return{role:"button","aria-expanded":s.value===!0?"true":"false","aria-controls":f.value,"aria-label":le}});Me(()=>d.group,le=>{g==null||g(),le!==void 0&&Y()});function D(le){w.value!==!0&&y(le),u("click",le)}function E(le){le.keyCode===13&&M(le,!0)}function M(le,Ce){var Ie;Ce!==!0&&le.qAvoidFocus!==!0&&((Ie=b.value)==null||Ie.focus()),y(le),It(le)}function j(){u("afterShow")}function x(){u("afterHide")}function Y(){_===void 0&&(_=Tn()),s.value===!0&&(Pt[d.group]=_);const le=Me(s,Ie=>{Ie===!0?Pt[d.group]=_:Pt[d.group]===_&&delete Pt[d.group]}),Ce=Me(()=>Pt[d.group],(Ie,ft)=>{ft===_&&Ie!==void 0&&Ie!==_&&c()});g=()=>{le(),Ce(),Pt[d.group]===_&&delete Pt[d.group],g=void 0}}function se(){const le={class:[`q-focusable relative-position cursor-pointer${d.denseToggle===!0&&d.switchToggleSide===!0?" items-end":""}`,d.expandIconClass],side:d.switchToggleSide!==!0,avatar:d.switchToggleSide},Ce=[_e(V,{class:"q-expansion-item__toggle-icon"+(d.expandedIcon===void 0&&s.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:$.value})];return O.value===!0&&(Object.assign(le,{tabindex:0,...T.value,onClick:M,onKeyup:E}),Ce.unshift(_e("div",{ref:b,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),_e(B,le,()=>Ce)}function N(){let le;return n.header!==void 0?le=[].concat(n.header(z.value)):(le=[_e(B,()=>[_e(ye,{lines:d.labelLines},()=>d.label||""),d.caption?_e(ye,{lines:d.captionLines,caption:!0},()=>d.caption):null])],d.icon&&le[d.switchToggleSide===!0?"push":"unshift"](_e(B,{side:d.switchToggleSide===!0,avatar:d.switchToggleSide!==!0},()=>_e(V,{name:d.icon})))),d.disable!==!0&&d.hideExpandIcon!==!0&&le[d.switchToggleSide===!0?"unshift":"push"](se()),le}function U(){const le={ref:"item",style:d.headerStyle,class:d.headerClass,dark:r.value,disable:d.disable,dense:d.dense,insetLevel:d.headerInsetLevel};return C.value===!0&&(le.clickable=!0,le.onClick=D,Object.assign(le,w.value===!0?R.value:T.value)),_e(ae,le,N)}function Z(){return ee(_e("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:I.value,id:f.value},Ct(n.default)),[[Dl,s.value]])}function he(){const le=[U(),_e(x_,{duration:d.duration,onShow:j,onHide:x},Z)];return d.expandSeparator===!0&&le.push(_e(Ze,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:r.value}),_e(Ze,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:r.value})),le}return d.group!==void 0&&Y(),oa(()=>{g==null||g()}),()=>_e("div",{class:S.value},[_e("div",{class:"q-expansion-item__container relative-position"},he())])}}),V_={class:"absolute-top",style:{height:"50px","border-bottom":"1px solid #ddd","align-items":"center","justify-content":"center"}},q_={style:{width:"100%",padding:"8px",display:"flex","justify-content":"space-between"}},C_={class:"text-bold"},T_={class:"text-grey-8 text-caption"},P_={class:"absolute-bottom text-grey-6 q-pa-md"},va="amanah-pos.layout.left-drawer-open",O_={__name:"AuthenticatedLayout",props:{showDrawerButton:{type:Boolean,default:!0}},setup(d,{expose:n}){const u=$e(),o=fe(),r=q(JSON.parse(localStorage.getItem(va))),s=q(!1),b=()=>r.value=!r.value,f=()=>{r.value=!1};return Me(r,m=>{localStorage.setItem(va,m)}),we(()=>{r.value=JSON.parse(localStorage.getItem(va)),u.screen.lt.md&&(r.value=!1)}),n({hideDrawer:f}),(m,c)=>(p(),P(Un,{view:"lHh LpR lFf"},{default:l(()=>[e(Pn,null,{default:l(()=>[e(Xe,{class:"bg-grey-1 text-black toolbar-scrolled"},{default:l(()=>[d.showDrawerButton&&!r.value?(p(),P(A,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:b},{default:l(()=>[e(V,{class:"material-symbols-outlined"},{default:l(()=>[...c[28]||(c[28]=[v("dock_to_right",-1)])]),_:1})]),_:1})):k("",!0),Ot(m.$slots,"left-button",{},void 0,!0),e(On,{style:{"font-size":"16px"}},{default:l(()=>[Ot(m.$slots,"title",{},()=>[v(i(m.$config.APP_NAME),1)],!0)]),_:3}),Ot(m.$slots,"right-button",{},void 0,!0)]),_:3}),Ot(m.$slots,"header",{},void 0,!0)]),_:3}),e(In,{breakpoint:768,modelValue:r.value,"onUpdate:modelValue":c[27]||(c[27]=y=>r.value=y),bordered:"",class:"bg-grey-2",style:{color:"#444"}},{default:l(()=>[t("div",V_,[t("div",q_,[e(Rn,{modelValue:s.value,"onUpdate:modelValue":c[2]||(c[2]=y=>s.value=y),class:xe(["profile-btn text-bold",{"profile-btn-active":s.value}]),flat:"",label:a(o).props.company.name,style:{"justify-content":"space-between","flex-grow":"1",overflow:"hidden"}},{default:l(()=>[e(Ne,{id:"profile-btn-popup",style:{color:"#444"}},{default:l(()=>[e(ae,null,{default:l(()=>[e(Lt,{style:{"margin-left":"-15px"}},{default:l(()=>[e(V,{name:"person"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[t("div",C_,i(a(o).props.auth.user.name),1),t("div",T_,[v(i(m.$CONSTANTS.USER_TYPES[a(o).props.auth.user.type])+" ",1),c[29]||(c[29]=t("br",null,null,-1)),v(" "+i(a(o).props.company.name),1)])]),_:1})]),_:1})]),_:1}),e(Ze),ee((p(),P(ae,{class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/settings/profile"),onClick:c[0]||(c[0]=y=>a(X).get(m.route("admin.profile.edit")))},{default:l(()=>[e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[e(V,{name:"manage_accounts",class:"q-mr-sm"}),c[30]||(c[30]=v(" Profil Saya",-1))]),_:1})]),_:1})]),_:1},8,["active"])),[[ue],[ne]]),m.$can("admin.company-profile.edit")?ee((p(),P(ae,{key:0,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/settings/company-profile"),onClick:c[1]||(c[1]=y=>a(X).get(m.route("admin.company-profile.edit")))},{default:l(()=>[e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[e(V,{name:"home_work",class:"q-mr-sm"}),c[31]||(c[31]=v(" Profil Perusahaan",-1))]),_:1})]),_:1})]),_:1},8,["active"])),[[ue],[ne]]):k("",!0),e(Ze),ee((p(),P(ae,{clickable:"",style:{color:"inherit"},href:m.route("admin.auth.logout")},{default:l(()=>[e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[e(V,{name:"logout",class:"q-mr-sm"}),c[32]||(c[32]=v(" Keluar",-1))]),_:1})]),_:1})]),_:1},8,["href"])),[[ue],[ne]])]),_:1})]),_:1},8,["modelValue","label","class"]),r.value?(p(),P(A,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:b},{default:l(()=>[e(V,{name:"dock_to_right"})]),_:1})):k("",!0)])]),e(Dn,{style:{height:"calc(100% - 50px)","margin-top":"50px"}},{default:l(()=>[e(Ne,{id:"main-nav",style:{"margin-bottom":"50px"}},{default:l(()=>[ee((p(),P(ae,{clickable:"",active:m.$page.url.startsWith("/admin/dashboard"),onClick:c[3]||(c[3]=y=>a(X).get(m.route("admin.dashboard")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"dashboard"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[33]||(c[33]=[v("Dashboard",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]),m.$can("admin.sales-order.index")||m.$can("admin.customer.index")?(p(),P(St,{key:0,icon:"storefront",label:"Penjualan","default-opened":m.$page.url.startsWith("/admin/sales-orders")||m.$page.url.startsWith("/admin/customers")},{default:l(()=>[m.$can("admin.sales-order.index")?ee((p(),P(ae,{key:0,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/sales-orders"),onClick:c[4]||(c[4]=y=>a(X).get(m.route("admin.sales-order.index")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"shopping_cart"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[34]||(c[34]=[v("Penjualan",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),m.$can("admin.customer.index")?ee((p(),P(ae,{key:1,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/customers"),onClick:c[5]||(c[5]=y=>a(X).get(m.route("admin.customer.index")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"people"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[35]||(c[35]=[v("Pelanggan",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),m.$can("admin.purchase-order.index")||m.$can("admin.supplier.index")?(p(),P(St,{key:1,icon:"local_shipping",label:"Pembelian","default-opened":m.$page.url.startsWith("/admin/purchase-orders")||m.$page.url.startsWith("/admin/suppliers")},{default:l(()=>[m.$can("admin.purchase-order.index")?ee((p(),P(ae,{key:0,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/purchase-orders"),onClick:c[6]||(c[6]=y=>a(X).get(m.route("admin.purchase-order.index")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"shopping_cart"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[36]||(c[36]=[v("Pembelian",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),m.$can("admin.supplier.index")?ee((p(),P(ae,{key:1,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/suppliers"),onClick:c[7]||(c[7]=y=>a(X).get(m.route("admin.supplier.index")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"people"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[37]||(c[37]=[v("Pemasok",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),m.$can("admin.product.index")||m.$can("admin.product-category.index")||m.$can("admin.stock-adjustment.index")||m.$can("admin.stock-movement.index")?(p(),P(St,{key:2,icon:"inventory_2",label:"Inventori","default-opened":m.$page.url.startsWith("/admin/products")||m.$page.url.startsWith("/admin/product-categories")||m.$page.url.startsWith("/admin/stock-adjustments")||m.$page.url.startsWith("/admin/stock-movements")},{default:l(()=>[m.$can("admin.stock-adjustment.index")?ee((p(),P(ae,{key:0,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/stock-adjustments"),onClick:c[8]||(c[8]=y=>a(X).get(m.route("admin.stock-adjustment.index")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"swap_vert"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[38]||(c[38]=[v("Penyesuaian Stok",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),m.$can("admin.stock-movement.index")?ee((p(),P(ae,{key:1,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/stock-movements"),onClick:c[9]||(c[9]=y=>a(X).get(m.route("admin.stock-movement.index")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"timeline"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[39]||(c[39]=[v("Riwayat Stok",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),m.$can("admin.product.index")?ee((p(),P(ae,{key:2,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/products"),onClick:c[10]||(c[10]=y=>a(X).get(m.route("admin.product.index")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"box"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[40]||(c[40]=[v("Produk",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),m.$can("admin.product-category.index")?ee((p(),P(ae,{key:3,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/product-categories"),onClick:c[11]||(c[11]=y=>a(X).get(m.route("admin.product-category.index")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"category"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[41]||(c[41]=[v("Kategori Produk",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),m.$can("admin.cashier-session.index")||m.$can("admin.cashier-terminal.index")?(p(),P(St,{key:3,icon:"point_of_sale",label:"Kasir","default-opened":m.$page.url.startsWith("/admin/cashier-terminals")||m.$page.url.startsWith("/admin/cashier-session")},{default:l(()=>[m.$can("admin.cashier-session.index")?ee((p(),P(ae,{key:0,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/cashier-sessions"),onClick:c[12]||(c[12]=y=>a(X).get(m.route("admin.cashier-session.index")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"tv_signin"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[42]||(c[42]=[v("Sesi Kasir",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),m.$can("admin.cashier-terminal.index")?ee((p(),P(ae,{key:1,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/cashier-terminals"),onClick:c[13]||(c[13]=y=>a(X).get(m.route("admin.cashier-terminal.index")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"point_of_sale"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[43]||(c[43]=[v("Terminal Kasir",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),m.$can("admin.customer-wallet-transaction-confirmation.index")||m.$can("admin.customer-wallet-transaction.index")?(p(),P(St,{key:4,icon:"wallet",label:"Wallet","default-opened":m.$page.url.startsWith("/admin/customer-wallet-transactions")||m.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations")},{default:l(()=>[m.$can("admin.customer-wallet-transaction-confirmation.index")?ee((p(),P(ae,{key:0,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations"),onClick:c[14]||(c[14]=y=>a(X).get(m.route("admin.customer-wallet-transaction-confirmation.index")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"add_task"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[44]||(c[44]=[v("Konfirmasi Top Up",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),m.$can("admin.customer-wallet-transaction.index")?ee((p(),P(ae,{key:1,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/customer-wallet-transactions"),onClick:c[15]||(c[15]=y=>a(X).get(m.route("admin.customer-wallet-transaction.index")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"moving"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[45]||(c[45]=[v("Transaksi",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),m.$can("admin.finance-transaction.index")||m.$can("admin.finance-account.index")?(p(),P(St,{key:5,icon:"finance",label:"Keuangan","default-opened":m.$page.url.startsWith("/admin/finance-accounts")||m.$page.url.startsWith("/admin/finance-transactions")},{default:l(()=>[m.$can("admin.finance-transaction.index")?ee((p(),P(ae,{key:0,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/finance-transactions"),onClick:c[16]||(c[16]=y=>a(X).get(m.route("admin.finance-transaction.index")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"moving"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[46]||(c[46]=[v("Transaksi",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),m.$can("admin.finance-account.index")?ee((p(),P(ae,{key:1,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/finance-accounts"),onClick:c[17]||(c[17]=y=>a(X).get(m.route("admin.finance-account.index")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"groups_2"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[47]||(c[47]=[v("Akun Kas",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),m.$can("admin.operational-cost.index")||m.$can("admin.operational-cost-category.index")?(p(),P(St,{key:6,icon:"paid",label:"Operasional","default-opened":m.$page.url.startsWith("/admin/operational-costs")||m.$page.url.startsWith("/admin/operational-cost-categories")},{default:l(()=>[m.$can("admin.operational-cost.index")?ee((p(),P(ae,{key:0,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/operational-costs"),onClick:c[18]||(c[18]=y=>a(X).get(m.route("admin.operational-cost.index")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"request_quote"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[48]||(c[48]=[v("Biaya Operasional",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),m.$can("admin.operational-cost-category.index")?ee((p(),P(ae,{key:1,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/operational-cost-categories"),onClick:c[19]||(c[19]=y=>a(X).get(m.route("admin.operational-cost-category.index")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"category"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[49]||(c[49]=[v("Kategori",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0)]),_:1},8,["default-opened"])):k("",!0),e(St,{icon:"settings",label:"Pengaturan","default-opened":m.$page.url.startsWith("/admin/settings")},{default:l(()=>[m.$can("admin.pos-settings.edit")?ee((p(),P(ae,{key:0,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/settings/pos"),onClick:c[20]||(c[20]=y=>a(X).get(m.route("admin.pos-settings.edit")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"point_of_sale"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[50]||(c[50]=[v("Point of Sales",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),m.$can("admin.database-settings.index")?ee((p(),P(ae,{key:1,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/settings/database"),onClick:c[21]||(c[21]=y=>a(X).get(m.route("admin.database-settings.index")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"database"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[51]||(c[51]=[v("Database",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),m.$can("admin.user.index")?ee((p(),P(ae,{key:2,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/settings/user-activity-log"),onClick:c[22]||(c[22]=y=>a(X).get(m.route("admin.user-activity-log.index")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"article"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[52]||(c[52]=[v("Log Aktivitas Pengguna",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),m.$can("admin.user.index")?ee((p(),P(ae,{key:3,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/settings/users"),onClick:c[23]||(c[23]=y=>a(X).get(m.route("admin.user.index")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"person"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[53]||(c[53]=[v("Pengguna",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),m.$can("admin.user-role.index")?ee((p(),P(ae,{key:4,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/settings/user-roles"),onClick:c[24]||(c[24]=y=>a(X).get(m.route("admin.user-role.index")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"group"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[54]||(c[54]=[v("Role Pengguna",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0),ee((p(),P(ae,{class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/settings/profile"),onClick:c[25]||(c[25]=y=>a(X).get(m.route("admin.user-profile.edit")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"manage_accounts"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[55]||(c[55]=[v("Profil Saya",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]),m.$can("admin.company-profile.edit")?ee((p(),P(ae,{key:5,class:"subnav",clickable:"",active:m.$page.url.startsWith("/admin/settings/company-profile"),onClick:c[26]||(c[26]=y=>a(X).get(m.route("admin.company-profile.edit")))},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"apartment"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[56]||(c[56]=[v("Profil Perusahaan",-1)])]),_:1})]),_:1})]),_:1},8,["active"])),[[ne]]):k("",!0)]),_:1},8,["default-opened"]),ee((p(),P(ae,{clickable:"",style:{color:"inherit"},href:m.route("admin.auth.logout")},{default:l(()=>[e(B,{avatar:""},{default:l(()=>[e(V,{name:"logout"})]),_:1}),e(B,null,{default:l(()=>[e(ye,null,{default:l(()=>[...c[57]||(c[57]=[v("Logout",-1)])]),_:1})]),_:1})]),_:1},8,["href"])),[[ue],[ne]]),t("div",P_,"  2025 - "+i(m.$config.APP_NAME+" v"+m.$config.APP_VERSION_STR),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(An,{class:"bg-grey-1"},{default:l(()=>[e(Ve,null,{default:l(()=>[Ot(m.$slots,"default",{},void 0,!0)]),_:3})]),_:3}),Ot(m.$slots,"footer",{},void 0,!0)]),_:3}))}},I_=vt(O_,[["__scopeId","data-v-5d654459"]]),R_={__name:"GuestLayout",setup(d){return(n,u)=>(p(),P(jn,null,{default:l(()=>[Ot(n.$slots,"default")]),_:3}))}};En({layouts:{authenticated:I_,guest:R_},pagesGlob:Object.assign({"./pages/About.vue":Fn,"./pages/_examples/Autocomplete1.vue":Yn,"./pages/auth/Login.vue":Zn,"./pages/cashier-session/Close.vue":ss,"./pages/cashier-session/Detail.vue":Js,"./pages/cashier-session/Index.vue":ar,"./pages/cashier-session/Open.vue":sr,"./pages/cashier-session/detail/FinanceTransactionTab.vue":Hs,"./pages/cashier-session/detail/MainInfoTab.vue":Ps,"./pages/cashier-session/detail/SalesOrderTab.vue":Ms,"./pages/cashier-terminal/Detail.vue":hr,"./pages/cashier-terminal/Editor.vue":qr,"./pages/cashier-terminal/Index.vue":Rr,"./pages/cashier-terminal/detail/MainInfoTab.vue":fr,"./pages/cashier-terminal/detail/SessionHistoryTab.vue":vr,"./pages/company-profile/Edit.vue":Mr,"./pages/company-profile/partials/CompanyInfoForm.vue":Dr,"./pages/customer-wallet-transaction-confirmation/Detail.vue":Jr,"./pages/customer-wallet-transaction-confirmation/Index.vue":ti,"./pages/customer-wallet-transaction/Adjustment.vue":oi,"./pages/customer-wallet-transaction/Detail.vue":gi,"./pages/customer-wallet-transaction/Editor.vue":_i,"./pages/customer-wallet-transaction/Index.vue":Vi,"./pages/customer/Detail.vue":Qi,"./pages/customer/Editor.vue":Xi,"./pages/customer/Import.vue":nd,"./pages/customer/Index.vue":md,"./pages/customer/detail/MainInfoTab.vue":Ai,"./pages/customer/detail/OrderHistoryTab.vue":Fi,"./pages/customer/detail/WalletHistoryTab.vue":Ei,"./pages/dashboard/Index.vue":Id,"./pages/dashboard/cards/ActualSummaryCard.vue":yd,"./pages/dashboard/cards/ChartCard.vue":$d,"./pages/dashboard/cards/SummaryCard.vue":zd,"./pages/dashboard/cards/TopCard.vue":qd,"./pages/finance-account/Detail.vue":eu,"./pages/finance-account/Editor.vue":nu,"./pages/finance-account/Index.vue":yu,"./pages/finance-account/detail/HistoryTab.vue":Qd,"./pages/finance-account/detail/MainInfoTab.vue":Ld,"./pages/finance-transaction/Detail.vue":Tu,"./pages/finance-transaction/Editor.vue":Ru,"./pages/finance-transaction/Index.vue":Bu,"./pages/operational-cost-category/Editor.vue":Hu,"./pages/operational-cost-category/Index.vue":Xu,"./pages/operational-cost/Detail.vue":dm,"./pages/operational-cost/Editor.vue":gm,"./pages/operational-cost/Index.vue":xm,"./pages/product-category/Editor.vue":Cm,"./pages/product-category/Index.vue":Am,"./pages/product/Detail.vue":lc,"./pages/product/Editor.vue":rc,"./pages/product/Import.vue":mc,"./pages/product/Index.vue":hc,"./pages/product/detail/MainInfoTab.vue":Ym,"./pages/product/detail/StockHistoryTab.vue":Jm,"./pages/purchase-order/Detail.vue":hp,"./pages/purchase-order/Editor.vue":Hf,"./pages/purchase-order/Index.vue":og,"./pages/purchase-order/detail/InvoiceTab.vue":Kc,"./pages/purchase-order/detail/PaymentDialog.vue":ep,"./pages/purchase-order/detail/PaymentTab.vue":vp,"./pages/purchase-order/editor/HelpDialog.vue":tf,"./pages/purchase-order/editor/ItemEditorDialog.vue":Wp,"./pages/purchase-order/editor/ItemsListTable.vue":qp,"./pages/purchase-order/editor/OrderInfoDialog.vue":nf,"./pages/purchase-order/editor/PaymentDialog.vue":Fp,"./pages/purchase-order/editor/SuccessDialog.vue":_f,"./pages/sales-order/Detail.vue":o1,"./pages/sales-order/Editor.vue":kb,"./pages/sales-order/Index.vue":jb,"./pages/sales-order/detail/InvoiceTab.vue":Tg,"./pages/sales-order/detail/PaymentDialog.vue":jg,"./pages/sales-order/detail/PaymentTab.vue":e1,"./pages/sales-order/editor/HelpDialog.vue":I1,"./pages/sales-order/editor/ItemEditorDialog.vue":C1,"./pages/sales-order/editor/ItemsListTable.vue":d1,"./pages/sales-order/editor/OrderInfoDialog.vue":U1,"./pages/sales-order/editor/PaymentDialog.vue":S1,"./pages/sales-order/editor/SuccessDialog.vue":W1,"./pages/settings/database/Index.vue":zb,"./pages/settings/pos/Edit.vue":Yb,"./pages/settings/user-activity-log/Detail.vue":rv,"./pages/settings/user-activity-log/Index.vue":gv,"./pages/stock-adjustment/Create.vue":Sv,"./pages/stock-adjustment/Detail.vue":Av,"./pages/stock-adjustment/Editor.vue":zv,"./pages/stock-adjustment/Index.vue":Xv,"./pages/stock-movement/Index.vue":oy,"./pages/supplier/Detail.vue":my,"./pages/supplier/Editor.vue":by,"./pages/supplier/Index.vue":hy,"./pages/user-profile/Edit.vue":Ty,"./pages/user-profile/partials/UpdatePasswordForm.vue":$y,"./pages/user-profile/partials/UpdateProfileInformationForm.vue":xy,"./pages/user-role/Detail.vue":By,"./pages/user-role/Editor.vue":Yy,"./pages/user-role/Index.vue":Zy,"./pages/user/Detail.vue":u_,"./pages/user/Editor.vue":b_,"./pages/user/Index.vue":$_})});
