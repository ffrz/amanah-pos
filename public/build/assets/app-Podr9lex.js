import{_ as ft,Q as de,a as te,b as re,f as F,c as dt,d as qt,T as Pe,e as Ve,g as Re,h as Ne,i as _t,j as C,k as X,l as O,m as gt,n as be,s as ze,u as he,o as Ke,p as At,q as Dt,r as kt,t as ht,v as je,w as Me,x as Ue,y as Fe,z as $e,A as ke,B,C as Ze,D as mt,L as Je,E as dl,F as Ge,G as Ee,H as Z,I as ml,J as I,R as oe,K as ie,M as lt,N as Xe,O as Be,P as ha,S as Ie,U as K,V as pt,W as $t,X as bt,Y as Ll,Z as st,$ as et,a0 as Yt,a1 as zl,a2 as $a,a3 as Sa,a4 as Ct,a5 as Kt,a6 as Xt,a7 as xa,a8 as Va,a9 as Pt,aa as Ca,ab as Qt,ac as xt,ad as Wt,ae as cl,af as qa,ag as Et,ah as pl,ai as Ta,aj as fl,ak as Pa,al as Oa,am as Ia,an as Fl,ao as Hl,ap as Ea,aq as me,ar as Ra,as as Na,at as Ma,au as Nt,av as Ua,aw as vt,ax as Vt,ay as Rt,az as Jt,aA as el,aB as gl,aC as Yl,aD as Aa,aE as Da,aF as ja,aG as Kl,aH as Ba,aI as La,aJ as za,aK as Fa,aL as Ha,aM as Ya,aN as Ka,aO as Qa,aP as Wa,aQ as Ja,aR as Ga,aS as Xa}from"./BaseGuestLayout-CX29nLyL.js";import{r as L,f as E,j as w,k as e,l,m as a,p as y,F as W,q as x,v as A,x as j,y as i,u as t,z as J,A as Oe,o as we,c as ee,w as Te,B as Qe,C as We,D as Y,E as tt,h as ge,i as Za,g as Ot,b as jt,G as eo,H as to,I as lo,T as Ql,K as ao,J as ye,L as ct,M as Wl,N as Bt,O as Tt,n as Mt,P as oo,Q as no,a as so,R as ro,S as ut}from"./vendor1-DGRjJv6y.js";import{bT as io,eC as Ut}from"./vendor2-DqWvZxRf.js";import{i as uo,a as mo,b as co,c as po,d as fo,e as go,f as bo}from"./vendor3-DzuCbnqO.js";const vo={},_o={class:"row"};function yo(d,n){const f=L("i-head"),o=L("authenticated-layout");return w(),E(W,null,[e(f,{title:"About"}),e(o,null,{title:l(()=>n[0]||(n[0]=[y("About")])),default:l(()=>[a("div",_o,[e(de,{class:"col q-pa-md q-ma-md",square:"",flat:"",bordered:""},{default:l(()=>[e(te,null,{default:l(()=>n[1]||(n[1]=[a("div",{class:"q-mb-md text-h4"},"About",-1),a("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Autem soluta, accusamus placeat eius eligendi perferendis quisquam veritatis iste debitis laboriosam facere et aliquam quos beatae illo distinctio rerum eos! Expedita, voluptatem. Aut nihil deleniti magni fuga eius labore aliquam nulla quod ullam sunt amet eum asperiores, harum unde eligendi tempore sapiente. Placeat sed, dignissimos voluptatum perspiciatis saepe aspernatur, maxime est, ipsam quas nobis cumque sunt labore molestias? Amet in sed ullam recusandae, nostrum dicta facilis blanditiis incidunt quae commodi soluta id impedit vel fugit illo, molestias reiciendis, provident nam molestiae! Ipsam, hic. Facere aut quisquam praesentium enim illum, pariatur nam.",-1),a("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque, cum nulla. Ut eligendi tenetur aliquam cum mollitia repellat voluptas, fugiat doloremque sunt commodi enim excepturi distinctio id sapiente incidunt ipsam asperiores cupiditate, labore libero! Ad facere magni cumque perspiciatis, adipisci possimus pariatur quo nobis minus, est enim similique quaerat vel asperiores ipsam harum et, totam fugit.",-1),a("p",null,"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Suscipit aspernatur maxime consectetur, consequatur excepturi facilis praesentium rem placeat sapiente, maiores doloribus modi voluptate. Unde autem dolor officiis numquam incidunt quasi aspernatur nam dolores ratione quidem recusandae, nulla qui provident molestias odit nemo praesentium quas voluptatem aliquid perferendis, iste veritatis vitae. Dolor, eligendi quidem distinctio asperiores doloremque culpa corporis quibusdam earum ex laudantium iure officia ullam nostrum maxime voluptatum laboriosam impedit labore illum. Culpa, veniam dolor odio ad eius nisi, aspernatur quia veritatis blanditiis repellat id minima deserunt beatae?",-1)])),_:1})]),_:1})])]),_:1})],64)}const wo=ft(vo,[["render",yo]]),ko=Object.freeze(Object.defineProperty({__proto__:null,default:wo},Symbol.toStringTag,{value:"Module"})),ho={class:"q-ma-md"},$o={key:0},So={__name:"Autocomplete1",setup(d){const n=x(null),f=x([]);let o=null;const s=(m,p)=>{if(m.length<2){p(()=>{f.value=[]});return}o&&clearTimeout(o),o=setTimeout(()=>{dt.get(`/web-api/customers?q=${m}`).then(g=>{const r=g.data.data.map(c=>({label:`${c.username} - ${c.name}`,value:c.id,data:c}));p(()=>{f.value=r})}).catch(g=>{console.error("Gagal mengambil data pelanggan:",g),p(()=>{f.value=[]})})})};return(m,p)=>{const g=L("guest-layout");return w(),A(g,null,{default:l(()=>[a("div",ho,[e(re,{class:"full-width",modelValue:n.value,"onUpdate:modelValue":p[0]||(p[0]=r=>n.value=r),"use-input":"",label:"Cari Pelanggan",options:f.value,onFilter:s,hint:"Ketik minimal 2 karakter untuk mencari",clearable:""},null,8,["modelValue","options"]),n.value?(w(),E("div",$o," Saldo: Rp. "+i(t(F)(n.value.data.balance)),1)):j("",!0)])]),_:1})}}},xo=Object.freeze(Object.defineProperty({__proto__:null,default:So},Symbol.toStringTag,{value:"Module"})),Vo={style:{"margin-left":"-10px"}},tl={__name:"StandardCheckBox",props:{modelValue:{type:Boolean,required:!0},disable:{type:Boolean,default:!1},label:{type:String,default:""}},emits:["update:modelValue"],setup(d,{emit:n}){const f=d,o=n;return(s,m)=>(w(),E("div",Vo,[e(qt,{class:"full-width q-pl-none","model-value":f.modelValue,disable:f.disable,label:f.label,"onUpdate:modelValue":m[0]||(m[0]=p=>o("update:modelValue",p))},null,8,["model-value","disable","label"])]))}},Co={class:"column"},qo={class:"row"},To={class:"flex justify-center"},Po={__name:"Login",setup(d){let n=Pe({username:window.CONFIG.APP_DEMO?"admin":"",password:window.CONFIG.APP_DEMO?"12345":"",remember:!0});const f=()=>Ne({form:n,url:route("admin.auth.login")}),o=x(!1);return(s,m)=>{const p=L("i-head"),g=L("guest-layout");return w(),E(W,null,[e(p,{title:"Login"}),e(g,null,{default:l(()=>[e(Ve,{class:"row justify-center items-center"},{default:l(()=>[a("div",Co,[a("div",qo,[e(Re,{class:"q-gutter-md",onSubmit:J(f,["prevent"])},{default:l(()=>[e(de,{square:"",bordered:"",flat:"",class:"q-pa-md"},{default:l(()=>[e(te,{class:"text-center"},{default:l(()=>[a("div",To,[e(_t,{size:"80px"},{default:l(()=>[e(C,{name:"badge",color:"primary"})]),_:1})]),m[4]||(m[4]=a("h6",{class:"q-my-sm text-primary"},"Login Staff",-1))]),_:1}),e(te,null,{default:l(()=>[e(X,{modelValue:t(n).username,"onUpdate:modelValue":m[0]||(m[0]=r=>t(n).username=r),modelModifiers:{trim:!0},label:"Username","lazy-rules":"",error:!!t(n).errors.username,autocomplete:"username","error-message":t(n).errors.username,disable:t(n).processing,rules:[r=>r&&r.length>0||"Masukkan Username"],"hide-bottom-space":""},{append:l(()=>[e(C,{name:"person"})]),_:1},8,["modelValue","error","error-message","disable","rules"]),e(X,{modelValue:t(n).password,"onUpdate:modelValue":m[2]||(m[2]=r=>t(n).password=r),type:o.value?"text":"password",label:"Kata Sandi",error:!!t(n).errors.password,autocomplete:"current-password","error-message":t(n).errors.password,"lazy-rules":"",disable:t(n).processing,rules:[r=>r&&r.length>0||"Masukkan kata sandi"],"hide-bottom-space":""},{append:l(()=>[e(O,{dense:"",flat:"",round:"",onClick:m[1]||(m[1]=r=>o.value=!o.value)},{default:l(()=>[e(C,{name:o.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","error","error-message","disable","rules"]),e(tl,{class:"q-mt-sm",modelValue:t(n).remember,"onUpdate:modelValue":m[3]||(m[3]=r=>t(n).remember=r),disable:t(n).processing,label:"Ingat saya di perangkat ini"},null,8,["modelValue","disable"])]),_:1}),e(gt,null,{default:l(()=>[e(O,{icon:"login",type:"submit",color:"primary",class:"full-width",label:"Login",disable:t(n).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Oo=Object.freeze(Object.defineProperty({__proto__:null,default:Po},Symbol.toStringTag,{value:"Module"})),Jl={__name:"CompanyInfoForm",setup(d){const n=x(),f=be(),o=Pe({name:f.props.data.name,phone:f.props.data.phone,address:f.props.data.address}),s=()=>Ne({form:o,url:route("admin.company-profile.update")});return(m,p)=>(w(),A(Re,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(ze)},{default:l(()=>[e(de,{flat:"",bordered:"",square:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>[p[3]||(p[3]=a("div",{class:"text-subtitle1 q-my-xs"},"Profil Perusahaan",-1)),p[4]||(p[4]=a("p",{class:"text-caption text-grey-9"},"Perbarui profil koperasi.",-1)),e(X,{ref_key:"nameInputRef",ref:n,modelValue:t(o).name,"onUpdate:modelValue":p[0]||(p[0]=g=>t(o).name=g),modelModifiers:{trim:!0},label:"Nama Koperasi",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.name,"error-message":t(o).errors.name,rules:[g=>g&&g.length>0||"Nama Koperasi harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(X,{modelValue:t(o).phone,"onUpdate:modelValue":p[1]||(p[1]=g=>t(o).phone=g),modelModifiers:{trim:!0},label:"No Telepon",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.phone,"error-message":t(o).errors.phone,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(X,{type:"textarea",counter:"",autogrow:"",maxlength:"200",modelValue:t(o).address,"onUpdate:modelValue":p[2]||(p[2]=g=>t(o).address=g),modelModifiers:{trim:!0},label:"Alamat",disable:t(o).processing,"lazy-rules":"",error:!!t(o).errors.address,"error-message":t(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,null,{default:l(()=>[e(O,{icon:"save",type:"submit",color:"primary",label:"Simpan",disable:t(o).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},Io=Object.freeze(Object.defineProperty({__proto__:null,default:Jl},Symbol.toStringTag,{value:"Module"})),Eo={class:"q-pa-xs"},Ro={class:"row justify-center"},No={class:"col col-lg-6"},bl="Profil Perusahaan",Mo={__name:"Edit",setup(d){return(n,f)=>{const o=L("i-head"),s=L("authenticated-layout");return w(),E(W,null,[e(o,{title:bl}),e(s,null,{title:l(()=>[y(i(bl))]),default:l(()=>[a("div",Eo,[a("div",Ro,[a("div",No,[e(Jl)])])])]),_:1})],64)}}},Uo=Object.freeze(Object.defineProperty({__proto__:null,default:Mo},Symbol.toStringTag,{value:"Module"})),Ao={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Do={class:"q-pa-xs"},jo={class:"flex justify-end"},vl="Konfirmasi Top Up Wallet",Bo={__name:"Index",setup(d){const n=he(),f=x(!1),o=x([]),s=x(!0),m=x(null),p=x(null),g=Ke(p),r=x(null),c=x(!1),b=At(),k=Dt(),u=[{label:"Semua Tahun",value:"all"},...kt(b-2,b).reverse()],v=[{value:"all",label:"Semua Bulan"},...ht()],$=[{value:"all",label:"Semua Status"},...je(window.CONSTANTS.CUSTOMER_WALLET_TRANSACTION_CONFIRMATION_STATUSES)],_=Oe({search:"",year:b,month:k,status:"all",...Me()}),M=x({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!1}),V=[{name:"datetime",label:"Tanggal",field:"datetime",align:"left",sortable:!0},{name:"finance_account_id",label:"Bank Tujuan",field:"finance_account_id",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"status",label:"Status",field:"status",align:"center"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"action",label:"Aksi",field:"action",align:"center"}];we(()=>{h()});const h=(N=null)=>{Ue({pagination:M,filter:_,props:N,rows:o,url:route("admin.customer-wallet-transaction-confirmation.data"),loading:s,tableRef:m})},T=()=>{h()},P=ee(()=>n.screen.gt.sm?V:V.filter(N=>["datetime","action"].includes(N.name)));Te(()=>_.year,N=>{N===null&&(_.month=null)});const q=N=>ml({message:`Setujui konfirmasi transaksi #${N.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",N.id),fetchItemsCallback:h,loading:s,data:{id:N.id,action:"accept"}}),R=N=>ml({message:`Tolak konfirmasi transaksi #${N.id}?`,url:route("admin.customer-wallet-transaction-confirmation.save",N.id),fetchItemsCallback:h,loading:s,data:{id:N.id,action:"reject"}}),S=N=>Xe({message:`Hapus konfirmasi transaksi #${N.id}?`,url:route("admin.customer-wallet-transaction-confirmation.delete",N.id),fetchItemsCallback:h,loading:s});return(N,Q)=>{const U=L("i-head"),le=L("authenticated-layout");return w(),E(W,null,[e(U,{title:vl}),e(le,null,Qe({title:l(()=>[y(i(vl))]),"right-button":l(()=>[e(O,{class:"q-ml-sm",icon:f.value?"filter_alt_off":"filter_alt",color:"grey",flat:"",rounded:"",dense:"",onClick:Q[0]||(Q[0]=ae=>f.value=!f.value)},null,8,["icon"])]),default:l(()=>[a("div",Do,[e($e,{ref_key:"tableRef",ref:m,class:"full-height-table",style:We({height:t(g)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:M.value,"onUpdate:pagination":Q[6]||(Q[6]=ae=>M.value=ae),filter:_.search,loading:s.value,columns:P.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:h,"binary-state-sort":""},{loading:l(()=>[e(Be,{showing:"",color:"red"})]),body:l(ae=>[e(ke,{props:ae},{default:l(()=>[e(B,{key:"datetime",props:ae,class:"wrap-column"},{default:l(()=>[a("div",null,"#: "+i(ae.row.formatted_id),1),a("div",null,[e(C,{name:"calendar_today",class:"inline-icon"}),y(" "+i(t(Ze)(ae.row.datetime))+" ("+i(t(mt)(ae.row.datetime))+") ",1)]),t(n).screen.gt.sm?j("",!0):(w(),E(W,{key:0},[e(Je,{icon:"account_balance",text:ae.row.finance_account.name},null,8,["text"]),a("div",null,[e(C,{name:"person",class:"inline-icon"}),y(" "+i(ae.row.customer.username)+" - "+i(ae.row.customer.name),1)]),a("div",null,[e(C,{name:"money",class:"inline-icon"}),y(" Rp. "+i(t(F)(ae.row.amount)),1)]),ae.row.description?(w(),A(Je,{key:0,icon:"notes",text:ae.row.description},null,8,["text"])):j("",!0),a("div",null,[e(dl,{status:ae.row.status},null,8,["status"])])],64))]),_:2},1032,["props"]),e(B,{key:"finance_account_id",props:ae},{default:l(()=>[y(i(ae.row.finance_account.name),1),Q[8]||(Q[8]=a("br",null,null,-1)),y(" "+i(ae.row.finance_account.bank)+" "+i(ae.row.finance_account.number)+" an. "+i(ae.row.finance_account.holder),1)]),_:2},1032,["props"]),e(B,{key:"amount",props:ae,style:{"text-align":"right"}},{default:l(()=>[y(" Rp. "+i(t(F)(ae.row.amount)),1)]),_:2},1032,["props"]),e(B,{key:"status",props:ae,class:"text-center"},{default:l(()=>[e(dl,{status:ae.row.status},null,8,["status"])]),_:2},1032,["props"]),e(B,{key:"notes",props:ae},{default:l(()=>[y(i(ae.row.notes),1)]),_:2},1032,["props"]),e(B,{key:"action",props:ae,class:"text-center"},{default:l(()=>[a("div",jo,[e(O,{icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:Q[5]||(Q[5]=J(()=>{},["stop"])),disable:ae.row.status!=="pending"},{default:l(()=>[e(Ge,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[Y((w(),A(Z,{onClick:J(H=>q(ae.row),["stop"]),clickable:""},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"check"})]),_:1}),e(I,null,{default:l(()=>Q[9]||(Q[9]=[y("Setujui")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]]),Y((w(),A(Z,{onClick:J(H=>R(ae.row),["stop"]),clickable:""},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"cancel"})]),_:1}),e(I,null,{default:l(()=>Q[10]||(Q[10]=[y("Tolak")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]]),e(lt),Y((w(),A(Z,{onClick:J(H=>S(ae.row),["stop"]),clickable:""},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:l(()=>Q[11]||(Q[11]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disable"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"]),e(ha,{modelValue:c.value,"onUpdate:modelValue":Q[7]||(Q[7]=ae=>c.value=ae),imageUrl:`/${r.value}`},null,8,["modelValue","imageUrl"])])]),_:2},[f.value?{name:"header",fn:l(()=>[e(Fe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:l(()=>[a("div",Ao,[e(re,{modelValue:_.year,"onUpdate:modelValue":[Q[1]||(Q[1]=ae=>_.year=ae),T],options:u,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),_.year!=="all"?(w(),A(re,{key:0,modelValue:_.month,"onUpdate:modelValue":[Q[2]||(Q[2]=ae=>_.month=ae),T],options:v,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:_.year===null},null,8,["modelValue","disable"])):j("",!0),e(re,{modelValue:_.status,"onUpdate:modelValue":[Q[3]||(Q[3]=ae=>_.status=ae),T],options:$,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:_.search,"onUpdate:modelValue":Q[4]||(Q[4]=ae=>_.search=ae),placeholder:"Cari...",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Lo=Object.freeze(Object.defineProperty({__proto__:null,default:Bo},Symbol.toStringTag,{value:"Module"}));function Gl(d,n=!1){const f=d.map(p=>({value:p.id,label:p.username+" - "+p.name})),o=n?[{value:"all",label:"Semua"},...f]:f,s=x([...o]);return{filteredCustomers:s,filterCustomersFn:(p,g)=>{g(()=>{s.value=o.filter(r=>r.label.toLowerCase().includes(p.toLowerCase()))})},customers:o}}const zo={class:"col col-md-6 q-pa-xs"},_l="Penyesuaian Saldo Dompet Pelanggan",Fo={__name:"Adjustment",setup(d){const n=be(),{filteredCustomers:f,filterCustomersFn:o}=Gl(n.props.customers,!1),s=Pe({customer_id:null,old_balance:0,new_balance:0,notes:""}),m=()=>s.amount=s.new_balance-s.old_balance;Te(()=>s.customer_id,async r=>{if(!r){s.old_balance=0,s.new_balance=0,m();return}s.processing=!0;try{const c=await axios.get(route("admin.customer.balance",{id:r}));s.new_balance=s.old_balance=c.data.balance}catch(c){console.error("Gagal mengambil saldo:",c),s.old_balance=0,s.new_balance=0}s.processing=!1,m()});const p=ee(()=>s.new_balance-s.old_balance),g=()=>Ne({form:s,url:route("admin.customer-wallet-transaction.adjustment")});return(r,c)=>{const b=L("i-head"),k=L("authenticated-layout");return w(),E(W,null,[e(b,{title:_l}),e(k,null,{title:l(()=>[y(i(_l))]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[a("div",zo,[e(Re,{class:"row",onSubmit:J(g,["prevent"]),onValidationError:t(ze)},{default:l(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[e(re,{class:"custom-select",modelValue:t(s).customer_id,"onUpdate:modelValue":c[0]||(c[0]=u=>t(s).customer_id=u),label:"Pelanggan","use-input":"","input-debounce":"300",clearable:"",options:t(f),"map-options":"","emit-value":"",errorMessage:t(s).errors.customer_id,onFilter:t(o),error:!!t(s).errors.customer_id,disable:t(s).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(Z,null,{default:l(()=>[e(I,null,{default:l(()=>c[6]||(c[6]=[y("Pelanggan tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(Ie,{modelValue:t(s).old_balance,"onUpdate:modelValue":c[1]||(c[1]=u=>t(s).old_balance=u),label:"Saldo Tercatat",readonly:"",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.balance,errorMessage:t(s).errors.balance},null,8,["modelValue","disable","error","errorMessage"]),e(Ie,{modelValue:t(s).new_balance,"onUpdate:modelValue":c[2]||(c[2]=u=>t(s).new_balance=u),label:"Saldo Seharusnya",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.new_balance,errorMessage:t(s).errors.new_balance},null,8,["modelValue","disable","error","errorMessage"]),e(Ie,{modelValue:p.value,"onUpdate:modelValue":c[3]||(c[3]=u=>p.value=u),label:"Selisih",readonly:"",lazyRules:"",disable:t(s).processing},null,8,["modelValue","disable"]),e(X,{modelValue:t(s).notes,"onUpdate:modelValue":c[4]||(c[4]=u=>t(s).notes=u),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,rules:[u=>u&&u.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(O,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(O,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:c[5]||(c[5]=u=>t(K).get(r.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Ho=Object.freeze(Object.defineProperty({__proto__:null,default:Fo},Symbol.toStringTag,{value:"Module"})),Yo={class:"q-gutter-sm"},Ko={class:"col col-md-6 q-pa-xs"},Qo={__name:"Editor",setup(d){const n=be(),f=(n.props.data.id?"Edit":"Catat")+" Transaksi Dompet Pelanggan",{filteredCustomers:o,filterCustomersFn:s}=Gl(n.props.customers,!1),m=[{label:"Deposit (+)",value:"deposit"},{label:"Penarikan (-)",value:"withdrawal"},{label:"Pembelian (-)",value:"purchase"},{label:"Refund (+)",value:"refund"}],p=n.props.finance_accounts.map(c=>({label:c.name,value:c.id})),g=Pe({id:n.props.data.id,customer_id:n.props.data.customer_id,finance_account_id:n.props.data.finance_account_id,type:n.props.data.type,datetime:pt(n.props.data.datetime).format("YYYY-MM-DD HH:mm:ss"),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),r=()=>Ne({form:g,url:route("admin.customer-wallet-transaction.save")});return(c,b)=>{const k=L("i-head"),u=L("authenticated-layout");return w(),E(W,null,[e(k,{title:f}),e(u,null,{title:l(()=>[y(i(f))]),"left-button":l(()=>[a("div",Yo,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=v=>c.$inertia.get(c.route("admin.customer-wallet-transaction.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[a("div",Ko,[e(Re,{class:"row",onSubmit:J(r,["prevent"]),onValidationError:t(ze)},{default:l(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":b[1]||(b[1]=v=>t(g).id=v)},null,512),[[tt,t(g).id]]),e($t,{autofocus:"",modelValue:t(g).datetime,"onUpdate:modelValue":b[2]||(b[2]=v=>t(g).datetime=v),label:"Tanggal",error:!!t(g).errors.datetime,disable:t(g).processing,"hide-bottom-space":""},null,8,["modelValue","error","disable"]),e(re,{class:"custom-select",modelValue:t(g).customer_id,"onUpdate:modelValue":b[3]||(b[3]=v=>t(g).customer_id=v),label:"Pelanggan","use-input":"","input-debounce":"300",clearable:"",options:t(o),"map-options":"","emit-value":"",errorMessage:t(g).errors.customer_id,onFilter:t(s),error:!!t(g).errors.customer_id,disable:t(g).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(Z,null,{default:l(()=>[e(I,null,{default:l(()=>b[9]||(b[9]=[y("Pelanggan tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(re,{modelValue:t(g).type,"onUpdate:modelValue":b[4]||(b[4]=v=>t(g).type=v),label:"Jenis",options:m,"map-options":"","emit-value":"",error:!!t(g).errors.type,disable:t(g).processing,errorMessage:t(g).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),t(g).type=="deposit"||t(g).type=="withdrawal"?(w(),A(re,{key:0,modelValue:t(g).finance_account_id,"onUpdate:modelValue":b[5]||(b[5]=v=>t(g).finance_account_id=v),label:t(g).type=="deposit"?"Kas Tujuan":"Kas Asal",options:t(p),"map-options":"","emit-value":"",error:!!t(g).errors.finance_account_id,disable:t(g).processing,errorMessage:t(g).errors.finance_account_id,"hide-bottom-space":""},null,8,["modelValue","label","options","error","disable","errorMessage"])):j("",!0),e(Ie,{modelValue:t(g).amount,"onUpdate:modelValue":b[6]||(b[6]=v=>t(g).amount=v),label:"Jumlah",lazyRules:"",disable:t(g).processing,error:!!t(g).errors.amount,errorMessage:t(g).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(X,{modelValue:t(g).notes,"onUpdate:modelValue":b[7]||(b[7]=v=>t(g).notes=v),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(g).processing,error:!!t(g).errors.notes,"error-message":t(g).errors.notes,rules:[v=>v&&v.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(O,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(g).processing},null,8,["disable"]),e(O,{icon:"cancel",label:"Batal",disable:t(g).processing,onClick:b[8]||(b[8]=v=>t(K).get(c.route("admin.customer-wallet-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Wo=Object.freeze(Object.defineProperty({__proto__:null,default:Qo},Symbol.toStringTag,{value:"Module"})),Jo=["top","middle","bottom"],Lt=bt({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:d=>Jo.includes(d)}},setup(d,{slots:n}){const f=ee(()=>d.align!==void 0?{verticalAlign:d.align}:null),o=ee(()=>{const s=d.outline===!0&&d.color||d.textColor;return`q-badge flex inline items-center no-wrap q-badge--${d.multiLine===!0?"multi":"single"}-line`+(d.outline===!0?" q-badge--outline":d.color!==void 0?` bg-${d.color}`:"")+(s!==void 0?` text-${s}`:"")+(d.floating===!0?" q-badge--floating":"")+(d.rounded===!0?" q-badge--rounded":"")+(d.transparent===!0?" q-badge--transparent":"")});return()=>ge("div",{class:o.value,style:f.value,role:"status","aria-label":d.label},Ll(n.default,d.label!==void 0?[d.label]:[]))}}),Go={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Xo={class:"q-pa-xs"},Zo={class:"full-width row flex-center text-grey-8 q-gutter-sm"},en={class:"flex justify-end"},yl="Transaksi Dompet Pelanggan",tn={__name:"Index",setup(d){const n=he(),f=x(!1),o=x([]),s=x(!0),m=x(null),p=x(null),g=Ke(p),r=new Date().getFullYear(),c=new Date().getMonth()+1,b=[{label:"Semua Tahun",value:"all"},{label:`${r}`,value:r},...kt(r-2,r-1).reverse()],k=[{value:"all",label:"Semua Bulan"},...ht()],u=Oe({search:"",year:r,month:c,...Me()}),v=x({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"datetime",descending:!0}),$=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"customer",label:"Pelanggan",field:"customer",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];we(()=>{M()});const _=T=>Xe({message:`Hapus transaksi #-${T.id}?`,url:route("admin.customer-wallet-transaction.delete",T.id),fetchItemsCallback:M,loading:s}),M=(T=null)=>{Ue({pagination:v,filter:u,props:T,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:s,tableRef:m})},V=()=>{M()},h=ee(()=>n.screen.gt.sm?$:$.filter(T=>T.name==="datetime"||T.name==="action"));return Te(()=>u.year,T=>{T===null&&(u.month=null)}),(T,P)=>{const q=L("i-head"),R=L("authenticated-layout");return w(),E(W,null,[e(q,{title:yl}),e(R,null,Qe({title:l(()=>[y(i(yl))]),"right-button":l(()=>[e(O,{icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:P[0]||(P[0]=S=>f.value=!f.value)},null,8,["icon"]),e(O,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:P[1]||(P[1]=S=>t(K).get(T.route("admin.customer-wallet-transaction.add")))})]),default:l(()=>[a("div",Xo,[e($e,{ref_key:"tableRef",ref:m,style:We({height:t(g)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":P[6]||(P[6]=S=>v.value=S),filter:u.search,loading:s.value,columns:h.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:M,"binary-state-sort":""},{loading:l(()=>[e(Be,{showing:"",color:"red"})]),"no-data":l(({icon:S,message:N,filter:Q})=>[a("div",Zo,[a("span",null,i(N)+" "+i(Q?" with term "+Q:""),1)])]),body:l(S=>[e(ke,{props:S},{default:l(()=>[e(B,{key:"datetime",props:S,class:"wrap-column"},{default:l(()=>[a("div",null,[y(" #: "+i(S.row.formatted_id)+" ",1),P[7]||(P[7]=a("br",null,null,-1)),e(C,{name:"calendar_today"}),y(" "+i(t(Ze)(S.row.datetime))+" ("+i(t(mt)(S.row.datetime))+") ",1)]),a("div",null,[e(C,{name:"account_balance",class:"inline-icon"}),y(" "+i(S.row.finance_account?S.row.finance_account.name:"-"),1)]),t(n).screen.gt.sm?j("",!0):(w(),E(W,{key:0},[e(Je,{icon:"person",text:S.row.customer.username+" -"+S.row.customer.name},null,8,["text"]),a("div",null,[e(C,{name:"money",class:"inline-icon"}),y(" Rp. "+i(t(st)(S.row.amount)+t(F)(S.row.amount))+" ",1),e(Lt,null,{default:l(()=>[e(C,{name:"category"}),y(" "+i(S.row.type_label),1)]),_:2},1024)]),e(Je,{text:S.row.notes,icon:"notes"},null,8,["text"])],64))]),_:2},1032,["props"]),e(B,{key:"customer",props:S},{default:l(()=>[e(Je,{text:S.row.customer.username+" -"+S.row.customer.name},null,8,["text"])]),_:2},1032,["props"]),e(B,{key:"notes",props:S},{default:l(()=>[e(Je,{text:S.row.notes},null,8,["text"])]),_:2},1032,["props"]),e(B,{key:"amount",props:S,style:{"text-align":"right"}},{default:l(()=>[y(i(t(st)(S.row.amount)+t(F)(S.row.amount)),1)]),_:2},1032,["props"]),e(B,{key:"action",props:S},{default:l(()=>[a("div",en,[e(O,{disabled:!t(et)(T.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:P[5]||(P[5]=J(()=>{},["stop"]))},{default:l(()=>[e(Ge,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[Y((w(),A(Z,{onClick:J(N=>_(S.row),["stop"]),clickable:""},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:l(()=>P[8]||(P[8]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[f.value?{name:"header",fn:l(()=>[e(Fe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:l(()=>[a("div",Go,[e(re,{modelValue:u.year,"onUpdate:modelValue":[P[2]||(P[2]=S=>u.year=S),V],options:b,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(re,{modelValue:u.month,"onUpdate:modelValue":[P[3]||(P[3]=S=>u.month=S),V],options:k,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:u.year===null},null,8,["modelValue","disable"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:u.search,"onUpdate:modelValue":P[4]||(P[4]=S=>u.search=S),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},ln=Object.freeze(Object.defineProperty({__proto__:null,default:tn},Symbol.toStringTag,{value:"Module"}));let an=0;const on=["click","keydown"],nn={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${an++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function sn(d,n,f,o){const s=Za(zl,Yt);if(s===Yt)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Yt;const{proxy:m}=Ot(),p=x(null),g=x(null),r=x(null),c=ee(()=>d.disable===!0||d.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},d.ripple===!0?{}:d.ripple)),b=ee(()=>s.currentModel.value===d.name),k=ee(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(b.value===!0?" q-tab--active"+(s.tabProps.value.activeClass?" "+s.tabProps.value.activeClass:"")+(s.tabProps.value.activeColor?` text-${s.tabProps.value.activeColor}`:"")+(s.tabProps.value.activeBgColor?` bg-${s.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(d.icon&&d.label&&s.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(d.noCaps===!0||s.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(d.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),u=ee(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(s.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(d.contentClass!==void 0?` ${d.contentClass}`:"")),v=ee(()=>d.disable===!0||s.hasFocus.value===!0||b.value===!1&&s.hasActiveTab.value===!0?-1:d.tabindex||0);function $(T,P){if(P!==!0&&p.value!==null&&p.value.focus(),d.disable!==!0){s.updateModel({name:d.name}),f("click",T);return}}function _(T){$a(T,[13,32])?$(T,!0):Sa(T)!==!0&&T.keyCode>=35&&T.keyCode<=40&&T.altKey!==!0&&T.metaKey!==!0&&s.onKbdNavigate(T.keyCode,m.$el)===!0&&Ct(T),f("keydown",T)}function M(){const T=s.tabProps.value.narrowIndicator,P=[],q=ge("div",{ref:r,class:["q-tab__indicator",s.tabProps.value.indicatorClass]});d.icon!==void 0&&P.push(ge(C,{class:"q-tab__icon",name:d.icon})),d.label!==void 0&&P.push(ge("div",{class:"q-tab__label"},d.label)),d.alert!==!1&&P.push(d.alertIcon!==void 0?ge(C,{class:"q-tab__alert-icon",color:d.alert!==!0?d.alert:void 0,name:d.alertIcon}):ge("div",{class:"q-tab__alert"+(d.alert!==!0?` text-${d.alert}`:"")})),T===!0&&P.push(q);const R=[ge("div",{class:"q-focus-helper",tabindex:-1,ref:p}),ge("div",{class:u.value},Ll(n.default,P))];return T===!1&&R.push(q),R}const V={name:ee(()=>d.name),rootRef:g,tabIndicatorRef:r,routeData:o};jt(()=>{s.unregisterTab(V)}),we(()=>{s.registerTab(V)});function h(T,P){const q={ref:g,class:k.value,tabindex:v.value,role:"tab","aria-selected":b.value===!0?"true":"false","aria-disabled":d.disable===!0?"true":void 0,onClick:$,onKeydown:_,...P};return Y(ge(T,q,M()),[[oe,c.value]])}return{renderTab:h,$tabs:s}}const yt=bt({name:"QTab",props:nn,emits:on,setup(d,{slots:n,emit:f}){const{renderTab:o}=sn(d,n,f);return()=>o("div")}});function rn(d,n,f){const o=f===!0?["left","right"]:["top","bottom"];return`absolute-${n===!0?o[0]:o[1]}${d?` text-${d}`:""}`}const un=["left","center","right","justify"],ll=bt({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:d=>un.includes(d)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(d,{slots:n,emit:f}){const{proxy:o}=Ot(),{$q:s}=o,{registerTick:m}=Kt(),{registerTick:p}=Kt(),{registerTick:g}=Kt(),{registerTimeout:r,removeTimeout:c}=Xt(),{registerTimeout:b,removeTimeout:k}=Xt(),u=x(null),v=x(null),$=x(d.modelValue),_=x(!1),M=x(!0),V=x(!1),h=x(!1),T=[],P=x(0),q=x(!1);let R=null,S=null,N;const Q=ee(()=>({activeClass:d.activeClass,activeColor:d.activeColor,activeBgColor:d.activeBgColor,indicatorClass:rn(d.indicatorColor,d.switchIndicator,d.vertical),narrowIndicator:d.narrowIndicator,inlineLabel:d.inlineLabel,noCaps:d.noCaps})),U=ee(()=>{const G=P.value,se=$.value;for(let fe=0;fe<G;fe++)if(T[fe].name.value===se)return!0;return!1}),le=ee(()=>`q-tabs__content--align-${_.value===!0?"left":h.value===!0?"justify":d.align}`),ae=ee(()=>`q-tabs row no-wrap items-center q-tabs--${_.value===!0?"":"not-"}scrollable q-tabs--${d.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${d.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${d.mobileArrows===!0?"":"out"}-arrows`+(d.dense===!0?" q-tabs--dense":"")+(d.shrink===!0?" col-shrink":"")+(d.stretch===!0?" self-stretch":"")),H=ee(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+le.value+(d.contentClass!==void 0?` ${d.contentClass}`:"")),D=ee(()=>d.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),pe=ee(()=>d.vertical!==!0&&s.lang.rtl===!0),Ce=ee(()=>xa===!1&&pe.value===!0);Te(pe,De),Te(()=>d.modelValue,G=>{ue({name:G,setCurrent:!0,skipEmit:!0})}),Te(()=>d.outsideArrows,Ae);function ue({name:G,setCurrent:se,skipEmit:fe}){$.value!==G&&(fe!==!0&&d["onUpdate:modelValue"]!==void 0&&f("update:modelValue",G),(se===!0||d["onUpdate:modelValue"]===void 0)&&(z($.value,G),$.value=G))}function Ae(){m(()=>{ne({width:u.value.offsetWidth,height:u.value.offsetHeight})})}function ne(G){if(D.value===void 0||v.value===null)return;const se=G[D.value.container],fe=Math.min(v.value[D.value.scroll],Array.prototype.reduce.call(v.value.children,(xe,_e)=>xe+(_e[D.value.content]||0),0)),Se=se>0&&fe>se;_.value=Se,Se===!0&&p(De),h.value=se<parseInt(d.breakpoint,10)}function z(G,se){const fe=G!=null&&G!==""?T.find(xe=>xe.name.value===G):null,Se=se!=null&&se!==""?T.find(xe=>xe.name.value===se):null;if(It===!0)It=!1;else if(fe&&Se){const xe=fe.tabIndicatorRef.value,_e=Se.tabIndicatorRef.value;R!==null&&(clearTimeout(R),R=null),xe.style.transition="none",xe.style.transform="none",_e.style.transition="none",_e.style.transform="none";const ve=xe.getBoundingClientRect(),Ye=_e.getBoundingClientRect();_e.style.transform=d.vertical===!0?`translate3d(0,${ve.top-Ye.top}px,0) scale3d(1,${Ye.height?ve.height/Ye.height:1},1)`:`translate3d(${ve.left-Ye.left}px,0,0) scale3d(${Ye.width?ve.width/Ye.width:1},1,1)`,g(()=>{R=setTimeout(()=>{R=null,_e.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",_e.style.transform="none"},70)})}Se&&_.value===!0&&qe(Se.rootRef.value)}function qe(G){const{left:se,width:fe,top:Se,height:xe}=v.value.getBoundingClientRect(),_e=G.getBoundingClientRect();let ve=d.vertical===!0?_e.top-Se:_e.left-se;if(ve<0){v.value[d.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(ve),De();return}ve+=d.vertical===!0?_e.height-xe:_e.width-fe,ve>0&&(v.value[d.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(ve),De())}function De(){const G=v.value;if(G===null)return;const se=G.getBoundingClientRect(),fe=d.vertical===!0?G.scrollTop:Math.abs(G.scrollLeft);pe.value===!0?(M.value=Math.ceil(fe+se.width)<G.scrollWidth-1,V.value=fe>0):(M.value=fe>0,V.value=d.vertical===!0?Math.ceil(fe+se.height)<G.scrollHeight:Math.ceil(fe+se.width)<G.scrollWidth)}function ce(G){S!==null&&clearInterval(S),S=setInterval(()=>{fa(G)===!0&&He()},5)}function Le(){ce(Ce.value===!0?Number.MAX_SAFE_INTEGER:0)}function at(){ce(Ce.value===!0?0:Number.MAX_SAFE_INTEGER)}function He(){S!==null&&(clearInterval(S),S=null)}function zt(G,se){const fe=Array.prototype.filter.call(v.value.children,Ye=>Ye===se||Ye.matches&&Ye.matches(".q-tab.q-focusable")===!0),Se=fe.length;if(Se===0)return;if(G===36)return qe(fe[0]),fe[0].focus(),!0;if(G===35)return qe(fe[Se-1]),fe[Se-1].focus(),!0;const xe=G===(d.vertical===!0?38:37),_e=G===(d.vertical===!0?40:39),ve=xe===!0?-1:_e===!0?1:void 0;if(ve!==void 0){const Ye=pe.value===!0?-1:1,ot=fe.indexOf(se)+ve*Ye;return ot>=0&&ot<Se&&(qe(fe[ot]),fe[ot].focus({preventScroll:!0})),!0}}const pa=ee(()=>Ce.value===!0?{get:G=>Math.abs(G.scrollLeft),set:(G,se)=>{G.scrollLeft=-se}}:d.vertical===!0?{get:G=>G.scrollTop,set:(G,se)=>{G.scrollTop=se}}:{get:G=>G.scrollLeft,set:(G,se)=>{G.scrollLeft=se}});function fa(G){const se=v.value,{get:fe,set:Se}=pa.value;let xe=!1,_e=fe(se);const ve=G<_e?-1:1;return _e+=ve*5,_e<0?(xe=!0,_e=0):(ve===-1&&_e<=G||ve===1&&_e>=G)&&(xe=!0,_e=G),Se(se,_e),De(),xe}function nl(G,se){for(const fe in G)if(G[fe]!==se[fe])return!1;return!0}function ga(){let G=null,se={matchedLen:0,queryDiff:9999,hrefLen:0};const fe=T.filter(ve=>ve.routeData!==void 0&&ve.routeData.hasRouterLink.value===!0),{hash:Se,query:xe}=o.$route,_e=Object.keys(xe).length;for(const ve of fe){const Ye=ve.routeData.exact.value===!0;if(ve.routeData[Ye===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:ot,query:Ft,matched:wa,href:ka}=ve.routeData.resolvedLink.value,Ht=Object.keys(Ft).length;if(Ye===!0){if(ot!==Se||Ht!==_e||nl(xe,Ft)===!1)continue;G=ve.name.value;break}if(ot!==""&&ot!==Se||Ht!==0&&nl(Ft,xe)===!1)continue;const nt={matchedLen:wa.length,queryDiff:_e-Ht,hrefLen:ka.length-ot.length};if(nt.matchedLen>se.matchedLen){G=ve.name.value,se=nt;continue}else if(nt.matchedLen!==se.matchedLen)continue;if(nt.queryDiff<se.queryDiff)G=ve.name.value,se=nt;else if(nt.queryDiff!==se.queryDiff)continue;nt.hrefLen>se.hrefLen&&(G=ve.name.value,se=nt)}if(G===null&&T.some(ve=>ve.routeData===void 0&&ve.name.value===$.value)===!0){It=!1;return}ue({name:G,setCurrent:!0})}function ba(G){if(c(),q.value!==!0&&u.value!==null&&G.target&&typeof G.target.closest=="function"){const se=G.target.closest(".q-tab");se&&u.value.contains(se)===!0&&(q.value=!0,_.value===!0&&qe(se))}}function va(){r(()=>{q.value=!1},30)}function St(){rl.avoidRouteWatcher===!1?b(ga):k()}function sl(){if(N===void 0){const G=Te(()=>o.$route.fullPath,St);N=()=>{G(),N=void 0}}}function _a(G){T.push(G),P.value++,Ae(),G.routeData===void 0||o.$route===void 0?b(()=>{if(_.value===!0){const se=$.value,fe=se!=null&&se!==""?T.find(Se=>Se.name.value===se):null;fe&&qe(fe.rootRef.value)}}):(sl(),G.routeData.hasRouterLink.value===!0&&St())}function ya(G){T.splice(T.indexOf(G),1),P.value--,Ae(),N!==void 0&&G.routeData!==void 0&&(T.every(se=>se.routeData===void 0)===!0&&N(),St())}const rl={currentModel:$,tabProps:Q,hasFocus:q,hasActiveTab:U,registerTab:_a,unregisterTab:ya,verifyRouteModel:St,updateModel:ue,onKbdNavigate:zt,avoidRouteWatcher:!1};lo(zl,rl);function il(){R!==null&&clearTimeout(R),He(),N!==void 0&&N()}let ul,It;return jt(il),eo(()=>{ul=N!==void 0,il()}),to(()=>{ul===!0&&(sl(),It=!0,St()),Ae()}),()=>ge("div",{ref:u,class:ae.value,role:"tablist",onFocusin:ba,onFocusout:va},[ge(Va,{onResize:ne}),ge("div",{ref:v,class:H.value,onScroll:De},Pt(n.default)),ge(C,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(M.value===!0?"":" q-tabs__arrow--faded"),name:d.leftIcon||s.iconSet.tabs[d.vertical===!0?"up":"left"],onMousedownPassive:Le,onTouchstartPassive:Le,onMouseupPassive:He,onMouseleavePassive:He,onTouchendPassive:He}),ge(C,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(V.value===!0?"":" q-tabs__arrow--faded"),name:d.rightIcon||s.iconSet.tabs[d.vertical===!0?"down":"right"],onMousedownPassive:at,onTouchstartPassive:at,onMouseupPassive:He,onMouseleavePassive:He,onTouchendPassive:He})])}});function dn(d){const n=[.06,6,50];return typeof d=="string"&&d.length&&d.split(":").forEach((f,o)=>{const s=parseFloat(f);s&&(n[o]=s)}),n}const mn=Ca({name:"touch-swipe",beforeMount(d,{value:n,arg:f,modifiers:o}){if(o.mouse!==!0&&xt.has.touch!==!0)return;const s=o.mouseCapture===!0?"Capture":"",m={handler:n,sensitivity:dn(f),direction:cl(o),noop:qa,mouseStart(p){fl(p,m)&&Pa(p)&&(Et(m,"temp",[[document,"mousemove","move",`notPassive${s}`],[document,"mouseup","end","notPassiveCapture"]]),m.start(p,!0))},touchStart(p){if(fl(p,m)){const g=p.target;Et(m,"temp",[[g,"touchmove","move","notPassiveCapture"],[g,"touchcancel","end","notPassiveCapture"],[g,"touchend","end","notPassiveCapture"]]),m.start(p)}},start(p,g){xt.is.firefox===!0&&Wt(d,!0);const r=pl(p);m.event={x:r.left,y:r.top,time:Date.now(),mouse:g===!0,dir:!1}},move(p){if(m.event===void 0)return;if(m.event.dir!==!1){Ct(p);return}const g=Date.now()-m.event.time;if(g===0)return;const r=pl(p),c=r.left-m.event.x,b=Math.abs(c),k=r.top-m.event.y,u=Math.abs(k);if(m.event.mouse!==!0){if(b<m.sensitivity[1]&&u<m.sensitivity[1]){m.end(p);return}}else if(window.getSelection().toString()!==""){m.end(p);return}else if(b<m.sensitivity[2]&&u<m.sensitivity[2])return;const v=b/g,$=u/g;m.direction.vertical===!0&&b<u&&b<100&&$>m.sensitivity[0]&&(m.event.dir=k<0?"up":"down"),m.direction.horizontal===!0&&b>u&&u<100&&v>m.sensitivity[0]&&(m.event.dir=c<0?"left":"right"),m.direction.up===!0&&b<u&&k<0&&b<100&&$>m.sensitivity[0]&&(m.event.dir="up"),m.direction.down===!0&&b<u&&k>0&&b<100&&$>m.sensitivity[0]&&(m.event.dir="down"),m.direction.left===!0&&b>u&&c<0&&u<100&&v>m.sensitivity[0]&&(m.event.dir="left"),m.direction.right===!0&&b>u&&c>0&&u<100&&v>m.sensitivity[0]&&(m.event.dir="right"),m.event.dir!==!1?(Ct(p),m.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ta(),m.styleCleanup=_=>{m.styleCleanup=void 0,document.body.classList.remove("non-selectable");const M=()=>{document.body.classList.remove("no-pointer-events--children")};_===!0?setTimeout(M,50):M()}),m.handler({evt:p,touch:m.event.mouse!==!0,mouse:m.event.mouse,direction:m.event.dir,duration:g,distance:{x:b,y:u}})):m.end(p)},end(p){m.event!==void 0&&(Qt(m,"temp"),xt.is.firefox===!0&&Wt(d,!1),m.styleCleanup!==void 0&&m.styleCleanup(!0),p!==void 0&&m.event.dir!==!1&&Ct(p),m.event=void 0)}};if(d.__qtouchswipe=m,o.mouse===!0){const p=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";Et(m,"main",[[d,"mousedown","mouseStart",`passive${p}`]])}xt.has.touch===!0&&Et(m,"main",[[d,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[d,"touchmove","noop","notPassiveCapture"]])},updated(d,n){const f=d.__qtouchswipe;f!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&f.end(),f.handler=n.value),f.direction=cl(n.modifiers))},beforeUnmount(d){const n=d.__qtouchswipe;n!==void 0&&(Qt(n,"main"),Qt(n,"temp"),xt.is.firefox===!0&&Wt(d,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete d.__qtouchswipe)}}),cn={name:{required:!0},disable:Boolean},wl={setup(d,{slots:n}){return()=>ge("div",{class:"q-panel scroll",role:"tabpanel"},Pt(n.default))}},pn={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},fn=["update:modelValue","beforeTransition","transition"];function gn(){const{props:d,emit:n,proxy:f}=Ot(),{getCache:o}=Ia(),{registerTimeout:s}=Xt();let m,p;const g=x(null),r=x(null);function c(D){const pe=d.vertical===!0?"up":"left";N((f.$q.lang.rtl===!0?-1:1)*(D.direction===pe?1:-1))}const b=ee(()=>[[mn,c,void 0,{horizontal:d.vertical!==!0,vertical:d.vertical,mouse:!0}]]),k=ee(()=>d.transitionPrev||`slide-${d.vertical===!0?"down":"right"}`),u=ee(()=>d.transitionNext||`slide-${d.vertical===!0?"up":"left"}`),v=ee(()=>`--q-transition-duration: ${d.transitionDuration}ms`),$=ee(()=>typeof d.modelValue=="string"||typeof d.modelValue=="number"?d.modelValue:String(d.modelValue)),_=ee(()=>({include:d.keepAliveInclude,exclude:d.keepAliveExclude,max:d.keepAliveMax})),M=ee(()=>d.keepAliveInclude!==void 0||d.keepAliveExclude!==void 0);Te(()=>d.modelValue,(D,pe)=>{const Ce=P(D)===!0?q(D):-1;p!==!0&&S(Ce===-1?0:Ce<q(pe)?-1:1),g.value!==Ce&&(g.value=Ce,n("beforeTransition",D,pe),s(()=>{n("transition",D,pe)},d.transitionDuration))});function V(){N(1)}function h(){N(-1)}function T(D){n("update:modelValue",D)}function P(D){return D!=null&&D!==""}function q(D){return m.findIndex(pe=>pe.props.name===D&&pe.props.disable!==""&&pe.props.disable!==!0)}function R(){return m.filter(D=>D.props.disable!==""&&D.props.disable!==!0)}function S(D){const pe=D!==0&&d.animated===!0&&g.value!==-1?"q-transition--"+(D===-1?k.value:u.value):null;r.value!==pe&&(r.value=pe)}function N(D,pe=g.value){let Ce=pe+D;for(;Ce!==-1&&Ce<m.length;){const ue=m[Ce];if(ue!==void 0&&ue.props.disable!==""&&ue.props.disable!==!0){S(D),p=!0,n("update:modelValue",ue.props.name),setTimeout(()=>{p=!1});return}Ce+=D}d.infinite===!0&&m.length!==0&&pe!==-1&&pe!==m.length&&N(D,D===-1?m.length:-1)}function Q(){const D=q(d.modelValue);return g.value!==D&&(g.value=D),!0}function U(){const D=P(d.modelValue)===!0&&Q()&&m[g.value];return d.keepAlive===!0?[ge(ao,_.value,[ge(M.value===!0?o($.value,()=>({...wl,name:$.value})):wl,{key:$.value,style:v.value},()=>D)])]:[ge("div",{class:"q-panel scroll",style:v.value,key:$.value,role:"tabpanel"},[D])]}function le(){if(m.length!==0)return d.animated===!0?[ge(Ql,{name:r.value},U)]:U()}function ae(D){return m=Oa(Pt(D.default,[])).filter(pe=>pe.props!==null&&pe.props.slot===void 0&&P(pe.props.name)===!0),m.length}function H(){return m}return Object.assign(f,{next:V,previous:h,goTo:T}),{panelIndex:g,panelDirectives:b,updatePanelsList:ae,updatePanelIndex:Q,getPanelContent:le,getEnabledPanels:R,getPanels:H,isValidPanelName:P,keepAliveProps:_,needsUniqueKeepAliveWrapper:M,goToPanelByOffset:N,goToPanel:T,nextPanel:V,previousPanel:h}}const wt=bt({name:"QTabPanel",props:cn,setup(d,{slots:n}){return()=>ge("div",{class:"q-tab-panel",role:"tabpanel"},Pt(n.default))}}),al=bt({name:"QTabPanels",props:{...pn,...Fl},emits:fn,setup(d,{slots:n}){const f=Ot(),o=Hl(d,f.proxy.$q),{updatePanelsList:s,getPanelContent:m,panelDirectives:p}=gn(),g=ee(()=>"q-tab-panels q-panel-parent"+(o.value===!0?" q-tab-panels--dark q-dark":""));return()=>(s(n),Ea("div",{class:g.value},m(),"pan",d.swipeable,()=>p.value))}}),bn={class:"q-gutter-sm"},vn={class:"q-gutter-sm"},_n={class:"col col-md-6 q-pa-xs"},yn={class:"row"},wn={class:"detail"},kn={key:0},hn={class:"text-grey-8"},$n={key:1},Sn={class:"text-grey-8"},xn={class:"text-grey-8"},Vn={key:2},Cn={class:"text-grey-8"},qn={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Tn={class:"text-grey-8"},kl="Rincian Pelanggan",Pn={__name:"Detail",setup(d){const n=be(),f=x("main"),o=x([]),s=x(!0),m=Oe({customer_id:n.props.data.id,...Me()}),p=x({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),g=[{name:"id",label:"#",field:"id",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah",field:"amount",align:"right"}];we(()=>{r()});const r=(k=null)=>Ue({pagination:p,filter:m,props:k,rows:o,url:route("admin.customer-wallet-transaction.data"),loading:s}),c=he(),b=ee(()=>c.screen.gt.sm?g:g.filter(k=>k.name==="id"));return(k,u)=>{const v=L("i-head"),$=L("authenticated-layout");return w(),E(W,null,[e(v,{title:kl}),e($,null,{title:l(()=>[y(i(kl))]),"left-button":l(()=>[a("div",bn,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:u[0]||(u[0]=_=>k.$inertia.get(k.route("admin.customer.index")))})])]),"right-button":l(()=>[a("div",vn,[e(O,{icon:"edit",dense:"",color:"primary",onClick:u[1]||(u[1]=_=>k.$inertia.get(k.route("admin.customer.edit",{id:t(n).props.data.id})))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[a("div",_n,[a("div",yn,[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ll,{modelValue:f.value,"onUpdate:modelValue":u[2]||(u[2]=_=>f.value=_),align:"left"},{default:l(()=>[e(yt,{name:"main",label:"Info Utama"}),e(yt,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(al,{modelValue:f.value,"onUpdate:modelValue":u[4]||(u[4]=_=>f.value=_)},{default:l(()=>[e(wt,{name:"main"},{default:l(()=>[a("table",wn,[a("tbody",null,[u[28]||(u[28]=a("tr",null,[a("td",{colspan:"3"},[a("div",{class:"text-bold text-grey-8"},"Info Pelanggan")])],-1)),a("tr",null,[u[5]||(u[5]=a("td",{style:{width:"120px"}},"Username",-1)),u[6]||(u[6]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,i(t(n).props.data.username),1)]),a("tr",null,[u[7]||(u[7]=a("td",null,"Jenis",-1)),u[8]||(u[8]=a("td",null,":",-1)),a("td",null,i(k.$CONSTANTS.CUSTOMER_TYPES[t(n).props.data.type]),1)]),a("tr",null,[u[9]||(u[9]=a("td",null,"Nama",-1)),u[10]||(u[10]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.name),1)]),a("tr",null,[u[11]||(u[11]=a("td",null,"No. Telepon",-1)),u[12]||(u[12]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.phone),1)]),a("tr",null,[u[13]||(u[13]=a("td",null,"Alamat",-1)),u[14]||(u[14]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.address),1)]),a("tr",null,[u[15]||(u[15]=a("td",null,"Saldo",-1)),u[16]||(u[16]=a("td",null,":",-1)),a("td",null,"Rp. "+i(t(F)(t(n).props.data.balance)),1)]),a("tr",null,[u[17]||(u[17]=a("td",null,"Status",-1)),u[18]||(u[18]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),u[29]||(u[29]=a("tr",null,[a("td",{colspan:"3"},[a("div",{class:"text-bold text-grey-8 q-mt-md"}," Info Akun ")])],-1)),t(n).props.data.created_at?(w(),E("tr",kn,[u[19]||(u[19]=a("td",null,"Dibuat",-1)),u[20]||(u[20]=a("td",null,":",-1)),a("td",null,[y(i(t(Ze)(t(n).props.data.created_at))+" ",1),a("span",hn,"("+i(t(mt)(t(n).props.data.created_at))+")",1)])])):j("",!0),t(n).props.data.updated_at?(w(),E("tr",$n,[u[21]||(u[21]=a("td",null,"Diperbarui",-1)),u[22]||(u[22]=a("td",null,":",-1)),a("td",null,[y(i(t(Ze)(t(n).props.data.updated_at))+" ",1),a("span",Sn,"("+i(t(mt)(t(n).props.data.updated_at))+")",1)])])):j("",!0),a("tr",null,[u[23]||(u[23]=a("td",null,"Terakhir login",-1)),u[24]||(u[24]=a("td",null,":",-1)),a("td",null,[y(i(t(n).props.data.last_login_datetime?t(Ze)(t(n).props.data.last_login_datetime):"Belum pernah login")+" ",1),a("span",xn,"("+i(t(mt)(t(n).props.data.last_login_datetime))+")",1)])]),t(n).props.data.last_activity_datetime?(w(),E("tr",Vn,[u[26]||(u[26]=a("td",null,"Aktifitas Terakhir",-1)),u[27]||(u[27]=a("td",null,":",-1)),a("td",null,[y(i(t(Ze)(t(n).props.data.last_activity_datetime))+" ",1),a("span",Cn,[y("("+i(t(mt)(t(n).props.data.last_activity_datetime))+") ",1),u[25]||(u[25]=a("br",null,null,-1)),y(i(t(n).props.data.last_activity_description),1)])])])):j("",!0)])])]),_:1}),e(wt,{name:"history"},{default:l(()=>[e($e,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:p.value,"onUpdate:pagination":u[3]||(u[3]=_=>p.value=_),filter:m.search,loading:s.value,columns:b.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:r,"binary-state-sort":""},{loading:l(()=>[e(Be,{showing:"",color:"red"})]),"no-data":l(({icon:_,message:M,filter:V})=>[a("div",qn,[a("span",null,i(M)+" "+i(V?" with term "+V:""),1)])]),body:l(_=>[e(ke,{props:_},{default:l(()=>[e(B,{key:"id",props:_},{default:l(()=>[a("div",null,[a("b",null,"#"+i(_.row.formatted_id),1),y(" - "+i(t(Ze)(_.row.datetime)),1)]),e(Lt,{size:"xs"},{default:l(()=>[e(C,{name:"category"}),y(" "+i(_.row.type_label),1)]),_:2},1024),t(c).screen.lt.md?(w(),E(W,{key:0},[a("div",null,[e(C,{name:"money"}),a("span",{class:ye(_.row.amount<0?"text-red-10":_.row.amount>0?"text-green-10":"")},i(t(st)(_.row.amount))+" "+i(t(F)(_.row.amount)),3)]),a("div",Tn,[e(C,{name:"notes"}),y(" "+i(_.row.notes),1)])],64)):j("",!0)]),_:2},1032,["props"]),e(B,{key:"notes",props:_},{default:l(()=>[y(i(_.row.notes),1)]),_:2},1032,["props"]),e(B,{key:"amount",props:_},{default:l(()=>[a("div",{class:ye(_.row.amount<0?"text-red-10":_.row.amount>0?"text-green-10":"")},i(t(st)(_.row.amount))+" "+i(t(F)(_.row.amount)),3)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},On=Object.freeze(Object.defineProperty({__proto__:null,default:Pn},Symbol.toStringTag,{value:"Module"})),In={class:"q-gutter-sm"},En={class:"col col-md-6 q-pa-xs"},Rn={__name:"Editor",setup(d){const n=be(),f=(n.props.data.id?"Edit":"Tambah")+" Pelanggan",o=Pe({id:n.props.data.id,username:n.props.data.username,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,active:!!n.props.data.active,password:n.props.data.password}),s=()=>Ne({form:o,url:route("admin.customer.save")});return(m,p)=>{const g=L("i-head"),r=L("authenticated-layout");return w(),E(W,null,[e(g,{title:f}),e(r,null,{title:l(()=>[y(i(f))]),"left-button":l(()=>[a("div",In,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:p[0]||(p[0]=c=>m.$inertia.get(m.route("admin.customer.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[a("div",En,[e(Re,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(ze)},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":p[1]||(p[1]=c=>t(o).id=c)},null,512),[[tt,t(o).id]]),e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[e(X,{modelValue:t(o).username,"onUpdate:modelValue":p[2]||(p[2]=c=>t(o).username=c),modelModifiers:{trim:!0},label:"Username",error:!!t(o).errors.username,disable:t(o).processing,"error-message":t(o).errors.username,rules:[c=>c&&c.length>0||"Username harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(o).name,"onUpdate:modelValue":p[3]||(p[3]=c=>t(o).name=c),modelModifiers:{trim:!0},label:"Nama Pelanggan",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[c=>c&&c.length>0||"Nama harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(o).phone,"onUpdate:modelValue":p[4]||(p[4]=c=>t(o).phone=c),modelModifiers:{trim:!0},type:"text",label:"No HP",disable:t(o).processing,error:!!t(o).errors.phone,"error-message":t(o).errors.phone,rules:[c=>c&&c.length>0||"No HP harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(X,{modelValue:t(o).address,"onUpdate:modelValue":p[5]||(p[5]=c=>t(o).address=c),modelModifiers:{trim:!0},type:"textarea",maxlength:"200",label:"Alamat",disable:t(o).processing,error:!!t(o).errors.address,"error-message":t(o).errors.address,rules:[c=>c&&c.length>0||"Alamat harus diisi."],autogrow:"",counter:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(X,{modelValue:t(o).password,"onUpdate:modelValue":p[6]||(p[6]=c=>t(o).password=c),type:"password",label:t(o).id?"Kata Sandi Baru (Wajib diisi)":"Kata Sandi (Isi jika ingin mengganti)",disable:t(o).processing,error:!!t(o).errors.password,"error-message":t(o).errors.password,"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","label","disable","error","error-message"]),e(tl,{modelValue:t(o).active,"onUpdate:modelValue":p[7]||(p[7]=c=>t(o).active=c),label:"Aktif",disable:t(o).processing},null,8,["modelValue","disable"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(O,{type:"submit",label:"Simpan",icon:"save",color:"primary",disable:t(o).processing},null,8,["disable"]),e(O,{label:"Batal",icon:"cancel",disable:t(o).processing,onClick:p[8]||(p[8]=c=>t(K).get(m.route("admin.customer.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Nn=Object.freeze(Object.defineProperty({__proto__:null,default:Rn},Symbol.toStringTag,{value:"Module"})),Mn={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Un={class:"q-pa-xs"},An={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Dn={class:"flex justify-end"},hl="Pelanggan",jn={__name:"Index",setup(d){const n=he(),f=x(!1),o=x([]),s=x(!0),m=x(null),p=x(null),g=Ke(p),r=Oe({search:"",status:"active",...Me()}),c=x({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),b=[{name:"username",label:n.screen.lt.md?"Pelanggan":"Kode",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right"},{name:"phone",label:"No HP",field:"phone",align:"left"},{name:"address",label:"Alamat",field:"address",align:"left"},{name:"action",align:"right"}],k=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];we(()=>{v()});const u=V=>Xe({message:`Hapus Pelanggan ${V.name}?`,url:route("admin.customer.delete",V.id),fetchItemsCallback:v,loading:s}),v=(V=null)=>{Ue({pagination:c,filter:r,props:V,rows:o,url:route("admin.customer.data"),loading:s,tableRef:m})},$=()=>v(),_=V=>K.get(route("admin.customer.detail",{id:V.id})),M=ee(()=>n.screen.gt.sm?b:b.filter(V=>V.name==="username"||V.name==="action"));return(V,h)=>{const T=L("i-head"),P=L("authenticated-layout");return w(),E(W,null,[e(T,{title:hl}),e(P,null,Qe({title:l(()=>[y(i(hl))]),"right-button":l(()=>[e(O,{icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:h[0]||(h[0]=q=>f.value=!f.value)},null,8,["icon"]),e(O,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:h[1]||(h[1]=q=>t(K).get(V.route("admin.customer.add")))})]),default:l(()=>[a("div",Un,[e($e,{class:"full-height-table",style:We({height:t(g)}),ref_key:"tableRef",ref:m,flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":h[5]||(h[5]=q=>c.value=q),filter:r.search,loading:s.value,columns:M.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:v,"binary-state-sort":""},{loading:l(()=>[e(Be,{showing:"",color:"red"})]),"no-data":l(({icon:q,message:R,filter:S})=>[a("div",An,[a("span",null,i(R)+" "+i(S?" with term "+S:""),1)])]),body:l(q=>[e(ke,{props:q,class:ye([q.row.active?"":"bg-red-1","cursor-pointer"]),onClick:R=>_(q.row)},{default:l(()=>[e(B,{key:"username",props:q,class:"wrap-column"},{default:l(()=>[a("div",null,[t(n).screen.lt.md?(w(),A(C,{key:0,name:"person"})):j("",!0),y(" "+i(q.row.username),1)]),t(n).screen.lt.md?(w(),E(W,{key:0},[a("div",null,[t(n).screen.lt.md?(w(),A(C,{key:0,name:"person"})):j("",!0),y(" "+i(q.row.name),1)]),a("div",null,[e(C,{name:"phone"}),y(" "+i(q.row.phone),1)]),e(Je,{text:q.row.address,icon:"home_pin"},null,8,["text"]),a("div",null,[e(C,{name:"wallet"}),y(" Rp. "+i(t(F)(q.row.balance)),1)])],64)):j("",!0)]),_:2},1032,["props"]),e(B,{key:"name",props:q},{default:l(()=>[y(i(q.row.name),1)]),_:2},1032,["props"]),e(B,{key:"balance",props:q},{default:l(()=>[y(i(t(F)(q.row.balance)),1)]),_:2},1032,["props"]),e(B,{key:"phone",props:q},{default:l(()=>[y(i(q.row.phone),1)]),_:2},1032,["props"]),e(B,{key:"address",props:q},{default:l(()=>[e(Je,{text:q.row.address},null,8,["text"])]),_:2},1032,["props"]),e(B,{key:"action",props:q},{default:l(()=>[a("div",Dn,[e(O,{disabled:!t(et)(V.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:h[4]||(h[4]=J(()=>{},["stop"]))},{default:l(()=>[e(Ge,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[Y((w(),A(Z,{clickable:"",onClick:J(R=>t(K).get(V.route("admin.customer.edit",q.row.id)),["stop"])},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:l(()=>h[6]||(h[6]=[y("Edit")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]]),Y((w(),A(Z,{onClick:J(R=>u(q.row),["stop"]),clickable:""},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:l(()=>h[7]||(h[7]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[f.value?{name:"header",fn:l(()=>[e(Fe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:l(()=>[a("div",Mn,[e(re,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:r.status,"onUpdate:modelValue":[h[2]||(h[2]=q=>r.status=q),$],options:k,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:r.search,"onUpdate:modelValue":h[3]||(h[3]=q=>r.search=q),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Bn=Object.freeze(Object.defineProperty({__proto__:null,default:jn},Symbol.toStringTag,{value:"Module"})),Ln={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},zn={class:"q-pa-xs"},Fn={class:"q-pa-none"},Hn={class:"q-pb-sm"},Yn={class:"row q-col-gutter-sm"},Kn={class:"row items-center no-wrap"},Qn={class:"q-ml-md"},Wn={class:"text-subtitle2 text-grey-8"},Jn={class:"text-h6 text-weight-bold"},Gn={class:"row q-col-gutter-sm q-pb-sm"},Xn={class:"col-md-6 col-12"},Zn={class:"col-md-6 col-12"},es={class:"row q-col-gutter-sm q-pb-sm"},ts={class:"col-md-6 col-12"},ls={class:"col-md-6 col-12"},$l="Dashboard",as={__name:"Index",setup(d){io([uo,mo,co,po,fo,go,bo]);const n=x({summary:{total_santri:1500,active_santri:1450,total_sales:155e5,total_transactions:1250,total_wallet_balance:55e6,total_topup:75e6,total_purchase:85e6,total_withdrawal:65e6},top_customers_sales:[{name:"Wildan Medina",value:1822e3},{name:"Syafiq",value:1754500},{name:"Umar",value:1534e3},{name:"Fauzan",value:1212e3},{name:"Rizky",value:981500}],top_customers_topup:[{name:"Abdullah",value:175e4},{name:"Abdurrahman",value:15e5},{name:"Zayd",value:125e4},{name:"Syafiq",value:8e5},{name:"Umar",value:65e4}],monthly_sales:{labels:["Jan","Feb","Mar","Apr","Mei","Jun"],data:[14123e3,21344e3,15155e3,17128e3,12557e3,12723e3]},transaction_type_distribution:[{value:500,name:"Deposit"},{value:350,name:"Purchase"},{value:200,name:"Withdrawal"},{value:200,name:"Refund"}]}),f=x(!1),o=x(Me().month??"this_month"),s=x([{value:"this_month",label:"Bulan Ini"},{value:"prev_month",label:"1 Bulan Sebelumnya"},{value:"prev_2month",label:"2 Bulan Sebelumnya"},{value:"prev_3month",label:"3 Bulan Sebelumnya"}]),m=()=>{K.visit(route("admin.dashboard",{month:o.value}))},p=["#82B1FF","#4DB6AC","#FFB74D","#9575CD"],g=ee(()=>({title:{text:"Penjualan Bulanan",left:"center"},tooltip:{trigger:"axis",formatter:function(b){let k=b[0].name+"<br/>";return b.forEach(function(u){k+=u.marker+" "+u.seriesName+": "+F(u.value)+"<br/>"}),k}},xAxis:{type:"category",data:n.value.monthly_sales.labels,axisLabel:{color:"#616161"}},yAxis:{type:"value",axisLabel:{formatter:b=>F(b),color:"#616161"}},series:[{name:"Penjualan",type:"bar",data:n.value.monthly_sales.data,itemStyle:{borderRadius:[5,5,0,0],color:p[0]}}]})),r=ee(()=>({title:{text:"Distribusi Jenis Transaksi",left:"center"},tooltip:{trigger:"item",formatter:function(b){return b.name+"<br/>"+b.seriesName+": "+F(b.value)+" ("+b.percent+"%)"}},legend:{orient:"vertical",left:"left",textStyle:{color:"#616161"}},series:[{name:"Jumlah Transaksi",type:"pie",radius:["40%","70%"],data:n.value.transaction_type_distribution,itemStyle:{borderRadius:5,borderColor:"#fff",borderWidth:2,color:b=>p[b.dataIndex%p.length]},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})),c=x([{label:"Total Pelanggan",value:ee(()=>n.value.summary.total_santri),icon:"groups",color:"primary",bgColor:"#e3f2fd"},{label:"Total Penjualan",value:ee(()=>F(n.value.summary.total_sales)),icon:"shopping_cart",color:"green-7",bgColor:"#e8f5e9"},{label:"Saldo Dompet Pelanggan",value:ee(()=>F(n.value.summary.total_wallet_balance)),icon:"account_balance_wallet",color:"orange-9",bgColor:"#fff3e0"},{label:"Total Transaksi",value:ee(()=>F(n.value.summary.total_transactions)),icon:"swap_horiz",color:"purple-8",bgColor:"#f3e5f5"}]);return(b,k)=>{const u=L("i-head"),v=L("authenticated-layout");return w(),E(W,null,[e(u,{title:$l}),e(v,null,Qe({title:l(()=>[y(i($l))]),"right-button":l(()=>[e(O,{class:"q-ml-sm",icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",onClick:k[0]||(k[0]=$=>f.value=!f.value)},null,8,["icon"])]),default:l(()=>[a("div",zn,[a("div",Fn,[a("div",Hn,[k[2]||(k[2]=a("div",{class:"text-h6 text-bold text-grey-8 q-mb-sm"}," Statistik Ringkasan ",-1)),a("div",Yn,[(w(!0),E(W,null,ct(c.value,($,_)=>(w(),E("div",{key:_,class:"col-12 col-md-3"},[e(de,{square:"",bordered:"",flat:"",class:"q-pa-md",style:{width:"100%"}},{default:l(()=>[a("div",Kn,[e(_t,{icon:$.icon,color:$.color,"text-color":$.bgColor},null,8,["icon","color","text-color"]),a("div",Qn,[a("div",Wn,i($.label),1),a("div",Jn,i($.value),1)])])]),_:2},1024)]))),128))])])]),a("div",Gn,[a("div",Xn,[e(de,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:l(()=>[k[3]||(k[3]=a("div",{class:"text-h6 q-pb-sm"},"Penjualan Bulanan",-1)),e(t(Ut),{class:"chart",option:g.value,autoresize:""},null,8,["option"])]),_:1})]),a("div",Zn,[e(de,{square:"",bordered:"",flat:"",class:"full-width q-pa-md"},{default:l(()=>[k[4]||(k[4]=a("div",{class:"text-h6 q-pb-sm"},"Distribusi Transaksi",-1)),e(t(Ut),{class:"chart",option:r.value,autoresize:""},null,8,["option"])]),_:1})])]),a("div",es,[a("div",ts,[e(de,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:l(()=>[k[5]||(k[5]=a("div",{class:"text-h6 q-mb-sm"},"Top 5 Pembelian Pelanggan",-1)),e(Ee,{separator:""},{default:l(()=>[(w(!0),E(W,null,ct(n.value.top_customers_sales,($,_)=>(w(),A(Z,{key:_},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(_t,{color:"primary","text-color":"white",size:"sm"},{default:l(()=>[y(i(_+1),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>[y(i($.name),1)]),_:2},1024)]),_:2},1024),e(I,{side:""},{default:l(()=>[e(me,{class:"text-primary"},{default:l(()=>[y(i(t(F)($.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),a("div",ls,[e(de,{square:"",bordered:"",flat:"",class:"full-width full-height q-pa-md"},{default:l(()=>[k[6]||(k[6]=a("div",{class:"text-h6 q-mb-sm"},"Top 5 Top Up Pelanggan",-1)),e(Ee,{separator:""},{default:l(()=>[(w(!0),E(W,null,ct(n.value.top_customers_topup,($,_)=>(w(),A(Z,{key:_},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(_t,{color:"green-7","text-color":"white",size:"sm"},{default:l(()=>[y(i(_+1),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>[y(i($.name),1)]),_:2},1024)]),_:2},1024),e(I,{side:""},{default:l(()=>[e(me,{class:"text-green-7"},{default:l(()=>[y(i(t(F)($.value)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])]),_:2},[f.value?{name:"header",fn:l(()=>[e(Fe,{class:"filter-bar"},{default:l(()=>[a("div",Ln,[e(re,{class:"custom-select col-12",style:{"min-width":"150px"},modelValue:o.value,"onUpdate:modelValue":[k[1]||(k[1]=$=>o.value=$),m],options:s.value,label:"Bulan",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue","options"])])]),_:1})]),key:"0"}:void 0]),1024)],64)}}},os=ft(as,[["__scopeId","data-v-856a3dcb"]]),ns=Object.freeze(Object.defineProperty({__proto__:null,default:os},Symbol.toStringTag,{value:"Module"})),ss={class:"row q-col-gutter-sm"},rs={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},is={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},us={__name:"ChartCard",setup(d){const n=be(),f={tooltip:{show:!0},title:{text:"Servis Diterima vs Sukses vs Gagal",textStyle:{color:"#444"},left:"center"},legend:{top:"10%",data:[n.props.data.chart1_data.data[0].label,n.props.data.chart1_data.data[1].label,n.props.data.chart1_data.data[2].label]},grid:{containLabel:!0,left:"5px",bottom:"5px",right:"5px"},xAxis:{show:!0,type:"category",data:n.props.data.chart1_data.x_axis_label_data,axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{show:!0,color:"#ccc",type:"dashed"}},axisLabel:{show:!0},boundaryGap:!0},yAxis:{show:!0,type:"value",axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisLabel:{show:!0},splitLine:{lineStyle:{type:"dashed",color:"#ccc"}},axisTick:{show:!0,lineStyle:{show:!0,color:"#fff",type:"dashed"}}},series:[{name:n.props.data.chart1_data.data[0].label,type:"line",lineStyle:{color:"#007bff"},itemStyle:{color:"#007bff"},smooth:!0,data:n.props.data.chart1_data.data[0].data},{name:n.props.data.chart1_data.data[1].label,type:"line",lineStyle:{color:"#28a745"},itemStyle:{color:"#28a745"},smooth:!0,data:n.props.data.chart1_data.data[1].data},{name:n.props.data.chart1_data.data[2].label,type:"line",lineStyle:{color:"#dc3545"},itemStyle:{color:"#dc3545"},smooth:!0,data:n.props.data.chart1_data.data[2].data}],color:["white"]},o={tooltip:{show:!0},title:{text:"Pendapatan Servis",textStyle:{color:"#444"},left:"center"},legend:{top:"10%",data:[n.props.data.chart2_data.data[0].label]},grid:{containLabel:!0,left:"5px",bottom:"5px",right:"5px"},xAxis:{show:!0,type:"category",data:n.props.data.chart1_data.x_axis_label_data,axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisTick:{show:!0,alignWithLabel:!0,lineStyle:{show:!0,color:"#ccc",type:"dashed"}},axisLabel:{show:!0},boundaryGap:!0},yAxis:{show:!0,type:"value",axisLine:{lineStyle:{color:"#555",type:"dashed"}},axisLabel:{show:!0},splitLine:{lineStyle:{type:"dashed",color:"#ccc"}},axisTick:{show:!0,lineStyle:{show:!0,color:"#fff",type:"dashed"}}},series:[{name:n.props.data.chart2_data.data[0].label,type:"bar",itemStyle:{color:"#007bff"},smooth:!0,data:n.props.data.chart2_data.data[0].data}],color:["white"]};return(s,m)=>(w(),E("div",ss,[a("div",rs,[e(de,{square:"",class:"no-shadow",bordered:"",style:{"background-color":"#fff"}},{default:l(()=>[e(te,{class:"q-pa-none"},{default:l(()=>[e(t(Ut),{option:f,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"250px"}})]),_:1})]),_:1})]),a("div",is,[e(de,{class:"no-shadow",square:"",bordered:"",style:{"background-color":"#fff"}},{default:l(()=>[e(te,{class:"q-pa-none"},{default:l(()=>[e(t(Ut),{option:o,class:"q-mt-md",resizable:!0,autoresize:"",style:{height:"250px"}})]),_:1})]),_:1})])]))}},ds=ft(us,[["__scopeId","data-v-5c77cb08"]]),ms=Object.freeze(Object.defineProperty({__proto__:null,default:ds},Symbol.toStringTag,{value:"Module"})),cs={class:"row"},ps={class:"row q-col-gutter-sm"},fs={class:"col-sm-6 col-xs-12"},gs={class:"col-sm-6 col-xs-12"},bs={class:"col-md-3 col-sm-6 col-xs-12"},vs={class:"col-md-3 col-sm-6 col-xs-12"},_s={class:"col-md-3 col-sm-6 col-xs-12"},ys={class:"col-md-3 col-sm-6 col-xs-12"};const ws={__name:"SummaryCard",setup(d){be();const n=(f,o)=>{const m={...{order_status:"all",service_status:"all",repair_status:"all",payment_status:"all",search:""},...o};localStorage.setItem("fixsync.service-orders.filter",JSON.stringify(m)),K.visit(f,{data:m})};return(f,o)=>(w(),E("div",cs,[e(de,{class:"bg-transparent no-shadow no-border col",bordered:""},{default:l(()=>[e(te,{class:"q-pa-none"},{default:l(()=>[a("div",ps,[a("div",fs,[e(Z,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:o[0]||(o[0]=s=>f.$inertia.visit(f.route("admin.customer.index",{status:"active"})))},{default:l(()=>[e(I,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(C,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(I,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(me,{class:"text-white text-h6 text-weight-bolder"},{default:l(()=>[y(i(f.$page.props.data.active_customer_count),1)]),_:1}),e(me,null,{default:l(()=>o[5]||(o[5]=[y("Pelanggan Aktif")])),_:1})]),_:1})]),_:1})]),a("div",gs,[e(Z,{style:"background-color: #008cff",class:"q-pa-none",clickable:"",onClick:o[1]||(o[1]=s=>f.$inertia.visit(f.route("admin.customer.index",{status:"active"})))},{default:l(()=>[e(I,{side:"",style:"background-color: #007bff",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(C,{class:"material-filled",name:"groups_2",color:"white",size:"24px"})]),_:1}),e(I,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(me,{class:"text-white text-h6 text-weight-bolder"},{default:l(()=>[y(i(f.$page.props.data.active_user_count),1)]),_:1}),e(me,null,{default:l(()=>o[6]||(o[6]=[y("Pengguna Aktif")])),_:1})]),_:1})]),_:1})]),a("div",bs,[e(Z,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:l(()=>[e(I,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(C,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(I,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(me,{class:"text-white text-weight-bold"},{default:l(()=>[y(" Rp. "+i(t(F)(f.$page.props.data.total_finance_account_balance)),1)]),_:1}),e(me,null,{default:l(()=>o[7]||(o[7]=[y("Total Saldo Koperasi")])),_:1})]),_:1})]),_:1})]),a("div",vs,[e(Z,{style:"background-color: #dc3545",class:"q-pa-none"},{default:l(()=>[e(I,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(C,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(I,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(me,{class:"text-white text-weight-bold"},{default:l(()=>[y(" Rp. "+i(t(F)(f.$page.props.data.total_customer_balance)),1)]),_:1}),e(me,null,{default:l(()=>o[8]||(o[8]=[y("Total Saldo Pelanggan")])),_:1})]),_:1})]),_:1})]),a("div",_s,[e(Z,{style:"background-color: #fd8e24",class:"q-pa-none"},{default:l(()=>[e(I,{side:"",style:"background-color: #fd7e14",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(C,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(I,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(me,{class:"text-white text-weight-bold"},{default:l(()=>[y(" Rp. "+i(t(F)(f.$page.props.data.total_customer_debt)),1)]),_:1}),e(me,null,{default:l(()=>o[9]||(o[9]=[y("Total Utang Pelanggan")])),_:1})]),_:1})]),_:1})]),a("div",ys,[e(Z,{style:"background-color: #dc3545",class:"q-pa-none"},{default:l(()=>[e(I,{side:"",style:"background-color: #cc2535",class:"q-pa-lg q-mr-none text-white"},{default:l(()=>[e(C,{class:"material-filled",name:"paid",color:"white",size:"24px"})]),_:1}),e(I,{class:"q-pa-md q-ml-none text-white"},{default:l(()=>[e(me,{class:"text-white text-weight-bold"},{default:l(()=>[y(" Rp. "+i(t(F)(f.$page.props.data.total_customer_credit)),1)]),_:1}),e(me,null,{default:l(()=>o[10]||(o[10]=[y("Total Piutang Pelanggan")])),_:1})]),_:1})]),_:1})]),j("",!0),j("",!0),j("",!0)])]),_:1})]),_:1})]))}},ks=Object.freeze(Object.defineProperty({__proto__:null,default:ws},Symbol.toStringTag,{value:"Module"})),hs={class:"text-subtitle1 text-bold text-grey-9"},$s={class:"flex items-center justify-between"},Ss={__name:"TopCard",props:{items:Array,title:String,route_url:String},setup(d){const n=d;return(f,o)=>{const s=L("i-link");return w(),A(de,{class:"no-shadow",square:"",bordered:""},{default:l(()=>[e(te,null,{default:l(()=>[a("div",hs,i(n.title),1),a("div",null,[(w(!0),E(W,null,ct(n.items,m=>(w(),E("div",{key:m.id},[a("div",$s,[a("span",null,[e(s,{href:f.route(n.route_url,{id:m.id})},{default:l(()=>[y(i(m.name),1)]),_:2},1032,["href"])]),a("span",null,"Rp. "+i(t(F)(m.total)),1)])]))),128))])]),_:1})]),_:1})}}},xs=Object.freeze(Object.defineProperty({__proto__:null,default:Ss},Symbol.toStringTag,{value:"Module"})),Vs={class:"q-gutter-sm"},Cs={class:"q-gutter-sm"},qs={class:"col col-md-6 q-pa-xs"},Ts={class:"row"},Ps={class:"detail"},Os={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Is={class:"flex q-gutter-sm"},Es={class:""},Sl="Rincian Akun",Rs={__name:"Detail",setup(d){const n=be(),f=x("main"),o=x([]),s=x(!0),m=Oe({...Me()}),p=x({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),g=[{name:"id",label:"#",field:"id",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!0},{name:"quantity",label:"Jumlah",field:"quantity",align:"center",sortable:!0}];we(()=>{r()});const r=(k=null)=>Ue({pagination:p,filter:m,props:k,rows:o,loading:s}),c=he(),b=ee(()=>c.screen.gt.sm?g:g.filter(k=>k.name==="id"));return(k,u)=>{const v=L("i-head"),$=L("authenticated-layout");return w(),E(W,null,[e(v,{title:Sl}),e($,null,{title:l(()=>[y(i(Sl))]),"left-button":l(()=>[a("div",Vs,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:u[0]||(u[0]=_=>k.$inertia.get(k.route("admin.finance-account.index")))})])]),"right-button":l(()=>[a("div",Cs,[e(O,{icon:"edit",dense:"",color:"primary",onClick:u[1]||(u[1]=_=>t(K).get(k.route("admin.finance-account.edit",{id:t(n).props.data.id})))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[a("div",qs,[a("div",Ts,[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(ll,{modelValue:f.value,"onUpdate:modelValue":u[2]||(u[2]=_=>f.value=_),align:"left"},{default:l(()=>[e(yt,{name:"main",label:"Info Akun"}),e(yt,{name:"history",label:"Riwayat Transaksi"})]),_:1},8,["modelValue"]),e(al,{modelValue:f.value,"onUpdate:modelValue":u[4]||(u[4]=_=>f.value=_)},{default:l(()=>[e(wt,{name:"main"},{default:l(()=>[a("table",Ps,[a("tbody",null,[a("tr",null,[u[5]||(u[5]=a("td",{style:{width:"150px"}},"Nama",-1)),u[6]||(u[6]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,i(t(n).props.data.name),1)]),a("tr",null,[u[7]||(u[7]=a("td",null,"Jenis",-1)),u[8]||(u[8]=a("td",null,":",-1)),a("td",null,i(k.$CONSTANTS.FINANCE_ACCOUNT_TYPES[t(n).props.data.type]),1)]),t(n).props.data.type=="bank"?(w(),E(W,{key:0},[a("tr",null,[u[9]||(u[9]=a("td",null,"Bank",-1)),u[10]||(u[10]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.bank),1)]),a("tr",null,[u[11]||(u[11]=a("td",null,"No. Rek",-1)),u[12]||(u[12]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.number),1)]),a("tr",null,[u[13]||(u[13]=a("td",null,"Atas Nama",-1)),u[14]||(u[14]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.holder),1)])],64)):j("",!0),a("tr",null,[u[15]||(u[15]=a("td",null,"Tampilkan di Wallet",-1)),u[16]||(u[16]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.has_wallet_access?"Ya":"Tidak"),1)]),a("tr",null,[u[17]||(u[17]=a("td",null,"Status",-1)),u[18]||(u[18]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),a("tr",null,[u[19]||(u[19]=a("td",null,"Saldo",-1)),u[20]||(u[20]=a("td",null,":",-1)),a("td",null,"Rp. "+i(t(F)(t(n).props.data.balance)),1)]),a("tr",null,[u[21]||(u[21]=a("td",null,"Catatan",-1)),u[22]||(u[22]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.notes),1)])])])]),_:1}),e(wt,{name:"history"},{default:l(()=>[e($e,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:p.value,"onUpdate:pagination":u[3]||(u[3]=_=>p.value=_),filter:m.search,loading:s.value,columns:b.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:r,"binary-state-sort":""},{loading:l(()=>[e(Be,{showing:"",color:"red"})]),"no-data":l(({icon:_,message:M,filter:V})=>[a("div",Os,[a("span",null,i(M)+" "+i(V?" with term "+V:""),1)])]),body:l(_=>[e(ke,{props:_},{default:l(()=>[e(B,{key:"id",props:_},{default:l(()=>[a("div",Is,[a("div",null,[a("b",null,"#"+i(_.row.id),1)]),a("div",null," - "+i(k.$dayjs(new Date(_.row.created_at)).format("DD/MM/YYYY hh:mm:ss")),1),a("div",null," - "+i(_.row.created_by?_.row.created_by.username:"--"),1)]),t(c).screen.lt.md?(w(),E(W,{key:0},[a("div",Es,i(k.$CONSTANTS.STOCKMOVEMENT_REFTYPES[_.row.ref_type]),1),a("div",{class:ye(_.row.quantity<0?"text-red-10":_.row.quantity>0?"text-green-10":"")},[e(C,{name:_.row.quantity<0?"arrow_downward":_.row.quantity>0?"arrow_upward":""},null,8,["name"]),y(" "+i(t(F)(_.row.quantity)),1)],2)],64)):j("",!0)]),_:2},1032,["props"]),e(B,{key:"type",props:_},{default:l(()=>[y(i(k.$CONSTANTS.STOCKMOVEMENT_REFTYPES[_.row.ref_type]),1)]),_:2},1032,["props"]),e(B,{key:"quantity",props:_},{default:l(()=>[a("div",{class:ye(_.row.quantity<0?"text-red-10":_.row.quantity>0?"text-green-10":"")},[e(C,{name:_.row.quantity<0?"arrow_downward":_.row.quantity>0?"arrow_upward":""},null,8,["name"]),y(" "+i(t(F)(_.row.quantity)),1)],2)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1})]),_:1})],64)}}},Ns=Object.freeze(Object.defineProperty({__proto__:null,default:Rs},Symbol.toStringTag,{value:"Module"})),Ms={class:"q-gutter-sm"},Us={class:"col col-md-6 q-pa-xs"},As={style:{"margin-left":"-10px"}},Ds={style:{"margin-left":"-10px"}},js={__name:"Editor",setup(d){const n=be(),f=(n.props.data.id?"Edit":"Tambah")+" Akun / Kas",o=Pe({id:n.props.data.id,name:n.props.data.name,type:n.props.data.type,bank:n.props.data.bank,number:n.props.data.number,holder:n.props.data.holder,balance:n.props.data.balance,active:!!n.props.data.active,has_wallet_access:!!n.props.data.has_wallet_access,notes:n.props.data.notes}),s=je(window.CONSTANTS.FINANCE_ACCOUNT_TYPES),m=()=>Ne({form:o,url:route("admin.finance-account.save")});return(p,g)=>{const r=L("i-head"),c=L("authenticated-layout");return w(),E(W,null,[e(r,{title:f}),e(c,null,{title:l(()=>[y(i(f))]),"left-button":l(()=>[a("div",Ms,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:g[0]||(g[0]=b=>p.$inertia.get(p.route("admin.finance-account.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[a("div",Us,[e(Re,{class:"row",onSubmit:J(m,["prevent"]),onValidationError:t(ze)},{default:l(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":g[1]||(g[1]=b=>t(o).id=b)},null,512),[[tt,t(o).id]]),e(X,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":g[2]||(g[2]=b=>t(o).name=b),modelModifiers:{trim:!0},label:"Nama Akun","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[b=>b&&b.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(re,{modelValue:t(o).type,"onUpdate:modelValue":g[3]||(g[3]=b=>t(o).type=b),label:"Jenis Akun",options:t(s),"map-options":"","emit-value":"",error:!!t(o).errors.type,disable:t(o).processing,"hide-bottom-space":""},null,8,["modelValue","options","error","disable"]),t(o).type=="bank"?(w(),E(W,{key:0},[e(X,{modelValue:t(o).bank,"onUpdate:modelValue":g[4]||(g[4]=b=>t(o).bank=b),modelModifiers:{trim:!0},label:"Nama Bank","lazy-rules":"",error:!!t(o).errors.bank,disable:t(o).processing,"error-message":t(o).errors.bank,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(X,{modelValue:t(o).number,"onUpdate:modelValue":g[5]||(g[5]=b=>t(o).number=b),modelModifiers:{trim:!0},label:"Nomor Rekening","lazy-rules":"",error:!!t(o).errors.number,disable:t(o).processing,"error-message":t(o).errors.number,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(X,{modelValue:t(o).holder,"onUpdate:modelValue":g[6]||(g[6]=b=>t(o).holder=b),modelModifiers:{trim:!0},label:"Pemilik Rekening","lazy-rules":"",error:!!t(o).errors.holder,disable:t(o).processing,"error-message":t(o).errors.holder,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"])],64)):j("",!0),e(Ie,{modelValue:t(o).balance,"onUpdate:modelValue":g[7]||(g[7]=b=>t(o).balance=b),label:"Saldo",lazyRules:"",disable:t(o).processing,"allow-negative":"true",error:!!t(o).errors.balance,errorMessage:t(o).errors.balance,rules:[]},null,8,["modelValue","disable","error","errorMessage"]),a("div",As,[e(qt,{class:"full-width q-pl-none",modelValue:t(o).has_wallet_access,"onUpdate:modelValue":g[8]||(g[8]=b=>t(o).has_wallet_access=b),disable:t(o).processing,label:"Tampilkan di Konfirmasi Topup Wallet"},null,8,["modelValue","disable"])]),a("div",Ds,[e(qt,{class:"full-width q-pl-none",modelValue:t(o).active,"onUpdate:modelValue":g[9]||(g[9]=b=>t(o).active=b),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"])]),e(X,{modelValue:t(o).notes,"onUpdate:modelValue":g[10]||(g[10]=b=>t(o).notes=b),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.notes,"error-message":t(o).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(O,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(O,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:g[11]||(g[11]=b=>t(K).get(p.route("admin.finance-account.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Bs=Object.freeze(Object.defineProperty({__proto__:null,default:js},Symbol.toStringTag,{value:"Module"})),Ls={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},zs={class:"q-pa-xs"},Fs={class:"q-my-sm text-subtitle"},Hs={class:"text-bold text-grey-8"},Ys={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ks={key:2},Qs={key:3},Ws={key:4},Js={class:"flex justify-end"},xl="Akun Kas",Gs={__name:"Index",setup(d){const n=be(),f=he(),o=x(!1),s=x([]),m=x(null),p=x(null),g=Ke(p,104),r=x(!0),c=Oe({search:"",status:"active",type:"all",...Me()}),b=n.props.totalBalance,k=x({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),u=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"balance",label:"Saldo (Rp)",field:"balance",align:"right",sortable:!0},{name:"action",align:"right"}],v=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],$=[{value:"all",label:"Semua"},...je(window.CONSTANTS.FINANCE_ACCOUNT_TYPES)];we(()=>{M()});const _=P=>Xe({message:`Hapus Akun ${P.name}?`,url:route("admin.finance-account.delete",P.id),fetchItemsCallback:M,loading:r}),M=(P=null)=>{Ue({pagination:k,filter:c,props:P,rows:s,url:route("admin.finance-account.data"),loading:r,tableRef:m})},V=()=>M(),h=P=>K.get(route("admin.finance-account.detail",{id:P.id})),T=ee(()=>f.screen.gt.sm?u:u.filter(P=>P.name==="name"||P.name==="action"));return(P,q)=>{const R=L("i-head"),S=L("authenticated-layout");return w(),E(W,null,[e(R,{title:xl}),e(S,null,Qe({title:l(()=>[y(i(xl))]),"right-button":l(()=>[e(O,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:q[0]||(q[0]=N=>o.value=!o.value)},null,8,["icon"]),e(O,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:q[1]||(q[1]=N=>t(K).get(P.route("admin.finance-account.add")))})]),default:l(()=>[a("div",zs,[a("div",Fs,[q[7]||(q[7]=y(" Total Saldo Akun Aktif: ")),a("span",Hs,"Rp. "+i(t(F)(t(b))),1)]),e($e,{ref_key:"tableRef",ref:m,class:"full-height-table",style:We({height:t(g)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:k.value,"onUpdate:pagination":q[6]||(q[6]=N=>k.value=N),filter:c.search,loading:r.value,columns:T.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:M,"binary-state-sort":""},{loading:l(()=>[e(Be,{showing:"",color:"red"})]),"no-data":l(({icon:N,message:Q,filter:U})=>[a("div",Ys,[a("span",null,i(Q)+" "+i(U?" with term "+U:""),1)])]),body:l(N=>[e(ke,{props:N,class:ye([N.row.active?"":"bg-red-1","cursor-pointer"]),onClick:Q=>h(N.row)},{default:l(()=>[e(B,{key:"name",props:N,class:"wrap-column"},{default:l(()=>[t(f).screen.lt.md?(w(),A(Je,{key:1,icon:"wallet",text:N.row.name},null,8,["text"])):(w(),E(W,{key:0},[y(i(N.row.name),1)],64)),N.row.type=="bank"?(w(),E("div",Ks,i(N.row.bank??"-")+" "+i(N.row.number??"-")+" an "+i(N.row.holder??"-"),1)):j("",!0),N.row.notes?(w(),E("div",Qs,[e(C,{name:"notes"}),y(" "+i(N.row.notes),1)])):j("",!0),t(f).screen.lt.md?(w(),E("div",Ws,[e(C,{name:"money"}),y(" Rp. "+i(t(F)(N.row.balance)),1)])):j("",!0)]),_:2},1032,["props"]),e(B,{key:"balance",props:N},{default:l(()=>[y(i(t(F)(N.row.balance)),1)]),_:2},1032,["props"]),e(B,{key:"action",props:N},{default:l(()=>[a("div",Js,[e(O,{disabled:!t(et)(P.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:q[5]||(q[5]=J(()=>{},["stop"]))},{default:l(()=>[e(Ge,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[Y((w(),A(Z,{clickable:"",onClick:J(Q=>t(K).get(P.route("admin.finance-account.duplicate",N.row.id)),["stop"])},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:l(()=>q[8]||(q[8]=[y(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]]),Y((w(),A(Z,{clickable:"",onClick:J(Q=>t(K).get(P.route("admin.finance-account.edit",N.row.id)),["stop"])},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:l(()=>q[9]||(q[9]=[y("Edit")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]]),Y((w(),A(Z,{onClick:J(Q=>_(N.row),["stop"]),clickable:""},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:l(()=>q[10]||(q[10]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Fe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:l(()=>[a("div",Ls,[e(re,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:c.status,"onUpdate:modelValue":[q[2]||(q[2]=N=>c.status=N),V],options:v,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(re,{class:"custom-select col-xs-6 col-sm-2",style:{"min-width":"150px"},modelValue:c.type,"onUpdate:modelValue":[q[3]||(q[3]=N=>c.type=N),V],options:$,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:c.search,"onUpdate:modelValue":q[4]||(q[4]=N=>c.search=N),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Xs=Object.freeze(Object.defineProperty({__proto__:null,default:Gs},Symbol.toStringTag,{value:"Module"})),Zs={class:"q-gutter-sm"},er={class:"col col-md-6 q-pa-xs"},tr={__name:"Editor",setup(d){const n=be(),f=(n.props.data.id?"Edit":"Catat")+" Transaksi Keuangan",o=n.props.accounts.map(g=>({label:g.name,value:g.id})),s=[{label:"Pemasukan (+)",value:"income"},{label:"Pengeluaran (-)",value:"expense"},{label:"Transfer",value:"transfer"}],m=Pe({id:n.props.data.id,account_id:n.props.data.account_id,to_account_id:n.props.data.to_account_id??null,type:n.props.data.type,datetime:Ra(n.props.data.datetime?n.props.data.datetime:new Date),notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),p=()=>Ne({form:m,url:route("admin.finance-transaction.save")});return(g,r)=>{const c=L("i-head"),b=L("authenticated-layout");return w(),E(W,null,[e(c,{title:f}),e(b,null,{title:l(()=>[y(i(f))]),"left-button":l(()=>[a("div",Zs,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=k=>g.$inertia.get(g.route("admin.finance-transaction.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[a("div",er,[e(Re,{class:"row",onSubmit:J(p,["prevent"]),onValidationError:t(ze)},{default:l(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":r[1]||(r[1]=k=>t(m).id=k)},null,512),[[tt,t(m).id]]),e($t,{modelValue:t(m).datetime,"onUpdate:modelValue":r[2]||(r[2]=k=>t(m).datetime=k),label:"Waktu",error:!!t(m).errors.datetime,disable:t(m).processing,errorMessage:t(m).errors.datetime,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(re,{autofocus:"",modelValue:t(m).type,"onUpdate:modelValue":r[3]||(r[3]=k=>t(m).type=k),label:"Jenis Transaksi",options:s,"map-options":"","emit-value":"",error:!!t(m).errors.type,disable:t(m).processing,errorMessage:t(m).errors.type,"hide-bottom-space":""},null,8,["modelValue","error","disable","errorMessage"]),e(re,{class:"custom-select",modelValue:t(m).account_id,"onUpdate:modelValue":r[4]||(r[4]=k=>t(m).account_id=k),label:t(m).type=="transfer"?"Akun Asal":"Akun",options:t(o),"map-options":"","emit-value":"",errorMessage:t(m).errors.account_id,error:!!t(m).errors.account_id,disable:t(m).processing,"hide-bottom-space":""},null,8,["modelValue","label","options","errorMessage","error","disable"]),t(m).type=="transfer"?(w(),A(re,{key:0,class:"custom-select",modelValue:t(m).to_account_id,"onUpdate:modelValue":r[5]||(r[5]=k=>t(m).to_account_id=k),label:"Akun Tujuan",options:t(o),"map-options":"","emit-value":"",errorMessage:t(m).errors.to_account_id,error:!!t(m).errors.to_account_id,disable:t(m).processing,"hide-bottom-space":""},null,8,["modelValue","options","errorMessage","error","disable"])):j("",!0),e(Ie,{modelValue:t(m).amount,"onUpdate:modelValue":r[6]||(r[6]=k=>t(m).amount=k),label:"Jumlah",lazyRules:"",disable:t(m).processing,error:!!t(m).errors.amount,errorMessage:t(m).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(X,{modelValue:t(m).notes,"onUpdate:modelValue":r[7]||(r[7]=k=>t(m).notes=k),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(m).processing,error:!!t(m).errors.notes,"error-message":t(m).errors.notes,rules:[k=>k&&k.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(O,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(m).processing},null,8,["disable"]),e(O,{icon:"cancel",label:"Batal",disable:t(m).processing,onClick:r[8]||(r[8]=k=>t(K).get(g.route("admin.finance-transaction.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},lr=Object.freeze(Object.defineProperty({__proto__:null,default:tr},Symbol.toStringTag,{value:"Module"})),ar={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},or={class:"q-pa-xs"},nr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},sr={class:"text-grey-8"},rr={key:0},ir={key:0},ur={key:1},dr={class:"flex justify-end"},Vl="Transaksi Kas",mr={__name:"Index",setup(d){const n=he(),f=x(!1),o=x([]),s=x(!0),m=x(null),p=x(null),g=Ke(p),r=At(),c=Dt(),b=[{label:"Semua Tahun",value:"all"},{label:`${r}`,value:r},...kt(r-2,r-1).reverse()],k=[{value:"all",label:"Semua Bulan"},...ht()],u=Oe({search:"",category_id:"all",year:r,month:c,...Me()}),v=x({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),$=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];we(()=>{M()});const _=T=>Xe({message:`Hapus transaksi #-${T.id}?`,url:route("admin.finance-transaction.delete",T.id),fetchItemsCallback:M,loading:s}),M=(T=null)=>{Ue({pagination:v,filter:u,props:T,rows:o,url:route("admin.finance-transaction.data"),loading:s,tableRef:m})},V=()=>{M()},h=ee(()=>n.screen.gt.sm?$:$.filter(T=>T.name==="datetime"||T.name==="action"));return Te(()=>u.year,T=>{T===null&&(u.month=null)}),(T,P)=>{const q=L("i-head"),R=L("authenticated-layout");return w(),E(W,null,[e(q,{title:Vl}),e(R,null,Qe({title:l(()=>[y(i(Vl))]),"right-button":l(()=>[e(O,{icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:P[0]||(P[0]=S=>f.value=!f.value)},null,8,["icon"]),e(O,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:P[1]||(P[1]=S=>t(K).get(T.route("admin.finance-transaction.add")))})]),default:l(()=>[a("div",or,[e($e,{ref_key:"tableRef",ref:m,style:We({height:t(g)}),class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":P[6]||(P[6]=S=>v.value=S),filter:u.search,loading:s.value,columns:h.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:M,"binary-state-sort":""},{loading:l(()=>[e(Be,{showing:"",color:"red"})]),"no-data":l(({icon:S,message:N,filter:Q})=>[a("div",nr,[a("span",null,i(N)+" "+i(Q?" with term "+Q:""),1)])]),body:l(S=>[e(ke,{props:S},{default:l(()=>[e(B,{key:"datetime",props:S,class:"wrap-column"},{default:l(()=>[a("div",null,[y(" #"+i(S.row.id)+" - ",1),e(C,{name:"calendar_today"}),y(" "+i(t(Ze)(S.row.datetime))+" ",1),a("span",sr,"("+i(t(mt)(S.row.datetime))+")",1)]),e(Lt,null,{default:l(()=>[e(C,{name:"category"}),y(" "+i(S.row.type_label),1)]),_:2},1024),S.row.ref_type?(w(),E("div",rr,[e(C,{name:"link"}),y(" "+i(S.row.ref_type_label)+" #"+i(S.row.ref_id),1)])):j("",!0),t(n).screen.gt.sm?j("",!0):(w(),E(W,{key:1},[S.row.notes?(w(),E("div",ir,[e(C,{name:"notes"}),y(" "+i(S.row.notes),1)])):j("",!0),S.row.category?(w(),E("div",ur,[e(C,{name:"category"}),y(" "+i(S.row.category.name),1)])):j("",!0),a("div",null,[e(C,{name:"money"}),y(" Rp. "+i(t(st)(S.row.amount)+t(F)(S.row.amount)),1)])],64))]),_:2},1032,["props"]),e(B,{key:"account",props:S},{default:l(()=>{var N;return[y(i((N=S.row.account)==null?void 0:N.name),1)]}),_:2},1032,["props"]),e(B,{key:"notes",props:S},{default:l(()=>[y(i(S.row.notes),1)]),_:2},1032,["props"]),e(B,{key:"amount",props:S,style:{"text-align":"right"}},{default:l(()=>[y(i(t(st)(S.row.amount)+t(F)(S.row.amount)),1)]),_:2},1032,["props"]),e(B,{key:"action",props:S},{default:l(()=>[a("div",dr,[e(O,{disabled:!t(et)(T.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:P[5]||(P[5]=J(()=>{},["stop"]))},{default:l(()=>[e(Ge,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[Y((w(),A(Z,{onClick:J(N=>_(S.row),["stop"]),clickable:""},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:l(()=>P[7]||(P[7]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[f.value?{name:"header",fn:l(()=>[e(Fe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:l(()=>[a("div",ar,[e(re,{modelValue:u.year,"onUpdate:modelValue":[P[2]||(P[2]=S=>u.year=S),V],options:b,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),u.year!="all"?(w(),A(re,{key:0,modelValue:u.month,"onUpdate:modelValue":[P[3]||(P[3]=S=>u.month=S),V],options:k,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:u.year===null},null,8,["modelValue","disable"])):j("",!0),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:u.search,"onUpdate:modelValue":P[4]||(P[4]=S=>u.search=S),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},cr=Object.freeze(Object.defineProperty({__proto__:null,default:mr},Symbol.toStringTag,{value:"Module"})),pr={class:"q-gutter-sm"},fr={class:"col col-md-6 q-pa-xs"},gr={__name:"Editor",setup(d){const n=be(),f=(n.props.data.id?"Edit":"Tambah")+" Kategori Operasional",o=Pe({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description}),s=()=>Ne({form:o,url:route("admin.operational-cost-category.save")});return(m,p)=>{const g=L("i-head"),r=L("authenticated-layout");return w(),E(W,null,[e(g,{title:f}),e(r,null,{title:l(()=>[y(i(f))]),"left-button":l(()=>[a("div",pr,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:p[0]||(p[0]=c=>m.$inertia.get(m.route("admin.operational-cost-category.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[a("div",fr,[e(Re,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(ze)},{default:l(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":p[1]||(p[1]=c=>t(o).id=c)},null,512),[[tt,t(o).id]]),e(X,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":p[2]||(p[2]=c=>t(o).name=c),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[c=>c&&c.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(o).description,"onUpdate:modelValue":p[3]||(p[3]=c=>t(o).description=c),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.description,"error-message":t(o).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(O,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(O,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:p[4]||(p[4]=c=>t(K).get(m.route("admin.operational-cost-category.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},br=Object.freeze(Object.defineProperty({__proto__:null,default:gr},Symbol.toStringTag,{value:"Module"})),vr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},_r={class:"q-pa-xs"},yr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},wr={key:0,class:"text-grey-8"},kr={class:"flex justify-end"},Cl="Kategori Biaya Operasional",hr={__name:"Index",setup(d){const n=he(),f=x(!1),o=x([]),s=x(!0),m=x(null),p=x(null),g=Ke(p),r=Oe({search:"",...Me()}),c=x({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),b=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];we(()=>{u()});const k=$=>Xe({message:`Hapus Kategori Biaya ${$.name}?`,url:route("admin.operational-cost-category.delete",$.id),fetchItemsCallback:u,loading:s}),u=($=null)=>{Ue({pagination:c,filter:r,props:$,rows:o,url:route("admin.operational-cost-category.data"),loading:s,tableRef:m})},v=ee(()=>n.screen.gt.sm?b:b.filter($=>$.name==="name"||$.name==="action"));return($,_)=>{const M=L("i-head"),V=L("authenticated-layout");return w(),E(W,null,[e(M,{title:Cl}),e(V,null,Qe({title:l(()=>[y(i(Cl))]),"right-button":l(()=>[e(O,{icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:_[0]||(_[0]=h=>f.value=!f.value)},null,8,["icon"]),e(O,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:_[1]||(_[1]=h=>t(K).get($.route("admin.operational-cost-category.add")))})]),default:l(()=>[a("div",_r,[e($e,{ref_key:"tableRef",ref:m,class:"full-height-table",style:We({height:t(g)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":_[4]||(_[4]=h=>c.value=h),filter:r.search,loading:s.value,columns:v.value,rows:o.value,"rows-per-page-options":[10,25,50],onRequest:u,"binary-state-sort":""},{loading:l(()=>[e(Be,{showing:"",color:"red"})]),"no-data":l(({icon:h,message:T,filter:P})=>[a("div",yr,[a("span",null,i(T)+" "+i(P?" with term "+P:""),1)])]),body:l(h=>[e(ke,{props:h},{default:l(()=>[e(B,{key:"name",props:h,class:"wrap-column"},{default:l(()=>[y(i(h.row.name)+" ",1),t(n).screen.gt.sm?j("",!0):(w(),E(W,{key:0},[h.row.description?(w(),E("div",wr,[e(C,{name:"description"}),y(" "+i(h.row.description),1)])):j("",!0)],64))]),_:2},1032,["props"]),e(B,{key:"description",props:h,class:"wrap-column"},{default:l(()=>[y(i(h.row.description),1)]),_:2},1032,["props"]),e(B,{key:"action",props:h},{default:l(()=>[a("div",kr,[e(O,{disabled:!t(et)($.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:_[3]||(_[3]=J(()=>{},["stop"]))},{default:l(()=>[e(Ge,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[Y((w(),A(Z,{clickable:"",onClick:J(T=>t(K).get($.route("admin.operational-cost-category.duplicate",h.row.id)),["stop"])},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:l(()=>_[5]||(_[5]=[y("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]]),Y((w(),A(Z,{clickable:"",onClick:J(T=>t(K).get($.route("admin.operational-cost-category.edit",h.row.id)),["stop"])},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:l(()=>_[6]||(_[6]=[y("Edit")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]]),Y((w(),A(Z,{onClick:J(T=>k(h.row),["stop"]),clickable:""},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:l(()=>_[7]||(_[7]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[f.value?{name:"header",fn:l(()=>[e(Fe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:l(()=>[a("div",vr,[e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:r.search,"onUpdate:modelValue":_[2]||(_[2]=h=>r.search=h),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},$r=Object.freeze(Object.defineProperty({__proto__:null,default:hr},Symbol.toStringTag,{value:"Module"})),Sr={class:"q-gutter-sm"},xr={class:"q-gutter-sm"},Vr={class:"col col-md-6 q-pa-xs"},Cr={class:"row"},qr={class:"detail"},Tr={key:1,class:"text-grey-9"},Pr={class:"detail"},ql="Rincian Teknisi",Or={__name:"Detail",setup(d){const n=be();return(f,o)=>{const s=L("i-head"),m=L("i-link"),p=L("authenticated-layout");return w(),E(W,null,[e(s,{title:ql}),e(p,null,{title:l(()=>[y(i(ql))]),"left-button":l(()=>[a("div",Sr,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=g=>f.$inertia.get(f.route("admin.operational-cost.index")))})])]),"right-button":l(()=>[a("div",xr,[e(O,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=g=>t(K).get(f.route("admin.operational-cost.edit",{id:t(n).props.data.id})))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[a("div",Vr,[a("div",Cr,[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>[o[12]||(o[12]=a("div",{class:"text-subtitle1 text-bold text-grey-8"}," Profil Teknisi ",-1)),a("table",qr,[a("tbody",null,[a("tr",null,[o[2]||(o[2]=a("td",{style:{width:"125px"}},"Akun Pengguna",-1)),o[3]||(o[3]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,[t(n).props.data.user?(w(),A(m,{key:0,href:f.route("admin.user.detail",{id:t(n).props.data.user.id})},{default:l(()=>[y(i(t(n).props.data.user.username),1)]),_:1},8,["href"])):(w(),E("span",Tr,"Tidak terhubung"))])]),a("tr",null,[o[4]||(o[4]=a("td",null,"Nama Teknisi",-1)),o[5]||(o[5]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.name),1)]),a("tr",null,[o[6]||(o[6]=a("td",null,"No. Telepon",-1)),o[7]||(o[7]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.phone),1)]),a("tr",null,[o[8]||(o[8]=a("td",null,"Email",-1)),o[9]||(o[9]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.email),1)]),a("tr",null,[o[10]||(o[10]=a("td",null,"Alamat",-1)),o[11]||(o[11]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.address),1)])])])]),_:1}),e(te,null,{default:l(()=>o[13]||(o[13]=[a("div",{class:"text-subtitle1 text-bold text-grey-8"}," Statistik Servis ",-1),a("table",{class:"detail"},[a("tbody",null,[a("tr",null,[a("td",{style:{width:"125px"}},"Servis Ditangani"),a("td",{style:{width:"1px"}},":"),a("td",null,"0")]),a("tr",null,[a("td",null,"Servis Sukses"),a("td",null,":"),a("td",null,"0")]),a("tr",null,[a("td",null,"Servis Gagal"),a("td",null,":"),a("td",null,"0")])])],-1)])),_:1}),e(te,null,{default:l(()=>[o[18]||(o[18]=a("div",{class:"text-subtitle1 text-bold text-grey-8"}," Informasi Ekstra ",-1)),a("table",Pr,[a("tbody",null,[a("tr",null,[o[14]||(o[14]=a("td",{style:{width:"125px"}},"Dibuat",-1)),o[15]||(o[15]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,i(f.$dayjs(new Date(t(n).props.data.created_at)).format("DD MMMM YY HH:mm:ss")),1)]),a("tr",null,[o[16]||(o[16]=a("td",null,"Diperbarui",-1)),o[17]||(o[17]=a("td",null,":",-1)),a("td",null,i(f.$dayjs(new Date(t(n).props.data.updated_at)).format("DD MMMM YY HH:mm:ss")),1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},Ir=Object.freeze(Object.defineProperty({__proto__:null,default:Or},Symbol.toStringTag,{value:"Module"})),Er={class:"row items-center justify-end"},Rr={__name:"DatePicker",props:{modelValue:{type:String,required:!0},label:{type:String,default:""},readonly:{type:Boolean,default:!1},disable:{type:Boolean,default:!1},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},rules:{type:Array,default:[]},mask:{type:String,default:"####-##-##"}},emits:["update:modelValue"],setup(d,{emit:n}){const f=d,o=n,s=x("");Te(()=>f.modelValue,g=>{const[r,c]=g.split(" ");s.value=r||""});const m=x(f.modelValue),p=()=>{let g="";s.value&&(g=`${s.value} 00:00`),o("update:modelValue",g),m.value=g};return(g,r)=>(w(),A(X,{modelValue:m.value,"onUpdate:modelValue":r[1]||(r[1]=c=>m.value=c),label:f.label,readonly:f.readonly,disable:f.disable,error:f.error,rules:[...f.rules],"error-message":d.errorMessage,mask:f.mask},{append:l(()=>[e(C,{name:"event",class:"cursor-pointer"},{default:l(()=>[e(Na,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ma,{modelValue:s.value,"onUpdate:modelValue":[r[0]||(r[0]=c=>s.value=c),p],mask:"YYYY-MM-DD"},{default:l(()=>[a("div",Er,[Y(e(O,{label:"Close",color:"primary",flat:""},null,512),[[ie]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label","readonly","disable","error","rules","error-message","mask"]))}},Nr=ft(Rr,[["__scopeId","data-v-af4e8707"]]);function Xl(d,n=!1){const f=d.map(p=>({value:p.id,label:p.name})),o=n?[{value:"all",label:"Semua"},...f]:f,s=x([...o]);return{filteredCostCategories:s,filterCostCategory:(p,g)=>{const r=p.toLowerCase();g(()=>{s.value=o.filter(c=>c.label.toLowerCase().includes(r))})},costCategoryOptions:o}}const Mr={class:"q-gutter-sm"},Ur={class:"col col-md-6 q-pa-xs"},Ar={__name:"Editor",setup(d){const n=be(),f=(n.props.data.id?"Edit":"Tambah")+" Biaya Operasional",{costCategoryOptions:o}=Xl(n.props.categories),s=x(o),m=x([...s.value]),p=Pe({id:n.props.data.id,category_id:n.props.data.category_id,date:n.props.data.date,description:n.props.data.description,notes:n.props.data.notes,amount:parseFloat(n.props.data.amount)}),g=()=>Ne({form:p,url:route("admin.operational-cost.save")}),r=(c,b)=>{b(()=>{m.value=s.value.filter(k=>k.label.toLowerCase().includes(c.toLowerCase()))})};return(c,b)=>{const k=L("i-head"),u=L("authenticated-layout");return w(),E(W,null,[e(k,{title:f}),e(u,null,{title:l(()=>[y(i(f))]),"left-button":l(()=>[a("div",Mr,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=v=>c.$inertia.get(c.route("admin.operational-cost.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[a("div",Ur,[e(Re,{class:"row",onSubmit:J(g,["prevent"]),onValidationError:t(ze)},{default:l(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":b[1]||(b[1]=v=>t(p).id=v)},null,512),[[tt,t(p).id]]),e(re,{autofocus:"",modelValue:t(p).category_id,"onUpdate:modelValue":b[2]||(b[2]=v=>t(p).category_id=v),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:m.value,"map-options":"","emit-value":"",onFilter:r,error:!!t(p).errors.category_id,disable:t(p).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(Z,null,{default:l(()=>[e(I,null,{default:l(()=>b[8]||(b[8]=[y("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","error","disable"]),e(Nr,{modelValue:t(p).date,"onUpdate:modelValue":b[3]||(b[3]=v=>t(p).date=v),label:"Tanggal",error:!!t(p).errors.date,disable:t(p).processing,"hide-bottom-space":""},null,8,["modelValue","error","disable"]),e(X,{modelValue:t(p).description,"onUpdate:modelValue":b[4]||(b[4]=v=>t(p).description=v),modelModifiers:{trim:!0},label:"Deskripsi","lazy-rules":"",error:!!t(p).errors.description,disable:t(p).processing,"error-message":t(p).errors.description,rules:[v=>v&&v.length>0||"Deskripsi harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(Ie,{modelValue:t(p).amount,"onUpdate:modelValue":b[5]||(b[5]=v=>t(p).amount=v),label:"Jumlah",lazyRules:"",disable:t(p).processing,error:!!t(p).errors.amount,errorMessage:t(p).errors.amount,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(X,{modelValue:t(p).notes,"onUpdate:modelValue":b[6]||(b[6]=v=>t(p).notes=v),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(p).processing,error:!!t(p).errors.notes,"error-message":t(p).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(O,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(p).processing},null,8,["disable"]),e(O,{icon:"cancel",label:"Batal",disable:t(p).processing,onClick:b[7]||(b[7]=v=>t(K).get(c.route("admin.operational-cost.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Dr=Object.freeze(Object.defineProperty({__proto__:null,default:Ar},Symbol.toStringTag,{value:"Module"})),jr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Br={class:"q-pa-xs"},Lr={class:"full-width row flex-center text-grey-8 q-gutter-sm"},zr={class:"flex items-center q-gutter-xs"},Fr={key:0},Hr={key:0},Yr={class:"flex justify-end"},Tl="Biaya Operasional",Kr={__name:"Index",setup(d){const n=be(),f=he(),o=x(!1),s=x(null),m=x(null),p=Ke(m),g=x([]),r=x(!0),c=new Date().getFullYear(),b=new Date().getMonth()+1,k=[{label:"Semua Tahun",value:null},{label:`${c}`,value:c},...kt(c-2,c-1).reverse()],u=[{value:null,label:"Semua Bulan"},...ht()],{costCategoryOptions:v}=Xl(n.props.categories),$=[{value:"all",label:"Semua"},{value:"null",label:"Tanpa Kategori"},...v],_=Oe({search:"",category_id:"all",year:c,month:b,...Me()}),M=x({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"date",descending:!0}),V=[{name:"date",label:"Tanggal",field:"date",align:"left",sortable:!0},{name:"description",label:"Deskripsi",field:"description",align:"left",sortable:!0},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right",sortable:!0},{name:"action",align:"right"}];we(()=>{T()});const h=R=>Xe({message:`Hapus Biaya ${R.description}?`,url:route("admin.operational-cost.delete",R.id),fetchItemsCallback:T,loading:r}),T=(R=null)=>{Ue({pagination:M,filter:_,props:R,rows:g,url:route("admin.operational-cost.data"),loading:r,tableRef:s})},P=()=>{T()},q=ee(()=>f.screen.gt.sm?V:V.filter(R=>R.name==="date"||R.name==="action"));return Te(()=>_.year,R=>{R===null&&(_.month=null)}),(R,S)=>{const N=L("i-head"),Q=L("authenticated-layout");return w(),E(W,null,[e(N,{title:Tl}),e(Q,null,Qe({title:l(()=>[y(i(Tl))]),"right-button":l(()=>[e(O,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:S[0]||(S[0]=U=>o.value=!o.value)},null,8,["icon"]),e(O,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:S[1]||(S[1]=U=>t(K).get(R.route("admin.operational-cost.add")))})]),default:l(()=>[a("div",Br,[e($e,{ref_key:"tableRef",ref:s,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:M.value,"onUpdate:pagination":S[7]||(S[7]=U=>M.value=U),filter:_.search,loading:r.value,columns:q.value,rows:g.value,"rows-per-page-options":[10,25,50],style:We({height:t(p)}),onRequest:T,"binary-state-sort":""},{loading:l(()=>[e(Be,{showing:"",color:"red"})]),"no-data":l(({icon:U,message:le,filter:ae})=>[a("div",Lr,[a("span",null,i(le)+" "+i(ae?" with term "+ae:""),1)])]),body:l(U=>[e(ke,{props:U},{default:l(()=>[e(B,{key:"date",props:U,class:"wrap-column"},{default:l(()=>[a("div",zr,[e(C,{name:"calendar_today"}),a("div",null,i(t(pt)(U.row.date).format("DD/MM/YYYY")),1)]),t(f).screen.gt.sm?j("",!0):(w(),E(W,{key:0},[e(Je,{icon:"notes",text:U.row.notes},null,8,["text"]),U.row.category?(w(),E("div",Fr,[e(C,{name:"category"}),y(" "+i(U.row.category.name),1)])):j("",!0),a("div",null,[e(C,{name:"paid"}),y(" Rp. "+i(t(F)(U.row.amount)),1)])],64))]),_:2},1032,["props"]),e(B,{key:"description",props:U},{default:l(()=>[y(i(U.row.description)+" ",1),U.row.category?(w(),E("div",Hr,[e(C,{name:"category"}),y(" "+i(U.row.category.name),1)])):j("",!0)]),_:2},1032,["props"]),e(B,{key:"amount",props:U,style:{"text-align":"right"}},{default:l(()=>[y(i(t(F)(U.row.amount)),1)]),_:2},1032,["props"]),e(B,{key:"action",props:U},{default:l(()=>[a("div",Yr,[e(O,{disabled:!t(et)(R.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:S[6]||(S[6]=J(()=>{},["stop"]))},{default:l(()=>[e(Ge,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[Y((w(),A(Z,{clickable:"",onClick:J(le=>t(K).get(R.route("admin.operational-cost.duplicate",U.row.id)),["stop"])},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:l(()=>S[8]||(S[8]=[y(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]]),Y((w(),A(Z,{clickable:"",onClick:J(le=>t(K).get(R.route("admin.operational-cost.edit",U.row.id)),["stop"])},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:l(()=>S[9]||(S[9]=[y("Edit")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]]),Y((w(),A(Z,{onClick:J(le=>h(U.row),["stop"]),clickable:""},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:l(()=>S[10]||(S[10]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Fe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:m},{default:l(()=>[a("div",jr,[e(re,{modelValue:_.year,"onUpdate:modelValue":[S[2]||(S[2]=U=>_.year=U),P],options:k,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(re,{modelValue:_.month,"onUpdate:modelValue":[S[3]||(S[3]=U=>_.month=U),P],options:u,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:_.year===null},null,8,["modelValue","disable"]),e(re,{modelValue:_.category_id,"onUpdate:modelValue":[S[4]||(S[4]=U=>_.category_id=U),P],options:$,label:"Kategori",dense:"",class:"custom-select col-xs-12 col-sm-3","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:_.search,"onUpdate:modelValue":S[5]||(S[5]=U=>_.search=U),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Qr=Object.freeze(Object.defineProperty({__proto__:null,default:Kr},Symbol.toStringTag,{value:"Module"})),Wr={class:"q-gutter-sm"},Jr={class:"col col-md-6 q-pa-sm"},Gr={__name:"Editor",setup(d){const n=be(),f=(n.props.data.id?"Edit":"Tambah")+" Kategori Produk",o=Pe({id:n.props.data.id,name:n.props.data.name,description:n.props.data.description}),s=()=>Ne({form:o,url:route("admin.product-category.save")});return(m,p)=>{const g=L("i-head"),r=L("authenticated-layout");return w(),E(W,null,[e(g,{title:f}),e(r,null,{title:l(()=>[y(i(f))]),"left-button":l(()=>[a("div",Wr,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:p[0]||(p[0]=c=>m.$inertia.get(m.route("admin.product-category.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[a("div",Jr,[e(Re,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(ze)},{default:l(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":p[1]||(p[1]=c=>t(o).id=c)},null,512),[[tt,t(o).id]]),e(X,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":p[2]||(p[2]=c=>t(o).name=c),modelModifiers:{trim:!0},label:"Nama Kategori","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[c=>c&&c.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(o).description,"onUpdate:modelValue":p[3]||(p[3]=c=>t(o).description=c),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.description,"error-message":t(o).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(O,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(O,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:p[4]||(p[4]=c=>t(K).get(m.route("admin.product-category.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Xr=Object.freeze(Object.defineProperty({__proto__:null,default:Gr},Symbol.toStringTag,{value:"Module"})),Zr={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},ei={class:"q-pa-xs"},ti={class:"full-width row flex-center text-grey-8 q-gutter-sm"},li={key:0,class:"text-grey-8"},ai={class:"flex justify-end"},Pl="Kategori Produk",oi={__name:"Index",setup(d){const n=he(),f=x(!1),o=x([]),s=x(!0),m=x(null),p=x(null),g=Ke(p),r=Oe({search:"",...Me()}),c=x({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),b=[{name:"name",label:"Nama Kategori",field:"name",align:"left",sortable:!0},{name:"description",label:"Catatan",field:"description",align:"left"},{name:"action",align:"right"}];we(()=>{u()});const k=$=>Xe({message:`Hapus Kategori ${$.name}?`,url:route("admin.product-category.delete",$.id),fetchItemsCallback:u,loading:s}),u=($=null)=>{Ue({pagination:c,filter:r,props:$,rows:o,url:route("admin.product-category.data"),loading:s,tableRef:m})},v=ee(()=>n.screen.gt.sm?b:b.filter($=>$.name==="name"||$.name==="action"));return($,_)=>{const M=L("i-head"),V=L("authenticated-layout");return w(),E(W,null,[e(M,{title:Pl}),e(V,null,Qe({title:l(()=>[y(i(Pl))]),"right-button":l(()=>[e(O,{icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:_[0]||(_[0]=h=>f.value=!f.value)},null,8,["icon"]),e(O,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:_[1]||(_[1]=h=>t(K).get($.route("admin.product-category.add")))})]),default:l(()=>[a("div",ei,[e($e,{ref_key:"tableRef",ref:m,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":_[4]||(_[4]=h=>c.value=h),filter:r.search,loading:s.value,columns:v.value,rows:o.value,"rows-per-page-options":[10,25,50],style:We({height:t(g)}),onRequest:u,"binary-state-sort":""},{loading:l(()=>[e(Be,{showing:"",color:"red"})]),"no-data":l(({icon:h,message:T,filter:P})=>[a("div",ti,[a("span",null,i(T)+" "+i(P?" with term "+P:""),1)])]),body:l(h=>[e(ke,{props:h},{default:l(()=>[e(B,{key:"name",props:h,class:"wrap-column"},{default:l(()=>[y(i(h.row.name)+" ",1),t(n).screen.gt.sm?j("",!0):(w(),E(W,{key:0},[h.row.description?(w(),E("div",li,[e(C,{name:"description"}),y(" "+i(h.row.description),1)])):j("",!0)],64))]),_:2},1032,["props"]),e(B,{key:"description",props:h,class:"wrap-column"},{default:l(()=>[y(i(h.row.description),1)]),_:2},1032,["props"]),e(B,{key:"action",props:h},{default:l(()=>[a("div",ai,[e(O,{disabled:!t(et)($.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:_[3]||(_[3]=J(()=>{},["stop"]))},{default:l(()=>[e(Ge,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[Y((w(),A(Z,{clickable:"",onClick:J(T=>t(K).get($.route("admin.product-category.duplicate",h.row.id)),["stop"])},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:l(()=>_[5]||(_[5]=[y("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]]),Y((w(),A(Z,{clickable:"",onClick:J(T=>t(K).get($.route("admin.product-category.edit",h.row.id)),["stop"])},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:l(()=>_[6]||(_[6]=[y("Edit")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]]),Y((w(),A(Z,{onClick:J(T=>k(h.row),["stop"]),clickable:""},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:l(()=>_[7]||(_[7]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[f.value?{name:"header",fn:l(()=>[e(Fe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:l(()=>[a("div",Zr,[e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:r.search,"onUpdate:modelValue":_[2]||(_[2]=h=>r.search=h),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},ni=Object.freeze(Object.defineProperty({__proto__:null,default:oi},Symbol.toStringTag,{value:"Module"})),si={class:"q-gutter-sm"},ri={class:"q-gutter-sm"},ii={class:"row justify-center"},ui={class:"col col-md-6 q-pa-xs"},di={class:"row"},mi={class:"detail"},ci={key:0},pi={key:1},fi={class:"detail"},gi={class:"detail"},bi={key:0},vi={key:1},_i={class:"detail"},yi={class:"full-width row flex-center text-grey-8 q-gutter-sm"},wi={class:"flex q-gutter-sm"},ki={class:""},hi={__name:"Detail",setup(d){const n=be(),f=`Rincian Produk #${n.props.data.id}`,o=x("main"),s=x([]),m=x(!0),p=Oe({...Me()}),g=x({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),r=[{name:"id",label:"#",field:"id",align:"left",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!0},{name:"quantity",label:"Jumlah",field:"quantity",align:"center",sortable:!0}];we(()=>{c()});const c=(u=null)=>Ue({pagination:g,filter:p,props:u,rows:s,url:route("admin.stock-movement.data",{product_id:n.props.data.id}),loading:m}),b=he(),k=ee(()=>b.screen.gt.sm?r:r.filter(u=>u.name==="id"));return(u,v)=>{const $=L("i-head"),_=L("i-link"),M=L("authenticated-layout");return w(),E(W,null,[e($,{title:f}),e(M,null,{title:l(()=>[y(i(f))]),"left-button":l(()=>[a("div",si,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:v[0]||(v[0]=V=>u.$inertia.get(u.route("admin.product.index")))})])]),"right-button":l(()=>[a("div",ri,[e(O,{icon:"edit",dense:"",color:"primary",onClick:v[1]||(v[1]=V=>t(K).get(u.route("admin.product.edit",{id:t(n).props.data.id})))})])]),default:l(()=>[a("div",ii,[a("div",ui,[a("div",di,[e(de,{square:"",flat:"",bordered:"",class:"q-card col"},{default:l(()=>[e(ll,{modelValue:o.value,"onUpdate:modelValue":v[2]||(v[2]=V=>o.value=V),align:"left"},{default:l(()=>[e(yt,{name:"main",label:"Info Utama"}),e(yt,{name:"history",label:"Riwayat Stok"})]),_:1},8,["modelValue"]),e(al,{modelValue:o.value,"onUpdate:modelValue":v[4]||(v[4]=V=>o.value=V)},{default:l(()=>[e(wt,{name:"main"},{default:l(()=>[v[45]||(v[45]=a("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Produk ",-1)),a("table",mi,[a("tbody",null,[a("tr",null,[v[5]||(v[5]=a("td",{style:{width:"120px"}},"ID",-1)),v[6]||(v[6]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,"# "+i(t(n).props.data.id),1)]),a("tr",null,[v[7]||(v[7]=a("td",null,"Nama Produk",-1)),v[8]||(v[8]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.name),1)]),a("tr",null,[v[9]||(v[9]=a("td",null,"Barcode",-1)),v[10]||(v[10]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.barcode),1)]),a("tr",null,[v[11]||(v[11]=a("td",null,"Jenis Produk",-1)),v[12]||(v[12]=a("td",null,":",-1)),a("td",null,i(u.$CONSTANTS.PRODUCT_TYPES[t(n).props.data.type]),1)]),a("tr",null,[v[13]||(v[13]=a("td",null,"Kategori",-1)),v[14]||(v[14]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.category?t(n).props.data.category.name:"--Tidak memiliki kategori--"),1)]),a("tr",null,[v[15]||(v[15]=a("td",null,"Supplier",-1)),v[16]||(v[16]=a("td",null,":",-1)),a("td",null,[t(n).props.data.supplier?(w(),A(_,{key:0,href:u.route("admin.supplier.detail",{id:t(n).props.data.supplier.id})},{default:l(()=>[y(i("#"+t(n).props.data.supplier.id+" - "+t(n).props.data.supplier.name),1)]),_:1},8,["href"])):(w(),E(W,{key:1},[y(i("--Tidak memiliki supplier--"))],64))])]),a("tr",null,[v[17]||(v[17]=a("td",null,"Status",-1)),v[18]||(v[18]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)]),t(n).props.data.created_at?(w(),E("tr",ci,[v[20]||(v[20]=a("td",null,"Dibuat Oleh",-1)),v[21]||(v[21]=a("td",null,":",-1)),a("td",null,[t(n).props.data.creator?(w(),E(W,{key:0},[e(_,{href:u.route("admin.user.detail",{id:t(n).props.data.creator})},{default:l(()=>[y(i(t(n).props.data.creator.username),1)]),_:1},8,["href"]),v[19]||(v[19]=y(" - "))],64)):j("",!0),y(" "+i(t(Ze)(t(n).props.data.created_at)),1)])])):j("",!0),t(n).props.data.updater?(w(),E("tr",pi,[v[23]||(v[23]=a("td",null,"Diperbarui oleh",-1)),v[24]||(v[24]=a("td",null,":",-1)),a("td",null,[t(n).props.data.updater?(w(),E(W,{key:0},[e(_,{href:u.route("admin.user.detail",{id:t(n).props.data.updater})},{default:l(()=>[y(i(t(n).props.data.updater.username),1)]),_:1},8,["href"]),v[22]||(v[22]=y(" - "))],64)):j("",!0),y(" "+i(t(Ze)(t(n).props.data.updated_at)),1)])])):j("",!0)])]),v[46]||(v[46]=a("div",{class:"text-subtitle1 q-pt-lg text-bold text-grey-9"}," Info Inventori ",-1)),a("table",fi,[a("tbody",null,[a("tr",null,[v[25]||(v[25]=a("td",{style:{width:"120px"}},"Stok",-1)),v[26]||(v[26]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,i(t(F)(t(n).props.data.stock))+" "+i(t(n).props.data.uom),1)]),a("tr",null,[v[27]||(v[27]=a("td",null,"Stok Minimum",-1)),v[28]||(v[28]=a("td",null,":",-1)),a("td",null,i(t(F)(t(n).props.data.min_stock))+" "+i(t(n).props.data.uom),1)]),a("tr",null,[v[29]||(v[29]=a("td",null,"Stok Maksimum",-1)),v[30]||(v[30]=a("td",null,":",-1)),a("td",null,i(t(F)(t(n).props.data.max_stock))+" "+i(t(n).props.data.uom),1)]),a("tr",null,[v[31]||(v[31]=a("td",null,"Barcode",-1)),v[32]||(v[32]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.barcode),1)])])]),v[47]||(v[47]=a("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Harga ",-1)),a("table",gi,[a("tbody",null,[a("tr",null,[v[33]||(v[33]=a("td",null,"Opsi Harga",-1)),v[34]||(v[34]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.price_editable?"Dapat":"Tidak dapat")+" diubah saat penjualan. ",1)]),u.$page.props.auth.user.role==u.$CONSTANTS.USER_ROLE_ADMIN?(w(),E("tr",bi,[v[35]||(v[35]=a("td",{style:{width:"120px"}},"Harga Beli",-1)),v[36]||(v[36]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,"Rp. "+i(t(F)(t(n).props.data.cost)),1)])):j("",!0),a("tr",null,[v[37]||(v[37]=a("td",null,"Harga Jual",-1)),v[38]||(v[38]=a("td",null,":",-1)),a("td",null,"Rp. "+i(t(F)(t(n).props.data.price)),1)]),u.$page.props.auth.user.role==u.$CONSTANTS.USER_ROLE_ADMIN?(w(),E("tr",vi,[v[39]||(v[39]=a("td",null,"Margin",-1)),v[40]||(v[40]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.price>0?t(F)((t(n).props.data.price-t(n).props.data.cost)/t(n).props.data.price*100,2):0)+" % ",1)])):j("",!0)])]),v[48]||(v[48]=a("div",{class:"text-subtitle1 q-pt-md text-bold text-grey-9"}," Info Deskripsi & Catatan ",-1)),a("table",_i,[a("tbody",null,[a("tr",null,[v[41]||(v[41]=a("td",{style:{width:"120px"}},"Deskirpsi",-1)),v[42]||(v[42]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,i(t(n).props.data.description),1)]),a("tr",null,[v[43]||(v[43]=a("td",null,"Catatan",-1)),v[44]||(v[44]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.notes),1)])])])]),_:1}),e(wt,{name:"history"},{default:l(()=>[e($e,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table full-height-table2","row-key":"id","virtual-scroll":"",pagination:g.value,"onUpdate:pagination":v[3]||(v[3]=V=>g.value=V),filter:p.search,loading:m.value,columns:k.value,rows:s.value,"rows-per-page-options":[10,25,50],onRequest:c,"binary-state-sort":""},{loading:l(()=>[e(Be,{showing:"",color:"red"})]),"no-data":l(({icon:V,message:h,filter:T})=>[a("div",yi,[a("span",null,i(h)+" "+i(T?" with term "+T:""),1)])]),body:l(V=>[e(ke,{props:V},{default:l(()=>[e(B,{key:"id",props:V},{default:l(()=>[a("div",wi,[a("div",null,[a("b",null,"#"+i(V.row.id),1)]),a("div",null," - "+i(u.$dayjs(new Date(V.row.created_at)).format("DD/MM/YYYY hh:mm:ss")),1),a("div",null," - "+i(V.row.created_by?V.row.created_by.username:"--"),1)]),t(b).screen.lt.md?(w(),E(W,{key:0},[a("div",ki,i(u.$CONSTANTS.STOCKMOVEMENT_REFTYPES[V.row.ref_type]),1),a("div",{class:ye(V.row.quantity<0?"text-red-10":V.row.quantity>0?"text-green-10":"")},[e(C,{name:V.row.quantity<0?"arrow_downward":V.row.quantity>0?"arrow_upward":""},null,8,["name"]),y(" "+i(t(F)(V.row.quantity)),1)],2)],64)):j("",!0)]),_:2},1032,["props"]),e(B,{key:"type",props:V},{default:l(()=>[y(i(u.$CONSTANTS.STOCKMOVEMENT_REFTYPES[V.row.ref_type]),1)]),_:2},1032,["props"]),e(B,{key:"quantity",props:V},{default:l(()=>[a("div",{class:ye(V.row.quantity<0?"text-red-10":V.row.quantity>0?"text-green-10":"")},[e(C,{name:V.row.quantity<0?"arrow_downward":V.row.quantity>0?"arrow_upward":""},null,8,["name"]),y(" "+i(t(F)(V.row.quantity)),1)],2)]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])])]),_:1})],64)}}},$i=Object.freeze(Object.defineProperty({__proto__:null,default:hi},Symbol.toStringTag,{value:"Module"}));function Zl(d,n=!1){const f=d.map(p=>({value:p.id,label:p.name})),o=n?[{value:"all",label:"Semua"},...f]:f,s=x([...o]);return{filteredCategories:s,filterCategories:(p,g)=>{const r=p.toLowerCase();g(()=>{s.value=o.filter(c=>c.label.toLowerCase().includes(r))})},categories:o}}function ol(d,n=!1){const f=d.map(p=>({value:p.id,label:"#"+p.id+" - "+p.name})),o=n?[{value:"all",label:"Semua"},...f]:f,s=x([...o]);return{filteredSuppliers:s,filterSupplierFn:(p,g)=>{g(()=>{s.value=o.filter(r=>r.label.toLowerCase().includes(p.toLowerCase()))})},suppliers:o}}const Si={style:{"margin-left":"-10px"}},Zt={__name:"CheckBox",props:{modelValue:{type:[Boolean,Array],default:!1},label:{type:String,default:""},disable:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(d){return(n,f)=>(w(),E("div",Si,[e(qt,{class:"full-width q-pl-none","model-value":d.modelValue,"onUpdate:modelValue":f[0]||(f[0]=o=>n.$emit("update:modelValue",o)),disable:d.disable,label:d.label},null,8,["model-value","disable","label"])]))}},xi={class:"q-gutter-sm"},Vi={class:"col col-md-6 q-pa-xs"},Ci={__name:"Editor",setup(d){const n=be(),f=(n.props.data.id?"Edit":"Tambah")+" Produk",o=je(window.CONSTANTS.PRODUCT_TYPES),s=Pe({id:n.props.data.id,category_id:n.props.data.category_id,supplier_id:n.props.data.supplier_id,type:n.props.data.type,name:n.props.data.name,barcode:n.props.data.barcode,description:n.props.data.description,stock:parseFloat(n.props.data.stock),min_stock:parseFloat(n.props.data.min_stock),max_stock:parseFloat(n.props.data.max_stock),uom:n.props.data.uom,cost:parseFloat(n.props.data.cost),price:parseFloat(n.props.data.price),active:!!n.props.data.active,price_editable:!!n.props.data.price_editable,notes:n.props.data.notes}),m=()=>Ne({form:s,url:route("admin.product.save")}),{filteredCategories:p,filterCategories:g}=Zl(n.props.categories),{filteredSuppliers:r,filterSuppliers:c}=ol(n.props.suppliers),b=ee(()=>s.price>0?(s.price-s.cost)/s.price*100:0);return(k,u)=>{const v=L("i-head"),$=L("authenticated-layout");return w(),E(W,null,[e(v,{title:f}),e($,null,{title:l(()=>[y(i(f))]),"left-button":l(()=>[a("div",xi,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:u[0]||(u[0]=_=>k.$inertia.get(k.route("admin.product.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[a("div",Vi,[e(Re,{class:"row",onSubmit:J(m,["prevent"]),onValidationError:t(ze)},{default:l(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":u[1]||(u[1]=_=>t(s).id=_)},null,512),[[tt,t(s).id]]),u[21]||(u[21]=a("div",{class:"text-subtitle1 q-pt-lg"},"Info Utama",-1)),e(re,{autofocus:"",modelValue:t(s).type,"onUpdate:modelValue":u[2]||(u[2]=_=>t(s).type=_),class:"custom-select",options:t(o),label:"Jenis","map-options":"","emit-value":"","hide-bottom-space":""},null,8,["modelValue","options"]),e(X,{modelValue:t(s).name,"onUpdate:modelValue":u[3]||(u[3]=_=>t(s).name=_),modelModifiers:{trim:!0},label:"Nama Produk","lazy-rules":"",error:!!t(s).errors.name,disable:t(s).processing,"error-message":t(s).errors.name,rules:[_=>_&&_.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(s).description,"onUpdate:modelValue":u[4]||(u[4]=_=>t(s).description=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Deskripsi","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.description,"error-message":t(s).errors.description,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(re,{modelValue:t(s).category_id,"onUpdate:modelValue":u[5]||(u[5]=_=>t(s).category_id=_),label:"Kategori","use-input":"","input-debounce":"300",clearable:"",options:t(p),"map-options":"","emit-value":"",onFilter:t(g),"option-label":"label","option-value":"value",error:!!t(s).errors.category_id,disable:t(s).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(Z,null,{default:l(()=>[e(I,null,{default:l(()=>u[19]||(u[19]=[y("Kategori tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),e(re,{modelValue:t(s).supplier_id,"onUpdate:modelValue":u[6]||(u[6]=_=>t(s).supplier_id=_),label:"Supplier","use-input":"","input-debounce":"300",clearable:"",options:t(r),"map-options":"","emit-value":"",onFilter:t(c),"option-label":"label","option-value":"value",error:!!t(s).errors.supplier_id,disable:t(s).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(Z,null,{default:l(()=>[e(I,null,{default:l(()=>u[20]||(u[20]=[y("Supplier tidak ditemukan")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","error","disable"]),e(Zt,{modelValue:t(s).active,"onUpdate:modelValue":u[7]||(u[7]=_=>t(s).active=_),disable:t(s).processing,label:"Aktif"},null,8,["modelValue","disable"]),u[22]||(u[22]=a("div",{class:"text-subtitle1 q-pt-lg"},"Info Inventori",-1)),e(X,{modelValue:t(s).barcode,"onUpdate:modelValue":u[8]||(u[8]=_=>t(s).barcode=_),modelModifiers:{trim:!0},label:"Barcode","lazy-rules":"",error:!!t(s).errors.barcode,disable:t(s).processing,"error-message":t(s).errors.barcode,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(X,{modelValue:t(s).uom,"onUpdate:modelValue":u[9]||(u[9]=_=>t(s).uom=_),modelModifiers:{trim:!0},label:"Satuan","lazy-rules":"",error:!!t(s).errors.uom,disable:t(s).processing,"error-message":t(s).errors.uom,"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message"]),e(Ie,{modelValue:t(s).stock,"onUpdate:modelValue":u[10]||(u[10]=_=>t(s).stock=_),label:"Stok",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.stock,errorMessage:t(s).errors.stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Ie,{modelValue:t(s).min_stock,"onUpdate:modelValue":u[11]||(u[11]=_=>t(s).min_stock=_),label:"Stok Minimum",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.min_stock,errorMessage:t(s).errors.min_stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Ie,{modelValue:t(s).max_stock,"onUpdate:modelValue":u[12]||(u[12]=_=>t(s).max_stock=_),label:"Stok Maksimum",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.max_stock,errorMessage:t(s).errors.max_stock,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),u[23]||(u[23]=a("div",{class:"text-subtitle1 q-pt-lg"},"Info Harga",-1)),e(Zt,{modelValue:t(s).price_editable,"onUpdate:modelValue":u[13]||(u[13]=_=>t(s).price_editable=_),disable:t(s).processing,label:"Harga bisa diubah saat penjualan"},null,8,["modelValue","disable"]),e(Ie,{modelValue:t(s).cost,"onUpdate:modelValue":u[14]||(u[14]=_=>t(s).cost=_),label:"Modal / Harga Beli (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.cost,errorMessage:t(s).errors.cost,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Ie,{modelValue:t(s).price,"onUpdate:modelValue":u[15]||(u[15]=_=>t(s).price=_),label:"Harga Jual (Rp)",lazyRules:"",disable:t(s).processing,error:!!t(s).errors.max_stock,errorMessage:t(s).errors.price,"hide-bottom-space":""},null,8,["modelValue","disable","error","errorMessage"]),e(Ie,{modelValue:b.value,"onUpdate:modelValue":u[16]||(u[16]=_=>b.value=_),label:"Margin (%)",lazyRules:"",disable:t(s).processing,maxDecimals:2,"hide-bottom-space":""},null,8,["modelValue","disable"]),u[24]||(u[24]=a("div",{class:"text-subtitle1 q-pt-lg"},"Info Lainnya",-1)),e(X,{modelValue:t(s).notes,"onUpdate:modelValue":u[17]||(u[17]=_=>t(s).notes=_),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(O,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(O,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:u[18]||(u[18]=_=>t(K).get(k.route("admin.product.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},qi=Object.freeze(Object.defineProperty({__proto__:null,default:Ci},Symbol.toStringTag,{value:"Module"})),Ti={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Pi={class:"q-pa-xs"},Oi={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Ii={key:0,class:"text-grey-8"},Ei={key:1,class:"text-grey-8"},Ri={key:0},Ni={key:1},Mi={class:"flex justify-end"},Ol="Produk",Ui={__name:"Index",setup(d){const n=be(),f=x(null),o=x(null),s=Ke(o),m=x(!1),p=[{value:"all",label:"Semua"},...je(window.CONSTANTS.PRODUCT_TYPES)],g=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],r=[{value:"all",label:"Semua"},{value:"ready",label:"Tersedia"},{value:"out",label:"Kosong"},{value:"low",label:"Stok Rendah"},{value:"over",label:"Stok Berlebih"}],c=he(),b=x(!1),k=x([]),u=x(!0),v=Oe({type:"all",category_id:"all",supplier_id:"all",status:"active",stock_status:"all",search:"",...Me()}),$=x({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1});let _=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"cost",label:"Modal",field:"cost",align:"right"},{name:"price",label:"Harga",field:"price",align:"right"},{name:"action",align:"right"}];we(()=>{const U=new URLSearchParams(window.location.search).get("page");U&&($.value.page=parseInt(U)),V()});const M=Q=>Xe({message:`Hapus Produk ${Q.name}?`,url:route("admin.product.delete",Q.id),fetchItemsCallback:V,loading:u}),V=(Q=null)=>{Ue({pagination:$,filter:v,props:Q,rows:k,url:route("admin.product.data"),loading:u,tableRef:f})},h=()=>{V()},{filteredCategories:T,filterCategories:P}=Zl(n.props.categories,!0),{filteredSuppliers:q,filterSuppliers:R}=ol(n.props.suppliers,!0),S=ee(()=>{let Q=[..._];return m.value||Q.splice(2,1),c.screen.gt.sm?Q:Q.filter(U=>U.name==="name"||U.name==="action")}),N=Q=>{console.log(window.location.href),K.get(route("admin.product.detail",Q.row.id))};return(Q,U)=>{const le=L("i-head"),ae=L("authenticated-layout");return w(),E(W,null,[e(le,{title:Ol}),e(ae,null,Qe({title:l(()=>[y(i(Ol))]),"right-button":l(()=>[Q.$can("admin.product.add")?(w(),A(O,{key:0,class:"q-mr-sm",icon:m.value?"visibility":"visibility_off",label:"",dense:"",color:"grey",onClick:U[0]||(U[0]=H=>m.value=!m.value)},null,8,["icon"])):j("",!0),e(O,{icon:b.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:U[1]||(U[1]=H=>b.value=!b.value)},null,8,["icon"]),e(O,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:U[2]||(U[2]=H=>t(K).get(Q.route("admin.product.add")))})]),default:l(()=>[a("div",Pi,[e($e,{ref_key:"tableRef",ref:f,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:$.value,"onUpdate:pagination":U[10]||(U[10]=H=>$.value=H),filter:v.search,loading:u.value,columns:S.value,rows:k.value,"rows-per-page-options":[10,25,50],style:We({height:t(s)}),onRequest:V,"binary-state-sort":""},{loading:l(()=>[e(Be,{showing:"",color:"red"})]),"no-data":l(({icon:H,message:D,filter:pe})=>[a("div",Oi,[a("span",null,i(D)+" "+i(pe?" with term "+pe:""),1)])]),header:l(H=>[e(ke,{props:H},{default:l(()=>[e(Nt,{"auto-width":""}),(w(!0),E(W,null,ct(H.cols,D=>(w(),A(Nt,{key:D.name,props:H},{default:l(()=>[y(i(D.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(H=>[e(ke,{props:H,class:ye({inactive:!H.row.active})},{default:l(()=>[e(B,{"auto-width":""},{default:l(()=>[e(O,{size:"xs",color:"grey",round:"",dense:"",onClick:J(D=>H.expand=!H.expand,["prevent"]),icon:H.expand?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["onClick","icon"])]),_:2},1024),e(B,{key:"name",props:H,class:"wrap-column cursor-pointer",onClick:D=>N(H)},{default:l(()=>[y(i(H.row.name)+" ",1),H.row.category_id?(w(),E("div",Ii,[e(C,{name:"category"}),y(" "+i(H.row.category.name),1)])):j("",!0),H.row.supplier_id?(w(),E("div",Ei,[e(C,{name:"local_shipping"}),y(" "+i(H.row.supplier.name),1)])):j("",!0),t(c).screen.gt.sm?j("",!0):(w(),E(W,{key:2},[H.row.type=="stocked"?(w(),E("div",Ri,[e(C,{name:"cycle"}),y(" Stok: "+i(t(F)(H.row.stock))+" "+i(H.row.uom),1)])):j("",!0),m.value?(w(),E("div",Ni,[e(C,{name:"money"}),y(" Modal: Rp. "+i(t(F)(H.row.cost)),1)])):j("",!0),a("div",null,[e(C,{name:"sell"}),y(" Harga: Rp. "+i(t(F)(H.row.price)),1)])],64))]),_:2},1032,["props","onClick"]),e(B,{key:"stock",props:H,class:ye(["wrap-column",{"low-stock":H.row.type=="stocked"&&(Number(H.row.stock)==0||Number(H.row.stock)<Number(H.row.min_stock)),"over-stock":H.row.type=="stocked"&&Number(H.row.max_stock)&&Number(H.row.stock)>Number(H.row.max_stock)}])},{default:l(()=>[y(i(H.row.type=="stocked"?t(F)(H.row.stock)+" "+H.row.uom:"-"),1)]),_:2},1032,["props","class"]),(w(),A(B,{key:"cost",props:H,class:"wrap-column"},{default:l(()=>[y(i(t(F)(H.row.cost)),1)]),_:2},1032,["props"])),e(B,{key:"price",props:H,class:"wrap-column"},{default:l(()=>[y(i(t(F)(H.row.price)),1)]),_:2},1032,["props"]),e(B,{key:"action",props:H},{default:l(()=>[a("div",Mi,[e(O,{disabled:!t(et)(Q.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:U[9]||(U[9]=J(()=>{},["stop"]))},{default:l(()=>[e(Ge,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[Y((w(),A(Z,{clickable:"",onClick:J(D=>t(K).get(Q.route("admin.product.duplicate",H.row.id)),["stop"])},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:l(()=>U[11]||(U[11]=[y("Duplikat")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]]),Y((w(),A(Z,{clickable:"",onClick:J(D=>t(K).get(Q.route("admin.product.edit",H.row.id)),["stop"])},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:l(()=>U[12]||(U[12]=[y("Edit")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]]),Q.$page.props.auth.user.role==Q.$CONSTANTS.USER_ROLE_ADMIN?Y((w(),A(Z,{key:0,onClick:J(D=>M(H.row),["stop"]),clickable:""},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:l(()=>U[13]||(U[13]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]]):j("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class"]),Y(e(ke,{props:H},{default:l(()=>[e(B,{colspan:"100%"},{default:l(()=>[e(C,{name:"notes"}),y(" "+i(H.row.description),1)]),_:2},1024)]),_:2},1032,["props"]),[[Wl,H.expand]])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[b.value?{name:"header",fn:l(()=>[e(Fe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:o},{default:l(()=>[a("div",Ti,[e(re,{modelValue:v.type,"onUpdate:modelValue":[U[3]||(U[3]=H=>v.type=H),h],class:"custom-select col-xs-4 col-sm-2",options:p,label:"Jenis",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(re,{modelValue:v.status,"onUpdate:modelValue":[U[4]||(U[4]=H=>v.status=H),h],class:"custom-select col-xs-4 col-sm-2",options:g,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(re,{modelValue:v.stock_status,"onUpdate:modelValue":[U[5]||(U[5]=H=>v.stock_status=H),h],class:"custom-select col-xs-4 col-sm-2",options:r,label:"Status Stok",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(re,{modelValue:v.category_id,"onUpdate:modelValue":[U[6]||(U[6]=H=>v.category_id=H),h],label:"Kategori",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:t(T),"map-options":"",dense:"","emit-value":"",onFilter:t(P),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),e(re,{modelValue:v.supplier_id,"onUpdate:modelValue":[U[7]||(U[7]=H=>v.supplier_id=H),h],label:"Pemasok",class:"custom-select col-xs-12 col-sm-2",outlined:"","use-input":"","input-debounce":"300",clearable:"",options:t(q),"map-options":"",dense:"","emit-value":"",onFilter:t(R),style:{"min-width":"150px"}},null,8,["modelValue","options","onFilter"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:v.search,"onUpdate:modelValue":U[8]||(U[8]=H=>v.search=H),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Ai=Object.freeze(Object.defineProperty({__proto__:null,default:Ui},Symbol.toStringTag,{value:"Module"})),ea={__name:"UpdatePasswordForm",setup(d){const n=x(!1),f=x(null),o=x(null),s=Pe({current_password:"",password:"",password_confirmation:""}),m=()=>{s.clearErrors(),s.post(route("admin.profile.update-password"),{preserveScroll:!0,onSuccess:()=>s.reset(),onError:()=>{s.errors.password&&(s.reset("password","password_confirmation"),f.value.focus()),s.errors.current_password&&(s.reset("current_password"),o.value.focus())}})};return(p,g)=>(w(),A(Re,{class:"row",onSubmit:J(m,["prevent"]),onValidationError:t(ze)},{default:l(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>[g[6]||(g[6]=a("div",{class:"text-h6 q-my-xs text-subtitle1"},"Perbarui Kata Sandi",-1)),g[7]||(g[7]=a("p",{class:"text-caption text-grey-9"}," Pastikan akun anda menggunakan kata sandi yang kuat agar akun tetap aman. ",-1)),e(X,{modelValue:t(s).current_password,"onUpdate:modelValue":g[1]||(g[1]=r=>t(s).current_password=r),type:n.value?"text":"password",label:"Kata Sandi Sekarang",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.current_password,"error-message":t(s).errors.current_password,rules:[r=>r&&r.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(O,{dense:"",flat:"",round:"",onClick:g[0]||(g[0]=r=>n.value=!n.value)},{default:l(()=>[e(C,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(X,{modelValue:t(s).password,"onUpdate:modelValue":g[3]||(g[3]=r=>t(s).password=r),type:n.value?"text":"password",label:"Kata Sandi Baru",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.password,"error-message":t(s).errors.password,rules:[r=>r&&r.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(O,{dense:"",flat:"",round:"",onClick:g[2]||(g[2]=r=>n.value=!n.value)},{default:l(()=>[e(C,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"]),e(X,{modelValue:t(s).password_confirmation,"onUpdate:modelValue":g[5]||(g[5]=r=>t(s).password_confirmation=r),type:n.value?"text":"password",label:"Konfirmasi Kata Sandi",autocomplete:"off",disable:t(s).processing,error:!!t(s).errors.password_confirmation,"error-message":t(s).errors.password_confirmation,rules:[r=>r&&r.length>0||"Kata sandi harus diisi."],"lazy-rules":"","hide-bottom-space":""},{append:l(()=>[e(O,{dense:"",flat:"",round:"",onClick:g[4]||(g[4]=r=>n.value=!n.value)},{default:l(()=>[e(C,{name:n.value?"key_off":"key"},null,8,["name"])]),_:1})]),_:1},8,["modelValue","type","disable","error","error-message","rules"])]),_:1}),e(te,null,{default:l(()=>[e(O,{type:"submit",label:"Perbarui Kata Sandi",color:"primary",icon:"save",disable:t(s).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},Di=Object.freeze(Object.defineProperty({__proto__:null,default:ea},Symbol.toStringTag,{value:"Module"})),ta={__name:"UpdateProfileInformationForm",setup(d){const f=be().props.auth.user,o=Pe({name:f.name,username:f.username,role:window.CONSTANTS.USER_ROLES[f.role]}),s=()=>Ne({form:o,url:route("admin.profile.update")});return(m,p)=>(w(),A(Re,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(ze)},{default:l(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>[p[3]||(p[3]=a("div",{class:"text-h6 q-my-xs text-subtitle1"},"Profil Saya",-1)),p[4]||(p[4]=a("p",{class:"text-caption text-grey-9"},"Perbarui profil anda.",-1)),e(X,{modelValue:t(o).username,"onUpdate:modelValue":p[0]||(p[0]=g=>t(o).username=g),label:"ID Pengguna",disable:t(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"]),e(X,{modelValue:t(o).name,"onUpdate:modelValue":p[1]||(p[1]=g=>t(o).name=g),modelModifiers:{trim:!0},label:"Nama",disable:t(o).processing,error:!!t(o).errors.name,"error-message":t(o).errors.name,rules:[g=>g&&g.length>0||"Name harus diisi."],"lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(X,{modelValue:t(o).role,"onUpdate:modelValue":p[2]||(p[2]=g=>t(o).role=g),label:"Hak Akses",disable:t(o).processing,readonly:"","hide-bottom-space":""},null,8,["modelValue","disable"])]),_:1}),e(te,null,{default:l(()=>[e(O,{type:"submit",label:"Perbarui Profil Saya",icon:"save",color:"primary",disable:t(o).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"]))}},ji=Object.freeze(Object.defineProperty({__proto__:null,default:ta},Symbol.toStringTag,{value:"Module"})),Bi={class:"q-pa-xs"},Li={class:"row justify-center"},zi={class:"col col-lg-6"},Il="Profil Saya",Fi={__name:"Edit",setup(d){return(n,f)=>{const o=L("i-head"),s=L("authenticated-layout");return w(),E(W,null,[e(o,{title:Il}),e(s,null,{title:l(()=>[y(i(Il))]),default:l(()=>[a("div",Bi,[a("div",Li,[a("div",zi,[e(ta,{class:"q-mb-md"}),e(ea)])])])]),_:1})],64)}}},Hi=Object.freeze(Object.defineProperty({__proto__:null,default:Fi},Symbol.toStringTag,{value:"Module"}));function Yi(){const d=x(new Date);let n=null;const f=()=>{d.value=new Date};return we(()=>{n=setInterval(f,1e3)}),Bt(()=>{n&&clearInterval(n)}),{currentDateTime:d}}const Ki={class:"text-grey-8"},la={__name:"DigitalClock",setup(d){const{currentDateTime:n}=Yi();return(f,o)=>(w(),E("div",Ki,i(t(Ze)(t(n))),1))}},Qi={class:"row q-col-gutter-md items-center q-px-md q-py-sm"},Wi={class:"col-12 col-sm-6 col-md-4"},Ji={class:"text-bold"},Gi={key:0,class:"col-12 col-md-4 text-center"},Xi={class:"text-h6 text-weight-bold text-grey-8"},Zi={key:0,class:"text-subtitle2 text-weight-bold text-grey-8"},eu={key:1,class:"text-subtitle2 text-weight-bold text-grey-8"},tu={class:"text-weight-bold"},aa={__name:"TransactionHeader",props:{user:{type:Object,required:!0},company:{type:Object,required:!0}},emits:["edit-supplier"],setup(d){return(n,f)=>(w(),E("div",Qi,[a("div",Wi,[a("div",Ji,[f[1]||(f[1]=y(" Info Supplier ")),e(O,{icon:"edit",flat:"",rounded:"",dense:"",color:"grey",size:"sm",onClick:f[0]||(f[0]=o=>n.$emit("edit-supplier"))})]),f[2]||(f[2]=a("div",{class:"text-grey-8 text-italic"},"Supplier belum dipilih.",-1))]),n.$q.screen.gt.sm?(w(),E("div",Gi,[a("div",Xi,i(d.company.name),1),d.company.address?(w(),E("div",Zi,i(d.company.address),1)):j("",!0),d.company.phone?(w(),E("div",eu,i(d.company.phone),1)):j("",!0)])):j("",!0),a("div",{class:ye(["col-12 col-sm-6 col-md-4",n.$q.screen.gt.sm?"text-right":""])},[a("div",tu,i(d.user.username)+" - "+i(d.user.name),1),e(la)],2)]))}},lu=Object.freeze(Object.defineProperty({__proto__:null,default:aa},Symbol.toStringTag,{value:"Module"})),au={class:"text-weight-medium"},ou={class:"text-caption text-grey-6"},nu={class:"text-weight-medium"},su={class:"text-weight-bold text-primary"},oa={__name:"ItemsListTable",props:{items:{type:Array,required:!0},columns:{type:Array,required:!0}},emits:["update-quantity","remove-item"],setup(d){return(n,f)=>(w(),A($e,{dense:"",rows:d.items,columns:d.columns,"row-key":"id",flat:"",square:"",bordered:"",class:"bg-grey-1 pos-table q-pa-none col","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48},{header:l(o=>[e(ke,{props:o,class:"bg-grey-4"},{default:l(()=>[(w(!0),E(W,null,ct(o.cols,s=>(w(),A(Nt,{key:s.name,props:o,class:"text-weight-bold text-grey-8"},{default:l(()=>[y(i(s.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(o=>[e(ke,{props:o,class:"hover-highlight"},{default:l(()=>[e(B,{key:"name",props:o,class:"text-left"},{default:l(()=>[a("div",au,i(o.row.name),1),a("div",ou," Barcode: "+i(o.row.barcode),1)]),_:2},1032,["props"]),e(B,{key:"price",props:o,class:"text-center"},{default:l(()=>[a("div",nu,[e(Ie,{"model-value":o.row.price,dense:"",style:{width:"80px","text-align":"right"}},null,8,["model-value"])])]),_:2},1032,["props"]),e(B,{key:"quantity",props:o,class:"text-center"},{default:l(()=>[e(Ie,{"model-value":o.row.quantity,dense:"",style:{width:"80px","text-align":"right"},"onUpdate:modelValue":s=>n.$emit("update-quantity",{id:o.row.id,value:s}),onKeyup:f[0]||(f[0]=Tt(s=>s.target.blur(),["enter"]))},null,8,["model-value","onUpdate:modelValue"])]),_:2},1032,["props"]),e(B,{key:"subtotal",props:o,class:"text-center"},{default:l(()=>[a("div",su," Rp. "+i(t(F)(o.row.price*o.row.quantity)),1)]),_:2},1032,["props"]),e(B,{key:"action",props:o,class:"text-center"},{default:l(()=>[e(O,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:s=>n.$emit("remove-item",o.row)},{default:l(()=>[e(Ua,null,{default:l(()=>f[1]||(f[1]=[y("Hapus Item")])),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns"]))}},ru=Object.freeze(Object.defineProperty({__proto__:null,default:oa},Symbol.toStringTag,{value:"Module"})),iu={class:"column"},uu={class:"row justify-end items-center q-gutter-sm"},du={class:"text-h4 text-weight-bold text-primary"},mu={class:"text-caption text-grey-6 q-mt-xs text-right"},cu={class:"q-py-sm"},pu={class:"q-py-sm"},na={__name:"TransactionSummary",props:{subtotal:{type:Number,required:!0},itemCount:{type:Number,required:!0},barcode:{type:String,required:!0},isProcessing:{type:Boolean,default:!1},formProcessing:{type:Boolean,default:!1}},emits:["update:barcode","add-item","process-payment"],setup(d,{expose:n}){const f=x(null);we(()=>{o()});const o=()=>{Mt(()=>{f.value&&f.value.focus()})};return n({focusOnBarcodeInput:o}),(s,m)=>(w(),E("div",iu,[a("div",uu,[m[3]||(m[3]=a("span",{class:"text-weight-bold text-grey-8"},"GRAND TOTAL: Rp.",-1)),a("span",du,i(t(F)(d.subtotal)),1)]),a("div",mu,i(d.itemCount)+" item(s) ",1),a("div",cu,[e(X,{ref_key:"barcodeInputRef",ref:f,"model-value":d.barcode,"onUpdate:modelValue":m[0]||(m[0]=p=>s.$emit("update:barcode",p)),placeholder:"<Input Barcode>",outlined:"",square:"",class:"col bg-white",onKeyup:m[1]||(m[1]=Tt(p=>s.$emit("add-item"),["enter"])),loading:d.isProcessing,clearable:"",autofocus:""},{prepend:l(()=>[e(C,{name:"qr_code_scanner"})]),_:1},8,["model-value","loading"])]),a("div",pu,[e(O,{class:"full-width",label:"Bayar",color:"primary",icon:"payment",onClick:m[2]||(m[2]=p=>s.$emit("process-payment")),disable:d.itemCount===0,loading:d.formProcessing},null,8,["disable","loading"])])]))}},fu=Object.freeze(Object.defineProperty({__proto__:null,default:na},Symbol.toStringTag,{value:"Module"})),gu={class:"q-ml-sm"},sa={__name:"ConfirmDeleteDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,default:null}},emits:["update:modelValue","confirm"],setup(d){return(n,f)=>(w(),A(vt,{"model-value":d.modelValue,"onUpdate:modelValue":f[1]||(f[1]=o=>n.$emit("update:modelValue",o)),persistent:""},{default:l(()=>[e(de,null,{default:l(()=>[e(te,{class:"row items-center"},{default:l(()=>{var o;return[e(_t,{icon:"delete",color:"negative","text-color":"white"}),a("span",gu,'Hapus item "'+i((o=d.item)==null?void 0:o.name)+'"?',1)]}),_:1}),e(gt,{align:"right"},{default:l(()=>[Y(e(O,{flat:"",label:"Batal",color:"primary"},null,512),[[ie]]),Y(e(O,{flat:"",label:"Hapus",color:"negative",onClick:f[0]||(f[0]=o=>n.$emit("confirm"))},null,512),[[ie]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},bu=Object.freeze(Object.defineProperty({__proto__:null,default:sa},Symbol.toStringTag,{value:"Module"})),ra={__name:"SupplierEditorDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","save"],setup(d,{emit:n}){const f=n,o=x(""),s=x(""),m=()=>{f("save",{name:o.value,address:s.value})};return(p,g)=>(w(),A(vt,{"model-value":d.modelValue,"onUpdate:modelValue":g[2]||(g[2]=r=>p.$emit("update:modelValue",r)),persistent:""},{default:l(()=>[e(de,{style:{width:"400px"}},{default:l(()=>[e(te,{class:"q-py-none q-pt-lg"},{default:l(()=>g[3]||(g[3]=[a("div",{class:"text-bold text-grey-8"},"Edit Info Supplier",-1)])),_:1}),e(te,null,{default:l(()=>[e(X,{modelValue:o.value,"onUpdate:modelValue":g[0]||(g[0]=r=>o.value=r),label:"Nama Supplier"},null,8,["modelValue"]),e(X,{modelValue:s.value,"onUpdate:modelValue":g[1]||(g[1]=r=>s.value=r),label:"Alamat",type:"textarea",autogrow:"",counter:"",maxlength:"200",class:"q-mt-md"},null,8,["modelValue"])]),_:1}),e(gt,{align:"right"},{default:l(()=>[Y(e(O,{flat:"",label:"Batal",color:"primary"},null,512),[[ie]]),Y(e(O,{flat:"",label:"Simpan",color:"primary",onClick:m},null,512),[[ie]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},vu=Object.freeze(Object.defineProperty({__proto__:null,default:ra},Symbol.toStringTag,{value:"Module"})),_u={class:"q-gutter-sm"},yu={class:"row col **grow**"},wu={class:"col-12 q-pa-sm column"},ku={class:"row"},hu={class:"col-xs-12 col-md-8 q-pa-sm"},$u={class:"col-md-4 col-xs-12 q-pa-sm"},Su={__name:"Editor",setup(d){const n=he(),f=be(),o=x(null),s=Pe({id:null,formatted_id:"Diisi Otomatis",customer_name:"Pelanggan Umum",datetime:pt().format("YYYY-MM-DD HH:mm:ss"),status:"pending",payment_status:"unpaid",items:[],subtotal:0,tax:0,total:0,notes:""}),m=x(""),p=x(!1),g=x(!1),r=x(null),c=x(!1),b=[{name:"name",required:!0,label:"Item Information",align:"left",field:"name",sortable:!1,style:"width: 300px"},{name:"price",label:"Harga",align:"center",field:"price",sortable:!1,style:"width: 120px"},{name:"quantity",label:"Quantity",align:"center",field:"quantity",sortable:!1,style:"width: 100px"},{name:"subtotal",label:"SubTotal",align:"center",sortable:!1,style:"width: 140px"},{name:"action",label:"Action",align:"center",sortable:!1,style:"width: 80px"}],k=ee(()=>{const V=s.items.reduce((h,T)=>h+T.price*T.quantity,0);return s.subtotal=V,s.total=V+s.tax,V}),u=async()=>{if(!m.value.trim()){n.notify({message:"Silakan masukkan barcode",color:"warning",position:"bottom"});return}let V=1,h=m.value.trim(),T=null;const P=h.split("*");if(P.length===3){const R=parseInt(P[0]),S=parseFloat(P[2]);!isNaN(R)&&R>0?V=R:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"bottom"}),!isNaN(S)&&S>=0?T=S:n.notify({message:"Harga tidak valid. Menggunakan harga produk default.",color:"warning",position:"bottom"}),h=P[1]}else if(P.length===2){const R=parseInt(P[0]);!isNaN(R)&&R>0?V=R:n.notify({message:"Kuantitas tidak valid. Menggunakan default 1.",color:"warning",position:"bottom"}),h=P[1]}const q=s.items.findIndex(R=>R.barcode===h);if(q!==-1)s.items[q].quantity+=V,n.notify({message:`Quantity ${s.items[q].name} bertambah ${V}`,color:"positive",position:"bottom"});else{p.value=!0;try{await new Promise(N=>setTimeout(N,300));const S={...{id:Date.now(),name:`Item ${h}`,barcode:h,price:T!==null?T:Math.floor(Math.random()*5e4)+1e4},quantity:V};s.items.push(S),n.notify({message:`${S.name} berhasil ditambahkan`,color:"positive",position:"bottom",icon:"add_shopping_cart"})}catch(R){console.error("Error fetching item:",R),n.notify({message:"Item tidak ditemukan atau gagal menambahkan item",color:"negative",position:"bottom"})}finally{p.value=!1}}m.value="",await Mt(),o.value.focusOnBarcodeInput()},v=V=>{r.value=V,g.value=!0},$=()=>{if(r.value){const V=s.items.findIndex(h=>h.id===r.value.id);if(V!==-1){const h=s.items.splice(V,1)[0];n.notify({message:`${h.name} dihapus dari keranjang`,color:"info",position:"bottom",icon:"remove_shopping_cart"})}r.value=null}},_=(V,h)=>{const T=s.items.find(P=>P.id===V);T&&h>0&&(T.quantity=parseInt(h)||1)},M=()=>{if(s.items.length===0){n.notify({message:"Tidak ada item dalam keranjang",color:"warning",position:"bottom"});return}s.datetime=pt().format("YYYY-MM-DD HH:mm:ss"),s.status="completed",s.payment_status="paid",Ne({form:s,url:route("admin.transaction.save")})};return(V,h)=>{const T=L("i-head"),P=L("authenticated-layout");return w(),E(W,null,[e(T,{title:"Order Pembelian"}),e(P,null,{title:l(()=>h[8]||(h[8]=[y("Order Pembelian")])),"left-button":l(()=>[a("div",_u,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:h[0]||(h[0]=q=>t(K).get(V.route("admin.purchase-order.index")))})])]),default:l(()=>[e(Ve,{class:"bg-grey-2 q-pa-sm column fit"},{default:l(()=>[e(de,{square:"",flat:"",bordered:"",class:"full-width col column"},{default:l(()=>[e(aa,{user:t(f).props.auth.user,company:t(f).props.company,onEditSupplier:h[1]||(h[1]=q=>c.value=!0)},null,8,["user","company"]),a("div",yu,[a("div",wu,[e(oa,{items:t(s).items,columns:b,onUpdateQuantity:h[2]||(h[2]=({id:q,value:R})=>_(q,R)),onRemoveItem:v},null,8,["items"])])]),a("div",ku,[a("div",hu,[e(X,{modelValue:t(s).notes,"onUpdate:modelValue":h[3]||(h[3]=q=>t(s).notes=q),type:"textarea",placeholder:"Tambahkan catatan transaksi...",square:"",outlined:"",class:"bg-white",rows:3,counter:"",maxlength:"200",error:!!t(s).errors.notes,"error-message":t(s).errors.notes,style:{"margin-bottom":"16px"},"hide-bottom-space":""},{prepend:l(()=>[e(C,{name:"note"})]),_:1},8,["modelValue","error","error-message"])]),a("div",$u,[e(na,{ref_key:"transactionSummaryRef",ref:o,barcode:m.value,"onUpdate:barcode":h[4]||(h[4]=q=>m.value=q),subtotal:k.value,"item-count":t(s).items.length,"is-processing":p.value,"form-processing":t(s).processing,onAddItem:h[5]||(h[5]=q=>u(m.value)),onProcessPayment:M},null,8,["barcode","subtotal","item-count","is-processing","form-processing"])])])]),_:1}),e(sa,{modelValue:g.value,"onUpdate:modelValue":h[6]||(h[6]=q=>g.value=q),item:r.value,onConfirm:$},null,8,["modelValue","item"]),e(ra,{modelValue:c.value,"onUpdate:modelValue":h[7]||(h[7]=q=>c.value=q)},null,8,["modelValue"])]),_:1})]),_:1})],64)}}},xu=ft(Su,[["__scopeId","data-v-4d8fff94"]]),Vu=Object.freeze(Object.defineProperty({__proto__:null,default:xu},Symbol.toStringTag,{value:"Module"})),Cu={class:"col col-md-6 q-pa-xs"},qu={__name:"Editor_v1",setup(d){const n=be(),f=(n.props.data.id?"Edit":"Tambah")+" Order Pembelian",{filteredSuppliers:o,filterSupplierFn:s}=ol(n.props.suppliers,!1),m=je(window.CONSTANTS.PURCHASE_ORDER_STATUSES),p=je(window.CONSTANTS.PURCHASE_ORDER_PAYMENT_STATUSES),g=je(window.CONSTANTS.PURCHASE_ORDER_DELIVERY_STATUSES),r=Pe({id:n.props.data.id,formatted_id:n.props.data.formatted_id??"Diisi Otomatis",supplier_id:n.props.data.supplier_id,datetime:pt(n.props.data.datetime).format("YYYY-MM-DD HH:mm:ss"),status:n.props.data.status,payment_status:n.props.data.payment_status,delivery_status:n.props.data.delivery_status,total:parseFloat(n.props.data.total),total_paid:parseFloat(n.props.data.total_paid),notes:n.props.data.notes}),c=()=>Ne({form:r,url:route("admin.purchase-order.save")});return(b,k)=>{const u=L("i-head"),v=L("authenticated-layout");return w(),E(W,null,[e(u,{title:f}),e(v,null,{title:l(()=>[y(i(f))]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[a("div",Cu,[e(Re,{class:"row",onSubmit:J(c,["prevent"]),onValidationError:t(ze)},{default:l(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":k[0]||(k[0]=$=>t(r).id=$)},null,512),[[tt,t(r).id]]),e(X,{modelValue:t(r).formatted_id,"onUpdate:modelValue":k[1]||(k[1]=$=>t(r).formatted_id=$),modelModifiers:{trim:!0},label:"ID Order",readonly:"","hide-bottom-space":""},null,8,["modelValue"]),e($t,{modelValue:t(r).datetime,"onUpdate:modelValue":k[2]||(k[2]=$=>t(r).datetime=$),label:"Waktu",error:!!t(r).errors.datetime,disable:t(r).processing},null,8,["modelValue","error","disable"]),e(re,{modelValue:t(r).status,"onUpdate:modelValue":k[3]||(k[3]=$=>t(r).status=$),label:"Status Order",options:t(m),"map-options":"","emit-value":"",error:!!t(r).errors.status,disable:t(r).processing,errorMessage:t(r).errors.status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(re,{modelValue:t(r).payment_status,"onUpdate:modelValue":k[4]||(k[4]=$=>t(r).payment_status=$),label:"Status Pembayaran",options:t(p),"map-options":"","emit-value":"",error:!!t(r).errors.payment_status,disable:t(r).processing,errorMessage:t(r).errors.payment_status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(re,{modelValue:t(r).delivery_status,"onUpdate:modelValue":k[5]||(k[5]=$=>t(r).delivery_status=$),label:"Status Pengiriman",options:t(g),"map-options":"","emit-value":"",error:!!t(r).errors.delivery_status,disable:t(r).processing,errorMessage:t(r).errors.delivery_status,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","errorMessage"]),e(re,{modelValue:t(r).supplier_id,"onUpdate:modelValue":k[6]||(k[6]=$=>t(r).supplier_id=$),label:"Pemasok","use-input":"","input-debounce":"300",clearable:"",options:t(o),"map-options":"","emit-value":"",errorMessage:t(r).errors.supplier_id,onFilter:t(s),error:!!t(r).errors.supplier_id,disable:t(r).processing,"hide-bottom-space":""},{"no-option":l(()=>[e(Z,null,{default:l(()=>[e(I,null,{default:l(()=>k[9]||(k[9]=[y("Pemasok tidak ditemukan.")])),_:1})]),_:1})]),_:1},8,["modelValue","options","errorMessage","onFilter","error","disable"]),e(O,{dense:"",icon:"add",type:"button",color:"primary",disable:t(r).processing,label:"Pemasok Baru"},null,8,["disable"]),e(X,{modelValue:t(r).notes,"onUpdate:modelValue":k[7]||(k[7]=$=>t(r).notes=$),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(r).processing,error:!!t(r).errors.notes,"error-message":t(r).errors.notes,rules:[$=>$&&$.length>0||"Catatan harus diisi."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(O,{icon:"create",type:"submit",label:"Buat Order",color:"primary",disable:t(r).processing},null,8,["disable"]),e(O,{icon:"cancel",label:"Batal",disable:t(r).processing,onClick:k[8]||(k[8]=$=>t(K).get(b.route("admin.purchase-order.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Tu=Object.freeze(Object.defineProperty({__proto__:null,default:qu},Symbol.toStringTag,{value:"Module"})),Pu={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Ou={class:"q-pa-xs"},Iu={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Eu={key:0},Ru={key:0},Nu={key:1},Mu={class:"flex justify-end"},El="Order Pembelian",Uu={__name:"Index",setup(d){const n=he(),f=x(!1),o=x([]),s=x(!0),m=x(null),p=x(null),g=Ke(p),r=At(),c=Dt(),b=[{label:"Semua Tahun",value:"all"},{label:`${r}`,value:r},...kt(r-2,r-1).reverse()],k=[{value:"all",label:"Semua Bulan"},...ht()],u=Oe({search:"",category_id:"all",year:r,month:c,...Me()}),v=x({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),$=[{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"account",label:"Akun",field:"account",align:"left"},{name:"notes",label:"Catatan",field:"notes",align:"left"},{name:"amount",label:"Jumlah (Rp.)",field:"amount",align:"right"},{name:"action",align:"right"}];we(()=>{M()});const _=T=>Xe({message:`Hapus transaksi #-${T.id}?`,url:route("admin.purchase-order.delete",T.id),fetchItemsCallback:M,loading:s}),M=(T=null)=>{Ue({pagination:v,filter:u,props:T,rows:o,url:route("admin.purchase-order.data"),loading:s,tableRef:m})},V=()=>{M()},h=ee(()=>n.screen.gt.sm?$:$.filter(T=>T.name==="datetime"||T.name==="action"));return Te(()=>u.year,T=>{T===null&&(u.month=null)}),(T,P)=>{const q=L("i-head"),R=L("authenticated-layout");return w(),E(W,null,[e(q,{title:El}),e(R,null,Qe({title:l(()=>[y(i(El))]),"right-button":l(()=>[e(O,{icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:P[0]||(P[0]=S=>f.value=!f.value)},null,8,["icon"]),e(O,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:P[1]||(P[1]=S=>t(K).get(T.route("admin.purchase-order.add")))})]),default:l(()=>[a("div",Ou,[e($e,{ref_key:"tableRef",ref:m,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":P[6]||(P[6]=S=>v.value=S),filter:u.search,loading:s.value,columns:h.value,rows:o.value,"rows-per-page-options":[10,25,50],style:We({height:t(g)}),onRequest:M,"binary-state-sort":""},{loading:l(()=>[e(Be,{showing:"",color:"red"})]),"no-data":l(({icon:S,message:N,filter:Q})=>[a("div",Iu,[a("span",null,i(N)+" "+i(Q?" with term "+Q:""),1)])]),body:l(S=>[e(ke,{props:S},{default:l(()=>[e(B,{key:"datetime",props:S,class:"wrap-column"},{default:l(()=>[a("div",null,[y(" #"+i(S.row.id)+" - ",1),e(C,{name:"calendar_today"}),y(" "+i(S.row.datetime),1)]),e(Lt,null,{default:l(()=>[e(C,{name:"category"}),y(" "+i(S.row.type_label),1)]),_:2},1024),S.row.ref_type?(w(),E("div",Eu,[e(C,{name:"link"}),y(" "+i(S.row.ref_type_label)+" #"+i(S.row.ref_id),1)])):j("",!0),t(n).screen.gt.sm?j("",!0):(w(),E(W,{key:1},[S.row.notes?(w(),E("div",Ru,[e(C,{name:"notes"}),y(" "+i(S.row.notes),1)])):j("",!0),S.row.category?(w(),E("div",Nu,[e(C,{name:"category"}),y(" "+i(S.row.category.name),1)])):j("",!0),a("div",null,[e(C,{name:"money"}),y(" Rp. "+i(t(st)(S.row.amount)+t(F)(S.row.amount)),1)])],64))]),_:2},1032,["props"]),e(B,{key:"account",props:S},{default:l(()=>{var N;return[y(i((N=S.row.account)==null?void 0:N.name),1)]}),_:2},1032,["props"]),e(B,{key:"notes",props:S},{default:l(()=>[y(i(S.row.notes),1)]),_:2},1032,["props"]),e(B,{key:"amount",props:S,style:{"text-align":"right"}},{default:l(()=>[y(i(t(st)(S.row.amount)+t(F)(S.row.amount)),1)]),_:2},1032,["props"]),e(B,{key:"action",props:S},{default:l(()=>[a("div",Mu,[e(O,{disabled:!t(et)(T.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:P[5]||(P[5]=J(()=>{},["stop"]))},{default:l(()=>[e(Ge,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[Y((w(),A(Z,{onClick:J(N=>_(S.row),["stop"]),clickable:""},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:l(()=>P[7]||(P[7]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[f.value?{name:"header",fn:l(()=>[e(Fe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:l(()=>[a("div",Pu,[e(re,{modelValue:u.year,"onUpdate:modelValue":[P[2]||(P[2]=S=>u.year=S),V],options:b,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(re,{modelValue:u.month,"onUpdate:modelValue":[P[3]||(P[3]=S=>u.month=S),V],options:k,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:u.year===null},null,8,["modelValue","disable"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:u.search,"onUpdate:modelValue":P[4]||(P[4]=S=>u.search=S),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Au=Object.freeze(Object.defineProperty({__proto__:null,default:Uu},Symbol.toStringTag,{value:"Module"})),Du={class:"q-gutter-sm"},ju={__name:"Detail",setup(d){const o=`Rincian ${be().props.data.formatted_id}`;return(s,m)=>{const p=L("i-head"),g=L("authenticated-layout");return w(),E(W,null,[e(p,{title:o}),e(g,null,{title:l(()=>[y(i(o))]),"left-button":l(()=>[a("div",Du,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:m[0]||(m[0]=r=>s.$inertia.get(s.route("admin.sales-order.index")))})])]),_:1})],64)}}},Bu=Object.freeze(Object.defineProperty({__proto__:null,default:ju},Symbol.toStringTag,{value:"Module"})),Lu={class:"text-weight-medium"},zu={class:"text-caption text-grey-6"},Fu={class:"column items-end"},Hu={class:"text-caption text-grey-6 text-italic"},ia={__name:"ItemsListTable",props:{items:{type:Array,required:!0},isProcessing:{type:Boolean,default:!1}},emits:["update-quantity","remove-item","edit-item"],setup(d){const n=he(),f=Ke(null,n.screen.lt.sm?370:310),o=[{name:"name",required:!0,label:"Item",align:"left",field:"name",sortable:!1},{name:"subtotal_price",label:"Sub Total (Rp.)",align:"right",sortable:!1},{name:"action",label:"",align:"right",sortable:!1}];return(s,m)=>(w(),A($e,{dense:"",rows:d.items,columns:o,"row-key":"id",flat:"",square:"",bordered:"",class:"full-height-table","rows-per-page-options":[0],"hide-pagination":"","no-data-label":"Belum ada item","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48,style:We({height:t(f)})},{header:l(p=>[e(ke,{props:p,class:"bg-grey-4"},{default:l(()=>[(w(!0),E(W,null,ct(p.cols,g=>(w(),A(Nt,{key:g.name,props:p,class:"text-weight-bold text-grey-8"},{default:l(()=>[y(i(g.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(p=>[e(ke,{props:p,class:"hover-highlight"},{default:l(()=>[e(B,{key:"name",props:p,class:"text-left"},{default:l(()=>[a("div",Lu,i(p.row.product_name),1),a("div",zu,i(p.row.product_barcode),1),p.row.notes?(w(),A(Je,{key:0,text:p.row.notes,icon:"notes",class:"text-grey-6"},null,8,["text"])):j("",!0)]),_:2},1032,["props"]),e(B,{key:"subtotal_price",props:p,class:"text-right"},{default:l(()=>[a("div",Fu,[a("div",null,i(t(F)(p.row.subtotal_price)),1),a("div",Hu,i(t(F)(p.row.quantity))+" x Rp. "+i(t(F)(p.row.price)),1)])]),_:2},1032,["props"]),e(B,{key:"action",props:p,class:"text-right",style:{width:"5%"}},{default:l(()=>[e(O,{icon:"edit",color:"grey",flat:"",round:"",size:"sm",onClick:g=>s.$emit("edit-item",p.row),disable:d.isProcessing},null,8,["onClick","disable"]),e(O,{icon:"delete",color:"negative",flat:"",round:"",size:"sm",onClick:g=>s.$emit("remove-item",p.row),disable:d.isProcessing},null,8,["onClick","disable"])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","style"]))}},Yu=Object.freeze(Object.defineProperty({__proto__:null,default:ia},Symbol.toStringTag,{value:"Module"})),Ku={key:0,class:"text-center q-mb-md text-grey-8"},Qu={class:"text-subtitle1 text-weight-medium"},Wu={key:0,class:"text-body1"},Ju={class:"text-h4 text-center text-primary q-pb-md"},Gu={class:"row q-col-gutter-sm justify-center"},Xu={class:"col-12"},Zu={class:"col-12"},ua={__name:"PaymentDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","accepted"],setup(d,{emit:n}){const f=n,o=s=>{f("accepted",{method:s})};return(s,m)=>(w(),A(vt,{"model-value":d.modelValue,"onUpdate:modelValue":m[3]||(m[3]=p=>s.$emit("update:modelValue",p)),persistent:""},{default:l(()=>[e(de,{style:{"min-width":"350px"}},{default:l(()=>[e(te,null,{default:l(()=>m[4]||(m[4]=[a("div",{class:"text-h6 text-center"},"Pilih Metode Pembayaran",-1)])),_:1}),e(te,{class:"q-pt-none"},{default:l(()=>[s.studentName?(w(),E("div",Ku,[a("div",Qu,i(s.studentName),1),s.walletBalance!==null?(w(),E("div",Wu," Saldo: Rp. "+i(t(F)(s.walletBalance)),1)):j("",!0)])):j("",!0),a("div",Ju," Rp. "+i(t(F)(s.form.total)),1),a("div",Gu,[a("div",Xu,[e(O,{label:"Tunai",icon:"attach_money",color:"primary",class:"full-width",onClick:m[0]||(m[0]=p=>o("cash")),loading:s.form.processing,disable:s.form.processing},null,8,["loading","disable"])]),a("div",Zu,[e(O,{label:"Dompet Pelanggan",icon:"wallet",color:"green-6",class:"full-width",onClick:m[1]||(m[1]=p=>o("wallet")),loading:s.form.processing,disable:s.form.processing},null,8,["loading","disable"])])])]),_:1}),e(gt,{align:"right",class:"q-py-md"},{default:l(()=>[e(O,{flat:"",label:"Batal",color:"grey",onClick:m[2]||(m[2]=p=>s.showPaymentDialog=!1)})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},ed=Object.freeze(Object.defineProperty({__proto__:null,default:ua},Symbol.toStringTag,{value:"Module"})),td={class:"row items-center no-wrap"},ld={class:"col-auto"},ad={class:"full-width row flex-center text-grey-8 q-gutter-sm"},od={__name:"ProductBrowserDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","product-selected"],setup(d,{emit:n}){const f=d,o=n,s=x(null),m=x([]),p=x(!0),g=Oe({search:"",status:"active",...Me()}),r=x({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),c=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"right"},{name:"price",label:"Harga",field:"price",align:"right"}],b=ee(()=>c);we(()=>{k()});const k=()=>{f.modelValue!==!1&&u()},u=(_=null)=>{p.value=!0,Ue({pagination:r,filter:g,props:_,rows:m,url:route("admin.product.data"),loading:p,tableRef:s})},v=()=>{k()},$=_=>{o("product-selected",_),setTimeout(()=>{o("update:modelValue",!1)},100)};return Te(()=>f.modelValue,(_,M)=>{M===!0&&_===!1&&(g.search=""),_===!0&&u()}),(_,M)=>(w(),A(vt,{"model-value":d.modelValue,"onUpdate:modelValue":M[3]||(M[3]=V=>_.$emit("update:modelValue",V)),maximized:_.$q.screen.lt.sm},{default:l(()=>[e(de,{class:"column fit"},{default:l(()=>[e(te,{class:"q-py-sm"},{default:l(()=>[a("div",td,[M[4]||(M[4]=a("div",{class:"col text-subtitle text-grey-8 text-bold"},"Cari Produk",-1)),a("div",ld,[e(O,{flat:"",round:"",size:"xs",icon:"close",onClick:M[0]||(M[0]=V=>_.$emit("update:modelValue",!1))})])])]),_:1}),e(te,{class:"q-py-sm"},{default:l(()=>[e(X,{autofocus:"",outlined:"",dense:"",debounce:"300",modelValue:g.search,"onUpdate:modelValue":[M[1]||(M[1]=V=>g.search=V),v],placeholder:"Cari produk berdasarkan nama atau barcode",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])]),_:1}),e(te,{class:"q-py-sm col"},{default:l(()=>[e($e,{ref_key:"tableRef",ref:s,flat:"",class:"fit",square:"",bordered:"",dense:"",color:"primary","row-key":"id",pagination:r.value,"onUpdate:pagination":M[2]||(M[2]=V=>r.value=V),filter:g.search,loading:p.value,columns:b.value,rows:m.value,"rows-per-page-options":[10,25,50],onRequest:u,"binary-state-sort":"","no-data-label":"Tidak ada produk ditemukan","virtual-scroll":!0,"rows-per-page-label":null},{"no-data":l(({icon:V,message:h,filter:T})=>[a("div",ad,[a("span",null,i(h),1)])]),body:l(V=>[e(ke,{tabindex:"0",props:V,class:ye([{inactive:!V.row.active},"cursor-pointer"]),onClick:h=>$(V.row),onKeydown:[Tt(J(h=>$(V.row),["prevent","stop"]),["enter"]),Tt(J(h=>$(V.row),["prevent"]),["space"])]},{default:l(()=>[e(B,{key:"name",props:V,class:"wrap-column"},{default:l(()=>[e(Je,{text:V.row.name},null,8,["text"]),V.row.description?(w(),A(Je,{key:0,text:V.row.description,"max-length":50,class:"text-grey-6"},null,8,["text"])):j("",!0)]),_:2},1032,["props"]),e(B,{key:"stock",props:V,class:"wrap-column text-right"},{default:l(()=>[y(i(V.row.type=="stocked"?t(F)(V.row.stock)+" "+V.row.uom:"-"),1)]),_:2},1032,["props"]),e(B,{key:"price",props:V,class:"wrap-column text-right"},{default:l(()=>[y(" Rp. "+i(t(F)(V.row.price)),1)]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick","onKeydown"])]),_:1},8,["pagination","filter","loading","columns","rows"])]),_:1})]),_:1})]),_:1},8,["model-value","maximized"]))}},nd={class:"row items-center no-wrap"},sd={class:"col-auto"},da={__name:"ItemEditorDialog",props:{modelValue:{type:Boolean,required:!0},item:{type:Object,required:!1},isProcessing:{type:Boolean,required:!1}},emits:["update:modelValue","save"],setup(d,{expose:n,emit:f}){const o=d,s=f,m=()=>{s("save")},p=ee(()=>o.item.quantity*o.item.price),g=b=>{b.stopPropagation(),b.preventDefault()},r=b=>{o.modelValue&&(b.key==="Enter"?(m(),g(b)):b.key==="Escape"&&(s("update:modelValue",!1),g(b)))};return we(()=>{window.addEventListener("keydown",r)}),Bt(()=>{window.removeEventListener("keydown",r)}),n({getCurrentItem:()=>o.item}),(b,k)=>(w(),A(vt,{"model-value":d.modelValue,"onUpdate:modelValue":k[6]||(k[6]=u=>b.$emit("update:modelValue",u))},{default:l(()=>[e(de,null,{default:l(()=>[e(te,{class:"q-py-sm"},{default:l(()=>[a("div",nd,[k[7]||(k[7]=a("div",{class:"col text-subtite text-bold text-grey-8"},"Edit Item",-1)),a("div",sd,[e(O,{flat:"",size:"xs",round:"",icon:"close",onClick:k[0]||(k[0]=u=>b.$emit("update:modelValue",!1))})])])]),_:1}),e(te,{class:"q-py-sm"},{default:l(()=>[e(X,{modelValue:d.item.product_name,"onUpdate:modelValue":k[1]||(k[1]=u=>d.item.product_name=u),label:"Produk","hide-bottom-space":"",readonly:"",disable:d.isProcessing},null,8,["modelValue","disable"]),e(Ie,{modelValue:d.item.quantity,"onUpdate:modelValue":k[2]||(k[2]=u=>d.item.quantity=u),label:"Kwantitas","hide-bottom-space":"",autofocus:"",disable:d.isProcessing},null,8,["modelValue","disable"]),e(Ie,{modelValue:d.item.price,"onUpdate:modelValue":k[3]||(k[3]=u=>d.item.price=u),label:"Harga",readonly:!d.item.price_editable,"hide-bottom-space":"",disable:d.isProcessing},null,8,["modelValue","readonly","disable"]),e(Ie,{modelValue:p.value,"onUpdate:modelValue":k[4]||(k[4]=u=>p.value=u),label:"Subtotal","hide-bottom-space":"",readonly:""},null,8,["modelValue"]),e(X,{modelValue:d.item.notes,"onUpdate:modelValue":k[5]||(k[5]=u=>d.item.notes=u),label:"Catatan",autogrow:"",type:"textarea",counter:"",maxlength:"50","hide-bottom-space":"",clearable:""},null,8,["modelValue"])]),_:1}),e(gt,{align:"right"},{default:l(()=>[Y(e(O,{flat:"",label:"Batal",color:"primary",disable:d.isProcessing},null,8,["disable"]),[[ie]]),Y(e(O,{flat:"",label:"Simpan",color:"primary",onClick:m,disable:d.isProcessing},null,8,["disable"]),[[ie]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},rd=Object.freeze(Object.defineProperty({__proto__:null,default:da},Symbol.toStringTag,{value:"Module"})),id={key:0,class:"q-select__selected-item"},ud={__name:"CustomerAutocomplete",props:{modelValue:{type:[Object],default:null},class:{type:String,default:""},label:{type:String,default:"Cari Pelanggan"},error:{type:Boolean,default:!1},errorMessage:{type:String,default:""},disable:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},minLength:{type:Number,default:0},initialData:{type:Object,default:null}},emits:["update:modelValue","customerSelected"],setup(d,{expose:n,emit:f}){const o=x(null),s=d,m=f,p=x([]);let g=null;const r=x(s.modelValue);we(()=>{s.initialData&&(r.value=s.initialData)}),Te(r,k=>{m("update:modelValue",k),m("customerSelected",k)}),Te(()=>s.modelValue,k=>{r.value=k}),n({focus:()=>{o.value&&o.value.focus()}});const b=(k,u)=>{if(k.length<s.minLength){u(()=>{p.value=[]});return}g&&clearTimeout(g),g=setTimeout(()=>{dt.get(`/web-api/customers?q=${k}`).then(v=>{u(()=>{p.value=v.data.data})}).catch(v=>{console.error("Gagal mengambil data pelanggan:",v),u(()=>{p.value=[]})})},500)};return(k,u)=>(w(),A(re,{class:ye(d.class),ref_key:"qSelectRef",ref:o,modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=v=>r.value=v),"use-input":"","input-debounce":"0",label:d.label,options:p.value,onFilter:b,clearable:"",error:d.error,behavior:"menu","error-message":d.errorMessage,disable:d.disable,"hide-bottom-space":"",outlined:d.outlined,style:{"min-width":"150px !important"},"option-value":"id","option-label":"name"},{option:l(v=>[e(Z,oo(no(v.itemProps)),{default:l(()=>[e(I,null,{default:l(()=>[e(me,null,{default:l(()=>[y(i(v.opt.name),1)]),_:2},1024),e(me,{caption:""},{default:l(()=>[e(C,{name:"person",size:"14px"}),y(" "+i(v.opt.username),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),"selected-item":l(v=>[v.opt?(w(),E("div",id,i(v.opt.name)+" ("+i(v.opt.username)+") ",1)):j("",!0)]),_:1},8,["class","modelValue","label","options","error","error-message","disable","outlined"]))}},dd={__name:"HelpDialog",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(d,{emit:n}){return(f,o)=>(w(),A(vt,{"model-value":d.modelValue,"onUpdate:modelValue":o[0]||(o[0]=s=>f.$emit("update:modelValue",s))},{default:l(()=>[e(de,{style:{"min-width":"300px"}},{default:l(()=>[e(te,{class:"q-py-none q-pt-md"},{default:l(()=>o[1]||(o[1]=[a("div",{class:"text-bold text-grey-8"},"Bantuan",-1)])),_:1}),e(te,null,{default:l(()=>o[2]||(o[2]=[a("table",{style:{width:"100%"},class:"info-table"},[a("thead",null,[a("tr",null,[a("th",null,"Shortcut"),a("th",null,"Aksi")])]),a("tbody",null,[a("tr",null,[a("td",null,"F1"),a("td",null,"Dialog Bantuan")]),a("tr",null,[a("td",null,"F2"),a("td",null,"Aktifkan Input Barcode")]),a("tr",null,[a("td",null,"F3"),a("td",null,"Pilih Pelanggan")]),a("tr",null,[a("td",null,"F4"),a("td",null,"Gabung / pisahkan item saat input")])])],-1)])),_:1}),e(gt,{align:"center"},{default:l(()=>[Y(e(O,{dense:"",label:"Tutup"},null,512),[[ie]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},ma=ft(dd,[["__scopeId","data-v-ed1bbfe5"]]),md=Object.freeze(Object.defineProperty({__proto__:null,default:ma},Symbol.toStringTag,{value:"Module"}));function cd(d){const n=x(!1),f=()=>{const m=d.value||document.documentElement;m.requestFullscreen?m.requestFullscreen():m.webkitRequestFullscreen?m.webkitRequestFullscreen():m.mozRequestFullScreen?m.mozRequestFullScreen():m.msRequestFullscreen&&m.msRequestFullscreen()},o=()=>{document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},s=()=>{n.value?o():f()};return so(()=>{const m=()=>{n.value=!!document.fullscreenElement};return document.addEventListener("fullscreenchange",m),document.addEventListener("webkitfullscreenchange",m),document.addEventListener("mozfullscreenchange",m),document.addEventListener("MSFullscreenChange",m),()=>{document.removeEventListener("fullscreenchange",m),document.removeEventListener("webkitfullscreenchange",m),document.removeEventListener("mozfullscreenchange",m),document.removeEventListener("MSFullscreenChange",m)}}),{isFullscreen:n,requestFullscreen:f,exitFullscreen:o,toggleFullscreen:s}}const pd={class:"row items-center no-wrap"},fd={class:"col text-subtite text-bold text-grey-8"},gd={class:"col-auto"},ca={__name:"OrderInfoDialog",props:{modelValue:{type:Boolean,required:!0},data:{type:Object,required:!1},isProcessing:{type:Boolean,required:!1}},emits:["update:modelValue","save"],setup(d,{expose:n,emit:f}){const o=d,s=f,m=()=>{s("save")},p=c=>{c.stopPropagation(),c.preventDefault()},g=c=>{o.modelValue&&(c.key==="Enter"?(m(),p(c)):c.key==="Escape"&&(s("update:modelValue",!1),p(c)))};return we(()=>{window.addEventListener("keydown",g)}),Bt(()=>{window.removeEventListener("keydown",g)}),n({getCurrentItem:()=>o.item}),(c,b)=>(w(),A(vt,{"model-value":d.modelValue,"onUpdate:modelValue":b[4]||(b[4]=k=>c.$emit("update:modelValue",k))},{default:l(()=>[e(de,null,{default:l(()=>[e(te,{class:"q-py-sm"},{default:l(()=>[a("div",pd,[a("div",fd," Edit "+i(d.data.formatted_id),1),a("div",gd,[e(O,{flat:"",size:"sm",round:"",icon:"close",onClick:b[0]||(b[0]=k=>c.$emit("update:modelValue",!1))})])])]),_:1}),e(te,{class:"q-py-sm"},{default:l(()=>[e($t,{modelValue:d.data.datetime,"onUpdate:modelValue":b[1]||(b[1]=k=>d.data.datetime=k),label:"Waktu","hide-bottom-space":"",disable:d.isProcessing,autofocus:""},null,8,["modelValue","disable"]),e(X,{modelValue:c.$CONSTANTS.SALES_ORDER_STATUSES[d.data.status],"onUpdate:modelValue":b[2]||(b[2]=k=>c.$CONSTANTS.SALES_ORDER_STATUSES[d.data.status]=k),label:"Status","hide-bottom-space":"",readonly:"",disable:d.isProcessing},null,8,["modelValue","disable"]),e(X,{modelValue:d.data.notes,"onUpdate:modelValue":b[3]||(b[3]=k=>d.data.notes=k),label:"Catatan",autogrow:"",type:"textarea",counter:"",maxlength:"50","hide-bottom-space":"",clearable:""},null,8,["modelValue"])]),_:1}),e(gt,{align:"right"},{default:l(()=>[Y(e(O,{flat:"",label:"Batal",color:"primary",disable:d.isProcessing},null,8,["disable"]),[[ie]]),Y(e(O,{flat:"",label:"Simpan",color:"primary",onClick:m,disable:d.isProcessing},null,8,["disable"]),[[ie]])]),_:1})]),_:1})]),_:1},8,["model-value"]))}},bd=Object.freeze(Object.defineProperty({__proto__:null,default:ca},Symbol.toStringTag,{value:"Module"})),vd={class:"q-gutter-sm"},_d={class:"row items-center"},yd={class:"text-weight-bold"},wd={class:"row q-col-gutter-none full-width"},kd={class:"col-sm-6 col-12 col"},hd={class:"row full-width"},$d={key:0,class:"text-grey q-mt-xs q-ml-sm"},Sd={class:"col-sm-6 col-12"},xd={class:"row q-ml-sm items-end"},Vd={key:0,class:"col text-right q-mr-sm"},Cd={class:"row col grow"},qd={class:"col-12 q-pa-sm column"},Td={class:"row items-start q-col-gutter-md q-px-sm"},Pd={key:0,class:"col"},Od={class:"text-caption text-grey-6 q-mt-xs"},Id={key:0,class:"text-caption text-grey-8 q-mt-xs"},Ed={class:"text-italic"},Rd={key:1,class:"col"},Nd={class:"q-pa-sm q-pb-none text-grey-8"},Md={class:"col"},Ud={class:"row no-wrap items-start justify-between",style:{background:"#eee",padding:"10px",border:"1px solid #ddd"}},Ad={class:"text-h4 text-weight-bold"},Dd={class:"row q-px-sm q-py-sm"},jd={__name:"Editor",setup(d){const n=he(),f=be(),o=x(!0),s=x(null),m=x(null),p=x(null),g=x(!1),r=x(null),c=x(null),{isFullscreen:b,toggleFullscreen:k}=cd(c),u=f.props.company.name,v=x(f.props.data.customer),$=Oe({id:f.props.data.id,formatted_id:f.props.data.formatted_id,customer_id:f.props.data.customer_id,datetime:f.props.data.datetime,status:f.props.data.status,payment_status:f.props.data.payment_status,delivery_status:f.props.data.delivery_status,notes:f.props.data.notes,items:f.props.data.details??[]}),_=x(""),M=x(!1),V=x(!1),h=x(!1),T=x(!1),P=x(!1),q=x(null),R=ee(()=>$.items.reduce((ne,z)=>ne+z.price*z.quantity,0)),S=()=>{var ne;k(),b.value||(ne=r==null?void 0:r.value)==null||ne.hideDrawer()},N=ne=>isNaN(ne)||ne<=0?(Vt("Kuantitas tidak valid.","top"),!1):!0,Q=ne=>isNaN(ne)||ne<0?(Vt("Harga tidak valid.","top"),!1):!0,U=ne=>!ne||ne.length==0?(Vt("Barcode tidak valid.","top"),!1):!0,le=ne=>{_.value.endsWith("*")?_.value+=ne.name:_.value=ne.name},ae=async()=>{const ne=_.value.trim();if(ne.length===0){h.value=!0;return}const z=ne.split("*");let qe=1,De="",ce=null;if(z.length===1)De=z[0];else if(z.length<=3)qe=parseInt(z[0]),De=z[1],z.length===3&&(ce=parseFloat(z[2]));else{Vt("Input tidak valid.","top");return}if(De.length===0){alert("di kedua"),h.value=!0;return}!U(De)&&!N(qe)&&!Q(ce)||(M.value=!0,await dt.post(route("admin.sales-order.add-item"),{order_id:$.id,product_code:De,qty:qe,price:ce,merge:o.value}).then(Le=>{const at=Le.data.data.item;let He=-1;Le.data.data.mergeItem&&(He=$.items.findIndex(zt=>zt.id===at.id)),He===-1?$.items.push(at):$.items[He]=at,_.value="",ce!==null&&ce!==parseFloat(at.price)&&Vt("Harga tidak dapat diubah!","top")}).catch(Le=>{var at,He;Rt((He=(at=Le.response)==null?void 0:at.data)==null?void 0:He.message,"top"),console.error("Gagal mengambil data produk:",Le)}),M.value=!1,Mt(()=>{var Le;(Le=s.value)==null||Le.focus()}))},H=ne=>{q.value=Object.create(ne),T.value=!0},D=ne=>{n.dialog({title:"Hapus Item",message:`Apakah Anda yakin akan menghapus item ${ne.product_name}?`,cancel:{label:"Batal",color:"grey"},ok:{label:"Hapus",color:"negative"},persistent:!0}).onOk(()=>{M.value=!0,dt.post(route("admin.sales-order.remove-item"),{id:ne.id}).then(()=>{const z=$.items.findIndex(qe=>qe.id===ne.id);z!==-1&&($.items.splice(z,1)[0],Jt("Item telah dihapus","top"))}).catch(z=>{Rt("Gagal menghapus item","top"),console.error(z)}).finally(()=>{M.value=!1})})},pe=()=>{M.value=!0;const ne=m.value.getCurrentItem(),z={id:ne.id,qty:ne.quantity};ne.price_editable&&(z.price=ne.price),ne.notes&&(z.notes=ne.notes),dt.post(route("admin.sales-order.update-item"),z).then(qe=>{const De=qe.data.data,ce=$.items.findIndex(Le=>Le.id===De.id);ce!==-1&&($.items[ce]=De,Jt("Item telah diperbarui","top"))}).catch(qe=>{Rt("Gagal memperbarui item","top"),console.error(qe)}).finally(()=>{M.value=!1})},Ce=()=>{if($.items.length===0){Jt("Item masih kosong","top");return}};we(()=>{const ne=z=>{z.key==="F1"?(z.preventDefault(),g.value=!0):z.key==="F2"?(z.preventDefault(),s.value.focus()):z.key==="F3"?(z.preventDefault(),p.value.focus()):z.key==="F4"?(z.preventDefault(),o.value=!o.value):z.key==="F11"&&(z.preventDefault(),S())};document.addEventListener("keydown",ne),Bt(()=>{document.removeEventListener("keydown",ne)}),Mt(()=>{var z;(z=r==null?void 0:r.value)==null||z.hideDrawer()})});const ue=ne=>{v.value=ne,$.customer_id=ne==null?void 0:ne.id,Ae()},Ae=()=>{M.value=!0;const ne={id:$.id,customer_id:$.customer_id,datetime:$.datetime,notes:$.notes};dt.post(route("admin.sales-order.update"),ne).then(z=>{const qe=z.data.data.id;$.customer_id=qe.customer_id}).catch(z=>{Rt("Terdapat kesalahan saat menyimpan!","top"),console.error(z)}).finally(()=>{M.value=!1})};return(ne,z)=>{const qe=L("i-head"),De=L("authenticated-layout");return w(),E(W,null,[e(qe,{title:t(u)},null,8,["title"]),e(De,{ref_key:"authLayoutRef",ref:r},{title:l(()=>[y(i(t(u)),1)]),"left-button":l(()=>[a("div",vd,[t(n).screen.gt.sm?(w(),A(O,{key:0,icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:z[0]||(z[0]=ce=>t(K).get(ne.route("admin.sales-order.index")))})):j("",!0)])]),"right-button":l(()=>[a("div",_d,[t(n).screen.gt.sm?(w(),E(W,{key:0},[a("div",yd,i(t(f).props.auth.user.username),1),z[19]||(z[19]=a("div",{class:"q-mx-sm"},"|",-1)),a("div",null,[e(la)])],64)):j("",!0),e(O,{class:"q-ml-sm",icon:t(b)?"fullscreen_exit":"fullscreen",dense:"",color:"grey-7",flat:"",rounded:"",onClick:z[1]||(z[1]=ce=>S())},null,8,["icon"])])]),default:l(()=>[e(Ve,{class:"bg-grey-2 q-pa-none column fit"},{default:l(()=>[e(de,{square:"",flat:"",class:"full-width col column q-pb-none"},{default:l(()=>[a("div",wd,[a("div",kd,[a("div",hd,[e(ud,{ref_key:"customerAutocompleteRef",ref:p,class:"custom-select full-width col col-12 bg-white q-pa-sm",modelValue:v.value,"onUpdate:modelValue":z[2]||(z[2]=ce=>v.value=ce),label:"Pelanggan",disable:M.value,onCustomerSelected:ue,"min-length":1,outlined:""},null,8,["modelValue","disable"]),v.value?(w(),E("div",$d," Saldo: Rp. "+i(t(F)(v.value?v.value.balance:0)),1)):j("",!0)])]),a("div",Sd,[e(X,{ref_key:"userInputRef",ref:s,modelValue:_.value,"onUpdate:modelValue":z[5]||(z[5]=ce=>_.value=ce),onKeyup:z[6]||(z[6]=Tt(J(ce=>ae(),["prevent"]),["enter"])),loading:M.value,disable:M.value,placeholder:"Qty * Kode / Barcode * Harga",class:"col col-12 q-pa-sm bg-white",outlined:"",clearable:"",autofocus:""},{prepend:l(()=>[e(C,{name:"search",onClick:z[3]||(z[3]=ce=>h.value=!0),class:"cursor-pointer"})]),append:l(()=>{var ce;return[((ce=_.value)==null?void 0:ce.length)>0?(w(),A(C,{key:0,name:"send",onClick:z[4]||(z[4]=Le=>ae()),class:"cursor-pointer q-ml-md"})):j("",!0)]}),_:1},8,["modelValue","loading","disable"]),a("div",xd,[e(Zt,{class:"col",modelValue:o.value,"onUpdate:modelValue":z[7]||(z[7]=ce=>o.value=ce),label:"Gabungkan item",disable:M.value},null,8,["modelValue","disable"]),t(n).screen.gt.sm?j("",!0):(w(),E("div",Vd,[e(O,{flat:"",icon:"edit",color:"grey",dense:"",rounded:"",size:"sm",title:"Edit Order Info",onClick:z[8]||(z[8]=ce=>P.value=!0)})]))])])]),a("div",Cd,[a("div",qd,[e(ia,{items:$.items,onUpdateQuantity:z[9]||(z[9]=({id:ce,value:Le})=>ne.updateQuantity(ce,Le)),onRemoveItem:D,onEditItem:H,"is-processing":M.value},null,8,["items","is-processing"])])]),a("div",Td,[t(n).screen.gt.sm?(w(),E("div",Pd,[a("div",Od,i($.items.length)+" item(s) ",1),$.notes?(w(),E("div",Id,[z[20]||(z[20]=a("div",{class:"text-bold"},"Catatan:",-1)),a("div",Ed,[e(Je,{text:$.notes},null,8,["text"])])])):j("",!0)])):j("",!0),t(n).screen.gt.sm?(w(),E("div",Rd,[a("div",Nd,[a("div",null,[y(" #: "+i($.formatted_id)+" ",1),e(O,{icon:"edit",flat:"",size:"xs",dense:"",rounded:"",onClick:z[10]||(z[10]=ce=>P.value=!0)})]),a("div",null,i(t(Ze)($.datetime)),1)])])):j("",!0),a("div",Md,[a("div",Ud,[z[22]||(z[22]=a("span",{class:"text-grey-8 text-subtitle-2 text-bold"},"TOTAL",-1)),a("span",Ad,[z[21]||(z[21]=a("sup",{style:{"font-size":"13px"}},"Rp.",-1)),y(" "+i(t(F)(R.value)),1)])])])]),a("div",Dd,[e(O,{class:"full-width",label:"Bayar",color:"primary",icon:"payment",onClick:z[11]||(z[11]=ce=>Ce()),disable:M.value||$.items.length===0,loading:M.value},null,8,["disable","loading"])])]),_:1}),e(da,{ref_key:"itemEditorRef",ref:m,modelValue:T.value,"onUpdate:modelValue":z[12]||(z[12]=ce=>T.value=ce),item:q.value,onSave:z[13]||(z[13]=ce=>pe()),"is-processing":M.value},null,8,["modelValue","item","is-processing"]),e(ua,{modelValue:V.value,"onUpdate:modelValue":z[14]||(z[14]=ce=>V.value=ce)},null,8,["modelValue"]),e(od,{modelValue:h.value,"onUpdate:modelValue":z[15]||(z[15]=ce=>h.value=ce),onProductSelected:le},null,8,["modelValue"]),e(ca,{modelValue:P.value,"onUpdate:modelValue":z[16]||(z[16]=ce=>P.value=ce),data:$,onSave:z[17]||(z[17]=ce=>Ae()),"is-processing":M.value},null,8,["modelValue","data","is-processing"]),e(ma,{modelValue:g.value,"onUpdate:modelValue":z[18]||(z[18]=ce=>g.value=ce)},null,8,["modelValue"])]),_:1})]),_:1},512)],64)}}},Bd=Object.freeze(Object.defineProperty({__proto__:null,default:jd},Symbol.toStringTag,{value:"Module"})),Ld={__name:"SalesOrderStatusChip",props:{status:{type:String,required:!0}},setup(d){const n=window.CONSTANTS.SALES_ORDER_STATUSES,f={draft:"orange",closed:"green",canceled:"red"};return(o,s)=>(w(),A(el,{status:d.status,statuses:t(n),colors:f},null,8,["status","statuses"]))}},zd={__name:"SalesOrderPaymentStatusChip",props:{status:{type:String,required:!0}},setup(d){const n=window.CONSTANTS.SALES_ORDER_PAYMENT_STATUSES,f={unpaid:"red",fully_paid:"green",partially_paid:"orange",refunded:"black"};return(o,s)=>(w(),A(el,{status:d.status,statuses:t(n),colors:f},null,8,["status","statuses"]))}},Fd={__name:"SalesOrderDeliveryStatusChip",props:{status:{type:String,required:!0}},setup(d){const n=window.CONSTANTS.SALES_ORDER_DELIVERY_STATUSES,f={not_sent:"grey",sent:"orange",received:"green",failed:"red"};return(o,s)=>(w(),A(el,{status:d.status,statuses:t(n),colors:f},null,8,["status","statuses"]))}},Hd={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Yd={class:"q-pa-xs"},Kd={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Qd={key:1},Wd={class:"flex justify-end"},Rl="Penjualan",Jd={__name:"Index",setup(d){const n=he(),f=x(!1),o=x([]),s=x(!0),m=x(null),p=x(null),g=Ke(p),r=At(),c=Dt(),b=[{label:"Semua Tahun",value:"all"},{label:`${r}`,value:r},...kt(r-2,r-1).reverse()],k=[{value:"all",label:"Semua Bulan"},...ht()],u=[{value:"all",label:"Semua Status"},...je(window.CONSTANTS.SALES_ORDER_STATUSES)],v=[{value:"all",label:"Semua Status"},...je(window.CONSTANTS.SALES_ORDER_PAYMENT_STATUSES)],$=[{value:"all",label:"Semua Status"},...je(window.CONSTANTS.SALES_ORDER_DELIVERY_STATUSES)],_=Oe({search:"",year:r,month:c,status:"all",payment_status:"all",delivery_status:"all",...Me()}),M=x({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),V=[{name:"id",label:"Info Order",field:"id",align:"left",sortable:!0},{name:"customer_id",label:"Pelanggan",field:"customer_id",align:"left"},{name:"total",label:"Total",field:"total",align:"right"},{name:"action",align:"right"}];we(()=>{S()});const h=U=>{if(U.status=="draft"){T(U);return}P(U)},T=U=>{K.get(route("admin.sales-order.edit",U.id))},P=U=>{K.get(route("admin.sales-order.detail",U.id))},q=U=>{Yl.create({title:"Konfirmasi Pembatalan",icon:"question",message:`Batalkan transaksi #${U.formatted_id}?`,focus:"cancel",cancel:!0,persistent:!0}).onOk(()=>{dt.post(route("admin.sales-order.cancel",{id:U.id}),{id:U.id}).then(le=>{const ae=le.data.data,H=o.value.findIndex(D=>D.id===ae.id);if(H===-1){console.warn("Item tidak ditemukan di tabel.");return}o.value[H].status="dibatalkan",n.notify({message:le.data.message,position:"bottom"})}).catch(le=>{var H,D;const ae=((D=(H=le.response)==null?void 0:H.data)==null?void 0:D.message)||"Terjadi kesalahan saat membatalkan transaksi.";n.notify({message:ae,color:"warning",position:"bottom"}),console.error(le)})})},R=U=>Xe({title:"Konfirmasi Penghapusan",message:`Hapus transaksi #${U.formatted_id}?`,url:route("admin.sales-order.delete",U.id),fetchItemsCallback:S,loading:s}),S=(U=null)=>{Ue({pagination:M,filter:_,props:U,rows:o,url:route("admin.sales-order.data"),loading:s,tableRef:m})},N=()=>{S()},Q=ee(()=>n.screen.gt.sm?V:V.filter(U=>U.name==="id"||U.name==="action"));return Te(()=>_.year,U=>{U===null&&(_.month=null)}),(U,le)=>{const ae=L("i-head"),H=L("authenticated-layout");return w(),E(W,null,[e(ae,{title:Rl}),e(H,null,Qe({title:l(()=>[y(i(Rl))]),"right-button":l(()=>[e(O,{icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:le[0]||(le[0]=D=>f.value=!f.value)},null,8,["icon"]),e(O,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:le[1]||(le[1]=D=>t(K).get(U.route("admin.sales-order.add")))})]),default:l(()=>[a("div",Yd,[e($e,{ref_key:"tableRef",ref:m,class:"full-height-table",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:M.value,"onUpdate:pagination":le[13]||(le[13]=D=>M.value=D),filter:_.search,loading:s.value,columns:Q.value,rows:o.value,"rows-per-page-options":[10,25,50],style:We({height:t(g)}),onRequest:S,"binary-state-sort":""},{loading:l(()=>[e(Be,{showing:"",color:"red"})]),"no-data":l(({icon:D,message:pe,filter:Ce})=>[a("div",Kd,[a("span",null,i(pe)+" "+i(Ce?" with term "+Ce:""),1)])]),body:l(D=>[e(ke,{props:D,class:"cursor-pointer",onClick:J(pe=>h(D.row),["prevent"])},{default:l(()=>[e(B,{key:"id",props:D,class:"wrap-column"},{default:l(()=>[a("div",null,"# "+i(D.row.formatted_id),1),a("div",null,[e(C,{class:"inline-icon",name:"calendar_today"}),y(i(t(Ze)(D.row.datetime)),1)]),t(n).screen.gt.sm?j("",!0):(w(),E(W,{key:0},[D.row.customer?(w(),A(gl,{key:0,href:U.route("admin.customer.detail",{id:D.row.customer.id}),onClick:le[8]||(le[8]=J(()=>{},["stop"]))},{default:l(()=>[y(i(D.row.customer.formatted_id)+" ",1),le[14]||(le[14]=a("br",null,null,-1)),y(" "+i(D.row.customer.name),1)]),_:2},1032,["href"])):j("",!0),a("div",null,"Rp. "+i(t(F)(D.row.total_price)),1),D.row.notes?(w(),E("div",Qd,[e(C,{name:"notes"}),y(" "+i(D.row.notes),1)])):j("",!0)],64)),a("div",null,[e(Ld,{status:D.row.status},null,8,["status"]),e(zd,{status:D.row.payment_status},null,8,["status"]),e(Fd,{status:D.row.delivery_status},null,8,["status"])])]),_:2},1032,["props"]),e(B,{key:"customer_id",props:D,onClick:le[10]||(le[10]=J(()=>{},["stop"]))},{default:l(()=>[D.row.customer?(w(),A(gl,{key:0,href:U.route("admin.customer.detail",{id:D.row.customer.id}),onClick:le[9]||(le[9]=J(()=>{},["stop"]))},{default:l(()=>[y(i(D.row.customer.formatted_id)+" ",1),le[15]||(le[15]=a("br",null,null,-1)),y(" "+i(D.row.customer.name),1)]),_:2},1032,["href"])):j("",!0)]),_:2},1032,["props"]),e(B,{key:"total",props:D},{default:l(()=>[y(i(t(F)(D.row.total_price)),1)]),_:2},1032,["props"]),e(B,{key:"action",props:D,onClick:le[12]||(le[12]=J(()=>{},["stop"]))},{default:l(()=>[a("div",Wd,[e(O,{disabled:!t(et)(U.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:le[11]||(le[11]=J(()=>{},["stop"]))},{default:l(()=>[e(Ge,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[D.row.status!="draft"?Y((w(),A(Z,{key:0,onClick:J(pe=>P(D.row),["stop"]),clickable:""},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"visibility"})]),_:1}),e(I,null,{default:l(()=>le[16]||(le[16]=[y(" Lihat ")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]]):j("",!0),Y((w(),A(Z,{onClick:J(pe=>T(D.row),["stop"]),clickable:""},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"edit"})]),_:1}),e(I,null,{default:l(()=>[y(i(D.row.status=="draft"?"Edit":"Reopen"),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[oe],[ie]]),D.row.status=="draft"?Y((w(),A(Z,{key:1,onClick:J(pe=>q(D.row),["stop"]),clickable:""},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"cancel"})]),_:1}),e(I,null,{default:l(()=>le[17]||(le[17]=[y(" Batalkan ")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]]):j("",!0),e(lt),Y((w(),A(Z,{onClick:J(pe=>R(D.row),["stop"]),clickable:""},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:l(()=>le[18]||(le[18]=[y(" Hapus ")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[f.value?{name:"header",fn:l(()=>[e(Fe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:l(()=>[a("div",Hd,[e(re,{modelValue:_.year,"onUpdate:modelValue":[le[2]||(le[2]=D=>_.year=D),N],options:b,label:"Tahun",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),_.year!="all"?(w(),A(re,{key:0,modelValue:_.month,"onUpdate:modelValue":[le[3]||(le[3]=D=>_.month=D),N],options:k,label:"Bulan",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":"",disable:_.year===null},null,8,["modelValue","disable"])):j("",!0),e(re,{modelValue:_.status,"onUpdate:modelValue":[le[4]||(le[4]=D=>_.status=D),N],options:u,label:"Status",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(re,{modelValue:_.payment_status,"onUpdate:modelValue":[le[5]||(le[5]=D=>_.payment_status=D),N],options:v,label:"Status Pembayaran",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(re,{modelValue:_.delivery_status,"onUpdate:modelValue":[le[6]||(le[6]=D=>_.delivery_status=D),N],options:$,label:"Status Pengiriman",dense:"",outlined:"",class:"col-xs-6 col-sm-2","emit-value":"","map-options":""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:_.search,"onUpdate:modelValue":le[7]||(le[7]=D=>_.search=D),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Gd=Object.freeze(Object.defineProperty({__proto__:null,default:Jd},Symbol.toStringTag,{value:"Module"})),Xd={class:"q-gutter-sm"},Zd={class:"col col-md-6 q-pa-xs"},em={key:0},tm={class:"text-bold"},lm={key:0},am={class:"text-caption text-grey-8"},om={key:1},Nl="Buat Penyesuaian Stok",nm={__name:"Create",setup(d){const f=be().props.products,o=x([]),s=Pe({type:"stock_opname",datetime:pt().format("YYYY-MM-DD HH:mm:ss"),notes:null,product_ids:[]}),m=[{name:"name",label:"Nama Produk",field:"name",align:"left",sortable:!0},{name:"stock",label:"Stok",field:"stock",align:"center",sortable:!1,format:(b,k)=>F(b)+" "+k.uom}],p=je(window.CONSTANTS.STOCKADJUSTMENT_TYPES),g=()=>{s.product_ids=o.value.map(b=>b.id),Ne({form:s,url:route("admin.stock-adjustment.create")})},r=he(),c=ee(()=>r.screen.gt.sm?m:m.filter(b=>b.name==="name"));return(b,k)=>{const u=L("i-head"),v=L("authenticated-layout");return w(),E(W,null,[e(u,{title:Nl}),e(v,null,{title:l(()=>[y(i(Nl))]),"left-button":l(()=>[a("div",Xd,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:k[0]||(k[0]=$=>t(K).get(b.route("admin.stock-adjustment.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[a("div",Zd,[e(Re,{class:"row",onSubmit:J(g,["prevent"]),onValidationError:t(ze)},{default:l(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-sm"},{default:l(()=>[k[6]||(k[6]=a("div",{class:"text-subtitle2"},[a("b",null,"Info Penyesuaian Stok")],-1)),e($t,{modelValue:t(s).datetime,"onUpdate:modelValue":k[1]||(k[1]=$=>t(s).datetime=$),label:"Waktu",error:!!t(s).errors.datetime,disable:t(s).processing,"error-message":t(s).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(re,{modelValue:t(s).type,"onUpdate:modelValue":k[2]||(k[2]=$=>t(s).type=$),options:t(p),label:"Jenis Penyesuaian",class:"custom-select",error:!!t(s).errors.type,disable:t(s).processing,"map-options":"","emit-value":"","error-message":t(s).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","error-message"]),e(X,{modelValue:t(s).notes,"onUpdate:modelValue":k[3]||(k[3]=$=>t(s).notes=$),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.notes,"error-message":t(s).errors.notes,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,null,{default:l(()=>[k[7]||(k[7]=a("div",{class:"text-subtitle2"},[a("b",null,"Pilih Produk")],-1)),e($e,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:c.value,rows:t(f),"binary-state-sort":"","hide-pagination":!0,dense:"","rows-per-page-options":[0],selection:"multiple",selected:o.value,"onUpdate:selected":k[4]||(k[4]=$=>o.value=$)},{"body-cell-name":l($=>[e(B,{props:$},{default:l(()=>[t(r).screen.lt.md?(w(),E("div",em,[a("div",tm,i($.row.name),1),$.row.category?(w(),E("div",lm,i($.row.category.name),1)):j("",!0),a("div",am,i(t(F)($.row.stock))+" "+i($.row.uom),1)])):(w(),E("div",om,i($.row.name),1))]),_:2},1032,["props"])]),_:1},8,["columns","rows","selected"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(O,{icon:"play_arrow",type:"submit",label:"Lanjutkan",color:"primary",disable:t(s).processing},null,8,["disable"]),e(O,{icon:"cancel",label:"Batal",disable:t(s).processing,onClick:k[5]||(k[5]=$=>t(K).get(b.route("admin.stock-adjustment.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},sm=Object.freeze(Object.defineProperty({__proto__:null,default:nm},Symbol.toStringTag,{value:"Module"})),rm={class:"q-gutter-sm"},im={class:"row justify-center"},um={class:"col col-lg-8 q-pa-sm"},dm={class:"row"},mm={class:"detail"},cm={key:0},pm={key:1},fm={class:"text-grey-9"},gm={__name:"Detail",setup(d){const n=be(),f=`Rincian Penyesuaian Stok #${n.props.data.id}`,o=n.props.details,s=[{name:"no",label:"#",field:"no",align:"left"},{name:"product_name",label:"Nama Produk",field:"product_name",align:"left"},{name:"uom",label:"Satuan",field:"uom",align:"left"},{name:"old_quantity",label:"Stok Lama",field:"old_quantity",align:"right",format:g=>F(g)},{name:"new_quantity",label:"Stok Baru",field:"new_quantity",align:"right",format:g=>F(g)},{name:"balance",label:"Selisih Stok",field:"balance",align:"right",format:g=>F(g)},{name:"cost_balance",label:"Selisih Modal",field:"cost_balance",align:"right"},{name:"price_balance",label:"Selisih Harga",field:"price_balance",align:"right"},{name:"notes",label:"Catatan",field:"notes",align:"left"}],m=he(),p=ee(()=>m.screen.gt.sm?s:s.filter(g=>g.name==="no"));return(g,r)=>{const c=L("i-head"),b=L("i-link"),k=L("authenticated-layout");return w(),E(W,null,[e(c,{title:f}),e(k,null,{title:l(()=>[y(i(f))]),"left-button":l(()=>[a("div",rm,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:r[0]||(r[0]=u=>g.$inertia.get(g.route("admin.stock-adjustment.index")))})])]),default:l(()=>[a("div",im,[a("div",um,[a("div",dm,[e(de,{square:"",flat:"",bordered:"",class:"q-card col"},{default:l(()=>[e(te,null,{default:l(()=>[r[21]||(r[21]=a("div",{class:"text-subtitle1 text-bold text-grey-9"}," Info Penyesuaian Stok ",-1)),a("table",mm,[a("tbody",null,[a("tr",null,[r[1]||(r[1]=a("td",{style:{width:"120px"}},"ID",-1)),r[2]||(r[2]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,"# "+i(t(n).props.data.id),1)]),a("tr",null,[r[3]||(r[3]=a("td",null,"Jenis",-1)),r[4]||(r[4]=a("td",null,":",-1)),a("td",null,i(g.$CONSTANTS.STOCKADJUSTMENT_TYPES[t(n).props.data.type]),1)]),a("tr",null,[r[5]||(r[5]=a("td",null,"Status",-1)),r[6]||(r[6]=a("td",null,":",-1)),a("td",null,i(g.$CONSTANTS.STOCKADJUSTMENT_STATUSES[t(n).props.data.status]),1)]),a("tr",null,[r[7]||(r[7]=a("td",null,"Waktu",-1)),r[8]||(r[8]=a("td",null,":",-1)),a("td",null,i(g.$dayjs(t(n).props.data.datetime).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)]),t(n).props.data.created_at?(w(),E("tr",cm,[r[10]||(r[10]=a("td",null,"Dibuat Oleh",-1)),r[11]||(r[11]=a("td",null,":",-1)),a("td",null,[t(n).props.data.created_by?(w(),E(W,{key:0},[e(b,{href:g.route("admin.user.detail",{id:t(n).props.data.created_by})},{default:l(()=>[y(i(t(n).props.data.created_by.username)+" - "+i(t(n).props.data.created_by.name),1)]),_:1},8,["href"]),r[9]||(r[9]=y(" - "))],64)):j("",!0),y(" "+i(g.$dayjs(new Date(t(n).props.data.created_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):j("",!0),t(n).props.data.updated_at?(w(),E("tr",pm,[r[13]||(r[13]=a("td",null,"Diperbarui oleh",-1)),r[14]||(r[14]=a("td",null,":",-1)),a("td",null,[t(n).props.data.updated_by?(w(),E(W,{key:0},[e(b,{href:g.route("admin.user.detail",{id:t(n).props.data.updated_by})},{default:l(()=>[y(i(t(n).props.data.updated_by.username)+" - "+i(t(n).props.data.updated_by.name),1)]),_:1},8,["href"]),r[12]||(r[12]=y(" - "))],64)):j("",!0),y(" "+i(g.$dayjs(new Date(t(n).props.data.updated_at)).format("dddd, D MMMM YYYY pukul HH:mm:ss")),1)])])):j("",!0),a("tr",null,[r[15]||(r[15]=a("td",null,"Total Modal",-1)),r[16]||(r[16]=a("td",null,":",-1)),a("td",null,[a("div",{class:ye(t(n).props.data.total_cost<0?"text-red-10":t(n).props.data.total_cost>0?"text-green-10":"")}," Rp. "+i(t(F)(t(n).props.data.total_cost)),3)])]),a("tr",null,[r[17]||(r[17]=a("td",null,"Total Harga",-1)),r[18]||(r[18]=a("td",null,":",-1)),a("td",null,[a("div",{class:ye(t(n).props.data.total_price<0?"text-red-10":t(n).props.data.total_price>0?"text-green-10":"")}," Rp. "+i(t(F)(t(n).props.data.total_price)),3)])]),a("tr",null,[r[19]||(r[19]=a("td",null,"Catatan",-1)),r[20]||(r[20]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.notes),1)])])])]),_:1}),e(te,null,{default:l(()=>[r[26]||(r[26]=a("div",{class:"text-subtitle1 text-bold text-grey-9 q-pt-md"}," Rincian ",-1)),e($e,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",dense:"",columns:p.value,rows:t(o),"hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-no":l(u=>[e(B,{props:u},{default:l(()=>[t(m).screen.lt.md?(w(),E(W,{key:1},[a("div",fm,[a("b",null,"#"+i(u.rowIndex+1),1),y(" - "+i(u.row.product_name),1)]),a("div",null,[y(" Stok Lama: "+i(t(F)(u.row.old_quantity))+" "+i(u.row.uom),1),r[23]||(r[23]=a("br",null,null,-1)),y(" Stok Baru: "+i(t(F)(u.row.new_quantity))+" "+i(u.row.uom),1),r[24]||(r[24]=a("br",null,null,-1)),a("div",{class:ye(u.row.balance<0?"text-red-10":u.row.balance>0?"text-green-10":"")},[y(" Selisih: "+i((u.row.balance>0?"+":"")+t(F)(u.row.balance))+" "+i(u.row.uom),1),r[22]||(r[22]=a("br",null,null,-1)),y(" (Rp. "+i(t(F)(u.row.subtotal_cost))+" / Rp. "+i(t(F)(u.row.subtotal_price))+") ",1)],2),r[25]||(r[25]=a("br",null,null,-1)),y(" "+i(u.row.notes),1)])],64)):(w(),E(W,{key:0},[y(i(u.rowIndex+1),1)],64))]),_:2},1032,["props"])]),"body-cell-balance":l(u=>[e(B,{props:u},{default:l(()=>[a("div",{class:ye(u.row.balance<0?"text-red-10":u.row.balance>0?"text-green-10":"")},i((u.row.balance>0?"+":"")+t(F)(u.row.balance)),3)]),_:2},1032,["props"])]),"body-cell-cost_balance":l(u=>[e(B,{props:u},{default:l(()=>[a("div",{class:ye(u.row.balance<0?"text-red-10":u.row.balance>0?"text-green-10":"")},i(t(F)(u.row.subtotal_cost)),3)]),_:2},1032,["props"])]),"body-cell-price_balance":l(u=>[e(B,{props:u},{default:l(()=>[a("div",{class:ye(u.row.balance<0?"text-red-10":u.row.balance>0?"text-green-10":"")},i(t(F)(u.row.subtotal_price)),3)]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1})]),_:1})])])])]),_:1})],64)}}},bm=Object.freeze(Object.defineProperty({__proto__:null,default:gm},Symbol.toStringTag,{value:"Module"})),vm={class:"q-gutter-sm"},_m={class:"col col-md-6 q-pa-xs"},ym={class:"text-bold"},wm={key:0},km={class:"text-caption text-grey-8"},Ml="Penyesuaian Stok",hm={__name:"Editor",setup(d){const n=be(),f=Pe({id:n.props.item.id,type:n.props.item.type,datetime:pt(n.props.item.datetime).format("YYYY-MM-DD HH:mm:ss"),notes:n.props.item.notes,action:"save",details:[]}),o=je(window.CONSTANTS.STOCKADJUSTMENT_TYPES),s=n.props.details,m=c=>{const b=()=>{f.action=c,f.details=s.map(k=>({id:k.id,new_quantity:k.new_quantity})),Ne({form:f,url:route("admin.stock-adjustment.save")})};c==="close"||c==="cancel"?Yl.create({title:"Konfirmasi",message:"Aksi ini tidak dapat dibatalkan, apakah Anda yakin?",cancel:!0,persistent:!0}).onOk(()=>{b()}).onCancel(()=>{}):b()},p=[{name:"product_name",label:"Nama Produk",field:"product_name",align:"left",sortable:!0},{name:"uom",label:"Satuan",field:"uom",align:"center"},{name:"old_quantity",label:"Tercatat",field:"old_quantity",align:"right",format:c=>F(c)},{name:"new_quantity",label:"Aktual",field:"new_quantity",align:"right",format:c=>F(c)},{name:"balance",label:"Selisih",field:"balance",align:"right",format:(c,b)=>F(b.new_quantity-b.old_quantity)}],g=he(),r=ee(()=>g.screen.gt.sm?p:p.filter(c=>c.name==="product_name"||c.name==="new_quantity"));return(c,b)=>{const k=L("i-head"),u=L("authenticated-layout");return w(),E(W,null,[e(k,{title:Ml}),e(u,null,{title:l(()=>[y(i(Ml))]),"left-button":l(()=>[a("div",vm,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:b[0]||(b[0]=v=>c.$inertia.get(c.route("admin.stock-adjustment.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[a("div",_m,[e(Re,{class:"row",onSubmit:J(m,["prevent"]),onValidationError:t(ze)},{default:l(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>b[8]||(b[8]=[a("div",{class:"text-subtitle1"},"Info Penyesuaian",-1)])),_:1}),e(te,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":b[1]||(b[1]=v=>t(f).id=v)},null,512),[[tt,t(f).id]]),e($t,{modelValue:t(f).datetime,"onUpdate:modelValue":b[2]||(b[2]=v=>t(f).datetime=v),label:"Waktu",error:!!t(f).errors.datetime,disable:t(f).processing,"error-message":t(f).errors.datetime},null,8,["modelValue","error","disable","error-message"]),e(re,{modelValue:t(f).type,"onUpdate:modelValue":b[3]||(b[3]=v=>t(f).type=v),options:t(o),label:"Jenis Penyesuaian",class:"custom-select",error:!!t(f).errors.type,disable:t(f).processing,"map-options":"","emit-value":"","error-message":t(f).errors.type,"hide-bottom-space":""},null,8,["modelValue","options","error","disable","error-message"]),e(X,{modelValue:t(f).notes,"onUpdate:modelValue":b[4]||(b[4]=v=>t(f).notes=v),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Catatan","lazy-rules":"",disable:t(f).processing,error:!!t(f).errors.notes,"error-message":t(f).errors.notes,rules:[],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"])]),_:1}),e(te,null,{default:l(()=>[e($e,{flat:"",bordered:"",square:"",color:"primary",class:"full-height-table","row-key":"id","virtual-scroll":"",columns:r.value,rows:t(s),"binary-state-sort":"","hide-pagination":!0,"rows-per-page-options":[0]},{"body-cell-product_name":l(v=>[e(B,{props:v},{default:l(()=>[a("div",ym,i(v.row.product_name),1),t(g).screen.lt.md?(w(),E("div",wm,[a("div",km,[y(" Tercatat: "+i(t(F)(v.row.old_quantity))+" ",1),b[9]||(b[9]=a("br",null,null,-1)),y(" Selisih: "+i(t(F)(v.row.new_quantity-v.row.old_quantity)),1)])])):j("",!0)]),_:2},1032,["props"])]),"body-cell-new_quantity":l(v=>[e(B,{props:v},{default:l(()=>[e(X,{modelValue:v.row[v.col.name],"onUpdate:modelValue":$=>v.row[v.col.name]=$,modelModifiers:{number:!0},"input-class":"text-right",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["columns","rows"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(O,{icon:"save",onClick:b[5]||(b[5]=v=>m("save")),label:"Simpan",color:"primary",disable:t(f).processing},null,8,["disable"]),e(O,{icon:"done_all",onClick:b[6]||(b[6]=v=>m("close")),label:"Selesaikan",color:"green",disable:t(f).processing},null,8,["disable"]),e(O,{icon:"close",onClick:b[7]||(b[7]=v=>m("cancel")),label:"Batalkan",color:"red",disable:t(f).processing},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},$m=Object.freeze(Object.defineProperty({__proto__:null,default:hm},Symbol.toStringTag,{value:"Module"})),Sm={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},xm={class:"q-pa-xs"},Vm={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Cm={key:0,class:"flex q-gutter-xs"},qm={class:"flex q-col-gutter-xs"},Tm={key:0},Pm={key:1},Om={class:"flex justify-end"},Ul="Penyesuaian Stok",Im={__name:"Index",setup(d){const n=x([]),f=x(!0),o=x(!1),s=x(null),m=x(null),p=Ke(m),g=Oe({search:"",status:"all",type:"all",...Me()}),r=[{value:"all",label:"Semua"},...je(window.CONSTANTS.STOCKADJUSTMENT_STATUSES)],c=[{value:"all",label:"Semua"},...je(window.CONSTANTS.STOCKADJUSTMENT_TYPES)],b=x({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"id",descending:!0}),k=[{name:"id",label:"ID",field:"id",align:"left",sortable:!0},{name:"datetime",label:"Waktu",field:"datetime",align:"left",sortable:!0},{name:"status",label:"Status",field:"status",align:"center",sortable:!0},{name:"type",label:"Jenis",field:"type",align:"center",sortable:!1},{name:"total_cost",label:"Total Modal",field:"total_cost",align:"right",sortable:!1},{name:"total_price",label:"Total Harga",field:"total_price",align:"right",sortable:!1},{name:"notes",label:"Notes",field:"notes",align:"left",sortable:!1},{name:"action",align:"right"}];we(()=>{v()});const u=h=>Xe({message:`Hapus Transaksi #${h.id}?`,url:route("admin.stock-adjustment.delete",h.id),fetchItemsCallback:v,loading:f}),v=(h=null)=>Ue({pagination:b,filter:g,props:h,rows:n,url:route("admin.stock-adjustment.data"),loading:f,tableRef:s}),$=()=>{v()},_=h=>{h.status=="draft"?K.get(route("admin.stock-adjustment.editor",h.id)):K.get(route("admin.stock-adjustment.detail",h.id))},M=he(),V=ee(()=>M.screen.gt.sm?k:k.filter(h=>h.name==="id"||h.name==="action"));return(h,T)=>{const P=L("i-head"),q=L("authenticated-layout");return w(),E(W,null,[e(P,{title:Ul}),e(q,null,Qe({"right-button":l(()=>[e(O,{icon:o.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:T[0]||(T[0]=R=>o.value=!o.value)},null,8,["icon"]),e(O,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:T[1]||(T[1]=R=>t(K).get(h.route("admin.stock-adjustment.create")))})]),title:l(()=>[y(i(Ul))]),default:l(()=>[a("div",xm,[e($e,{ref_key:"tableRef",ref:s,flat:"",bordered:"",square:"",color:"primary",class:"full-height-table stock-adjustment-list","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":T[6]||(T[6]=R=>b.value=R),filter:g.search,loading:f.value,columns:V.value,rows:n.value,"rows-per-page-options":[10,25,50],style:We({height:t(p)}),onRequest:v,"binary-state-sort":""},{loading:l(()=>[e(Be,{showing:"",color:"red"})]),"no-data":l(({icon:R,message:S,filter:N})=>[a("div",Vm,[a("span",null,i(S)+" "+i(N?" with term "+N:""),1)])]),body:l(R=>[e(ke,{props:R,onClick:S=>_(R.row),class:"cursor-pointer"},{default:l(()=>[e(B,{key:"id",props:R},{default:l(()=>[t(M).screen.lt.md?(w(),E(W,{key:1},[a("div",qm,[a("div",null,[a("b",null,"#"+i(R.row.id),1)]),a("div",null,[e(C,{name:"history"}),y(" "+i(h.$dayjs(new Date(R.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),e(Aa,{dense:"",size:"sm",color:R.row.status==="draft"?"orange":R.row.status==="closed"?"green":R.row.status==="canceled"?"red":"",icon:R.row.status==="draft"?"emergency":R.row.status==="closed"?"check":R.row.status==="canceled"?"close":""},{default:l(()=>[y(i(h.$CONSTANTS.STOCKADJUSTMENT_STATUSES[R.row.status]),1)]),_:2},1032,["color","icon"])]),a("div",null,[e(C,{name:"category"}),y(" "+i(h.$CONSTANTS.STOCKADJUSTMENT_TYPES[R.row.type]),1)]),R.row.created_by?(w(),E("div",Tm,[e(C,{name:"person"}),T[7]||(T[7]=y(" Dibuat: ")),a("b",null,i(R.row.created_by.username),1),e(C,{name:"history"}),y(" "+i(h.$dayjs(new Date(R.row.created_at)).format("DD/MM/YYYY HH:mm")),1)])):j("",!0),R.row.updated_by?(w(),E("div",Pm,[e(C,{name:"person"}),T[8]||(T[8]=y(" Diperbarui: ")),a("b",null,i(R.row.updated_by.username),1),e(C,{name:"history"}),y(" "+i(h.$dayjs(new Date(R.row.updated_at)).format("DD/MM/YYYY HH:mm")),1)])):j("",!0),a("div",{class:ye(R.row.total_cost<0?"text-red-10":R.row.total_cost>0?"text-green-10":"")},[e(C,{name:"money"}),y(" Rp. "+i(t(F)(R.row.total_cost))+" / Rp. "+i(t(F)(R.row.total_price)),1)],2)],64)):(w(),E("div",Cm,[a("div",null,[a("b",null,"#"+i(R.row.id),1)])]))]),_:2},1032,["props"]),e(B,{key:"datetime",props:R},{default:l(()=>[y(i(h.$dayjs(new Date(R.row.datetime)).format("DD/MM/YYYY HH:mm")),1)]),_:2},1032,["props"]),e(B,{key:"status",props:R,class:"text-center"},{default:l(()=>[y(i(h.$CONSTANTS.STOCKADJUSTMENT_STATUSES[R.row.status]),1)]),_:2},1032,["props"]),e(B,{key:"type",props:R},{default:l(()=>[y(i(h.$CONSTANTS.STOCKADJUSTMENT_TYPES[R.row.type]),1)]),_:2},1032,["props"]),e(B,{key:"total_cost",props:R},{default:l(()=>[a("div",{class:ye(R.row.total_cost<0?"text-red-10":R.row.total_cost>0?"text-green-10":"")},i(t(F)(R.row.total_cost)),3)]),_:2},1032,["props"]),e(B,{key:"total_price",props:R},{default:l(()=>[a("div",{class:ye(R.row.total_price<0?"text-red-10":R.row.total_price>0?"text-green-10":"")},i(t(F)(R.row.total_price)),3)]),_:2},1032,["props"]),e(B,{key:"notes",props:R},{default:l(()=>[y(i(R.row.notes),1)]),_:2},1032,["props"]),e(B,{key:"action",props:R},{default:l(()=>[a("div",Om,[e(O,{icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:T[5]||(T[5]=J(()=>{},["stop"]))},{default:l(()=>[e(Ge,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[Y((w(),A(Z,{onClick:J(S=>u(R.row),["stop"]),clickable:"",disabled:!t(et)(h.$CONSTANTS.USER_ROLE_ADMIN)},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:l(()=>T[9]||(T[9]=[y("Hapus")])),_:1})]),_:2},1032,["onClick","disabled"])),[[oe],[ie]])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1032,["props"])]),_:2},1032,["props","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[o.value?{name:"header",fn:l(()=>[e(Fe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:m},{default:l(()=>[a("div",Sm,[e(re,{modelValue:g.status,"onUpdate:modelValue":[T[2]||(T[2]=R=>g.status=R),$],options:r,label:"Status",dense:"","map-options":"",class:"custom-select col-xs-12 col-sm-2","emit-value":"",outlined:""},null,8,["modelValue"]),e(re,{modelValue:g.type,"onUpdate:modelValue":[T[3]||(T[3]=R=>g.type=R),$],options:c,label:"Jenis",dense:"",class:"custom-select col-xs-12 col-sm-2","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:g.search,"onUpdate:modelValue":T[4]||(T[4]=R=>g.search=R),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Em=Object.freeze(Object.defineProperty({__proto__:null,default:Im},Symbol.toStringTag,{value:"Module"})),Rm={class:"q-gutter-sm"},Nm={class:"q-gutter-sm"},Mm={class:"col col-md-6 q-pa-xs"},Um={class:"row"},Am={class:"detail"},Al="Rincian Pemasok",Dm={__name:"Detail",setup(d){const n=be();return(f,o)=>{const s=L("i-head"),m=L("authenticated-layout");return w(),E(W,null,[e(s,{title:Al}),e(m,null,{title:l(()=>[y(i(Al))]),"left-button":l(()=>[a("div",Rm,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=p=>t(K).get(f.route("admin.supplier.index")))})])]),"right-button":l(()=>[a("div",Nm,[e(O,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=p=>t(K).get(f.route("admin.supplier.edit",{id:t(n).props.data.id})))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[a("div",Mm,[a("div",Um,[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>[o[14]||(o[14]=a("div",{class:"text-subtitle1 text-bold text-grey-8"}," Info Pemasok ",-1)),a("table",Am,[a("tbody",null,[a("tr",null,[o[2]||(o[2]=a("td",{style:{width:"70px"}},"Nama",-1)),o[3]||(o[3]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,i(t(n).props.data.name),1)]),a("tr",null,[o[4]||(o[4]=a("td",null,"Telepon",-1)),o[5]||(o[5]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.phone),1)]),a("tr",null,[o[6]||(o[6]=a("td",null,"Alamat",-1)),o[7]||(o[7]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.address),1)]),a("tr",null,[o[8]||(o[8]=a("td",null,"No. Rek",-1)),o[9]||(o[9]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.bank_account_number),1)]),a("tr",null,[o[10]||(o[10]=a("td",null,"Alamat Return",-1)),o[11]||(o[11]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.return_address),1)]),a("tr",null,[o[12]||(o[12]=a("td",null,"Status",-1)),o[13]||(o[13]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.active?"Aktif":"Tidak Aktif"),1)])])])]),_:1})]),_:1})])])]),_:1})]),_:1})],64)}}},jm=Object.freeze(Object.defineProperty({__proto__:null,default:Dm},Symbol.toStringTag,{value:"Module"})),Bm={class:"q-gutter-sm"},Lm={class:"col col-md-6 q-pa-xs"},zm={style:{"margin-left":"-10px"}},Fm={__name:"Editor",setup(d){const n=be(),f=(n.props.data.id?"Edit":"Tambah")+" Pemasok",o=Pe({id:n.props.data.id,name:n.props.data.name,phone:n.props.data.phone,address:n.props.data.address,bank_account_number:n.props.data.bank_account_number,return_address:n.props.data.return_address,active:!!n.props.data.active}),s=()=>Ne({form:o,url:route("admin.supplier.save")});return(m,p)=>{const g=L("i-head"),r=L("authenticated-layout");return w(),E(W,null,[e(g,{title:f}),e(r,null,{title:l(()=>[y(i(f))]),"left-button":l(()=>[a("div",Bm,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:p[0]||(p[0]=c=>t(K).get(m.route("admin.supplier.index")))})])]),default:l(()=>[e(Ve,{class:"row justify-center"},{default:l(()=>[a("div",Lm,[e(Re,{class:"row",onSubmit:J(s,["prevent"]),onValidationError:t(ze)},{default:l(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>p[9]||(p[9]=[a("div",{class:"text-subtitle1"},"Info Supplier",-1)])),_:1}),e(te,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":p[1]||(p[1]=c=>t(o).id=c)},null,512),[[tt,t(o).id]]),e(X,{autofocus:"",modelValue:t(o).name,"onUpdate:modelValue":p[2]||(p[2]=c=>t(o).name=c),modelModifiers:{trim:!0},label:"Nama","lazy-rules":"",error:!!t(o).errors.name,disable:t(o).processing,"error-message":t(o).errors.name,rules:[c=>c&&c.length>0||"Nama harus diisi."],"hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(o).phone,"onUpdate:modelValue":p[3]||(p[3]=c=>t(o).phone=c),modelModifiers:{trim:!0},type:"text",label:"No HP","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.phone,"error-message":t(o).errors.phone,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(X,{modelValue:t(o).address,"onUpdate:modelValue":p[4]||(p[4]=c=>t(o).address=c),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.address,"error-message":t(o).errors.address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(X,{modelValue:t(o).bank_account_number,"onUpdate:modelValue":p[5]||(p[5]=c=>t(o).bank_account_number=c),modelModifiers:{trim:!0},type:"text",label:"No Rek","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.bank_account_number,"error-message":t(o).errors.bank_account_number,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(X,{modelValue:t(o).return_address,"onUpdate:modelValue":p[6]||(p[6]=c=>t(o).return_address=c),modelModifiers:{trim:!0},type:"textarea",autogrow:"",counter:"",maxlength:"200",label:"Alamat Return","lazy-rules":"",disable:t(o).processing,error:!!t(o).errors.return_address,"error-message":t(o).errors.return_address,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),a("div",zm,[e(qt,{class:"full-width q-pl-none",modelValue:t(o).active,"onUpdate:modelValue":p[7]||(p[7]=c=>t(o).active=c),disable:t(o).processing,label:"Aktif"},null,8,["modelValue","disable"])])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(O,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(o).processing},null,8,["disable"]),e(O,{icon:"cancel",label:"Batal",disable:t(o).processing,onClick:p[8]||(p[8]=c=>t(K).get(m.route("admin.supplier.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onValidationError"])])]),_:1})]),_:1})],64)}}},Hm=Object.freeze(Object.defineProperty({__proto__:null,default:Fm},Symbol.toStringTag,{value:"Module"})),Ym={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},Km={class:"q-pa-xs"},Qm={class:"full-width row flex-center text-grey-8 q-gutter-sm"},Wm={class:"flex justify-end"},Dl="Pemasok",Jm={__name:"Index",setup(d){const n=he(),f=x(!1),o=x([]),s=x(!0),m=x(null),p=x(null),g=Ke(p),r=Oe({search:"",status:"active",...Me()}),c=x({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"name",descending:!1}),b=[{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"phone",label:"No HP",field:"phone",align:"left",sortable:!0},{name:"address",label:"Alamat",field:"address",align:"left",sortable:!0},{name:"bank_account_number",label:"No Rek",field:"bank_account_number",align:"left",sortable:!0},{name:"action",align:"right"}],k=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}];we(()=>{v()});const u=V=>Xe({message:`Hapus pemasok ${V.name}?`,url:route("admin.supplier.delete",V.id),fetchItemsCallback:v,loading:s}),v=(V=null)=>{Ue({pagination:c,filter:r,props:V,rows:o,url:route("admin.supplier.data"),loading:s,tableRef:m})},$=()=>v(),_=V=>K.get(route("admin.supplier.detail",{id:V.id})),M=ee(()=>n.screen.gt.sm?b:b.filter(V=>V.name==="name"||V.name==="action"));return(V,h)=>{const T=L("i-head"),P=L("authenticated-layout");return w(),E(W,null,[e(T,{title:Dl}),e(P,null,Qe({title:l(()=>[y(i(Dl))]),"right-button":l(()=>[e(O,{icon:f.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:h[0]||(h[0]=q=>f.value=!f.value)},null,8,["icon"]),e(O,{icon:"add",dense:"",rounded:"",class:"q-ml-sm",color:"primary",onClick:h[1]||(h[1]=q=>t(K).get(V.route("admin.supplier.add")))})]),default:l(()=>[a("div",Km,[e($e,{class:"full-height-table",ref_key:"tableRef",ref:m,s:"",flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":h[5]||(h[5]=q=>c.value=q),filter:r.search,loading:s.value,columns:M.value,rows:o.value,"rows-per-page-options":[10,25,50],style:We({height:t(g)}),onRequest:v,"binary-state-sort":""},{loading:l(()=>[e(Be,{showing:"",color:"red"})]),"no-data":l(({icon:q,message:R,filter:S})=>[a("div",Qm,[a("span",null,i(R)+" "+i(S?" with term "+S:""),1)])]),body:l(q=>[e(ke,{props:q,class:ye([q.row.active?"":"bg-red-1","cursor-pointer"]),onClick:R=>_(q.row)},{default:l(()=>[e(B,{key:"name",props:q,class:"wrap-column"},{default:l(()=>[a("div",null,[t(n).screen.lt.md?(w(),A(C,{key:0,name:"person"})):j("",!0),y(" "+i(q.row.name),1)]),t(n).screen.lt.md?(w(),E(W,{key:0},[a("div",null,[e(C,{name:"phone"}),y(" "+i(q.row.phone),1)]),a("div",null,[e(C,{name:"credit_card"}),y(" "+i(q.row.bank_account_number),1)]),a("div",null,[e(C,{name:"home_pin"}),y(" "+i(q.row.address),1)])],64)):j("",!0)]),_:2},1032,["props"]),e(B,{key:"phone",props:q},{default:l(()=>[y(i(q.row.phone),1)]),_:2},1032,["props"]),e(B,{key:"address",props:q},{default:l(()=>[y(i(q.row.address),1)]),_:2},1032,["props"]),e(B,{key:"bank_account_number",props:q},{default:l(()=>[y(i(q.row.bank_account_number),1)]),_:2},1032,["props"]),e(B,{key:"action",props:q},{default:l(()=>[a("div",Wm,[e(O,{disabled:!t(et)(V.$CONSTANTS.USER_ROLE_ADMIN),icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:h[4]||(h[4]=J(()=>{},["stop"]))},{default:l(()=>[e(Ge,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[Y((w(),A(Z,{clickable:"",onClick:J(R=>t(K).get(V.route("admin.supplier.duplicate",q.row.id)),["stop"])},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:l(()=>h[6]||(h[6]=[y(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]]),Y((w(),A(Z,{clickable:"",onClick:J(R=>t(K).get(V.route("admin.supplier.edit",q.row.id)),["stop"])},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:l(()=>h[7]||(h[7]=[y("Edit")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]]),Y((w(),A(Z,{onClick:J(R=>u(q.row),["stop"]),clickable:""},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:l(()=>h[8]||(h[8]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disabled"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["pagination","filter","loading","columns","rows","style"])])]),_:2},[f.value?{name:"header",fn:l(()=>[e(Fe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:p},{default:l(()=>[a("div",Ym,[e(re,{class:"custom-select col-xs-12 col-sm-2",style:{"min-width":"150px"},modelValue:r.status,"onUpdate:modelValue":[h[2]||(h[2]=q=>r.status=q),$],options:k,label:"Status",dense:"","map-options":"","emit-value":"",outlined:""},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:r.search,"onUpdate:modelValue":h[3]||(h[3]=q=>r.search=q),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},Gm=Object.freeze(Object.defineProperty({__proto__:null,default:Jm},Symbol.toStringTag,{value:"Module"})),Xm={class:"q-gutter-sm"},Zm={class:"q-gutter-sm"},ec={class:"row justify-center"},tc={class:"col col-md-6 q-pa-xs"},lc={class:"row"},ac={class:"detail"},oc={key:0},jl="Rincian Pengguna",nc={__name:"Detail",setup(d){const n=be();return(f,o)=>{const s=L("i-head"),m=L("authenticated-layout");return w(),E(W,null,[e(s,{title:jl}),e(m,null,{title:l(()=>[y(i(jl))]),"left-button":l(()=>[a("div",Xm,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:o[0]||(o[0]=p=>f.$inertia.get(f.route("admin.user.index")))})])]),"right-button":l(()=>[a("div",Zm,[e(O,{icon:"edit",dense:"",color:"primary",onClick:o[1]||(o[1]=p=>f.$inertia.get(f.route("admin.user.edit",{id:t(n).props.data.id})))})])]),default:l(()=>[a("div",ec,[a("div",tc,[a("div",lc,[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,null,{default:l(()=>[o[17]||(o[17]=a("div",{class:"text-subtitle1 text-bold text-grey-9"}," Profil Pengguna ",-1)),a("table",ac,[a("tbody",null,[a("tr",null,[o[2]||(o[2]=a("td",{style:{width:"125px"}},"ID Pengguna",-1)),o[3]||(o[3]=a("td",{style:{width:"1px"}},":",-1)),a("td",null,i(t(n).props.data.username),1)]),a("tr",null,[o[4]||(o[4]=a("td",null,"Nama Pengguna",-1)),o[5]||(o[5]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.name),1)]),a("tr",null,[o[6]||(o[6]=a("td",null,"Hak Akses",-1)),o[7]||(o[7]=a("td",null,":",-1)),a("td",null,i(f.$CONSTANTS.USER_ROLES[t(n).props.data.role]),1)]),a("tr",null,[o[8]||(o[8]=a("td",null,"Dibuat",-1)),o[9]||(o[9]=a("td",null,":",-1)),a("td",null,i(f.$dayjs(t(n).props.data.created_at).format("DD MMMM YY HH:mm:ss")),1)]),a("tr",null,[o[10]||(o[10]=a("td",null,"Diperbarui",-1)),o[11]||(o[11]=a("td",null,":",-1)),a("td",null,i(f.$dayjs(t(n).props.data.updated_at).format("DD MMMM YY HH:mm:ss")),1)]),a("tr",null,[o[12]||(o[12]=a("td",null,"Terakhir login",-1)),o[13]||(o[13]=a("td",null,":",-1)),a("td",null,i(t(n).props.data.last_login_datetime?f.$dayjs(t(n).props.data.last_login_datetime).format("DD MMMM YYYY HH:mm:ss"):"Belum pernah login"),1)]),t(n).props.data.last_activity_datetime?(w(),E("tr",oc,[o[15]||(o[15]=a("td",null,"Aktifitas Terakhir",-1)),o[16]||(o[16]=a("td",null,":",-1)),a("td",null,[y(i(f.$dayjs(t(n).props.data.last_activity_datetime).format("DD MMMM YYYY HH:mm:ss"))+" ",1),o[14]||(o[14]=a("br",null,null,-1)),y(i(t(n).props.data.last_activity_description),1)])])):j("",!0)])])]),_:1})]),_:1})])])])]),_:1})],64)}}},sc=Object.freeze(Object.defineProperty({__proto__:null,default:nc},Symbol.toStringTag,{value:"Module"}));function rc(d){return new RegExp("^(?=.{3,16}$)(?![_-])(?!.*[_-]{2})[a-zA-Z0-9_-]+(?<![_-])$").test(d)}const ic={class:"q-gutter-sm"},uc={class:"row justify-center"},dc={class:"col col-md-6 q-pa-xs"},mc={__name:"Editor",setup(d){const n=je(window.CONSTANTS.USER_ROLES),f=be(),o=f.props.data.id?"Edit Pengguna":"Tambah Pengguna",s=Pe({id:f.props.data.id,name:f.props.data.name,username:f.props.data.username,password:"",role:f.props.data.role?f.props.data.role:n[0].value,active:!!f.props.data.active}),m=()=>Ne({form:s,url:route("admin.user.save")});return(p,g)=>{const r=L("i-head"),c=L("authenticated-layout");return w(),E(W,null,[e(r,{title:t(o)},null,8,["title"]),e(c,null,{title:l(()=>[y(i(t(o)),1)]),"left-button":l(()=>[a("div",ic,[e(O,{icon:"arrow_back",dense:"",color:"grey-7",flat:"",rounded:"",onClick:g[0]||(g[0]=b=>p.$inertia.get(p.route("admin.user.index")))})])]),default:l(()=>[a("div",uc,[a("div",dc,[e(Re,{class:"row",onSubmit:J(m,["prevent"])},{default:l(()=>[e(de,{square:"",flat:"",bordered:"",class:"col"},{default:l(()=>[e(te,{class:"q-pt-none"},{default:l(()=>[Y(a("input",{type:"hidden",name:"id","onUpdate:modelValue":g[1]||(g[1]=b=>t(s).id=b)},null,512),[[tt,t(s).id]]),e(X,{modelValue:t(s).name,"onUpdate:modelValue":g[2]||(g[2]=b=>t(s).name=b),modelModifiers:{trim:!0},label:"Nama",error:!!t(s).errors.name,disable:t(s).processing,"error-message":t(s).errors.name,rules:[b=>b&&b.length>0||"Nama harus diisi."],autofocus:"","lazy-rules":"","hide-bottom-space":""},null,8,["modelValue","error","disable","error-message","rules"]),e(X,{modelValue:t(s).username,"onUpdate:modelValue":g[3]||(g[3]=b=>t(s).username=b),modelModifiers:{trim:!0},type:"text",label:"ID Pengguna","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.username,"error-message":t(s).errors.username,rules:[b=>b&&b.length>0||"ID Pengguna harus diisi.",b=>t(rc)(b)||"ID Pengguna tidak valid."],"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message","rules"]),e(X,{modelValue:t(s).password,"onUpdate:modelValue":g[4]||(g[4]=b=>t(s).password=b),type:"password",label:"Kata Sandi","lazy-rules":"",disable:t(s).processing,error:!!t(s).errors.password,"error-message":t(s).errors.password,"hide-bottom-space":""},null,8,["modelValue","disable","error","error-message"]),e(re,{modelValue:t(s).role,"onUpdate:modelValue":g[5]||(g[5]=b=>t(s).role=b),label:"Hak Akses",options:t(n),"map-options":"","emit-value":"","lazy-rules":"",disable:t(s).processing,"transition-show":"jump-up","transition-hide":"jump-up",error:!!t(s).errors.role,"error-message":t(s).errors.role,"hide-bottom-space":""},null,8,["modelValue","options","disable","error","error-message"]),e(tl,{modelValue:t(s).active,"onUpdate:modelValue":g[6]||(g[6]=b=>t(s).active=b),disable:t(s).processing,label:"Aktif"},null,8,["modelValue","disable"])]),_:1}),e(te,{class:"q-gutter-sm"},{default:l(()=>[e(O,{icon:"save",type:"submit",label:"Simpan",color:"primary",disable:t(s).processing,onClick:m},null,8,["disable"]),e(O,{icon:"cancel",label:"Batal",class:"text-black",disable:t(s).processing,onClick:g[7]||(g[7]=b=>t(K).get(p.route("admin.user.index")))},null,8,["disable"])]),_:1})]),_:1})]),_:1})])])]),_:1})],64)}}},cc=Object.freeze(Object.defineProperty({__proto__:null,default:mc},Symbol.toStringTag,{value:"Module"})),pc={class:"row q-col-gutter-xs items-center q-pa-sm full-width"},fc={class:"q-pa-xs"},gc={class:"full-width row flex-center text-grey-8 q-gutter-sm"},bc={class:"elipsis",style:{"max-width":"200px"}},vc={class:"flex justify-end"},Bl="Pengguna",_c={__name:"Index",setup(d){const n=[{value:"all",label:"Semua"},...je(window.CONSTANTS.USER_ROLES)],f=[{value:"all",label:"Semua"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],o=be(),s=he(),m=o.props.auth.user,p=x([]),g=x(!0),r=x(!1),c=Oe({role:"all",status:"active",search:""}),b=x({page:1,rowsPerPage:10,rowsNumber:10,sortBy:"username",descending:!1}),k=[{name:"username",label:"ID Pengguna",field:"username",align:"left",sortable:!0},{name:"name",label:"Nama",field:"name",align:"left",sortable:!0},{name:"role",label:"Hak Akses",field:"role",align:"center",sortable:!0},{name:"action",align:"right"}];we(()=>{v()});const u=()=>v(),v=(P=null)=>Ue({pagination:b,props:P,rows:p,loading:g,filter:c,url:route("admin.user.data"),tableRef:V}),$=P=>Xe({url:route("admin.user.delete",P.id),message:`Hapus pengguna ${P.username}?`,fetchItemsCallback:v,loading:g}),_=ee(()=>s.screen.gt.sm?k:k.filter(P=>P.name==="username"||P.name==="action")),M=P=>K.get(route("admin.user.detail",P.id)),V=x(null),h=x(null),T=Ke(h);return(P,q)=>{const R=L("i-head"),S=L("authenticated-layout");return w(),E(W,null,[e(R,{title:Bl}),e(S,null,Qe({title:l(()=>[y(i(Bl))]),"right-button":l(()=>[e(O,{icon:r.value?"filter_alt_off":"filter_alt",color:"grey",dense:"",rounded:"",flat:"",onClick:q[0]||(q[0]=N=>r.value=!r.value)},null,8,["icon"]),e(O,{icon:"add",dense:"",rounded:"",color:"primary",class:"q-ml-sm",onClick:q[1]||(q[1]=N=>t(K).get(P.route("admin.user.add")))})]),default:l(()=>[a("div",fc,[e($e,{ref_key:"tableRef",ref:V,class:"full-height-table",style:We({height:t(T)}),flat:"",bordered:"",square:"",color:"primary","row-key":"id","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":q[6]||(q[6]=N=>b.value=N),filter:c.search,loading:g.value,columns:_.value,rows:p.value,"rows-per-page-options":[10,25,50],onRequest:v,"binary-state-sort":""},{loading:l(()=>[e(Be,{showing:"",color:"red"})]),"no-data":l(({icon:N,message:Q,term:U})=>[a("div",gc,[a("span",null,i(Q)+" "+i(U?" with term "+U:""),1)])]),body:l(N=>[e(ke,{props:N,class:ye([N.row.active?"":"bg-red-1","cursor-pointer"]),onClick:Q=>M(N.row)},{default:l(()=>[e(B,{key:"username",props:N},{default:l(()=>[a("div",null,i(N.row.username),1),t(s).screen.gt.sm?j("",!0):(w(),E(W,{key:0},[a("div",null,[e(C,{name:"person"}),y(" "+i(N.row.name),1)]),a("div",bc,[e(C,{name:"group"}),a("span",null,i(P.$CONSTANTS.USER_ROLES[N.row.role]),1)])],64))]),_:2},1032,["props"]),e(B,{key:"name",props:N},{default:l(()=>[y(i(N.row.name),1)]),_:2},1032,["props"]),e(B,{key:"role",props:N,align:"center"},{default:l(()=>[a("span",null,i(P.$CONSTANTS.USER_ROLES[N.row.role]),1)]),_:2},1032,["props"]),e(B,{key:"action",props:N},{default:l(()=>[a("div",vc,[e(O,{disable:N.row.id==t(m).id||N.row.username=="admin",icon:"more_vert",dense:"",flat:"",style:{height:"40px",width:"30px"},onClick:q[5]||(q[5]=J(()=>{},["stop"]))},{default:l(()=>[e(Ge,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ee,{style:{width:"200px"}},{default:l(()=>[Y((w(),A(Z,{clickable:"",onClick:J(Q=>t(K).get(P.route("admin.user.duplicate",N.row.id)),["stop"])},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"file_copy"})]),_:1}),e(I,{icon:"copy"},{default:l(()=>q[7]||(q[7]=[y(" Duplikat ")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]]),Y((w(),A(Z,{clickable:"",onClick:J(Q=>t(K).get(P.route("admin.user.edit",N.row.id)),["stop"])},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"edit"})]),_:1}),e(I,{icon:"edit"},{default:l(()=>q[8]||(q[8]=[y("Edit")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]]),Y((w(),A(Z,{onClick:J(Q=>$(N.row),["stop"]),clickable:""},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"delete_forever"})]),_:1}),e(I,null,{default:l(()=>q[9]||(q[9]=[y("Hapus")])),_:1})]),_:2},1032,["onClick"])),[[oe],[ie]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["disable"])])]),_:2},1032,["props"])]),_:2},1032,["props","class","onClick"])]),_:1},8,["style","pagination","filter","loading","columns","rows"])])]),_:2},[r.value?{name:"header",fn:l(()=>[e(Fe,{class:"filter-bar",ref_key:"filterToolbarRef",ref:h},{default:l(()=>[a("div",pc,[e(re,{modelValue:c.role,"onUpdate:modelValue":[q[2]||(q[2]=N=>c.role=N),u],class:"custom-select col-xs-12 col-sm-2",options:n,label:"Role",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(re,{modelValue:c.status,"onUpdate:modelValue":[q[3]||(q[3]=N=>c.status=N),u],class:"custom-select col-xs-12 col-sm-2",options:f,label:"Status",dense:"","map-options":"","emit-value":"",outlined:"",style:{"min-width":"150px"}},null,8,["modelValue"]),e(X,{class:"col",outlined:"",dense:"",debounce:"300",modelValue:c.search,"onUpdate:modelValue":q[4]||(q[4]=N=>c.search=N),placeholder:"Cari",clearable:""},{append:l(()=>[e(C,{name:"search"})]),_:1},8,["modelValue"])])]),_:1},512)]),key:"0"}:void 0]),1024)],64)}}},yc=Object.freeze(Object.defineProperty({__proto__:null,default:_c},Symbol.toStringTag,{value:"Module"})),wc=bt({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(d,{slots:n,emit:f}){let o=!1,s,m,p=null,g=null,r,c;function b(){s&&s(),s=null,o=!1,p!==null&&(clearTimeout(p),p=null),g!==null&&(clearTimeout(g),g=null),m!==void 0&&m.removeEventListener("transitionend",r),r=null}function k(_,M,V){M!==void 0&&(_.style.height=`${M}px`),_.style.transition=`height ${d.duration}ms cubic-bezier(.25, .8, .50, 1)`,o=!0,s=V}function u(_,M){_.style.overflowY=null,_.style.height=null,_.style.transition=null,b(),M!==c&&f(M)}function v(_,M){let V=0;m=_,o===!0?(b(),V=_.offsetHeight===_.scrollHeight?0:void 0):(c="hide",_.style.overflowY="hidden"),k(_,V,M),p=setTimeout(()=>{p=null,_.style.height=`${_.scrollHeight}px`,r=h=>{g=null,(Object(h)!==h||h.target===_)&&u(_,"show")},_.addEventListener("transitionend",r),g=setTimeout(r,d.duration*1.1)},100)}function $(_,M){let V;m=_,o===!0?b():(c="show",_.style.overflowY="hidden",V=_.scrollHeight),k(_,V,M),p=setTimeout(()=>{p=null,_.style.height=0,r=h=>{g=null,(Object(h)!==h||h.target===_)&&u(_,"hide")},_.addEventListener("transitionend",r),g=setTimeout(r,d.duration*1.1)},100)}return jt(()=>{o===!0&&b()}),()=>ge(Ql,{css:!1,appear:d.appear,onEnter:v,onLeave:$},n.default)}}),rt=ro({}),kc=Object.keys(Kl),it=bt({name:"QExpansionItem",props:{...Kl,...ja,...Fl,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Da,"click","afterShow","afterHide"],setup(d,{slots:n,emit:f}){const{proxy:{$q:o}}=Ot(),s=Hl(d,o),m=x(d.modelValue!==null?d.modelValue:d.defaultOpened),p=x(null),g=Ba(),{show:r,hide:c,toggle:b}=La({showing:m});let k,u;const v=ee(()=>`q-expansion-item q-item-type q-expansion-item--${m.value===!0?"expanded":"collapsed"} q-expansion-item--${d.popup===!0?"popup":"standard"}`),$=ee(()=>d.contentInsetLevel===void 0?null:{["padding"+(o.lang.rtl===!0?"Right":"Left")]:d.contentInsetLevel*56+"px"}),_=ee(()=>d.disable!==!0&&(d.href!==void 0||d.to!==void 0&&d.to!==null&&d.to!=="")),M=ee(()=>{const ue={};return kc.forEach(Ae=>{ue[Ae]=d[Ae]}),ue}),V=ee(()=>_.value===!0||d.expandIconToggle!==!0),h=ee(()=>d.expandedIcon!==void 0&&m.value===!0?d.expandedIcon:d.expandIcon||o.iconSet.expansionItem[d.denseToggle===!0?"denseIcon":"icon"]),T=ee(()=>d.disable!==!0&&(_.value===!0||d.expandIconToggle===!0)),P=ee(()=>({expanded:m.value===!0,detailsId:g.value,toggle:b,show:r,hide:c})),q=ee(()=>{const ue=d.toggleAriaLabel!==void 0?d.toggleAriaLabel:o.lang.label[m.value===!0?"collapse":"expand"](d.label);return{role:"button","aria-expanded":m.value===!0?"true":"false","aria-controls":g.value,"aria-label":ue}});Te(()=>d.group,ue=>{u!==void 0&&u(),ue!==void 0&&le()});function R(ue){_.value!==!0&&b(ue),f("click",ue)}function S(ue){ue.keyCode===13&&N(ue,!0)}function N(ue,Ae){Ae!==!0&&p.value!==null&&p.value.focus(),b(ue),Ct(ue)}function Q(){f("afterShow")}function U(){f("afterHide")}function le(){k===void 0&&(k=za()),m.value===!0&&(rt[d.group]=k);const ue=Te(m,ne=>{ne===!0?rt[d.group]=k:rt[d.group]===k&&delete rt[d.group]}),Ae=Te(()=>rt[d.group],(ne,z)=>{z===k&&ne!==void 0&&ne!==k&&c()});u=()=>{ue(),Ae(),rt[d.group]===k&&delete rt[d.group],u=void 0}}function ae(){const ue={class:[`q-focusable relative-position cursor-pointer${d.denseToggle===!0&&d.switchToggleSide===!0?" items-end":""}`,d.expandIconClass],side:d.switchToggleSide!==!0,avatar:d.switchToggleSide},Ae=[ge(C,{class:"q-expansion-item__toggle-icon"+(d.expandedIcon===void 0&&m.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:h.value})];return T.value===!0&&(Object.assign(ue,{tabindex:0,...q.value,onClick:N,onKeyup:S}),Ae.unshift(ge("div",{ref:p,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),ge(I,ue,()=>Ae)}function H(){let ue;return n.header!==void 0?ue=[].concat(n.header(P.value)):(ue=[ge(I,()=>[ge(me,{lines:d.labelLines},()=>d.label||""),d.caption?ge(me,{lines:d.captionLines,caption:!0},()=>d.caption):null])],d.icon&&ue[d.switchToggleSide===!0?"push":"unshift"](ge(I,{side:d.switchToggleSide===!0,avatar:d.switchToggleSide!==!0},()=>ge(C,{name:d.icon})))),d.disable!==!0&&d.hideExpandIcon!==!0&&ue[d.switchToggleSide===!0?"unshift":"push"](ae()),ue}function D(){const ue={ref:"item",style:d.headerStyle,class:d.headerClass,dark:s.value,disable:d.disable,dense:d.dense,insetLevel:d.headerInsetLevel};return V.value===!0&&(ue.clickable=!0,ue.onClick=R,Object.assign(ue,_.value===!0?M.value:q.value)),ge(Z,ue,H)}function pe(){return Y(ge("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:$.value,id:g.value},Pt(n.default)),[[Wl,m.value]])}function Ce(){const ue=[D(),ge(wc,{duration:d.duration,onShow:Q,onHide:U},pe)];return d.expandSeparator===!0&&ue.push(ge(lt,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:s.value}),ge(lt,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:s.value})),ue}return d.group!==void 0&&le(),jt(()=>{u!==void 0&&u()}),()=>ge("div",{class:v.value},[ge("div",{class:"q-expansion-item__container relative-position"},Ce())])}}),hc={class:"absolute-top",style:{height:"50px","border-bottom":"1px solid #ddd","align-items":"center","justify-content":"center"}},$c={style:{width:"100%",padding:"8px",display:"flex","justify-content":"space-between"}},Sc={class:"text-bold"},xc={class:"text-grey-8 text-caption"},Vc={class:"absolute-bottom text-grey-6 q-pa-md"},Gt="amanah-pos.layout.left-drawer-open",Cc={__name:"AuthenticatedLayout",setup(d,{expose:n}){const f=he(),o=be(),s=x(JSON.parse(localStorage.getItem(Gt))),m=x(!1),p=()=>s.value=!s.value,g=()=>{s.value=!1};return Te(s,r=>{localStorage.setItem(Gt,r)}),we(()=>{s.value=JSON.parse(localStorage.getItem(Gt)),f.screen.lt.md&&(s.value=!1)}),n({hideDrawer:g}),(r,c)=>(w(),A(Ja,{view:"lHh LpR lFf"},{default:l(()=>[e(Fa,null,{default:l(()=>[e(Fe,{class:"bg-grey-1 text-black toolbar-scrolled"},{default:l(()=>[s.value?j("",!0):(w(),A(O,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:p},{default:l(()=>[e(C,{class:"material-symbols-outlined"},{default:l(()=>c[21]||(c[21]=[y("dock_to_right")])),_:1})]),_:1})),ut(r.$slots,"left-button",{},void 0,!0),e(Ha,{class:ye({"q-ml-sm":s.value}),style:{"font-size":"18px"}},{default:l(()=>[ut(r.$slots,"title",{},()=>[y(i(r.$config.APP_NAME),1)],!0)]),_:3},8,["class"]),ut(r.$slots,"right-button",{},void 0,!0)]),_:3}),ut(r.$slots,"header",{},void 0,!0)]),_:3}),e(Ya,{breakpoint:768,modelValue:s.value,"onUpdate:modelValue":c[20]||(c[20]=b=>s.value=b),bordered:"",class:"bg-grey-2",style:{color:"#444"}},{default:l(()=>[a("div",hc,[a("div",$c,[e(Ka,{modelValue:m.value,"onUpdate:modelValue":c[2]||(c[2]=b=>m.value=b),class:ye(["profile-btn text-bold",{"profile-btn-active":m.value}]),flat:"",label:t(o).props.company.name,style:{"justify-content":"space-between","flex-grow":"1",overflow:"hidden"}},{default:l(()=>[e(Ee,{id:"profile-btn-popup",style:{color:"#444"}},{default:l(()=>[e(Z,null,{default:l(()=>[e(_t,{style:{"margin-left":"-15px"}},{default:l(()=>[e(C,{name:"person"})]),_:1}),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>[a("div",Sc,i(t(o).props.auth.user.name),1),a("div",xc,i(r.$CONSTANTS.USER_ROLES[t(o).props.auth.user.role])+" @ "+i(t(o).props.company.name),1)]),_:1})]),_:1})]),_:1}),e(lt),Y((w(),A(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/profile"),onClick:c[0]||(c[0]=b=>t(K).get(r.route("admin.profile.edit")))},{default:l(()=>[e(I,null,{default:l(()=>[e(me,null,{default:l(()=>[e(C,{name:"manage_accounts",class:"q-mr-sm"}),c[22]||(c[22]=y(" Profil Saya"))]),_:1})]),_:1})]),_:1},8,["active"])),[[ie],[oe]]),r.$can("admin.company-profile.edit")?Y((w(),A(Z,{key:0,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/company-profile"),onClick:c[1]||(c[1]=b=>t(K).get(r.route("admin.company-profile.edit")))},{default:l(()=>[e(I,null,{default:l(()=>[e(me,null,{default:l(()=>[e(C,{name:"home_work",class:"q-mr-sm"}),c[23]||(c[23]=y(" Profil Perusahaan"))]),_:1})]),_:1})]),_:1},8,["active"])),[[ie],[oe]]):j("",!0),e(lt),Y((w(),A(Z,{clickable:"",style:{color:"inherit"},href:r.route("admin.auth.logout")},{default:l(()=>[e(I,null,{default:l(()=>[e(me,null,{default:l(()=>[e(C,{name:"logout",class:"q-mr-sm"}),c[24]||(c[24]=y(" Keluar"))]),_:1})]),_:1})]),_:1},8,["href"])),[[ie],[oe]])]),_:1})]),_:1},8,["modelValue","label","class"]),s.value?(w(),A(O,{key:0,flat:"",dense:"","aria-label":"Menu",onClick:p},{default:l(()=>[e(C,{name:"dock_to_right"})]),_:1})):j("",!0)])]),e(Qa,{style:{height:"calc(100% - 50px)","margin-top":"50px"}},{default:l(()=>[e(Ee,{id:"main-nav",style:{"margin-bottom":"50px"}},{default:l(()=>[Y((w(),A(Z,{clickable:"",active:r.$page.url.startsWith("/admin/dashboard"),onClick:c[3]||(c[3]=b=>t(K).get(r.route("admin.dashboard")))},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"dashboard"})]),_:1}),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>c[25]||(c[25]=[y("Dashboard")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]),e(lt),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(w(),A(it,{key:0,icon:"storefront",label:"Penjualan","default-opened":r.$page.url.startsWith("/admin/sales-orders")||r.$page.url.startsWith("/admin/customers")},{default:l(()=>[Y((w(),A(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/sales-orders"),onClick:c[4]||(c[4]=b=>t(K).get(r.route("admin.sales-order.index")))},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"shopping_cart"})]),_:1}),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>c[26]||(c[26]=[y("Penjualan")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]),Y((w(),A(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/customers"),onClick:c[5]||(c[5]=b=>t(K).get(r.route("admin.customer.index")))},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"people"})]),_:1}),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>c[27]||(c[27]=[y("Pelanggan")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]])]),_:1},8,["default-opened"])):j("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(w(),A(it,{key:1,icon:"local_shipping",label:"Pembelian","default-opened":r.$page.url.startsWith("/admin/purchase-orders")||r.$page.url.startsWith("/admin/suppliers")},{default:l(()=>[Y((w(),A(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/purchase-orders"),onClick:c[6]||(c[6]=b=>t(K).get(r.route("admin.purchase-order.index")))},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"shopping_cart"})]),_:1}),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>c[28]||(c[28]=[y("Pembelian")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]),Y((w(),A(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/suppliers"),onClick:c[7]||(c[7]=b=>t(K).get(r.route("admin.supplier.index")))},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"people"})]),_:1}),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>c[29]||(c[29]=[y("Pemasok")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]])]),_:1},8,["default-opened"])):j("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN||r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_CASHIER?(w(),A(it,{key:2,icon:"inventory_2",label:"Inventori","default-opened":r.$page.url.startsWith("/admin/products")||r.$page.url.startsWith("/admin/product-categories")||r.$page.url.startsWith("/admin/stock-adjustments")},{default:l(()=>[Y((w(),A(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/stock-adjustments"),onClick:c[8]||(c[8]=b=>t(K).get(r.route("admin.stock-adjustment.index")))},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"swap_vert"})]),_:1}),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>c[30]||(c[30]=[y("Penyesuaian Stok")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]),Y((w(),A(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/products"),onClick:c[9]||(c[9]=b=>t(K).get(r.route("admin.product.index")))},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"box"})]),_:1}),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>c[31]||(c[31]=[y("Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]),Y((w(),A(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/product-categories"),onClick:c[10]||(c[10]=b=>t(K).get(r.route("admin.product-category.index")))},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"category"})]),_:1}),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>c[32]||(c[32]=[y("Kategori Produk")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]])]),_:1},8,["default-opened"])):j("",!0),e(lt),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(w(),A(it,{key:3,icon:"wallet",label:"Wallet","default-opened":r.$page.url.startsWith("/admin/customer-wallet-transactions")||r.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations")},{default:l(()=>[Y((w(),A(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/customer-wallet-transaction-confirmations"),onClick:c[11]||(c[11]=b=>t(K).get(r.route("admin.customer-wallet-transaction-confirmation.index")))},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"add_task"})]),_:1}),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>c[33]||(c[33]=[y("Konfirmasi Top Up")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]),Y((w(),A(Z,{class:"subnav",clickable:"",active:r.$page.url=="/admin/customer-wallet-transactions",onClick:c[12]||(c[12]=b=>t(K).get(r.route("admin.customer-wallet-transaction.index")))},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"moving"})]),_:1}),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>c[34]||(c[34]=[y("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]])]),_:1},8,["default-opened"])):j("",!0),e(lt),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(w(),A(it,{key:4,icon:"finance",label:"Keuangan","default-opened":r.$page.url.startsWith("/admin/finance-accounts")||r.$page.url.startsWith("/admin/finance-transactions")},{default:l(()=>[Y((w(),A(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/finance-transactions"),onClick:c[13]||(c[13]=b=>t(K).get(r.route("admin.finance-transaction.index")))},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"moving"})]),_:1}),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>c[35]||(c[35]=[y("Transaksi")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]),Y((w(),A(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/finance-accounts"),onClick:c[14]||(c[14]=b=>t(K).get(r.route("admin.finance-account.index")))},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"groups_2"})]),_:1}),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>c[36]||(c[36]=[y("Akun Kas")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]])]),_:1},8,["default-opened"])):j("",!0),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?(w(),A(it,{key:5,icon:"paid",label:"Operasional","default-opened":r.$page.url.startsWith("/admin/operational-costs")||r.$page.url.startsWith("/admin/operational-cost-categories")},{default:l(()=>[Y((w(),A(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/operational-costs"),onClick:c[15]||(c[15]=b=>t(K).get(r.route("admin.operational-cost.index")))},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"request_quote"})]),_:1}),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>c[37]||(c[37]=[y("Biaya Operasional")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]),Y((w(),A(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/operational-cost-categories"),onClick:c[16]||(c[16]=b=>t(K).get(r.route("admin.operational-cost-category.index")))},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"category"})]),_:1}),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>c[38]||(c[38]=[y("Kategori")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]])]),_:1},8,["default-opened"])):j("",!0),e(lt),e(it,{icon:"settings",label:"Pengaturan","default-opened":r.$page.url.startsWith("/admin/settings")},{default:l(()=>[r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?Y((w(),A(Z,{key:0,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/users"),onClick:c[17]||(c[17]=b=>t(K).get(r.route("admin.user.index")))},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"group"})]),_:1}),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>c[39]||(c[39]=[y("Pengguna")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]):j("",!0),Y((w(),A(Z,{class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/profile"),onClick:c[18]||(c[18]=b=>t(K).get(r.route("admin.profile.edit")))},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"manage_accounts"})]),_:1}),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>c[40]||(c[40]=[y("Profil Saya")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]),r.$page.props.auth.user.role==r.$CONSTANTS.USER_ROLE_ADMIN?Y((w(),A(Z,{key:1,class:"subnav",clickable:"",active:r.$page.url.startsWith("/admin/settings/company-profile"),onClick:c[19]||(c[19]=b=>t(K).get(r.route("admin.company-profile.edit")))},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"apartment"})]),_:1}),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>c[41]||(c[41]=[y("Profil Perusahaan")])),_:1})]),_:1})]),_:1},8,["active"])),[[oe]]):j("",!0)]),_:1},8,["default-opened"]),e(lt),Y((w(),A(Z,{clickable:"",style:{color:"inherit"},href:r.route("customer.auth.logout")},{default:l(()=>[e(I,{avatar:""},{default:l(()=>[e(C,{name:"logout"})]),_:1}),e(I,null,{default:l(()=>[e(me,null,{default:l(()=>c[42]||(c[42]=[y("Logout")])),_:1})]),_:1})]),_:1},8,["href"])),[[ie],[oe]]),a("div",Vc,"  2025 - "+i(r.$config.APP_NAME+" v"+r.$config.APP_VERSION_STR),1)]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Wa,{class:"bg-grey-1"},{default:l(()=>[e(Ve,null,{default:l(()=>[ut(r.$slots,"default",{},void 0,!0)]),_:3})]),_:3}),ut(r.$slots,"footer",{},void 0,!0)]),_:3}))}},qc=ft(Cc,[["__scopeId","data-v-016f05cb"]]),Tc={__name:"GuestLayout",setup(d){return(n,f)=>(w(),A(Ga,null,{default:l(()=>[ut(n.$slots,"default")]),_:3}))}};Xa({layouts:{authenticated:qc,guest:Tc},pagesGlob:Object.assign({"./pages/About.vue":ko,"./pages/_examples/Autocomplete1.vue":xo,"./pages/auth/Login.vue":Oo,"./pages/company-profile/Edit.vue":Uo,"./pages/company-profile/partials/CompanyInfoForm.vue":Io,"./pages/customer-wallet-transaction-confirmation/Index.vue":Lo,"./pages/customer-wallet-transaction/Adjustment.vue":Ho,"./pages/customer-wallet-transaction/Editor.vue":Wo,"./pages/customer-wallet-transaction/Index.vue":ln,"./pages/customer/Detail.vue":On,"./pages/customer/Editor.vue":Nn,"./pages/customer/Index.vue":Bn,"./pages/dashboard/Index.vue":ns,"./pages/dashboard/cards/ChartCard.vue":ms,"./pages/dashboard/cards/SummaryCard.vue":ks,"./pages/dashboard/cards/TopCard.vue":xs,"./pages/finance-account/Detail.vue":Ns,"./pages/finance-account/Editor.vue":Bs,"./pages/finance-account/Index.vue":Xs,"./pages/finance-transaction/Editor.vue":lr,"./pages/finance-transaction/Index.vue":cr,"./pages/operational-cost-category/Editor.vue":br,"./pages/operational-cost-category/Index.vue":$r,"./pages/operational-cost/Detail.vue":Ir,"./pages/operational-cost/Editor.vue":Dr,"./pages/operational-cost/Index.vue":Qr,"./pages/product-category/Editor.vue":Xr,"./pages/product-category/Index.vue":ni,"./pages/product/Detail.vue":$i,"./pages/product/Editor.vue":qi,"./pages/product/Index.vue":Ai,"./pages/profile/Edit.vue":Hi,"./pages/profile/partials/UpdatePasswordForm.vue":Di,"./pages/profile/partials/UpdateProfileInformationForm.vue":ji,"./pages/purchase-order/Editor.vue":Vu,"./pages/purchase-order/Editor_v1.vue":Tu,"./pages/purchase-order/Index.vue":Au,"./pages/purchase-order/editor/ConfirmDeleteDialog.vue":bu,"./pages/purchase-order/editor/ItemsListTable.vue":ru,"./pages/purchase-order/editor/SupplierEditorDialog.vue":vu,"./pages/purchase-order/editor/TransactionHeader.vue":lu,"./pages/purchase-order/editor/TransactionSummary.vue":fu,"./pages/sales-order/Detail.vue":Bu,"./pages/sales-order/Editor.vue":Bd,"./pages/sales-order/Index.vue":Gd,"./pages/sales-order/editor/HelpDialog.vue":md,"./pages/sales-order/editor/ItemEditorDialog.vue":rd,"./pages/sales-order/editor/ItemsListTable.vue":Yu,"./pages/sales-order/editor/OrderInfoDialog.vue":bd,"./pages/sales-order/editor/PaymentDialog.vue":ed,"./pages/stock-adjustment/Create.vue":sm,"./pages/stock-adjustment/Detail.vue":bm,"./pages/stock-adjustment/Editor.vue":$m,"./pages/stock-adjustment/Index.vue":Em,"./pages/supplier/Detail.vue":jm,"./pages/supplier/Editor.vue":Hm,"./pages/supplier/Index.vue":Gm,"./pages/user/Detail.vue":sc,"./pages/user/Editor.vue":cc,"./pages/user/Index.vue":yc})});
